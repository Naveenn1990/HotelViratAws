(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xg={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA;function oF(){if(hA)return iu;hA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:e,type:a,key:l,ref:i!==void 0?i:null,props:s}}return iu.Fragment=t,iu.jsx=r,iu.jsxs=r,iu}var fA;function lF(){return fA||(fA=1,Xg.exports=oF()),Xg.exports}var n=lF(),Qg={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA;function cF(){if(pA)return qt;pA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,b={};function y(U,Y,z){this.props=U,this.context=Y,this.refs=b,this.updater=z||v}y.prototype.isReactComponent={},y.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},y.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function T(){}T.prototype=y.prototype;function E(U,Y,z){this.props=U,this.context=Y,this.refs=b,this.updater=z||v}var C=E.prototype=new T;C.constructor=E,j(C,y.prototype),C.isPureReactComponent=!0;var S=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function D(U,Y,z,ee,q,Q){return z=Q.ref,{$$typeof:e,type:U,key:Y,ref:z!==void 0?z:null,props:Q}}function B(U,Y){return D(U.type,Y,void 0,void 0,void 0,U.props)}function F(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function M(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(z){return Y[z]})}var L=/\/+/g;function O(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):Y.toString(36)}function W(){}function P(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(W,W):(U.status="pending",U.then(function(Y){U.status==="pending"&&(U.status="fulfilled",U.value=Y)},function(Y){U.status==="pending"&&(U.status="rejected",U.reason=Y)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function I(U,Y,z,ee,q){var Q=typeof U;(Q==="undefined"||Q==="boolean")&&(U=null);var ae=!1;if(U===null)ae=!0;else switch(Q){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(U.$$typeof){case e:case t:ae=!0;break;case p:return ae=U._init,I(ae(U._payload),Y,z,ee,q)}}if(ae)return q=q(U),ae=ee===""?"."+O(U,0):ee,S(q)?(z="",ae!=null&&(z=ae.replace(L,"$&/")+"/"),I(q,Y,z,"",function(Z){return Z})):q!=null&&(F(q)&&(q=B(q,z+(q.key==null||U&&U.key===q.key?"":(""+q.key).replace(L,"$&/")+"/")+ae)),Y.push(q)),1;ae=0;var de=ee===""?".":ee+":";if(S(U))for(var xe=0;xe<U.length;xe++)ee=U[xe],Q=de+O(ee,xe),ae+=I(ee,Y,z,Q,q);else if(xe=g(U),typeof xe=="function")for(U=xe.call(U),xe=0;!(ee=U.next()).done;)ee=ee.value,Q=de+O(ee,xe++),ae+=I(ee,Y,z,Q,q);else if(Q==="object"){if(typeof U.then=="function")return I(P(U),Y,z,ee,q);throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ae}function R(U,Y,z){if(U==null)return U;var ee=[],q=0;return I(U,ee,"","",function(Q){return Y.call(z,Q,q++)}),ee}function H(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(z){(U._status===0||U._status===-1)&&(U._status=1,U._result=z)},function(z){(U._status===0||U._status===-1)&&(U._status=2,U._result=z)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var V=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function he(){}return qt.Children={map:R,forEach:function(U,Y,z){R(U,function(){Y.apply(this,arguments)},z)},count:function(U){var Y=0;return R(U,function(){Y++}),Y},toArray:function(U){return R(U,function(Y){return Y})||[]},only:function(U){if(!F(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},qt.Component=y,qt.Fragment=r,qt.Profiler=i,qt.PureComponent=E,qt.StrictMode=a,qt.Suspense=u,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,qt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return A.H.useMemoCache(U)}},qt.cache=function(U){return function(){return U.apply(null,arguments)}},qt.cloneElement=function(U,Y,z){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ee=j({},U.props),q=U.key,Q=void 0;if(Y!=null)for(ae in Y.ref!==void 0&&(Q=void 0),Y.key!==void 0&&(q=""+Y.key),Y)!k.call(Y,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Y.ref===void 0||(ee[ae]=Y[ae]);var ae=arguments.length-2;if(ae===1)ee.children=z;else if(1<ae){for(var de=Array(ae),xe=0;xe<ae;xe++)de[xe]=arguments[xe+2];ee.children=de}return D(U.type,q,void 0,void 0,Q,ee)},qt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:s,_context:U},U},qt.createElement=function(U,Y,z){var ee,q={},Q=null;if(Y!=null)for(ee in Y.key!==void 0&&(Q=""+Y.key),Y)k.call(Y,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(q[ee]=Y[ee]);var ae=arguments.length-2;if(ae===1)q.children=z;else if(1<ae){for(var de=Array(ae),xe=0;xe<ae;xe++)de[xe]=arguments[xe+2];q.children=de}if(U&&U.defaultProps)for(ee in ae=U.defaultProps,ae)q[ee]===void 0&&(q[ee]=ae[ee]);return D(U,Q,void 0,void 0,null,q)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(U){return{$$typeof:d,render:U}},qt.isValidElement=F,qt.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:H}},qt.memo=function(U,Y){return{$$typeof:h,type:U,compare:Y===void 0?null:Y}},qt.startTransition=function(U){var Y=A.T,z={};A.T=z;try{var ee=U(),q=A.S;q!==null&&q(z,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(he,V)}catch(Q){V(Q)}finally{A.T=Y}},qt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},qt.use=function(U){return A.H.use(U)},qt.useActionState=function(U,Y,z){return A.H.useActionState(U,Y,z)},qt.useCallback=function(U,Y){return A.H.useCallback(U,Y)},qt.useContext=function(U){return A.H.useContext(U)},qt.useDebugValue=function(){},qt.useDeferredValue=function(U,Y){return A.H.useDeferredValue(U,Y)},qt.useEffect=function(U,Y,z){var ee=A.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(U,Y)},qt.useId=function(){return A.H.useId()},qt.useImperativeHandle=function(U,Y,z){return A.H.useImperativeHandle(U,Y,z)},qt.useInsertionEffect=function(U,Y){return A.H.useInsertionEffect(U,Y)},qt.useLayoutEffect=function(U,Y){return A.H.useLayoutEffect(U,Y)},qt.useMemo=function(U,Y){return A.H.useMemo(U,Y)},qt.useOptimistic=function(U,Y){return A.H.useOptimistic(U,Y)},qt.useReducer=function(U,Y,z){return A.H.useReducer(U,Y,z)},qt.useRef=function(U){return A.H.useRef(U)},qt.useState=function(U){return A.H.useState(U)},qt.useSyncExternalStore=function(U,Y,z){return A.H.useSyncExternalStore(U,Y,z)},qt.useTransition=function(){return A.H.useTransition()},qt.version="19.1.0",qt}var mA;function Z2(){return mA||(mA=1,Qg.exports=cF()),Qg.exports}var N=Z2();const ke=Cr(N);var Zg={exports:{}},su={},Jg={exports:{}},ey={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA;function dF(){return xA||(xA=1,function(e){function t(R,H){var V=R.length;R.push(H);e:for(;0<V;){var he=V-1>>>1,U=R[he];if(0<i(U,H))R[he]=H,R[V]=U,V=he;else break e}}function r(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var H=R[0],V=R.pop();if(V!==H){R[0]=V;e:for(var he=0,U=R.length,Y=U>>>1;he<Y;){var z=2*(he+1)-1,ee=R[z],q=z+1,Q=R[q];if(0>i(ee,V))q<U&&0>i(Q,ee)?(R[he]=Q,R[q]=V,he=q):(R[he]=ee,R[z]=V,he=z);else if(q<U&&0>i(Q,V))R[he]=Q,R[q]=V,he=q;else break e}}return H}function i(R,H){var V=R.sortIndex-H.sortIndex;return V!==0?V:R.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var u=[],h=[],p=1,m=null,g=3,v=!1,j=!1,b=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function S(R){for(var H=r(h);H!==null;){if(H.callback===null)a(h);else if(H.startTime<=R)a(h),H.sortIndex=H.expirationTime,t(u,H);else break;H=r(h)}}function A(R){if(b=!1,S(R),!j)if(r(u)!==null)j=!0,k||(k=!0,O());else{var H=r(h);H!==null&&I(A,H.startTime-R)}}var k=!1,D=-1,B=5,F=-1;function M(){return y?!0:!(e.unstable_now()-F<B)}function L(){if(y=!1,k){var R=e.unstable_now();F=R;var H=!0;try{e:{j=!1,b&&(b=!1,E(D),D=-1),v=!0;var V=g;try{t:{for(S(R),m=r(u);m!==null&&!(m.expirationTime>R&&M());){var he=m.callback;if(typeof he=="function"){m.callback=null,g=m.priorityLevel;var U=he(m.expirationTime<=R);if(R=e.unstable_now(),typeof U=="function"){m.callback=U,S(R),H=!0;break t}m===r(u)&&a(u),S(R)}else a(u);m=r(u)}if(m!==null)H=!0;else{var Y=r(h);Y!==null&&I(A,Y.startTime-R),H=!1}}break e}finally{m=null,g=V,v=!1}H=void 0}}finally{H?O():k=!1}}}var O;if(typeof C=="function")O=function(){C(L)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,P=W.port2;W.port1.onmessage=L,O=function(){P.postMessage(null)}}else O=function(){T(L,0)};function I(R,H){D=T(function(){R(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var V=g;g=H;try{return R()}finally{g=V}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=g;g=R;try{return H()}finally{g=V}},e.unstable_scheduleCallback=function(R,H,V){var he=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?he+V:he):V=he,R){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=V+U,R={id:p++,callback:H,priorityLevel:R,startTime:V,expirationTime:U,sortIndex:-1},V>he?(R.sortIndex=V,t(h,R),r(u)===null&&R===r(h)&&(b?(E(D),D=-1):b=!0,I(A,V-he))):(R.sortIndex=U,t(u,R),j||v||(j=!0,k||(k=!0,O()))),R},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(R){var H=g;return function(){var V=g;g=H;try{return R.apply(this,arguments)}finally{g=V}}}}(ey)),ey}var gA;function uF(){return gA||(gA=1,Jg.exports=dF()),Jg.exports}var ty={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yA;function hF(){if(yA)return Fn;yA=1;var e=Z2();function t(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fn.createPortal=function(u,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(u,h,null,p)},Fn.flushSync=function(u){var h=l.T,p=a.p;try{if(l.T=null,a.p=2,u)return u()}finally{l.T=h,a.p=p,a.d.f()}},Fn.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(u,h))},Fn.prefetchDNS=function(u){typeof u=="string"&&a.d.D(u)},Fn.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var p=h.as,m=d(p,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?a.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:v}):p==="script"&&a.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Fn.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);a.d.M(u,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(u)},Fn.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=d(p,h.crossOrigin);a.d.L(u,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Fn.preloadModule=function(u,h){if(typeof u=="string")if(h){var p=d(h.as,h.crossOrigin);a.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(u)},Fn.requestFormReset=function(u){a.d.r(u)},Fn.unstable_batchedUpdates=function(u,h){return u(h)},Fn.useFormState=function(u,h,p){return l.H.useFormState(u,h,p)},Fn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Fn.version="19.1.0",Fn}var vA;function fF(){if(vA)return ty.exports;vA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ty.exports=hF(),ty.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA;function pF(){if(bA)return su;bA=1;var e=uF(),t=Z2(),r=fF();function a(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(s(o)!==o)throw Error(a(188))}function u(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(a(188));return c!==o?null:o}for(var f=o,x=c;;){var w=f.return;if(w===null)break;var _=w.alternate;if(_===null){if(x=w.return,x!==null){f=x;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===f)return d(w),o;if(_===x)return d(w),c;_=_.sibling}throw Error(a(188))}if(f.return!==x.return)f=w,x=_;else{for(var K=!1,se=w.child;se;){if(se===f){K=!0,f=w,x=_;break}if(se===x){K=!0,x=w,f=_;break}se=se.sibling}if(!K){for(se=_.child;se;){if(se===f){K=!0,f=_,x=w;break}if(se===x){K=!0,x=_,f=w;break}se=se.sibling}if(!K)throw Error(a(189))}}if(f.alternate!==x)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function O(o){return o===null||typeof o!="object"?null:(o=L&&o[L]||o["@@iterator"],typeof o=="function"?o:null)}var W=Symbol.for("react.client.reference");function P(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===W?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case y:return"Profiler";case b:return"StrictMode";case A:return"Suspense";case k:return"SuspenseList";case F:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case C:return(o.displayName||"Context")+".Provider";case E:return(o._context.displayName||"Context")+".Consumer";case S:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return c=o.displayName||null,c!==null?c:P(o.type)||"Memo";case B:c=o._payload,o=o._init;try{return P(o(c))}catch{}}return null}var I=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},he=[],U=-1;function Y(o){return{current:o}}function z(o){0>U||(o.current=he[U],he[U]=null,U--)}function ee(o,c){U++,he[U]=o.current,o.current=c}var q=Y(null),Q=Y(null),ae=Y(null),de=Y(null);function xe(o,c){switch(ee(ae,c),ee(Q,o),ee(q,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?$C(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=$C(c),o=zC(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}z(q),ee(q,o)}function Z(){z(q),z(Q),z(ae)}function ge(o){o.memoizedState!==null&&ee(de,o);var c=q.current,f=zC(c,o.type);c!==f&&(ee(Q,o),ee(q,f))}function je(o){Q.current===o&&(z(q),z(Q)),de.current===o&&(z(de),eu._currentValue=V)}var pe=Object.prototype.hasOwnProperty,Je=e.unstable_scheduleCallback,Ee=e.unstable_cancelCallback,Ve=e.unstable_shouldYield,le=e.unstable_requestPaint,Ce=e.unstable_now,Qe=e.unstable_getCurrentPriorityLevel,re=e.unstable_ImmediatePriority,ce=e.unstable_UserBlockingPriority,J=e.unstable_NormalPriority,oe=e.unstable_LowPriority,te=e.unstable_IdlePriority,Se=e.log,Ge=e.unstable_setDisableYieldValue,Xe=null,Ue=null;function dt(o){if(typeof Se=="function"&&Ge(o),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Xe,o)}catch{}}var _e=Math.clz32?Math.clz32:zt,rt=Math.log,Ot=Math.LN2;function zt(o){return o>>>=0,o===0?32:31-(rt(o)/Ot|0)|0}var Rt=256,Bt=4194304;function ne(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function $e(o,c,f){var x=o.pendingLanes;if(x===0)return 0;var w=0,_=o.suspendedLanes,K=o.pingedLanes;o=o.warmLanes;var se=x&134217727;return se!==0?(x=se&~_,x!==0?w=ne(x):(K&=se,K!==0?w=ne(K):f||(f=se&~o,f!==0&&(w=ne(f))))):(se=x&~_,se!==0?w=ne(se):K!==0?w=ne(K):f||(f=x&~o,f!==0&&(w=ne(f)))),w===0?0:c!==0&&c!==w&&(c&_)===0&&(_=w&-w,f=c&-c,_>=f||_===32&&(f&4194048)!==0)?c:w}function Ye(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Et(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function me(){var o=Rt;return Rt<<=1,(Rt&4194048)===0&&(Rt=256),o}function Oe(){var o=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),o}function Pe(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function st(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ft(o,c,f,x,w,_){var K=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var se=o.entanglements,we=o.expirationTimes,Le=o.hiddenUpdates;for(f=K&~f;0<f;){var at=31-_e(f),ot=1<<at;se[at]=0,we[at]=-1;var ze=Le[at];if(ze!==null)for(Le[at]=null,at=0;at<ze.length;at++){var We=ze[at];We!==null&&(We.lane&=-536870913)}f&=~ot}x!==0&&vt(o,x,0),_!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=_&~(K&~c))}function vt(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var x=31-_e(c);o.entangledLanes|=c,o.entanglements[x]=o.entanglements[x]|1073741824|f&4194090}function St(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var x=31-_e(f),w=1<<x;w&c|o[x]&c&&(o[x]|=c),f&=~w}}function nt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function yt(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ht(){var o=H.p;return o!==0?o:(o=window.event,o===void 0?32:sA(o.type))}function bt(o,c){var f=H.p;try{return H.p=o,c()}finally{H.p=f}}var Ft=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Ft,ve="__reactProps$"+Ft,Te="__reactContainer$"+Ft,Ne="__reactEvents$"+Ft,He="__reactListeners$"+Ft,G="__reactHandles$"+Ft,ie="__reactResources$"+Ft,X="__reactMarker$"+Ft;function ue(o){delete o[Lt],delete o[ve],delete o[Ne],delete o[He],delete o[G]}function fe(o){var c=o[Lt];if(c)return c;for(var f=o.parentNode;f;){if(c=f[Te]||f[Lt]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=HC(o);o!==null;){if(f=o[Lt])return f;o=HC(o)}return c}o=f,f=o.parentNode}return null}function ye(o){if(o=o[Lt]||o[Te]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Ie(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(a(33))}function qe(o){var c=o[ie];return c||(c=o[ie]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function De(o){o[X]=!0}var Me=new Set,Fe={};function be(o,c){et(o,c),et(o+"Capture",c)}function et(o,c){for(Fe[o]=c,o=0;o<c.length;o++)Me.add(c[o])}var ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},mt={};function Tt(o){return pe.call(mt,o)?!0:pe.call(lt,o)?!1:ut.test(o)?mt[o]=!0:(lt[o]=!0,!1)}function Zt(o,c,f){if(Tt(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function Vt(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function er(o,c,f,x){if(x===null)o.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+x)}}var Vn,na;function pn(o){if(Vn===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);Vn=c&&c[1]||"",na=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+o+na}var Gr=!1;function Xr(o,c){if(!o||Gr)return"";Gr=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(We){var ze=We}Reflect.construct(o,[],ot)}else{try{ot.call()}catch(We){ze=We}o.call(ot.prototype)}}else{try{throw Error()}catch(We){ze=We}(ot=o())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(We){if(We&&ze&&typeof We.stack=="string")return[We.stack,ze.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=x.DetermineComponentFrameRoot(),K=_[0],se=_[1];if(K&&se){var we=K.split(`
`),Le=se.split(`
`);for(w=x=0;x<we.length&&!we[x].includes("DetermineComponentFrameRoot");)x++;for(;w<Le.length&&!Le[w].includes("DetermineComponentFrameRoot");)w++;if(x===we.length||w===Le.length)for(x=we.length-1,w=Le.length-1;1<=x&&0<=w&&we[x]!==Le[w];)w--;for(;1<=x&&0<=w;x--,w--)if(we[x]!==Le[w]){if(x!==1||w!==1)do if(x--,w--,0>w||we[x]!==Le[w]){var at=`
`+we[x].replace(" at new "," at ");return o.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",o.displayName)),at}while(1<=x&&0<=w);break}}}finally{Gr=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?pn(f):""}function Ar(o){switch(o.tag){case 26:case 27:case 5:return pn(o.type);case 16:return pn("Lazy");case 13:return pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return Xr(o.type,!1);case 11:return Xr(o.type.render,!1);case 1:return Xr(o.type,!0);case 31:return pn("Activity");default:return""}}function Mn(o){try{var c="";do c+=Ar(o),o=o.return;while(o);return c}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function ar(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function sn(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Rr(o){var c=sn(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,_=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(K){x=""+K,_.call(this,K)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return x},setValue:function(K){x=""+K},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Pr(o){o._valueTracker||(o._valueTracker=Rr(o))}function Os(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),x="";return o&&(x=sn(o)?o.checked?"true":"false":o.value),o=x,o!==f?(c.setValue(o),!0):!1}function on(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var nM=/[\n"\\]/g;function Ra(o){return o.replace(nM,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function V0(o,c,f,x,w,_,K,se){o.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?o.type=K:o.removeAttribute("type"),c!=null?K==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ar(c)):o.value!==""+ar(c)&&(o.value=""+ar(c)):K!=="submit"&&K!=="reset"||o.removeAttribute("value"),c!=null?Y0(o,K,ar(c)):f!=null?Y0(o,K,ar(f)):x!=null&&o.removeAttribute("value"),w==null&&_!=null&&(o.defaultChecked=!!_),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?o.name=""+ar(se):o.removeAttribute("name")}function BS(o,c,f,x,w,_,K,se){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),c!=null||f!=null){if(!(_!=="submit"&&_!=="reset"||c!=null))return;f=f!=null?""+ar(f):"",c=c!=null?""+ar(c):f,se||c===o.value||(o.value=c),o.defaultValue=c}x=x??w,x=typeof x!="function"&&typeof x!="symbol"&&!!x,o.checked=se?o.checked:!!x,o.defaultChecked=!!x,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(o.name=K)}function Y0(o,c,f){c==="number"&&on(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function vl(o,c,f,x){if(o=o.options,c){c={};for(var w=0;w<f.length;w++)c["$"+f[w]]=!0;for(f=0;f<o.length;f++)w=c.hasOwnProperty("$"+o[f].value),o[f].selected!==w&&(o[f].selected=w),w&&x&&(o[f].defaultSelected=!0)}else{for(f=""+ar(f),c=null,w=0;w<o.length;w++){if(o[w].value===f){o[w].selected=!0,x&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function FS(o,c,f){if(c!=null&&(c=""+ar(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+ar(f):""}function LS(o,c,f,x){if(c==null){if(x!=null){if(f!=null)throw Error(a(92));if(I(x)){if(1<x.length)throw Error(a(93));x=x[0]}f=x}f==null&&(f=""),c=f}f=ar(c),o.defaultValue=f,x=o.textContent,x===f&&x!==""&&x!==null&&(o.value=x)}function bl(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var aM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $S(o,c,f){var x=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?x?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":x?o.setProperty(c,f):typeof f!="number"||f===0||aM.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function zS(o,c,f){if(c!=null&&typeof c!="object")throw Error(a(62));if(o=o.style,f!=null){for(var x in f)!f.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?o.setProperty(x,""):x==="float"?o.cssFloat="":o[x]="");for(var w in c)x=c[w],c.hasOwnProperty(w)&&f[w]!==x&&$S(o,w,x)}else for(var _ in c)c.hasOwnProperty(_)&&$S(o,_,c[_])}function K0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qh(o){return sM.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var X0=null;function Q0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var jl=null,wl=null;function US(o){var c=ye(o);if(c&&(o=c.stateNode)){var f=o[ve]||null;e:switch(o=c.stateNode,c.type){case"input":if(V0(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ra(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var x=f[c];if(x!==o&&x.form===o.form){var w=x[ve]||null;if(!w)throw Error(a(90));V0(x,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<f.length;c++)x=f[c],x.form===o.form&&Os(x)}break e;case"textarea":FS(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&vl(o,!!f.multiple,c,!1)}}}var Z0=!1;function qS(o,c,f){if(Z0)return o(c,f);Z0=!0;try{var x=o(c);return x}finally{if(Z0=!1,(jl!==null||wl!==null)&&(Bf(),jl&&(c=jl,o=wl,wl=jl=null,US(c),o)))for(c=0;c<o.length;c++)US(o[c])}}function fd(o,c){var f=o.stateNode;if(f===null)return null;var x=f[ve]||null;if(x===null)return null;f=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(a(231,c,typeof f));return f}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J0=!1;if(Ui)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){J0=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{J0=!1}var _s=null,ex=null,Zh=null;function WS(){if(Zh)return Zh;var o,c=ex,f=c.length,x,w="value"in _s?_s.value:_s.textContent,_=w.length;for(o=0;o<f&&c[o]===w[o];o++);var K=f-o;for(x=1;x<=K&&c[f-x]===w[_-x];x++);return Zh=w.slice(o,1<x?1-x:void 0)}function Jh(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function ef(){return!0}function HS(){return!1}function aa(o){function c(f,x,w,_,K){this._reactName=f,this._targetInst=w,this.type=x,this.nativeEvent=_,this.target=K,this.currentTarget=null;for(var se in o)o.hasOwnProperty(se)&&(f=o[se],this[se]=f?f(_):_[se]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ef:HS,this.isPropagationStopped=HS,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ef)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ef)},persist:function(){},isPersistent:ef}),c}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tf=aa(vo),md=p({},vo,{view:0,detail:0}),oM=aa(md),tx,rx,xd,rf=p({},md,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ax,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==xd&&(xd&&o.type==="mousemove"?(tx=o.screenX-xd.screenX,rx=o.screenY-xd.screenY):rx=tx=0,xd=o),tx)},movementY:function(o){return"movementY"in o?o.movementY:rx}}),GS=aa(rf),lM=p({},rf,{dataTransfer:0}),cM=aa(lM),dM=p({},md,{relatedTarget:0}),nx=aa(dM),uM=p({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),hM=aa(uM),fM=p({},vo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),pM=aa(fM),mM=p({},vo,{data:0}),VS=aa(mM),xM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vM(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=yM[o])?!!c[o]:!1}function ax(){return vM}var bM=p({},md,{key:function(o){if(o.key){var c=xM[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Jh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?gM[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ax,charCode:function(o){return o.type==="keypress"?Jh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Jh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),jM=aa(bM),wM=p({},rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YS=aa(wM),SM=p({},md,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ax}),NM=aa(SM),TM=p({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),CM=aa(TM),AM=p({},rf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),EM=aa(AM),OM=p({},vo,{newState:0,oldState:0}),_M=aa(OM),kM=[9,13,27,32],ix=Ui&&"CompositionEvent"in window,gd=null;Ui&&"documentMode"in document&&(gd=document.documentMode);var IM=Ui&&"TextEvent"in window&&!gd,KS=Ui&&(!ix||gd&&8<gd&&11>=gd),XS=" ",QS=!1;function ZS(o,c){switch(o){case"keyup":return kM.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Sl=!1;function DM(o,c){switch(o){case"compositionend":return JS(c);case"keypress":return c.which!==32?null:(QS=!0,XS);case"textInput":return o=c.data,o===XS&&QS?null:o;default:return null}}function RM(o,c){if(Sl)return o==="compositionend"||!ix&&ZS(o,c)?(o=WS(),Zh=ex=_s=null,Sl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return KS&&c.locale!=="ko"?null:c.data;default:return null}}var PM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eN(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!PM[o.type]:c==="textarea"}function tN(o,c,f,x){jl?wl?wl.push(x):wl=[x]:jl=x,c=qf(c,"onChange"),0<c.length&&(f=new tf("onChange","change",null,f,x),o.push({event:f,listeners:c}))}var yd=null,vd=null;function MM(o){PC(o,0)}function nf(o){var c=Ie(o);if(Os(c))return o}function rN(o,c){if(o==="change")return c}var nN=!1;if(Ui){var sx;if(Ui){var ox="oninput"in document;if(!ox){var aN=document.createElement("div");aN.setAttribute("oninput","return;"),ox=typeof aN.oninput=="function"}sx=ox}else sx=!1;nN=sx&&(!document.documentMode||9<document.documentMode)}function iN(){yd&&(yd.detachEvent("onpropertychange",sN),vd=yd=null)}function sN(o){if(o.propertyName==="value"&&nf(vd)){var c=[];tN(c,vd,o,Q0(o)),qS(MM,c)}}function BM(o,c,f){o==="focusin"?(iN(),yd=c,vd=f,yd.attachEvent("onpropertychange",sN)):o==="focusout"&&iN()}function FM(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return nf(vd)}function LM(o,c){if(o==="click")return nf(c)}function $M(o,c){if(o==="input"||o==="change")return nf(c)}function zM(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ga=typeof Object.is=="function"?Object.is:zM;function bd(o,c){if(ga(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),x=Object.keys(c);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var w=f[x];if(!pe.call(c,w)||!ga(o[w],c[w]))return!1}return!0}function oN(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function lN(o,c){var f=oN(o);o=0;for(var x;f;){if(f.nodeType===3){if(x=o+f.textContent.length,o<=c&&x>=c)return{node:f,offset:c-o};o=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=oN(f)}}function cN(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?cN(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function dN(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=on(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=on(o.document)}return c}function lx(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var UM=Ui&&"documentMode"in document&&11>=document.documentMode,Nl=null,cx=null,jd=null,dx=!1;function uN(o,c,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;dx||Nl==null||Nl!==on(x)||(x=Nl,"selectionStart"in x&&lx(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),jd&&bd(jd,x)||(jd=x,x=qf(cx,"onSelect"),0<x.length&&(c=new tf("onSelect","select",null,c,f),o.push({event:c,listeners:x}),c.target=Nl)))}function bo(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var Tl={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionrun:bo("Transition","TransitionRun"),transitionstart:bo("Transition","TransitionStart"),transitioncancel:bo("Transition","TransitionCancel"),transitionend:bo("Transition","TransitionEnd")},ux={},hN={};Ui&&(hN=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function jo(o){if(ux[o])return ux[o];if(!Tl[o])return o;var c=Tl[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in hN)return ux[o]=c[f];return o}var fN=jo("animationend"),pN=jo("animationiteration"),mN=jo("animationstart"),qM=jo("transitionrun"),WM=jo("transitionstart"),HM=jo("transitioncancel"),xN=jo("transitionend"),gN=new Map,hx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hx.push("scrollEnd");function ri(o,c){gN.set(o,c),be(c,[o])}var yN=new WeakMap;function Pa(o,c){if(typeof o=="object"&&o!==null){var f=yN.get(o);return f!==void 0?f:(c={value:o,source:c,stack:Mn(c)},yN.set(o,c),c)}return{value:o,source:c,stack:Mn(c)}}var Ma=[],Cl=0,fx=0;function af(){for(var o=Cl,c=fx=Cl=0;c<o;){var f=Ma[c];Ma[c++]=null;var x=Ma[c];Ma[c++]=null;var w=Ma[c];Ma[c++]=null;var _=Ma[c];if(Ma[c++]=null,x!==null&&w!==null){var K=x.pending;K===null?w.next=w:(w.next=K.next,K.next=w),x.pending=w}_!==0&&vN(f,w,_)}}function sf(o,c,f,x){Ma[Cl++]=o,Ma[Cl++]=c,Ma[Cl++]=f,Ma[Cl++]=x,fx|=x,o.lanes|=x,o=o.alternate,o!==null&&(o.lanes|=x)}function px(o,c,f,x){return sf(o,c,f,x),of(o)}function Al(o,c){return sf(o,null,null,c),of(o)}function vN(o,c,f){o.lanes|=f;var x=o.alternate;x!==null&&(x.lanes|=f);for(var w=!1,_=o.return;_!==null;)_.childLanes|=f,x=_.alternate,x!==null&&(x.childLanes|=f),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(w=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,w&&c!==null&&(w=31-_e(f),o=_.hiddenUpdates,x=o[w],x===null?o[w]=[c]:x.push(c),c.lane=f|536870912),_):null}function of(o){if(50<Gd)throw Gd=0,bg=null,Error(a(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var El={};function GM(o,c,f,x){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ya(o,c,f,x){return new GM(o,c,f,x)}function mx(o){return o=o.prototype,!(!o||!o.isReactComponent)}function qi(o,c){var f=o.alternate;return f===null?(f=ya(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function bN(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function lf(o,c,f,x,w,_){var K=0;if(x=o,typeof o=="function")mx(o)&&(K=1);else if(typeof o=="string")K=YB(o,f,q.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case F:return o=ya(31,f,c,w),o.elementType=F,o.lanes=_,o;case j:return wo(f.children,w,_,c);case b:K=8,w|=24;break;case y:return o=ya(12,f,c,w|2),o.elementType=y,o.lanes=_,o;case A:return o=ya(13,f,c,w),o.elementType=A,o.lanes=_,o;case k:return o=ya(19,f,c,w),o.elementType=k,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:case C:K=10;break e;case E:K=9;break e;case S:K=11;break e;case D:K=14;break e;case B:K=16,x=null;break e}K=29,f=Error(a(130,o===null?"null":typeof o,"")),x=null}return c=ya(K,f,c,w),c.elementType=o,c.type=x,c.lanes=_,c}function wo(o,c,f,x){return o=ya(7,o,x,c),o.lanes=f,o}function xx(o,c,f){return o=ya(6,o,null,c),o.lanes=f,o}function gx(o,c,f){return c=ya(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Ol=[],_l=0,cf=null,df=0,Ba=[],Fa=0,So=null,Wi=1,Hi="";function No(o,c){Ol[_l++]=df,Ol[_l++]=cf,cf=o,df=c}function jN(o,c,f){Ba[Fa++]=Wi,Ba[Fa++]=Hi,Ba[Fa++]=So,So=o;var x=Wi;o=Hi;var w=32-_e(x)-1;x&=~(1<<w),f+=1;var _=32-_e(c)+w;if(30<_){var K=w-w%5;_=(x&(1<<K)-1).toString(32),x>>=K,w-=K,Wi=1<<32-_e(c)+w|f<<w|x,Hi=_+o}else Wi=1<<_|f<<w|x,Hi=o}function yx(o){o.return!==null&&(No(o,1),jN(o,1,0))}function vx(o){for(;o===cf;)cf=Ol[--_l],Ol[_l]=null,df=Ol[--_l],Ol[_l]=null;for(;o===So;)So=Ba[--Fa],Ba[Fa]=null,Hi=Ba[--Fa],Ba[Fa]=null,Wi=Ba[--Fa],Ba[Fa]=null}var Yn=null,zr=null,dr=!1,To=null,Ni=!1,bx=Error(a(519));function Co(o){var c=Error(a(418,""));throw Nd(Pa(c,o)),bx}function wN(o){var c=o.stateNode,f=o.type,x=o.memoizedProps;switch(c[Lt]=o,c[ve]=x,f){case"dialog":Xt("cancel",c),Xt("close",c);break;case"iframe":case"object":case"embed":Xt("load",c);break;case"video":case"audio":for(f=0;f<Yd.length;f++)Xt(Yd[f],c);break;case"source":Xt("error",c);break;case"img":case"image":case"link":Xt("error",c),Xt("load",c);break;case"details":Xt("toggle",c);break;case"input":Xt("invalid",c),BS(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),Pr(c);break;case"select":Xt("invalid",c);break;case"textarea":Xt("invalid",c),LS(c,x.value,x.defaultValue,x.children),Pr(c)}f=x.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||x.suppressHydrationWarning===!0||LC(c.textContent,f)?(x.popover!=null&&(Xt("beforetoggle",c),Xt("toggle",c)),x.onScroll!=null&&Xt("scroll",c),x.onScrollEnd!=null&&Xt("scrollend",c),x.onClick!=null&&(c.onclick=Wf),c=!0):c=!1,c||Co(o)}function SN(o){for(Yn=o.return;Yn;)switch(Yn.tag){case 5:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:Yn=Yn.return}}function wd(o){if(o!==Yn)return!1;if(!dr)return SN(o),dr=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Mg(o.type,o.memoizedProps)),f=!f),f&&zr&&Co(o),SN(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(c===0){zr=ai(o.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++;o=o.nextSibling}zr=null}}else c===27?(c=zr,Gs(o.type)?(o=$g,$g=null,zr=o):zr=c):zr=Yn?ai(o.stateNode.nextSibling):null;return!0}function Sd(){zr=Yn=null,dr=!1}function NN(){var o=To;return o!==null&&(oa===null?oa=o:oa.push.apply(oa,o),To=null),o}function Nd(o){To===null?To=[o]:To.push(o)}var jx=Y(null),Ao=null,Gi=null;function ks(o,c,f){ee(jx,c._currentValue),c._currentValue=f}function Vi(o){o._currentValue=jx.current,z(jx)}function wx(o,c,f){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===f)break;o=o.return}}function Sx(o,c,f,x){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var _=w.dependencies;if(_!==null){var K=w.child;_=_.firstContext;e:for(;_!==null;){var se=_;_=w;for(var we=0;we<c.length;we++)if(se.context===c[we]){_.lanes|=f,se=_.alternate,se!==null&&(se.lanes|=f),wx(_.return,f,o),x||(K=null);break e}_=se.next}}else if(w.tag===18){if(K=w.return,K===null)throw Error(a(341));K.lanes|=f,_=K.alternate,_!==null&&(_.lanes|=f),wx(K,f,o),K=null}else K=w.child;if(K!==null)K.return=w;else for(K=w;K!==null;){if(K===o){K=null;break}if(w=K.sibling,w!==null){w.return=K.return,K=w;break}K=K.return}w=K}}function Td(o,c,f,x){o=null;for(var w=c,_=!1;w!==null;){if(!_){if((w.flags&524288)!==0)_=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var K=w.alternate;if(K===null)throw Error(a(387));if(K=K.memoizedProps,K!==null){var se=w.type;ga(w.pendingProps.value,K.value)||(o!==null?o.push(se):o=[se])}}else if(w===de.current){if(K=w.alternate,K===null)throw Error(a(387));K.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(eu):o=[eu])}w=w.return}o!==null&&Sx(c,o,f,x),c.flags|=262144}function uf(o){for(o=o.firstContext;o!==null;){if(!ga(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Eo(o){Ao=o,Gi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Bn(o){return TN(Ao,o)}function hf(o,c){return Ao===null&&Eo(o),TN(o,c)}function TN(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Gi===null){if(o===null)throw Error(a(308));Gi=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Gi=Gi.next=c;return f}var VM=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,x){o.push(x)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},YM=e.unstable_scheduleCallback,KM=e.unstable_NormalPriority,ln={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nx(){return{controller:new VM,data:new Map,refCount:0}}function Cd(o){o.refCount--,o.refCount===0&&YM(KM,function(){o.controller.abort()})}var Ad=null,Tx=0,kl=0,Il=null;function XM(o,c){if(Ad===null){var f=Ad=[];Tx=0,kl=Ag(),Il={status:"pending",value:void 0,then:function(x){f.push(x)}}}return Tx++,c.then(CN,CN),c}function CN(){if(--Tx===0&&Ad!==null){Il!==null&&(Il.status="fulfilled");var o=Ad;Ad=null,kl=0,Il=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function QM(o,c){var f=[],x={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return o.then(function(){x.status="fulfilled",x.value=c;for(var w=0;w<f.length;w++)(0,f[w])(c)},function(w){for(x.status="rejected",x.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),x}var AN=R.S;R.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&XM(o,c),AN!==null&&AN(o,c)};var Oo=Y(null);function Cx(){var o=Oo.current;return o!==null?o:_r.pooledCache}function ff(o,c){c===null?ee(Oo,Oo.current):ee(Oo,c.pool)}function EN(){var o=Cx();return o===null?null:{parent:ln._currentValue,pool:o}}var Ed=Error(a(460)),ON=Error(a(474)),pf=Error(a(542)),Ax={then:function(){}};function _N(o){return o=o.status,o==="fulfilled"||o==="rejected"}function mf(){}function kN(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(mf,mf),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,DN(o),o;default:if(typeof c.status=="string")c.then(mf,mf);else{if(o=_r,o!==null&&100<o.shellSuspendCounter)throw Error(a(482));o=c,o.status="pending",o.then(function(x){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=x}},function(x){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,DN(o),o}throw Od=c,Ed}}var Od=null;function IN(){if(Od===null)throw Error(a(459));var o=Od;return Od=null,o}function DN(o){if(o===Ed||o===pf)throw Error(a(483))}var Is=!1;function Ex(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ox(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ds(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Rs(o,c,f){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(mr&2)!==0){var w=x.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),x.pending=c,c=of(o),vN(o,null,f),c}return sf(o,x,c,f),of(o)}function _d(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var x=c.lanes;x&=o.pendingLanes,f|=x,c.lanes=f,St(o,f)}}function _x(o,c){var f=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var w=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var K={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};_===null?w=_=K:_=_.next=K,f=f.next}while(f!==null);_===null?w=_=c:_=_.next=c}else w=_=c;f={baseState:x.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:x.shared,callbacks:x.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var kx=!1;function kd(){if(kx){var o=Il;if(o!==null)throw o}}function Id(o,c,f,x){kx=!1;var w=o.updateQueue;Is=!1;var _=w.firstBaseUpdate,K=w.lastBaseUpdate,se=w.shared.pending;if(se!==null){w.shared.pending=null;var we=se,Le=we.next;we.next=null,K===null?_=Le:K.next=Le,K=we;var at=o.alternate;at!==null&&(at=at.updateQueue,se=at.lastBaseUpdate,se!==K&&(se===null?at.firstBaseUpdate=Le:se.next=Le,at.lastBaseUpdate=we))}if(_!==null){var ot=w.baseState;K=0,at=Le=we=null,se=_;do{var ze=se.lane&-536870913,We=ze!==se.lane;if(We?(rr&ze)===ze:(x&ze)===ze){ze!==0&&ze===kl&&(kx=!0),at!==null&&(at=at.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Pt=o,kt=se;ze=c;var Sr=f;switch(kt.tag){case 1:if(Pt=kt.payload,typeof Pt=="function"){ot=Pt.call(Sr,ot,ze);break e}ot=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=kt.payload,ze=typeof Pt=="function"?Pt.call(Sr,ot,ze):Pt,ze==null)break e;ot=p({},ot,ze);break e;case 2:Is=!0}}ze=se.callback,ze!==null&&(o.flags|=64,We&&(o.flags|=8192),We=w.callbacks,We===null?w.callbacks=[ze]:We.push(ze))}else We={lane:ze,tag:se.tag,payload:se.payload,callback:se.callback,next:null},at===null?(Le=at=We,we=ot):at=at.next=We,K|=ze;if(se=se.next,se===null){if(se=w.shared.pending,se===null)break;We=se,se=We.next,We.next=null,w.lastBaseUpdate=We,w.shared.pending=null}}while(!0);at===null&&(we=ot),w.baseState=we,w.firstBaseUpdate=Le,w.lastBaseUpdate=at,_===null&&(w.shared.lanes=0),Us|=K,o.lanes=K,o.memoizedState=ot}}function RN(o,c){if(typeof o!="function")throw Error(a(191,o));o.call(c)}function PN(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)RN(f[o],c)}var Dl=Y(null),xf=Y(0);function MN(o,c){o=es,ee(xf,o),ee(Dl,c),es=o|c.baseLanes}function Ix(){ee(xf,es),ee(Dl,Dl.current)}function Dx(){es=xf.current,z(Dl),z(xf)}var Ps=0,Ht=null,jr=null,Qr=null,gf=!1,Rl=!1,_o=!1,yf=0,Dd=0,Pl=null,ZM=0;function Vr(){throw Error(a(321))}function Rx(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!ga(o[f],c[f]))return!1;return!0}function Px(o,c,f,x,w,_){return Ps=_,Ht=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,R.H=o===null||o.memoizedState===null?vT:bT,_o=!1,_=f(x,w),_o=!1,Rl&&(_=FN(c,f,x,w)),BN(o),_}function BN(o){R.H=Nf;var c=jr!==null&&jr.next!==null;if(Ps=0,Qr=jr=Ht=null,gf=!1,Dd=0,Pl=null,c)throw Error(a(300));o===null||mn||(o=o.dependencies,o!==null&&uf(o)&&(mn=!0))}function FN(o,c,f,x){Ht=o;var w=0;do{if(Rl&&(Pl=null),Dd=0,Rl=!1,25<=w)throw Error(a(301));if(w+=1,Qr=jr=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}R.H=iB,_=c(f,x)}while(Rl);return _}function JM(){var o=R.H,c=o.useState()[0];return c=typeof c.then=="function"?Rd(c):c,o=o.useState()[0],(jr!==null?jr.memoizedState:null)!==o&&(Ht.flags|=1024),c}function Mx(){var o=yf!==0;return yf=0,o}function Bx(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function Fx(o){if(gf){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}gf=!1}Ps=0,Qr=jr=Ht=null,Rl=!1,Dd=yf=0,Pl=null}function ia(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?Ht.memoizedState=Qr=o:Qr=Qr.next=o,Qr}function Zr(){if(jr===null){var o=Ht.alternate;o=o!==null?o.memoizedState:null}else o=jr.next;var c=Qr===null?Ht.memoizedState:Qr.next;if(c!==null)Qr=c,jr=o;else{if(o===null)throw Ht.alternate===null?Error(a(467)):Error(a(310));jr=o,o={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Qr===null?Ht.memoizedState=Qr=o:Qr=Qr.next=o}return Qr}function Lx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rd(o){var c=Dd;return Dd+=1,Pl===null&&(Pl=[]),o=kN(Pl,o,c),c=Ht,(Qr===null?c.memoizedState:Qr.next)===null&&(c=c.alternate,R.H=c===null||c.memoizedState===null?vT:bT),o}function vf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Rd(o);if(o.$$typeof===C)return Bn(o)}throw Error(a(438,String(o)))}function $x(o){var c=null,f=Ht.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var x=Ht.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Lx(),Ht.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),x=0;x<o;x++)f[x]=M;return c.index++,f}function Yi(o,c){return typeof c=="function"?c(o):c}function bf(o){var c=Zr();return zx(c,jr,o)}function zx(o,c,f){var x=o.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=f;var w=o.baseQueue,_=x.pending;if(_!==null){if(w!==null){var K=w.next;w.next=_.next,_.next=K}c.baseQueue=w=_,x.pending=null}if(_=o.baseState,w===null)o.memoizedState=_;else{c=w.next;var se=K=null,we=null,Le=c,at=!1;do{var ot=Le.lane&-536870913;if(ot!==Le.lane?(rr&ot)===ot:(Ps&ot)===ot){var ze=Le.revertLane;if(ze===0)we!==null&&(we=we.next={lane:0,revertLane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),ot===kl&&(at=!0);else if((Ps&ze)===ze){Le=Le.next,ze===kl&&(at=!0);continue}else ot={lane:0,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},we===null?(se=we=ot,K=_):we=we.next=ot,Ht.lanes|=ze,Us|=ze;ot=Le.action,_o&&f(_,ot),_=Le.hasEagerState?Le.eagerState:f(_,ot)}else ze={lane:ot,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},we===null?(se=we=ze,K=_):we=we.next=ze,Ht.lanes|=ot,Us|=ot;Le=Le.next}while(Le!==null&&Le!==c);if(we===null?K=_:we.next=se,!ga(_,o.memoizedState)&&(mn=!0,at&&(f=Il,f!==null)))throw f;o.memoizedState=_,o.baseState=K,o.baseQueue=we,x.lastRenderedState=_}return w===null&&(x.lanes=0),[o.memoizedState,x.dispatch]}function Ux(o){var c=Zr(),f=c.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=o;var x=f.dispatch,w=f.pending,_=c.memoizedState;if(w!==null){f.pending=null;var K=w=w.next;do _=o(_,K.action),K=K.next;while(K!==w);ga(_,c.memoizedState)||(mn=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),f.lastRenderedState=_}return[_,x]}function LN(o,c,f){var x=Ht,w=Zr(),_=dr;if(_){if(f===void 0)throw Error(a(407));f=f()}else f=c();var K=!ga((jr||w).memoizedState,f);K&&(w.memoizedState=f,mn=!0),w=w.queue;var se=UN.bind(null,x,w,o);if(Pd(2048,8,se,[o]),w.getSnapshot!==c||K||Qr!==null&&Qr.memoizedState.tag&1){if(x.flags|=2048,Ml(9,jf(),zN.bind(null,x,w,f,c),null),_r===null)throw Error(a(349));_||(Ps&124)!==0||$N(x,c,f)}return f}function $N(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=Ht.updateQueue,c===null?(c=Lx(),Ht.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function zN(o,c,f,x){c.value=f,c.getSnapshot=x,qN(c)&&WN(o)}function UN(o,c,f){return f(function(){qN(c)&&WN(o)})}function qN(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!ga(o,f)}catch{return!0}}function WN(o){var c=Al(o,2);c!==null&&Sa(c,o,2)}function qx(o){var c=ia();if(typeof o=="function"){var f=o;if(o=f(),_o){dt(!0);try{f()}finally{dt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:o},c}function HN(o,c,f,x){return o.baseState=f,zx(o,jr,typeof x=="function"?x:Yi)}function eB(o,c,f,x,w){if(Sf(o))throw Error(a(485));if(o=c.action,o!==null){var _={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){_.listeners.push(K)}};R.T!==null?f(!0):_.isTransition=!1,x(_),f=c.pending,f===null?(_.next=c.pending=_,GN(c,_)):(_.next=f.next,c.pending=f.next=_)}}function GN(o,c){var f=c.action,x=c.payload,w=o.state;if(c.isTransition){var _=R.T,K={};R.T=K;try{var se=f(w,x),we=R.S;we!==null&&we(K,se),VN(o,c,se)}catch(Le){Wx(o,c,Le)}finally{R.T=_}}else try{_=f(w,x),VN(o,c,_)}catch(Le){Wx(o,c,Le)}}function VN(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(x){YN(o,c,x)},function(x){return Wx(o,c,x)}):YN(o,c,f)}function YN(o,c,f){c.status="fulfilled",c.value=f,KN(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,GN(o,f)))}function Wx(o,c,f){var x=o.pending;if(o.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=f,KN(c),c=c.next;while(c!==x)}o.action=null}function KN(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function XN(o,c){return c}function QN(o,c){if(dr){var f=_r.formState;if(f!==null){e:{var x=Ht;if(dr){if(zr){t:{for(var w=zr,_=Ni;w.nodeType!==8;){if(!_){w=null;break t}if(w=ai(w.nextSibling),w===null){w=null;break t}}_=w.data,w=_==="F!"||_==="F"?w:null}if(w){zr=ai(w.nextSibling),x=w.data==="F!";break e}}Co(x)}x=!1}x&&(c=f[0])}}return f=ia(),f.memoizedState=f.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XN,lastRenderedState:c},f.queue=x,f=xT.bind(null,Ht,x),x.dispatch=f,x=qx(!1),_=Kx.bind(null,Ht,!1,x.queue),x=ia(),w={state:c,dispatch:null,action:o,pending:null},x.queue=w,f=eB.bind(null,Ht,w,_,f),w.dispatch=f,x.memoizedState=o,[c,f,!1]}function ZN(o){var c=Zr();return JN(c,jr,o)}function JN(o,c,f){if(c=zx(o,c,XN)[0],o=bf(Yi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=Rd(c)}catch(K){throw K===Ed?pf:K}else x=c;c=Zr();var w=c.queue,_=w.dispatch;return f!==c.memoizedState&&(Ht.flags|=2048,Ml(9,jf(),tB.bind(null,w,f),null)),[x,_,o]}function tB(o,c){o.action=c}function eT(o){var c=Zr(),f=jr;if(f!==null)return JN(c,f,o);Zr(),c=c.memoizedState,f=Zr();var x=f.queue.dispatch;return f.memoizedState=o,[c,x,!1]}function Ml(o,c,f,x){return o={tag:o,create:f,deps:x,inst:c,next:null},c=Ht.updateQueue,c===null&&(c=Lx(),Ht.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(x=f.next,f.next=o,o.next=x,c.lastEffect=o),o}function jf(){return{destroy:void 0,resource:void 0}}function tT(){return Zr().memoizedState}function wf(o,c,f,x){var w=ia();x=x===void 0?null:x,Ht.flags|=o,w.memoizedState=Ml(1|c,jf(),f,x)}function Pd(o,c,f,x){var w=Zr();x=x===void 0?null:x;var _=w.memoizedState.inst;jr!==null&&x!==null&&Rx(x,jr.memoizedState.deps)?w.memoizedState=Ml(c,_,f,x):(Ht.flags|=o,w.memoizedState=Ml(1|c,_,f,x))}function rT(o,c){wf(8390656,8,o,c)}function nT(o,c){Pd(2048,8,o,c)}function aT(o,c){return Pd(4,2,o,c)}function iT(o,c){return Pd(4,4,o,c)}function sT(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function oT(o,c,f){f=f!=null?f.concat([o]):null,Pd(4,4,sT.bind(null,c,o),f)}function Hx(){}function lT(o,c){var f=Zr();c=c===void 0?null:c;var x=f.memoizedState;return c!==null&&Rx(c,x[1])?x[0]:(f.memoizedState=[o,c],o)}function cT(o,c){var f=Zr();c=c===void 0?null:c;var x=f.memoizedState;if(c!==null&&Rx(c,x[1]))return x[0];if(x=o(),_o){dt(!0);try{o()}finally{dt(!1)}}return f.memoizedState=[x,c],x}function Gx(o,c,f){return f===void 0||(Ps&1073741824)!==0?o.memoizedState=c:(o.memoizedState=f,o=hC(),Ht.lanes|=o,Us|=o,f)}function dT(o,c,f,x){return ga(f,c)?f:Dl.current!==null?(o=Gx(o,f,x),ga(o,c)||(mn=!0),o):(Ps&42)===0?(mn=!0,o.memoizedState=f):(o=hC(),Ht.lanes|=o,Us|=o,c)}function uT(o,c,f,x,w){var _=H.p;H.p=_!==0&&8>_?_:8;var K=R.T,se={};R.T=se,Kx(o,!1,c,f);try{var we=w(),Le=R.S;if(Le!==null&&Le(se,we),we!==null&&typeof we=="object"&&typeof we.then=="function"){var at=QM(we,x);Md(o,c,at,wa(o))}else Md(o,c,x,wa(o))}catch(ot){Md(o,c,{then:function(){},status:"rejected",reason:ot},wa())}finally{H.p=_,R.T=K}}function rB(){}function Vx(o,c,f,x){if(o.tag!==5)throw Error(a(476));var w=hT(o).queue;uT(o,w,c,V,f===null?rB:function(){return fT(o),f(x)})}function hT(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:V},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function fT(o){var c=hT(o).next.queue;Md(o,c,{},wa())}function Yx(){return Bn(eu)}function pT(){return Zr().memoizedState}function mT(){return Zr().memoizedState}function nB(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=wa();o=Ds(f);var x=Rs(c,o,f);x!==null&&(Sa(x,c,f),_d(x,c,f)),c={cache:Nx()},o.payload=c;return}c=c.return}}function aB(o,c,f){var x=wa();f={lane:x,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Sf(o)?gT(c,f):(f=px(o,c,f,x),f!==null&&(Sa(f,o,x),yT(f,c,x)))}function xT(o,c,f){var x=wa();Md(o,c,f,x)}function Md(o,c,f,x){var w={lane:x,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Sf(o))gT(c,w);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var K=c.lastRenderedState,se=_(K,f);if(w.hasEagerState=!0,w.eagerState=se,ga(se,K))return sf(o,c,w,0),_r===null&&af(),!1}catch{}finally{}if(f=px(o,c,w,x),f!==null)return Sa(f,o,x),yT(f,c,x),!0}return!1}function Kx(o,c,f,x){if(x={lane:2,revertLane:Ag(),action:x,hasEagerState:!1,eagerState:null,next:null},Sf(o)){if(c)throw Error(a(479))}else c=px(o,f,x,2),c!==null&&Sa(c,o,2)}function Sf(o){var c=o.alternate;return o===Ht||c!==null&&c===Ht}function gT(o,c){Rl=gf=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function yT(o,c,f){if((f&4194048)!==0){var x=c.lanes;x&=o.pendingLanes,f|=x,c.lanes=f,St(o,f)}}var Nf={readContext:Bn,use:vf,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useLayoutEffect:Vr,useInsertionEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useSyncExternalStore:Vr,useId:Vr,useHostTransitionStatus:Vr,useFormState:Vr,useActionState:Vr,useOptimistic:Vr,useMemoCache:Vr,useCacheRefresh:Vr},vT={readContext:Bn,use:vf,useCallback:function(o,c){return ia().memoizedState=[o,c===void 0?null:c],o},useContext:Bn,useEffect:rT,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,wf(4194308,4,sT.bind(null,c,o),f)},useLayoutEffect:function(o,c){return wf(4194308,4,o,c)},useInsertionEffect:function(o,c){wf(4,2,o,c)},useMemo:function(o,c){var f=ia();c=c===void 0?null:c;var x=o();if(_o){dt(!0);try{o()}finally{dt(!1)}}return f.memoizedState=[x,c],x},useReducer:function(o,c,f){var x=ia();if(f!==void 0){var w=f(c);if(_o){dt(!0);try{f(c)}finally{dt(!1)}}}else w=c;return x.memoizedState=x.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},x.queue=o,o=o.dispatch=aB.bind(null,Ht,o),[x.memoizedState,o]},useRef:function(o){var c=ia();return o={current:o},c.memoizedState=o},useState:function(o){o=qx(o);var c=o.queue,f=xT.bind(null,Ht,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:Hx,useDeferredValue:function(o,c){var f=ia();return Gx(f,o,c)},useTransition:function(){var o=qx(!1);return o=uT.bind(null,Ht,o.queue,!0,!1),ia().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var x=Ht,w=ia();if(dr){if(f===void 0)throw Error(a(407));f=f()}else{if(f=c(),_r===null)throw Error(a(349));(rr&124)!==0||$N(x,c,f)}w.memoizedState=f;var _={value:f,getSnapshot:c};return w.queue=_,rT(UN.bind(null,x,_,o),[o]),x.flags|=2048,Ml(9,jf(),zN.bind(null,x,_,f,c),null),f},useId:function(){var o=ia(),c=_r.identifierPrefix;if(dr){var f=Hi,x=Wi;f=(x&~(1<<32-_e(x)-1)).toString(32)+f,c=""+c+"R"+f,f=yf++,0<f&&(c+="H"+f.toString(32)),c+=""}else f=ZM++,c=""+c+"r"+f.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Yx,useFormState:QN,useActionState:QN,useOptimistic:function(o){var c=ia();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=Kx.bind(null,Ht,!0,f),f.dispatch=c,[o,c]},useMemoCache:$x,useCacheRefresh:function(){return ia().memoizedState=nB.bind(null,Ht)}},bT={readContext:Bn,use:vf,useCallback:lT,useContext:Bn,useEffect:nT,useImperativeHandle:oT,useInsertionEffect:aT,useLayoutEffect:iT,useMemo:cT,useReducer:bf,useRef:tT,useState:function(){return bf(Yi)},useDebugValue:Hx,useDeferredValue:function(o,c){var f=Zr();return dT(f,jr.memoizedState,o,c)},useTransition:function(){var o=bf(Yi)[0],c=Zr().memoizedState;return[typeof o=="boolean"?o:Rd(o),c]},useSyncExternalStore:LN,useId:pT,useHostTransitionStatus:Yx,useFormState:ZN,useActionState:ZN,useOptimistic:function(o,c){var f=Zr();return HN(f,jr,o,c)},useMemoCache:$x,useCacheRefresh:mT},iB={readContext:Bn,use:vf,useCallback:lT,useContext:Bn,useEffect:nT,useImperativeHandle:oT,useInsertionEffect:aT,useLayoutEffect:iT,useMemo:cT,useReducer:Ux,useRef:tT,useState:function(){return Ux(Yi)},useDebugValue:Hx,useDeferredValue:function(o,c){var f=Zr();return jr===null?Gx(f,o,c):dT(f,jr.memoizedState,o,c)},useTransition:function(){var o=Ux(Yi)[0],c=Zr().memoizedState;return[typeof o=="boolean"?o:Rd(o),c]},useSyncExternalStore:LN,useId:pT,useHostTransitionStatus:Yx,useFormState:eT,useActionState:eT,useOptimistic:function(o,c){var f=Zr();return jr!==null?HN(f,jr,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:$x,useCacheRefresh:mT},Bl=null,Bd=0;function Tf(o){var c=Bd;return Bd+=1,Bl===null&&(Bl=[]),kN(Bl,o,c)}function Fd(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Cf(o,c){throw c.$$typeof===m?Error(a(525)):(o=Object.prototype.toString.call(c),Error(a(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function jT(o){var c=o._init;return c(o._payload)}function wT(o){function c(Re,Ae){if(o){var Be=Re.deletions;Be===null?(Re.deletions=[Ae],Re.flags|=16):Be.push(Ae)}}function f(Re,Ae){if(!o)return null;for(;Ae!==null;)c(Re,Ae),Ae=Ae.sibling;return null}function x(Re){for(var Ae=new Map;Re!==null;)Re.key!==null?Ae.set(Re.key,Re):Ae.set(Re.index,Re),Re=Re.sibling;return Ae}function w(Re,Ae){return Re=qi(Re,Ae),Re.index=0,Re.sibling=null,Re}function _(Re,Ae,Be){return Re.index=Be,o?(Be=Re.alternate,Be!==null?(Be=Be.index,Be<Ae?(Re.flags|=67108866,Ae):Be):(Re.flags|=67108866,Ae)):(Re.flags|=1048576,Ae)}function K(Re){return o&&Re.alternate===null&&(Re.flags|=67108866),Re}function se(Re,Ae,Be,it){return Ae===null||Ae.tag!==6?(Ae=xx(Be,Re.mode,it),Ae.return=Re,Ae):(Ae=w(Ae,Be),Ae.return=Re,Ae)}function we(Re,Ae,Be,it){var wt=Be.type;return wt===j?at(Re,Ae,Be.props.children,it,Be.key):Ae!==null&&(Ae.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===B&&jT(wt)===Ae.type)?(Ae=w(Ae,Be.props),Fd(Ae,Be),Ae.return=Re,Ae):(Ae=lf(Be.type,Be.key,Be.props,null,Re.mode,it),Fd(Ae,Be),Ae.return=Re,Ae)}function Le(Re,Ae,Be,it){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==Be.containerInfo||Ae.stateNode.implementation!==Be.implementation?(Ae=gx(Be,Re.mode,it),Ae.return=Re,Ae):(Ae=w(Ae,Be.children||[]),Ae.return=Re,Ae)}function at(Re,Ae,Be,it,wt){return Ae===null||Ae.tag!==7?(Ae=wo(Be,Re.mode,it,wt),Ae.return=Re,Ae):(Ae=w(Ae,Be),Ae.return=Re,Ae)}function ot(Re,Ae,Be){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Ae=xx(""+Ae,Re.mode,Be),Ae.return=Re,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case g:return Be=lf(Ae.type,Ae.key,Ae.props,null,Re.mode,Be),Fd(Be,Ae),Be.return=Re,Be;case v:return Ae=gx(Ae,Re.mode,Be),Ae.return=Re,Ae;case B:var it=Ae._init;return Ae=it(Ae._payload),ot(Re,Ae,Be)}if(I(Ae)||O(Ae))return Ae=wo(Ae,Re.mode,Be,null),Ae.return=Re,Ae;if(typeof Ae.then=="function")return ot(Re,Tf(Ae),Be);if(Ae.$$typeof===C)return ot(Re,hf(Re,Ae),Be);Cf(Re,Ae)}return null}function ze(Re,Ae,Be,it){var wt=Ae!==null?Ae.key:null;if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return wt!==null?null:se(Re,Ae,""+Be,it);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case g:return Be.key===wt?we(Re,Ae,Be,it):null;case v:return Be.key===wt?Le(Re,Ae,Be,it):null;case B:return wt=Be._init,Be=wt(Be._payload),ze(Re,Ae,Be,it)}if(I(Be)||O(Be))return wt!==null?null:at(Re,Ae,Be,it,null);if(typeof Be.then=="function")return ze(Re,Ae,Tf(Be),it);if(Be.$$typeof===C)return ze(Re,Ae,hf(Re,Be),it);Cf(Re,Be)}return null}function We(Re,Ae,Be,it,wt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Re=Re.get(Be)||null,se(Ae,Re,""+it,wt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case g:return Re=Re.get(it.key===null?Be:it.key)||null,we(Ae,Re,it,wt);case v:return Re=Re.get(it.key===null?Be:it.key)||null,Le(Ae,Re,it,wt);case B:var Yt=it._init;return it=Yt(it._payload),We(Re,Ae,Be,it,wt)}if(I(it)||O(it))return Re=Re.get(Be)||null,at(Ae,Re,it,wt,null);if(typeof it.then=="function")return We(Re,Ae,Be,Tf(it),wt);if(it.$$typeof===C)return We(Re,Ae,Be,hf(Ae,it),wt);Cf(Ae,it)}return null}function Pt(Re,Ae,Be,it){for(var wt=null,Yt=null,Ct=Ae,It=Ae=0,gn=null;Ct!==null&&It<Be.length;It++){Ct.index>It?(gn=Ct,Ct=null):gn=Ct.sibling;var ir=ze(Re,Ct,Be[It],it);if(ir===null){Ct===null&&(Ct=gn);break}o&&Ct&&ir.alternate===null&&c(Re,Ct),Ae=_(ir,Ae,It),Yt===null?wt=ir:Yt.sibling=ir,Yt=ir,Ct=gn}if(It===Be.length)return f(Re,Ct),dr&&No(Re,It),wt;if(Ct===null){for(;It<Be.length;It++)Ct=ot(Re,Be[It],it),Ct!==null&&(Ae=_(Ct,Ae,It),Yt===null?wt=Ct:Yt.sibling=Ct,Yt=Ct);return dr&&No(Re,It),wt}for(Ct=x(Ct);It<Be.length;It++)gn=We(Ct,Re,It,Be[It],it),gn!==null&&(o&&gn.alternate!==null&&Ct.delete(gn.key===null?It:gn.key),Ae=_(gn,Ae,It),Yt===null?wt=gn:Yt.sibling=gn,Yt=gn);return o&&Ct.forEach(function(Qs){return c(Re,Qs)}),dr&&No(Re,It),wt}function kt(Re,Ae,Be,it){if(Be==null)throw Error(a(151));for(var wt=null,Yt=null,Ct=Ae,It=Ae=0,gn=null,ir=Be.next();Ct!==null&&!ir.done;It++,ir=Be.next()){Ct.index>It?(gn=Ct,Ct=null):gn=Ct.sibling;var Qs=ze(Re,Ct,ir.value,it);if(Qs===null){Ct===null&&(Ct=gn);break}o&&Ct&&Qs.alternate===null&&c(Re,Ct),Ae=_(Qs,Ae,It),Yt===null?wt=Qs:Yt.sibling=Qs,Yt=Qs,Ct=gn}if(ir.done)return f(Re,Ct),dr&&No(Re,It),wt;if(Ct===null){for(;!ir.done;It++,ir=Be.next())ir=ot(Re,ir.value,it),ir!==null&&(Ae=_(ir,Ae,It),Yt===null?wt=ir:Yt.sibling=ir,Yt=ir);return dr&&No(Re,It),wt}for(Ct=x(Ct);!ir.done;It++,ir=Be.next())ir=We(Ct,Re,It,ir.value,it),ir!==null&&(o&&ir.alternate!==null&&Ct.delete(ir.key===null?It:ir.key),Ae=_(ir,Ae,It),Yt===null?wt=ir:Yt.sibling=ir,Yt=ir);return o&&Ct.forEach(function(sF){return c(Re,sF)}),dr&&No(Re,It),wt}function Sr(Re,Ae,Be,it){if(typeof Be=="object"&&Be!==null&&Be.type===j&&Be.key===null&&(Be=Be.props.children),typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case g:e:{for(var wt=Be.key;Ae!==null;){if(Ae.key===wt){if(wt=Be.type,wt===j){if(Ae.tag===7){f(Re,Ae.sibling),it=w(Ae,Be.props.children),it.return=Re,Re=it;break e}}else if(Ae.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===B&&jT(wt)===Ae.type){f(Re,Ae.sibling),it=w(Ae,Be.props),Fd(it,Be),it.return=Re,Re=it;break e}f(Re,Ae);break}else c(Re,Ae);Ae=Ae.sibling}Be.type===j?(it=wo(Be.props.children,Re.mode,it,Be.key),it.return=Re,Re=it):(it=lf(Be.type,Be.key,Be.props,null,Re.mode,it),Fd(it,Be),it.return=Re,Re=it)}return K(Re);case v:e:{for(wt=Be.key;Ae!==null;){if(Ae.key===wt)if(Ae.tag===4&&Ae.stateNode.containerInfo===Be.containerInfo&&Ae.stateNode.implementation===Be.implementation){f(Re,Ae.sibling),it=w(Ae,Be.children||[]),it.return=Re,Re=it;break e}else{f(Re,Ae);break}else c(Re,Ae);Ae=Ae.sibling}it=gx(Be,Re.mode,it),it.return=Re,Re=it}return K(Re);case B:return wt=Be._init,Be=wt(Be._payload),Sr(Re,Ae,Be,it)}if(I(Be))return Pt(Re,Ae,Be,it);if(O(Be)){if(wt=O(Be),typeof wt!="function")throw Error(a(150));return Be=wt.call(Be),kt(Re,Ae,Be,it)}if(typeof Be.then=="function")return Sr(Re,Ae,Tf(Be),it);if(Be.$$typeof===C)return Sr(Re,Ae,hf(Re,Be),it);Cf(Re,Be)}return typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint"?(Be=""+Be,Ae!==null&&Ae.tag===6?(f(Re,Ae.sibling),it=w(Ae,Be),it.return=Re,Re=it):(f(Re,Ae),it=xx(Be,Re.mode,it),it.return=Re,Re=it),K(Re)):f(Re,Ae)}return function(Re,Ae,Be,it){try{Bd=0;var wt=Sr(Re,Ae,Be,it);return Bl=null,wt}catch(Ct){if(Ct===Ed||Ct===pf)throw Ct;var Yt=ya(29,Ct,null,Re.mode);return Yt.lanes=it,Yt.return=Re,Yt}finally{}}}var Fl=wT(!0),ST=wT(!1),La=Y(null),Ti=null;function Ms(o){var c=o.alternate;ee(cn,cn.current&1),ee(La,o),Ti===null&&(c===null||Dl.current!==null||c.memoizedState!==null)&&(Ti=o)}function NT(o){if(o.tag===22){if(ee(cn,cn.current),ee(La,o),Ti===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Ti=o)}}else Bs()}function Bs(){ee(cn,cn.current),ee(La,La.current)}function Ki(o){z(La),Ti===o&&(Ti=null),z(cn)}var cn=Y(0);function Af(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||Lg(f)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Xx(o,c,f,x){c=o.memoizedState,f=f(x,c),f=f==null?c:p({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Qx={enqueueSetState:function(o,c,f){o=o._reactInternals;var x=wa(),w=Ds(x);w.payload=c,f!=null&&(w.callback=f),c=Rs(o,w,x),c!==null&&(Sa(c,o,x),_d(c,o,x))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var x=wa(),w=Ds(x);w.tag=1,w.payload=c,f!=null&&(w.callback=f),c=Rs(o,w,x),c!==null&&(Sa(c,o,x),_d(c,o,x))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=wa(),x=Ds(f);x.tag=2,c!=null&&(x.callback=c),c=Rs(o,x,f),c!==null&&(Sa(c,o,f),_d(c,o,f))}};function TT(o,c,f,x,w,_,K){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,_,K):c.prototype&&c.prototype.isPureReactComponent?!bd(f,x)||!bd(w,_):!0}function CT(o,c,f,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,x),c.state!==o&&Qx.enqueueReplaceState(c,c.state,null)}function ko(o,c){var f=c;if("ref"in c){f={};for(var x in c)x!=="ref"&&(f[x]=c[x])}if(o=o.defaultProps){f===c&&(f=p({},f));for(var w in o)f[w]===void 0&&(f[w]=o[w])}return f}var Ef=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function AT(o){Ef(o)}function ET(o){console.error(o)}function OT(o){Ef(o)}function Of(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function _T(o,c,f){try{var x=o.onCaughtError;x(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Zx(o,c,f){return f=Ds(f),f.tag=3,f.payload={element:null},f.callback=function(){Of(o,c)},f}function kT(o){return o=Ds(o),o.tag=3,o}function IT(o,c,f,x){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var _=x.value;o.payload=function(){return w(_)},o.callback=function(){_T(c,f,x)}}var K=f.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(o.callback=function(){_T(c,f,x),typeof w!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var se=x.stack;this.componentDidCatch(x.value,{componentStack:se!==null?se:""})})}function sB(o,c,f,x,w){if(f.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=f.alternate,c!==null&&Td(c,f,w,!0),f=La.current,f!==null){switch(f.tag){case 13:return Ti===null?wg():f.alternate===null&&Ur===0&&(Ur=3),f.flags&=-257,f.flags|=65536,f.lanes=w,x===Ax?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([x]):c.add(x),Ng(o,x,w)),!1;case 22:return f.flags|=65536,x===Ax?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([x]):f.add(x)),Ng(o,x,w)),!1}throw Error(a(435,f.tag))}return Ng(o,x,w),wg(),!1}if(dr)return c=La.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,x!==bx&&(o=Error(a(422),{cause:x}),Nd(Pa(o,f)))):(x!==bx&&(c=Error(a(423),{cause:x}),Nd(Pa(c,f))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,x=Pa(x,f),w=Zx(o.stateNode,x,w),_x(o,w),Ur!==4&&(Ur=2)),!1;var _=Error(a(520),{cause:x});if(_=Pa(_,f),Hd===null?Hd=[_]:Hd.push(_),Ur!==4&&(Ur=2),c===null)return!0;x=Pa(x,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=w&-w,f.lanes|=o,o=Zx(f.stateNode,x,o),_x(f,o),!1;case 1:if(c=f.type,_=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(qs===null||!qs.has(_))))return f.flags|=65536,w&=-w,f.lanes|=w,w=kT(w),IT(w,o,f,x),_x(f,w),!1}f=f.return}while(f!==null);return!1}var DT=Error(a(461)),mn=!1;function Sn(o,c,f,x){c.child=o===null?ST(c,null,f,x):Fl(c,o.child,f,x)}function RT(o,c,f,x,w){f=f.render;var _=c.ref;if("ref"in x){var K={};for(var se in x)se!=="ref"&&(K[se]=x[se])}else K=x;return Eo(c),x=Px(o,c,f,K,_,w),se=Mx(),o!==null&&!mn?(Bx(o,c,w),Xi(o,c,w)):(dr&&se&&yx(c),c.flags|=1,Sn(o,c,x,w),c.child)}function PT(o,c,f,x,w){if(o===null){var _=f.type;return typeof _=="function"&&!mx(_)&&_.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=_,MT(o,c,_,x,w)):(o=lf(f.type,null,x,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(_=o.child,!sg(o,w)){var K=_.memoizedProps;if(f=f.compare,f=f!==null?f:bd,f(K,x)&&o.ref===c.ref)return Xi(o,c,w)}return c.flags|=1,o=qi(_,x),o.ref=c.ref,o.return=c,c.child=o}function MT(o,c,f,x,w){if(o!==null){var _=o.memoizedProps;if(bd(_,x)&&o.ref===c.ref)if(mn=!1,c.pendingProps=x=_,sg(o,w))(o.flags&131072)!==0&&(mn=!0);else return c.lanes=o.lanes,Xi(o,c,w)}return Jx(o,c,f,x,w)}function BT(o,c,f){var x=c.pendingProps,w=x.children,_=o!==null?o.memoizedState:null;if(x.mode==="hidden"){if((c.flags&128)!==0){if(x=_!==null?_.baseLanes|f:f,o!==null){for(w=c.child=o.child,_=0;w!==null;)_=_|w.lanes|w.childLanes,w=w.sibling;c.childLanes=_&~x}else c.childLanes=0,c.child=null;return FT(o,c,x,f)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&ff(c,_!==null?_.cachePool:null),_!==null?MN(c,_):Ix(),NT(c);else return c.lanes=c.childLanes=536870912,FT(o,c,_!==null?_.baseLanes|f:f,f)}else _!==null?(ff(c,_.cachePool),MN(c,_),Bs(),c.memoizedState=null):(o!==null&&ff(c,null),Ix(),Bs());return Sn(o,c,w,f),c.child}function FT(o,c,f,x){var w=Cx();return w=w===null?null:{parent:ln._currentValue,pool:w},c.memoizedState={baseLanes:f,cachePool:w},o!==null&&ff(c,null),Ix(),NT(c),o!==null&&Td(o,c,x,!0),null}function _f(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(a(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function Jx(o,c,f,x,w){return Eo(c),f=Px(o,c,f,x,void 0,w),x=Mx(),o!==null&&!mn?(Bx(o,c,w),Xi(o,c,w)):(dr&&x&&yx(c),c.flags|=1,Sn(o,c,f,w),c.child)}function LT(o,c,f,x,w,_){return Eo(c),c.updateQueue=null,f=FN(c,x,f,w),BN(o),x=Mx(),o!==null&&!mn?(Bx(o,c,_),Xi(o,c,_)):(dr&&x&&yx(c),c.flags|=1,Sn(o,c,f,_),c.child)}function $T(o,c,f,x,w){if(Eo(c),c.stateNode===null){var _=El,K=f.contextType;typeof K=="object"&&K!==null&&(_=Bn(K)),_=new f(x,_),c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Qx,c.stateNode=_,_._reactInternals=c,_=c.stateNode,_.props=x,_.state=c.memoizedState,_.refs={},Ex(c),K=f.contextType,_.context=typeof K=="object"&&K!==null?Bn(K):El,_.state=c.memoizedState,K=f.getDerivedStateFromProps,typeof K=="function"&&(Xx(c,f,K,x),_.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(K=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),K!==_.state&&Qx.enqueueReplaceState(_,_.state,null),Id(c,x,_,w),kd(),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(o===null){_=c.stateNode;var se=c.memoizedProps,we=ko(f,se);_.props=we;var Le=_.context,at=f.contextType;K=El,typeof at=="object"&&at!==null&&(K=Bn(at));var ot=f.getDerivedStateFromProps;at=typeof ot=="function"||typeof _.getSnapshotBeforeUpdate=="function",se=c.pendingProps!==se,at||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(se||Le!==K)&&CT(c,_,x,K),Is=!1;var ze=c.memoizedState;_.state=ze,Id(c,x,_,w),kd(),Le=c.memoizedState,se||ze!==Le||Is?(typeof ot=="function"&&(Xx(c,f,ot,x),Le=c.memoizedState),(we=Is||TT(c,f,we,x,ze,Le,K))?(at||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(c.flags|=4194308)):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=Le),_.props=x,_.state=Le,_.context=K,x=we):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{_=c.stateNode,Ox(o,c),K=c.memoizedProps,at=ko(f,K),_.props=at,ot=c.pendingProps,ze=_.context,Le=f.contextType,we=El,typeof Le=="object"&&Le!==null&&(we=Bn(Le)),se=f.getDerivedStateFromProps,(Le=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(K!==ot||ze!==we)&&CT(c,_,x,we),Is=!1,ze=c.memoizedState,_.state=ze,Id(c,x,_,w),kd();var We=c.memoizedState;K!==ot||ze!==We||Is||o!==null&&o.dependencies!==null&&uf(o.dependencies)?(typeof se=="function"&&(Xx(c,f,se,x),We=c.memoizedState),(at=Is||TT(c,f,at,x,ze,We,we)||o!==null&&o.dependencies!==null&&uf(o.dependencies))?(Le||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(x,We,we),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(x,We,we)),typeof _.componentDidUpdate=="function"&&(c.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof _.componentDidUpdate!="function"||K===o.memoizedProps&&ze===o.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&ze===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=We),_.props=x,_.state=We,_.context=we,x=at):(typeof _.componentDidUpdate!="function"||K===o.memoizedProps&&ze===o.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&ze===o.memoizedState||(c.flags|=1024),x=!1)}return _=x,_f(o,c),x=(c.flags&128)!==0,_||x?(_=c.stateNode,f=x&&typeof f.getDerivedStateFromError!="function"?null:_.render(),c.flags|=1,o!==null&&x?(c.child=Fl(c,o.child,null,w),c.child=Fl(c,null,f,w)):Sn(o,c,f,w),c.memoizedState=_.state,o=c.child):o=Xi(o,c,w),o}function zT(o,c,f,x){return Sd(),c.flags|=256,Sn(o,c,f,x),c.child}var eg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tg(o){return{baseLanes:o,cachePool:EN()}}function rg(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=$a),o}function UT(o,c,f){var x=c.pendingProps,w=!1,_=(c.flags&128)!==0,K;if((K=_)||(K=o!==null&&o.memoizedState===null?!1:(cn.current&2)!==0),K&&(w=!0,c.flags&=-129),K=(c.flags&32)!==0,c.flags&=-33,o===null){if(dr){if(w?Ms(c):Bs(),dr){var se=zr,we;if(we=se){e:{for(we=se,se=Ni;we.nodeType!==8;){if(!se){se=null;break e}if(we=ai(we.nextSibling),we===null){se=null;break e}}se=we}se!==null?(c.memoizedState={dehydrated:se,treeContext:So!==null?{id:Wi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},we=ya(18,null,null,0),we.stateNode=se,we.return=c,c.child=we,Yn=c,zr=null,we=!0):we=!1}we||Co(c)}if(se=c.memoizedState,se!==null&&(se=se.dehydrated,se!==null))return Lg(se)?c.lanes=32:c.lanes=536870912,null;Ki(c)}return se=x.children,x=x.fallback,w?(Bs(),w=c.mode,se=kf({mode:"hidden",children:se},w),x=wo(x,w,f,null),se.return=c,x.return=c,se.sibling=x,c.child=se,w=c.child,w.memoizedState=tg(f),w.childLanes=rg(o,K,f),c.memoizedState=eg,x):(Ms(c),ng(c,se))}if(we=o.memoizedState,we!==null&&(se=we.dehydrated,se!==null)){if(_)c.flags&256?(Ms(c),c.flags&=-257,c=ag(o,c,f)):c.memoizedState!==null?(Bs(),c.child=o.child,c.flags|=128,c=null):(Bs(),w=x.fallback,se=c.mode,x=kf({mode:"visible",children:x.children},se),w=wo(w,se,f,null),w.flags|=2,x.return=c,w.return=c,x.sibling=w,c.child=x,Fl(c,o.child,null,f),x=c.child,x.memoizedState=tg(f),x.childLanes=rg(o,K,f),c.memoizedState=eg,c=w);else if(Ms(c),Lg(se)){if(K=se.nextSibling&&se.nextSibling.dataset,K)var Le=K.dgst;K=Le,x=Error(a(419)),x.stack="",x.digest=K,Nd({value:x,source:null,stack:null}),c=ag(o,c,f)}else if(mn||Td(o,c,f,!1),K=(f&o.childLanes)!==0,mn||K){if(K=_r,K!==null&&(x=f&-f,x=(x&42)!==0?1:nt(x),x=(x&(K.suspendedLanes|f))!==0?0:x,x!==0&&x!==we.retryLane))throw we.retryLane=x,Al(o,x),Sa(K,o,x),DT;se.data==="$?"||wg(),c=ag(o,c,f)}else se.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=we.treeContext,zr=ai(se.nextSibling),Yn=c,dr=!0,To=null,Ni=!1,o!==null&&(Ba[Fa++]=Wi,Ba[Fa++]=Hi,Ba[Fa++]=So,Wi=o.id,Hi=o.overflow,So=c),c=ng(c,x.children),c.flags|=4096);return c}return w?(Bs(),w=x.fallback,se=c.mode,we=o.child,Le=we.sibling,x=qi(we,{mode:"hidden",children:x.children}),x.subtreeFlags=we.subtreeFlags&65011712,Le!==null?w=qi(Le,w):(w=wo(w,se,f,null),w.flags|=2),w.return=c,x.return=c,x.sibling=w,c.child=x,x=w,w=c.child,se=o.child.memoizedState,se===null?se=tg(f):(we=se.cachePool,we!==null?(Le=ln._currentValue,we=we.parent!==Le?{parent:Le,pool:Le}:we):we=EN(),se={baseLanes:se.baseLanes|f,cachePool:we}),w.memoizedState=se,w.childLanes=rg(o,K,f),c.memoizedState=eg,x):(Ms(c),f=o.child,o=f.sibling,f=qi(f,{mode:"visible",children:x.children}),f.return=c,f.sibling=null,o!==null&&(K=c.deletions,K===null?(c.deletions=[o],c.flags|=16):K.push(o)),c.child=f,c.memoizedState=null,f)}function ng(o,c){return c=kf({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function kf(o,c){return o=ya(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function ag(o,c,f){return Fl(c,o.child,null,f),o=ng(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function qT(o,c,f){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),wx(o.return,c,f)}function ig(o,c,f,x,w){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:w}:(_.isBackwards=c,_.rendering=null,_.renderingStartTime=0,_.last=x,_.tail=f,_.tailMode=w)}function WT(o,c,f){var x=c.pendingProps,w=x.revealOrder,_=x.tail;if(Sn(o,c,x.children,f),x=cn.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&qT(o,f,c);else if(o.tag===19)qT(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}switch(ee(cn,x),w){case"forwards":for(f=c.child,w=null;f!==null;)o=f.alternate,o!==null&&Af(o)===null&&(w=f),f=f.sibling;f=w,f===null?(w=c.child,c.child=null):(w=f.sibling,f.sibling=null),ig(c,!1,w,f,_);break;case"backwards":for(f=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&Af(o)===null){c.child=w;break}o=w.sibling,w.sibling=f,f=w,w=o}ig(c,!0,f,null,_);break;case"together":ig(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Xi(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),Us|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(Td(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(a(153));if(c.child!==null){for(o=c.child,f=qi(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=qi(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function sg(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&uf(o)))}function oB(o,c,f){switch(c.tag){case 3:xe(c,c.stateNode.containerInfo),ks(c,ln,o.memoizedState.cache),Sd();break;case 27:case 5:ge(c);break;case 4:xe(c,c.stateNode.containerInfo);break;case 10:ks(c,c.type,c.memoizedProps.value);break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(Ms(c),c.flags|=128,null):(f&c.child.childLanes)!==0?UT(o,c,f):(Ms(c),o=Xi(o,c,f),o!==null?o.sibling:null);Ms(c);break;case 19:var w=(o.flags&128)!==0;if(x=(f&c.childLanes)!==0,x||(Td(o,c,f,!1),x=(f&c.childLanes)!==0),w){if(x)return WT(o,c,f);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ee(cn,cn.current),x)break;return null;case 22:case 23:return c.lanes=0,BT(o,c,f);case 24:ks(c,ln,o.memoizedState.cache)}return Xi(o,c,f)}function HT(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)mn=!0;else{if(!sg(o,f)&&(c.flags&128)===0)return mn=!1,oB(o,c,f);mn=(o.flags&131072)!==0}else mn=!1,dr&&(c.flags&1048576)!==0&&jN(c,df,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var x=c.elementType,w=x._init;if(x=w(x._payload),c.type=x,typeof x=="function")mx(x)?(o=ko(x,o),c.tag=1,c=$T(null,c,x,o,f)):(c.tag=0,c=Jx(null,c,x,o,f));else{if(x!=null){if(w=x.$$typeof,w===S){c.tag=11,c=RT(null,c,x,o,f);break e}else if(w===D){c.tag=14,c=PT(null,c,x,o,f);break e}}throw c=P(x)||x,Error(a(306,c,""))}}return c;case 0:return Jx(o,c,c.type,c.pendingProps,f);case 1:return x=c.type,w=ko(x,c.pendingProps),$T(o,c,x,w,f);case 3:e:{if(xe(c,c.stateNode.containerInfo),o===null)throw Error(a(387));x=c.pendingProps;var _=c.memoizedState;w=_.element,Ox(o,c),Id(c,x,null,f);var K=c.memoizedState;if(x=K.cache,ks(c,ln,x),x!==_.cache&&Sx(c,[ln],f,!0),kd(),x=K.element,_.isDehydrated)if(_={element:x,isDehydrated:!1,cache:K.cache},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){c=zT(o,c,x,f);break e}else if(x!==w){w=Pa(Error(a(424)),c),Nd(w),c=zT(o,c,x,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(zr=ai(o.firstChild),Yn=c,dr=!0,To=null,Ni=!0,f=ST(c,null,x,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Sd(),x===w){c=Xi(o,c,f);break e}Sn(o,c,x,f)}c=c.child}return c;case 26:return _f(o,c),o===null?(f=KC(c.type,null,c.pendingProps,null))?c.memoizedState=f:dr||(f=c.type,o=c.pendingProps,x=Hf(ae.current).createElement(f),x[Lt]=c,x[ve]=o,Tn(x,f,o),De(x),c.stateNode=x):c.memoizedState=KC(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return ge(c),o===null&&dr&&(x=c.stateNode=GC(c.type,c.pendingProps,ae.current),Yn=c,Ni=!0,w=zr,Gs(c.type)?($g=w,zr=ai(x.firstChild)):zr=w),Sn(o,c,c.pendingProps.children,f),_f(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&dr&&((w=x=zr)&&(x=PB(x,c.type,c.pendingProps,Ni),x!==null?(c.stateNode=x,Yn=c,zr=ai(x.firstChild),Ni=!1,w=!0):w=!1),w||Co(c)),ge(c),w=c.type,_=c.pendingProps,K=o!==null?o.memoizedProps:null,x=_.children,Mg(w,_)?x=null:K!==null&&Mg(w,K)&&(c.flags|=32),c.memoizedState!==null&&(w=Px(o,c,JM,null,null,f),eu._currentValue=w),_f(o,c),Sn(o,c,x,f),c.child;case 6:return o===null&&dr&&((o=f=zr)&&(f=MB(f,c.pendingProps,Ni),f!==null?(c.stateNode=f,Yn=c,zr=null,o=!0):o=!1),o||Co(c)),null;case 13:return UT(o,c,f);case 4:return xe(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=Fl(c,null,x,f):Sn(o,c,x,f),c.child;case 11:return RT(o,c,c.type,c.pendingProps,f);case 7:return Sn(o,c,c.pendingProps,f),c.child;case 8:return Sn(o,c,c.pendingProps.children,f),c.child;case 12:return Sn(o,c,c.pendingProps.children,f),c.child;case 10:return x=c.pendingProps,ks(c,c.type,x.value),Sn(o,c,x.children,f),c.child;case 9:return w=c.type._context,x=c.pendingProps.children,Eo(c),w=Bn(w),x=x(w),c.flags|=1,Sn(o,c,x,f),c.child;case 14:return PT(o,c,c.type,c.pendingProps,f);case 15:return MT(o,c,c.type,c.pendingProps,f);case 19:return WT(o,c,f);case 31:return x=c.pendingProps,f=c.mode,x={mode:x.mode,children:x.children},o===null?(f=kf(x,f),f.ref=c.ref,c.child=f,f.return=c,c=f):(f=qi(o.child,x),f.ref=c.ref,c.child=f,f.return=c,c=f),c;case 22:return BT(o,c,f);case 24:return Eo(c),x=Bn(ln),o===null?(w=Cx(),w===null&&(w=_r,_=Nx(),w.pooledCache=_,_.refCount++,_!==null&&(w.pooledCacheLanes|=f),w=_),c.memoizedState={parent:x,cache:w},Ex(c),ks(c,ln,w)):((o.lanes&f)!==0&&(Ox(o,c),Id(c,null,null,f),kd()),w=o.memoizedState,_=c.memoizedState,w.parent!==x?(w={parent:x,cache:x},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),ks(c,ln,x)):(x=_.cache,ks(c,ln,x),x!==w.cache&&Sx(c,[ln],f,!0))),Sn(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(a(156,c.tag))}function Qi(o){o.flags|=4}function GT(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!eA(c)){if(c=La.current,c!==null&&((rr&4194048)===rr?Ti!==null:(rr&62914560)!==rr&&(rr&536870912)===0||c!==Ti))throw Od=Ax,ON;o.flags|=8192}}function If(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Oe():536870912,o.lanes|=c,Ul|=c)}function Ld(o,c){if(!dr)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function $r(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,x=0;if(c)for(var w=o.child;w!==null;)f|=w.lanes|w.childLanes,x|=w.subtreeFlags&65011712,x|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)f|=w.lanes|w.childLanes,x|=w.subtreeFlags,x|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=x,o.childLanes=f,c}function lB(o,c,f){var x=c.pendingProps;switch(vx(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(c),null;case 1:return $r(c),null;case 3:return f=c.stateNode,x=null,o!==null&&(x=o.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),Vi(ln),Z(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(wd(c)?Qi(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,NN())),$r(c),null;case 26:return f=c.memoizedState,o===null?(Qi(c),f!==null?($r(c),GT(c,f)):($r(c),c.flags&=-16777217)):f?f!==o.memoizedState?(Qi(c),$r(c),GT(c,f)):($r(c),c.flags&=-16777217):(o.memoizedProps!==x&&Qi(c),$r(c),c.flags&=-16777217),null;case 27:je(c),f=ae.current;var w=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==x&&Qi(c);else{if(!x){if(c.stateNode===null)throw Error(a(166));return $r(c),null}o=q.current,wd(c)?wN(c):(o=GC(w,x,f),c.stateNode=o,Qi(c))}return $r(c),null;case 5:if(je(c),f=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==x&&Qi(c);else{if(!x){if(c.stateNode===null)throw Error(a(166));return $r(c),null}if(o=q.current,wd(c))wN(c);else{switch(w=Hf(ae.current),o){case 1:o=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=w.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof x.is=="string"?w.createElement("select",{is:x.is}):w.createElement("select"),x.multiple?o.multiple=!0:x.size&&(o.size=x.size);break;default:o=typeof x.is=="string"?w.createElement(f,{is:x.is}):w.createElement(f)}}o[Lt]=c,o[ve]=x;e:for(w=c.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===c)break e;for(;w.sibling===null;){if(w.return===null||w.return===c)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}c.stateNode=o;e:switch(Tn(o,f,x),f){case"button":case"input":case"select":case"textarea":o=!!x.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Qi(c)}}return $r(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==x&&Qi(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(a(166));if(o=ae.current,wd(c)){if(o=c.stateNode,f=c.memoizedProps,x=null,w=Yn,w!==null)switch(w.tag){case 27:case 5:x=w.memoizedProps}o[Lt]=c,o=!!(o.nodeValue===f||x!==null&&x.suppressHydrationWarning===!0||LC(o.nodeValue,f)),o||Co(c)}else o=Hf(o).createTextNode(x),o[Lt]=c,c.stateNode=o}return $r(c),null;case 13:if(x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=wd(c),x!==null&&x.dehydrated!==null){if(o===null){if(!w)throw Error(a(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(a(317));w[Lt]=c}else Sd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;$r(c),w=!1}else w=NN(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Ki(c),c):(Ki(c),null)}if(Ki(c),(c.flags&128)!==0)return c.lanes=f,c;if(f=x!==null,o=o!==null&&o.memoizedState!==null,f){x=c.child,w=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(w=x.alternate.memoizedState.cachePool.pool);var _=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(_=x.memoizedState.cachePool.pool),_!==w&&(x.flags|=2048)}return f!==o&&f&&(c.child.flags|=8192),If(c,c.updateQueue),$r(c),null;case 4:return Z(),o===null&&kg(c.stateNode.containerInfo),$r(c),null;case 10:return Vi(c.type),$r(c),null;case 19:if(z(cn),w=c.memoizedState,w===null)return $r(c),null;if(x=(c.flags&128)!==0,_=w.rendering,_===null)if(x)Ld(w,!1);else{if(Ur!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(_=Af(o),_!==null){for(c.flags|=128,Ld(w,!1),o=_.updateQueue,c.updateQueue=o,If(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)bN(f,o),f=f.sibling;return ee(cn,cn.current&1|2),c.child}o=o.sibling}w.tail!==null&&Ce()>Pf&&(c.flags|=128,x=!0,Ld(w,!1),c.lanes=4194304)}else{if(!x)if(o=Af(_),o!==null){if(c.flags|=128,x=!0,o=o.updateQueue,c.updateQueue=o,If(c,o),Ld(w,!0),w.tail===null&&w.tailMode==="hidden"&&!_.alternate&&!dr)return $r(c),null}else 2*Ce()-w.renderingStartTime>Pf&&f!==536870912&&(c.flags|=128,x=!0,Ld(w,!1),c.lanes=4194304);w.isBackwards?(_.sibling=c.child,c.child=_):(o=w.last,o!==null?o.sibling=_:c.child=_,w.last=_)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=Ce(),c.sibling=null,o=cn.current,ee(cn,x?o&1|2:o&1),c):($r(c),null);case 22:case 23:return Ki(c),Dx(),x=c.memoizedState!==null,o!==null?o.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(f&536870912)!==0&&(c.flags&128)===0&&($r(c),c.subtreeFlags&6&&(c.flags|=8192)):$r(c),f=c.updateQueue,f!==null&&If(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==f&&(c.flags|=2048),o!==null&&z(Oo),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Vi(ln),$r(c),null;case 25:return null;case 30:return null}throw Error(a(156,c.tag))}function cB(o,c){switch(vx(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Vi(ln),Z(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return je(c),null;case 13:if(Ki(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(a(340));Sd()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return z(cn),null;case 4:return Z(),null;case 10:return Vi(c.type),null;case 22:case 23:return Ki(c),Dx(),o!==null&&z(Oo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Vi(ln),null;case 25:return null;default:return null}}function VT(o,c){switch(vx(c),c.tag){case 3:Vi(ln),Z();break;case 26:case 27:case 5:je(c);break;case 4:Z();break;case 13:Ki(c);break;case 19:z(cn);break;case 10:Vi(c.type);break;case 22:case 23:Ki(c),Dx(),o!==null&&z(Oo);break;case 24:Vi(ln)}}function $d(o,c){try{var f=c.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var w=x.next;f=w;do{if((f.tag&o)===o){x=void 0;var _=f.create,K=f.inst;x=_(),K.destroy=x}f=f.next}while(f!==w)}}catch(se){Er(c,c.return,se)}}function Fs(o,c,f){try{var x=c.updateQueue,w=x!==null?x.lastEffect:null;if(w!==null){var _=w.next;x=_;do{if((x.tag&o)===o){var K=x.inst,se=K.destroy;if(se!==void 0){K.destroy=void 0,w=c;var we=f,Le=se;try{Le()}catch(at){Er(w,we,at)}}}x=x.next}while(x!==_)}}catch(at){Er(c,c.return,at)}}function YT(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{PN(c,f)}catch(x){Er(o,o.return,x)}}}function KT(o,c,f){f.props=ko(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(x){Er(o,c,x)}}function zd(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var x=o.stateNode;break;case 30:x=o.stateNode;break;default:x=o.stateNode}typeof f=="function"?o.refCleanup=f(x):f.current=x}}catch(w){Er(o,c,w)}}function Ci(o,c){var f=o.ref,x=o.refCleanup;if(f!==null)if(typeof x=="function")try{x()}catch(w){Er(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){Er(o,c,w)}else f.current=null}function XT(o){var c=o.type,f=o.memoizedProps,x=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&x.focus();break e;case"img":f.src?x.src=f.src:f.srcSet&&(x.srcset=f.srcSet)}}catch(w){Er(o,o.return,w)}}function og(o,c,f){try{var x=o.stateNode;_B(x,o.type,f,c),x[ve]=c}catch(w){Er(o,o.return,w)}}function QT(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Gs(o.type)||o.tag===4}function lg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||QT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Gs(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function cg(o,c,f){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Wf));else if(x!==4&&(x===27&&Gs(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(cg(o,c,f),o=o.sibling;o!==null;)cg(o,c,f),o=o.sibling}function Df(o,c,f){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(x!==4&&(x===27&&Gs(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Df(o,c,f),o=o.sibling;o!==null;)Df(o,c,f),o=o.sibling}function ZT(o){var c=o.stateNode,f=o.memoizedProps;try{for(var x=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);Tn(c,x,f),c[Lt]=o,c[ve]=f}catch(_){Er(o,o.return,_)}}var Zi=!1,Yr=!1,dg=!1,JT=typeof WeakSet=="function"?WeakSet:Set,xn=null;function dB(o,c){if(o=o.containerInfo,Rg=Qf,o=dN(o),lx(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var w=x.anchorOffset,_=x.focusNode;x=x.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var K=0,se=-1,we=-1,Le=0,at=0,ot=o,ze=null;t:for(;;){for(var We;ot!==f||w!==0&&ot.nodeType!==3||(se=K+w),ot!==_||x!==0&&ot.nodeType!==3||(we=K+x),ot.nodeType===3&&(K+=ot.nodeValue.length),(We=ot.firstChild)!==null;)ze=ot,ot=We;for(;;){if(ot===o)break t;if(ze===f&&++Le===w&&(se=K),ze===_&&++at===x&&(we=K),(We=ot.nextSibling)!==null)break;ot=ze,ze=ot.parentNode}ot=We}f=se===-1||we===-1?null:{start:se,end:we}}else f=null}f=f||{start:0,end:0}}else f=null;for(Pg={focusedElem:o,selectionRange:f},Qf=!1,xn=c;xn!==null;)if(c=xn,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,xn=o;else for(;xn!==null;){switch(c=xn,_=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,f=c,w=_.memoizedProps,_=_.memoizedState,x=f.stateNode;try{var Pt=ko(f.type,w,f.elementType===f.type);o=x.getSnapshotBeforeUpdate(Pt,_),x.__reactInternalSnapshotBeforeUpdate=o}catch(kt){Er(f,f.return,kt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)Fg(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Fg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(a(163))}if(o=c.sibling,o!==null){o.return=c.return,xn=o;break}xn=c.return}}function eC(o,c,f){var x=f.flags;switch(f.tag){case 0:case 11:case 15:Ls(o,f),x&4&&$d(5,f);break;case 1:if(Ls(o,f),x&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(K){Er(f,f.return,K)}else{var w=ko(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(K){Er(f,f.return,K)}}x&64&&YT(f),x&512&&zd(f,f.return);break;case 3:if(Ls(o,f),x&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{PN(o,c)}catch(K){Er(f,f.return,K)}}break;case 27:c===null&&x&4&&ZT(f);case 26:case 5:Ls(o,f),c===null&&x&4&&XT(f),x&512&&zd(f,f.return);break;case 12:Ls(o,f);break;case 13:Ls(o,f),x&4&&nC(o,f),x&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=vB.bind(null,f),BB(o,f))));break;case 22:if(x=f.memoizedState!==null||Zi,!x){c=c!==null&&c.memoizedState!==null||Yr,w=Zi;var _=Yr;Zi=x,(Yr=c)&&!_?$s(o,f,(f.subtreeFlags&8772)!==0):Ls(o,f),Zi=w,Yr=_}break;case 30:break;default:Ls(o,f)}}function tC(o){var c=o.alternate;c!==null&&(o.alternate=null,tC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ue(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Mr=null,sa=!1;function Ji(o,c,f){for(f=f.child;f!==null;)rC(o,c,f),f=f.sibling}function rC(o,c,f){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Xe,f)}catch{}switch(f.tag){case 26:Yr||Ci(f,c),Ji(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Yr||Ci(f,c);var x=Mr,w=sa;Gs(f.type)&&(Mr=f.stateNode,sa=!1),Ji(o,c,f),Xd(f.stateNode),Mr=x,sa=w;break;case 5:Yr||Ci(f,c);case 6:if(x=Mr,w=sa,Mr=null,Ji(o,c,f),Mr=x,sa=w,Mr!==null)if(sa)try{(Mr.nodeType===9?Mr.body:Mr.nodeName==="HTML"?Mr.ownerDocument.body:Mr).removeChild(f.stateNode)}catch(_){Er(f,c,_)}else try{Mr.removeChild(f.stateNode)}catch(_){Er(f,c,_)}break;case 18:Mr!==null&&(sa?(o=Mr,WC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),au(o)):WC(Mr,f.stateNode));break;case 4:x=Mr,w=sa,Mr=f.stateNode.containerInfo,sa=!0,Ji(o,c,f),Mr=x,sa=w;break;case 0:case 11:case 14:case 15:Yr||Fs(2,f,c),Yr||Fs(4,f,c),Ji(o,c,f);break;case 1:Yr||(Ci(f,c),x=f.stateNode,typeof x.componentWillUnmount=="function"&&KT(f,c,x)),Ji(o,c,f);break;case 21:Ji(o,c,f);break;case 22:Yr=(x=Yr)||f.memoizedState!==null,Ji(o,c,f),Yr=x;break;default:Ji(o,c,f)}}function nC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{au(o)}catch(f){Er(c,c.return,f)}}function uB(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new JT),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new JT),c;default:throw Error(a(435,o.tag))}}function ug(o,c){var f=uB(o);c.forEach(function(x){var w=bB.bind(null,o,x);f.has(x)||(f.add(x),x.then(w,w))})}function va(o,c){var f=c.deletions;if(f!==null)for(var x=0;x<f.length;x++){var w=f[x],_=o,K=c,se=K;e:for(;se!==null;){switch(se.tag){case 27:if(Gs(se.type)){Mr=se.stateNode,sa=!1;break e}break;case 5:Mr=se.stateNode,sa=!1;break e;case 3:case 4:Mr=se.stateNode.containerInfo,sa=!0;break e}se=se.return}if(Mr===null)throw Error(a(160));rC(_,K,w),Mr=null,sa=!1,_=w.alternate,_!==null&&(_.return=null),w.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)aC(c,o),c=c.sibling}var ni=null;function aC(o,c){var f=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:va(c,o),ba(o),x&4&&(Fs(3,o,o.return),$d(3,o),Fs(5,o,o.return));break;case 1:va(c,o),ba(o),x&512&&(Yr||f===null||Ci(f,f.return)),x&64&&Zi&&(o=o.updateQueue,o!==null&&(x=o.callbacks,x!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?x:f.concat(x))));break;case 26:var w=ni;if(va(c,o),ba(o),x&512&&(Yr||f===null||Ci(f,f.return)),x&4){var _=f!==null?f.memoizedState:null;if(x=o.memoizedState,f===null)if(x===null)if(o.stateNode===null){e:{x=o.type,f=o.memoizedProps,w=w.ownerDocument||w;t:switch(x){case"title":_=w.getElementsByTagName("title")[0],(!_||_[X]||_[Lt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=w.createElement(x),w.head.insertBefore(_,w.querySelector("head > title"))),Tn(_,x,f),_[Lt]=o,De(_),x=_;break e;case"link":var K=ZC("link","href",w).get(x+(f.href||""));if(K){for(var se=0;se<K.length;se++)if(_=K[se],_.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&_.getAttribute("rel")===(f.rel==null?null:f.rel)&&_.getAttribute("title")===(f.title==null?null:f.title)&&_.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){K.splice(se,1);break t}}_=w.createElement(x),Tn(_,x,f),w.head.appendChild(_);break;case"meta":if(K=ZC("meta","content",w).get(x+(f.content||""))){for(se=0;se<K.length;se++)if(_=K[se],_.getAttribute("content")===(f.content==null?null:""+f.content)&&_.getAttribute("name")===(f.name==null?null:f.name)&&_.getAttribute("property")===(f.property==null?null:f.property)&&_.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&_.getAttribute("charset")===(f.charSet==null?null:f.charSet)){K.splice(se,1);break t}}_=w.createElement(x),Tn(_,x,f),w.head.appendChild(_);break;default:throw Error(a(468,x))}_[Lt]=o,De(_),x=_}o.stateNode=x}else JC(w,o.type,o.stateNode);else o.stateNode=QC(w,x,o.memoizedProps);else _!==x?(_===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):_.count--,x===null?JC(w,o.type,o.stateNode):QC(w,x,o.memoizedProps)):x===null&&o.stateNode!==null&&og(o,o.memoizedProps,f.memoizedProps)}break;case 27:va(c,o),ba(o),x&512&&(Yr||f===null||Ci(f,f.return)),f!==null&&x&4&&og(o,o.memoizedProps,f.memoizedProps);break;case 5:if(va(c,o),ba(o),x&512&&(Yr||f===null||Ci(f,f.return)),o.flags&32){w=o.stateNode;try{bl(w,"")}catch(We){Er(o,o.return,We)}}x&4&&o.stateNode!=null&&(w=o.memoizedProps,og(o,w,f!==null?f.memoizedProps:w)),x&1024&&(dg=!0);break;case 6:if(va(c,o),ba(o),x&4){if(o.stateNode===null)throw Error(a(162));x=o.memoizedProps,f=o.stateNode;try{f.nodeValue=x}catch(We){Er(o,o.return,We)}}break;case 3:if(Yf=null,w=ni,ni=Gf(c.containerInfo),va(c,o),ni=w,ba(o),x&4&&f!==null&&f.memoizedState.isDehydrated)try{au(c.containerInfo)}catch(We){Er(o,o.return,We)}dg&&(dg=!1,iC(o));break;case 4:x=ni,ni=Gf(o.stateNode.containerInfo),va(c,o),ba(o),ni=x;break;case 12:va(c,o),ba(o);break;case 13:va(c,o),ba(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(gg=Ce()),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,ug(o,x)));break;case 22:w=o.memoizedState!==null;var we=f!==null&&f.memoizedState!==null,Le=Zi,at=Yr;if(Zi=Le||w,Yr=at||we,va(c,o),Yr=at,Zi=Le,ba(o),x&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(f===null||we||Zi||Yr||Io(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){we=f=c;try{if(_=we.stateNode,w)K=_.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{se=we.stateNode;var ot=we.memoizedProps.style,ze=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;se.style.display=ze==null||typeof ze=="boolean"?"":(""+ze).trim()}}catch(We){Er(we,we.return,We)}}}else if(c.tag===6){if(f===null){we=c;try{we.stateNode.nodeValue=w?"":we.memoizedProps}catch(We){Er(we,we.return,We)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=o.updateQueue,x!==null&&(f=x.retryQueue,f!==null&&(x.retryQueue=null,ug(o,f))));break;case 19:va(c,o),ba(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,ug(o,x)));break;case 30:break;case 21:break;default:va(c,o),ba(o)}}function ba(o){var c=o.flags;if(c&2){try{for(var f,x=o.return;x!==null;){if(QT(x)){f=x;break}x=x.return}if(f==null)throw Error(a(160));switch(f.tag){case 27:var w=f.stateNode,_=lg(o);Df(o,_,w);break;case 5:var K=f.stateNode;f.flags&32&&(bl(K,""),f.flags&=-33);var se=lg(o);Df(o,se,K);break;case 3:case 4:var we=f.stateNode.containerInfo,Le=lg(o);cg(o,Le,we);break;default:throw Error(a(161))}}catch(at){Er(o,o.return,at)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function iC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;iC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Ls(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)eC(o,c.alternate,c),c=c.sibling}function Io(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Fs(4,c,c.return),Io(c);break;case 1:Ci(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&KT(c,c.return,f),Io(c);break;case 27:Xd(c.stateNode);case 26:case 5:Ci(c,c.return),Io(c);break;case 22:c.memoizedState===null&&Io(c);break;case 30:Io(c);break;default:Io(c)}o=o.sibling}}function $s(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,w=o,_=c,K=_.flags;switch(_.tag){case 0:case 11:case 15:$s(w,_,f),$d(4,_);break;case 1:if($s(w,_,f),x=_,w=x.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Le){Er(x,x.return,Le)}if(x=_,w=x.updateQueue,w!==null){var se=x.stateNode;try{var we=w.shared.hiddenCallbacks;if(we!==null)for(w.shared.hiddenCallbacks=null,w=0;w<we.length;w++)RN(we[w],se)}catch(Le){Er(x,x.return,Le)}}f&&K&64&&YT(_),zd(_,_.return);break;case 27:ZT(_);case 26:case 5:$s(w,_,f),f&&x===null&&K&4&&XT(_),zd(_,_.return);break;case 12:$s(w,_,f);break;case 13:$s(w,_,f),f&&K&4&&nC(w,_);break;case 22:_.memoizedState===null&&$s(w,_,f),zd(_,_.return);break;case 30:break;default:$s(w,_,f)}c=c.sibling}}function hg(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Cd(f))}function fg(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Cd(o))}function Ai(o,c,f,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)sC(o,c,f,x),c=c.sibling}function sC(o,c,f,x){var w=c.flags;switch(c.tag){case 0:case 11:case 15:Ai(o,c,f,x),w&2048&&$d(9,c);break;case 1:Ai(o,c,f,x);break;case 3:Ai(o,c,f,x),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Cd(o)));break;case 12:if(w&2048){Ai(o,c,f,x),o=c.stateNode;try{var _=c.memoizedProps,K=_.id,se=_.onPostCommit;typeof se=="function"&&se(K,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(we){Er(c,c.return,we)}}else Ai(o,c,f,x);break;case 13:Ai(o,c,f,x);break;case 23:break;case 22:_=c.stateNode,K=c.alternate,c.memoizedState!==null?_._visibility&2?Ai(o,c,f,x):Ud(o,c):_._visibility&2?Ai(o,c,f,x):(_._visibility|=2,Ll(o,c,f,x,(c.subtreeFlags&10256)!==0)),w&2048&&hg(K,c);break;case 24:Ai(o,c,f,x),w&2048&&fg(c.alternate,c);break;default:Ai(o,c,f,x)}}function Ll(o,c,f,x,w){for(w=w&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var _=o,K=c,se=f,we=x,Le=K.flags;switch(K.tag){case 0:case 11:case 15:Ll(_,K,se,we,w),$d(8,K);break;case 23:break;case 22:var at=K.stateNode;K.memoizedState!==null?at._visibility&2?Ll(_,K,se,we,w):Ud(_,K):(at._visibility|=2,Ll(_,K,se,we,w)),w&&Le&2048&&hg(K.alternate,K);break;case 24:Ll(_,K,se,we,w),w&&Le&2048&&fg(K.alternate,K);break;default:Ll(_,K,se,we,w)}c=c.sibling}}function Ud(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,x=c,w=x.flags;switch(x.tag){case 22:Ud(f,x),w&2048&&hg(x.alternate,x);break;case 24:Ud(f,x),w&2048&&fg(x.alternate,x);break;default:Ud(f,x)}c=c.sibling}}var qd=8192;function $l(o){if(o.subtreeFlags&qd)for(o=o.child;o!==null;)oC(o),o=o.sibling}function oC(o){switch(o.tag){case 26:$l(o),o.flags&qd&&o.memoizedState!==null&&XB(ni,o.memoizedState,o.memoizedProps);break;case 5:$l(o);break;case 3:case 4:var c=ni;ni=Gf(o.stateNode.containerInfo),$l(o),ni=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=qd,qd=16777216,$l(o),qd=c):$l(o));break;default:$l(o)}}function lC(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Wd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var x=c[f];xn=x,dC(x,o)}lC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)cC(o),o=o.sibling}function cC(o){switch(o.tag){case 0:case 11:case 15:Wd(o),o.flags&2048&&Fs(9,o,o.return);break;case 3:Wd(o);break;case 12:Wd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Rf(o)):Wd(o);break;default:Wd(o)}}function Rf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var x=c[f];xn=x,dC(x,o)}lC(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Fs(8,c,c.return),Rf(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,Rf(c));break;default:Rf(c)}o=o.sibling}}function dC(o,c){for(;xn!==null;){var f=xn;switch(f.tag){case 0:case 11:case 15:Fs(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var x=f.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Cd(f.memoizedState.cache)}if(x=f.child,x!==null)x.return=f,xn=x;else e:for(f=o;xn!==null;){x=xn;var w=x.sibling,_=x.return;if(tC(x),x===f){xn=null;break e}if(w!==null){w.return=_,xn=w;break e}xn=_}}}var hB={getCacheForType:function(o){var c=Bn(ln),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f}},fB=typeof WeakMap=="function"?WeakMap:Map,mr=0,_r=null,Kt=null,rr=0,xr=0,ja=null,zs=!1,zl=!1,pg=!1,es=0,Ur=0,Us=0,Do=0,mg=0,$a=0,Ul=0,Hd=null,oa=null,xg=!1,gg=0,Pf=1/0,Mf=null,qs=null,Nn=0,Ws=null,ql=null,Wl=0,yg=0,vg=null,uC=null,Gd=0,bg=null;function wa(){if((mr&2)!==0&&rr!==0)return rr&-rr;if(R.T!==null){var o=kl;return o!==0?o:Ag()}return ht()}function hC(){$a===0&&($a=(rr&536870912)===0||dr?me():536870912);var o=La.current;return o!==null&&(o.flags|=32),$a}function Sa(o,c,f){(o===_r&&(xr===2||xr===9)||o.cancelPendingCommit!==null)&&(Hl(o,0),Hs(o,rr,$a,!1)),st(o,f),((mr&2)===0||o!==_r)&&(o===_r&&((mr&2)===0&&(Do|=f),Ur===4&&Hs(o,rr,$a,!1)),Ei(o))}function fC(o,c,f){if((mr&6)!==0)throw Error(a(327));var x=!f&&(c&124)===0&&(c&o.expiredLanes)===0||Ye(o,c),w=x?xB(o,c):Sg(o,c,!0),_=x;do{if(w===0){zl&&!x&&Hs(o,c,0,!1);break}else{if(f=o.current.alternate,_&&!pB(f)){w=Sg(o,c,!1),_=!1;continue}if(w===2){if(_=c,o.errorRecoveryDisabledLanes&_)var K=0;else K=o.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){c=K;e:{var se=o;w=Hd;var we=se.current.memoizedState.isDehydrated;if(we&&(Hl(se,K).flags|=256),K=Sg(se,K,!1),K!==2){if(pg&&!we){se.errorRecoveryDisabledLanes|=_,Do|=_,w=4;break e}_=oa,oa=w,_!==null&&(oa===null?oa=_:oa.push.apply(oa,_))}w=K}if(_=!1,w!==2)continue}}if(w===1){Hl(o,0),Hs(o,c,0,!0);break}e:{switch(x=o,_=w,_){case 0:case 1:throw Error(a(345));case 4:if((c&4194048)!==c)break;case 6:Hs(x,c,$a,!zs);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(a(329))}if((c&62914560)===c&&(w=gg+300-Ce(),10<w)){if(Hs(x,c,$a,!zs),$e(x,0,!0)!==0)break e;x.timeoutHandle=UC(pC.bind(null,x,f,oa,Mf,xg,c,$a,Do,Ul,zs,_,2,-0,0),w);break e}pC(x,f,oa,Mf,xg,c,$a,Do,Ul,zs,_,0,-0,0)}}break}while(!0);Ei(o)}function pC(o,c,f,x,w,_,K,se,we,Le,at,ot,ze,We){if(o.timeoutHandle=-1,ot=c.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(Jd={stylesheets:null,count:0,unsuspend:KB},oC(c),ot=QB(),ot!==null)){o.cancelPendingCommit=ot(jC.bind(null,o,c,_,f,x,w,K,se,we,at,1,ze,We)),Hs(o,_,K,!Le);return}jC(o,c,_,f,x,w,K,se,we)}function pB(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var x=0;x<f.length;x++){var w=f[x],_=w.getSnapshot;w=w.value;try{if(!ga(_(),w))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Hs(o,c,f,x){c&=~mg,c&=~Do,o.suspendedLanes|=c,o.pingedLanes&=~c,x&&(o.warmLanes|=c),x=o.expirationTimes;for(var w=c;0<w;){var _=31-_e(w),K=1<<_;x[_]=-1,w&=~K}f!==0&&vt(o,f,c)}function Bf(){return(mr&6)===0?(Vd(0),!1):!0}function jg(){if(Kt!==null){if(xr===0)var o=Kt.return;else o=Kt,Gi=Ao=null,Fx(o),Bl=null,Bd=0,o=Kt;for(;o!==null;)VT(o.alternate,o),o=o.return;Kt=null}}function Hl(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,IB(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),jg(),_r=o,Kt=f=qi(o.current,null),rr=c,xr=0,ja=null,zs=!1,zl=Ye(o,c),pg=!1,Ul=$a=mg=Do=Us=Ur=0,oa=Hd=null,xg=!1,(c&8)!==0&&(c|=c&32);var x=o.entangledLanes;if(x!==0)for(o=o.entanglements,x&=c;0<x;){var w=31-_e(x),_=1<<w;c|=o[w],x&=~_}return es=c,af(),f}function mC(o,c){Ht=null,R.H=Nf,c===Ed||c===pf?(c=IN(),xr=3):c===ON?(c=IN(),xr=4):xr=c===DT?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ja=c,Kt===null&&(Ur=1,Of(o,Pa(c,o.current)))}function xC(){var o=R.H;return R.H=Nf,o===null?Nf:o}function gC(){var o=R.A;return R.A=hB,o}function wg(){Ur=4,zs||(rr&4194048)!==rr&&La.current!==null||(zl=!0),(Us&134217727)===0&&(Do&134217727)===0||_r===null||Hs(_r,rr,$a,!1)}function Sg(o,c,f){var x=mr;mr|=2;var w=xC(),_=gC();(_r!==o||rr!==c)&&(Mf=null,Hl(o,c)),c=!1;var K=Ur;e:do try{if(xr!==0&&Kt!==null){var se=Kt,we=ja;switch(xr){case 8:jg(),K=6;break e;case 3:case 2:case 9:case 6:La.current===null&&(c=!0);var Le=xr;if(xr=0,ja=null,Gl(o,se,we,Le),f&&zl){K=0;break e}break;default:Le=xr,xr=0,ja=null,Gl(o,se,we,Le)}}mB(),K=Ur;break}catch(at){mC(o,at)}while(!0);return c&&o.shellSuspendCounter++,Gi=Ao=null,mr=x,R.H=w,R.A=_,Kt===null&&(_r=null,rr=0,af()),K}function mB(){for(;Kt!==null;)yC(Kt)}function xB(o,c){var f=mr;mr|=2;var x=xC(),w=gC();_r!==o||rr!==c?(Mf=null,Pf=Ce()+500,Hl(o,c)):zl=Ye(o,c);e:do try{if(xr!==0&&Kt!==null){c=Kt;var _=ja;t:switch(xr){case 1:xr=0,ja=null,Gl(o,c,_,1);break;case 2:case 9:if(_N(_)){xr=0,ja=null,vC(c);break}c=function(){xr!==2&&xr!==9||_r!==o||(xr=7),Ei(o)},_.then(c,c);break e;case 3:xr=7;break e;case 4:xr=5;break e;case 7:_N(_)?(xr=0,ja=null,vC(c)):(xr=0,ja=null,Gl(o,c,_,7));break;case 5:var K=null;switch(Kt.tag){case 26:K=Kt.memoizedState;case 5:case 27:var se=Kt;if(!K||eA(K)){xr=0,ja=null;var we=se.sibling;if(we!==null)Kt=we;else{var Le=se.return;Le!==null?(Kt=Le,Ff(Le)):Kt=null}break t}}xr=0,ja=null,Gl(o,c,_,5);break;case 6:xr=0,ja=null,Gl(o,c,_,6);break;case 8:jg(),Ur=6;break e;default:throw Error(a(462))}}gB();break}catch(at){mC(o,at)}while(!0);return Gi=Ao=null,R.H=x,R.A=w,mr=f,Kt!==null?0:(_r=null,rr=0,af(),Ur)}function gB(){for(;Kt!==null&&!Ve();)yC(Kt)}function yC(o){var c=HT(o.alternate,o,es);o.memoizedProps=o.pendingProps,c===null?Ff(o):Kt=c}function vC(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=LT(f,c,c.pendingProps,c.type,void 0,rr);break;case 11:c=LT(f,c,c.pendingProps,c.type.render,c.ref,rr);break;case 5:Fx(c);default:VT(f,c),c=Kt=bN(c,es),c=HT(f,c,es)}o.memoizedProps=o.pendingProps,c===null?Ff(o):Kt=c}function Gl(o,c,f,x){Gi=Ao=null,Fx(c),Bl=null,Bd=0;var w=c.return;try{if(sB(o,w,c,f,rr)){Ur=1,Of(o,Pa(f,o.current)),Kt=null;return}}catch(_){if(w!==null)throw Kt=w,_;Ur=1,Of(o,Pa(f,o.current)),Kt=null;return}c.flags&32768?(dr||x===1?o=!0:zl||(rr&536870912)!==0?o=!1:(zs=o=!0,(x===2||x===9||x===3||x===6)&&(x=La.current,x!==null&&x.tag===13&&(x.flags|=16384))),bC(c,o)):Ff(c)}function Ff(o){var c=o;do{if((c.flags&32768)!==0){bC(c,zs);return}o=c.return;var f=lB(c.alternate,c,es);if(f!==null){Kt=f;return}if(c=c.sibling,c!==null){Kt=c;return}Kt=c=o}while(c!==null);Ur===0&&(Ur=5)}function bC(o,c){do{var f=cB(o.alternate,o);if(f!==null){f.flags&=32767,Kt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){Kt=o;return}Kt=o=f}while(o!==null);Ur=6,Kt=null}function jC(o,c,f,x,w,_,K,se,we){o.cancelPendingCommit=null;do Lf();while(Nn!==0);if((mr&6)!==0)throw Error(a(327));if(c!==null){if(c===o.current)throw Error(a(177));if(_=c.lanes|c.childLanes,_|=fx,ft(o,f,_,K,se,we),o===_r&&(Kt=_r=null,rr=0),ql=c,Ws=o,Wl=f,yg=_,vg=w,uC=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,jB(J,function(){return CC(),null})):(o.callbackNode=null,o.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=R.T,R.T=null,w=H.p,H.p=2,K=mr,mr|=4;try{dB(o,c,f)}finally{mr=K,H.p=w,R.T=x}}Nn=1,wC(),SC(),NC()}}function wC(){if(Nn===1){Nn=0;var o=Ws,c=ql,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=R.T,R.T=null;var x=H.p;H.p=2;var w=mr;mr|=4;try{aC(c,o);var _=Pg,K=dN(o.containerInfo),se=_.focusedElem,we=_.selectionRange;if(K!==se&&se&&se.ownerDocument&&cN(se.ownerDocument.documentElement,se)){if(we!==null&&lx(se)){var Le=we.start,at=we.end;if(at===void 0&&(at=Le),"selectionStart"in se)se.selectionStart=Le,se.selectionEnd=Math.min(at,se.value.length);else{var ot=se.ownerDocument||document,ze=ot&&ot.defaultView||window;if(ze.getSelection){var We=ze.getSelection(),Pt=se.textContent.length,kt=Math.min(we.start,Pt),Sr=we.end===void 0?kt:Math.min(we.end,Pt);!We.extend&&kt>Sr&&(K=Sr,Sr=kt,kt=K);var Re=lN(se,kt),Ae=lN(se,Sr);if(Re&&Ae&&(We.rangeCount!==1||We.anchorNode!==Re.node||We.anchorOffset!==Re.offset||We.focusNode!==Ae.node||We.focusOffset!==Ae.offset)){var Be=ot.createRange();Be.setStart(Re.node,Re.offset),We.removeAllRanges(),kt>Sr?(We.addRange(Be),We.extend(Ae.node,Ae.offset)):(Be.setEnd(Ae.node,Ae.offset),We.addRange(Be))}}}}for(ot=[],We=se;We=We.parentNode;)We.nodeType===1&&ot.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<ot.length;se++){var it=ot[se];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Qf=!!Rg,Pg=Rg=null}finally{mr=w,H.p=x,R.T=f}}o.current=c,Nn=2}}function SC(){if(Nn===2){Nn=0;var o=Ws,c=ql,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=R.T,R.T=null;var x=H.p;H.p=2;var w=mr;mr|=4;try{eC(o,c.alternate,c)}finally{mr=w,H.p=x,R.T=f}}Nn=3}}function NC(){if(Nn===4||Nn===3){Nn=0,le();var o=Ws,c=ql,f=Wl,x=uC;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Nn=5:(Nn=0,ql=Ws=null,TC(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(qs=null),yt(f),c=c.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Xe,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=R.T,w=H.p,H.p=2,R.T=null;try{for(var _=o.onRecoverableError,K=0;K<x.length;K++){var se=x[K];_(se.value,{componentStack:se.stack})}}finally{R.T=c,H.p=w}}(Wl&3)!==0&&Lf(),Ei(o),w=o.pendingLanes,(f&4194090)!==0&&(w&42)!==0?o===bg?Gd++:(Gd=0,bg=o):Gd=0,Vd(0)}}function TC(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Cd(c)))}function Lf(o){return wC(),SC(),NC(),CC()}function CC(){if(Nn!==5)return!1;var o=Ws,c=yg;yg=0;var f=yt(Wl),x=R.T,w=H.p;try{H.p=32>f?32:f,R.T=null,f=vg,vg=null;var _=Ws,K=Wl;if(Nn=0,ql=Ws=null,Wl=0,(mr&6)!==0)throw Error(a(331));var se=mr;if(mr|=4,cC(_.current),sC(_,_.current,K,f),mr=se,Vd(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Xe,_)}catch{}return!0}finally{H.p=w,R.T=x,TC(o,c)}}function AC(o,c,f){c=Pa(f,c),c=Zx(o.stateNode,c,2),o=Rs(o,c,2),o!==null&&(st(o,2),Ei(o))}function Er(o,c,f){if(o.tag===3)AC(o,o,f);else for(;c!==null;){if(c.tag===3){AC(c,o,f);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(qs===null||!qs.has(x))){o=Pa(f,o),f=kT(2),x=Rs(c,f,2),x!==null&&(IT(f,x,c,o),st(x,2),Ei(x));break}}c=c.return}}function Ng(o,c,f){var x=o.pingCache;if(x===null){x=o.pingCache=new fB;var w=new Set;x.set(c,w)}else w=x.get(c),w===void 0&&(w=new Set,x.set(c,w));w.has(f)||(pg=!0,w.add(f),o=yB.bind(null,o,c,f),c.then(o,o))}function yB(o,c,f){var x=o.pingCache;x!==null&&x.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,_r===o&&(rr&f)===f&&(Ur===4||Ur===3&&(rr&62914560)===rr&&300>Ce()-gg?(mr&2)===0&&Hl(o,0):mg|=f,Ul===rr&&(Ul=0)),Ei(o)}function EC(o,c){c===0&&(c=Oe()),o=Al(o,c),o!==null&&(st(o,c),Ei(o))}function vB(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),EC(o,f)}function bB(o,c){var f=0;switch(o.tag){case 13:var x=o.stateNode,w=o.memoizedState;w!==null&&(f=w.retryLane);break;case 19:x=o.stateNode;break;case 22:x=o.stateNode._retryCache;break;default:throw Error(a(314))}x!==null&&x.delete(c),EC(o,f)}function jB(o,c){return Je(o,c)}var $f=null,Vl=null,Tg=!1,zf=!1,Cg=!1,Ro=0;function Ei(o){o!==Vl&&o.next===null&&(Vl===null?$f=Vl=o:Vl=Vl.next=o),zf=!0,Tg||(Tg=!0,SB())}function Vd(o,c){if(!Cg&&zf){Cg=!0;do for(var f=!1,x=$f;x!==null;){if(o!==0){var w=x.pendingLanes;if(w===0)var _=0;else{var K=x.suspendedLanes,se=x.pingedLanes;_=(1<<31-_e(42|o)+1)-1,_&=w&~(K&~se),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(f=!0,IC(x,_))}else _=rr,_=$e(x,x===_r?_:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(_&3)===0||Ye(x,_)||(f=!0,IC(x,_));x=x.next}while(f);Cg=!1}}function wB(){OC()}function OC(){zf=Tg=!1;var o=0;Ro!==0&&(kB()&&(o=Ro),Ro=0);for(var c=Ce(),f=null,x=$f;x!==null;){var w=x.next,_=_C(x,c);_===0?(x.next=null,f===null?$f=w:f.next=w,w===null&&(Vl=f)):(f=x,(o!==0||(_&3)!==0)&&(zf=!0)),x=w}Vd(o)}function _C(o,c){for(var f=o.suspendedLanes,x=o.pingedLanes,w=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var K=31-_e(_),se=1<<K,we=w[K];we===-1?((se&f)===0||(se&x)!==0)&&(w[K]=Et(se,c)):we<=c&&(o.expiredLanes|=se),_&=~se}if(c=_r,f=rr,f=$e(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x=o.callbackNode,f===0||o===c&&(xr===2||xr===9)||o.cancelPendingCommit!==null)return x!==null&&x!==null&&Ee(x),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Ye(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(x!==null&&Ee(x),yt(f)){case 2:case 8:f=ce;break;case 32:f=J;break;case 268435456:f=te;break;default:f=J}return x=kC.bind(null,o),f=Je(f,x),o.callbackPriority=c,o.callbackNode=f,c}return x!==null&&x!==null&&Ee(x),o.callbackPriority=2,o.callbackNode=null,2}function kC(o,c){if(Nn!==0&&Nn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Lf()&&o.callbackNode!==f)return null;var x=rr;return x=$e(o,o===_r?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x===0?null:(fC(o,x,c),_C(o,Ce()),o.callbackNode!=null&&o.callbackNode===f?kC.bind(null,o):null)}function IC(o,c){if(Lf())return null;fC(o,c,!0)}function SB(){DB(function(){(mr&6)!==0?Je(re,wB):OC()})}function Ag(){return Ro===0&&(Ro=me()),Ro}function DC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Qh(""+o)}function RC(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function NB(o,c,f,x,w){if(c==="submit"&&f&&f.stateNode===w){var _=DC((w[ve]||null).action),K=x.submitter;K&&(c=(c=K[ve]||null)?DC(c.formAction):K.getAttribute("formAction"),c!==null&&(_=c,K=null));var se=new tf("action","action",null,x,w);o.push({event:se,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Ro!==0){var we=K?RC(w,K):new FormData(w);Vx(f,{pending:!0,data:we,method:w.method,action:_},null,we)}}else typeof _=="function"&&(se.preventDefault(),we=K?RC(w,K):new FormData(w),Vx(f,{pending:!0,data:we,method:w.method,action:_},_,we))},currentTarget:w}]})}}for(var Eg=0;Eg<hx.length;Eg++){var Og=hx[Eg],TB=Og.toLowerCase(),CB=Og[0].toUpperCase()+Og.slice(1);ri(TB,"on"+CB)}ri(fN,"onAnimationEnd"),ri(pN,"onAnimationIteration"),ri(mN,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(qM,"onTransitionRun"),ri(WM,"onTransitionStart"),ri(HM,"onTransitionCancel"),ri(xN,"onTransitionEnd"),et("onMouseEnter",["mouseout","mouseover"]),et("onMouseLeave",["mouseout","mouseover"]),et("onPointerEnter",["pointerout","pointerover"]),et("onPointerLeave",["pointerout","pointerover"]),be("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),be("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),be("onBeforeInput",["compositionend","keypress","textInput","paste"]),be("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),be("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),be("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function PC(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var x=o[f],w=x.event;x=x.listeners;e:{var _=void 0;if(c)for(var K=x.length-1;0<=K;K--){var se=x[K],we=se.instance,Le=se.currentTarget;if(se=se.listener,we!==_&&w.isPropagationStopped())break e;_=se,w.currentTarget=Le;try{_(w)}catch(at){Ef(at)}w.currentTarget=null,_=we}else for(K=0;K<x.length;K++){if(se=x[K],we=se.instance,Le=se.currentTarget,se=se.listener,we!==_&&w.isPropagationStopped())break e;_=se,w.currentTarget=Le;try{_(w)}catch(at){Ef(at)}w.currentTarget=null,_=we}}}}function Xt(o,c){var f=c[Ne];f===void 0&&(f=c[Ne]=new Set);var x=o+"__bubble";f.has(x)||(MC(c,o,2,!1),f.add(x))}function _g(o,c,f){var x=0;c&&(x|=4),MC(f,o,x,c)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function kg(o){if(!o[Uf]){o[Uf]=!0,Me.forEach(function(f){f!=="selectionchange"&&(AB.has(f)||_g(f,!1,o),_g(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Uf]||(c[Uf]=!0,_g("selectionchange",!1,c))}}function MC(o,c,f,x){switch(sA(c)){case 2:var w=eF;break;case 8:w=tF;break;default:w=Hg}f=w.bind(null,c,f,o),w=void 0,!J0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),x?w!==void 0?o.addEventListener(c,f,{capture:!0,passive:w}):o.addEventListener(c,f,!0):w!==void 0?o.addEventListener(c,f,{passive:w}):o.addEventListener(c,f,!1)}function Ig(o,c,f,x,w){var _=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var K=x.tag;if(K===3||K===4){var se=x.stateNode.containerInfo;if(se===w)break;if(K===4)for(K=x.return;K!==null;){var we=K.tag;if((we===3||we===4)&&K.stateNode.containerInfo===w)return;K=K.return}for(;se!==null;){if(K=fe(se),K===null)return;if(we=K.tag,we===5||we===6||we===26||we===27){x=_=K;continue e}se=se.parentNode}}x=x.return}qS(function(){var Le=_,at=Q0(f),ot=[];e:{var ze=gN.get(o);if(ze!==void 0){var We=tf,Pt=o;switch(o){case"keypress":if(Jh(f)===0)break e;case"keydown":case"keyup":We=jM;break;case"focusin":Pt="focus",We=nx;break;case"focusout":Pt="blur",We=nx;break;case"beforeblur":case"afterblur":We=nx;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=GS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=cM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=NM;break;case fN:case pN:case mN:We=hM;break;case xN:We=CM;break;case"scroll":case"scrollend":We=oM;break;case"wheel":We=EM;break;case"copy":case"cut":case"paste":We=pM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=YS;break;case"toggle":case"beforetoggle":We=_M}var kt=(c&4)!==0,Sr=!kt&&(o==="scroll"||o==="scrollend"),Re=kt?ze!==null?ze+"Capture":null:ze;kt=[];for(var Ae=Le,Be;Ae!==null;){var it=Ae;if(Be=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Be===null||Re===null||(it=fd(Ae,Re),it!=null&&kt.push(Kd(Ae,it,Be))),Sr)break;Ae=Ae.return}0<kt.length&&(ze=new We(ze,Pt,null,f,at),ot.push({event:ze,listeners:kt}))}}if((c&7)===0){e:{if(ze=o==="mouseover"||o==="pointerover",We=o==="mouseout"||o==="pointerout",ze&&f!==X0&&(Pt=f.relatedTarget||f.fromElement)&&(fe(Pt)||Pt[Te]))break e;if((We||ze)&&(ze=at.window===at?at:(ze=at.ownerDocument)?ze.defaultView||ze.parentWindow:window,We?(Pt=f.relatedTarget||f.toElement,We=Le,Pt=Pt?fe(Pt):null,Pt!==null&&(Sr=s(Pt),kt=Pt.tag,Pt!==Sr||kt!==5&&kt!==27&&kt!==6)&&(Pt=null)):(We=null,Pt=Le),We!==Pt)){if(kt=GS,it="onMouseLeave",Re="onMouseEnter",Ae="mouse",(o==="pointerout"||o==="pointerover")&&(kt=YS,it="onPointerLeave",Re="onPointerEnter",Ae="pointer"),Sr=We==null?ze:Ie(We),Be=Pt==null?ze:Ie(Pt),ze=new kt(it,Ae+"leave",We,f,at),ze.target=Sr,ze.relatedTarget=Be,it=null,fe(at)===Le&&(kt=new kt(Re,Ae+"enter",Pt,f,at),kt.target=Be,kt.relatedTarget=Sr,it=kt),Sr=it,We&&Pt)t:{for(kt=We,Re=Pt,Ae=0,Be=kt;Be;Be=Yl(Be))Ae++;for(Be=0,it=Re;it;it=Yl(it))Be++;for(;0<Ae-Be;)kt=Yl(kt),Ae--;for(;0<Be-Ae;)Re=Yl(Re),Be--;for(;Ae--;){if(kt===Re||Re!==null&&kt===Re.alternate)break t;kt=Yl(kt),Re=Yl(Re)}kt=null}else kt=null;We!==null&&BC(ot,ze,We,kt,!1),Pt!==null&&Sr!==null&&BC(ot,Sr,Pt,kt,!0)}}e:{if(ze=Le?Ie(Le):window,We=ze.nodeName&&ze.nodeName.toLowerCase(),We==="select"||We==="input"&&ze.type==="file")var wt=rN;else if(eN(ze))if(nN)wt=$M;else{wt=FM;var Yt=BM}else We=ze.nodeName,!We||We.toLowerCase()!=="input"||ze.type!=="checkbox"&&ze.type!=="radio"?Le&&K0(Le.elementType)&&(wt=rN):wt=LM;if(wt&&(wt=wt(o,Le))){tN(ot,wt,f,at);break e}Yt&&Yt(o,ze,Le),o==="focusout"&&Le&&ze.type==="number"&&Le.memoizedProps.value!=null&&Y0(ze,"number",ze.value)}switch(Yt=Le?Ie(Le):window,o){case"focusin":(eN(Yt)||Yt.contentEditable==="true")&&(Nl=Yt,cx=Le,jd=null);break;case"focusout":jd=cx=Nl=null;break;case"mousedown":dx=!0;break;case"contextmenu":case"mouseup":case"dragend":dx=!1,uN(ot,f,at);break;case"selectionchange":if(UM)break;case"keydown":case"keyup":uN(ot,f,at)}var Ct;if(ix)e:{switch(o){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else Sl?ZS(o,f)&&(It="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(It="onCompositionStart");It&&(KS&&f.locale!=="ko"&&(Sl||It!=="onCompositionStart"?It==="onCompositionEnd"&&Sl&&(Ct=WS()):(_s=at,ex="value"in _s?_s.value:_s.textContent,Sl=!0)),Yt=qf(Le,It),0<Yt.length&&(It=new VS(It,o,null,f,at),ot.push({event:It,listeners:Yt}),Ct?It.data=Ct:(Ct=JS(f),Ct!==null&&(It.data=Ct)))),(Ct=IM?DM(o,f):RM(o,f))&&(It=qf(Le,"onBeforeInput"),0<It.length&&(Yt=new VS("onBeforeInput","beforeinput",null,f,at),ot.push({event:Yt,listeners:It}),Yt.data=Ct)),NB(ot,o,Le,f,at)}PC(ot,c)})}function Kd(o,c,f){return{instance:o,listener:c,currentTarget:f}}function qf(o,c){for(var f=c+"Capture",x=[];o!==null;){var w=o,_=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||_===null||(w=fd(o,f),w!=null&&x.unshift(Kd(o,w,_)),w=fd(o,c),w!=null&&x.push(Kd(o,w,_))),o.tag===3)return x;o=o.return}return[]}function Yl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function BC(o,c,f,x,w){for(var _=c._reactName,K=[];f!==null&&f!==x;){var se=f,we=se.alternate,Le=se.stateNode;if(se=se.tag,we!==null&&we===x)break;se!==5&&se!==26&&se!==27||Le===null||(we=Le,w?(Le=fd(f,_),Le!=null&&K.unshift(Kd(f,Le,we))):w||(Le=fd(f,_),Le!=null&&K.push(Kd(f,Le,we)))),f=f.return}K.length!==0&&o.push({event:c,listeners:K})}var EB=/\r\n?/g,OB=/\u0000|\uFFFD/g;function FC(o){return(typeof o=="string"?o:""+o).replace(EB,`
`).replace(OB,"")}function LC(o,c){return c=FC(c),FC(o)===c}function Wf(){}function wr(o,c,f,x,w,_){switch(f){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||bl(o,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&bl(o,""+x);break;case"className":Vt(o,"class",x);break;case"tabIndex":Vt(o,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Vt(o,f,x);break;case"style":zS(o,x,_);break;case"data":if(c!=="object"){Vt(o,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(f);break}x=Qh(""+x),o.setAttribute(f,x);break;case"action":case"formAction":if(typeof x=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(f==="formAction"?(c!=="input"&&wr(o,c,"name",w.name,w,null),wr(o,c,"formEncType",w.formEncType,w,null),wr(o,c,"formMethod",w.formMethod,w,null),wr(o,c,"formTarget",w.formTarget,w,null)):(wr(o,c,"encType",w.encType,w,null),wr(o,c,"method",w.method,w,null),wr(o,c,"target",w.target,w,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(f);break}x=Qh(""+x),o.setAttribute(f,x);break;case"onClick":x!=null&&(o.onclick=Wf);break;case"onScroll":x!=null&&Xt("scroll",o);break;case"onScrollEnd":x!=null&&Xt("scrollend",o);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(f=x.__html,f!=null){if(w.children!=null)throw Error(a(60));o.innerHTML=f}}break;case"multiple":o.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":o.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){o.removeAttribute("xlink:href");break}f=Qh(""+x),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(f,""+x):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":x===!0?o.setAttribute(f,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(f,x):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?o.setAttribute(f,x):o.removeAttribute(f);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?o.removeAttribute(f):o.setAttribute(f,x);break;case"popover":Xt("beforetoggle",o),Xt("toggle",o),Zt(o,"popover",x);break;case"xlinkActuate":er(o,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":er(o,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":er(o,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":er(o,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":er(o,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":er(o,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":er(o,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":er(o,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":er(o,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Zt(o,"is",x);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=iM.get(f)||f,Zt(o,f,x))}}function Dg(o,c,f,x,w,_){switch(f){case"style":zS(o,x,_);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(f=x.__html,f!=null){if(w.children!=null)throw Error(a(60));o.innerHTML=f}}break;case"children":typeof x=="string"?bl(o,x):(typeof x=="number"||typeof x=="bigint")&&bl(o,""+x);break;case"onScroll":x!=null&&Xt("scroll",o);break;case"onScrollEnd":x!=null&&Xt("scrollend",o);break;case"onClick":x!=null&&(o.onclick=Wf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fe.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),c=f.slice(2,w?f.length-7:void 0),_=o[ve]||null,_=_!=null?_[f]:null,typeof _=="function"&&o.removeEventListener(c,_,w),typeof x=="function")){typeof _!="function"&&_!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,x,w);break e}f in o?o[f]=x:x===!0?o.setAttribute(f,""):Zt(o,f,x)}}}function Tn(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",o),Xt("load",o);var x=!1,w=!1,_;for(_ in f)if(f.hasOwnProperty(_)){var K=f[_];if(K!=null)switch(_){case"src":x=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,c));default:wr(o,c,_,K,f,null)}}w&&wr(o,c,"srcSet",f.srcSet,f,null),x&&wr(o,c,"src",f.src,f,null);return;case"input":Xt("invalid",o);var se=_=K=w=null,we=null,Le=null;for(x in f)if(f.hasOwnProperty(x)){var at=f[x];if(at!=null)switch(x){case"name":w=at;break;case"type":K=at;break;case"checked":we=at;break;case"defaultChecked":Le=at;break;case"value":_=at;break;case"defaultValue":se=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(a(137,c));break;default:wr(o,c,x,at,f,null)}}BS(o,_,se,we,Le,K,w,!1),Pr(o);return;case"select":Xt("invalid",o),x=K=_=null;for(w in f)if(f.hasOwnProperty(w)&&(se=f[w],se!=null))switch(w){case"value":_=se;break;case"defaultValue":K=se;break;case"multiple":x=se;default:wr(o,c,w,se,f,null)}c=_,f=K,o.multiple=!!x,c!=null?vl(o,!!x,c,!1):f!=null&&vl(o,!!x,f,!0);return;case"textarea":Xt("invalid",o),_=w=x=null;for(K in f)if(f.hasOwnProperty(K)&&(se=f[K],se!=null))switch(K){case"value":x=se;break;case"defaultValue":w=se;break;case"children":_=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(91));break;default:wr(o,c,K,se,f,null)}LS(o,x,w,_),Pr(o);return;case"option":for(we in f)if(f.hasOwnProperty(we)&&(x=f[we],x!=null))switch(we){case"selected":o.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:wr(o,c,we,x,f,null)}return;case"dialog":Xt("beforetoggle",o),Xt("toggle",o),Xt("cancel",o),Xt("close",o);break;case"iframe":case"object":Xt("load",o);break;case"video":case"audio":for(x=0;x<Yd.length;x++)Xt(Yd[x],o);break;case"image":Xt("error",o),Xt("load",o);break;case"details":Xt("toggle",o);break;case"embed":case"source":case"link":Xt("error",o),Xt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in f)if(f.hasOwnProperty(Le)&&(x=f[Le],x!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,c));default:wr(o,c,Le,x,f,null)}return;default:if(K0(c)){for(at in f)f.hasOwnProperty(at)&&(x=f[at],x!==void 0&&Dg(o,c,at,x,f,void 0));return}}for(se in f)f.hasOwnProperty(se)&&(x=f[se],x!=null&&wr(o,c,se,x,f,null))}function _B(o,c,f,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,_=null,K=null,se=null,we=null,Le=null,at=null;for(We in f){var ot=f[We];if(f.hasOwnProperty(We)&&ot!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":we=ot;default:x.hasOwnProperty(We)||wr(o,c,We,null,x,ot)}}for(var ze in x){var We=x[ze];if(ot=f[ze],x.hasOwnProperty(ze)&&(We!=null||ot!=null))switch(ze){case"type":_=We;break;case"name":w=We;break;case"checked":Le=We;break;case"defaultChecked":at=We;break;case"value":K=We;break;case"defaultValue":se=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(a(137,c));break;default:We!==ot&&wr(o,c,ze,We,x,ot)}}V0(o,K,se,we,Le,at,_,w);return;case"select":We=K=se=ze=null;for(_ in f)if(we=f[_],f.hasOwnProperty(_)&&we!=null)switch(_){case"value":break;case"multiple":We=we;default:x.hasOwnProperty(_)||wr(o,c,_,null,x,we)}for(w in x)if(_=x[w],we=f[w],x.hasOwnProperty(w)&&(_!=null||we!=null))switch(w){case"value":ze=_;break;case"defaultValue":se=_;break;case"multiple":K=_;default:_!==we&&wr(o,c,w,_,x,we)}c=se,f=K,x=We,ze!=null?vl(o,!!f,ze,!1):!!x!=!!f&&(c!=null?vl(o,!!f,c,!0):vl(o,!!f,f?[]:"",!1));return;case"textarea":We=ze=null;for(se in f)if(w=f[se],f.hasOwnProperty(se)&&w!=null&&!x.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:wr(o,c,se,null,x,w)}for(K in x)if(w=x[K],_=f[K],x.hasOwnProperty(K)&&(w!=null||_!=null))switch(K){case"value":ze=w;break;case"defaultValue":We=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:w!==_&&wr(o,c,K,w,x,_)}FS(o,ze,We);return;case"option":for(var Pt in f)if(ze=f[Pt],f.hasOwnProperty(Pt)&&ze!=null&&!x.hasOwnProperty(Pt))switch(Pt){case"selected":o.selected=!1;break;default:wr(o,c,Pt,null,x,ze)}for(we in x)if(ze=x[we],We=f[we],x.hasOwnProperty(we)&&ze!==We&&(ze!=null||We!=null))switch(we){case"selected":o.selected=ze&&typeof ze!="function"&&typeof ze!="symbol";break;default:wr(o,c,we,ze,x,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in f)ze=f[kt],f.hasOwnProperty(kt)&&ze!=null&&!x.hasOwnProperty(kt)&&wr(o,c,kt,null,x,ze);for(Le in x)if(ze=x[Le],We=f[Le],x.hasOwnProperty(Le)&&ze!==We&&(ze!=null||We!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(a(137,c));break;default:wr(o,c,Le,ze,x,We)}return;default:if(K0(c)){for(var Sr in f)ze=f[Sr],f.hasOwnProperty(Sr)&&ze!==void 0&&!x.hasOwnProperty(Sr)&&Dg(o,c,Sr,void 0,x,ze);for(at in x)ze=x[at],We=f[at],!x.hasOwnProperty(at)||ze===We||ze===void 0&&We===void 0||Dg(o,c,at,ze,x,We);return}}for(var Re in f)ze=f[Re],f.hasOwnProperty(Re)&&ze!=null&&!x.hasOwnProperty(Re)&&wr(o,c,Re,null,x,ze);for(ot in x)ze=x[ot],We=f[ot],!x.hasOwnProperty(ot)||ze===We||ze==null&&We==null||wr(o,c,ot,ze,x,We)}var Rg=null,Pg=null;function Hf(o){return o.nodeType===9?o:o.ownerDocument}function $C(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zC(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Mg(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Bg=null;function kB(){var o=window.event;return o&&o.type==="popstate"?o===Bg?!1:(Bg=o,!0):(Bg=null,!1)}var UC=typeof setTimeout=="function"?setTimeout:void 0,IB=typeof clearTimeout=="function"?clearTimeout:void 0,qC=typeof Promise=="function"?Promise:void 0,DB=typeof queueMicrotask=="function"?queueMicrotask:typeof qC<"u"?function(o){return qC.resolve(null).then(o).catch(RB)}:UC;function RB(o){setTimeout(function(){throw o})}function Gs(o){return o==="head"}function WC(o,c){var f=c,x=0,w=0;do{var _=f.nextSibling;if(o.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(0<x&&8>x){f=x;var K=o.ownerDocument;if(f&1&&Xd(K.documentElement),f&2&&Xd(K.body),f&4)for(f=K.head,Xd(f),K=f.firstChild;K;){var se=K.nextSibling,we=K.nodeName;K[X]||we==="SCRIPT"||we==="STYLE"||we==="LINK"&&K.rel.toLowerCase()==="stylesheet"||f.removeChild(K),K=se}}if(w===0){o.removeChild(_),au(c);return}w--}else f==="$"||f==="$?"||f==="$!"?w++:x=f.charCodeAt(0)-48;else x=0;f=_}while(f);au(c)}function Fg(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Fg(f),ue(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function PB(o,c,f,x){for(;o.nodeType===1;){var w=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(x){if(!o[X])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var _=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=ai(o.nextSibling),o===null)break}return null}function MB(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=ai(o.nextSibling),o===null))return null;return o}function Lg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function BB(o,c){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")c();else{var x=function(){c(),f.removeEventListener("DOMContentLoaded",x)};f.addEventListener("DOMContentLoaded",x),o._reactRetry=x}}function ai(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var $g=null;function HC(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}function GC(o,c,f){switch(c=Hf(f),o){case"html":if(o=c.documentElement,!o)throw Error(a(452));return o;case"head":if(o=c.head,!o)throw Error(a(453));return o;case"body":if(o=c.body,!o)throw Error(a(454));return o;default:throw Error(a(451))}}function Xd(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);ue(o)}var za=new Map,VC=new Set;function Gf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ts=H.d;H.d={f:FB,r:LB,D:$B,C:zB,L:UB,m:qB,X:HB,S:WB,M:GB};function FB(){var o=ts.f(),c=Bf();return o||c}function LB(o){var c=ye(o);c!==null&&c.tag===5&&c.type==="form"?fT(c):ts.r(o)}var Kl=typeof document>"u"?null:document;function YC(o,c,f){var x=Kl;if(x&&typeof c=="string"&&c){var w=Ra(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),VC.has(w)||(VC.add(w),o={rel:o,crossOrigin:f,href:c},x.querySelector(w)===null&&(c=x.createElement("link"),Tn(c,"link",o),De(c),x.head.appendChild(c)))}}function $B(o){ts.D(o),YC("dns-prefetch",o,null)}function zB(o,c){ts.C(o,c),YC("preconnect",o,c)}function UB(o,c,f){ts.L(o,c,f);var x=Kl;if(x&&o&&c){var w='link[rel="preload"][as="'+Ra(c)+'"]';c==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+Ra(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+Ra(f.imageSizes)+'"]')):w+='[href="'+Ra(o)+'"]';var _=w;switch(c){case"style":_=Xl(o);break;case"script":_=Ql(o)}za.has(_)||(o=p({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),za.set(_,o),x.querySelector(w)!==null||c==="style"&&x.querySelector(Qd(_))||c==="script"&&x.querySelector(Zd(_))||(c=x.createElement("link"),Tn(c,"link",o),De(c),x.head.appendChild(c)))}}function qB(o,c){ts.m(o,c);var f=Kl;if(f&&o){var x=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+Ra(x)+'"][href="'+Ra(o)+'"]',_=w;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Ql(o)}if(!za.has(_)&&(o=p({rel:"modulepreload",href:o},c),za.set(_,o),f.querySelector(w)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Zd(_)))return}x=f.createElement("link"),Tn(x,"link",o),De(x),f.head.appendChild(x)}}}function WB(o,c,f){ts.S(o,c,f);var x=Kl;if(x&&o){var w=qe(x).hoistableStyles,_=Xl(o);c=c||"default";var K=w.get(_);if(!K){var se={loading:0,preload:null};if(K=x.querySelector(Qd(_)))se.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},f),(f=za.get(_))&&zg(o,f);var we=K=x.createElement("link");De(we),Tn(we,"link",o),we._p=new Promise(function(Le,at){we.onload=Le,we.onerror=at}),we.addEventListener("load",function(){se.loading|=1}),we.addEventListener("error",function(){se.loading|=2}),se.loading|=4,Vf(K,c,x)}K={type:"stylesheet",instance:K,count:1,state:se},w.set(_,K)}}}function HB(o,c){ts.X(o,c);var f=Kl;if(f&&o){var x=qe(f).hoistableScripts,w=Ql(o),_=x.get(w);_||(_=f.querySelector(Zd(w)),_||(o=p({src:o,async:!0},c),(c=za.get(w))&&Ug(o,c),_=f.createElement("script"),De(_),Tn(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},x.set(w,_))}}function GB(o,c){ts.M(o,c);var f=Kl;if(f&&o){var x=qe(f).hoistableScripts,w=Ql(o),_=x.get(w);_||(_=f.querySelector(Zd(w)),_||(o=p({src:o,async:!0,type:"module"},c),(c=za.get(w))&&Ug(o,c),_=f.createElement("script"),De(_),Tn(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},x.set(w,_))}}function KC(o,c,f,x){var w=(w=ae.current)?Gf(w):null;if(!w)throw Error(a(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=Xl(f.href),f=qe(w).hoistableStyles,x=f.get(c),x||(x={type:"style",instance:null,count:0,state:null},f.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Xl(f.href);var _=qe(w).hoistableStyles,K=_.get(o);if(K||(w=w.ownerDocument||w,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,K),(_=w.querySelector(Qd(o)))&&!_._p&&(K.instance=_,K.state.loading=5),za.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},za.set(o,f),_||VB(w,o,f,K.state))),c&&x===null)throw Error(a(528,""));return K}if(c&&x!==null)throw Error(a(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Ql(f),f=qe(w).hoistableScripts,x=f.get(c),x||(x={type:"script",instance:null,count:0,state:null},f.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,o))}}function Xl(o){return'href="'+Ra(o)+'"'}function Qd(o){return'link[rel="stylesheet"]['+o+"]"}function XC(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function VB(o,c,f,x){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=o.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),Tn(c,"link",f),De(c),o.head.appendChild(c))}function Ql(o){return'[src="'+Ra(o)+'"]'}function Zd(o){return"script[async]"+o}function QC(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var x=o.querySelector('style[data-href~="'+Ra(f.href)+'"]');if(x)return c.instance=x,De(x),x;var w=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return x=(o.ownerDocument||o).createElement("style"),De(x),Tn(x,"style",w),Vf(x,f.precedence,o),c.instance=x;case"stylesheet":w=Xl(f.href);var _=o.querySelector(Qd(w));if(_)return c.state.loading|=4,c.instance=_,De(_),_;x=XC(f),(w=za.get(w))&&zg(x,w),_=(o.ownerDocument||o).createElement("link"),De(_);var K=_;return K._p=new Promise(function(se,we){K.onload=se,K.onerror=we}),Tn(_,"link",x),c.state.loading|=4,Vf(_,f.precedence,o),c.instance=_;case"script":return _=Ql(f.src),(w=o.querySelector(Zd(_)))?(c.instance=w,De(w),w):(x=f,(w=za.get(_))&&(x=p({},f),Ug(x,w)),o=o.ownerDocument||o,w=o.createElement("script"),De(w),Tn(w,"link",x),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(a(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,Vf(x,f.precedence,o));return c.instance}function Vf(o,c,f){for(var x=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=x.length?x[x.length-1]:null,_=w,K=0;K<x.length;K++){var se=x[K];if(se.dataset.precedence===c)_=se;else if(_!==w)break}_?_.parentNode.insertBefore(o,_.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function zg(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Ug(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Yf=null;function ZC(o,c,f){if(Yf===null){var x=new Map,w=Yf=new Map;w.set(f,x)}else w=Yf,x=w.get(f),x||(x=new Map,w.set(f,x));if(x.has(o))return x;for(x.set(o,null),f=f.getElementsByTagName(o),w=0;w<f.length;w++){var _=f[w];if(!(_[X]||_[Lt]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var K=_.getAttribute(c)||"";K=o+K;var se=x.get(K);se?se.push(_):x.set(K,[_])}}return x}function JC(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function YB(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function eA(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Jd=null;function KB(){}function XB(o,c,f){if(Jd===null)throw Error(a(475));var x=Jd;if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var w=Xl(f.href),_=o.querySelector(Qd(w));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(x.count++,x=Kf.bind(x),o.then(x,x)),c.state.loading|=4,c.instance=_,De(_);return}_=o.ownerDocument||o,f=XC(f),(w=za.get(w))&&zg(f,w),_=_.createElement("link"),De(_);var K=_;K._p=new Promise(function(se,we){K.onload=se,K.onerror=we}),Tn(_,"link",f),c.instance=_}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(x.count++,c=Kf.bind(x),o.addEventListener("load",c),o.addEventListener("error",c))}}function QB(){if(Jd===null)throw Error(a(475));var o=Jd;return o.stylesheets&&o.count===0&&qg(o,o.stylesheets),0<o.count?function(c){var f=setTimeout(function(){if(o.stylesheets&&qg(o,o.stylesheets),o.unsuspend){var x=o.unsuspend;o.unsuspend=null,x()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(f)}}:null}function Kf(){if(this.count--,this.count===0){if(this.stylesheets)qg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Xf=null;function qg(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Xf=new Map,c.forEach(ZB,o),Xf=null,Kf.call(o))}function ZB(o,c){if(!(c.state.loading&4)){var f=Xf.get(o);if(f)var x=f.get(null);else{f=new Map,Xf.set(o,f);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<w.length;_++){var K=w[_];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(f.set(K.dataset.precedence,K),x=K)}x&&f.set(null,x)}w=c.instance,K=w.getAttribute("data-precedence"),_=f.get(K)||x,_===x&&f.set(null,w),f.set(K,w),this.count++,x=Kf.bind(this),w.addEventListener("load",x),w.addEventListener("error",x),_?_.parentNode.insertBefore(w,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var eu={$$typeof:C,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function JB(o,c,f,x,w,_,K,se){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=x,this.onUncaughtError=w,this.onCaughtError=_,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function tA(o,c,f,x,w,_,K,se,we,Le,at,ot){return o=new JB(o,c,f,K,se,we,Le,ot),c=1,_===!0&&(c|=24),_=ya(3,null,null,c),o.current=_,_.stateNode=o,c=Nx(),c.refCount++,o.pooledCache=c,c.refCount++,_.memoizedState={element:x,isDehydrated:f,cache:c},Ex(_),o}function rA(o){return o?(o=El,o):El}function nA(o,c,f,x,w,_){w=rA(w),x.context===null?x.context=w:x.pendingContext=w,x=Ds(c),x.payload={element:f},_=_===void 0?null:_,_!==null&&(x.callback=_),f=Rs(o,x,c),f!==null&&(Sa(f,o,c),_d(f,o,c))}function aA(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function Wg(o,c){aA(o,c),(o=o.alternate)&&aA(o,c)}function iA(o){if(o.tag===13){var c=Al(o,67108864);c!==null&&Sa(c,o,67108864),Wg(o,67108864)}}var Qf=!0;function eF(o,c,f,x){var w=R.T;R.T=null;var _=H.p;try{H.p=2,Hg(o,c,f,x)}finally{H.p=_,R.T=w}}function tF(o,c,f,x){var w=R.T;R.T=null;var _=H.p;try{H.p=8,Hg(o,c,f,x)}finally{H.p=_,R.T=w}}function Hg(o,c,f,x){if(Qf){var w=Gg(x);if(w===null)Ig(o,c,x,Zf,f),oA(o,x);else if(nF(w,o,c,f,x))x.stopPropagation();else if(oA(o,x),c&4&&-1<rF.indexOf(o)){for(;w!==null;){var _=ye(w);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var K=ne(_.pendingLanes);if(K!==0){var se=_;for(se.pendingLanes|=2,se.entangledLanes|=2;K;){var we=1<<31-_e(K);se.entanglements[1]|=we,K&=~we}Ei(_),(mr&6)===0&&(Pf=Ce()+500,Vd(0))}}break;case 13:se=Al(_,2),se!==null&&Sa(se,_,2),Bf(),Wg(_,2)}if(_=Gg(x),_===null&&Ig(o,c,x,Zf,f),_===w)break;w=_}w!==null&&x.stopPropagation()}else Ig(o,c,x,null,f)}}function Gg(o){return o=Q0(o),Vg(o)}var Zf=null;function Vg(o){if(Zf=null,o=fe(o),o!==null){var c=s(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=l(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Zf=o,null}function sA(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case re:return 2;case ce:return 8;case J:case oe:return 32;case te:return 268435456;default:return 32}default:return 32}}var Yg=!1,Vs=null,Ys=null,Ks=null,tu=new Map,ru=new Map,Xs=[],rF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oA(o,c){switch(o){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":tu.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(c.pointerId)}}function nu(o,c,f,x,w,_){return o===null||o.nativeEvent!==_?(o={blockedOn:c,domEventName:f,eventSystemFlags:x,nativeEvent:_,targetContainers:[w]},c!==null&&(c=ye(c),c!==null&&iA(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function nF(o,c,f,x,w){switch(c){case"focusin":return Vs=nu(Vs,o,c,f,x,w),!0;case"dragenter":return Ys=nu(Ys,o,c,f,x,w),!0;case"mouseover":return Ks=nu(Ks,o,c,f,x,w),!0;case"pointerover":var _=w.pointerId;return tu.set(_,nu(tu.get(_)||null,o,c,f,x,w)),!0;case"gotpointercapture":return _=w.pointerId,ru.set(_,nu(ru.get(_)||null,o,c,f,x,w)),!0}return!1}function lA(o){var c=fe(o.target);if(c!==null){var f=s(c);if(f!==null){if(c=f.tag,c===13){if(c=l(f),c!==null){o.blockedOn=c,bt(o.priority,function(){if(f.tag===13){var x=wa();x=nt(x);var w=Al(f,x);w!==null&&Sa(w,f,x),Wg(f,x)}});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Jf(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=Gg(o.nativeEvent);if(f===null){f=o.nativeEvent;var x=new f.constructor(f.type,f);X0=x,f.target.dispatchEvent(x),X0=null}else return c=ye(f),c!==null&&iA(c),o.blockedOn=f,!1;c.shift()}return!0}function cA(o,c,f){Jf(o)&&f.delete(c)}function aF(){Yg=!1,Vs!==null&&Jf(Vs)&&(Vs=null),Ys!==null&&Jf(Ys)&&(Ys=null),Ks!==null&&Jf(Ks)&&(Ks=null),tu.forEach(cA),ru.forEach(cA)}function ep(o,c){o.blockedOn===c&&(o.blockedOn=null,Yg||(Yg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aF)))}var tp=null;function dA(o){tp!==o&&(tp=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){tp===o&&(tp=null);for(var c=0;c<o.length;c+=3){var f=o[c],x=o[c+1],w=o[c+2];if(typeof x!="function"){if(Vg(x||f)===null)continue;break}var _=ye(f);_!==null&&(o.splice(c,3),c-=3,Vx(_,{pending:!0,data:w,method:f.method,action:x},x,w))}}))}function au(o){function c(we){return ep(we,o)}Vs!==null&&ep(Vs,o),Ys!==null&&ep(Ys,o),Ks!==null&&ep(Ks,o),tu.forEach(c),ru.forEach(c);for(var f=0;f<Xs.length;f++){var x=Xs[f];x.blockedOn===o&&(x.blockedOn=null)}for(;0<Xs.length&&(f=Xs[0],f.blockedOn===null);)lA(f),f.blockedOn===null&&Xs.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(x=0;x<f.length;x+=3){var w=f[x],_=f[x+1],K=w[ve]||null;if(typeof _=="function")K||dA(f);else if(K){var se=null;if(_&&_.hasAttribute("formAction")){if(w=_,K=_[ve]||null)se=K.formAction;else if(Vg(w)!==null)continue}else se=K.action;typeof se=="function"?f[x+1]=se:(f.splice(x,3),x-=3),dA(f)}}}function Kg(o){this._internalRoot=o}rp.prototype.render=Kg.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(a(409));var f=c.current,x=wa();nA(f,x,o,c,null,null)},rp.prototype.unmount=Kg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;nA(o.current,2,null,o,null,null),Bf(),c[Te]=null}};function rp(o){this._internalRoot=o}rp.prototype.unstable_scheduleHydration=function(o){if(o){var c=ht();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Xs.length&&c!==0&&c<Xs[f].priority;f++);Xs.splice(f,0,o),f===0&&lA(o)}};var uA=t.version;if(uA!=="19.1.0")throw Error(a(527,uA,"19.1.0"));H.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(a(188)):(o=Object.keys(o).join(","),Error(a(268,o)));return o=u(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var iF={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!np.isDisabled&&np.supportsFiber)try{Xe=np.inject(iF),Ue=np}catch{}}return su.createRoot=function(o,c){if(!i(o))throw Error(a(299));var f=!1,x="",w=AT,_=ET,K=OT,se=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(K=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(se=c.unstable_transitionCallbacks)),c=tA(o,1,!1,null,null,f,x,w,_,K,se,null),o[Te]=c.current,kg(o),new Kg(c)},su.hydrateRoot=function(o,c,f){if(!i(o))throw Error(a(299));var x=!1,w="",_=AT,K=ET,se=OT,we=null,Le=null;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(_=f.onUncaughtError),f.onCaughtError!==void 0&&(K=f.onCaughtError),f.onRecoverableError!==void 0&&(se=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(we=f.unstable_transitionCallbacks),f.formState!==void 0&&(Le=f.formState)),c=tA(o,1,!0,c,f??null,x,w,_,K,se,we,Le),c.context=rA(null),f=c.current,x=wa(),x=nt(x),w=Ds(x),w.callback=null,Rs(f,w,x),f=x,c.current.lanes=f,st(c,f),Ei(c),o[Te]=c.current,kg(o),new rp(c)},su.version="19.1.0",su}var jA;function mF(){if(jA)return Zg.exports;jA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zg.exports=pF(),Zg.exports}var xF=mF();const gF=Cr(xF);var ou={},wA;function yF(){if(wA)return ou;wA=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.parse=l,ou.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function l(g,v){const j=new s,b=g.length;if(b<2)return j;const y=(v==null?void 0:v.decode)||p;let T=0;do{const E=g.indexOf("=",T);if(E===-1)break;const C=g.indexOf(";",T),S=C===-1?b:C;if(E>S){T=g.lastIndexOf(";",E-1)+1;continue}const A=d(g,T,E),k=u(g,E,A),D=g.slice(A,k);if(j[D]===void 0){let B=d(g,E+1,S),F=u(g,S,B);const M=y(g.slice(B,F));j[D]=M}T=S+1}while(T<b);return j}function d(g,v,j){do{const b=g.charCodeAt(v);if(b!==32&&b!==9)return v}while(++v<j);return j}function u(g,v,j){for(;v>j;){const b=g.charCodeAt(--v);if(b!==32&&b!==9)return v+1}return j}function h(g,v,j){const b=(j==null?void 0:j.encode)||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const y=b(v);if(!t.test(y))throw new TypeError(`argument val is invalid: ${v}`);let T=g+"="+y;if(!j)return T;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);T+="; Max-Age="+j.maxAge}if(j.domain){if(!r.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);T+="; Domain="+j.domain}if(j.path){if(!a.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);T+="; Path="+j.path}if(j.expires){if(!m(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);T+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(T+="; HttpOnly"),j.secure&&(T+="; Secure"),j.partitioned&&(T+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return T}function p(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function m(g){return i.call(g)==="[object Date]"}return ou}yF();var SA="popstate";function vF(e={}){function t(a,i){let{pathname:s,search:l,hash:d}=a.location;return mj("",{pathname:s,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:Bu(i)}return jF(t,r,null,e)}function Lr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bF(){return Math.random().toString(36).substring(2,10)}function NA(e,t){return{usr:e.state,key:e.key,idx:t}}function mj(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Kc(t):t,state:r,key:t&&t.key||a||bF()}}function Bu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Kc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function jF(e,t,r,a={}){let{window:i=document.defaultView,v5Compat:s=!1}=a,l=i.history,d="POP",u=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function m(){d="POP";let y=p(),T=y==null?null:y-h;h=y,u&&u({action:d,location:b.location,delta:T})}function g(y,T){d="PUSH";let E=mj(b.location,y,T);h=p()+1;let C=NA(E,h),S=b.createHref(E);try{l.pushState(C,"",S)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(S)}s&&u&&u({action:d,location:b.location,delta:1})}function v(y,T){d="REPLACE";let E=mj(b.location,y,T);h=p();let C=NA(E,h),S=b.createHref(E);l.replaceState(C,"",S),s&&u&&u({action:d,location:b.location,delta:0})}function j(y){return wF(y)}let b={get action(){return d},get location(){return e(i,l)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(SA,m),u=y,()=>{i.removeEventListener(SA,m),u=null}},createHref(y){return t(i,y)},createURL:j,encodeLocation(y){let T=j(y);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:v,go(y){return l.go(y)}};return b}function wF(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Lr(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Bu(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function S3(e,t,r="/"){return SF(e,t,r,!1)}function SF(e,t,r,a){let i=typeof t=="string"?Kc(t):t,s=gs(i.pathname||"/",r);if(s==null)return null;let l=N3(e);NF(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let h=PF(s);d=DF(l[u],h,a)}return d}function N3(e,t=[],r=[],a=""){let i=(s,l,d)=>{let u={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};u.relativePath.startsWith("/")&&(Lr(u.relativePath.startsWith(a),`Absolute route path "${u.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(a.length));let h=cs([a,u.relativePath]),p=r.concat(u);s.children&&s.children.length>0&&(Lr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),N3(s.children,t,p,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:kF(h,s.index),routesMeta:p})};return e.forEach((s,l)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))i(s,l);else for(let u of T3(s.path))i(s,l,u)}),t}function T3(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(a.length===0)return i?[s,""]:[s];let l=T3(a.join("/")),d=[];return d.push(...l.map(u=>u===""?s:[s,u].join("/"))),i&&d.push(...l),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function NF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:IF(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var TF=/^:[\w-]+$/,CF=3,AF=2,EF=1,OF=10,_F=-2,TA=e=>e==="*";function kF(e,t){let r=e.split("/"),a=r.length;return r.some(TA)&&(a+=_F),t&&(a+=AF),r.filter(i=>!TA(i)).reduce((i,s)=>i+(TF.test(s)?CF:s===""?EF:OF),a)}function IF(e,t){return e.length===t.length&&e.slice(0,-1).every((a,i)=>a===t[i])?e[e.length-1]-t[t.length-1]:0}function DF(e,t,r=!1){let{routesMeta:a}=e,i={},s="/",l=[];for(let d=0;d<a.length;++d){let u=a[d],h=d===a.length-1,p=s==="/"?t:t.slice(s.length)||"/",m=Rp({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),g=u.route;if(!m&&h&&r&&!a[a.length-1].route.index&&(m=Rp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:cs([s,m.pathname]),pathnameBase:LF(cs([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=cs([s,m.pathnameBase]))}return l}function Rp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=RF(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((h,{paramName:p,isOptional:m},g)=>{if(p==="*"){let j=d[g]||"";l=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const v=d[g];return m&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function RF(e,t=!1,r=!0){vi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(a.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function PF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function MF(e,t="/"){let{pathname:r,search:a="",hash:i=""}=typeof e=="string"?Kc(e):e;return{pathname:r?r.startsWith("/")?r:BF(r,t):t,search:$F(a),hash:zF(i)}}function BF(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ry(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function J2(e){let t=FF(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function ew(e,t,r,a=!1){let i;typeof e=="string"?i=Kc(e):(i={...e},Lr(!i.pathname||!i.pathname.includes("?"),ry("?","pathname","search",i)),Lr(!i.pathname||!i.pathname.includes("#"),ry("#","pathname","hash",i)),Lr(!i.search||!i.search.includes("#"),ry("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,d;if(l==null)d=r;else{let m=t.length-1;if(!a&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}d=m>=0?t[m]:"/"}let u=MF(i,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var cs=e=>e.join("/").replace(/\/\/+/g,"/"),LF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$F=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function UF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var C3=["POST","PUT","PATCH","DELETE"];new Set(C3);var qF=["GET",...C3];new Set(qF);var Xc=N.createContext(null);Xc.displayName="DataRouter";var Jm=N.createContext(null);Jm.displayName="DataRouterState";var A3=N.createContext({isTransitioning:!1});A3.displayName="ViewTransition";var WF=N.createContext(new Map);WF.displayName="Fetchers";var HF=N.createContext(null);HF.displayName="Await";var bi=N.createContext(null);bi.displayName="Navigation";var Oh=N.createContext(null);Oh.displayName="Location";var $i=N.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var tw=N.createContext(null);tw.displayName="RouteError";function GF(e,{relative:t}={}){Lr(Qc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=N.useContext(bi),{hash:i,pathname:s,search:l}=_h(e,{relative:t}),d=s;return r!=="/"&&(d=s==="/"?r:cs([r,s])),a.createHref({pathname:d,search:l,hash:i})}function Qc(){return N.useContext(Oh)!=null}function Gn(){return Lr(Qc(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Oh).location}var E3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O3(e){N.useContext(bi).static||N.useLayoutEffect(e)}function nn(){let{isDataRoute:e}=N.useContext($i);return e?iL():VF()}function VF(){Lr(Qc(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Xc),{basename:t,navigator:r}=N.useContext(bi),{matches:a}=N.useContext($i),{pathname:i}=Gn(),s=JSON.stringify(J2(a)),l=N.useRef(!1);return O3(()=>{l.current=!0}),N.useCallback((u,h={})=>{if(vi(l.current,E3),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=ew(u,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:cs([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,s,i,e])}N.createContext(null);function _h(e,{relative:t}={}){let{matches:r}=N.useContext($i),{pathname:a}=Gn(),i=JSON.stringify(J2(r));return N.useMemo(()=>ew(e,JSON.parse(i),a,t==="path"),[e,i,a,t])}function YF(e,t){return _3(e,t)}function _3(e,t,r,a){var T;Lr(Qc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(bi),{matches:s}=N.useContext($i),l=s[s.length-1],d=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let E=p&&p.path||"";k3(u,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=Gn(),g;if(t){let E=typeof t=="string"?Kc(t):t;Lr(h==="/"||((T=E.pathname)==null?void 0:T.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=m;let v=g.pathname||"/",j=v;if(h!=="/"){let E=h.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=S3(e,{pathname:j});vi(p||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),vi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=JF(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:cs([h,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:cs([h,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,r,a);return t&&y?N.createElement(Oh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},y):y}function KF(){let e=aL(),t=UF(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:i},r):null,l)}var XF=N.createElement(KF,null),QF=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement($i.Provider,{value:this.props.routeContext},N.createElement(tw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZF({routeContext:e,match:t,children:r}){let a=N.useContext(Xc);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement($i.Provider,{value:e},r)}function JF(e,t=[],r=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let u=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Lr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,d=-1;if(r)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:p,errors:m}=r,g=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,h,p)=>{let m,g=!1,v=null,j=null;r&&(m=s&&h.route.id?s[h.route.id]:void 0,v=h.route.errorElement||XF,l&&(d<0&&p===0?(k3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,j=null):d===p&&(g=!0,j=h.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,p+1)),y=()=>{let T;return m?T=v:g?T=j:h.route.Component?T=N.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=u,N.createElement(ZF,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:T})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?N.createElement(QF,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}function rw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eL(e){let t=N.useContext(Xc);return Lr(t,rw(e)),t}function tL(e){let t=N.useContext(Jm);return Lr(t,rw(e)),t}function rL(e){let t=N.useContext($i);return Lr(t,rw(e)),t}function nw(e){let t=rL(e),r=t.matches[t.matches.length-1];return Lr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function nL(){return nw("useRouteId")}function aL(){var a;let e=N.useContext(tw),t=tL("useRouteError"),r=nw("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function iL(){let{router:e}=eL("useNavigate"),t=nw("useNavigate"),r=N.useRef(!1);return O3(()=>{r.current=!0}),N.useCallback(async(i,s={})=>{vi(r.current,E3),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var CA={};function k3(e,t,r){!t&&!CA[e]&&(CA[e]=!0,vi(!1,r))}N.memo(sL);function sL({routes:e,future:t,state:r}){return _3(e,void 0,r,t)}function Pp({to:e,replace:t,state:r,relative:a}){Lr(Qc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(bi);vi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext($i),{pathname:l}=Gn(),d=nn(),u=ew(e,J2(s),l,a==="path"),h=JSON.stringify(u);return N.useEffect(()=>{d(JSON.parse(h),{replace:t,state:r,relative:a})},[d,h,a,t,r]),null}function At(e){Lr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oL({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:i,static:s=!1}){Lr(!Qc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof r=="string"&&(r=Kc(r));let{pathname:u="/",search:h="",hash:p="",state:m=null,key:g="default"}=r,v=N.useMemo(()=>{let j=gs(u,l);return j==null?null:{location:{pathname:j,search:h,hash:p,state:m,key:g},navigationType:a}},[l,u,h,p,m,g,a]);return vi(v!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(bi.Provider,{value:d},N.createElement(Oh.Provider,{children:t,value:v}))}function xj({children:e,location:t}){return YF(gj(e),t)}function gj(e,t=[]){let r=[];return N.Children.forEach(e,(a,i)=>{if(!N.isValidElement(a))return;let s=[...t,i];if(a.type===N.Fragment){r.push.apply(r,gj(a.props.children,s));return}Lr(a.type===At,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lr(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=gj(a.props.children,s)),r.push(l)}),r}var Ap="get",Ep="application/x-www-form-urlencoded";function e0(e){return e!=null&&typeof e.tagName=="string"}function lL(e){return e0(e)&&e.tagName.toLowerCase()==="button"}function cL(e){return e0(e)&&e.tagName.toLowerCase()==="form"}function dL(e){return e0(e)&&e.tagName.toLowerCase()==="input"}function uL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hL(e,t){return e.button===0&&(!t||t==="_self")&&!uL(e)}var ip=null;function fL(){if(ip===null)try{new FormData(document.createElement("form"),0),ip=!1}catch{ip=!0}return ip}var pL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ny(e){return e!=null&&!pL.has(e)?(vi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ep}"`),null):e}function mL(e,t){let r,a,i,s,l;if(cL(e)){let d=e.getAttribute("action");a=d?gs(d,t):null,r=e.getAttribute("method")||Ap,i=ny(e.getAttribute("enctype"))||Ep,s=new FormData(e)}else if(lL(e)||dL(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||d.getAttribute("action");if(a=u?gs(u,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||Ap,i=ny(e.getAttribute("formenctype"))||ny(d.getAttribute("enctype"))||Ep,s=new FormData(d,e),!fL()){let{name:h,type:p,value:m}=e;if(p==="image"){let g=h?`${h}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else h&&s.append(h,m)}}else{if(e0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ap,a=null,i=Ep,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:s,body:l}}function aw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function xL(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function yL(e,t,r){let a=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await xL(s,r);return l.links?l.links():[]}return[]}));return wL(a.flat(1).filter(gL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function AA(e,t,r,a,i,s){let l=(u,h)=>r[h]?u.route.id!==r[h].route.id:!0,d=(u,h)=>{var p;return r[h].pathname!==u.pathname||((p=r[h].route.path)==null?void 0:p.endsWith("*"))&&r[h].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,h)=>l(u,h)||d(u,h)):s==="data"?t.filter((u,h)=>{var m;let p=a.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(l(u,h)||d(u,h))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function vL(e,t,{includeHydrateFallback:r}={}){return bL(e.map(a=>{let i=t.routes[a.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function bL(e){return[...new Set(e)]}function jL(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function wL(e,t){let r=new Set;return new Set(t),e.reduce((a,i)=>{let s=JSON.stringify(jL(i));return r.has(s)||(r.add(s),a.push({key:s,link:i})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SL=new Set([100,101,204,205]);function NL(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&gs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function I3(){let e=N.useContext(Xc);return aw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function TL(){let e=N.useContext(Jm);return aw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var iw=N.createContext(void 0);iw.displayName="FrameworkContext";function D3(){let e=N.useContext(iw);return aw(e,"You must render this element inside a <HydratedRouter> element"),e}function CL(e,t){let r=N.useContext(iw),[a,i]=N.useState(!1),[s,l]=N.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=t,g=N.useRef(null);N.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let b=T=>{T.forEach(E=>{l(E.isIntersecting)})},y=new IntersectionObserver(b,{threshold:.5});return g.current&&y.observe(g.current),()=>{y.disconnect()}}},[e]),N.useEffect(()=>{if(a){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[a]);let v=()=>{i(!0)},j=()=>{i(!1),l(!1)};return r?e!=="intent"?[s,g,{}]:[s,g,{onFocus:lu(d,v),onBlur:lu(u,j),onMouseEnter:lu(h,v),onMouseLeave:lu(p,j),onTouchStart:lu(m,v)}]:[!1,g,{}]}function lu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function AL({page:e,...t}){let{router:r}=I3(),a=N.useMemo(()=>S3(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?N.createElement(OL,{page:e,matches:a,...t}):null}function EL(e){let{manifest:t,routeModules:r}=D3(),[a,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return yL(e,t,r).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,r]),a}function OL({page:e,matches:t,...r}){let a=Gn(),{manifest:i,routeModules:s}=D3(),{basename:l}=I3(),{loaderData:d,matches:u}=TL(),h=N.useMemo(()=>AA(e,t,u,i,a,"data"),[e,t,u,i,a]),p=N.useMemo(()=>AA(e,t,u,i,a,"assets"),[e,t,u,i,a]),m=N.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,b=!1;if(t.forEach(T=>{var C;let E=i.routes[T.route.id];!E||!E.hasLoader||(!h.some(S=>S.route.id===T.route.id)&&T.route.id in d&&((C=s[T.route.id])!=null&&C.shouldRevalidate)||E.hasClientLoader?b=!0:j.add(T.route.id))}),j.size===0)return[];let y=NL(e,l);return b&&j.size>0&&y.searchParams.set("_routes",t.filter(T=>j.has(T.route.id)).map(T=>T.route.id).join(",")),[y.pathname+y.search]},[l,d,a,i,h,t,e,s]),g=N.useMemo(()=>vL(p,i),[p,i]),v=EL(p);return N.createElement(N.Fragment,null,m.map(j=>N.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),g.map(j=>N.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),v.map(({key:j,link:b})=>N.createElement("link",{key:j,...b})))}function _L(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var R3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R3&&(window.__reactRouterVersion="7.6.2")}catch{}function kL({basename:e,children:t,window:r}){let a=N.useRef();a.current==null&&(a.current=vF({window:r,v5Compat:!0}));let i=a.current,[s,l]=N.useState({action:i.action,location:i.location}),d=N.useCallback(u=>{N.startTransition(()=>l(u))},[l]);return N.useLayoutEffect(()=>i.listen(d),[i,d]),N.createElement(oL,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var P3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sw=N.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:i,reloadDocument:s,replace:l,state:d,target:u,to:h,preventScrollReset:p,viewTransition:m,...g},v){let{basename:j}=N.useContext(bi),b=typeof h=="string"&&P3.test(h),y,T=!1;if(typeof h=="string"&&b&&(y=h,R3))try{let F=new URL(window.location.href),M=h.startsWith("//")?new URL(F.protocol+h):new URL(h),L=gs(M.pathname,j);M.origin===F.origin&&L!=null?h=L+M.search+M.hash:T=!0}catch{vi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=GF(h,{relative:i}),[C,S,A]=CL(a,g),k=PL(h,{replace:l,state:d,target:u,preventScrollReset:p,relative:i,viewTransition:m});function D(F){t&&t(F),F.defaultPrevented||k(F)}let B=N.createElement("a",{...g,...A,href:y||E,onClick:T||s?t:D,ref:_L(v,S),target:u,"data-discover":!b&&r==="render"?"true":void 0});return C&&!b?N.createElement(N.Fragment,null,B,N.createElement(AL,{page:E})):B});sw.displayName="Link";var IL=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:i=!1,style:s,to:l,viewTransition:d,children:u,...h},p){let m=_h(l,{relative:h.relative}),g=Gn(),v=N.useContext(Jm),{navigator:j,basename:b}=N.useContext(bi),y=v!=null&&$L(m)&&d===!0,T=j.encodeLocation?j.encodeLocation(m).pathname:m.pathname,E=g.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(E=E.toLowerCase(),C=C?C.toLowerCase():null,T=T.toLowerCase()),C&&b&&(C=gs(C,b)||C);const S=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let A=E===T||!i&&E.startsWith(T)&&E.charAt(S)==="/",k=C!=null&&(C===T||!i&&C.startsWith(T)&&C.charAt(T.length)==="/"),D={isActive:A,isPending:k,isTransitioning:y},B=A?t:void 0,F;typeof a=="function"?F=a(D):F=[a,A?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let M=typeof s=="function"?s(D):s;return N.createElement(sw,{...h,"aria-current":B,className:F,ref:p,style:M,to:l,viewTransition:d},typeof u=="function"?u(D):u)});IL.displayName="NavLink";var DL=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:i,state:s,method:l=Ap,action:d,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:m,...g},v)=>{let j=FL(),b=LL(d,{relative:h}),y=l.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&P3.test(d),E=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let S=C.nativeEvent.submitter,A=(S==null?void 0:S.getAttribute("formmethod"))||l;j(S||C.currentTarget,{fetcherKey:t,method:A,navigate:r,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:m})};return N.createElement("form",{ref:v,method:y,action:b,onSubmit:a?u:E,...g,"data-discover":!T&&e==="render"?"true":void 0})});DL.displayName="Form";function RL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M3(e){let t=N.useContext(Xc);return Lr(t,RL(e)),t}function PL(e,{target:t,replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:l}={}){let d=nn(),u=Gn(),h=_h(e,{relative:s});return N.useCallback(p=>{if(hL(p,t)){p.preventDefault();let m=r!==void 0?r:Bu(u)===Bu(h);d(e,{replace:m,state:a,preventScrollReset:i,relative:s,viewTransition:l})}},[u,d,h,r,a,t,e,i,s,l])}var ML=0,BL=()=>`__${String(++ML)}__`;function FL(){let{router:e}=M3("useSubmit"),{basename:t}=N.useContext(bi),r=nL();return N.useCallback(async(a,i={})=>{let{action:s,method:l,encType:d,formData:u,body:h}=mL(a,t);if(i.navigate===!1){let p=i.fetcherKey||BL();await e.fetch(p,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function LL(e,{relative:t}={}){let{basename:r}=N.useContext(bi),a=N.useContext($i);Lr(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s={..._h(e||".",{relative:t})},l=Gn();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),u=d.getAll("index");if(u.some(p=>p==="")){d.delete("index"),u.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:cs([r,s.pathname])),Bu(s)}function $L(e,t={}){let r=N.useContext(A3);Lr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=M3("useViewTransitionState"),i=_h(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=gs(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=gs(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Rp(i.pathname,l)!=null||Rp(i.pathname,s)!=null}[...SL];/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),EA=e=>{const t=UL(e);return t.charAt(0).toUpperCase()+t.slice(1)},B3=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),qL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:s,iconNode:l,...d},u)=>N.createElement("svg",{ref:u,...WL,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:B3("lucide",i),...!s&&!qL(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>N.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(e,t)=>{const r=N.forwardRef(({className:a,...i},s)=>N.createElement(HL,{ref:s,iconNode:t,className:B3(`lucide-${zL(EA(e))}`,`lucide-${e}`,a),...i}));return r.displayName=EA(e),r};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],oo=Nt("arrow-down",GL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],lo=Nt("arrow-up",VL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],KL=Nt("banknote",YL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],Ii=Nt("bed",XL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Br=Nt("calendar",QL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],hc=Nt("chart-column",ZL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rn=Nt("check",JL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kh=Nt("chevron-left",e7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ih=Nt("chevron-right",t7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qt=Nt("circle-alert",r7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ns=Nt("circle-check-big",n7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i7=Nt("circle-help",a7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Op=Nt("circle-x",s7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Di=Nt("clock",o7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Jn=Nt("credit-card",l7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],yj=Nt("dollar-sign",c7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ta=Nt("download",d7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ow=Nt("eye-off",u7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ji=Nt("eye",h7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wc=Nt("file-text",f7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Mp=Nt("funnel",p7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],OA=Nt("heart",m7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ll=Nt("image",x7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],ds=Nt("indian-rupee",g7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],v7=Nt("info",y7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],_A=Nt("key-round",b7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],F3=Nt("key",j7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],S7=Nt("layout-dashboard",w7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],la=Nt("loader",N7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],C7=Nt("lock",T7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Bp=Nt("log-out",A7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ys=Nt("mail",E7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Fu=Nt("map-pin",O7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M5 12h14",key:"1ays0h"}]],kA=Nt("minus",_7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],I7=Nt("package",k7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Za=Nt("phone",D7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ka=Nt("plus",R7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Va=Nt("printer",P7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],as=Nt("qr-code",M7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Sc=Nt("receipt",B7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Pi=Nt("refresh-cw",F7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],$7=Nt("rotate-cw",L7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],L3=Nt("save",z7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lr=Nt("search",U7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],W7=Nt("shopping-bag",q7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Fp=Nt("shopping-cart",H7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ra=Nt("square-pen",G7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],vj=Nt("store",V7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],K7=Nt("table",Y7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],Q7=Nt("tags",X7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],fa=Nt("trash-2",Z7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Lp=Nt("trending-up",J7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],to=Nt("upload",e$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Zc=Nt("user-plus",t$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qo=Nt("user",r$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],is=Nt("users",n$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Lu=Nt("wallet",a$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hn=Nt("x",i$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],o$=Nt("zoom-in",s$);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],c$=Nt("zoom-out",l$),d$=({collapsed:e,setCollapsed:t})=>{const r=Gn(),a=nn(),[i,s]=N.useState(r.pathname),[l,d]=N.useState(null);N.useEffect(()=>{s(r.pathname);const p=localStorage.getItem("userData");p&&d(JSON.parse(p))},[r.pathname]);const u=[{path:"/",name:"Dashboard",icon:n.jsx(S7,{size:20})},{path:"/branches",name:"Branches",icon:n.jsx(vj,{size:20})},{path:"/rooms",name:"Rooms",icon:n.jsx(Ii,{size:20})},{path:"/room-bookings",name:"Room Bookings",icon:n.jsx(Br,{size:20})},{path:"/room-payments",name:"Room Payments",icon:n.jsx(Jn,{size:20})},{path:"/categories",name:"Categories",icon:n.jsx(Q7,{size:20})},{path:"/products",name:"Menu",icon:n.jsx(I7,{size:20})},{path:"/tables",name:"Tables",icon:n.jsx(K7,{size:20})},{path:"/staff-orders",name:"Staff Orders",icon:n.jsx(Fp,{size:20})},{path:"/counter-orders",name:"Counter Orders",icon:n.jsx(Fp,{size:20})},{path:"/product-submissions",name:"Purchase Orders",icon:n.jsx(Sc,{size:20})},{path:"/qr-uploads",name:"QR Uploads",icon:n.jsx(Sc,{size:20})},{path:"/users",name:"Users",icon:n.jsx(is,{size:20})},{path:"/staff-users",name:"Staff Users",icon:n.jsx(is,{size:20})},{path:"/counter-users",name:"Counter Users",icon:n.jsx(is,{size:20})},{path:"/purchase-users",name:"Purchase Users",icon:n.jsx(is,{size:20})},{path:"/category-access",name:"Category Access",icon:n.jsx(_A,{size:20})},{path:"/receptionist-access",name:"Receptionist Access",icon:n.jsx(_A,{size:20})},{path:"/help-support",name:"Help & Support",icon:n.jsx(i7,{size:20})},{path:"/about-us",name:"About Us",icon:n.jsx(v7,{size:20})},{path:"/terms-policies",name:"Terms & Policies",icon:n.jsx(wc,{size:20})}],h=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userData"),localStorage.removeItem("authToken"),a("/login")};return n.jsxs("aside",{className:`sidebar ${e?"sidebar-collapsed":""}`,children:[n.jsxs("div",{className:"sidebar-header",children:[!e&&n.jsxs("div",{className:"logo",children:[n.jsx("div",{className:"logo-icon",children:n.jsx(vj,{size:24})}),n.jsx("h2",{children:"Hotel Virat"})]}),n.jsx("button",{className:"collapse-btn",onClick:()=>t(!e),children:e?n.jsx(Ih,{size:20}):n.jsx(kh,{size:20})})]}),n.jsx("nav",{className:"sidebar-nav",children:n.jsx("ul",{children:u.map(p=>n.jsx("li",{children:n.jsxs(sw,{to:p.path,className:`nav-link ${i===p.path?"active":""}`,onClick:()=>s(p.path),children:[n.jsx("span",{className:"icon",children:p.icon}),!e&&n.jsx("span",{className:"text",children:p.name})]})},p.path))})}),n.jsxs("div",{className:"sidebar-footer",children:[e?n.jsx("div",{className:"avatar-small",children:n.jsx("img",{src:(l==null?void 0:l.profileImage)||`https://ui-avatars.com/api/?name=${(l==null?void 0:l.name)||"Admin"}&background=f0f0f0&color=333`,alt:(l==null?void 0:l.name)||"Admin"})}):n.jsxs("div",{className:"user-info",children:[n.jsx("div",{className:"avatar",children:n.jsx("img",{src:(l==null?void 0:l.profileImage)||`https://ui-avatars.com/api/?name=${(l==null?void 0:l.name)||"Admin"}&background=f0f0f0&color=333`,alt:(l==null?void 0:l.name)||"Admin"})}),n.jsxs("div",{className:"user-details",children:[n.jsx("h4",{children:(l==null?void 0:l.name)||"Admin"}),n.jsx("p",{children:(l==null?void 0:l.email)||""})]})]}),n.jsxs("button",{className:"logout-btn",onClick:h,children:[n.jsx(Bp,{size:18}),!e&&n.jsx("span",{children:"Logout"})]})]})]})};function $3(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=$3(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function or(){for(var e,t,r=0,a="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=$3(e))&&(a&&(a+=" "),a+=t);return a}var ay,IA;function xa(){if(IA)return ay;IA=1;var e=Array.isArray;return ay=e,ay}var iy,DA;function z3(){if(DA)return iy;DA=1;var e=typeof ap=="object"&&ap&&ap.Object===Object&&ap;return iy=e,iy}var sy,RA;function zi(){if(RA)return sy;RA=1;var e=z3(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return sy=r,sy}var oy,PA;function Dh(){if(PA)return oy;PA=1;var e=zi(),t=e.Symbol;return oy=t,oy}var ly,MA;function u$(){if(MA)return ly;MA=1;var e=Dh(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,i=e?e.toStringTag:void 0;function s(l){var d=r.call(l,i),u=l[i];try{l[i]=void 0;var h=!0}catch{}var p=a.call(l);return h&&(d?l[i]=u:delete l[i]),p}return ly=s,ly}var cy,BA;function h$(){if(BA)return cy;BA=1;var e=Object.prototype,t=e.toString;function r(a){return t.call(a)}return cy=r,cy}var dy,FA;function Ts(){if(FA)return dy;FA=1;var e=Dh(),t=u$(),r=h$(),a="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function l(d){return d==null?d===void 0?i:a:s&&s in Object(d)?t(d):r(d)}return dy=l,dy}var uy,LA;function Cs(){if(LA)return uy;LA=1;function e(t){return t!=null&&typeof t=="object"}return uy=e,uy}var hy,$A;function Jc(){if($A)return hy;$A=1;var e=Ts(),t=Cs(),r="[object Symbol]";function a(i){return typeof i=="symbol"||t(i)&&e(i)==r}return hy=a,hy}var fy,zA;function lw(){if(zA)return fy;zA=1;var e=xa(),t=Jc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(s,l){if(e(s))return!1;var d=typeof s;return d=="number"||d=="symbol"||d=="boolean"||s==null||t(s)?!0:a.test(s)||!r.test(s)||l!=null&&s in Object(l)}return fy=i,fy}var py,UA;function fo(){if(UA)return py;UA=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return py=e,py}var my,qA;function cw(){if(qA)return my;qA=1;var e=Ts(),t=fo(),r="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(d){if(!t(d))return!1;var u=e(d);return u==a||u==i||u==r||u==s}return my=l,my}var xy,WA;function f$(){if(WA)return xy;WA=1;var e=zi(),t=e["__core-js_shared__"];return xy=t,xy}var gy,HA;function p$(){if(HA)return gy;HA=1;var e=f$(),t=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function r(a){return!!t&&t in a}return gy=r,gy}var yy,GA;function U3(){if(GA)return yy;GA=1;var e=Function.prototype,t=e.toString;function r(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return yy=r,yy}var vy,VA;function m$(){if(VA)return vy;VA=1;var e=cw(),t=p$(),r=fo(),a=U3(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,u=l.toString,h=d.hasOwnProperty,p=RegExp("^"+u.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||t(g))return!1;var v=e(g)?p:s;return v.test(a(g))}return vy=m,vy}var by,YA;function x$(){if(YA)return by;YA=1;function e(t,r){return t==null?void 0:t[r]}return by=e,by}var jy,KA;function cl(){if(KA)return jy;KA=1;var e=m$(),t=x$();function r(a,i){var s=t(a,i);return e(s)?s:void 0}return jy=r,jy}var wy,XA;function t0(){if(XA)return wy;XA=1;var e=cl(),t=e(Object,"create");return wy=t,wy}var Sy,QA;function g$(){if(QA)return Sy;QA=1;var e=t0();function t(){this.__data__=e?e(null):{},this.size=0}return Sy=t,Sy}var Ny,ZA;function y$(){if(ZA)return Ny;ZA=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Ny=e,Ny}var Ty,JA;function v$(){if(JA)return Ty;JA=1;var e=t0(),t="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function i(s){var l=this.__data__;if(e){var d=l[s];return d===t?void 0:d}return a.call(l,s)?l[s]:void 0}return Ty=i,Ty}var Cy,eE;function b$(){if(eE)return Cy;eE=1;var e=t0(),t=Object.prototype,r=t.hasOwnProperty;function a(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return Cy=a,Cy}var Ay,tE;function j$(){if(tE)return Ay;tE=1;var e=t0(),t="__lodash_hash_undefined__";function r(a,i){var s=this.__data__;return this.size+=this.has(a)?0:1,s[a]=e&&i===void 0?t:i,this}return Ay=r,Ay}var Ey,rE;function w$(){if(rE)return Ey;rE=1;var e=g$(),t=y$(),r=v$(),a=b$(),i=j$();function s(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var h=l[d];this.set(h[0],h[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,Ey=s,Ey}var Oy,nE;function S$(){if(nE)return Oy;nE=1;function e(){this.__data__=[],this.size=0}return Oy=e,Oy}var _y,aE;function dw(){if(aE)return _y;aE=1;function e(t,r){return t===r||t!==t&&r!==r}return _y=e,_y}var ky,iE;function r0(){if(iE)return ky;iE=1;var e=dw();function t(r,a){for(var i=r.length;i--;)if(e(r[i][0],a))return i;return-1}return ky=t,ky}var Iy,sE;function N$(){if(sE)return Iy;sE=1;var e=r0(),t=Array.prototype,r=t.splice;function a(i){var s=this.__data__,l=e(s,i);if(l<0)return!1;var d=s.length-1;return l==d?s.pop():r.call(s,l,1),--this.size,!0}return Iy=a,Iy}var Dy,oE;function T$(){if(oE)return Dy;oE=1;var e=r0();function t(r){var a=this.__data__,i=e(a,r);return i<0?void 0:a[i][1]}return Dy=t,Dy}var Ry,lE;function C$(){if(lE)return Ry;lE=1;var e=r0();function t(r){return e(this.__data__,r)>-1}return Ry=t,Ry}var Py,cE;function A$(){if(cE)return Py;cE=1;var e=r0();function t(r,a){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,a])):i[s][1]=a,this}return Py=t,Py}var My,dE;function n0(){if(dE)return My;dE=1;var e=S$(),t=N$(),r=T$(),a=C$(),i=A$();function s(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var h=l[d];this.set(h[0],h[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,My=s,My}var By,uE;function uw(){if(uE)return By;uE=1;var e=cl(),t=zi(),r=e(t,"Map");return By=r,By}var Fy,hE;function E$(){if(hE)return Fy;hE=1;var e=w$(),t=n0(),r=uw();function a(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Fy=a,Fy}var Ly,fE;function O$(){if(fE)return Ly;fE=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Ly=e,Ly}var $y,pE;function a0(){if(pE)return $y;pE=1;var e=O$();function t(r,a){var i=r.__data__;return e(a)?i[typeof a=="string"?"string":"hash"]:i.map}return $y=t,$y}var zy,mE;function _$(){if(mE)return zy;mE=1;var e=a0();function t(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return zy=t,zy}var Uy,xE;function k$(){if(xE)return Uy;xE=1;var e=a0();function t(r){return e(this,r).get(r)}return Uy=t,Uy}var qy,gE;function I$(){if(gE)return qy;gE=1;var e=a0();function t(r){return e(this,r).has(r)}return qy=t,qy}var Wy,yE;function D$(){if(yE)return Wy;yE=1;var e=a0();function t(r,a){var i=e(this,r),s=i.size;return i.set(r,a),this.size+=i.size==s?0:1,this}return Wy=t,Wy}var Hy,vE;function hw(){if(vE)return Hy;vE=1;var e=E$(),t=_$(),r=k$(),a=I$(),i=D$();function s(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var h=l[d];this.set(h[0],h[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,Hy=s,Hy}var Gy,bE;function q3(){if(bE)return Gy;bE=1;var e=hw(),t="Expected a function";function r(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var l=arguments,d=i?i.apply(this,l):l[0],u=s.cache;if(u.has(d))return u.get(d);var h=a.apply(this,l);return s.cache=u.set(d,h)||u,h};return s.cache=new(r.Cache||e),s}return r.Cache=e,Gy=r,Gy}var Vy,jE;function R$(){if(jE)return Vy;jE=1;var e=q3(),t=500;function r(a){var i=e(a,function(l){return s.size===t&&s.clear(),l}),s=i.cache;return i}return Vy=r,Vy}var Yy,wE;function P$(){if(wE)return Yy;wE=1;var e=R$(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(l,d,u,h){s.push(u?h.replace(r,"$1"):d||l)}),s});return Yy=a,Yy}var Ky,SE;function fw(){if(SE)return Ky;SE=1;function e(t,r){for(var a=-1,i=t==null?0:t.length,s=Array(i);++a<i;)s[a]=r(t[a],a,t);return s}return Ky=e,Ky}var Xy,NE;function M$(){if(NE)return Xy;NE=1;var e=Dh(),t=fw(),r=xa(),a=Jc(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function l(d){if(typeof d=="string")return d;if(r(d))return t(d,l)+"";if(a(d))return s?s.call(d):"";var u=d+"";return u=="0"&&1/d==-1/0?"-0":u}return Xy=l,Xy}var Qy,TE;function W3(){if(TE)return Qy;TE=1;var e=M$();function t(r){return r==null?"":e(r)}return Qy=t,Qy}var Zy,CE;function H3(){if(CE)return Zy;CE=1;var e=xa(),t=lw(),r=P$(),a=W3();function i(s,l){return e(s)?s:t(s,l)?[s]:r(a(s))}return Zy=i,Zy}var Jy,AE;function i0(){if(AE)return Jy;AE=1;var e=Jc();function t(r){if(typeof r=="string"||e(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return Jy=t,Jy}var ev,EE;function pw(){if(EE)return ev;EE=1;var e=H3(),t=i0();function r(a,i){i=e(i,a);for(var s=0,l=i.length;a!=null&&s<l;)a=a[t(i[s++])];return s&&s==l?a:void 0}return ev=r,ev}var tv,OE;function G3(){if(OE)return tv;OE=1;var e=pw();function t(r,a,i){var s=r==null?void 0:e(r,a);return s===void 0?i:s}return tv=t,tv}var B$=G3();const Xa=Cr(B$);var rv,_E;function F$(){if(_E)return rv;_E=1;function e(t){return t==null}return rv=e,rv}var L$=F$();const Jt=Cr(L$);var nv,kE;function $$(){if(kE)return nv;kE=1;var e=Ts(),t=xa(),r=Cs(),a="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==a}return nv=i,nv}var z$=$$();const Zo=Cr(z$);var U$=cw();const Gt=Cr(U$);var q$=fo();const ed=Cr(q$);var av={exports:{}},hr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function W$(){if(IE)return hr;IE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var T=y.$$typeof;switch(T){case e:switch(y=y.type,y){case r:case i:case a:case h:case p:return y;default:switch(y=y&&y.$$typeof,y){case d:case l:case u:case g:case m:case s:return y;default:return T}}case t:return T}}}return hr.ContextConsumer=l,hr.ContextProvider=s,hr.Element=e,hr.ForwardRef=u,hr.Fragment=r,hr.Lazy=g,hr.Memo=m,hr.Portal=t,hr.Profiler=i,hr.StrictMode=a,hr.Suspense=h,hr.SuspenseList=p,hr.isAsyncMode=function(){return!1},hr.isConcurrentMode=function(){return!1},hr.isContextConsumer=function(y){return b(y)===l},hr.isContextProvider=function(y){return b(y)===s},hr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},hr.isForwardRef=function(y){return b(y)===u},hr.isFragment=function(y){return b(y)===r},hr.isLazy=function(y){return b(y)===g},hr.isMemo=function(y){return b(y)===m},hr.isPortal=function(y){return b(y)===t},hr.isProfiler=function(y){return b(y)===i},hr.isStrictMode=function(y){return b(y)===a},hr.isSuspense=function(y){return b(y)===h},hr.isSuspenseList=function(y){return b(y)===p},hr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===a||y===h||y===p||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===m||y.$$typeof===s||y.$$typeof===l||y.$$typeof===u||y.$$typeof===j||y.getModuleId!==void 0)},hr.typeOf=b,hr}var DE;function H$(){return DE||(DE=1,av.exports=W$()),av.exports}var G$=H$(),iv,RE;function V3(){if(RE)return iv;RE=1;var e=Ts(),t=Cs(),r="[object Number]";function a(i){return typeof i=="number"||t(i)&&e(i)==r}return iv=a,iv}var sv,PE;function V$(){if(PE)return sv;PE=1;var e=V3();function t(r){return e(r)&&r!=+r}return sv=t,sv}var Y$=V$();const Rh=Cr(Y$);var K$=V3();const X$=Cr(K$);var mi=function(t){return t===0?0:t>0?1:-1},Uo=function(t){return Zo(t)&&t.indexOf("%")===t.length-1},gt=function(t){return X$(t)&&!Rh(t)},hn=function(t){return gt(t)||Zo(t)},Q$=0,Ph=function(t){var r=++Q$;return"".concat(t||"").concat(r)},Jo=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!gt(t)&&!Zo(t))return a;var s;if(Uo(t)){var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Rh(s)&&(s=a),i&&s>r&&(s=r),s},eo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Z$=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},i=0;i<r;i++)if(!a[t[i]])a[t[i]]=!0;else return!0;return!1},hi=function(t,r){return gt(t)&&gt(r)?function(a){return t+a*(r-t)}:function(){return r}};function $p(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Xa(a,t))===r})}var J$=function(t,r){return gt(t)&&gt(r)?t-r:Zo(t)&&Zo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function fc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function bj(e){"@babel/helpers - typeof";return bj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bj(e)}var ez=["viewBox","children"],tz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ME=["points","pathLength"],ov={svg:ez,polygon:ME,polyline:ME},mw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zp=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!ed(a))return null;var i={};return Object.keys(a).forEach(function(s){mw.includes(s)&&(i[s]=r||function(l){return a[s](a,l)})}),i},rz=function(t,r,a){return function(i){return t(r,a,i),null}},Up=function(t,r,a){if(!ed(t)||bj(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var l=t[s];mw.includes(s)&&typeof l=="function"&&(i||(i={}),i[s]=rz(l,r,a))}),i},nz=["children"],az=["children"];function BE(e,t){if(e==null)return{};var r=iz(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function iz(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function jj(e){"@babel/helpers - typeof";return jj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jj(e)}var FE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},us=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},LE=null,lv=null,xw=function e(t){if(t===LE&&Array.isArray(lv))return lv;var r=[];return N.Children.forEach(t,function(a){Jt(a)||(G$.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),lv=r,LE=t,r};function Qa(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(i){return us(i)}):a=[us(t)],xw(e).forEach(function(i){var s=Xa(i,"type.displayName")||Xa(i,"type.name");a.indexOf(s)!==-1&&r.push(i)}),r}function Aa(e,t){var r=Qa(e,t);return r&&r[0]}var $E=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,i=r.height;return!(!gt(a)||a<=0||!gt(i)||i<=0)},sz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],oz=function(t){return t&&t.type&&Zo(t.type)&&sz.indexOf(t.type)>=0},lz=function(t){return t&&jj(t)==="object"&&"clipDot"in t},cz=function(t,r,a,i){var s,l=(s=ov==null?void 0:ov[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Gt(t)&&(i&&l.includes(r)||tz.includes(r))||a&&mw.includes(r)},tr=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(N.isValidElement(t)&&(i=t.props),!ed(i))return null;var s={};return Object.keys(i).forEach(function(l){var d;cz((d=i)===null||d===void 0?void 0:d[l],l,r,a)&&(s[l]=i[l])}),s},wj=function e(t,r){if(t===r)return!0;var a=N.Children.count(t);if(a!==N.Children.count(r))return!1;if(a===0)return!0;if(a===1)return zE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<a;i++){var s=t[i],l=r[i];if(Array.isArray(s)||Array.isArray(l)){if(!e(s,l))return!1}else if(!zE(s,l))return!1}return!0},zE=function(t,r){if(Jt(t)&&Jt(r))return!0;if(!Jt(t)&&!Jt(r)){var a=t.props||{},i=a.children,s=BE(a,nz),l=r.props||{},d=l.children,u=BE(l,az);return i&&d?fc(s,u)&&wj(i,d):!i&&!d?fc(s,u):!1}return!1},UE=function(t,r){var a=[],i={};return xw(t).forEach(function(s,l){if(oz(s))a.push(s);else if(s){var d=us(s.type),u=r[d]||{},h=u.handler,p=u.once;if(h&&(!p||!i[d])){var m=h(s,d,l);a.push(m),i[d]=!0}}}),a},dz=function(t){var r=t&&t.type;return r&&FE[r]?FE[r]:null},uz=function(t,r){return xw(r).indexOf(t)},hz=["children","width","height","viewBox","className","style","title","desc"];function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sj.apply(this,arguments)}function fz(e,t){if(e==null)return{};var r=pz(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function pz(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Nj(e){var t=e.children,r=e.width,a=e.height,i=e.viewBox,s=e.className,l=e.style,d=e.title,u=e.desc,h=fz(e,hz),p=i||{width:r,height:a,x:0,y:0},m=or("recharts-surface",s);return ke.createElement("svg",Sj({},tr(h,!0,"svg"),{className:m,width:r,height:a,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),ke.createElement("title",null,d),ke.createElement("desc",null,u),t)}var mz=["children","className"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tj.apply(this,arguments)}function xz(e,t){if(e==null)return{};var r=gz(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gz(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Kr=ke.forwardRef(function(e,t){var r=e.children,a=e.className,i=xz(e,mz),s=or("recharts-layer",a);return ke.createElement("g",Tj({className:s},tr(i,!0),{ref:t}),r)}),hs=function(t,r){for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s]},cv,qE;function yz(){if(qE)return cv;qE=1;function e(t,r,a){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),a=a>s?s:a,a<0&&(a+=s),s=r>a?0:a-r>>>0,r>>>=0;for(var l=Array(s);++i<s;)l[i]=t[i+r];return l}return cv=e,cv}var dv,WE;function vz(){if(WE)return dv;WE=1;var e=yz();function t(r,a,i){var s=r.length;return i=i===void 0?s:i,!a&&i>=s?r:e(r,a,i)}return dv=t,dv}var uv,HE;function Y3(){if(HE)return uv;HE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=t+r+a,s="\\ufe0e\\ufe0f",l="\\u200d",d=RegExp("["+l+e+i+s+"]");function u(h){return d.test(h)}return uv=u,uv}var hv,GE;function bz(){if(GE)return hv;GE=1;function e(t){return t.split("")}return hv=e,hv}var fv,VE;function jz(){if(VE)return fv;VE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=t+r+a,s="\\ufe0e\\ufe0f",l="["+e+"]",d="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",h="(?:"+d+"|"+u+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",j=h+"?",b="["+s+"]?",y="(?:"+v+"(?:"+[p,m,g].join("|")+")"+b+j+")*",T=b+j+y,E="(?:"+[p+d+"?",d,m,g,l].join("|")+")",C=RegExp(u+"(?="+u+")|"+E+T,"g");function S(A){return A.match(C)||[]}return fv=S,fv}var pv,YE;function wz(){if(YE)return pv;YE=1;var e=bz(),t=Y3(),r=jz();function a(i){return t(i)?r(i):e(i)}return pv=a,pv}var mv,KE;function Sz(){if(KE)return mv;KE=1;var e=vz(),t=Y3(),r=wz(),a=W3();function i(s){return function(l){l=a(l);var d=t(l)?r(l):void 0,u=d?d[0]:l.charAt(0),h=d?e(d,1).join(""):l.slice(1);return u[s]()+h}}return mv=i,mv}var xv,XE;function Nz(){if(XE)return xv;XE=1;var e=Sz(),t=e("toUpperCase");return xv=t,xv}var Tz=Nz();const s0=Cr(Tz);function kr(e){return function(){return e}}const K3=Math.cos,qp=Math.sin,wi=Math.sqrt,Wp=Math.PI,o0=2*Wp,Cj=Math.PI,Aj=2*Cj,Lo=1e-6,Cz=Aj-Lo;function X3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Az(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return X3;const r=10**t;return function(a){this._+=a[0];for(let i=1,s=a.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+a[i]}}class Ez{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?X3:Az(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,i){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+i}`}bezierCurveTo(t,r,a,i,s,l){this._append`C${+t},${+r},${+a},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,a,i,s){if(t=+t,r=+r,a=+a,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,u=a-t,h=i-r,p=l-t,m=d-r,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>Lo)if(!(Math.abs(m*u-h*p)>Lo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=a-l,j=i-d,b=u*u+h*h,y=v*v+j*j,T=Math.sqrt(b),E=Math.sqrt(g),C=s*Math.tan((Cj-Math.acos((b+g-y)/(2*T*E)))/2),S=C/E,A=C/T;Math.abs(S-1)>Lo&&this._append`L${t+S*p},${r+S*m}`,this._append`A${s},${s},0,0,${+(m*v>p*j)},${this._x1=t+A*u},${this._y1=r+A*h}`}}arc(t,r,a,i,s,l){if(t=+t,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(i),u=a*Math.sin(i),h=t+d,p=r+u,m=1^l,g=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Lo||Math.abs(this._y1-p)>Lo)&&this._append`L${h},${p}`,a&&(g<0&&(g=g%Aj+Aj),g>Cz?this._append`A${a},${a},0,1,${m},${t-d},${r-u}A${a},${a},0,1,${m},${this._x1=h},${this._y1=p}`:g>Lo&&this._append`A${a},${a},0,${+(g>=Cj)},${m},${this._x1=t+a*Math.cos(s)},${this._y1=r+a*Math.sin(s)}`)}rect(t,r,a,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+i}h${-a}Z`}toString(){return this._}}function gw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new Ez(t)}function yw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Q3(e){this._context=e}Q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function l0(e){return new Q3(e)}function Z3(e){return e[0]}function J3(e){return e[1]}function eD(e,t){var r=kr(!0),a=null,i=l0,s=null,l=gw(d);e=typeof e=="function"?e:e===void 0?Z3:kr(e),t=typeof t=="function"?t:t===void 0?J3:kr(t);function d(u){var h,p=(u=yw(u)).length,m,g=!1,v;for(a==null&&(s=i(v=l())),h=0;h<=p;++h)!(h<p&&r(m=u[h],h,u))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(m,h,u),+t(m,h,u));if(v)return s=null,v+""||null}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:kr(+u),d):e},d.y=function(u){return arguments.length?(t=typeof u=="function"?u:kr(+u),d):t},d.defined=function(u){return arguments.length?(r=typeof u=="function"?u:kr(!!u),d):r},d.curve=function(u){return arguments.length?(i=u,a!=null&&(s=i(a)),d):i},d.context=function(u){return arguments.length?(u==null?a=s=null:s=i(a=u),d):a},d}function sp(e,t,r){var a=null,i=kr(!0),s=null,l=l0,d=null,u=gw(h);e=typeof e=="function"?e:e===void 0?Z3:kr(+e),t=typeof t=="function"?t:kr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?J3:kr(+r);function h(m){var g,v,j,b=(m=yw(m)).length,y,T=!1,E,C=new Array(b),S=new Array(b);for(s==null&&(d=l(E=u())),g=0;g<=b;++g){if(!(g<b&&i(y=m[g],g,m))===T)if(T=!T)v=g,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=g-1;j>=v;--j)d.point(C[j],S[j]);d.lineEnd(),d.areaEnd()}T&&(C[g]=+e(y,g,m),S[g]=+t(y,g,m),d.point(a?+a(y,g,m):C[g],r?+r(y,g,m):S[g]))}if(E)return d=null,E+""||null}function p(){return eD().defined(i).curve(l).context(s)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:kr(+m),a=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:kr(+m),h):e},h.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:kr(+m),h):a},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:kr(+m),r=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:kr(+m),h):t},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:kr(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(a).y(t)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:kr(!!m),h):i},h.curve=function(m){return arguments.length?(l=m,s!=null&&(d=l(s)),h):l},h.context=function(m){return arguments.length?(m==null?s=d=null:d=l(s=m),h):s},h}class tD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Oz(e){return new tD(e,!0)}function _z(e){return new tD(e,!1)}const vw={draw(e,t){const r=wi(t/Wp);e.moveTo(r,0),e.arc(0,0,r,0,o0)}},kz={draw(e,t){const r=wi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rD=wi(1/3),Iz=rD*2,Dz={draw(e,t){const r=wi(t/Iz),a=r*rD;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},Rz={draw(e,t){const r=wi(t),a=-r/2;e.rect(a,a,r,r)}},Pz=.8908130915292852,nD=qp(Wp/10)/qp(7*Wp/10),Mz=qp(o0/10)*nD,Bz=-K3(o0/10)*nD,Fz={draw(e,t){const r=wi(t*Pz),a=Mz*r,i=Bz*r;e.moveTo(0,-r),e.lineTo(a,i);for(let s=1;s<5;++s){const l=o0*s/5,d=K3(l),u=qp(l);e.lineTo(u*r,-d*r),e.lineTo(d*a-u*i,u*a+d*i)}e.closePath()}},gv=wi(3),Lz={draw(e,t){const r=-wi(t/(gv*3));e.moveTo(0,r*2),e.lineTo(-gv*r,-r),e.lineTo(gv*r,-r),e.closePath()}},Ua=-.5,qa=wi(3)/2,Ej=1/wi(12),$z=(Ej/2+1)*3,zz={draw(e,t){const r=wi(t/$z),a=r/2,i=r*Ej,s=a,l=r*Ej+r,d=-s,u=l;e.moveTo(a,i),e.lineTo(s,l),e.lineTo(d,u),e.lineTo(Ua*a-qa*i,qa*a+Ua*i),e.lineTo(Ua*s-qa*l,qa*s+Ua*l),e.lineTo(Ua*d-qa*u,qa*d+Ua*u),e.lineTo(Ua*a+qa*i,Ua*i-qa*a),e.lineTo(Ua*s+qa*l,Ua*l-qa*s),e.lineTo(Ua*d+qa*u,Ua*u-qa*d),e.closePath()}};function Uz(e,t){let r=null,a=gw(i);e=typeof e=="function"?e:kr(e||vw),t=typeof t=="function"?t:kr(t===void 0?64:+t);function i(){let s;if(r||(r=s=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:kr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:kr(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Hp(){}function Gp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function aD(e){this._context=e}aD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qz(e){return new aD(e)}function iD(e){this._context=e}iD.prototype={areaStart:Hp,areaEnd:Hp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Gp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wz(e){return new iD(e)}function sD(e){this._context=e}sD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Gp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hz(e){return new sD(e)}function oD(e){this._context=e}oD.prototype={areaStart:Hp,areaEnd:Hp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Gz(e){return new oD(e)}function QE(e){return e<0?-1:1}function ZE(e,t,r){var a=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(a||i<0&&-0),l=(r-e._y1)/(i||a<0&&-0),d=(s*i+l*a)/(a+i);return(QE(s)+QE(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function JE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function yv(e,t,r){var a=e._x0,i=e._y0,s=e._x1,l=e._y1,d=(s-a)/3;e._context.bezierCurveTo(a+d,i+d*t,s-d,l-d*r,s,l)}function Vp(e){this._context=e}Vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yv(this,this._t0,JE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yv(this,JE(this,r=ZE(this,e,t)),r);break;default:yv(this,this._t0,r=ZE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lD(e){this._context=new cD(e)}(lD.prototype=Object.create(Vp.prototype)).point=function(e,t){Vp.prototype.point.call(this,t,e)};function cD(e){this._context=e}cD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,i,s){this._context.bezierCurveTo(t,e,a,r,s,i)}};function Vz(e){return new Vp(e)}function Yz(e){return new lD(e)}function dD(e){this._context=e}dD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=eO(e),i=eO(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(a[0][s],i[0][s],a[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function eO(e){var t,r=e.length-1,a,i=new Array(r),s=new Array(r),l=new Array(r);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=i[t]/s[t-1],s[t]-=a,l[t]-=a*l[t-1];for(i[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Kz(e){return new dD(e)}function c0(e,t){this._context=e,this._t=t}c0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Xz(e){return new c0(e,.5)}function Qz(e){return new c0(e,0)}function Zz(e){return new c0(e,1)}function Nc(e,t){if((l=e.length)>1)for(var r=1,a,i,s=e[t[0]],l,d=s.length;r<l;++r)for(i=s,s=e[t[r]],a=0;a<d;++a)s[a][1]+=s[a][0]=isNaN(i[a][1])?i[a][0]:i[a][1]}function Oj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Jz(e,t){return e[t]}function e9(e){const t=[];return t.key=e,t}function t9(){var e=kr([]),t=Oj,r=Nc,a=Jz;function i(s){var l=Array.from(e.apply(this,arguments),e9),d,u=l.length,h=-1,p;for(const m of s)for(d=0,++h;d<u;++d)(l[d][h]=[0,+a(m,l[d].key,h,s)]).data=m;for(d=0,p=yw(t(l));d<u;++d)l[p[d]].index=d;return r(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:kr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(a=typeof s=="function"?s:kr(+s),i):a},i.order=function(s){return arguments.length?(t=s==null?Oj:typeof s=="function"?s:kr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Nc,i):r},i}function r9(e,t){if((a=e.length)>0){for(var r,a,i=0,s=e[0].length,l;i<s;++i){for(l=r=0;r<a;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<a;++r)e[r][i][1]/=l}Nc(e,t)}}function n9(e,t){if((i=e.length)>0){for(var r=0,a=e[t[0]],i,s=a.length;r<s;++r){for(var l=0,d=0;l<i;++l)d+=e[l][r][1]||0;a[r][1]+=a[r][0]=-d/2}Nc(e,t)}}function a9(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,a=1,i,s,l;a<s;++a){for(var d=0,u=0,h=0;d<l;++d){for(var p=e[t[d]],m=p[a][1]||0,g=p[a-1][1]||0,v=(m-g)/2,j=0;j<d;++j){var b=e[t[j]],y=b[a][1]||0,T=b[a-1][1]||0;v+=y-T}u+=m,h+=v*m}i[a-1][1]+=i[a-1][0]=r,u&&(r-=h/u)}i[a-1][1]+=i[a-1][0]=r,Nc(e,t)}}function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}var i9=["type","size","sizeType"];function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_j.apply(this,arguments)}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function rO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(a){s9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function s9(e,t,r){return t=o9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o9(e){var t=l9(e,"string");return $u(t)=="symbol"?t:t+""}function l9(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if($u(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c9(e,t){if(e==null)return{};var r=d9(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function d9(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var uD={symbolCircle:vw,symbolCross:kz,symbolDiamond:Dz,symbolSquare:Rz,symbolStar:Fz,symbolTriangle:Lz,symbolWye:zz},u9=Math.PI/180,h9=function(t){var r="symbol".concat(s0(t));return uD[r]||vw},f9=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*u9;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},p9=function(t,r){uD["symbol".concat(s0(t))]=r},bw=function(t){var r=t.type,a=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,l=t.sizeType,d=l===void 0?"area":l,u=c9(t,i9),h=rO(rO({},u),{},{type:a,size:s,sizeType:d}),p=function(){var y=h9(a),T=Uz().type(y).size(f9(s,d,a));return T()},m=h.className,g=h.cx,v=h.cy,j=tr(h,!0);return g===+g&&v===+v&&s===+s?ke.createElement("path",_j({},j,{className:or("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(v,")"),d:p()})):null};bw.registerSymbol=p9;function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kj.apply(this,arguments)}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function m9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(a){zu(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function x9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g9(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fD(a.key),a)}}function y9(e,t,r){return t&&g9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v9(e,t,r){return t=Yp(t),b9(e,hD()?Reflect.construct(t,r||[],Yp(e).constructor):t.apply(e,r))}function b9(e,t){if(t&&(Tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j9(e)}function j9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hD=function(){return!!e})()}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yp(e)}function w9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ij(e,t)}function Ij(e,t){return Ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Ij(e,t)}function zu(e,t,r){return t=fD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fD(e){var t=S9(e,"string");return Tc(t)=="symbol"?t:t+""}function S9(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Tc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wa=32,jw=function(e){function t(){return x9(this,t),v9(this,t,arguments)}return w9(t,e),y9(t,[{key:"renderIcon",value:function(a){var i=this.props.inactiveColor,s=Wa/2,l=Wa/6,d=Wa/3,u=a.inactive?i:a.color;if(a.type==="plainline")return ke.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:s,x2:Wa,y2:s,className:"recharts-legend-icon"});if(a.type==="line")return ke.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(d,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*d,",").concat(s,`
            H`).concat(Wa,"M").concat(2*d,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(d,",").concat(s),className:"recharts-legend-icon"});if(a.type==="rect")return ke.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Wa/8,"h").concat(Wa,"v").concat(Wa*3/4,"h").concat(-Wa,"z"),className:"recharts-legend-icon"});if(ke.isValidElement(a.legendIcon)){var h=m9({},a);return delete h.legendIcon,ke.cloneElement(a.legendIcon,h)}return ke.createElement(bw,{fill:u,cx:s,cy:s,size:Wa,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,i=this.props,s=i.payload,l=i.iconSize,d=i.layout,u=i.formatter,h=i.inactiveColor,p={x:0,y:0,width:Wa,height:Wa},m={display:d==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,j){var b=v.formatter||u,y=or(zu(zu({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var T=Gt(v.value)?null:v.value;hs(!Gt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=v.inactive?h:v.color;return ke.createElement("li",kj({className:y,style:m,key:"legend-item-".concat(j)},Up(a.props,v,j)),ke.createElement(Nj,{width:l,height:l,viewBox:p,style:g},a.renderIcon(v)),ke.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},b?b(T,v,j):T))})}},{key:"render",value:function(){var a=this.props,i=a.payload,s=a.layout,l=a.align;if(!i||!i.length)return null;var d={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return ke.createElement("ul",{className:"recharts-default-legend",style:d},this.renderItems())}}])}(N.PureComponent);zu(jw,"displayName","Legend");zu(jw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var vv,aO;function N9(){if(aO)return vv;aO=1;var e=n0();function t(){this.__data__=new e,this.size=0}return vv=t,vv}var bv,iO;function T9(){if(iO)return bv;iO=1;function e(t){var r=this.__data__,a=r.delete(t);return this.size=r.size,a}return bv=e,bv}var jv,sO;function C9(){if(sO)return jv;sO=1;function e(t){return this.__data__.get(t)}return jv=e,jv}var wv,oO;function A9(){if(oO)return wv;oO=1;function e(t){return this.__data__.has(t)}return wv=e,wv}var Sv,lO;function E9(){if(lO)return Sv;lO=1;var e=n0(),t=uw(),r=hw(),a=200;function i(s,l){var d=this.__data__;if(d instanceof e){var u=d.__data__;if(!t||u.length<a-1)return u.push([s,l]),this.size=++d.size,this;d=this.__data__=new r(u)}return d.set(s,l),this.size=d.size,this}return Sv=i,Sv}var Nv,cO;function pD(){if(cO)return Nv;cO=1;var e=n0(),t=N9(),r=T9(),a=C9(),i=A9(),s=E9();function l(d){var u=this.__data__=new e(d);this.size=u.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,Nv=l,Nv}var Tv,dO;function O9(){if(dO)return Tv;dO=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Tv=t,Tv}var Cv,uO;function _9(){if(uO)return Cv;uO=1;function e(t){return this.__data__.has(t)}return Cv=e,Cv}var Av,hO;function mD(){if(hO)return Av;hO=1;var e=hw(),t=O9(),r=_9();function a(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new e;++s<l;)this.add(i[s])}return a.prototype.add=a.prototype.push=t,a.prototype.has=r,Av=a,Av}var Ev,fO;function xD(){if(fO)return Ev;fO=1;function e(t,r){for(var a=-1,i=t==null?0:t.length;++a<i;)if(r(t[a],a,t))return!0;return!1}return Ev=e,Ev}var Ov,pO;function gD(){if(pO)return Ov;pO=1;function e(t,r){return t.has(r)}return Ov=e,Ov}var _v,mO;function yD(){if(mO)return _v;mO=1;var e=mD(),t=xD(),r=gD(),a=1,i=2;function s(l,d,u,h,p,m){var g=u&a,v=l.length,j=d.length;if(v!=j&&!(g&&j>v))return!1;var b=m.get(l),y=m.get(d);if(b&&y)return b==d&&y==l;var T=-1,E=!0,C=u&i?new e:void 0;for(m.set(l,d),m.set(d,l);++T<v;){var S=l[T],A=d[T];if(h)var k=g?h(A,S,T,d,l,m):h(S,A,T,l,d,m);if(k!==void 0){if(k)continue;E=!1;break}if(C){if(!t(d,function(D,B){if(!r(C,B)&&(S===D||p(S,D,u,h,m)))return C.push(B)})){E=!1;break}}else if(!(S===A||p(S,A,u,h,m))){E=!1;break}}return m.delete(l),m.delete(d),E}return _v=s,_v}var kv,xO;function k9(){if(xO)return kv;xO=1;var e=zi(),t=e.Uint8Array;return kv=t,kv}var Iv,gO;function I9(){if(gO)return Iv;gO=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(i,s){a[++r]=[s,i]}),a}return Iv=e,Iv}var Dv,yO;function ww(){if(yO)return Dv;yO=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(i){a[++r]=i}),a}return Dv=e,Dv}var Rv,vO;function D9(){if(vO)return Rv;vO=1;var e=Dh(),t=k9(),r=dw(),a=yD(),i=I9(),s=ww(),l=1,d=2,u="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",v="[object RegExp]",j="[object Set]",b="[object String]",y="[object Symbol]",T="[object ArrayBuffer]",E="[object DataView]",C=e?e.prototype:void 0,S=C?C.valueOf:void 0;function A(k,D,B,F,M,L,O){switch(B){case E:if(k.byteLength!=D.byteLength||k.byteOffset!=D.byteOffset)return!1;k=k.buffer,D=D.buffer;case T:return!(k.byteLength!=D.byteLength||!L(new t(k),new t(D)));case u:case h:case g:return r(+k,+D);case p:return k.name==D.name&&k.message==D.message;case v:case b:return k==D+"";case m:var W=i;case j:var P=F&l;if(W||(W=s),k.size!=D.size&&!P)return!1;var I=O.get(k);if(I)return I==D;F|=d,O.set(k,D);var R=a(W(k),W(D),F,M,L,O);return O.delete(k),R;case y:if(S)return S.call(k)==S.call(D)}return!1}return Rv=A,Rv}var Pv,bO;function vD(){if(bO)return Pv;bO=1;function e(t,r){for(var a=-1,i=r.length,s=t.length;++a<i;)t[s+a]=r[a];return t}return Pv=e,Pv}var Mv,jO;function R9(){if(jO)return Mv;jO=1;var e=vD(),t=xa();function r(a,i,s){var l=i(a);return t(a)?l:e(l,s(a))}return Mv=r,Mv}var Bv,wO;function P9(){if(wO)return Bv;wO=1;function e(t,r){for(var a=-1,i=t==null?0:t.length,s=0,l=[];++a<i;){var d=t[a];r(d,a,t)&&(l[s++]=d)}return l}return Bv=e,Bv}var Fv,SO;function M9(){if(SO)return Fv;SO=1;function e(){return[]}return Fv=e,Fv}var Lv,NO;function B9(){if(NO)return Lv;NO=1;var e=P9(),t=M9(),r=Object.prototype,a=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(d){return a.call(l,d)}))}:t;return Lv=s,Lv}var $v,TO;function F9(){if(TO)return $v;TO=1;function e(t,r){for(var a=-1,i=Array(t);++a<t;)i[a]=r(a);return i}return $v=e,$v}var zv,CO;function L9(){if(CO)return zv;CO=1;var e=Ts(),t=Cs(),r="[object Arguments]";function a(i){return t(i)&&e(i)==r}return zv=a,zv}var Uv,AO;function Sw(){if(AO)return Uv;AO=1;var e=L9(),t=Cs(),r=Object.prototype,a=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(l){return t(l)&&a.call(l,"callee")&&!i.call(l,"callee")};return Uv=s,Uv}var wu={exports:{}},qv,EO;function $9(){if(EO)return qv;EO=1;function e(){return!1}return qv=e,qv}wu.exports;var OO;function bD(){return OO||(OO=1,function(e,t){var r=zi(),a=$9(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,l=s&&s.exports===i,d=l?r.Buffer:void 0,u=d?d.isBuffer:void 0,h=u||a;e.exports=h}(wu,wu.exports)),wu.exports}var Wv,_O;function Nw(){if(_O)return Wv;_O=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(a,i){var s=typeof a;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<i}return Wv=r,Wv}var Hv,kO;function Tw(){if(kO)return Hv;kO=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Hv=t,Hv}var Gv,IO;function z9(){if(IO)return Gv;IO=1;var e=Ts(),t=Tw(),r=Cs(),a="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",d="[object Error]",u="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",v="[object Set]",j="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",T="[object DataView]",E="[object Float32Array]",C="[object Float64Array]",S="[object Int8Array]",A="[object Int16Array]",k="[object Int32Array]",D="[object Uint8Array]",B="[object Uint8ClampedArray]",F="[object Uint16Array]",M="[object Uint32Array]",L={};L[E]=L[C]=L[S]=L[A]=L[k]=L[D]=L[B]=L[F]=L[M]=!0,L[a]=L[i]=L[y]=L[s]=L[T]=L[l]=L[d]=L[u]=L[h]=L[p]=L[m]=L[g]=L[v]=L[j]=L[b]=!1;function O(W){return r(W)&&t(W.length)&&!!L[e(W)]}return Gv=O,Gv}var Vv,DO;function jD(){if(DO)return Vv;DO=1;function e(t){return function(r){return t(r)}}return Vv=e,Vv}var Su={exports:{}};Su.exports;var RO;function U9(){return RO||(RO=1,function(e,t){var r=z3(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s&&r.process,d=function(){try{var u=i&&i.require&&i.require("util").types;return u||l&&l.binding&&l.binding("util")}catch{}}();e.exports=d}(Su,Su.exports)),Su.exports}var Yv,PO;function wD(){if(PO)return Yv;PO=1;var e=z9(),t=jD(),r=U9(),a=r&&r.isTypedArray,i=a?t(a):e;return Yv=i,Yv}var Kv,MO;function q9(){if(MO)return Kv;MO=1;var e=F9(),t=Sw(),r=xa(),a=bD(),i=Nw(),s=wD(),l=Object.prototype,d=l.hasOwnProperty;function u(h,p){var m=r(h),g=!m&&t(h),v=!m&&!g&&a(h),j=!m&&!g&&!v&&s(h),b=m||g||v||j,y=b?e(h.length,String):[],T=y.length;for(var E in h)(p||d.call(h,E))&&!(b&&(E=="length"||v&&(E=="offset"||E=="parent")||j&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,T)))&&y.push(E);return y}return Kv=u,Kv}var Xv,BO;function W9(){if(BO)return Xv;BO=1;var e=Object.prototype;function t(r){var a=r&&r.constructor,i=typeof a=="function"&&a.prototype||e;return r===i}return Xv=t,Xv}var Qv,FO;function SD(){if(FO)return Qv;FO=1;function e(t,r){return function(a){return t(r(a))}}return Qv=e,Qv}var Zv,LO;function H9(){if(LO)return Zv;LO=1;var e=SD(),t=e(Object.keys,Object);return Zv=t,Zv}var Jv,$O;function G9(){if($O)return Jv;$O=1;var e=W9(),t=H9(),r=Object.prototype,a=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var l=[];for(var d in Object(s))a.call(s,d)&&d!="constructor"&&l.push(d);return l}return Jv=i,Jv}var eb,zO;function Mh(){if(zO)return eb;zO=1;var e=cw(),t=Tw();function r(a){return a!=null&&t(a.length)&&!e(a)}return eb=r,eb}var tb,UO;function d0(){if(UO)return tb;UO=1;var e=q9(),t=G9(),r=Mh();function a(i){return r(i)?e(i):t(i)}return tb=a,tb}var rb,qO;function V9(){if(qO)return rb;qO=1;var e=R9(),t=B9(),r=d0();function a(i){return e(i,r,t)}return rb=a,rb}var nb,WO;function Y9(){if(WO)return nb;WO=1;var e=V9(),t=1,r=Object.prototype,a=r.hasOwnProperty;function i(s,l,d,u,h,p){var m=d&t,g=e(s),v=g.length,j=e(l),b=j.length;if(v!=b&&!m)return!1;for(var y=v;y--;){var T=g[y];if(!(m?T in l:a.call(l,T)))return!1}var E=p.get(s),C=p.get(l);if(E&&C)return E==l&&C==s;var S=!0;p.set(s,l),p.set(l,s);for(var A=m;++y<v;){T=g[y];var k=s[T],D=l[T];if(u)var B=m?u(D,k,T,l,s,p):u(k,D,T,s,l,p);if(!(B===void 0?k===D||h(k,D,d,u,p):B)){S=!1;break}A||(A=T=="constructor")}if(S&&!A){var F=s.constructor,M=l.constructor;F!=M&&"constructor"in s&&"constructor"in l&&!(typeof F=="function"&&F instanceof F&&typeof M=="function"&&M instanceof M)&&(S=!1)}return p.delete(s),p.delete(l),S}return nb=i,nb}var ab,HO;function K9(){if(HO)return ab;HO=1;var e=cl(),t=zi(),r=e(t,"DataView");return ab=r,ab}var ib,GO;function X9(){if(GO)return ib;GO=1;var e=cl(),t=zi(),r=e(t,"Promise");return ib=r,ib}var sb,VO;function ND(){if(VO)return sb;VO=1;var e=cl(),t=zi(),r=e(t,"Set");return sb=r,sb}var ob,YO;function Q9(){if(YO)return ob;YO=1;var e=cl(),t=zi(),r=e(t,"WeakMap");return ob=r,ob}var lb,KO;function Z9(){if(KO)return lb;KO=1;var e=K9(),t=uw(),r=X9(),a=ND(),i=Q9(),s=Ts(),l=U3(),d="[object Map]",u="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",v=l(e),j=l(t),b=l(r),y=l(a),T=l(i),E=s;return(e&&E(new e(new ArrayBuffer(1)))!=g||t&&E(new t)!=d||r&&E(r.resolve())!=h||a&&E(new a)!=p||i&&E(new i)!=m)&&(E=function(C){var S=s(C),A=S==u?C.constructor:void 0,k=A?l(A):"";if(k)switch(k){case v:return g;case j:return d;case b:return h;case y:return p;case T:return m}return S}),lb=E,lb}var cb,XO;function J9(){if(XO)return cb;XO=1;var e=pD(),t=yD(),r=D9(),a=Y9(),i=Z9(),s=xa(),l=bD(),d=wD(),u=1,h="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function j(b,y,T,E,C,S){var A=s(b),k=s(y),D=A?p:i(b),B=k?p:i(y);D=D==h?m:D,B=B==h?m:B;var F=D==m,M=B==m,L=D==B;if(L&&l(b)){if(!l(y))return!1;A=!0,F=!1}if(L&&!F)return S||(S=new e),A||d(b)?t(b,y,T,E,C,S):r(b,y,D,T,E,C,S);if(!(T&u)){var O=F&&v.call(b,"__wrapped__"),W=M&&v.call(y,"__wrapped__");if(O||W){var P=O?b.value():b,I=W?y.value():y;return S||(S=new e),C(P,I,T,E,S)}}return L?(S||(S=new e),a(b,y,T,E,C,S)):!1}return cb=j,cb}var db,QO;function Cw(){if(QO)return db;QO=1;var e=J9(),t=Cs();function r(a,i,s,l,d){return a===i?!0:a==null||i==null||!t(a)&&!t(i)?a!==a&&i!==i:e(a,i,s,l,r,d)}return db=r,db}var ub,ZO;function eU(){if(ZO)return ub;ZO=1;var e=pD(),t=Cw(),r=1,a=2;function i(s,l,d,u){var h=d.length,p=h,m=!u;if(s==null)return!p;for(s=Object(s);h--;){var g=d[h];if(m&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++h<p;){g=d[h];var v=g[0],j=s[v],b=g[1];if(m&&g[2]){if(j===void 0&&!(v in s))return!1}else{var y=new e;if(u)var T=u(j,b,v,s,l,y);if(!(T===void 0?t(b,j,r|a,u,y):T))return!1}}return!0}return ub=i,ub}var hb,JO;function TD(){if(JO)return hb;JO=1;var e=fo();function t(r){return r===r&&!e(r)}return hb=t,hb}var fb,e_;function tU(){if(e_)return fb;e_=1;var e=TD(),t=d0();function r(a){for(var i=t(a),s=i.length;s--;){var l=i[s],d=a[l];i[s]=[l,d,e(d)]}return i}return fb=r,fb}var pb,t_;function CD(){if(t_)return pb;t_=1;function e(t,r){return function(a){return a==null?!1:a[t]===r&&(r!==void 0||t in Object(a))}}return pb=e,pb}var mb,r_;function rU(){if(r_)return mb;r_=1;var e=eU(),t=tU(),r=CD();function a(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(l){return l===i||e(l,i,s)}}return mb=a,mb}var xb,n_;function nU(){if(n_)return xb;n_=1;function e(t,r){return t!=null&&r in Object(t)}return xb=e,xb}var gb,a_;function aU(){if(a_)return gb;a_=1;var e=H3(),t=Sw(),r=xa(),a=Nw(),i=Tw(),s=i0();function l(d,u,h){u=e(u,d);for(var p=-1,m=u.length,g=!1;++p<m;){var v=s(u[p]);if(!(g=d!=null&&h(d,v)))break;d=d[v]}return g||++p!=m?g:(m=d==null?0:d.length,!!m&&i(m)&&a(v,m)&&(r(d)||t(d)))}return gb=l,gb}var yb,i_;function iU(){if(i_)return yb;i_=1;var e=nU(),t=aU();function r(a,i){return a!=null&&t(a,i,e)}return yb=r,yb}var vb,s_;function sU(){if(s_)return vb;s_=1;var e=Cw(),t=G3(),r=iU(),a=lw(),i=TD(),s=CD(),l=i0(),d=1,u=2;function h(p,m){return a(p)&&i(m)?s(l(p),m):function(g){var v=t(g,p);return v===void 0&&v===m?r(g,p):e(m,v,d|u)}}return vb=h,vb}var bb,o_;function td(){if(o_)return bb;o_=1;function e(t){return t}return bb=e,bb}var jb,l_;function oU(){if(l_)return jb;l_=1;function e(t){return function(r){return r==null?void 0:r[t]}}return jb=e,jb}var wb,c_;function lU(){if(c_)return wb;c_=1;var e=pw();function t(r){return function(a){return e(a,r)}}return wb=t,wb}var Sb,d_;function cU(){if(d_)return Sb;d_=1;var e=oU(),t=lU(),r=lw(),a=i0();function i(s){return r(s)?e(a(s)):t(s)}return Sb=i,Sb}var Nb,u_;function po(){if(u_)return Nb;u_=1;var e=rU(),t=sU(),r=td(),a=xa(),i=cU();function s(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?a(l)?t(l[0],l[1]):e(l):i(l)}return Nb=s,Nb}var Tb,h_;function AD(){if(h_)return Tb;h_=1;function e(t,r,a,i){for(var s=t.length,l=a+(i?1:-1);i?l--:++l<s;)if(r(t[l],l,t))return l;return-1}return Tb=e,Tb}var Cb,f_;function dU(){if(f_)return Cb;f_=1;function e(t){return t!==t}return Cb=e,Cb}var Ab,p_;function uU(){if(p_)return Ab;p_=1;function e(t,r,a){for(var i=a-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return Ab=e,Ab}var Eb,m_;function hU(){if(m_)return Eb;m_=1;var e=AD(),t=dU(),r=uU();function a(i,s,l){return s===s?r(i,s,l):e(i,t,l)}return Eb=a,Eb}var Ob,x_;function fU(){if(x_)return Ob;x_=1;var e=hU();function t(r,a){var i=r==null?0:r.length;return!!i&&e(r,a,0)>-1}return Ob=t,Ob}var _b,g_;function pU(){if(g_)return _b;g_=1;function e(t,r,a){for(var i=-1,s=t==null?0:t.length;++i<s;)if(a(r,t[i]))return!0;return!1}return _b=e,_b}var kb,y_;function mU(){if(y_)return kb;y_=1;function e(){}return kb=e,kb}var Ib,v_;function xU(){if(v_)return Ib;v_=1;var e=ND(),t=mU(),r=ww(),a=1/0,i=e&&1/r(new e([,-0]))[1]==a?function(s){return new e(s)}:t;return Ib=i,Ib}var Db,b_;function gU(){if(b_)return Db;b_=1;var e=mD(),t=fU(),r=pU(),a=gD(),i=xU(),s=ww(),l=200;function d(u,h,p){var m=-1,g=t,v=u.length,j=!0,b=[],y=b;if(p)j=!1,g=r;else if(v>=l){var T=h?null:i(u);if(T)return s(T);j=!1,g=a,y=new e}else y=h?[]:b;e:for(;++m<v;){var E=u[m],C=h?h(E):E;if(E=p||E!==0?E:0,j&&C===C){for(var S=y.length;S--;)if(y[S]===C)continue e;h&&y.push(C),b.push(E)}else g(y,C,p)||(y!==b&&y.push(C),b.push(E))}return b}return Db=d,Db}var Rb,j_;function yU(){if(j_)return Rb;j_=1;var e=po(),t=gU();function r(a,i){return a&&a.length?t(a,e(i,2)):[]}return Rb=r,Rb}var vU=yU();const w_=Cr(vU);function ED(e,t,r){return t===!0?w_(e,r):Gt(t)?w_(e,t):e}function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}var bU=["ref"];function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(a){u0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N_(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_D(a.key),a)}}function wU(e,t,r){return t&&N_(e.prototype,t),r&&N_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SU(e,t,r){return t=Kp(t),NU(e,OD()?Reflect.construct(t,r||[],Kp(e).constructor):t.apply(e,r))}function NU(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TU(e)}function TU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!e})()}function Kp(e){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kp(e)}function CU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dj(e,t)}function Dj(e,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Dj(e,t)}function u0(e,t,r){return t=_D(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _D(e){var t=AU(e,"string");return Cc(t)=="symbol"?t:t+""}function AU(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Cc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function EU(e,t){if(e==null)return{};var r=OU(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function OU(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function _U(e){return e.value}function kU(e,t){if(ke.isValidElement(e))return ke.cloneElement(e,t);if(typeof e=="function")return ke.createElement(e,t);t.ref;var r=EU(t,bU);return ke.createElement(jw,r)}var T_=1,pc=function(e){function t(){var r;jU(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=SU(this,t,[].concat(i)),u0(r,"lastBoundingBox",{width:-1,height:-1}),r}return CU(t,e),wU(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>T_||Math.abs(i.height-this.lastBoundingBox.height)>T_)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,a&&a(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?rs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var i=this.props,s=i.layout,l=i.align,d=i.verticalAlign,u=i.margin,h=i.chartWidth,p=i.chartHeight,m,g;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();m={left:((h||0)-v.width)/2}}else m=l==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(d==="middle"){var j=this.getBBoxSnapshot();g={top:((p||0)-j.height)/2}}else g=d==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return rs(rs({},m),g)}},{key:"render",value:function(){var a=this,i=this.props,s=i.content,l=i.width,d=i.height,u=i.wrapperStyle,h=i.payloadUniqBy,p=i.payload,m=rs(rs({position:"absolute",width:l||"auto",height:d||"auto"},this.getDefaultPosition(u)),u);return ke.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){a.wrapperNode=v}},kU(s,rs(rs({},this.props),{},{payload:ED(p,h,_U)})))}}],[{key:"getWithHeight",value:function(a,i){var s=rs(rs({},this.defaultProps),a.props),l=s.layout;return l==="vertical"&&gt(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||i}:null}}])}(N.PureComponent);u0(pc,"displayName","Legend");u0(pc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Pb,C_;function IU(){if(C_)return Pb;C_=1;var e=Dh(),t=Sw(),r=xa(),a=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(a&&s&&s[a])}return Pb=i,Pb}var Mb,A_;function kD(){if(A_)return Mb;A_=1;var e=vD(),t=IU();function r(a,i,s,l,d){var u=-1,h=a.length;for(s||(s=t),d||(d=[]);++u<h;){var p=a[u];i>0&&s(p)?i>1?r(p,i-1,s,l,d):e(d,p):l||(d[d.length]=p)}return d}return Mb=r,Mb}var Bb,E_;function DU(){if(E_)return Bb;E_=1;function e(t){return function(r,a,i){for(var s=-1,l=Object(r),d=i(r),u=d.length;u--;){var h=d[t?u:++s];if(a(l[h],h,l)===!1)break}return r}}return Bb=e,Bb}var Fb,O_;function RU(){if(O_)return Fb;O_=1;var e=DU(),t=e();return Fb=t,Fb}var Lb,__;function ID(){if(__)return Lb;__=1;var e=RU(),t=d0();function r(a,i){return a&&e(a,i,t)}return Lb=r,Lb}var $b,k_;function PU(){if(k_)return $b;k_=1;var e=Mh();function t(r,a){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var l=i.length,d=a?l:-1,u=Object(i);(a?d--:++d<l)&&s(u[d],d,u)!==!1;);return i}}return $b=t,$b}var zb,I_;function Aw(){if(I_)return zb;I_=1;var e=ID(),t=PU(),r=t(e);return zb=r,zb}var Ub,D_;function DD(){if(D_)return Ub;D_=1;var e=Aw(),t=Mh();function r(a,i){var s=-1,l=t(a)?Array(a.length):[];return e(a,function(d,u,h){l[++s]=i(d,u,h)}),l}return Ub=r,Ub}var qb,R_;function MU(){if(R_)return qb;R_=1;function e(t,r){var a=t.length;for(t.sort(r);a--;)t[a]=t[a].value;return t}return qb=e,qb}var Wb,P_;function BU(){if(P_)return Wb;P_=1;var e=Jc();function t(r,a){if(r!==a){var i=r!==void 0,s=r===null,l=r===r,d=e(r),u=a!==void 0,h=a===null,p=a===a,m=e(a);if(!h&&!m&&!d&&r>a||d&&u&&p&&!h&&!m||s&&u&&p||!i&&p||!l)return 1;if(!s&&!d&&!m&&r<a||m&&i&&l&&!s&&!d||h&&i&&l||!u&&l||!p)return-1}return 0}return Wb=t,Wb}var Hb,M_;function FU(){if(M_)return Hb;M_=1;var e=BU();function t(r,a,i){for(var s=-1,l=r.criteria,d=a.criteria,u=l.length,h=i.length;++s<u;){var p=e(l[s],d[s]);if(p){if(s>=h)return p;var m=i[s];return p*(m=="desc"?-1:1)}}return r.index-a.index}return Hb=t,Hb}var Gb,B_;function LU(){if(B_)return Gb;B_=1;var e=fw(),t=pw(),r=po(),a=DD(),i=MU(),s=jD(),l=FU(),d=td(),u=xa();function h(p,m,g){m.length?m=e(m,function(b){return u(b)?function(y){return t(y,b.length===1?b[0]:b)}:b}):m=[d];var v=-1;m=e(m,s(r));var j=a(p,function(b,y,T){var E=e(m,function(C){return C(b)});return{criteria:E,index:++v,value:b}});return i(j,function(b,y){return l(b,y,g)})}return Gb=h,Gb}var Vb,F_;function $U(){if(F_)return Vb;F_=1;function e(t,r,a){switch(a.length){case 0:return t.call(r);case 1:return t.call(r,a[0]);case 2:return t.call(r,a[0],a[1]);case 3:return t.call(r,a[0],a[1],a[2])}return t.apply(r,a)}return Vb=e,Vb}var Yb,L_;function zU(){if(L_)return Yb;L_=1;var e=$U(),t=Math.max;function r(a,i,s){return i=t(i===void 0?a.length-1:i,0),function(){for(var l=arguments,d=-1,u=t(l.length-i,0),h=Array(u);++d<u;)h[d]=l[i+d];d=-1;for(var p=Array(i+1);++d<i;)p[d]=l[d];return p[i]=s(h),e(a,this,p)}}return Yb=r,Yb}var Kb,$_;function UU(){if($_)return Kb;$_=1;function e(t){return function(){return t}}return Kb=e,Kb}var Xb,z_;function RD(){if(z_)return Xb;z_=1;var e=cl(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Xb=t,Xb}var Qb,U_;function qU(){if(U_)return Qb;U_=1;var e=UU(),t=RD(),r=td(),a=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return Qb=a,Qb}var Zb,q_;function WU(){if(q_)return Zb;q_=1;var e=800,t=16,r=Date.now;function a(i){var s=0,l=0;return function(){var d=r(),u=t-(d-l);if(l=d,u>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Zb=a,Zb}var Jb,W_;function HU(){if(W_)return Jb;W_=1;var e=qU(),t=WU(),r=t(e);return Jb=r,Jb}var e1,H_;function GU(){if(H_)return e1;H_=1;var e=td(),t=zU(),r=HU();function a(i,s){return r(t(i,s,e),i+"")}return e1=a,e1}var t1,G_;function h0(){if(G_)return t1;G_=1;var e=dw(),t=Mh(),r=Nw(),a=fo();function i(s,l,d){if(!a(d))return!1;var u=typeof l;return(u=="number"?t(d)&&r(l,d.length):u=="string"&&l in d)?e(d[l],s):!1}return t1=i,t1}var r1,V_;function VU(){if(V_)return r1;V_=1;var e=kD(),t=LU(),r=GU(),a=h0(),i=r(function(s,l){if(s==null)return[];var d=l.length;return d>1&&a(s,l[0],l[1])?l=[]:d>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),t(s,e(l,1),[])});return r1=i,r1}var YU=VU();const Ew=Cr(YU);function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Rj.apply(this,arguments)}function KU(e,t){return JU(e)||ZU(e,t)||QU(e,t)||XU()}function XU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QU(e,t){if(e){if(typeof e=="string")return Y_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y_(e,t)}}function Y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ZU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return d}}function JU(e){if(Array.isArray(e))return e}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function n1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(a){eq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eq(e,t,r){return t=tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tq(e){var t=rq(e,"string");return Uu(t)=="symbol"?t:t+""}function rq(e,t){if(Uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Uu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nq(e){return Array.isArray(e)&&hn(e[0])&&hn(e[1])?e.join(" ~ "):e}var aq=function(t){var r=t.separator,a=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,l=t.itemStyle,d=l===void 0?{}:l,u=t.labelStyle,h=u===void 0?{}:u,p=t.payload,m=t.formatter,g=t.itemSorter,v=t.wrapperClassName,j=t.labelClassName,b=t.label,y=t.labelFormatter,T=t.accessibilityLayer,E=T===void 0?!1:T,C=function(){if(p&&p.length){var O={padding:0,margin:0},W=(g?Ew(p,g):p).map(function(P,I){if(P.type==="none")return null;var R=n1({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},d),H=P.formatter||m||nq,V=P.value,he=P.name,U=V,Y=he;if(H&&U!=null&&Y!=null){var z=H(V,he,P,I,p);if(Array.isArray(z)){var ee=KU(z,2);U=ee[0],Y=ee[1]}else U=z}return ke.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:R},hn(Y)?ke.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,hn(Y)?ke.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,ke.createElement("span",{className:"recharts-tooltip-item-value"},U),ke.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return ke.createElement("ul",{className:"recharts-tooltip-item-list",style:O},W)}return null},S=n1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=n1({margin:0},h),k=!Jt(b),D=k?b:"",B=or("recharts-default-tooltip",v),F=or("recharts-tooltip-label",j);k&&y&&p!==void 0&&p!==null&&(D=y(b,p));var M=E?{role:"status","aria-live":"assertive"}:{};return ke.createElement("div",Rj({className:B,style:S},M),ke.createElement("p",{className:F,style:A},ke.isValidElement(D)?D:"".concat(D)),C())};function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function op(e,t,r){return t=iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=sq(e,"string");return qu(t)=="symbol"?t:t+""}function sq(e,t){if(qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(qu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cu="recharts-tooltip-wrapper",oq={visibility:"hidden"};function lq(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return or(cu,op(op(op(op({},"".concat(cu,"-right"),gt(r)&&t&&gt(t.x)&&r>=t.x),"".concat(cu,"-left"),gt(r)&&t&&gt(t.x)&&r<t.x),"".concat(cu,"-bottom"),gt(a)&&t&&gt(t.y)&&a>=t.y),"".concat(cu,"-top"),gt(a)&&t&&gt(t.y)&&a<t.y))}function X_(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,i=e.offsetTopLeft,s=e.position,l=e.reverseDirection,d=e.tooltipDimension,u=e.viewBox,h=e.viewBoxDimension;if(s&&gt(s[a]))return s[a];var p=r[a]-d-i,m=r[a]+i;if(t[a])return l[a]?p:m;if(l[a]){var g=p,v=u[a];return g<v?Math.max(m,u[a]):Math.max(p,u[a])}var j=m+d,b=u[a]+h;return j>b?Math.max(p,u[a]):Math.max(m,u[a])}function cq(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function dq(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipBox,d=e.useTranslate3d,u=e.viewBox,h,p,m;return l.height>0&&l.width>0&&r?(p=X_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=X_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),h=cq({translateX:p,translateY:m,useTranslate3d:d})):h=oq,{cssProperties:h,cssClasses:lq({translateX:p,translateY:m,coordinate:r})}}function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(a){Mj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hq(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,MD(a.key),a)}}function fq(e,t,r){return t&&hq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pq(e,t,r){return t=Xp(t),mq(e,PD()?Reflect.construct(t,r||[],Xp(e).constructor):t.apply(e,r))}function mq(e,t){if(t&&(Ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xq(e)}function xq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PD=function(){return!!e})()}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(e)}function gq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pj(e,t)}function Pj(e,t){return Pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Pj(e,t)}function Mj(e,t,r){return t=MD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MD(e){var t=yq(e,"string");return Ac(t)=="symbol"?t:t+""}function yq(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ac(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var J_=1,vq=function(e){function t(){var r;uq(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=pq(this,t,[].concat(i)),Mj(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Mj(r,"handleKeyDown",function(l){if(l.key==="Escape"){var d,u,h,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&d!==void 0?d:0,y:(h=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),r}return gq(t,e),fq(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>J_||Math.abs(a.height-this.state.lastBoundingBox.height)>J_)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,d=i.animationDuration,u=i.animationEasing,h=i.children,p=i.coordinate,m=i.hasPayload,g=i.isAnimationActive,v=i.offset,j=i.position,b=i.reverseDirection,y=i.useTranslate3d,T=i.viewBox,E=i.wrapperStyle,C=dq({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:v,position:j,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:T}),S=C.cssClasses,A=C.cssProperties,k=Z_(Z_({transition:g&&s?"transform ".concat(d,"ms ").concat(u):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},E);return ke.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(B){a.wrapperNode=B}},h)}}])}(N.PureComponent),bq=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},rd={isSsr:bq()};function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function e6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function t6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e6(Object(r),!0).forEach(function(a){Ow(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wq(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,FD(a.key),a)}}function Sq(e,t,r){return t&&wq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nq(e,t,r){return t=Qp(t),Tq(e,BD()?Reflect.construct(t,r||[],Qp(e).constructor):t.apply(e,r))}function Tq(e,t){if(t&&(Ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cq(e)}function Cq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BD=function(){return!!e})()}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qp(e)}function Aq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bj(e,t)}function Bj(e,t){return Bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Bj(e,t)}function Ow(e,t,r){return t=FD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FD(e){var t=Eq(e,"string");return Ec(t)=="symbol"?t:t+""}function Eq(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ec(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Oq(e){return e.dataKey}function _q(e,t){return ke.isValidElement(e)?ke.cloneElement(e,t):typeof e=="function"?ke.createElement(e,t):ke.createElement(aq,t)}var ci=function(e){function t(){return jq(this,t),Nq(this,t,arguments)}return Aq(t,e),Sq(t,[{key:"render",value:function(){var a=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,d=i.animationDuration,u=i.animationEasing,h=i.content,p=i.coordinate,m=i.filterNull,g=i.isAnimationActive,v=i.offset,j=i.payload,b=i.payloadUniqBy,y=i.position,T=i.reverseDirection,E=i.useTranslate3d,C=i.viewBox,S=i.wrapperStyle,A=j??[];m&&A.length&&(A=ED(j.filter(function(D){return D.value!=null&&(D.hide!==!0||a.props.includeHidden)}),b,Oq));var k=A.length>0;return ke.createElement(vq,{allowEscapeViewBox:l,animationDuration:d,animationEasing:u,isAnimationActive:g,active:s,coordinate:p,hasPayload:k,offset:v,position:y,reverseDirection:T,useTranslate3d:E,viewBox:C,wrapperStyle:S},_q(h,t6(t6({},this.props),{},{payload:A})))}}])}(N.PureComponent);Ow(ci,"displayName","Tooltip");Ow(ci,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!rd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var a1,r6;function kq(){if(r6)return a1;r6=1;var e=zi(),t=function(){return e.Date.now()};return a1=t,a1}var i1,n6;function Iq(){if(n6)return i1;n6=1;var e=/\s/;function t(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return i1=t,i1}var s1,a6;function Dq(){if(a6)return s1;a6=1;var e=Iq(),t=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return s1=r,s1}var o1,i6;function LD(){if(i6)return o1;i6=1;var e=Dq(),t=fo(),r=Jc(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;function u(h){if(typeof h=="number")return h;if(r(h))return a;if(t(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=t(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=e(h);var m=s.test(h);return m||l.test(h)?d(h.slice(2),m?2:8):i.test(h)?a:+h}return o1=u,o1}var l1,s6;function Rq(){if(s6)return l1;s6=1;var e=fo(),t=kq(),r=LD(),a="Expected a function",i=Math.max,s=Math.min;function l(d,u,h){var p,m,g,v,j,b,y=0,T=!1,E=!1,C=!0;if(typeof d!="function")throw new TypeError(a);u=r(u)||0,e(h)&&(T=!!h.leading,E="maxWait"in h,g=E?i(r(h.maxWait)||0,u):g,C="trailing"in h?!!h.trailing:C);function S(W){var P=p,I=m;return p=m=void 0,y=W,v=d.apply(I,P),v}function A(W){return y=W,j=setTimeout(B,u),T?S(W):v}function k(W){var P=W-b,I=W-y,R=u-P;return E?s(R,g-I):R}function D(W){var P=W-b,I=W-y;return b===void 0||P>=u||P<0||E&&I>=g}function B(){var W=t();if(D(W))return F(W);j=setTimeout(B,k(W))}function F(W){return j=void 0,C&&p?S(W):(p=m=void 0,v)}function M(){j!==void 0&&clearTimeout(j),y=0,p=b=m=j=void 0}function L(){return j===void 0?v:F(t())}function O(){var W=t(),P=D(W);if(p=arguments,m=this,b=W,P){if(j===void 0)return A(b);if(E)return clearTimeout(j),j=setTimeout(B,u),S(b)}return j===void 0&&(j=setTimeout(B,u)),v}return O.cancel=M,O.flush=L,O}return l1=l,l1}var c1,o6;function Pq(){if(o6)return c1;o6=1;var e=Rq(),t=fo(),r="Expected a function";function a(i,s,l){var d=!0,u=!0;if(typeof i!="function")throw new TypeError(r);return t(l)&&(d="leading"in l?!!l.leading:d,u="trailing"in l?!!l.trailing:u),e(i,s,{leading:d,maxWait:s,trailing:u})}return c1=a,c1}var Mq=Pq();const $D=Cr(Mq);function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function l6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function lp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(r),!0).forEach(function(a){Bq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bq(e,t,r){return t=Fq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){var t=Lq(e,"string");return Wu(t)=="symbol"?t:t+""}function Lq(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Wu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $q(e,t){return Wq(e)||qq(e,t)||Uq(e,t)||zq()}function zq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uq(e,t){if(e){if(typeof e=="string")return c6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c6(e,t)}}function c6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function qq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return d}}function Wq(e){if(Array.isArray(e))return e}var d6=N.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,i=a===void 0?{width:-1,height:-1}:a,s=e.width,l=s===void 0?"100%":s,d=e.height,u=d===void 0?"100%":d,h=e.minWidth,p=h===void 0?0:h,m=e.minHeight,g=e.maxHeight,v=e.children,j=e.debounce,b=j===void 0?0:j,y=e.id,T=e.className,E=e.onResize,C=e.style,S=C===void 0?{}:C,A=N.useRef(null),k=N.useRef();k.current=E,N.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var D=N.useState({containerWidth:i.width,containerHeight:i.height}),B=$q(D,2),F=B[0],M=B[1],L=N.useCallback(function(W,P){M(function(I){var R=Math.round(W),H=Math.round(P);return I.containerWidth===R&&I.containerHeight===H?I:{containerWidth:R,containerHeight:H}})},[]);N.useEffect(function(){var W=function(he){var U,Y=he[0].contentRect,z=Y.width,ee=Y.height;L(z,ee),(U=k.current)===null||U===void 0||U.call(k,z,ee)};b>0&&(W=$D(W,b,{trailing:!0,leading:!1}));var P=new ResizeObserver(W),I=A.current.getBoundingClientRect(),R=I.width,H=I.height;return L(R,H),P.observe(A.current),function(){P.disconnect()}},[L,b]);var O=N.useMemo(function(){var W=F.containerWidth,P=F.containerHeight;if(W<0||P<0)return null;hs(Uo(l)||Uo(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,u),hs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=Uo(l)?W:l,R=Uo(u)?P:u;r&&r>0&&(I?R=I/r:R&&(I=R*r),g&&R>g&&(R=g)),hs(I>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,R,l,u,p,m,r);var H=!Array.isArray(v)&&us(v.type).endsWith("Chart");return ke.Children.map(v,function(V){return ke.isValidElement(V)?N.cloneElement(V,lp({width:I,height:R},H?{style:lp({height:"100%",width:"100%",maxHeight:R,maxWidth:I},V.props.style)}:{})):V})},[r,v,u,g,m,p,F,l]);return ke.createElement("div",{id:y?"".concat(y):void 0,className:or("recharts-responsive-container",T),style:lp(lp({},S),{},{width:l,height:u,minWidth:p,minHeight:m,maxHeight:g}),ref:A},O)}),zD=function(t){return null};zD.displayName="Cell";function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function u6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u6(Object(r),!0).forEach(function(a){Hq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hq(e,t,r){return t=Gq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gq(e){var t=Vq(e,"string");return Hu(t)=="symbol"?t:t+""}function Vq(e,t){if(Hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Hu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zl={widthCache:{},cacheCount:0},Yq=2e3,Kq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},h6="recharts_measurement_span";function Xq(e){var t=Fj({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Cu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rd.isSsr)return{width:0,height:0};var a=Xq(r),i=JSON.stringify({text:t,copyStyle:a});if(Zl.widthCache[i])return Zl.widthCache[i];try{var s=document.getElementById(h6);s||(s=document.createElement("span"),s.setAttribute("id",h6),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=Fj(Fj({},Kq),a);Object.assign(s.style,l),s.textContent="".concat(t);var d=s.getBoundingClientRect(),u={width:d.width,height:d.height};return Zl.widthCache[i]=u,++Zl.cacheCount>Yq&&(Zl.cacheCount=0,Zl.widthCache={}),u}catch{return{width:0,height:0}}},Qq=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function Zp(e,t){return tW(e)||eW(e,t)||Jq(e,t)||Zq()}function Zq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jq(e,t){if(e){if(typeof e=="string")return f6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f6(e,t)}}function f6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function eW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,h=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return d}}function tW(e){if(Array.isArray(e))return e}function rW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p6(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aW(a.key),a)}}function nW(e,t,r){return t&&p6(e.prototype,t),r&&p6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aW(e){var t=iW(e,"string");return Gu(t)=="symbol"?t:t+""}function iW(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Gu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var m6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lW=Object.keys(UD),lc="NaN";function cW(e,t){return e*UD[t]}var cp=function(){function e(t,r){rW(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!sW.test(r)&&(this.num=NaN,this.unit=""),lW.includes(r)&&(this.num=cW(t,r),this.unit="px")}return nW(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,i=(a=oW.exec(r))!==null&&a!==void 0?a:[],s=Zp(i,3),l=s[1],d=s[2];return new e(parseFloat(l),d??"")}}])}();function qD(e){if(e.includes(lc))return lc;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=m6.exec(t))!==null&&r!==void 0?r:[],i=Zp(a,4),s=i[1],l=i[2],d=i[3],u=cp.parse(s??""),h=cp.parse(d??""),p=l==="*"?u.multiply(h):u.divide(h);if(p.isNaN())return lc;t=t.replace(m6,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,g=(m=x6.exec(t))!==null&&m!==void 0?m:[],v=Zp(g,4),j=v[1],b=v[2],y=v[3],T=cp.parse(j??""),E=cp.parse(y??""),C=b==="+"?T.add(E):T.subtract(E);if(C.isNaN())return lc;t=t.replace(x6,C.toString())}return t}var g6=/\(([^()]*)\)/;function dW(e){for(var t=e;t.includes("(");){var r=g6.exec(t),a=Zp(r,2),i=a[1];t=t.replace(g6,qD(i))}return t}function uW(e){var t=e.replace(/\s+/g,"");return t=dW(t),t=qD(t),t}function hW(e){try{return uW(e)}catch{return lc}}function d1(e){var t=hW(e.slice(5,-1));return t===lc?"":t}var fW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pW=["dx","dy","angle","className","breakAll"];function Lj(){return Lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Lj.apply(this,arguments)}function y6(e,t){if(e==null)return{};var r=mW(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function mW(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function v6(e,t){return vW(e)||yW(e,t)||gW(e,t)||xW()}function xW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gW(e,t){if(e){if(typeof e=="string")return b6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b6(e,t)}}function b6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function yW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,h=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return d}}function vW(e){if(Array.isArray(e))return e}var WD=/[ \f\n\r\t\v\u2028\u2029]+/,HD=function(t){var r=t.children,a=t.breakAll,i=t.style;try{var s=[];Jt(r)||(a?s=r.toString().split(""):s=r.toString().split(WD));var l=s.map(function(u){return{word:u,width:Cu(u,i).width}}),d=a?0:Cu("",i).width;return{wordsWithComputedWidth:l,spaceWidth:d}}catch{return null}},bW=function(t,r,a,i,s){var l=t.maxLines,d=t.children,u=t.style,h=t.breakAll,p=gt(l),m=d,g=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(R,H){var V=H.word,he=H.width,U=R[R.length-1];if(U&&(i==null||s||U.width+he+a<Number(i)))U.words.push(V),U.width+=he+a;else{var Y={words:[V],width:he};R.push(Y)}return R},[])},v=g(r),j=function(I){return I.reduce(function(R,H){return R.width>H.width?R:H})};if(!p)return v;for(var b="",y=function(I){var R=m.slice(0,I),H=HD({breakAll:h,style:u,children:R+b}).wordsWithComputedWidth,V=g(H),he=V.length>l||j(V).width>Number(i);return[he,V]},T=0,E=m.length-1,C=0,S;T<=E&&C<=m.length-1;){var A=Math.floor((T+E)/2),k=A-1,D=y(k),B=v6(D,2),F=B[0],M=B[1],L=y(A),O=v6(L,1),W=O[0];if(!F&&!W&&(T=A+1),F&&W&&(E=A-1),!F&&W){S=M;break}C++}return S||v},j6=function(t){var r=Jt(t)?[]:t.toString().split(WD);return[{words:r}]},jW=function(t){var r=t.width,a=t.scaleToFit,i=t.children,s=t.style,l=t.breakAll,d=t.maxLines;if((r||a)&&!rd.isSsr){var u,h,p=HD({breakAll:l,children:i,style:s});if(p){var m=p.wordsWithComputedWidth,g=p.spaceWidth;u=m,h=g}else return j6(i);return bW({breakAll:l,children:i,maxLines:d,style:s},u,h,r,a)}return j6(i)},w6="#808080",Jp=function(t){var r=t.x,a=r===void 0?0:r,i=t.y,s=i===void 0?0:i,l=t.lineHeight,d=l===void 0?"1em":l,u=t.capHeight,h=u===void 0?"0.71em":u,p=t.scaleToFit,m=p===void 0?!1:p,g=t.textAnchor,v=g===void 0?"start":g,j=t.verticalAnchor,b=j===void 0?"end":j,y=t.fill,T=y===void 0?w6:y,E=y6(t,fW),C=N.useMemo(function(){return jW({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:m,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,m,E.style,E.width]),S=E.dx,A=E.dy,k=E.angle,D=E.className,B=E.breakAll,F=y6(E,pW);if(!hn(a)||!hn(s))return null;var M=a+(gt(S)?S:0),L=s+(gt(A)?A:0),O;switch(b){case"start":O=d1("calc(".concat(h,")"));break;case"middle":O=d1("calc(".concat((C.length-1)/2," * -").concat(d," + (").concat(h," / 2))"));break;default:O=d1("calc(".concat(C.length-1," * -").concat(d,")"));break}var W=[];if(m){var P=C[0].width,I=E.width;W.push("scale(".concat((gt(I)?I/P:1)/P,")"))}return k&&W.push("rotate(".concat(k,", ").concat(M,", ").concat(L,")")),W.length&&(F.transform=W.join(" ")),ke.createElement("text",Lj({},tr(F,!0),{x:M,y:L,className:or("recharts-text",D),textAnchor:v,fill:T.includes("url")?w6:T}),C.map(function(R,H){var V=R.words.join(B?"":" ");return ke.createElement("tspan",{x:M,dy:H===0?O:d,key:"".concat(V,"-").concat(H)},V)}))};function io(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _w(e){let t,r,a;e.length!==2?(t=io,r=(d,u)=>io(e(d),u),a=(d,u)=>e(d)-u):(t=e===io||e===wW?e:SW,r=e,a=e);function i(d,u,h=0,p=d.length){if(h<p){if(t(u,u)!==0)return p;do{const m=h+p>>>1;r(d[m],u)<0?h=m+1:p=m}while(h<p)}return h}function s(d,u,h=0,p=d.length){if(h<p){if(t(u,u)!==0)return p;do{const m=h+p>>>1;r(d[m],u)<=0?h=m+1:p=m}while(h<p)}return h}function l(d,u,h=0,p=d.length){const m=i(d,u,h,p-1);return m>h&&a(d[m-1],u)>-a(d[m],u)?m-1:m}return{left:i,center:l,right:s}}function SW(){return 0}function GD(e){return e===null?NaN:+e}function*NW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const TW=_w(io),Bh=TW.right;_w(GD).center;class S6 extends Map{constructor(t,r=EW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,i]of t)this.set(a,i)}get(t){return super.get(N6(this,t))}has(t){return super.has(N6(this,t))}set(t,r){return super.set(CW(this,t),r)}delete(t){return super.delete(AW(this,t))}}function N6({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function CW({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function AW({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function EW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function OW(e=io){if(e===io)return VD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function VD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _W=Math.sqrt(50),kW=Math.sqrt(10),IW=Math.sqrt(2);function em(e,t,r){const a=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(a)),s=a/Math.pow(10,i),l=s>=_W?10:s>=kW?5:s>=IW?2:1;let d,u,h;return i<0?(h=Math.pow(10,-i)/l,d=Math.round(e*h),u=Math.round(t*h),d/h<e&&++d,u/h>t&&--u,h=-h):(h=Math.pow(10,i)*l,d=Math.round(e/h),u=Math.round(t/h),d*h<e&&++d,u*h>t&&--u),u<d&&.5<=r&&r<2?em(e,t,r*2):[d,u,h]}function $j(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[i,s,l]=a?em(t,e,r):em(e,t,r);if(!(s>=i))return[];const d=s-i+1,u=new Array(d);if(a)if(l<0)for(let h=0;h<d;++h)u[h]=(s-h)/-l;else for(let h=0;h<d;++h)u[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)u[h]=(i+h)/-l;else for(let h=0;h<d;++h)u[h]=(i+h)*l;return u}function zj(e,t,r){return t=+t,e=+e,r=+r,em(e,t,r)[2]}function Uj(e,t,r){t=+t,e=+e,r=+r;const a=t<e,i=a?zj(t,e,r):zj(e,t,r);return(a?-1:1)*(i<0?1/-i:i)}function T6(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function C6(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function YD(e,t,r=0,a=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(i=i===void 0?VD:OW(i);a>r;){if(a-r>600){const u=a-r+1,h=t-r+1,p=Math.log(u),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(u-m)/u)*(h-u/2<0?-1:1),v=Math.max(r,Math.floor(t-h*m/u+g)),j=Math.min(a,Math.floor(t+(u-h)*m/u+g));YD(e,t,v,j,i)}const s=e[t];let l=r,d=a;for(du(e,r,t),i(e[a],s)>0&&du(e,r,a);l<d;){for(du(e,l,d),++l,--d;i(e[l],s)<0;)++l;for(;i(e[d],s)>0;)--d}i(e[r],s)===0?du(e,r,d):(++d,du(e,d,a)),d<=t&&(r=d+1),t<=d&&(a=d-1)}return e}function du(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function DW(e,t,r){if(e=Float64Array.from(NW(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return C6(e);if(t>=1)return T6(e);var a,i=(a-1)*t,s=Math.floor(i),l=T6(YD(e,s).subarray(0,s+1)),d=C6(e.subarray(s+1));return l+(d-l)*(i-s)}}function RW(e,t,r=GD){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,i=(a-1)*t,s=Math.floor(i),l=+r(e[s],s,e),d=+r(e[s+1],s+1,e);return l+(d-l)*(i-s)}}function PW(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var a=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++a<i;)s[a]=e+a*r;return s}function ei(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function As(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qj=Symbol("implicit");function kw(){var e=new S6,t=[],r=[],a=qj;function i(s){let l=e.get(s);if(l===void 0){if(a!==qj)return a;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new S6;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return kw(t,r).unknown(a)},ei.apply(i,arguments),i}function Vu(){var e=kw().unknown(void 0),t=e.domain,r=e.range,a=0,i=1,s,l,d=!1,u=0,h=0,p=.5;delete e.unknown;function m(){var g=t().length,v=i<a,j=v?i:a,b=v?a:i;s=(b-j)/Math.max(1,g-u+h*2),d&&(s=Math.floor(s)),j+=(b-j-s*(g-u))*p,l=s*(1-u),d&&(j=Math.round(j),l=Math.round(l));var y=PW(g).map(function(T){return j+s*T});return r(v?y.reverse():y)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([a,i]=g,a=+a,i=+i,m()):[a,i]},e.rangeRound=function(g){return[a,i]=g,a=+a,i=+i,d=!0,m()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(g){return arguments.length?(d=!!g,m()):d},e.padding=function(g){return arguments.length?(u=Math.min(1,h=+g),m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},e.paddingOuter=function(g){return arguments.length?(h=+g,m()):h},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},e.copy=function(){return Vu(t(),[a,i]).round(d).paddingInner(u).paddingOuter(h).align(p)},ei.apply(m(),arguments)}function KD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KD(t())},e}function Au(){return KD(Vu.apply(null,arguments).paddingInner(1))}function Iw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function XD(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Fh(){}var Yu=.7,tm=1/Yu,mc="\\s*([+-]?\\d+)\\s*",Ku="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MW=/^#([0-9a-f]{3,8})$/,BW=new RegExp(`^rgb\\(${mc},${mc},${mc}\\)$`),FW=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),LW=new RegExp(`^rgba\\(${mc},${mc},${mc},${Ku}\\)$`),$W=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${Ku}\\)$`),zW=new RegExp(`^hsl\\(${Ku},${Mi},${Mi}\\)$`),UW=new RegExp(`^hsla\\(${Ku},${Mi},${Mi},${Ku}\\)$`),A6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Iw(Fh,Xu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:E6,formatHex:E6,formatHex8:qW,formatHsl:WW,formatRgb:O6,toString:O6});function E6(){return this.rgb().formatHex()}function qW(){return this.rgb().formatHex8()}function WW(){return QD(this).formatHsl()}function O6(){return this.rgb().formatRgb()}function Xu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=MW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?_6(t):r===3?new ca(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?dp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?dp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=BW.exec(e))?new ca(t[1],t[2],t[3],1):(t=FW.exec(e))?new ca(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=LW.exec(e))?dp(t[1],t[2],t[3],t[4]):(t=$W.exec(e))?dp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zW.exec(e))?D6(t[1],t[2]/100,t[3]/100,1):(t=UW.exec(e))?D6(t[1],t[2]/100,t[3]/100,t[4]):A6.hasOwnProperty(e)?_6(A6[e]):e==="transparent"?new ca(NaN,NaN,NaN,0):null}function _6(e){return new ca(e>>16&255,e>>8&255,e&255,1)}function dp(e,t,r,a){return a<=0&&(e=t=r=NaN),new ca(e,t,r,a)}function HW(e){return e instanceof Fh||(e=Xu(e)),e?(e=e.rgb(),new ca(e.r,e.g,e.b,e.opacity)):new ca}function Wj(e,t,r,a){return arguments.length===1?HW(e):new ca(e,t,r,a??1)}function ca(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}Iw(ca,Wj,XD(Fh,{brighter(e){return e=e==null?tm:Math.pow(tm,e),new ca(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yu:Math.pow(Yu,e),new ca(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ca(Vo(this.r),Vo(this.g),Vo(this.b),rm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k6,formatHex:k6,formatHex8:GW,formatRgb:I6,toString:I6}));function k6(){return`#${qo(this.r)}${qo(this.g)}${qo(this.b)}`}function GW(){return`#${qo(this.r)}${qo(this.g)}${qo(this.b)}${qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function I6(){const e=rm(this.opacity);return`${e===1?"rgb(":"rgba("}${Vo(this.r)}, ${Vo(this.g)}, ${Vo(this.b)}${e===1?")":`, ${e})`}`}function rm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qo(e){return e=Vo(e),(e<16?"0":"")+e.toString(16)}function D6(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fi(e,t,r,a)}function QD(e){if(e instanceof fi)return new fi(e.h,e.s,e.l,e.opacity);if(e instanceof Fh||(e=Xu(e)),!e)return new fi;if(e instanceof fi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,i=Math.min(t,r,a),s=Math.max(t,r,a),l=NaN,d=s-i,u=(s+i)/2;return d?(t===s?l=(r-a)/d+(r<a)*6:r===s?l=(a-t)/d+2:l=(t-r)/d+4,d/=u<.5?s+i:2-s-i,l*=60):d=u>0&&u<1?0:l,new fi(l,d,u,e.opacity)}function VW(e,t,r,a){return arguments.length===1?QD(e):new fi(e,t,r,a??1)}function fi(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}Iw(fi,VW,XD(Fh,{brighter(e){return e=e==null?tm:Math.pow(tm,e),new fi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yu:Math.pow(Yu,e),new fi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,i=2*r-a;return new ca(u1(e>=240?e-240:e+120,i,a),u1(e,i,a),u1(e<120?e+240:e-120,i,a),this.opacity)},clamp(){return new fi(R6(this.h),up(this.s),up(this.l),rm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rm(this.opacity);return`${e===1?"hsl(":"hsla("}${R6(this.h)}, ${up(this.s)*100}%, ${up(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R6(e){return e=(e||0)%360,e<0?e+360:e}function up(e){return Math.max(0,Math.min(1,e||0))}function u1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Dw=e=>()=>e;function YW(e,t){return function(r){return e+r*t}}function KW(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function XW(e){return(e=+e)==1?ZD:function(t,r){return r-t?KW(t,r,e):Dw(isNaN(t)?r:t)}}function ZD(e,t){var r=t-e;return r?YW(e,r):Dw(isNaN(e)?t:e)}const P6=function e(t){var r=XW(t);function a(i,s){var l=r((i=Wj(i)).r,(s=Wj(s)).r),d=r(i.g,s.g),u=r(i.b,s.b),h=ZD(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=u(p),i.opacity=h(p),i+""}}return a.gamma=e,a}(1);function QW(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),i;return function(s){for(i=0;i<r;++i)a[i]=e[i]*(1-s)+t[i]*s;return a}}function ZW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function JW(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),s=new Array(r),l;for(l=0;l<a;++l)i[l]=nd(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(d){for(l=0;l<a;++l)s[l]=i[l](d);return s}}function eH(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function nm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function tH(e,t){var r={},a={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=nd(e[i],t[i]):a[i]=t[i];return function(s){for(i in r)a[i]=r[i](s);return a}}var Hj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,h1=new RegExp(Hj.source,"g");function rH(e){return function(){return e}}function nH(e){return function(t){return e(t)+""}}function aH(e,t){var r=Hj.lastIndex=h1.lastIndex=0,a,i,s,l=-1,d=[],u=[];for(e=e+"",t=t+"";(a=Hj.exec(e))&&(i=h1.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),d[l]?d[l]+=s:d[++l]=s),(a=a[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,u.push({i:l,x:nm(a,i)})),r=h1.lastIndex;return r<t.length&&(s=t.slice(r),d[l]?d[l]+=s:d[++l]=s),d.length<2?u[0]?nH(u[0].x):rH(t):(t=u.length,function(h){for(var p=0,m;p<t;++p)d[(m=u[p]).i]=m.x(h);return d.join("")})}function nd(e,t){var r=typeof t,a;return t==null||r==="boolean"?Dw(t):(r==="number"?nm:r==="string"?(a=Xu(t))?(t=a,P6):aH:t instanceof Xu?P6:t instanceof Date?eH:ZW(t)?QW:Array.isArray(t)?JW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tH:nm)(e,t)}function Rw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function iH(e,t){t===void 0&&(t=e,e=nd);for(var r=0,a=t.length-1,i=t[0],s=new Array(a<0?0:a);r<a;)s[r]=e(i,i=t[++r]);return function(l){var d=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return s[d](l-d)}}function sH(e){return function(){return e}}function am(e){return+e}var M6=[0,1];function Zn(e){return e}function Gj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sH(isNaN(t)?NaN:.5)}function oH(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function lH(e,t,r){var a=e[0],i=e[1],s=t[0],l=t[1];return i<a?(a=Gj(i,a),s=r(l,s)):(a=Gj(a,i),s=r(s,l)),function(d){return s(a(d))}}function cH(e,t,r){var a=Math.min(e.length,t.length)-1,i=new Array(a),s=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)i[l]=Gj(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(d){var u=Bh(e,d,1,a)-1;return s[u](i[u](d))}}function Lh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function f0(){var e=M6,t=M6,r=nd,a,i,s,l=Zn,d,u,h;function p(){var g=Math.min(e.length,t.length);return l!==Zn&&(l=oH(e[0],e[g-1])),d=g>2?cH:lH,u=h=null,m}function m(g){return g==null||isNaN(g=+g)?s:(u||(u=d(e.map(a),t,r)))(a(l(g)))}return m.invert=function(g){return l(i((h||(h=d(t,e.map(a),nm)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,am),p()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=Rw,p()},m.clamp=function(g){return arguments.length?(l=g?!0:Zn,p()):l!==Zn},m.interpolate=function(g){return arguments.length?(r=g,p()):r},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,v){return a=g,i=v,p()}}function Pw(){return f0()(Zn,Zn)}function dH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function im(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Oc(e){return e=im(Math.abs(e)),e?e[1]:NaN}function uH(e,t){return function(r,a){for(var i=r.length,s=[],l=0,d=e[0],u=0;i>0&&d>0&&(u+d+1>a&&(d=Math.max(1,a-u)),s.push(r.substring(i-=d,i+d)),!((u+=d+1)>a));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function hH(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var fH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qu(e){if(!(t=fH.exec(e)))throw new Error("invalid format: "+e);var t;return new Mw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qu.prototype=Mw.prototype;function Mw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pH(e){e:for(var t=e.length,r=1,a=-1,i;r<t;++r)switch(e[r]){case".":a=i=r;break;case"0":a===0&&(a=r),i=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(i+1):e}var JD;function mH(e,t){var r=im(e,t);if(!r)return e+"";var a=r[0],i=r[1],s=i-(JD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=a.length;return s===l?a:s>l?a+new Array(s-l+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+im(e,Math.max(0,t+s-1))[0]}function B6(e,t){var r=im(e,t);if(!r)return e+"";var a=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}const F6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>B6(e*100,t),r:B6,s:mH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function L6(e){return e}var $6=Array.prototype.map,z6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xH(e){var t=e.grouping===void 0||e.thousands===void 0?L6:uH($6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?L6:hH($6.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(m){m=Qu(m);var g=m.fill,v=m.align,j=m.sign,b=m.symbol,y=m.zero,T=m.width,E=m.comma,C=m.precision,S=m.trim,A=m.type;A==="n"?(E=!0,A="g"):F6[A]||(C===void 0&&(C=12),S=!0,A="g"),(y||g==="0"&&v==="=")&&(y=!0,g="0",v="=");var k=b==="$"?r:b==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",D=b==="$"?a:/[%p]/.test(A)?l:"",B=F6[A],F=/[defgprs%]/.test(A);C=C===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function M(L){var O=k,W=D,P,I,R;if(A==="c")W=B(L)+W,L="";else{L=+L;var H=L<0||1/L<0;if(L=isNaN(L)?u:B(Math.abs(L),C),S&&(L=pH(L)),H&&+L==0&&j!=="+"&&(H=!1),O=(H?j==="("?j:d:j==="-"||j==="("?"":j)+O,W=(A==="s"?z6[8+JD/3]:"")+W+(H&&j==="("?")":""),F){for(P=-1,I=L.length;++P<I;)if(R=L.charCodeAt(P),48>R||R>57){W=(R===46?i+L.slice(P+1):L.slice(P))+W,L=L.slice(0,P);break}}}E&&!y&&(L=t(L,1/0));var V=O.length+L.length+W.length,he=V<T?new Array(T-V+1).join(g):"";switch(E&&y&&(L=t(he+L,he.length?T-W.length:1/0),he=""),v){case"<":L=O+L+W+he;break;case"=":L=O+he+L+W;break;case"^":L=he.slice(0,V=he.length>>1)+O+L+W+he.slice(V);break;default:L=he+O+L+W;break}return s(L)}return M.toString=function(){return m+""},M}function p(m,g){var v=h((m=Qu(m),m.type="f",m)),j=Math.max(-8,Math.min(8,Math.floor(Oc(g)/3)))*3,b=Math.pow(10,-j),y=z6[8+j/3];return function(T){return v(b*T)+y}}return{format:h,formatPrefix:p}}var hp,Bw,eR;gH({thousands:",",grouping:[3],currency:["$",""]});function gH(e){return hp=xH(e),Bw=hp.format,eR=hp.formatPrefix,hp}function yH(e){return Math.max(0,-Oc(Math.abs(e)))}function vH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oc(t)/3)))*3-Oc(Math.abs(e)))}function bH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Oc(t)-Oc(e))+1}function tR(e,t,r,a){var i=Uj(e,t,r),s;switch(a=Qu(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(s=vH(i,l))&&(a.precision=s),eR(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(s=bH(i,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=s-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(s=yH(i))&&(a.precision=s-(a.type==="%")*2);break}}return Bw(a)}function mo(e){var t=e.domain;return e.ticks=function(r){var a=t();return $j(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var i=t();return tR(i[0],i[i.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),i=0,s=a.length-1,l=a[i],d=a[s],u,h,p=10;for(d<l&&(h=l,l=d,d=h,h=i,i=s,s=h);p-- >0;){if(h=zj(l,d,r),h===u)return a[i]=l,a[s]=d,t(a);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;u=h}return e},e}function sm(){var e=Pw();return e.copy=function(){return Lh(e,sm())},ei.apply(e,arguments),mo(e)}function rR(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,am),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return rR(e).unknown(t)},e=arguments.length?Array.from(e,am):[0,1],mo(r)}function nR(e,t){e=e.slice();var r=0,a=e.length-1,i=e[r],s=e[a],l;return s<i&&(l=r,r=a,a=l,l=i,i=s,s=l),e[r]=t.floor(i),e[a]=t.ceil(s),e}function U6(e){return Math.log(e)}function q6(e){return Math.exp(e)}function jH(e){return-Math.log(-e)}function wH(e){return-Math.exp(-e)}function SH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function NH(e){return e===10?SH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function TH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function W6(e){return(t,r)=>-e(-t,r)}function Fw(e){const t=e(U6,q6),r=t.domain;let a=10,i,s;function l(){return i=TH(a),s=NH(a),r()[0]<0?(i=W6(i),s=W6(s),e(jH,wH)):e(U6,q6),t}return t.base=function(d){return arguments.length?(a=+d,l()):a},t.domain=function(d){return arguments.length?(r(d),l()):r()},t.ticks=d=>{const u=r();let h=u[0],p=u[u.length-1];const m=p<h;m&&([h,p]=[p,h]);let g=i(h),v=i(p),j,b;const y=d==null?10:+d;let T=[];if(!(a%1)&&v-g<y){if(g=Math.floor(g),v=Math.ceil(v),h>0){for(;g<=v;++g)for(j=1;j<a;++j)if(b=g<0?j/s(-g):j*s(g),!(b<h)){if(b>p)break;T.push(b)}}else for(;g<=v;++g)for(j=a-1;j>=1;--j)if(b=g>0?j/s(-g):j*s(g),!(b<h)){if(b>p)break;T.push(b)}T.length*2<y&&(T=$j(h,p,y))}else T=$j(g,v,Math.min(v-g,y)).map(s);return m?T.reverse():T},t.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=Qu(u)).precision==null&&(u.trim=!0),u=Bw(u)),d===1/0)return u;const h=Math.max(1,a*d/t.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*a<a-.5&&(m*=a),m<=h?u(p):""}},t.nice=()=>r(nR(r(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),t}function aR(){const e=Fw(f0()).domain([1,10]);return e.copy=()=>Lh(e,aR()).base(e.base()),ei.apply(e,arguments),e}function H6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function G6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lw(e){var t=1,r=e(H6(t),G6(t));return r.constant=function(a){return arguments.length?e(H6(t=+a),G6(t)):t},mo(r)}function iR(){var e=Lw(f0());return e.copy=function(){return Lh(e,iR()).constant(e.constant())},ei.apply(e,arguments)}function V6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function CH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function AH(e){return e<0?-e*e:e*e}function $w(e){var t=e(Zn,Zn),r=1;function a(){return r===1?e(Zn,Zn):r===.5?e(CH,AH):e(V6(r),V6(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,a()):r},mo(t)}function zw(){var e=$w(f0());return e.copy=function(){return Lh(e,zw()).exponent(e.exponent())},ei.apply(e,arguments),e}function EH(){return zw.apply(null,arguments).exponent(.5)}function Y6(e){return Math.sign(e)*e*e}function OH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sR(){var e=Pw(),t=[0,1],r=!1,a;function i(s){var l=OH(e(s));return isNaN(l)?a:r?Math.round(l):l}return i.invert=function(s){return e.invert(Y6(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,am)).map(Y6)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return sR(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},ei.apply(i,arguments),mo(i)}function oR(){var e=[],t=[],r=[],a;function i(){var l=0,d=Math.max(1,t.length);for(r=new Array(d-1);++l<d;)r[l-1]=RW(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?a:t[Bh(r,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(io),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.quantiles=function(){return r.slice()},s.copy=function(){return oR().domain(e).range(t).unknown(a)},ei.apply(s,arguments)}function lR(){var e=0,t=1,r=1,a=[.5],i=[0,1],s;function l(u){return u!=null&&u<=u?i[Bh(a,u,0,r)]:s}function d(){var u=-1;for(a=new Array(r);++u<r;)a[u]=((u+1)*t-(u-r)*e)/(r+1);return l}return l.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,d()):[e,t]},l.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,d()):i.slice()},l.invertExtent=function(u){var h=i.indexOf(u);return h<0?[NaN,NaN]:h<1?[e,a[0]]:h>=r?[a[r-1],t]:[a[h-1],a[h]]},l.unknown=function(u){return arguments.length&&(s=u),l},l.thresholds=function(){return a.slice()},l.copy=function(){return lR().domain([e,t]).range(i).unknown(s)},ei.apply(mo(l),arguments)}function cR(){var e=[.5],t=[0,1],r,a=1;function i(s){return s!=null&&s<=s?t[Bh(e,s,0,a)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),a=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),a=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return cR().domain(e).range(t).unknown(r)},ei.apply(i,arguments)}const f1=new Date,p1=new Date;function fn(e,t,r,a){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),d=i.ceil(s);return s-l<d-s?l:d},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,d)=>{const u=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return u;let h;do u.push(h=new Date(+s)),t(s,d),e(s);while(h<s&&s<l);return u},i.filter=s=>fn(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),r&&(i.count=(s,l)=>(f1.setTime(+s),p1.setTime(+l),e(f1),e(p1),Math.floor(r(f1,p1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(a?l=>a(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const om=fn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);om.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):om);om.range;const ss=1e3,Ya=ss*60,os=Ya*60,vs=os*24,Uw=vs*7,K6=vs*30,m1=vs*365,Wo=fn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ss)},(e,t)=>(t-e)/ss,e=>e.getUTCSeconds());Wo.range;const qw=fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ss)},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getMinutes());qw.range;const Ww=fn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getUTCMinutes());Ww.range;const Hw=fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ss-e.getMinutes()*Ya)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getHours());Hw.range;const Gw=fn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getUTCHours());Gw.range;const $h=fn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ya)/vs,e=>e.getDate()-1);$h.range;const p0=fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vs,e=>e.getUTCDate()-1);p0.range;const dR=fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vs,e=>Math.floor(e/vs));dR.range;function dl(e){return fn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ya)/Uw)}const m0=dl(0),lm=dl(1),_H=dl(2),kH=dl(3),_c=dl(4),IH=dl(5),DH=dl(6);m0.range;lm.range;_H.range;kH.range;_c.range;IH.range;DH.range;function ul(e){return fn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Uw)}const x0=ul(0),cm=ul(1),RH=ul(2),PH=ul(3),kc=ul(4),MH=ul(5),BH=ul(6);x0.range;cm.range;RH.range;PH.range;kc.range;MH.range;BH.range;const Vw=fn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Vw.range;const Yw=fn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Yw.range;const bs=fn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bs.range;const js=fn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());js.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});js.range;function uR(e,t,r,a,i,s){const l=[[Wo,1,ss],[Wo,5,5*ss],[Wo,15,15*ss],[Wo,30,30*ss],[s,1,Ya],[s,5,5*Ya],[s,15,15*Ya],[s,30,30*Ya],[i,1,os],[i,3,3*os],[i,6,6*os],[i,12,12*os],[a,1,vs],[a,2,2*vs],[r,1,Uw],[t,1,K6],[t,3,3*K6],[e,1,m1]];function d(h,p,m){const g=p<h;g&&([h,p]=[p,h]);const v=m&&typeof m.range=="function"?m:u(h,p,m),j=v?v.range(h,+p+1):[];return g?j.reverse():j}function u(h,p,m){const g=Math.abs(p-h)/m,v=_w(([,,y])=>y).right(l,g);if(v===l.length)return e.every(Uj(h/m1,p/m1,m));if(v===0)return om.every(Math.max(Uj(h,p,m),1));const[j,b]=l[g/l[v-1][2]<l[v][2]/g?v-1:v];return j.every(b)}return[d,u]}const[FH,LH]=uR(js,Yw,x0,dR,Gw,Ww),[$H,zH]=uR(bs,Vw,m0,$h,Hw,qw);function x1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function g1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function uu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function UH(e){var t=e.dateTime,r=e.date,a=e.time,i=e.periods,s=e.days,l=e.shortDays,d=e.months,u=e.shortMonths,h=hu(i),p=fu(i),m=hu(s),g=fu(s),v=hu(l),j=fu(l),b=hu(d),y=fu(d),T=hu(u),E=fu(u),C={a:H,A:V,b:he,B:U,c:null,d:t4,e:t4,f:uG,g:jG,G:SG,H:lG,I:cG,j:dG,L:hR,m:hG,M:fG,p:Y,q:z,Q:a4,s:i4,S:pG,u:mG,U:xG,V:gG,w:yG,W:vG,x:null,X:null,y:bG,Y:wG,Z:NG,"%":n4},S={a:ee,A:q,b:Q,B:ae,c:null,d:r4,e:r4,f:EG,g:FG,G:$G,H:TG,I:CG,j:AG,L:pR,m:OG,M:_G,p:de,q:xe,Q:a4,s:i4,S:kG,u:IG,U:DG,V:RG,w:PG,W:MG,x:null,X:null,y:BG,Y:LG,Z:zG,"%":n4},A={a:M,A:L,b:O,B:W,c:P,d:J6,e:J6,f:aG,g:Z6,G:Q6,H:e4,I:e4,j:eG,L:nG,m:JH,M:tG,p:F,q:ZH,Q:sG,s:oG,S:rG,u:VH,U:YH,V:KH,w:GH,W:XH,x:I,X:R,y:Z6,Y:Q6,Z:QH,"%":iG};C.x=k(r,C),C.X=k(a,C),C.c=k(t,C),S.x=k(r,S),S.X=k(a,S),S.c=k(t,S);function k(Z,ge){return function(je){var pe=[],Je=-1,Ee=0,Ve=Z.length,le,Ce,Qe;for(je instanceof Date||(je=new Date(+je));++Je<Ve;)Z.charCodeAt(Je)===37&&(pe.push(Z.slice(Ee,Je)),(Ce=X6[le=Z.charAt(++Je)])!=null?le=Z.charAt(++Je):Ce=le==="e"?" ":"0",(Qe=ge[le])&&(le=Qe(je,Ce)),pe.push(le),Ee=Je+1);return pe.push(Z.slice(Ee,Je)),pe.join("")}}function D(Z,ge){return function(je){var pe=uu(1900,void 0,1),Je=B(pe,Z,je+="",0),Ee,Ve;if(Je!=je.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(ge&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(Ee=g1(uu(pe.y,0,1)),Ve=Ee.getUTCDay(),Ee=Ve>4||Ve===0?cm.ceil(Ee):cm(Ee),Ee=p0.offset(Ee,(pe.V-1)*7),pe.y=Ee.getUTCFullYear(),pe.m=Ee.getUTCMonth(),pe.d=Ee.getUTCDate()+(pe.w+6)%7):(Ee=x1(uu(pe.y,0,1)),Ve=Ee.getDay(),Ee=Ve>4||Ve===0?lm.ceil(Ee):lm(Ee),Ee=$h.offset(Ee,(pe.V-1)*7),pe.y=Ee.getFullYear(),pe.m=Ee.getMonth(),pe.d=Ee.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),Ve="Z"in pe?g1(uu(pe.y,0,1)).getUTCDay():x1(uu(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(Ve+5)%7:pe.w+pe.U*7-(Ve+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,g1(pe)):x1(pe)}}function B(Z,ge,je,pe){for(var Je=0,Ee=ge.length,Ve=je.length,le,Ce;Je<Ee;){if(pe>=Ve)return-1;if(le=ge.charCodeAt(Je++),le===37){if(le=ge.charAt(Je++),Ce=A[le in X6?ge.charAt(Je++):le],!Ce||(pe=Ce(Z,je,pe))<0)return-1}else if(le!=je.charCodeAt(pe++))return-1}return pe}function F(Z,ge,je){var pe=h.exec(ge.slice(je));return pe?(Z.p=p.get(pe[0].toLowerCase()),je+pe[0].length):-1}function M(Z,ge,je){var pe=v.exec(ge.slice(je));return pe?(Z.w=j.get(pe[0].toLowerCase()),je+pe[0].length):-1}function L(Z,ge,je){var pe=m.exec(ge.slice(je));return pe?(Z.w=g.get(pe[0].toLowerCase()),je+pe[0].length):-1}function O(Z,ge,je){var pe=T.exec(ge.slice(je));return pe?(Z.m=E.get(pe[0].toLowerCase()),je+pe[0].length):-1}function W(Z,ge,je){var pe=b.exec(ge.slice(je));return pe?(Z.m=y.get(pe[0].toLowerCase()),je+pe[0].length):-1}function P(Z,ge,je){return B(Z,t,ge,je)}function I(Z,ge,je){return B(Z,r,ge,je)}function R(Z,ge,je){return B(Z,a,ge,je)}function H(Z){return l[Z.getDay()]}function V(Z){return s[Z.getDay()]}function he(Z){return u[Z.getMonth()]}function U(Z){return d[Z.getMonth()]}function Y(Z){return i[+(Z.getHours()>=12)]}function z(Z){return 1+~~(Z.getMonth()/3)}function ee(Z){return l[Z.getUTCDay()]}function q(Z){return s[Z.getUTCDay()]}function Q(Z){return u[Z.getUTCMonth()]}function ae(Z){return d[Z.getUTCMonth()]}function de(Z){return i[+(Z.getUTCHours()>=12)]}function xe(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ge=k(Z+="",C);return ge.toString=function(){return Z},ge},parse:function(Z){var ge=D(Z+="",!1);return ge.toString=function(){return Z},ge},utcFormat:function(Z){var ge=k(Z+="",S);return ge.toString=function(){return Z},ge},utcParse:function(Z){var ge=D(Z+="",!0);return ge.toString=function(){return Z},ge}}}var X6={"-":"",_:" ",0:"0"},wn=/^\s*\d+/,qH=/^%/,WH=/[\\^$*+?|[\]().{}]/g;function cr(e,t,r){var a=e<0?"-":"",i=(a?-e:e)+"",s=i.length;return a+(s<r?new Array(r-s+1).join(t)+i:i)}function HH(e){return e.replace(WH,"\\$&")}function hu(e){return new RegExp("^(?:"+e.map(HH).join("|")+")","i")}function fu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function GH(e,t,r){var a=wn.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function VH(e,t,r){var a=wn.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function YH(e,t,r){var a=wn.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function KH(e,t,r){var a=wn.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function XH(e,t,r){var a=wn.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function Q6(e,t,r){var a=wn.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function Z6(e,t,r){var a=wn.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function QH(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function ZH(e,t,r){var a=wn.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function JH(e,t,r){var a=wn.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function J6(e,t,r){var a=wn.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function eG(e,t,r){var a=wn.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function e4(e,t,r){var a=wn.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function tG(e,t,r){var a=wn.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function rG(e,t,r){var a=wn.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function nG(e,t,r){var a=wn.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function aG(e,t,r){var a=wn.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function iG(e,t,r){var a=qH.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function sG(e,t,r){var a=wn.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function oG(e,t,r){var a=wn.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function t4(e,t){return cr(e.getDate(),t,2)}function lG(e,t){return cr(e.getHours(),t,2)}function cG(e,t){return cr(e.getHours()%12||12,t,2)}function dG(e,t){return cr(1+$h.count(bs(e),e),t,3)}function hR(e,t){return cr(e.getMilliseconds(),t,3)}function uG(e,t){return hR(e,t)+"000"}function hG(e,t){return cr(e.getMonth()+1,t,2)}function fG(e,t){return cr(e.getMinutes(),t,2)}function pG(e,t){return cr(e.getSeconds(),t,2)}function mG(e){var t=e.getDay();return t===0?7:t}function xG(e,t){return cr(m0.count(bs(e)-1,e),t,2)}function fR(e){var t=e.getDay();return t>=4||t===0?_c(e):_c.ceil(e)}function gG(e,t){return e=fR(e),cr(_c.count(bs(e),e)+(bs(e).getDay()===4),t,2)}function yG(e){return e.getDay()}function vG(e,t){return cr(lm.count(bs(e)-1,e),t,2)}function bG(e,t){return cr(e.getFullYear()%100,t,2)}function jG(e,t){return e=fR(e),cr(e.getFullYear()%100,t,2)}function wG(e,t){return cr(e.getFullYear()%1e4,t,4)}function SG(e,t){var r=e.getDay();return e=r>=4||r===0?_c(e):_c.ceil(e),cr(e.getFullYear()%1e4,t,4)}function NG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+cr(t/60|0,"0",2)+cr(t%60,"0",2)}function r4(e,t){return cr(e.getUTCDate(),t,2)}function TG(e,t){return cr(e.getUTCHours(),t,2)}function CG(e,t){return cr(e.getUTCHours()%12||12,t,2)}function AG(e,t){return cr(1+p0.count(js(e),e),t,3)}function pR(e,t){return cr(e.getUTCMilliseconds(),t,3)}function EG(e,t){return pR(e,t)+"000"}function OG(e,t){return cr(e.getUTCMonth()+1,t,2)}function _G(e,t){return cr(e.getUTCMinutes(),t,2)}function kG(e,t){return cr(e.getUTCSeconds(),t,2)}function IG(e){var t=e.getUTCDay();return t===0?7:t}function DG(e,t){return cr(x0.count(js(e)-1,e),t,2)}function mR(e){var t=e.getUTCDay();return t>=4||t===0?kc(e):kc.ceil(e)}function RG(e,t){return e=mR(e),cr(kc.count(js(e),e)+(js(e).getUTCDay()===4),t,2)}function PG(e){return e.getUTCDay()}function MG(e,t){return cr(cm.count(js(e)-1,e),t,2)}function BG(e,t){return cr(e.getUTCFullYear()%100,t,2)}function FG(e,t){return e=mR(e),cr(e.getUTCFullYear()%100,t,2)}function LG(e,t){return cr(e.getUTCFullYear()%1e4,t,4)}function $G(e,t){var r=e.getUTCDay();return e=r>=4||r===0?kc(e):kc.ceil(e),cr(e.getUTCFullYear()%1e4,t,4)}function zG(){return"+0000"}function n4(){return"%"}function a4(e){return+e}function i4(e){return Math.floor(+e/1e3)}var Jl,xR,gR;UG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UG(e){return Jl=UH(e),xR=Jl.format,Jl.parse,gR=Jl.utcFormat,Jl.utcParse,Jl}function qG(e){return new Date(e)}function WG(e){return e instanceof Date?+e:+new Date(+e)}function Kw(e,t,r,a,i,s,l,d,u,h){var p=Pw(),m=p.invert,g=p.domain,v=h(".%L"),j=h(":%S"),b=h("%I:%M"),y=h("%I %p"),T=h("%a %d"),E=h("%b %d"),C=h("%B"),S=h("%Y");function A(k){return(u(k)<k?v:d(k)<k?j:l(k)<k?b:s(k)<k?y:a(k)<k?i(k)<k?T:E:r(k)<k?C:S)(k)}return p.invert=function(k){return new Date(m(k))},p.domain=function(k){return arguments.length?g(Array.from(k,WG)):g().map(qG)},p.ticks=function(k){var D=g();return e(D[0],D[D.length-1],k??10)},p.tickFormat=function(k,D){return D==null?A:h(D)},p.nice=function(k){var D=g();return(!k||typeof k.range!="function")&&(k=t(D[0],D[D.length-1],k??10)),k?g(nR(D,k)):p},p.copy=function(){return Lh(p,Kw(e,t,r,a,i,s,l,d,u,h))},p}function HG(){return ei.apply(Kw($H,zH,bs,Vw,m0,$h,Hw,qw,Wo,xR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GG(){return ei.apply(Kw(FH,LH,js,Yw,x0,p0,Gw,Ww,Wo,gR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function g0(){var e=0,t=1,r,a,i,s,l=Zn,d=!1,u;function h(m){return m==null||isNaN(m=+m)?u:l(i===0?.5:(m=(s(m)-r)*i,d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,r=s(e=+e),a=s(t=+t),i=r===a?0:1/(a-r),h):[e,t]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(g){var v,j;return arguments.length?([v,j]=g,l=m(v,j),h):[l(0),l(1)]}}return h.range=p(nd),h.rangeRound=p(Rw),h.unknown=function(m){return arguments.length?(u=m,h):u},function(m){return s=m,r=m(e),a=m(t),i=r===a?0:1/(a-r),h}}function xo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yR(){var e=mo(g0()(Zn));return e.copy=function(){return xo(e,yR())},As.apply(e,arguments)}function vR(){var e=Fw(g0()).domain([1,10]);return e.copy=function(){return xo(e,vR()).base(e.base())},As.apply(e,arguments)}function bR(){var e=Lw(g0());return e.copy=function(){return xo(e,bR()).constant(e.constant())},As.apply(e,arguments)}function Xw(){var e=$w(g0());return e.copy=function(){return xo(e,Xw()).exponent(e.exponent())},As.apply(e,arguments)}function VG(){return Xw.apply(null,arguments).exponent(.5)}function jR(){var e=[],t=Zn;function r(a){if(a!=null&&!isNaN(a=+a))return t((Bh(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let i of a)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(io),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,i)=>t(i/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(i,s)=>DW(e,s/a))},r.copy=function(){return jR(t).domain(e)},As.apply(r,arguments)}function y0(){var e=0,t=.5,r=1,a=1,i,s,l,d,u,h=Zn,p,m=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+p(b))-s)*(a*b<a*s?d:u),h(m?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,t,r]=b,i=p(e=+e),s=p(t=+t),l=p(r=+r),d=i===s?0:.5/(s-i),u=s===l?0:.5/(l-s),a=s<i?-1:1,v):[e,t,r]},v.clamp=function(b){return arguments.length?(m=!!b,v):m},v.interpolator=function(b){return arguments.length?(h=b,v):h};function j(b){return function(y){var T,E,C;return arguments.length?([T,E,C]=y,h=iH(b,[T,E,C]),v):[h(0),h(.5),h(1)]}}return v.range=j(nd),v.rangeRound=j(Rw),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return p=b,i=b(e),s=b(t),l=b(r),d=i===s?0:.5/(s-i),u=s===l?0:.5/(l-s),a=s<i?-1:1,v}}function wR(){var e=mo(y0()(Zn));return e.copy=function(){return xo(e,wR())},As.apply(e,arguments)}function SR(){var e=Fw(y0()).domain([.1,1,10]);return e.copy=function(){return xo(e,SR()).base(e.base())},As.apply(e,arguments)}function NR(){var e=Lw(y0());return e.copy=function(){return xo(e,NR()).constant(e.constant())},As.apply(e,arguments)}function Qw(){var e=$w(y0());return e.copy=function(){return xo(e,Qw()).exponent(e.exponent())},As.apply(e,arguments)}function YG(){return Qw.apply(null,arguments).exponent(.5)}const s4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vu,scaleDiverging:wR,scaleDivergingLog:SR,scaleDivergingPow:Qw,scaleDivergingSqrt:YG,scaleDivergingSymlog:NR,scaleIdentity:rR,scaleImplicit:qj,scaleLinear:sm,scaleLog:aR,scaleOrdinal:kw,scalePoint:Au,scalePow:zw,scaleQuantile:oR,scaleQuantize:lR,scaleRadial:sR,scaleSequential:yR,scaleSequentialLog:vR,scaleSequentialPow:Xw,scaleSequentialQuantile:jR,scaleSequentialSqrt:VG,scaleSequentialSymlog:bR,scaleSqrt:EH,scaleSymlog:iR,scaleThreshold:cR,scaleTime:HG,scaleUtc:GG,tickFormat:tR},Symbol.toStringTag,{value:"Module"}));var y1,o4;function TR(){if(o4)return y1;o4=1;var e=Jc();function t(r,a,i){for(var s=-1,l=r.length;++s<l;){var d=r[s],u=a(d);if(u!=null&&(h===void 0?u===u&&!e(u):i(u,h)))var h=u,p=d}return p}return y1=t,y1}var v1,l4;function KG(){if(l4)return v1;l4=1;function e(t,r){return t>r}return v1=e,v1}var b1,c4;function XG(){if(c4)return b1;c4=1;var e=TR(),t=KG(),r=td();function a(i){return i&&i.length?e(i,r,t):void 0}return b1=a,b1}var QG=XG();const v0=Cr(QG);var j1,d4;function ZG(){if(d4)return j1;d4=1;function e(t,r){return t<r}return j1=e,j1}var w1,u4;function JG(){if(u4)return w1;u4=1;var e=TR(),t=ZG(),r=td();function a(i){return i&&i.length?e(i,r,t):void 0}return w1=a,w1}var eV=JG();const b0=Cr(eV);var S1,h4;function tV(){if(h4)return S1;h4=1;var e=fw(),t=po(),r=DD(),a=xa();function i(s,l){var d=a(s)?e:r;return d(s,t(l,3))}return S1=i,S1}var N1,f4;function rV(){if(f4)return N1;f4=1;var e=kD(),t=tV();function r(a,i){return e(t(a,i),1)}return N1=r,N1}var nV=rV();const aV=Cr(nV);var T1,p4;function iV(){if(p4)return T1;p4=1;var e=Cw();function t(r,a){return e(r,a)}return T1=t,T1}var sV=iV();const j0=Cr(sV);var ad=1e9,oV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Jw,Fr=!0,Ja="[DecimalError] ",Yo=Ja+"Invalid argument: ",Zw=Ja+"Exponent out of range: ",id=Math.floor,$o=Math.pow,lV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ka,yn=1e7,Ir=7,CR=9007199254740991,dm=id(CR/Ir),jt={};jt.absoluteValue=jt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};jt.comparedTo=jt.cmp=function(e){var t,r,a,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(a=s.d.length,i=e.d.length,t=0,r=a<i?a:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return a===i?0:a>i^s.s<0?1:-1};jt.decimalPlaces=jt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ir;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};jt.dividedBy=jt.div=function(e){return fs(this,new this.constructor(e))};jt.dividedToIntegerBy=jt.idiv=function(e){var t=this,r=t.constructor;return Or(fs(t,new r(e),0,1),r.precision)};jt.equals=jt.eq=function(e){return!this.cmp(e)};jt.exponent=function(){return tn(this)};jt.greaterThan=jt.gt=function(e){return this.cmp(e)>0};jt.greaterThanOrEqualTo=jt.gte=function(e){return this.cmp(e)>=0};jt.isInteger=jt.isint=function(){return this.e>this.d.length-2};jt.isNegative=jt.isneg=function(){return this.s<0};jt.isPositive=jt.ispos=function(){return this.s>0};jt.isZero=function(){return this.s===0};jt.lessThan=jt.lt=function(e){return this.cmp(e)<0};jt.lessThanOrEqualTo=jt.lte=function(e){return this.cmp(e)<1};jt.logarithm=jt.log=function(e){var t,r=this,a=r.constructor,i=a.precision,s=i+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(ka))throw Error(Ja+"NaN");if(r.s<1)throw Error(Ja+(r.s?"NaN":"-Infinity"));return r.eq(ka)?new a(0):(Fr=!1,t=fs(Zu(r,s),Zu(e,s),s),Fr=!0,Or(t,i))};jt.minus=jt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OR(t,e):AR(t,(e.s=-e.s,e))};jt.modulo=jt.mod=function(e){var t,r=this,a=r.constructor,i=a.precision;if(e=new a(e),!e.s)throw Error(Ja+"NaN");return r.s?(Fr=!1,t=fs(r,e,0,1).times(e),Fr=!0,r.minus(t)):Or(new a(r),i)};jt.naturalExponential=jt.exp=function(){return ER(this)};jt.naturalLogarithm=jt.ln=function(){return Zu(this)};jt.negated=jt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};jt.plus=jt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AR(t,e):OR(t,(e.s=-e.s,e))};jt.precision=jt.sd=function(e){var t,r,a,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yo+e);if(t=tn(i)+1,a=i.d.length-1,r=a*Ir+1,a=i.d[a],a){for(;a%10==0;a/=10)r--;for(a=i.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};jt.squareRoot=jt.sqrt=function(){var e,t,r,a,i,s,l,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(Ja+"NaN")}for(e=tn(d),Fr=!1,i=Math.sqrt(+d),i==0||i==1/0?(t=Ri(d.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=id((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(i.toString()),r=u.precision,i=l=r+3;;)if(s=a,a=s.plus(fs(d,s,l+2)).times(.5),Ri(s.d).slice(0,l)===(t=Ri(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(Or(s,r+1,0),s.times(s).eq(d)){a=s;break}}else if(t!="9999")break;l+=4}return Fr=!0,Or(a,r)};jt.times=jt.mul=function(e){var t,r,a,i,s,l,d,u,h,p=this,m=p.constructor,g=p.d,v=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,r=p.e+e.e,u=g.length,h=v.length,u<h&&(s=g,g=v,v=s,l=u,u=h,h=l),s=[],l=u+h,a=l;a--;)s.push(0);for(a=h;--a>=0;){for(t=0,i=u+a;i>a;)d=s[i]+v[a]*g[i-a-1]+t,s[i--]=d%yn|0,t=d/yn|0;s[i]=(s[i]+t)%yn|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Fr?Or(e,m.precision):e};jt.toDecimalPlaces=jt.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Fi(e,0,ad),t===void 0?t=a.rounding:Fi(t,0,8),Or(r,e+tn(r)+1,t))};jt.toExponential=function(e,t){var r,a=this,i=a.constructor;return e===void 0?r=el(a,!0):(Fi(e,0,ad),t===void 0?t=i.rounding:Fi(t,0,8),a=Or(new i(a),e+1,t),r=el(a,!0,e+1)),r};jt.toFixed=function(e,t){var r,a,i=this,s=i.constructor;return e===void 0?el(i):(Fi(e,0,ad),t===void 0?t=s.rounding:Fi(t,0,8),a=Or(new s(i),e+tn(i)+1,t),r=el(a.abs(),!1,e+tn(a)+1),i.isneg()&&!i.isZero()?"-"+r:r)};jt.toInteger=jt.toint=function(){var e=this,t=e.constructor;return Or(new t(e),tn(e)+1,t.rounding)};jt.toNumber=function(){return+this};jt.toPower=jt.pow=function(e){var t,r,a,i,s,l,d=this,u=d.constructor,h=12,p=+(e=new u(e));if(!e.s)return new u(ka);if(d=new u(d),!d.s){if(e.s<1)throw Error(Ja+"Infinity");return d}if(d.eq(ka))return d;if(a=u.precision,e.eq(ka))return Or(d,a);if(t=e.e,r=e.d.length-1,l=t>=r,s=d.s,l){if((r=p<0?-p:p)<=CR){for(i=new u(ka),t=Math.ceil(a/Ir+4),Fr=!1;r%2&&(i=i.times(d),x4(i.d,t)),r=id(r/2),r!==0;)d=d.times(d),x4(d.d,t);return Fr=!0,e.s<0?new u(ka).div(i):Or(i,a)}}else if(s<0)throw Error(Ja+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,Fr=!1,i=e.times(Zu(d,a+h)),Fr=!0,i=ER(i),i.s=s,i};jt.toPrecision=function(e,t){var r,a,i=this,s=i.constructor;return e===void 0?(r=tn(i),a=el(i,r<=s.toExpNeg||r>=s.toExpPos)):(Fi(e,1,ad),t===void 0?t=s.rounding:Fi(t,0,8),i=Or(new s(i),e,t),r=tn(i),a=el(i,e<=r||r<=s.toExpNeg,e)),a};jt.toSignificantDigits=jt.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Fi(e,1,ad),t===void 0?t=a.rounding:Fi(t,0,8)),Or(new a(r),e,t)};jt.toString=jt.valueOf=jt.val=jt.toJSON=jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tn(e),r=e.constructor;return el(e,t<=r.toExpNeg||t>=r.toExpPos)};function AR(e,t){var r,a,i,s,l,d,u,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Fr?Or(t,m):t;if(u=e.d,h=t.d,l=e.e,i=t.e,u=u.slice(),s=l-i,s){for(s<0?(a=u,s=-s,d=h.length):(a=h,i=l,d=u.length),l=Math.ceil(m/Ir),d=l>d?l+1:d+1,s>d&&(s=d,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for(d=u.length,s=h.length,d-s<0&&(s=d,a=h,h=u,u=a),r=0;s;)r=(u[--s]=u[s]+h[s]+r)/yn|0,u[s]%=yn;for(r&&(u.unshift(r),++i),d=u.length;u[--d]==0;)u.pop();return t.d=u,t.e=i,Fr?Or(t,m):t}function Fi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Yo+e)}function Ri(e){var t,r,a,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)a=e[t]+"",r=Ir-a.length,r&&(s+=Js(r)),s+=a;l=e[t],a=l+"",r=Ir-a.length,r&&(s+=Js(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var fs=function(){function e(a,i){var s,l=0,d=a.length;for(a=a.slice();d--;)s=a[d]*i+l,a[d]=s%yn|0,l=s/yn|0;return l&&a.unshift(l),a}function t(a,i,s,l){var d,u;if(s!=l)u=s>l?1:-1;else for(d=u=0;d<s;d++)if(a[d]!=i[d]){u=a[d]>i[d]?1:-1;break}return u}function r(a,i,s){for(var l=0;s--;)a[s]-=l,l=a[s]<i[s]?1:0,a[s]=l*yn+a[s]-i[s];for(;!a[0]&&a.length>1;)a.shift()}return function(a,i,s,l){var d,u,h,p,m,g,v,j,b,y,T,E,C,S,A,k,D,B,F=a.constructor,M=a.s==i.s?1:-1,L=a.d,O=i.d;if(!a.s)return new F(a);if(!i.s)throw Error(Ja+"Division by zero");for(u=a.e-i.e,D=O.length,A=L.length,v=new F(M),j=v.d=[],h=0;O[h]==(L[h]||0);)++h;if(O[h]>(L[h]||0)&&--u,s==null?E=s=F.precision:l?E=s+(tn(a)-tn(i))+1:E=s,E<0)return new F(0);if(E=E/Ir+2|0,h=0,D==1)for(p=0,O=O[0],E++;(h<A||p)&&E--;h++)C=p*yn+(L[h]||0),j[h]=C/O|0,p=C%O|0;else{for(p=yn/(O[0]+1)|0,p>1&&(O=e(O,p),L=e(L,p),D=O.length,A=L.length),S=D,b=L.slice(0,D),y=b.length;y<D;)b[y++]=0;B=O.slice(),B.unshift(0),k=O[0],O[1]>=yn/2&&++k;do p=0,d=t(O,b,D,y),d<0?(T=b[0],D!=y&&(T=T*yn+(b[1]||0)),p=T/k|0,p>1?(p>=yn&&(p=yn-1),m=e(O,p),g=m.length,y=b.length,d=t(m,b,g,y),d==1&&(p--,r(m,D<g?B:O,g))):(p==0&&(d=p=1),m=O.slice()),g=m.length,g<y&&m.unshift(0),r(b,m,y),d==-1&&(y=b.length,d=t(O,b,D,y),d<1&&(p++,r(b,D<y?B:O,y))),y=b.length):d===0&&(p++,b=[0]),j[h++]=p,d&&b[0]?b[y++]=L[S]||0:(b=[L[S]],y=1);while((S++<A||b[0]!==void 0)&&E--)}return j[0]||j.shift(),v.e=u,Or(v,l?s+tn(v)+1:s)}}();function ER(e,t){var r,a,i,s,l,d,u=0,h=0,p=e.constructor,m=p.precision;if(tn(e)>16)throw Error(Zw+tn(e));if(!e.s)return new p(ka);for(Fr=!1,d=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(a=Math.log($o(2,h))/Math.LN10*2+5|0,d+=a,r=i=s=new p(ka),p.precision=d;;){if(i=Or(i.times(e),d),r=r.times(++u),l=s.plus(fs(i,r,d)),Ri(l.d).slice(0,d)===Ri(s.d).slice(0,d)){for(;h--;)s=Or(s.times(s),d);return p.precision=m,t==null?(Fr=!0,Or(s,m)):s}s=l}}function tn(e){for(var t=e.e*Ir,r=e.d[0];r>=10;r/=10)t++;return t}function C1(e,t,r){if(t>e.LN10.sd())throw Fr=!0,r&&(e.precision=r),Error(Ja+"LN10 precision limit exceeded");return Or(new e(e.LN10),t)}function Js(e){for(var t="";e--;)t+="0";return t}function Zu(e,t){var r,a,i,s,l,d,u,h,p,m=1,g=10,v=e,j=v.d,b=v.constructor,y=b.precision;if(v.s<1)throw Error(Ja+(v.s?"NaN":"-Infinity"));if(v.eq(ka))return new b(0);if(t==null?(Fr=!1,h=y):h=t,v.eq(10))return t==null&&(Fr=!0),C1(b,h);if(h+=g,b.precision=h,r=Ri(j),a=r.charAt(0),s=tn(v),Math.abs(s)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)v=v.times(e),r=Ri(v.d),a=r.charAt(0),m++;s=tn(v),a>1?(v=new b("0."+r),s++):v=new b(a+"."+r.slice(1))}else return u=C1(b,h+2,y).times(s+""),v=Zu(new b(a+"."+r.slice(1)),h-g).plus(u),b.precision=y,t==null?(Fr=!0,Or(v,y)):v;for(d=l=v=fs(v.minus(ka),v.plus(ka),h),p=Or(v.times(v),h),i=3;;){if(l=Or(l.times(p),h),u=d.plus(fs(l,new b(i),h)),Ri(u.d).slice(0,h)===Ri(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(C1(b,h+2,y).times(s+""))),d=fs(d,new b(m),h),b.precision=y,t==null?(Fr=!0,Or(d,y)):d;d=u,i+=2}}function m4(e,t){var r,a,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(a,i),t){if(i-=a,r=r-a-1,e.e=id(r/Ir),e.d=[],a=(r+1)%Ir,r<0&&(a+=Ir),a<i){for(a&&e.d.push(+t.slice(0,a)),i-=Ir;a<i;)e.d.push(+t.slice(a,a+=Ir));t=t.slice(a),a=Ir-t.length}else a-=i;for(;a--;)t+="0";if(e.d.push(+t),Fr&&(e.e>dm||e.e<-dm))throw Error(Zw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Or(e,t,r){var a,i,s,l,d,u,h,p,m=e.d;for(l=1,s=m[0];s>=10;s/=10)l++;if(a=t-l,a<0)a+=Ir,i=t,h=m[p=0];else{if(p=Math.ceil((a+1)/Ir),s=m.length,p>=s)return e;for(h=s=m[p],l=1;s>=10;s/=10)l++;a%=Ir,i=a-Ir+l}if(r!==void 0&&(s=$o(10,l-i-1),d=h/s%10|0,u=t<0||m[p+1]!==void 0||h%s,u=r<4?(d||u)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||u||r==6&&(a>0?i>0?h/$o(10,l-i):0:m[p-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(s=tn(e),m.length=1,t=t-s-1,m[0]=$o(10,(Ir-t%Ir)%Ir),e.e=id(-t/Ir)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=p,s=1,p--):(m.length=p+1,s=$o(10,Ir-a),m[p]=i>0?(h/$o(10,l-i)%$o(10,i)|0)*s:0),u)for(;;)if(p==0){(m[0]+=s)==yn&&(m[0]=1,++e.e);break}else{if(m[p]+=s,m[p]!=yn)break;m[p--]=0,s=1}for(a=m.length;m[--a]===0;)m.pop();if(Fr&&(e.e>dm||e.e<-dm))throw Error(Zw+tn(e));return e}function OR(e,t){var r,a,i,s,l,d,u,h,p,m,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Fr?Or(t,v):t;if(u=e.d,m=t.d,a=t.e,h=e.e,u=u.slice(),l=h-a,l){for(p=l<0,p?(r=u,l=-l,d=m.length):(r=m,a=h,d=u.length),i=Math.max(Math.ceil(v/Ir),d)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=u.length,d=m.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(u[i]!=m[i]){p=u[i]<m[i];break}l=0}for(p&&(r=u,u=m,m=r,t.s=-t.s),d=u.length,i=m.length-d;i>0;--i)u[d++]=0;for(i=m.length;i>l;){if(u[--i]<m[i]){for(s=i;s&&u[--s]===0;)u[s]=yn-1;--u[s],u[i]+=yn}u[i]-=m[i]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,Fr?Or(t,v):t):new g(0)}function el(e,t,r){var a,i=tn(e),s=Ri(e.d),l=s.length;return t?(r&&(a=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+Js(a):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Js(-i-1)+s,r&&(a=r-l)>0&&(s+=Js(a))):i>=l?(s+=Js(i+1-l),r&&(a=r-i-1)>0&&(s=s+"."+Js(a))):((a=i+1)<l&&(s=s.slice(0,a)+"."+s.slice(a)),r&&(a=r-l)>0&&(i+1===l&&(s+="."),s+=Js(a))),e.s<0?"-"+s:s}function x4(e,t){if(e.length>t)return e.length=t,!0}function _R(e){var t,r,a;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Yo+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return m4(l,s.toString())}else if(typeof s!="string")throw Error(Yo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,lV.test(s))m4(l,s);else throw Error(Yo+s)}if(i.prototype=jt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_R,i.config=i.set=cV,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return i.config(e),i}function cV(e){if(!e||typeof e!="object")throw Error(Ja+"Object expected");var t,r,a,i=["precision",1,ad,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((a=e[r=i[t]])!==void 0)if(id(a)===a&&a>=i[t+1]&&a<=i[t+2])this[r]=a;else throw Error(Yo+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Yo+r+": "+a);return this}var Jw=_R(oV);ka=new Jw(1);const Nr=Jw;function dV(e){return pV(e)||fV(e)||hV(e)||uV()}function uV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hV(e,t){if(e){if(typeof e=="string")return Vj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vj(e,t)}}function fV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function pV(e){if(Array.isArray(e))return Vj(e)}function Vj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var mV=function(t){return t},kR={},IR=function(t){return t===kR},g4=function(t){return function r(){return arguments.length===0||arguments.length===1&&IR(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},xV=function e(t,r){return t===1?r:g4(function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var l=i.filter(function(d){return d!==kR}).length;return l>=t?r.apply(void 0,i):e(t-l,g4(function(){for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];var p=i.map(function(m){return IR(m)?u.shift():m});return r.apply(void 0,dV(p).concat(u))}))})},w0=function(t){return xV(t.length,t)},Yj=function(t,r){for(var a=[],i=t;i<r;++i)a[i-t]=i;return a},gV=w0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),yV=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return mV;var i=r.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce(function(d,u){return u(d)},s.apply(void 0,arguments))}},Kj=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},DR=function(t){var r=null,a=null;return function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return r&&s.every(function(d,u){return d===r[u]})||(r=s,a=t.apply(void 0,s)),a}};function vV(e){var t;return e===0?t=1:t=Math.floor(new Nr(e).abs().log(10).toNumber())+1,t}function bV(e,t,r){for(var a=new Nr(e),i=0,s=[];a.lt(t)&&i<1e5;)s.push(a.toNumber()),a=a.add(r),i++;return s}var jV=w0(function(e,t,r){var a=+e,i=+t;return a+r*(i-a)}),wV=w0(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),SV=w0(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const S0={rangeStep:bV,getDigitCount:vV,interpolateNumber:jV,uninterpolateNumber:wV,uninterpolateTruncation:SV};function Xj(e){return CV(e)||TV(e)||RR(e)||NV()}function NV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function CV(e){if(Array.isArray(e))return Qj(e)}function Ju(e,t){return OV(e)||EV(e,t)||RR(e,t)||AV()}function AV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RR(e,t){if(e){if(typeof e=="string")return Qj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qj(e,t)}}function Qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function EV(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,i=!1,s=void 0;try{for(var l=e[Symbol.iterator](),d;!(a=(d=l.next()).done)&&(r.push(d.value),!(t&&r.length===t));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&l.return!=null&&l.return()}finally{if(i)throw s}}return r}}function OV(e){if(Array.isArray(e))return e}function PR(e){var t=Ju(e,2),r=t[0],a=t[1],i=r,s=a;return r>a&&(i=a,s=r),[i,s]}function MR(e,t,r){if(e.lte(0))return new Nr(0);var a=S0.getDigitCount(e.toNumber()),i=new Nr(10).pow(a),s=e.div(i),l=a!==1?.05:.1,d=new Nr(Math.ceil(s.div(l).toNumber())).add(r).mul(l),u=d.mul(i);return t?u:new Nr(Math.ceil(u))}function _V(e,t,r){var a=1,i=new Nr(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(a=new Nr(10).pow(S0.getDigitCount(e)-1),i=new Nr(Math.floor(i.div(a).toNumber())).mul(a)):s>1&&(i=new Nr(Math.floor(e)))}else e===0?i=new Nr(Math.floor((t-1)/2)):r||(i=new Nr(Math.floor(e)));var l=Math.floor((t-1)/2),d=yV(gV(function(u){return i.add(new Nr(u-l).mul(a)).toNumber()}),Yj);return d(0,t)}function BR(e,t,r,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Nr(0),tickMin:new Nr(0),tickMax:new Nr(0)};var s=MR(new Nr(t).sub(e).div(r-1),a,i),l;e<=0&&t>=0?l=new Nr(0):(l=new Nr(e).add(t).div(2),l=l.sub(new Nr(l).mod(s)));var d=Math.ceil(l.sub(e).div(s).toNumber()),u=Math.ceil(new Nr(t).sub(l).div(s).toNumber()),h=d+u+1;return h>r?BR(e,t,r,a,i+1):(h<r&&(u=t>0?u+(r-h):u,d=t>0?d:d+(r-h)),{step:s,tickMin:l.sub(new Nr(d).mul(s)),tickMax:l.add(new Nr(u).mul(s))})}function kV(e){var t=Ju(e,2),r=t[0],a=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),d=PR([r,a]),u=Ju(d,2),h=u[0],p=u[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(Xj(Yj(0,i-1).map(function(){return 1/0}))):[].concat(Xj(Yj(0,i-1).map(function(){return-1/0})),[p]);return r>a?Kj(m):m}if(h===p)return _V(h,i,s);var g=BR(h,p,l,s),v=g.step,j=g.tickMin,b=g.tickMax,y=S0.rangeStep(j,b.add(new Nr(.1).mul(v)),v);return r>a?Kj(y):y}function IV(e,t){var r=Ju(e,2),a=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=PR([a,i]),d=Ju(l,2),u=d[0],h=d[1];if(u===-1/0||h===1/0)return[a,i];if(u===h)return[u];var p=Math.max(t,2),m=MR(new Nr(h).sub(u).div(p-1),s,0),g=[].concat(Xj(S0.rangeStep(new Nr(u),new Nr(h).sub(new Nr(.99).mul(m)),m)),[h]);return a>i?Kj(g):g}var DV=DR(kV),RV=DR(IV),PV="Invariant failed";function tl(e,t){throw new Error(PV)}var MV=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},um.apply(this,arguments)}function BV(e,t){return zV(e)||$V(e,t)||LV(e,t)||FV()}function FV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LV(e,t){if(e){if(typeof e=="string")return y4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y4(e,t)}}function y4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function $V(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return d}}function zV(e){if(Array.isArray(e))return e}function UV(e,t){if(e==null)return{};var r=qV(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qV(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function WV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HV(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$R(a.key),a)}}function GV(e,t,r){return t&&HV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VV(e,t,r){return t=hm(t),YV(e,FR()?Reflect.construct(t,r||[],hm(e).constructor):t.apply(e,r))}function YV(e,t){if(t&&(Ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KV(e)}function KV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!e})()}function hm(e){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(e)}function XV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zj(e,t)}function Zj(e,t){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Zj(e,t)}function LR(e,t,r){return t=$R(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $R(e){var t=QV(e,"string");return Ic(t)=="symbol"?t:t+""}function QV(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ic(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zh=function(e){function t(){return WV(this,t),VV(this,t,arguments)}return XV(t,e),GV(t,[{key:"render",value:function(){var a=this.props,i=a.offset,s=a.layout,l=a.width,d=a.dataKey,u=a.data,h=a.dataPointFormatter,p=a.xAxis,m=a.yAxis,g=UV(a,MV),v=tr(g,!1);this.props.direction==="x"&&p.type!=="number"&&tl();var j=u.map(function(b){var y=h(b,d),T=y.x,E=y.y,C=y.value,S=y.errorVal;if(!S)return null;var A=[],k,D;if(Array.isArray(S)){var B=BV(S,2);k=B[0],D=B[1]}else k=D=S;if(s==="vertical"){var F=p.scale,M=E+i,L=M+l,O=M-l,W=F(C-k),P=F(C+D);A.push({x1:P,y1:L,x2:P,y2:O}),A.push({x1:W,y1:M,x2:P,y2:M}),A.push({x1:W,y1:L,x2:W,y2:O})}else if(s==="horizontal"){var I=m.scale,R=T+i,H=R-l,V=R+l,he=I(C-k),U=I(C+D);A.push({x1:H,y1:U,x2:V,y2:U}),A.push({x1:R,y1:he,x2:R,y2:U}),A.push({x1:H,y1:he,x2:V,y2:he})}return ke.createElement(Kr,um({className:"recharts-errorBar",key:"bar-".concat(A.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},v),A.map(function(Y){return ke.createElement("line",um({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return ke.createElement(Kr,{className:"recharts-errorBars"},j)}}])}(ke.Component);LR(zh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LR(zh,"displayName","ErrorBar");function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(a){ZV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZV(e,t,r){return t=JV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JV(e){var t=eY(e,"string");return eh(t)=="symbol"?t:t+""}function eY(e,t){if(eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(eh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zR=function(t){var r=t.children,a=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,l=Aa(r,pc);if(!l)return null;var d=pc.defaultProps,u=d!==void 0?Po(Po({},d),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:s==="children"?h=(a||[]).reduce(function(p,m){var g=m.item,v=m.props,j=v.sectors||v.data||[];return p.concat(j.map(function(b){return{type:l.props.iconType||g.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):h=(a||[]).map(function(p){var m=p.item,g=m.type.defaultProps,v=g!==void 0?Po(Po({},g),m.props):{},j=v.dataKey,b=v.name,y=v.legendType,T=v.hide;return{inactive:T,dataKey:j,type:u.iconType||y||"square",color:eS(m),value:b||j,payload:v}}),Po(Po(Po({},u),pc.getWithHeight(l,i)),{},{payload:h,item:l})};function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function b4(e){return aY(e)||nY(e)||rY(e)||tY()}function tY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rY(e,t){if(e){if(typeof e=="string")return Jj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jj(e,t)}}function nY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aY(e){if(Array.isArray(e))return Jj(e)}function Jj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function j4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j4(Object(r),!0).forEach(function(a){xc(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xc(e,t,r){return t=iY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=sY(e,"string");return th(t)=="symbol"?t:t+""}function sY(e,t){if(th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(th(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ia(e,t,r){return Jt(e)||Jt(t)?r:hn(t)?Xa(e,t,r):Gt(t)?t(e):r}function Eu(e,t,r,a){var i=aV(e,function(d){return Ia(d,t)});if(r==="number"){var s=i.filter(function(d){return gt(d)||parseFloat(d)});return s.length?[b0(s),v0(s)]:[1/0,-1/0]}var l=a?i.filter(function(d){return!Jt(d)}):i;return l.map(function(d){return hn(d)||d instanceof Date?d:""})}var oY=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=-1,d=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(d<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,h=0;h<d;h++){var p=h>0?i[h-1].coordinate:i[d-1].coordinate,m=i[h].coordinate,g=h>=d-1?i[0].coordinate:i[h+1].coordinate,v=void 0;if(mi(m-p)!==mi(g-m)){var j=[];if(mi(g-m)===mi(u[1]-u[0])){v=g;var b=m+u[1]-u[0];j[0]=Math.min(b,(b+p)/2),j[1]=Math.max(b,(b+p)/2)}else{v=p;var y=g+u[1]-u[0];j[0]=Math.min(m,(y+m)/2),j[1]=Math.max(m,(y+m)/2)}var T=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>T[0]&&t<=T[1]||t>=j[0]&&t<=j[1]){l=i[h].index;break}}else{var E=Math.min(p,g),C=Math.max(p,g);if(t>(E+m)/2&&t<=(C+m)/2){l=i[h].index;break}}}else for(var S=0;S<d;S++)if(S===0&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<d-1&&t>(a[S].coordinate+a[S-1].coordinate)/2&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S===d-1&&t>(a[S].coordinate+a[S-1].coordinate)/2){l=a[S].index;break}return l},eS=function(t){var r,a=t,i=a.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?qr(qr({},t.type.defaultProps),t.props):t.props,l=s.stroke,d=s.fill,u;switch(i){case"Line":u=l;break;case"Area":case"Radar":u=l&&l!=="none"?l:d;break;default:u=d;break}return u},lY=function(t){var r=t.barSize,a=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var l={},d=Object.keys(s),u=0,h=d.length;u<h;u++)for(var p=s[d[u]].stackGroups,m=Object.keys(p),g=0,v=m.length;g<v;g++){var j=p[m[g]],b=j.items,y=j.cateAxisId,T=b.filter(function(D){return us(D.type).indexOf("Bar")>=0});if(T&&T.length){var E=T[0].type.defaultProps,C=E!==void 0?qr(qr({},E),T[0].props):T[0].props,S=C.barSize,A=C[y];l[A]||(l[A]=[]);var k=Jt(S)?r:S;l[A].push({item:T[0],stackList:T.slice(1),barSize:Jt(k)?void 0:Jo(k,a,0)})}}return l},cY=function(t){var r=t.barGap,a=t.barCategoryGap,i=t.bandSize,s=t.sizeList,l=s===void 0?[]:s,d=t.maxBarSize,u=l.length;if(u<1)return null;var h=Jo(r,i,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var g=!1,v=i/u,j=l.reduce(function(S,A){return S+A.barSize||0},0);j+=(u-1)*h,j>=i&&(j-=(u-1)*h,h=0),j>=i&&v>0&&(g=!0,v*=.9,j=u*v);var b=(i-j)/2>>0,y={offset:b-h,size:0};p=l.reduce(function(S,A){var k={item:A.item,position:{offset:y.offset+y.size+h,size:g?v:A.barSize}},D=[].concat(b4(S),[k]);return y=D[D.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(B){D.push({item:B,position:y})}),D},m)}else{var T=Jo(a,i,0,!0);i-2*T-(u-1)*h<=0&&(h=0);var E=(i-2*T-(u-1)*h)/u;E>1&&(E>>=0);var C=d===+d?Math.min(E,d):E;p=l.reduce(function(S,A,k){var D=[].concat(b4(S),[{item:A.item,position:{offset:T+(E+h)*k+(E-C)/2,size:C}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(B){D.push({item:B,position:D[D.length-1].position})}),D},m)}return p},dY=function(t,r,a,i){var s=a.children,l=a.width,d=a.margin,u=l-(d.left||0)-(d.right||0),h=zR({children:s,legendWidth:u});if(h){var p=i||{},m=p.width,g=p.height,v=h.align,j=h.verticalAlign,b=h.layout;if((b==="vertical"||b==="horizontal"&&j==="middle")&&v!=="center"&&gt(t[v]))return qr(qr({},t),{},xc({},v,t[v]+(m||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&j!=="middle"&&gt(t[j]))return qr(qr({},t),{},xc({},j,t[j]+(g||0)))}return t},uY=function(t,r,a){return Jt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},UR=function(t,r,a,i,s){var l=r.props.children,d=Qa(l,zh).filter(function(h){return uY(i,s,h.props.direction)});if(d&&d.length){var u=d.map(function(h){return h.props.dataKey});return t.reduce(function(h,p){var m=Ia(p,a);if(Jt(m))return h;var g=Array.isArray(m)?[b0(m),v0(m)]:[m,m],v=u.reduce(function(j,b){var y=Ia(p,b,0),T=g[0]-Math.abs(Array.isArray(y)?y[0]:y),E=g[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(T,j[0]),Math.max(E,j[1])]},[1/0,-1/0]);return[Math.min(v[0],h[0]),Math.max(v[1],h[1])]},[1/0,-1/0])}return null},hY=function(t,r,a,i,s){var l=r.map(function(d){return UR(t,d,a,s,i)}).filter(function(d){return!Jt(d)});return l&&l.length?l.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]):null},qR=function(t,r,a,i,s){var l=r.map(function(u){var h=u.props.dataKey;return a==="number"&&h&&UR(t,u,h,i)||Eu(t,h,a,s)});if(a==="number")return l.reduce(function(u,h){return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);var d={};return l.reduce(function(u,h){for(var p=0,m=h.length;p<m;p++)d[h[p]]||(d[h[p]]=!0,u.push(h[p]));return u},[])},WR=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},HR=function(t,r,a,i){if(i)return t.map(function(u){return u.coordinate});var s,l,d=t.map(function(u){return u.coordinate===r&&(s=!0),u.coordinate===a&&(l=!0),u.coordinate});return s||d.push(r),l||d.push(a),d},ls=function(t,r,a){if(!t)return null;var i=t.scale,s=t.duplicateDomain,l=t.type,d=t.range,u=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||a)&&l==="category"&&i.bandwidth?i.bandwidth()/u:0;if(h=t.axisType==="angleAxis"&&(d==null?void 0:d.length)>=2?mi(d[0]-d[1])*2*h:h,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var g=s?s.indexOf(m):m;return{coordinate:i(g)+h,value:m,offset:h}});return p.filter(function(m){return!Rh(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,g){return{coordinate:i(m)+h,value:m,index:g,offset:h}}):i.ticks&&!a?i.ticks(t.tickCount).map(function(m){return{coordinate:i(m)+h,value:m,offset:h}}):i.domain().map(function(m,g){return{coordinate:i(m)+h,value:s?s[m]:m,index:g,offset:h}})},A1=new WeakMap,fp=function(t,r){if(typeof r!="function")return t;A1.has(t)||A1.set(t,new WeakMap);var a=A1.get(t);if(a.has(r))return a.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,i),i},fY=function(t,r,a){var i=t.scale,s=t.type,l=t.layout,d=t.axisType;if(i==="auto")return l==="radial"&&d==="radiusAxis"?{scale:Vu(),realScaleType:"band"}:l==="radial"&&d==="angleAxis"?{scale:sm(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Au(),realScaleType:"point"}:s==="category"?{scale:Vu(),realScaleType:"band"}:{scale:sm(),realScaleType:"linear"};if(Zo(i)){var u="scale".concat(s0(i));return{scale:(s4[u]||Au)(),realScaleType:s4[u]?u:"point"}}return Gt(i)?{scale:i}:{scale:Au(),realScaleType:"point"}},w4=1e-4,pY=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,i=t.range(),s=Math.min(i[0],i[1])-w4,l=Math.max(i[0],i[1])+w4,d=t(r[0]),u=t(r[a-1]);(d<s||d>l||u<s||u>l)&&t.domain([r[0],r[a-1]])}},mY=function(t,r){if(!t)return null;for(var a=0,i=t.length;a<i;a++)if(t[a].item===r)return t[a].position;return null},xY=function(t,r){if(!r||r.length!==2||!gt(r[0])||!gt(r[1]))return t;var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!gt(t[0])||t[0]<a)&&(s[0]=a),(!gt(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<a&&(s[1]=a),s},gY=function(t){var r=t.length;if(!(r<=0))for(var a=0,i=t[0].length;a<i;++a)for(var s=0,l=0,d=0;d<r;++d){var u=Rh(t[d][a][1])?t[d][a][0]:t[d][a][1];u>=0?(t[d][a][0]=s,t[d][a][1]=s+u,s=t[d][a][1]):(t[d][a][0]=l,t[d][a][1]=l+u,l=t[d][a][1])}},yY=function(t){var r=t.length;if(!(r<=0))for(var a=0,i=t[0].length;a<i;++a)for(var s=0,l=0;l<r;++l){var d=Rh(t[l][a][1])?t[l][a][0]:t[l][a][1];d>=0?(t[l][a][0]=s,t[l][a][1]=s+d,s=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},vY={sign:gY,expand:r9,none:Nc,silhouette:n9,wiggle:a9,positive:yY},bY=function(t,r,a){var i=r.map(function(d){return d.props.dataKey}),s=vY[a],l=t9().keys(i).value(function(d,u){return+Ia(d,u,0)}).order(Oj).offset(s);return l(t)},jY=function(t,r,a,i,s,l){if(!t)return null;var d=l?r.reverse():r,u={},h=d.reduce(function(m,g){var v,j=(v=g.type)!==null&&v!==void 0&&v.defaultProps?qr(qr({},g.type.defaultProps),g.props):g.props,b=j.stackId,y=j.hide;if(y)return m;var T=j[a],E=m[T]||{hasStack:!1,stackGroups:{}};if(hn(b)){var C=E.stackGroups[b]||{numericAxisId:a,cateAxisId:i,items:[]};C.items.push(g),E.hasStack=!0,E.stackGroups[b]=C}else E.stackGroups[Ph("_stackId_")]={numericAxisId:a,cateAxisId:i,items:[g]};return qr(qr({},m),{},xc({},T,E))},u),p={};return Object.keys(h).reduce(function(m,g){var v=h[g];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,y){var T=v.stackGroups[y];return qr(qr({},b),{},xc({},y,{numericAxisId:a,cateAxisId:i,items:T.items,stackedData:bY(t,T.items,s)}))},j)}return qr(qr({},m),{},xc({},g,v))},p)},wY=function(t,r){var a=r.realScaleType,i=r.type,s=r.tickCount,l=r.originalDomain,d=r.allowDecimals,u=a||r.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=t.domain();if(!h.length)return null;var p=DV(h,s,d);return t.domain([b0(p),v0(p)]),{niceTicks:p}}if(s&&i==="number"){var m=t.domain(),g=RV(m,s,d);return{niceTicks:g}}return null};function S4(e){var t=e.axis,r=e.ticks,a=e.bandSize,i=e.entry,s=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Jt(i[t.dataKey])){var d=$p(r,"value",i[t.dataKey]);if(d)return d.coordinate+a/2}return r[s]?r[s].coordinate+a/2:null}var u=Ia(i,Jt(l)?t.dataKey:l);return Jt(u)?null:t.scale(u)}var N4=function(t){var r=t.axis,a=t.ticks,i=t.offset,s=t.bandSize,l=t.entry,d=t.index;if(r.type==="category")return a[d]?a[d].coordinate+i:null;var u=Ia(l,r.dataKey,r.domain[d]);return Jt(u)?null:r.scale(u)-s/2+i},SY=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var i=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return i<=0&&s>=0?0:s<0?s:i}return a[0]},NY=function(t,r){var a,i=(a=t.type)!==null&&a!==void 0&&a.defaultProps?qr(qr({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(hn(s)){var l=r[s];if(l){var d=l.items.indexOf(t);return d>=0?l.stackedData[d]:null}}return null},TY=function(t){return t.reduce(function(r,a){return[b0(a.concat([r[0]]).filter(gt)),v0(a.concat([r[1]]).filter(gt))]},[1/0,-1/0])},GR=function(t,r,a){return Object.keys(t).reduce(function(i,s){var l=t[s],d=l.stackedData,u=d.reduce(function(h,p){var m=TY(p.slice(r,a+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},T4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e2=function(t,r,a){if(Gt(t))return t(r,a);if(!Array.isArray(t))return r;var i=[];if(gt(t[0]))i[0]=a?t[0]:Math.min(t[0],r[0]);else if(T4.test(t[0])){var s=+T4.exec(t[0])[1];i[0]=r[0]-s}else Gt(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(gt(t[1]))i[1]=a?t[1]:Math.max(t[1],r[1]);else if(C4.test(t[1])){var l=+C4.exec(t[1])[1];i[1]=r[1]+l}else Gt(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},fm=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!a||i>0)return i}if(t&&r&&r.length>=2){for(var s=Ew(r,function(m){return m.coordinate}),l=1/0,d=1,u=s.length;d<u;d++){var h=s[d],p=s[d-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},A4=function(t,r,a){return!t||!t.length||j0(t,Xa(a,"type.defaultProps.domain"))?r:t},VR=function(t,r){var a=t.type.defaultProps?qr(qr({},t.type.defaultProps),t.props):t.props,i=a.dataKey,s=a.name,l=a.unit,d=a.formatter,u=a.tooltipType,h=a.chartType,p=a.hide;return qr(qr({},tr(t,!1)),{},{dataKey:i,unit:l,formatter:d,name:s||i,color:eS(t),value:Ia(r,i),type:u,payload:r,chartType:h,hide:p})};function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function E4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function O4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(r),!0).forEach(function(a){CY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function CY(e,t,r){return t=AY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AY(e){var t=EY(e,"string");return rh(t)=="symbol"?t:t+""}function EY(e,t){if(rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(rh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pm=Math.PI/180,OY=function(t){return t*180/Math.PI},In=function(t,r,a,i){return{x:t+Math.cos(-pm*i)*a,y:r+Math.sin(-pm*i)*a}},_Y=function(t,r){var a=t.x,i=t.y,s=r.x,l=r.y;return Math.sqrt(Math.pow(a-s,2)+Math.pow(i-l,2))},kY=function(t,r){var a=t.x,i=t.y,s=r.cx,l=r.cy,d=_Y({x:a,y:i},{x:s,y:l});if(d<=0)return{radius:d};var u=(a-s)/d,h=Math.acos(u);return i>l&&(h=2*Math.PI-h),{radius:d,angle:OY(h),angleInRadian:h}},IY=function(t){var r=t.startAngle,a=t.endAngle,i=Math.floor(r/360),s=Math.floor(a/360),l=Math.min(i,s);return{startAngle:r-l*360,endAngle:a-l*360}},DY=function(t,r){var a=r.startAngle,i=r.endAngle,s=Math.floor(a/360),l=Math.floor(i/360),d=Math.min(s,l);return t+d*360},_4=function(t,r){var a=t.x,i=t.y,s=kY({x:a,y:i},r),l=s.radius,d=s.angle,u=r.innerRadius,h=r.outerRadius;if(l<u||l>h)return!1;if(l===0)return!0;var p=IY(r),m=p.startAngle,g=p.endAngle,v=d,j;if(m<=g){for(;v>g;)v-=360;for(;v<m;)v+=360;j=v>=m&&v<=g}else{for(;v>m;)v-=360;for(;v<g;)v+=360;j=v>=g&&v<=m}return j?O4(O4({},r),{},{radius:l,angle:DY(v,r)}):null};function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}var RY=["offset"];function PY(e){return LY(e)||FY(e)||BY(e)||MY()}function MY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BY(e,t){if(e){if(typeof e=="string")return t2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t2(e,t)}}function FY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LY(e){if(Array.isArray(e))return t2(e)}function t2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function $Y(e,t){if(e==null)return{};var r=zY(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function zY(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function k4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k4(Object(r),!0).forEach(function(a){UY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UY(e,t,r){return t=qY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qY(e){var t=WY(e,"string");return nh(t)=="symbol"?t:t+""}function WY(e,t){if(nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(nh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ah.apply(this,arguments)}var HY=function(t){var r=t.value,a=t.formatter,i=Jt(t.children)?r:t.children;return Gt(a)?a(i):i},GY=function(t,r){var a=mi(r-t),i=Math.min(Math.abs(r-t),360);return a*i},VY=function(t,r,a){var i=t.position,s=t.viewBox,l=t.offset,d=t.className,u=s,h=u.cx,p=u.cy,m=u.innerRadius,g=u.outerRadius,v=u.startAngle,j=u.endAngle,b=u.clockWise,y=(m+g)/2,T=GY(v,j),E=T>=0?1:-1,C,S;i==="insideStart"?(C=v+E*l,S=b):i==="insideEnd"?(C=j-E*l,S=!b):i==="end"&&(C=j+E*l,S=b),S=T<=0?S:!S;var A=In(h,p,y,C),k=In(h,p,y,C+(S?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),B=Jt(t.id)?Ph("recharts-radial-line-"):t.id;return ke.createElement("text",ah({},a,{dominantBaseline:"central",className:or("recharts-radial-bar-label",d)}),ke.createElement("defs",null,ke.createElement("path",{id:B,d:D})),ke.createElement("textPath",{xlinkHref:"#".concat(B)},r))},YY=function(t){var r=t.viewBox,a=t.offset,i=t.position,s=r,l=s.cx,d=s.cy,u=s.innerRadius,h=s.outerRadius,p=s.startAngle,m=s.endAngle,g=(p+m)/2;if(i==="outside"){var v=In(l,d,h+a,g),j=v.x,b=v.y;return{x:j,y:b,textAnchor:j>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"end"};var y=(u+h)/2,T=In(l,d,y,g),E=T.x,C=T.y;return{x:E,y:C,textAnchor:"middle",verticalAnchor:"middle"}},KY=function(t){var r=t.viewBox,a=t.parentViewBox,i=t.offset,s=t.position,l=r,d=l.x,u=l.y,h=l.width,p=l.height,m=p>=0?1:-1,g=m*i,v=m>0?"end":"start",j=m>0?"start":"end",b=h>=0?1:-1,y=b*i,T=b>0?"end":"start",E=b>0?"start":"end";if(s==="top"){var C={x:d+h/2,y:u-m*i,textAnchor:"middle",verticalAnchor:v};return dn(dn({},C),a?{height:Math.max(u-a.y,0),width:h}:{})}if(s==="bottom"){var S={x:d+h/2,y:u+p+g,textAnchor:"middle",verticalAnchor:j};return dn(dn({},S),a?{height:Math.max(a.y+a.height-(u+p),0),width:h}:{})}if(s==="left"){var A={x:d-y,y:u+p/2,textAnchor:T,verticalAnchor:"middle"};return dn(dn({},A),a?{width:Math.max(A.x-a.x,0),height:p}:{})}if(s==="right"){var k={x:d+h+y,y:u+p/2,textAnchor:E,verticalAnchor:"middle"};return dn(dn({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:p}:{})}var D=a?{width:h,height:p}:{};return s==="insideLeft"?dn({x:d+y,y:u+p/2,textAnchor:E,verticalAnchor:"middle"},D):s==="insideRight"?dn({x:d+h-y,y:u+p/2,textAnchor:T,verticalAnchor:"middle"},D):s==="insideTop"?dn({x:d+h/2,y:u+g,textAnchor:"middle",verticalAnchor:j},D):s==="insideBottom"?dn({x:d+h/2,y:u+p-g,textAnchor:"middle",verticalAnchor:v},D):s==="insideTopLeft"?dn({x:d+y,y:u+g,textAnchor:E,verticalAnchor:j},D):s==="insideTopRight"?dn({x:d+h-y,y:u+g,textAnchor:T,verticalAnchor:j},D):s==="insideBottomLeft"?dn({x:d+y,y:u+p-g,textAnchor:E,verticalAnchor:v},D):s==="insideBottomRight"?dn({x:d+h-y,y:u+p-g,textAnchor:T,verticalAnchor:v},D):ed(s)&&(gt(s.x)||Uo(s.x))&&(gt(s.y)||Uo(s.y))?dn({x:d+Jo(s.x,h),y:u+Jo(s.y,p),textAnchor:"end",verticalAnchor:"end"},D):dn({x:d+h/2,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},D)},XY=function(t){return"cx"in t&&gt(t.cx)};function $n(e){var t=e.offset,r=t===void 0?5:t,a=$Y(e,RY),i=dn({offset:r},a),s=i.viewBox,l=i.position,d=i.value,u=i.children,h=i.content,p=i.className,m=p===void 0?"":p,g=i.textBreakAll;if(!s||Jt(d)&&Jt(u)&&!N.isValidElement(h)&&!Gt(h))return null;if(N.isValidElement(h))return N.cloneElement(h,i);var v;if(Gt(h)){if(v=N.createElement(h,i),N.isValidElement(v))return v}else v=HY(i);var j=XY(s),b=tr(i,!0);if(j&&(l==="insideStart"||l==="insideEnd"||l==="end"))return VY(i,v,b);var y=j?YY(i):KY(i);return ke.createElement(Jp,ah({className:or("recharts-label",m)},b,y,{breakAll:g}),v)}$n.displayName="Label";var YR=function(t){var r=t.cx,a=t.cy,i=t.angle,s=t.startAngle,l=t.endAngle,d=t.r,u=t.radius,h=t.innerRadius,p=t.outerRadius,m=t.x,g=t.y,v=t.top,j=t.left,b=t.width,y=t.height,T=t.clockWise,E=t.labelViewBox;if(E)return E;if(gt(b)&&gt(y)){if(gt(m)&&gt(g))return{x:m,y:g,width:b,height:y};if(gt(v)&&gt(j))return{x:v,y:j,width:b,height:y}}return gt(m)&&gt(g)?{x:m,y:g,width:0,height:0}:gt(r)&&gt(a)?{cx:r,cy:a,startAngle:s||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:p||u||d||0,clockWise:T}:t.viewBox?t.viewBox:{}},QY=function(t,r){return t?t===!0?ke.createElement($n,{key:"label-implicit",viewBox:r}):hn(t)?ke.createElement($n,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===$n?N.cloneElement(t,{key:"label-implicit",viewBox:r}):ke.createElement($n,{key:"label-implicit",content:t,viewBox:r}):Gt(t)?ke.createElement($n,{key:"label-implicit",content:t,viewBox:r}):ed(t)?ke.createElement($n,ah({viewBox:r},t,{key:"label-implicit"})):null:null},ZY=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var i=t.children,s=YR(t),l=Qa(i,$n).map(function(u,h){return N.cloneElement(u,{viewBox:r||s,key:"label-".concat(h)})});if(!a)return l;var d=QY(t.label,r||s);return[d].concat(PY(l))};$n.parseViewBox=YR;$n.renderCallByParent=ZY;var E1,I4;function JY(){if(I4)return E1;I4=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return E1=e,E1}var eK=JY();const tK=Cr(eK);function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}var rK=["valueAccessor"],nK=["data","dataKey","clockWise","id","textBreakAll"];function aK(e){return lK(e)||oK(e)||sK(e)||iK()}function iK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sK(e,t){if(e){if(typeof e=="string")return r2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r2(e,t)}}function oK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lK(e){if(Array.isArray(e))return r2(e)}function r2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mm.apply(this,arguments)}function D4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function R4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D4(Object(r),!0).forEach(function(a){cK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cK(e,t,r){return t=dK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=uK(e,"string");return ih(t)=="symbol"?t:t+""}function uK(e,t){if(ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ih(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P4(e,t){if(e==null)return{};var r=hK(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function hK(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var fK=function(t){return Array.isArray(t.value)?tK(t.value):t.value};function so(e){var t=e.valueAccessor,r=t===void 0?fK:t,a=P4(e,rK),i=a.data,s=a.dataKey,l=a.clockWise,d=a.id,u=a.textBreakAll,h=P4(a,nK);return!i||!i.length?null:ke.createElement(Kr,{className:"recharts-label-list"},i.map(function(p,m){var g=Jt(s)?r(p,m):Ia(p&&p.payload,s),v=Jt(d)?{}:{id:"".concat(d,"-").concat(m)};return ke.createElement($n,mm({},tr(p,!0),h,v,{parentViewBox:p.parentViewBox,value:g,textBreakAll:u,viewBox:$n.parseViewBox(Jt(l)?p:R4(R4({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}so.displayName="LabelList";function pK(e,t){return e?e===!0?ke.createElement(so,{key:"labelList-implicit",data:t}):ke.isValidElement(e)||Gt(e)?ke.createElement(so,{key:"labelList-implicit",data:t,content:e}):ed(e)?ke.createElement(so,mm({data:t},e,{key:"labelList-implicit"})):null:null}function mK(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=Qa(a,so).map(function(l,d){return N.cloneElement(l,{data:t,key:"labelList-".concat(d)})});if(!r)return i;var s=pK(e.label,t);return[s].concat(aK(i))}so.renderCallByParent=mK;function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function n2(){return n2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n2.apply(this,arguments)}function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function B4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(a){xK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xK(e,t,r){return t=gK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=yK(e,"string");return sh(t)=="symbol"?t:t+""}function yK(e,t){if(sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(sh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vK=function(t,r){var a=mi(r-t),i=Math.min(Math.abs(r-t),359.999);return a*i},pp=function(t){var r=t.cx,a=t.cy,i=t.radius,s=t.angle,l=t.sign,d=t.isExternal,u=t.cornerRadius,h=t.cornerIsExternal,p=u*(d?1:-1)+i,m=Math.asin(u/p)/pm,g=h?s:s+l*m,v=In(r,a,p,g),j=In(r,a,i,g),b=h?s-l*m:s,y=In(r,a,p*Math.cos(m*pm),b);return{center:v,circleTangency:j,lineTangency:y,theta:m}},KR=function(t){var r=t.cx,a=t.cy,i=t.innerRadius,s=t.outerRadius,l=t.startAngle,d=t.endAngle,u=vK(l,d),h=l+u,p=In(r,a,s,l),m=In(r,a,s,h),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var v=In(r,a,i,l),j=In(r,a,i,h);g+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(l<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(a," Z");return g},bK=function(t){var r=t.cx,a=t.cy,i=t.innerRadius,s=t.outerRadius,l=t.cornerRadius,d=t.forceCornerRadius,u=t.cornerIsExternal,h=t.startAngle,p=t.endAngle,m=mi(p-h),g=pp({cx:r,cy:a,radius:s,angle:h,sign:m,cornerRadius:l,cornerIsExternal:u}),v=g.circleTangency,j=g.lineTangency,b=g.theta,y=pp({cx:r,cy:a,radius:s,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:u}),T=y.circleTangency,E=y.lineTangency,C=y.theta,S=u?Math.abs(h-p):Math.abs(h-p)-b-C;if(S<0)return d?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):KR({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p});var A="M ".concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var k=pp({cx:r,cy:a,radius:i,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),D=k.circleTangency,B=k.lineTangency,F=k.theta,M=pp({cx:r,cy:a,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),L=M.circleTangency,O=M.lineTangency,W=M.theta,P=u?Math.abs(h-p):Math.abs(h-p)-F-W;if(P<0&&l===0)return"".concat(A,"L").concat(r,",").concat(a,"Z");A+="L".concat(O.x,",").concat(O.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(m>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(B.x,",").concat(B.y,"Z")}else A+="L".concat(r,",").concat(a,"Z");return A},jK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XR=function(t){var r=B4(B4({},jK),t),a=r.cx,i=r.cy,s=r.innerRadius,l=r.outerRadius,d=r.cornerRadius,u=r.forceCornerRadius,h=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,g=r.className;if(l<s||p===m)return null;var v=or("recharts-sector",g),j=l-s,b=Jo(d,j,0,!0),y;return b>0&&Math.abs(p-m)<360?y=bK({cx:a,cy:i,innerRadius:s,outerRadius:l,cornerRadius:Math.min(b,j/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:p,endAngle:m}):y=KR({cx:a,cy:i,innerRadius:s,outerRadius:l,startAngle:p,endAngle:m}),ke.createElement("path",n2({},tr(r,!0),{className:v,d:y,role:"img"}))};function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(e)}function a2(){return a2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a2.apply(this,arguments)}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function L4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(a){wK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wK(e,t,r){return t=SK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=NK(e,"string");return oh(t)=="symbol"?t:t+""}function NK(e,t){if(oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(oh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $4={curveBasisClosed:Wz,curveBasisOpen:Hz,curveBasis:qz,curveBumpX:Oz,curveBumpY:_z,curveLinearClosed:Gz,curveLinear:l0,curveMonotoneX:Vz,curveMonotoneY:Yz,curveNatural:Kz,curveStep:Xz,curveStepAfter:Zz,curveStepBefore:Qz},mp=function(t){return t.x===+t.x&&t.y===+t.y},pu=function(t){return t.x},mu=function(t){return t.y},TK=function(t,r){if(Gt(t))return t;var a="curve".concat(s0(t));return(a==="curveMonotone"||a==="curveBump")&&r?$4["".concat(a).concat(r==="vertical"?"Y":"X")]:$4[a]||l0},CK=function(t){var r=t.type,a=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,l=t.baseLine,d=t.layout,u=t.connectNulls,h=u===void 0?!1:u,p=TK(a,d),m=h?s.filter(function(b){return mp(b)}):s,g;if(Array.isArray(l)){var v=h?l.filter(function(b){return mp(b)}):l,j=m.map(function(b,y){return L4(L4({},b),{},{base:v[y]})});return d==="vertical"?g=sp().y(mu).x1(pu).x0(function(b){return b.base.x}):g=sp().x(pu).y1(mu).y0(function(b){return b.base.y}),g.defined(mp).curve(p),g(j)}return d==="vertical"&&gt(l)?g=sp().y(mu).x1(pu).x0(l):gt(l)?g=sp().x(pu).y1(mu).y0(l):g=eD().x(pu).y(mu),g.defined(mp).curve(p),g(m)},i2=function(t){var r=t.className,a=t.points,i=t.path,s=t.pathRef;if((!a||!a.length)&&!i)return null;var l=a&&a.length?CK(t):i;return ke.createElement("path",a2({},tr(t,!1),zp(t),{className:or("recharts-curve",r),d:l,ref:s}))},O1={exports:{}},_1,z4;function AK(){if(z4)return _1;z4=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _1=e,_1}var k1,U4;function EK(){if(U4)return k1;U4=1;var e=AK();function t(){}function r(){}return r.resetWarningCache=t,k1=function(){function a(l,d,u,h,p,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}a.isRequired=a;function i(){return a}var s={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},k1}var q4;function OK(){return q4||(q4=1,O1.exports=EK()()),O1.exports}var _K=OK();const fr=Cr(_K);var kK=Object.getOwnPropertyNames,IK=Object.getOwnPropertySymbols,DK=Object.prototype.hasOwnProperty;function W4(e,t){return function(a,i,s){return e(a,i,s)&&t(a,i,s)}}function xp(e){return function(r,a,i){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,i);var s=i.cache,l=s.get(r),d=s.get(a);if(l&&d)return l===a&&d===r;s.set(r,a),s.set(a,r);var u=e(r,a,i);return s.delete(r),s.delete(a),u}}function H4(e){return kK(e).concat(IK(e))}var RK=Object.hasOwn||function(e,t){return DK.call(e,t)};function hl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var PK="__v",MK="__o",BK="_owner",G4=Object.getOwnPropertyDescriptor,V4=Object.keys;function FK(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function LK(e,t){return hl(e.getTime(),t.getTime())}function $K(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zK(e,t){return e===t}function Y4(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var i=new Array(a),s=e.entries(),l,d,u=0;(l=s.next())&&!l.done;){for(var h=t.entries(),p=!1,m=0;(d=h.next())&&!d.done;){if(i[m]){m++;continue}var g=l.value,v=d.value;if(r.equals(g[0],v[0],u,m,e,t,r)&&r.equals(g[1],v[1],g[0],v[0],e,t,r)){p=i[m]=!0;break}m++}if(!p)return!1;u++}return!0}var UK=hl;function qK(e,t,r){var a=V4(e),i=a.length;if(V4(t).length!==i)return!1;for(;i-- >0;)if(!QR(e,t,r,a[i]))return!1;return!0}function xu(e,t,r){var a=H4(e),i=a.length;if(H4(t).length!==i)return!1;for(var s,l,d;i-- >0;)if(s=a[i],!QR(e,t,r,s)||(l=G4(e,s),d=G4(t,s),(l||d)&&(!l||!d||l.configurable!==d.configurable||l.enumerable!==d.enumerable||l.writable!==d.writable)))return!1;return!0}function WK(e,t){return hl(e.valueOf(),t.valueOf())}function HK(e,t){return e.source===t.source&&e.flags===t.flags}function K4(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var i=new Array(a),s=e.values(),l,d;(l=s.next())&&!l.done;){for(var u=t.values(),h=!1,p=0;(d=u.next())&&!d.done;){if(!i[p]&&r.equals(l.value,d.value,l.value,d.value,e,t,r)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function GK(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function VK(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function QR(e,t,r,a){return(a===BK||a===MK||a===PK)&&(e.$$typeof||t.$$typeof)?!0:RK(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var YK="[object Arguments]",KK="[object Boolean]",XK="[object Date]",QK="[object Error]",ZK="[object Map]",JK="[object Number]",eX="[object Object]",tX="[object RegExp]",rX="[object Set]",nX="[object String]",aX="[object URL]",iX=Array.isArray,X4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Q4=Object.assign,sX=Object.prototype.toString.call.bind(Object.prototype.toString);function oX(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,l=e.areNumbersEqual,d=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,h=e.areRegExpsEqual,p=e.areSetsEqual,m=e.areTypedArraysEqual,g=e.areUrlsEqual;return function(j,b,y){if(j===b)return!0;if(j==null||b==null)return!1;var T=typeof j;if(T!==typeof b)return!1;if(T!=="object")return T==="number"?l(j,b,y):T==="function"?i(j,b,y):!1;var E=j.constructor;if(E!==b.constructor)return!1;if(E===Object)return d(j,b,y);if(iX(j))return t(j,b,y);if(X4!=null&&X4(j))return m(j,b,y);if(E===Date)return r(j,b,y);if(E===RegExp)return h(j,b,y);if(E===Map)return s(j,b,y);if(E===Set)return p(j,b,y);var C=sX(j);return C===XK?r(j,b,y):C===tX?h(j,b,y):C===ZK?s(j,b,y):C===rX?p(j,b,y):C===eX?typeof j.then!="function"&&typeof b.then!="function"&&d(j,b,y):C===aX?g(j,b,y):C===QK?a(j,b,y):C===YK?d(j,b,y):C===KK||C===JK||C===nX?u(j,b,y):!1}}function lX(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,i={areArraysEqual:a?xu:FK,areDatesEqual:LK,areErrorsEqual:$K,areFunctionsEqual:zK,areMapsEqual:a?W4(Y4,xu):Y4,areNumbersEqual:UK,areObjectsEqual:a?xu:qK,arePrimitiveWrappersEqual:WK,areRegExpsEqual:HK,areSetsEqual:a?W4(K4,xu):K4,areTypedArraysEqual:a?xu:GK,areUrlsEqual:VK};if(r&&(i=Q4({},i,r(i))),t){var s=xp(i.areArraysEqual),l=xp(i.areMapsEqual),d=xp(i.areObjectsEqual),u=xp(i.areSetsEqual);i=Q4({},i,{areArraysEqual:s,areMapsEqual:l,areObjectsEqual:d,areSetsEqual:u})}return i}function cX(e){return function(t,r,a,i,s,l,d){return e(t,r,d)}}function dX(e){var t=e.circular,r=e.comparator,a=e.createState,i=e.equals,s=e.strict;if(a)return function(u,h){var p=a(),m=p.cache,g=m===void 0?t?new WeakMap:void 0:m,v=p.meta;return r(u,h,{cache:g,equals:i,meta:v,strict:s})};if(t)return function(u,h){return r(u,h,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var l={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,h){return r(u,h,l)}}var uX=go();go({strict:!0});go({circular:!0});go({circular:!0,strict:!0});go({createInternalComparator:function(){return hl}});go({strict:!0,createInternalComparator:function(){return hl}});go({circular:!0,createInternalComparator:function(){return hl}});go({circular:!0,createInternalComparator:function(){return hl},strict:!0});function go(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,i=e.createState,s=e.strict,l=s===void 0?!1:s,d=lX(e),u=oX(d),h=a?a(u):cX(u);return dX({circular:r,comparator:u,createState:i,equals:h,strict:l})}function hX(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Z4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):hX(i)};requestAnimationFrame(a)}function s2(e){"@babel/helpers - typeof";return s2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s2(e)}function fX(e){return gX(e)||xX(e)||mX(e)||pX()}function pX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mX(e,t){if(e){if(typeof e=="string")return J4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J4(e,t)}}function J4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function xX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gX(e){if(Array.isArray(e))return e}function yX(){var e={},t=function(){return null},r=!1,a=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,d=fX(l),u=d[0],h=d.slice(1);if(typeof u=="number"){Z4(i.bind(null,h),u);return}i(u),Z4(i.bind(null,h));return}s2(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,a(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(a){ZR(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZR(e,t,r){return t=vX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vX(e){var t=bX(e,"string");return lh(t)==="symbol"?t:String(t)}function bX(e,t){if(lh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(lh(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jX=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,i){return a.filter(function(s){return i.includes(s)})})},wX=function(t){return t},SX=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ou=function(t,r){return Object.keys(r).reduce(function(a,i){return tk(tk({},a),{},ZR({},i,t(i,r[i])))},{})},rk=function(t,r,a){return t.map(function(i){return"".concat(SX(i)," ").concat(r,"ms ").concat(a)}).join(",")};function NX(e,t){return AX(e)||CX(e,t)||JR(e,t)||TX()}function TX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return d}}function AX(e){if(Array.isArray(e))return e}function EX(e){return kX(e)||_X(e)||JR(e)||OX()}function OX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JR(e,t){if(e){if(typeof e=="string")return o2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o2(e,t)}}function _X(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kX(e){if(Array.isArray(e))return o2(e)}function o2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var xm=1e-4,e5=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},t5=function(t,r){return t.map(function(a,i){return a*Math.pow(r,i)}).reduce(function(a,i){return a+i})},nk=function(t,r){return function(a){var i=e5(t,r);return t5(i,a)}},IX=function(t,r){return function(a){var i=e5(t,r),s=[].concat(EX(i.map(function(l,d){return l*d}).slice(1)),[0]);return t5(s,a)}},ak=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=r[0],s=r[1],l=r[2],d=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,l=1,d=1;break;case"ease":i=.25,s=.1,l=.25,d=1;break;case"ease-in":i=.42,s=0,l=1,d=1;break;case"ease-out":i=.42,s=0,l=.58,d=1;break;case"ease-in-out":i=0,s=0,l=.58,d=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var h=u[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),p=NX(h,4);i=p[0],s=p[1],l=p[2],d=p[3]}}}var m=nk(i,l),g=nk(s,d),v=IX(i,l),j=function(T){return T>1?1:T<0?0:T},b=function(T){for(var E=T>1?1:T,C=E,S=0;S<8;++S){var A=m(C)-E,k=v(C);if(Math.abs(A-E)<xm||k<xm)return g(C);C=j(C-A/k)}return g(C)};return b.isStepper=!1,b},DX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,l=t.dt,d=l===void 0?17:l,u=function(p,m,g){var v=-(p-m)*a,j=g*s,b=g+(v-j)*d/1e3,y=g*d/1e3+p;return Math.abs(y-m)<xm&&Math.abs(b)<xm?[m,0]:[y,b]};return u.isStepper=!0,u.dt=d,u},RX=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ak(i);case"spring":return DX();default:if(i.split("(")[0]==="cubic-bezier")return ak(i)}return typeof i=="function"?i:null};function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(e)}function ik(e){return BX(e)||MX(e)||r5(e)||PX()}function PX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BX(e){if(Array.isArray(e))return c2(e)}function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(a){l2(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function l2(e,t,r){return t=FX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FX(e){var t=LX(e,"string");return ch(t)==="symbol"?t:String(t)}function LX(e,t){if(ch(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ch(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $X(e,t){return qX(e)||UX(e,t)||r5(e,t)||zX()}function zX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5(e,t){if(e){if(typeof e=="string")return c2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c2(e,t)}}function c2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function UX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return d}}function qX(e){if(Array.isArray(e))return e}var gm=function(t,r,a){return t+(r-t)*a},d2=function(t){var r=t.from,a=t.to;return r!==a},WX=function e(t,r,a){var i=Ou(function(s,l){if(d2(l)){var d=t(l.from,l.to,l.velocity),u=$X(d,2),h=u[0],p=u[1];return En(En({},l),{},{from:h,velocity:p})}return l},r);return a<1?Ou(function(s,l){return d2(l)?En(En({},l),{},{velocity:gm(l.velocity,i[s].velocity,a),from:gm(l.from,i[s].from,a)}):l},r):e(t,i,a-1)};const HX=function(e,t,r,a,i){var s=jX(e,t),l=s.reduce(function(y,T){return En(En({},y),{},l2({},T,[e[T],t[T]]))},{}),d=s.reduce(function(y,T){return En(En({},y),{},l2({},T,{from:e[T],velocity:0,to:t[T]}))},{}),u=-1,h,p,m=function(){return null},g=function(){return Ou(function(T,E){return E.from},d)},v=function(){return!Object.values(d).filter(d2).length},j=function(T){h||(h=T);var E=T-h,C=E/r.dt;d=WX(r,d,C),i(En(En(En({},e),t),g())),h=T,v()||(u=requestAnimationFrame(m))},b=function(T){p||(p=T);var E=(T-p)/a,C=Ou(function(A,k){return gm.apply(void 0,ik(k).concat([r(E)]))},l);if(i(En(En(En({},e),t),C)),E<1)u=requestAnimationFrame(m);else{var S=Ou(function(A,k){return gm.apply(void 0,ik(k).concat([r(1)]))},l);i(En(En(En({},e),t),S))}};return m=r.isStepper?j:b,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}var GX=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function VX(e,t){if(e==null)return{};var r=YX(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function YX(e,t){if(e==null)return{};var r={},a=Object.keys(e),i,s;for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function I1(e){return ZX(e)||QX(e)||XX(e)||KX()}function KX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XX(e,t){if(e){if(typeof e=="string")return u2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u2(e,t)}}function QX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZX(e){if(Array.isArray(e))return u2(e)}function u2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(a){Nu(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Nu(e,t,r){return t=n5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eQ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n5(a.key),a)}}function tQ(e,t,r){return t&&eQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n5(e){var t=rQ(e,"string");return Dc(t)==="symbol"?t:String(t)}function rQ(e,t){if(Dc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Dc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h2(e,t)}function h2(e,t){return h2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},h2(e,t)}function aQ(e){var t=iQ();return function(){var a=ym(e),i;if(t){var s=ym(this).constructor;i=Reflect.construct(a,arguments,s)}else i=a.apply(this,arguments);return f2(this,i)}}function f2(e,t){if(t&&(Dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p2(e)}function p2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ym(e){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(e)}var ws=function(e){nQ(r,e);var t=aQ(r);function r(a,i){var s;JX(this,r),s=t.call(this,a,i);var l=s.props,d=l.isActive,u=l.attributeName,h=l.from,p=l.to,m=l.steps,g=l.children,v=l.duration;if(s.handleStyleChange=s.handleStyleChange.bind(p2(s)),s.changeStyle=s.changeStyle.bind(p2(s)),!d||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:p}),f2(s);if(m&&m.length)s.state={style:m[0].style};else if(h){if(typeof g=="function")return s.state={style:h},f2(s);s.state={style:u?Nu({},u,h):h}}else s.state={style:{}};return s}return tQ(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,l=i.canBegin;this.mounted=!0,!(!s||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isActive,d=s.canBegin,u=s.attributeName,h=s.shouldReAnimate,p=s.to,m=s.from,g=this.state.style;if(d){if(!l){var v={style:u?Nu({},u,p):p};this.state&&g&&(u&&g[u]!==p||!u&&g!==p)&&this.setState(v);return}if(!(uX(i.to,p)&&i.canBegin&&i.isActive)){var j=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=j||h?m:i.to;if(this.state&&g){var y={style:u?Nu({},u,b):b};(u&&g[u]!==b||!u&&g!==b)&&this.setState(y)}this.runAnimation(ii(ii({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,l=i.from,d=i.to,u=i.duration,h=i.easing,p=i.begin,m=i.onAnimationEnd,g=i.onAnimationStart,v=HX(l,d,RX(h),u,this.changeStyle),j=function(){s.stopJSAnimation=v()};this.manager.start([g,p,j,u,m])}},{key:"runStepAnimation",value:function(i){var s=this,l=i.steps,d=i.begin,u=i.onAnimationStart,h=l[0],p=h.style,m=h.duration,g=m===void 0?0:m,v=function(b,y,T){if(T===0)return b;var E=y.duration,C=y.easing,S=C===void 0?"ease":C,A=y.style,k=y.properties,D=y.onAnimationEnd,B=T>0?l[T-1]:y,F=k||Object.keys(A);if(typeof S=="function"||S==="spring")return[].concat(I1(b),[s.runJSAnimation.bind(s,{from:B.style,to:A,duration:E,easing:S}),E]);var M=rk(F,E,S),L=ii(ii(ii({},B.style),A),{},{transition:M});return[].concat(I1(b),[L,E,D]).filter(wX)};return this.manager.start([u].concat(I1(l.reduce(v,[p,Math.max(g,d)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=yX());var s=i.begin,l=i.duration,d=i.attributeName,u=i.to,h=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,g=i.steps,v=i.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof h=="function"||typeof v=="function"||h==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var b=d?Nu({},d,u):u,y=rk(Object.keys(b),l,h);j.start([p,s,ii(ii({},b),{},{transition:y}),l,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var d=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=VX(i,GX),h=N.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!d||h===0||l<=0)return s;var m=function(v){var j=v.props,b=j.style,y=b===void 0?{}:b,T=j.className,E=N.cloneElement(v,ii(ii({},u),{},{style:ii(ii({},y),p),className:T}));return E};return h===1?m(N.Children.only(s)):ke.createElement("div",null,N.Children.map(s,function(g){return m(g)}))}}]),r}(N.PureComponent);ws.displayName="Animate";ws.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ws.propTypes={from:fr.oneOfType([fr.object,fr.string]),to:fr.oneOfType([fr.object,fr.string]),attributeName:fr.string,duration:fr.number,begin:fr.number,easing:fr.oneOfType([fr.string,fr.func]),steps:fr.arrayOf(fr.shape({duration:fr.number.isRequired,style:fr.object.isRequired,easing:fr.oneOfType([fr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fr.func]),properties:fr.arrayOf("string"),onAnimationEnd:fr.func})),children:fr.oneOfType([fr.node,fr.func]),isActive:fr.bool,canBegin:fr.bool,onAnimationEnd:fr.func,shouldReAnimate:fr.bool,onAnimationStart:fr.func,onAnimationReStart:fr.func};function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vm.apply(this,arguments)}function sQ(e,t){return dQ(e)||cQ(e,t)||lQ(e,t)||oQ()}function oQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lQ(e,t){if(e){if(typeof e=="string")return lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(e,t)}}function lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function cQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return d}}function dQ(e){if(Array.isArray(e))return e}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function dk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(a){uQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uQ(e,t,r){return t=hQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hQ(e){var t=fQ(e,"string");return dh(t)=="symbol"?t:t+""}function fQ(e,t){if(dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(dh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uk=function(t,r,a,i,s){var l=Math.min(Math.abs(a)/2,Math.abs(i)/2),d=i>=0?1:-1,u=a>=0?1:-1,h=i>=0&&a>=0||i<0&&a<0?1:0,p;if(l>0&&s instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=s[g]>l?l:s[g];p="M".concat(t,",").concat(r+d*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(t+u*m[0],",").concat(r)),p+="L ".concat(t+a-u*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(t+a,",").concat(r+d*m[1])),p+="L ".concat(t+a,",").concat(r+i-d*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(t+a-u*m[2],",").concat(r+i)),p+="L ".concat(t+u*m[3],",").concat(r+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(r+i-d*m[3])),p+="Z"}else if(l>0&&s===+s&&s>0){var j=Math.min(l,s);p="M ".concat(t,",").concat(r+d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t+u*j,",").concat(r,`
            L `).concat(t+a-u*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t+a,",").concat(r+d*j,`
            L `).concat(t+a,",").concat(r+i-d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t+a-u*j,",").concat(r+i,`
            L `).concat(t+u*j,",").concat(r+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t,",").concat(r+i-d*j," Z")}else p="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(i," h ").concat(-a," Z");return p},pQ=function(t,r){if(!t||!r)return!1;var a=t.x,i=t.y,s=r.x,l=r.y,d=r.width,u=r.height;if(Math.abs(d)>0&&Math.abs(u)>0){var h=Math.min(s,s+d),p=Math.max(s,s+d),m=Math.min(l,l+u),g=Math.max(l,l+u);return a>=h&&a<=p&&i>=m&&i<=g}return!1},mQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tS=function(t){var r=dk(dk({},mQ),t),a=N.useRef(),i=N.useState(-1),s=sQ(i,2),l=s[0],d=s[1];N.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&d(S)}catch{}},[]);var u=r.x,h=r.y,p=r.width,m=r.height,g=r.radius,v=r.className,j=r.animationEasing,b=r.animationDuration,y=r.animationBegin,T=r.isAnimationActive,E=r.isUpdateAnimationActive;if(u!==+u||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var C=or("recharts-rectangle",v);return E?ke.createElement(ws,{canBegin:l>0,from:{width:p,height:m,x:u,y:h},to:{width:p,height:m,x:u,y:h},duration:b,animationEasing:j,isActive:E},function(S){var A=S.width,k=S.height,D=S.x,B=S.y;return ke.createElement(ws,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:T,easing:j},ke.createElement("path",vm({},tr(r,!0),{className:C,d:uk(D,B,A,k,g),ref:a})))}):ke.createElement("path",vm({},tr(r,!0),{className:C,d:uk(u,h,p,m,g)}))};function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m2.apply(this,arguments)}var rS=function(t){var r=t.cx,a=t.cy,i=t.r,s=t.className,l=or("recharts-dot",s);return r===+r&&a===+a&&i===+i?ke.createElement("circle",m2({},tr(t,!1),zp(t),{className:l,cx:r,cy:a,r:i})):null};function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}var xQ=["x","y","top","left","width","height","className"];function x2(){return x2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},x2.apply(this,arguments)}function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function gQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(a){yQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yQ(e,t,r){return t=vQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=bQ(e,"string");return uh(t)=="symbol"?t:t+""}function bQ(e,t){if(uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(uh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jQ(e,t){if(e==null)return{};var r=wQ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var SQ=function(t,r,a,i,s,l){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(a)},NQ=function(t){var r=t.x,a=r===void 0?0:r,i=t.y,s=i===void 0?0:i,l=t.top,d=l===void 0?0:l,u=t.left,h=u===void 0?0:u,p=t.width,m=p===void 0?0:p,g=t.height,v=g===void 0?0:g,j=t.className,b=jQ(t,xQ),y=gQ({x:a,y:s,top:d,left:h,width:m,height:v},b);return!gt(a)||!gt(s)||!gt(m)||!gt(v)||!gt(d)||!gt(h)?null:ke.createElement("path",x2({},tr(y,!0),{className:or("recharts-cross",j),d:SQ(a,s,m,v,d,h)}))},D1,fk;function TQ(){if(fk)return D1;fk=1;var e=SD(),t=e(Object.getPrototypeOf,Object);return D1=t,D1}var R1,pk;function CQ(){if(pk)return R1;pk=1;var e=Ts(),t=TQ(),r=Cs(),a="[object Object]",i=Function.prototype,s=Object.prototype,l=i.toString,d=s.hasOwnProperty,u=l.call(Object);function h(p){if(!r(p)||e(p)!=a)return!1;var m=t(p);if(m===null)return!0;var g=d.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==u}return R1=h,R1}var AQ=CQ();const EQ=Cr(AQ);var P1,mk;function OQ(){if(mk)return P1;mk=1;var e=Ts(),t=Cs(),r="[object Boolean]";function a(i){return i===!0||i===!1||t(i)&&e(i)==r}return P1=a,P1}var _Q=OQ();const kQ=Cr(_Q);function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bm.apply(this,arguments)}function IQ(e,t){return MQ(e)||PQ(e,t)||RQ(e,t)||DQ()}function DQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RQ(e,t){if(e){if(typeof e=="string")return xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(e,t)}}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function PQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return d}}function MQ(e){if(Array.isArray(e))return e}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(a){BQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BQ(e,t,r){return t=FQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FQ(e){var t=LQ(e,"string");return hh(t)=="symbol"?t:t+""}function LQ(e,t){if(hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(hh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vk=function(t,r,a,i,s){var l=a-i,d;return d="M ".concat(t,",").concat(r),d+="L ".concat(t+a,",").concat(r),d+="L ".concat(t+a-l/2,",").concat(r+s),d+="L ".concat(t+a-l/2-i,",").concat(r+s),d+="L ".concat(t,",").concat(r," Z"),d},$Q={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zQ=function(t){var r=yk(yk({},$Q),t),a=N.useRef(),i=N.useState(-1),s=IQ(i,2),l=s[0],d=s[1];N.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var C=a.current.getTotalLength();C&&d(C)}catch{}},[]);var u=r.x,h=r.y,p=r.upperWidth,m=r.lowerWidth,g=r.height,v=r.className,j=r.animationEasing,b=r.animationDuration,y=r.animationBegin,T=r.isUpdateAnimationActive;if(u!==+u||h!==+h||p!==+p||m!==+m||g!==+g||p===0&&m===0||g===0)return null;var E=or("recharts-trapezoid",v);return T?ke.createElement(ws,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:u,y:h},to:{upperWidth:p,lowerWidth:m,height:g,x:u,y:h},duration:b,animationEasing:j,isActive:T},function(C){var S=C.upperWidth,A=C.lowerWidth,k=C.height,D=C.x,B=C.y;return ke.createElement(ws,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:j},ke.createElement("path",bm({},tr(r,!0),{className:E,d:vk(D,B,S,A,k),ref:a})))}):ke.createElement("g",null,ke.createElement("path",bm({},tr(r,!0),{className:E,d:vk(u,h,p,m,g)})))},UQ=["option","shapeType","propTransformer","activeClassName","isActive"];function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function qQ(e,t){if(e==null)return{};var r=WQ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function WQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(a){HQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function HQ(e,t,r){return t=GQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=VQ(e,"string");return fh(t)=="symbol"?t:t+""}function VQ(e,t){if(fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(fh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YQ(e,t){return jm(jm({},t),e)}function KQ(e,t){return e==="symbols"}function jk(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ke.createElement(tS,r);case"trapezoid":return ke.createElement(zQ,r);case"sector":return ke.createElement(XR,r);case"symbols":if(KQ(t))return ke.createElement(bw,r);break;default:return null}}function XQ(e){return N.isValidElement(e)?e.props:e}function QQ(e){var t=e.option,r=e.shapeType,a=e.propTransformer,i=a===void 0?YQ:a,s=e.activeClassName,l=s===void 0?"recharts-active-shape":s,d=e.isActive,u=qQ(e,UQ),h;if(N.isValidElement(t))h=N.cloneElement(t,jm(jm({},u),XQ(t)));else if(Gt(t))h=t(u);else if(EQ(t)&&!kQ(t)){var p=i(t,u);h=ke.createElement(jk,{shapeType:r,elementProps:p})}else{var m=u;h=ke.createElement(jk,{shapeType:r,elementProps:m})}return d?ke.createElement(Kr,{className:l},h):h}function N0(e,t){return t!=null&&"trapezoids"in e.props}function T0(e,t){return t!=null&&"sectors"in e.props}function ph(e,t){return t!=null&&"points"in e.props}function ZQ(e,t){var r,a,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return i&&s}function JQ(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function eZ(e,t){var r=e.x===t.x,a=e.y===t.y,i=e.z===t.z;return r&&a&&i}function tZ(e,t){var r;return N0(e,t)?r=ZQ:T0(e,t)?r=JQ:ph(e,t)&&(r=eZ),r}function rZ(e,t){var r;return N0(e,t)?r="trapezoids":T0(e,t)?r="sectors":ph(e,t)&&(r="points"),r}function nZ(e,t){if(N0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(T0(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return ph(e,t)?t.payload:{}}function aZ(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,i=rZ(r,t),s=nZ(r,t),l=a.filter(function(u,h){var p=j0(s,u),m=r.props[i].filter(function(j){var b=tZ(r,t);return b(j,t)}),g=r.props[i].indexOf(m[m.length-1]),v=h===g;return p&&v}),d=a.indexOf(l[l.length-1]);return d}var M1,wk;function iZ(){if(wk)return M1;wk=1;var e=Math.ceil,t=Math.max;function r(a,i,s,l){for(var d=-1,u=t(e((i-a)/(s||1)),0),h=Array(u);u--;)h[l?u:++d]=a,a+=s;return h}return M1=r,M1}var B1,Sk;function a5(){if(Sk)return B1;Sk=1;var e=LD(),t=1/0,r=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return B1=a,B1}var F1,Nk;function sZ(){if(Nk)return F1;Nk=1;var e=iZ(),t=h0(),r=a5();function a(i){return function(s,l,d){return d&&typeof d!="number"&&t(s,l,d)&&(l=d=void 0),s=r(s),l===void 0?(l=s,s=0):l=r(l),d=d===void 0?s<l?1:-1:r(d),e(s,l,d,i)}}return F1=a,F1}var L1,Tk;function oZ(){if(Tk)return L1;Tk=1;var e=sZ(),t=e();return L1=t,L1}var lZ=oZ();const wm=Cr(lZ);function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(e)}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Ak(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(a){i5(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function i5(e,t,r){return t=cZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cZ(e){var t=dZ(e,"string");return mh(t)=="symbol"?t:t+""}function dZ(e,t){if(mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(mh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uZ=["Webkit","Moz","O","ms"],hZ=function(t,r){var a=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=uZ.reduce(function(s,l){return Ak(Ak({},s),{},i5({},l+a,r))},{});return i[t]=r,i};function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sm.apply(this,arguments)}function Ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function $1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(r),!0).forEach(function(a){Ta(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ek(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ok(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,o5(a.key),a)}}function pZ(e,t,r){return t&&Ok(e.prototype,t),r&&Ok(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mZ(e,t,r){return t=Nm(t),xZ(e,s5()?Reflect.construct(t,r||[],Nm(e).constructor):t.apply(e,r))}function xZ(e,t){if(t&&(Rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gZ(e)}function gZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s5=function(){return!!e})()}function Nm(e){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nm(e)}function yZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g2(e,t)}function g2(e,t){return g2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},g2(e,t)}function Ta(e,t,r){return t=o5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o5(e){var t=vZ(e,"string");return Rc(t)=="symbol"?t:t+""}function vZ(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Rc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bZ=function(t){var r=t.data,a=t.startIndex,i=t.endIndex,s=t.x,l=t.width,d=t.travellerWidth;if(!r||!r.length)return{};var u=r.length,h=Au().domain(wm(0,u)).range([s,s+l-d]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(a),endX:h(i),scale:h,scaleValues:p}},_k=function(t){return t.changedTouches&&!!t.changedTouches.length},Pc=function(e){function t(r){var a;return fZ(this,t),a=mZ(this,t,[r]),Ta(a,"handleDrag",function(i){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(i):a.state.isSlideMoving&&a.handleSlideDrag(i)}),Ta(a,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&a.handleDrag(i.changedTouches[0])}),Ta(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=a.props,s=i.endIndex,l=i.onDragEnd,d=i.startIndex;l==null||l({endIndex:s,startIndex:d})}),a.detachDragEndListener()}),Ta(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Ta(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Ta(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Ta(a,"handleSlideDragStart",function(i){var s=_k(i)?i.changedTouches[0]:i;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return yZ(t,e),pZ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var i=a.startX,s=a.endX,l=this.state.scaleValues,d=this.props,u=d.gap,h=d.data,p=h.length-1,m=Math.min(i,s),g=Math.max(i,s),v=t.getIndexInRange(l,m),j=t.getIndexInRange(l,g);return{startIndex:v-v%u,endIndex:j===p?p:j-j%u}}},{key:"getTextOfTick",value:function(a){var i=this.props,s=i.data,l=i.tickFormatter,d=i.dataKey,u=Ia(s[a],d,a);return Gt(l)?l(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var i=this.state,s=i.slideMoveStartX,l=i.startX,d=i.endX,u=this.props,h=u.x,p=u.width,m=u.travellerWidth,g=u.startIndex,v=u.endIndex,j=u.onChange,b=a.pageX-s;b>0?b=Math.min(b,h+p-m-d,h+p-m-l):b<0&&(b=Math.max(b,h-l,h-d));var y=this.getIndex({startX:l+b,endX:d+b});(y.startIndex!==g||y.endIndex!==v)&&j&&j(y),this.setState({startX:l+b,endX:d+b,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,i){var s=_k(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var i=this.state,s=i.brushMoveStartX,l=i.movingTravellerId,d=i.endX,u=i.startX,h=this.state[l],p=this.props,m=p.x,g=p.width,v=p.travellerWidth,j=p.onChange,b=p.gap,y=p.data,T={startX:this.state.startX,endX:this.state.endX},E=a.pageX-s;E>0?E=Math.min(E,m+g-v-h):E<0&&(E=Math.max(E,m-h)),T[l]=h+E;var C=this.getIndex(T),S=C.startIndex,A=C.endIndex,k=function(){var B=y.length-1;return l==="startX"&&(d>u?S%b===0:A%b===0)||d<u&&A===B||l==="endX"&&(d>u?A%b===0:S%b===0)||d>u&&A===B};this.setState(Ta(Ta({},l,h+E),"brushMoveStartX",a.pageX),function(){j&&k()&&j(C)})}},{key:"handleTravellerMoveKeyboard",value:function(a,i){var s=this,l=this.state,d=l.scaleValues,u=l.startX,h=l.endX,p=this.state[i],m=d.indexOf(p);if(m!==-1){var g=m+a;if(!(g===-1||g>=d.length)){var v=d[g];i==="startX"&&v>=h||i==="endX"&&v<=u||this.setState(Ta({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,i=a.x,s=a.y,l=a.width,d=a.height,u=a.fill,h=a.stroke;return ke.createElement("rect",{stroke:h,fill:u,x:i,y:s,width:l,height:d})}},{key:"renderPanorama",value:function(){var a=this.props,i=a.x,s=a.y,l=a.width,d=a.height,u=a.data,h=a.children,p=a.padding,m=N.Children.only(h);return m?ke.cloneElement(m,{x:i,y:s,width:l,height:d,margin:p,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,i){var s,l,d=this,u=this.props,h=u.y,p=u.travellerWidth,m=u.height,g=u.traveller,v=u.ariaLabel,j=u.data,b=u.startIndex,y=u.endIndex,T=Math.max(a,this.props.x),E=$1($1({},tr(this.props,!1)),{},{x:T,y:h,width:p,height:m}),C=v||"Min value: ".concat((s=j[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((l=j[y])===null||l===void 0?void 0:l.name);return ke.createElement(Kr,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),d.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){d.setState({isTravellerFocused:!0})},onBlur:function(){d.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,E))}},{key:"renderSlide",value:function(a,i){var s=this.props,l=s.y,d=s.height,u=s.stroke,h=s.travellerWidth,p=Math.min(a,i)+h,m=Math.max(Math.abs(i-a)-h,0);return ke.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:p,y:l,width:m,height:d})}},{key:"renderText",value:function(){var a=this.props,i=a.startIndex,s=a.endIndex,l=a.y,d=a.height,u=a.travellerWidth,h=a.stroke,p=this.state,m=p.startX,g=p.endX,v=5,j={pointerEvents:"none",fill:h};return ke.createElement(Kr,{className:"recharts-brush-texts"},ke.createElement(Jp,Sm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-v,y:l+d/2},j),this.getTextOfTick(i)),ke.createElement(Jp,Sm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+u+v,y:l+d/2},j),this.getTextOfTick(s)))}},{key:"render",value:function(){var a=this.props,i=a.data,s=a.className,l=a.children,d=a.x,u=a.y,h=a.width,p=a.height,m=a.alwaysShowText,g=this.state,v=g.startX,j=g.endX,b=g.isTextActive,y=g.isSlideMoving,T=g.isTravellerMoving,E=g.isTravellerFocused;if(!i||!i.length||!gt(d)||!gt(u)||!gt(h)||!gt(p)||h<=0||p<=0)return null;var C=or("recharts-brush",s),S=ke.Children.count(l)===1,A=hZ("userSelect","none");return ke.createElement(Kr,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(b||y||T||E||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var i=a.x,s=a.y,l=a.width,d=a.height,u=a.stroke,h=Math.floor(s+d/2)-1;return ke.createElement(ke.Fragment,null,ke.createElement("rect",{x:i,y:s,width:l,height:d,fill:u,stroke:"none"}),ke.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),ke.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,i){var s;return ke.isValidElement(a)?s=ke.cloneElement(a,i):Gt(a)?s=a(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(a,i){var s=a.data,l=a.width,d=a.x,u=a.travellerWidth,h=a.updateId,p=a.startIndex,m=a.endIndex;if(s!==i.prevData||h!==i.prevUpdateId)return $1({prevData:s,prevTravellerWidth:u,prevUpdateId:h,prevX:d,prevWidth:l},s&&s.length?bZ({data:s,width:l,x:d,travellerWidth:u,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||d!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([d,d+l-u]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:h,prevX:d,prevWidth:l,startX:i.scale(a.startIndex),endX:i.scale(a.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(a,i){for(var s=a.length,l=0,d=s-1;d-l>1;){var u=Math.floor((l+d)/2);a[u]>i?d=u:l=u}return i>=a[d]?d:l}}])}(N.PureComponent);Ta(Pc,"displayName","Brush");Ta(Pc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var z1,kk;function jZ(){if(kk)return z1;kk=1;var e=Aw();function t(r,a){var i;return e(r,function(s,l,d){return i=a(s,l,d),!i}),!!i}return z1=t,z1}var U1,Ik;function wZ(){if(Ik)return U1;Ik=1;var e=xD(),t=po(),r=jZ(),a=xa(),i=h0();function s(l,d,u){var h=a(l)?e:r;return u&&i(l,d,u)&&(d=void 0),h(l,t(d,3))}return U1=s,U1}var SZ=wZ();const NZ=Cr(SZ);var Bi=function(t,r){var a=t.alwaysShow,i=t.ifOverflow;return a&&(i="extendDomain"),i===r},q1,Dk;function TZ(){if(Dk)return q1;Dk=1;var e=RD();function t(r,a,i){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[a]=i}return q1=t,q1}var W1,Rk;function CZ(){if(Rk)return W1;Rk=1;var e=TZ(),t=ID(),r=po();function a(i,s){var l={};return s=r(s,3),t(i,function(d,u,h){e(l,u,s(d,u,h))}),l}return W1=a,W1}var AZ=CZ();const EZ=Cr(AZ);var H1,Pk;function OZ(){if(Pk)return H1;Pk=1;function e(t,r){for(var a=-1,i=t==null?0:t.length;++a<i;)if(!r(t[a],a,t))return!1;return!0}return H1=e,H1}var G1,Mk;function _Z(){if(Mk)return G1;Mk=1;var e=Aw();function t(r,a){var i=!0;return e(r,function(s,l,d){return i=!!a(s,l,d),i}),i}return G1=t,G1}var V1,Bk;function kZ(){if(Bk)return V1;Bk=1;var e=OZ(),t=_Z(),r=po(),a=xa(),i=h0();function s(l,d,u){var h=a(l)?e:t;return u&&i(l,d,u)&&(d=void 0),h(l,r(d,3))}return V1=s,V1}var IZ=kZ();const l5=Cr(IZ);var DZ=["x","y"];function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}function y2(){return y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},y2.apply(this,arguments)}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(a){RZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function RZ(e,t,r){return t=PZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=MZ(e,"string");return xh(t)=="symbol"?t:t+""}function MZ(e,t){if(xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(xh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BZ(e,t){if(e==null)return{};var r=FZ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function FZ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function LZ(e,t){var r=e.x,a=e.y,i=BZ(e,DZ),s="".concat(r),l=parseInt(s,10),d="".concat(a),u=parseInt(d,10),h="".concat(t.height||i.height),p=parseInt(h,10),m="".concat(t.width||i.width),g=parseInt(m,10);return gu(gu(gu(gu(gu({},t),i),l?{x:l}:{}),u?{y:u}:{}),{},{height:p,width:g,name:t.name,radius:t.radius})}function Lk(e){return ke.createElement(QQ,y2({shapeType:"rectangle",propTransformer:LZ,activeClassName:"recharts-active-bar"},e))}var $Z=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,i){if(typeof t=="number")return t;var s=typeof a=="number";return s?t(a,i):(s||tl(),r)}},zZ=["value","background"],c5;function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function UZ(e,t){if(e==null)return{};var r=qZ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qZ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tm.apply(this,arguments)}function $k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(r),!0).forEach(function(a){ro(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function WZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zk(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,u5(a.key),a)}}function HZ(e,t,r){return t&&zk(e.prototype,t),r&&zk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GZ(e,t,r){return t=Cm(t),VZ(e,d5()?Reflect.construct(t,r||[],Cm(e).constructor):t.apply(e,r))}function VZ(e,t){if(t&&(Mc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YZ(e)}function YZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d5=function(){return!!e})()}function Cm(e){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(e)}function KZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v2(e,t)}function v2(e,t){return v2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},v2(e,t)}function ro(e,t,r){return t=u5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u5(e){var t=XZ(e,"string");return Mc(t)=="symbol"?t:t+""}function XZ(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Mc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fl=function(e){function t(){var r;WZ(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=GZ(this,t,[].concat(i)),ro(r,"state",{isAnimationFinished:!1}),ro(r,"id",Ph("recharts-bar-")),ro(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),ro(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return KZ(t,e),HZ(t,[{key:"renderRectanglesStatically",value:function(a){var i=this,s=this.props,l=s.shape,d=s.dataKey,u=s.activeIndex,h=s.activeBar,p=tr(this.props,!1);return a&&a.map(function(m,g){var v=g===u,j=v?h:l,b=en(en(en({},p),m),{},{isActive:v,option:j,index:g,dataKey:d,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ke.createElement(Kr,Tm({className:"recharts-bar-rectangle"},Up(i.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),ke.createElement(Lk,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,i=this.props,s=i.data,l=i.layout,d=i.isAnimationActive,u=i.animationBegin,h=i.animationDuration,p=i.animationEasing,m=i.animationId,g=this.state.prevData;return ke.createElement(ws,{begin:u,duration:h,isActive:d,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,b=s.map(function(y,T){var E=g&&g[T];if(E){var C=hi(E.x,y.x),S=hi(E.y,y.y),A=hi(E.width,y.width),k=hi(E.height,y.height);return en(en({},y),{},{x:C(j),y:S(j),width:A(j),height:k(j)})}if(l==="horizontal"){var D=hi(0,y.height),B=D(j);return en(en({},y),{},{y:y.y+y.height-B,height:B})}var F=hi(0,y.width),M=F(j);return en(en({},y),{},{width:M})});return ke.createElement(Kr,null,a.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var a=this.props,i=a.data,s=a.isAnimationActive,l=this.state.prevData;return s&&i&&i.length&&(!l||!j0(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var a=this,i=this.props,s=i.data,l=i.dataKey,d=i.activeIndex,u=tr(this.props.background,!1);return s.map(function(h,p){h.value;var m=h.background,g=UZ(h,zZ);if(!m)return null;var v=en(en(en(en(en({},g),{},{fill:"#eee"},m),u),Up(a.props,h,p)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return ke.createElement(Lk,Tm({key:"background-bar-".concat(p),option:a.props.background,isActive:p===d},v))})}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.data,d=s.xAxis,u=s.yAxis,h=s.layout,p=s.children,m=Qa(p,zh);if(!m)return null;var g=h==="vertical"?l[0].height/2:l[0].width/2,v=function(y,T){var E=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:E,errorVal:Ia(y,T)}},j={clipPath:a?"url(#clipPath-".concat(i,")"):null};return ke.createElement(Kr,j,m.map(function(b){return ke.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:l,xAxis:d,yAxis:u,layout:h,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var a=this.props,i=a.hide,s=a.data,l=a.className,d=a.xAxis,u=a.yAxis,h=a.left,p=a.top,m=a.width,g=a.height,v=a.isAnimationActive,j=a.background,b=a.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,T=or("recharts-bar",l),E=d&&d.allowDataOverflow,C=u&&u.allowDataOverflow,S=E||C,A=Jt(b)?this.id:b;return ke.createElement(Kr,{className:T},E||C?ke.createElement("defs",null,ke.createElement("clipPath",{id:"clipPath-".concat(A)},ke.createElement("rect",{x:E?h:h-m/2,y:C?p:p-g/2,width:E?m:m*2,height:C?g:g*2}))):null,ke.createElement(Kr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(A,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,A),(!v||y)&&so.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:i.curData}:a.data!==i.curData?{curData:a.data}:null}}])}(N.PureComponent);c5=fl;ro(fl,"displayName","Bar");ro(fl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!rd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ro(fl,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,i=e.bandSize,s=e.xAxis,l=e.yAxis,d=e.xAxisTicks,u=e.yAxisTicks,h=e.stackedData,p=e.dataStartIndex,m=e.displayedData,g=e.offset,v=mY(a,r);if(!v)return null;var j=t.layout,b=r.type.defaultProps,y=b!==void 0?en(en({},b),r.props):r.props,T=y.dataKey,E=y.children,C=y.minPointSize,S=j==="horizontal"?l:s,A=h?S.scale.domain():null,k=SY({numericAxis:S}),D=Qa(E,zD),B=m.map(function(F,M){var L,O,W,P,I,R;h?L=xY(h[p+M],A):(L=Ia(F,T),Array.isArray(L)||(L=[k,L]));var H=$Z(C,c5.defaultProps.minPointSize)(L[1],M);if(j==="horizontal"){var V,he=[l.scale(L[0]),l.scale(L[1])],U=he[0],Y=he[1];O=N4({axis:s,ticks:d,bandSize:i,offset:v.offset,entry:F,index:M}),W=(V=Y??U)!==null&&V!==void 0?V:void 0,P=v.size;var z=U-Y;if(I=Number.isNaN(z)?0:z,R={x:O,y:l.y,width:P,height:l.height},Math.abs(H)>0&&Math.abs(I)<Math.abs(H)){var ee=mi(I||H)*(Math.abs(H)-Math.abs(I));W-=ee,I+=ee}}else{var q=[s.scale(L[0]),s.scale(L[1])],Q=q[0],ae=q[1];if(O=Q,W=N4({axis:l,ticks:u,bandSize:i,offset:v.offset,entry:F,index:M}),P=ae-Q,I=v.size,R={x:s.x,y:W,width:s.width,height:I},Math.abs(H)>0&&Math.abs(P)<Math.abs(H)){var de=mi(P||H)*(Math.abs(H)-Math.abs(P));P+=de}}return en(en(en({},F),{},{x:O,y:W,width:P,height:I,value:h?L:L[1],payload:F,background:R},D&&D[M]&&D[M].props),{},{tooltipPayload:[VR(r,F)],tooltipPosition:{x:O+P/2,y:W+I/2}})});return en({data:B,layout:j},g)});function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(e)}function QZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uk(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,h5(a.key),a)}}function ZZ(e,t,r){return t&&Uk(e.prototype,t),r&&Uk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(a){C0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function C0(e,t,r){return t=h5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h5(e){var t=JZ(e,"string");return gh(t)=="symbol"?t:t+""}function JZ(e,t){if(gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(gh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f5=function(t,r,a,i,s){var l=t.width,d=t.height,u=t.layout,h=t.children,p=Object.keys(r),m={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:d-a.bottom,bottomMirror:d-a.bottom},g=!!Aa(h,fl);return p.reduce(function(v,j){var b=r[j],y=b.orientation,T=b.domain,E=b.padding,C=E===void 0?{}:E,S=b.mirror,A=b.reversed,k="".concat(y).concat(S?"Mirror":""),D,B,F,M,L;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var O=T[1]-T[0],W=1/0,P=b.categoricalDomain.sort(J$);if(P.forEach(function(q,Q){Q>0&&(W=Math.min((q||0)-(P[Q-1]||0),W))}),Number.isFinite(W)){var I=W/O,R=b.layout==="vertical"?a.height:a.width;if(b.padding==="gap"&&(D=I*R/2),b.padding==="no-gap"){var H=Jo(t.barCategoryGap,I*R),V=I*R/2;D=V-H-(V-H)/R*H}}}i==="xAxis"?B=[a.left+(C.left||0)+(D||0),a.left+a.width-(C.right||0)-(D||0)]:i==="yAxis"?B=u==="horizontal"?[a.top+a.height-(C.bottom||0),a.top+(C.top||0)]:[a.top+(C.top||0)+(D||0),a.top+a.height-(C.bottom||0)-(D||0)]:B=b.range,A&&(B=[B[1],B[0]]);var he=fY(b,s,g),U=he.scale,Y=he.realScaleType;U.domain(T).range(B),pY(U);var z=wY(U,di(di({},b),{},{realScaleType:Y}));i==="xAxis"?(L=y==="top"&&!S||y==="bottom"&&S,F=a.left,M=m[k]-L*b.height):i==="yAxis"&&(L=y==="left"&&!S||y==="right"&&S,F=m[k]-L*b.width,M=a.top);var ee=di(di(di({},b),z),{},{realScaleType:Y,x:F,y:M,scale:U,width:i==="xAxis"?a.width:b.width,height:i==="yAxis"?a.height:b.height});return ee.bandSize=fm(ee,z),!b.hide&&i==="xAxis"?m[k]+=(L?-1:1)*ee.height:b.hide||(m[k]+=(L?-1:1)*ee.width),di(di({},v),{},C0({},j,ee))},{})},p5=function(t,r){var a=t.x,i=t.y,s=r.x,l=r.y;return{x:Math.min(a,s),y:Math.min(i,l),width:Math.abs(s-a),height:Math.abs(l-i)}},eJ=function(t){var r=t.x1,a=t.y1,i=t.x2,s=t.y2;return p5({x:r,y:a},{x:i,y:s})},m5=function(){function e(t){QZ(this,e),this.scale=t}return ZZ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,s=a.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var d=this.bandwidth?this.bandwidth():0;return this.scale(r)+d}default:return this.scale(r)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),i=a[0],s=a[a.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();C0(m5,"EPS",1e-4);var nS=function(t){var r=Object.keys(t).reduce(function(a,i){return di(di({},a),{},C0({},i,m5.create(t[i])))},{});return di(di({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.bandAware,d=s.position;return EZ(i,function(u,h){return r[h].apply(u,{bandAware:l,position:d})})},isInRange:function(i){return l5(i,function(s,l){return r[l].isInRange(s)})}})};function tJ(e){return(e%180+180)%180}var rJ=function(t){var r=t.width,a=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=tJ(i),l=s*Math.PI/180,d=Math.atan(a/r),u=l>d&&l<Math.PI-d?a/Math.sin(l):r/Math.cos(l);return Math.abs(u)},Y1,Wk;function nJ(){if(Wk)return Y1;Wk=1;var e=po(),t=Mh(),r=d0();function a(i){return function(s,l,d){var u=Object(s);if(!t(s)){var h=e(l,3);s=r(s),l=function(m){return h(u[m],m,u)}}var p=i(s,l,d);return p>-1?u[h?s[p]:p]:void 0}}return Y1=a,Y1}var K1,Hk;function aJ(){if(Hk)return K1;Hk=1;var e=a5();function t(r){var a=e(r),i=a%1;return a===a?i?a-i:a:0}return K1=t,K1}var X1,Gk;function iJ(){if(Gk)return X1;Gk=1;var e=AD(),t=po(),r=aJ(),a=Math.max;function i(s,l,d){var u=s==null?0:s.length;if(!u)return-1;var h=d==null?0:r(d);return h<0&&(h=a(u+h,0)),e(s,t(l,3),h)}return X1=i,X1}var Q1,Vk;function sJ(){if(Vk)return Q1;Vk=1;var e=nJ(),t=iJ(),r=e(t);return Q1=r,Q1}var oJ=sJ();const lJ=Cr(oJ);var cJ=q3();const dJ=Cr(cJ);var uJ=dJ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),aS=N.createContext(void 0),iS=N.createContext(void 0),x5=N.createContext(void 0),g5=N.createContext({}),y5=N.createContext(void 0),v5=N.createContext(0),b5=N.createContext(0),Yk=function(t){var r=t.state,a=r.xAxisMap,i=r.yAxisMap,s=r.offset,l=t.clipPathId,d=t.children,u=t.width,h=t.height,p=uJ(s);return ke.createElement(aS.Provider,{value:a},ke.createElement(iS.Provider,{value:i},ke.createElement(g5.Provider,{value:s},ke.createElement(x5.Provider,{value:p},ke.createElement(y5.Provider,{value:l},ke.createElement(v5.Provider,{value:h},ke.createElement(b5.Provider,{value:u},d)))))))},hJ=function(){return N.useContext(y5)},j5=function(t){var r=N.useContext(aS);r==null&&tl();var a=r[t];return a==null&&tl(),a},fJ=function(){var t=N.useContext(aS);return eo(t)},pJ=function(){var t=N.useContext(iS),r=lJ(t,function(a){return l5(a.domain,Number.isFinite)});return r||eo(t)},w5=function(t){var r=N.useContext(iS);r==null&&tl();var a=r[t];return a==null&&tl(),a},mJ=function(){var t=N.useContext(x5);return t},xJ=function(){return N.useContext(g5)},sS=function(){return N.useContext(b5)},oS=function(){return N.useContext(v5)};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function gJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yJ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,N5(a.key),a)}}function vJ(e,t,r){return t&&yJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bJ(e,t,r){return t=Am(t),jJ(e,S5()?Reflect.construct(t,r||[],Am(e).constructor):t.apply(e,r))}function jJ(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wJ(e)}function wJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S5=function(){return!!e})()}function Am(e){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(e)}function SJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b2(e,t)}function b2(e,t){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},b2(e,t)}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(a){lS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lS(e,t,r){return t=N5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N5(e){var t=NJ(e,"string");return Bc(t)=="symbol"?t:t+""}function NJ(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Bc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function TJ(e,t){return OJ(e)||EJ(e,t)||AJ(e,t)||CJ()}function CJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AJ(e,t){if(e){if(typeof e=="string")return Qk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qk(e,t)}}function Qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function EJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return d}}function OJ(e){if(Array.isArray(e))return e}function j2(){return j2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},j2.apply(this,arguments)}var _J=function(t,r){var a;return ke.isValidElement(t)?a=ke.cloneElement(t,r):Gt(t)?a=t(r):a=ke.createElement("line",j2({},r,{className:"recharts-reference-line-line"})),a},kJ=function(t,r,a,i,s,l,d,u,h){var p=s.x,m=s.y,g=s.width,v=s.height;if(a){var j=h.y,b=t.y.apply(j,{position:l});if(Bi(h,"discard")&&!t.y.isInRange(b))return null;var y=[{x:p+g,y:b},{x:p,y:b}];return u==="left"?y.reverse():y}if(r){var T=h.x,E=t.x.apply(T,{position:l});if(Bi(h,"discard")&&!t.x.isInRange(E))return null;var C=[{x:E,y:m+v},{x:E,y:m}];return d==="top"?C.reverse():C}if(i){var S=h.segment,A=S.map(function(k){return t.apply(k,{position:l})});return Bi(h,"discard")&&NZ(A,function(k){return!t.isInRange(k)})?null:A}return null};function IJ(e){var t=e.x,r=e.y,a=e.segment,i=e.xAxisId,s=e.yAxisId,l=e.shape,d=e.className,u=e.alwaysShow,h=hJ(),p=j5(i),m=w5(s),g=mJ();if(!h||!g)return null;hs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=nS({x:p.scale,y:m.scale}),j=hn(t),b=hn(r),y=a&&a.length===2,T=kJ(v,j,b,y,g,e.position,p.orientation,m.orientation,e);if(!T)return null;var E=TJ(T,2),C=E[0],S=C.x,A=C.y,k=E[1],D=k.x,B=k.y,F=Bi(e,"hidden")?"url(#".concat(h,")"):void 0,M=Xk(Xk({clipPath:F},tr(e,!0)),{},{x1:S,y1:A,x2:D,y2:B});return ke.createElement(Kr,{className:or("recharts-reference-line",d)},_J(l,M),$n.renderCallByParent(e,eJ({x1:S,y1:A,x2:D,y2:B})))}var cS=function(e){function t(){return gJ(this,t),bJ(this,t,arguments)}return SJ(t,e),vJ(t,[{key:"render",value:function(){return ke.createElement(IJ,this.props)}}])}(ke.Component);lS(cS,"displayName","ReferenceLine");lS(cS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function w2(){return w2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},w2.apply(this,arguments)}function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function Zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Jk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(r),!0).forEach(function(a){A0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function DJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RJ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,C5(a.key),a)}}function PJ(e,t,r){return t&&RJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MJ(e,t,r){return t=Em(t),BJ(e,T5()?Reflect.construct(t,r||[],Em(e).constructor):t.apply(e,r))}function BJ(e,t){if(t&&(Fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FJ(e)}function FJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T5=function(){return!!e})()}function Em(e){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(e)}function LJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S2(e,t)}function S2(e,t){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},S2(e,t)}function A0(e,t,r){return t=C5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C5(e){var t=$J(e,"string");return Fc(t)=="symbol"?t:t+""}function $J(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Fc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zJ=function(t){var r=t.x,a=t.y,i=t.xAxis,s=t.yAxis,l=nS({x:i.scale,y:s.scale}),d=l.apply({x:r,y:a},{bandAware:!0});return Bi(t,"discard")&&!l.isInRange(d)?null:d},E0=function(e){function t(){return DJ(this,t),MJ(this,t,arguments)}return LJ(t,e),PJ(t,[{key:"render",value:function(){var a=this.props,i=a.x,s=a.y,l=a.r,d=a.alwaysShow,u=a.clipPathId,h=hn(i),p=hn(s);if(hs(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=zJ(this.props);if(!m)return null;var g=m.x,v=m.y,j=this.props,b=j.shape,y=j.className,T=Bi(this.props,"hidden")?"url(#".concat(u,")"):void 0,E=Jk(Jk({clipPath:T},tr(this.props,!0)),{},{cx:g,cy:v});return ke.createElement(Kr,{className:or("recharts-reference-dot",y)},t.renderDot(b,E),$n.renderCallByParent(this.props,{x:g-l,y:v-l,width:2*l,height:2*l}))}}])}(ke.Component);A0(E0,"displayName","ReferenceDot");A0(E0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});A0(E0,"renderDot",function(e,t){var r;return ke.isValidElement(e)?r=ke.cloneElement(e,t):Gt(e)?r=e(t):r=ke.createElement(rS,w2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},N2.apply(this,arguments)}function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function tI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(a){O0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qJ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,E5(a.key),a)}}function WJ(e,t,r){return t&&qJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HJ(e,t,r){return t=Om(t),GJ(e,A5()?Reflect.construct(t,r||[],Om(e).constructor):t.apply(e,r))}function GJ(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VJ(e)}function VJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A5=function(){return!!e})()}function Om(e){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(e)}function YJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T2(e,t)}function T2(e,t){return T2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},T2(e,t)}function O0(e,t,r){return t=E5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E5(e){var t=KJ(e,"string");return Lc(t)=="symbol"?t:t+""}function KJ(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Lc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XJ=function(t,r,a,i,s){var l=s.x1,d=s.x2,u=s.y1,h=s.y2,p=s.xAxis,m=s.yAxis;if(!p||!m)return null;var g=nS({x:p.scale,y:m.scale}),v={x:t?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:a?g.y.apply(u,{position:"start"}):g.y.rangeMin},j={x:r?g.x.apply(d,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(h,{position:"end"}):g.y.rangeMax};return Bi(s,"discard")&&(!g.isInRange(v)||!g.isInRange(j))?null:p5(v,j)},_0=function(e){function t(){return UJ(this,t),HJ(this,t,arguments)}return YJ(t,e),WJ(t,[{key:"render",value:function(){var a=this.props,i=a.x1,s=a.x2,l=a.y1,d=a.y2,u=a.className,h=a.alwaysShow,p=a.clipPathId;hs(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=hn(i),g=hn(s),v=hn(l),j=hn(d),b=this.props.shape;if(!m&&!g&&!v&&!j&&!b)return null;var y=XJ(m,g,v,j,this.props);if(!y&&!b)return null;var T=Bi(this.props,"hidden")?"url(#".concat(p,")"):void 0;return ke.createElement(Kr,{className:or("recharts-reference-area",u)},t.renderRect(b,tI(tI({clipPath:T},tr(this.props,!0)),y)),$n.renderCallByParent(this.props,y))}}])}(ke.Component);O0(_0,"displayName","ReferenceArea");O0(_0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});O0(_0,"renderRect",function(e,t){var r;return ke.isValidElement(e)?r=ke.cloneElement(e,t):Gt(e)?r=e(t):r=ke.createElement(tS,N2({},t,{className:"recharts-reference-area-rect"})),r});function O5(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],i=0;i<e.length;i+=t)a.push(e[i]);return a}function QJ(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return rJ(a,r)}function ZJ(e,t,r){var a=r==="width",i=e.x,s=e.y,l=e.width,d=e.height;return t===1?{start:a?i:s,end:a?i+l:s+d}:{start:a?i+l:s+d,end:a?i:s}}function _m(e,t,r,a,i){if(e*t<e*a||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-a)>=0&&e*(t+e*s/2-i)<=0}function JJ(e,t){return O5(e,t+1)}function eee(e,t,r,a,i){for(var s=(a||[]).slice(),l=t.start,d=t.end,u=0,h=1,p=l,m=function(){var j=a==null?void 0:a[u];if(j===void 0)return{v:O5(a,h)};var b=u,y,T=function(){return y===void 0&&(y=r(j,b)),y},E=j.coordinate,C=u===0||_m(e,E,T,p,d);C||(u=0,p=l,h+=1),C&&(p=E+e*(T()/2+i),u+=h)},g;h<=s.length;)if(g=m(),g)return g.v;return[]}function yh(e){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(e)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(a){tee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tee(e,t,r){return t=ree(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ree(e){var t=nee(e,"string");return yh(t)=="symbol"?t:t+""}function nee(e,t){if(yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(yh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aee(e,t,r,a,i){for(var s=(a||[]).slice(),l=s.length,d=t.start,u=t.end,h=function(g){var v=s[g],j,b=function(){return j===void 0&&(j=r(v,g)),j};if(g===l-1){var y=e*(v.coordinate+e*b()/2-u);s[g]=v=Ln(Ln({},v),{},{tickCoord:y>0?v.coordinate-y*e:v.coordinate})}else s[g]=v=Ln(Ln({},v),{},{tickCoord:v.coordinate});var T=_m(e,v.tickCoord,b,d,u);T&&(u=v.tickCoord-e*(b()/2+i),s[g]=Ln(Ln({},v),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return s}function iee(e,t,r,a,i,s){var l=(a||[]).slice(),d=l.length,u=t.start,h=t.end;if(s){var p=a[d-1],m=r(p,d-1),g=e*(p.coordinate+e*m/2-h);l[d-1]=p=Ln(Ln({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate});var v=_m(e,p.tickCoord,function(){return m},u,h);v&&(h=p.tickCoord-e*(m/2+i),l[d-1]=Ln(Ln({},p),{},{isShow:!0}))}for(var j=s?d-1:d,b=function(E){var C=l[E],S,A=function(){return S===void 0&&(S=r(C,E)),S};if(E===0){var k=e*(C.coordinate-e*A()/2-u);l[E]=C=Ln(Ln({},C),{},{tickCoord:k<0?C.coordinate-k*e:C.coordinate})}else l[E]=C=Ln(Ln({},C),{},{tickCoord:C.coordinate});var D=_m(e,C.tickCoord,A,u,h);D&&(u=C.tickCoord+e*(A()/2+i),l[E]=Ln(Ln({},C),{},{isShow:!0}))},y=0;y<j;y++)b(y);return l}function dS(e,t,r){var a=e.tick,i=e.ticks,s=e.viewBox,l=e.minTickGap,d=e.orientation,u=e.interval,h=e.tickFormatter,p=e.unit,m=e.angle;if(!i||!i.length||!a)return[];if(gt(u)||rd.isSsr)return JJ(i,typeof u=="number"&&gt(u)?u:0);var g=[],v=d==="top"||d==="bottom"?"width":"height",j=p&&v==="width"?Cu(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(C,S){var A=Gt(h)?h(C.value,S):C.value;return v==="width"?QJ(Cu(A,{fontSize:t,letterSpacing:r}),j,m):Cu(A,{fontSize:t,letterSpacing:r})[v]},y=i.length>=2?mi(i[1].coordinate-i[0].coordinate):1,T=ZJ(s,y,v);return u==="equidistantPreserveStart"?eee(y,T,b,i,l):(u==="preserveStart"||u==="preserveStartEnd"?g=iee(y,T,b,i,l,u==="preserveStartEnd"):g=aee(y,T,b,i,l),g.filter(function(E){return E.isShow}))}var see=["viewBox"],oee=["viewBox"],lee=["ticks"];function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cc.apply(this,arguments)}function nI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(r),!0).forEach(function(a){uS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Z1(e,t){if(e==null)return{};var r=cee(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function cee(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function dee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aI(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,k5(a.key),a)}}function uee(e,t,r){return t&&aI(e.prototype,t),r&&aI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hee(e,t,r){return t=km(t),fee(e,_5()?Reflect.construct(t,r||[],km(e).constructor):t.apply(e,r))}function fee(e,t){if(t&&($c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pee(e)}function pee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_5=function(){return!!e})()}function km(e){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},km(e)}function mee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C2(e,t)}function C2(e,t){return C2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},C2(e,t)}function uS(e,t,r){return t=k5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k5(e){var t=xee(e,"string");return $c(t)=="symbol"?t:t+""}function xee(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if($c(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sd=function(e){function t(r){var a;return dee(this,t),a=hee(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return mee(t,e),uee(t,[{key:"shouldComponentUpdate",value:function(a,i){var s=a.viewBox,l=Z1(a,see),d=this.props,u=d.viewBox,h=Z1(d,oee);return!fc(s,u)||!fc(l,h)||!fc(i,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var i=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var i=this.props,s=i.x,l=i.y,d=i.width,u=i.height,h=i.orientation,p=i.tickSize,m=i.mirror,g=i.tickMargin,v,j,b,y,T,E,C=m?-1:1,S=a.tickSize||p,A=gt(a.tickCoord)?a.tickCoord:a.coordinate;switch(h){case"top":v=j=a.coordinate,y=l+ +!m*u,b=y-C*S,E=b-C*g,T=A;break;case"left":b=y=a.coordinate,j=s+ +!m*d,v=j-C*S,T=v-C*g,E=A;break;case"right":b=y=a.coordinate,j=s+ +m*d,v=j+C*S,T=v+C*g,E=A;break;default:v=j=a.coordinate,y=l+ +m*u,b=y+C*S,E=b+C*g,T=A;break}return{line:{x1:v,y1:b,x2:j,y2:y},tick:{x:T,y:E}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,l;switch(i){case"left":l=s?"start":"end";break;case"right":l=s?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=s?"start":"end";break;default:l=s?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.x,s=a.y,l=a.width,d=a.height,u=a.orientation,h=a.mirror,p=a.axisLine,m=Kn(Kn(Kn({},tr(this.props,!1)),tr(p,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!h||u==="bottom"&&h);m=Kn(Kn({},m),{},{x1:i,y1:s+g*d,x2:i+l,y2:s+g*d})}else{var v=+(u==="left"&&!h||u==="right"&&h);m=Kn(Kn({},m),{},{x1:i+v*l,y1:s,x2:i+v*l,y2:s+d})}return ke.createElement("line",cc({},m,{className:or("recharts-cartesian-axis-line",Xa(p,"className"))}))}},{key:"renderTicks",value:function(a,i,s){var l=this,d=this.props,u=d.tickLine,h=d.stroke,p=d.tick,m=d.tickFormatter,g=d.unit,v=dS(Kn(Kn({},this.props),{},{ticks:a}),i,s),j=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=tr(this.props,!1),T=tr(p,!1),E=Kn(Kn({},y),{},{fill:"none"},tr(u,!1)),C=v.map(function(S,A){var k=l.getTickLineCoord(S),D=k.line,B=k.tick,F=Kn(Kn(Kn(Kn({textAnchor:j,verticalAnchor:b},y),{},{stroke:"none",fill:h},T),B),{},{index:A,payload:S,visibleTicksCount:v.length,tickFormatter:m});return ke.createElement(Kr,cc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Up(l.props,S,A)),u&&ke.createElement("line",cc({},E,D,{className:or("recharts-cartesian-axis-tick-line",Xa(u,"className"))})),p&&t.renderTickItem(p,F,"".concat(Gt(m)?m(S.value,A):S.value).concat(g||"")))});return ke.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var a=this,i=this.props,s=i.axisLine,l=i.width,d=i.height,u=i.ticksGenerator,h=i.className,p=i.hide;if(p)return null;var m=this.props,g=m.ticks,v=Z1(m,lee),j=g;return Gt(u)&&(j=g&&g.length>0?u(this.props):u(v)),l<=0||d<=0||!j||!j.length?null:ke.createElement(Kr,{className:or("recharts-cartesian-axis",h),ref:function(y){a.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),$n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,i,s){var l;return ke.isValidElement(a)?l=ke.cloneElement(a,i):Gt(a)?l=a(i):l=ke.createElement(Jp,cc({},i,{className:"recharts-cartesian-axis-tick-value"}),s),l}}])}(N.Component);uS(sd,"displayName","CartesianAxis");uS(sd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gee=["x1","y1","x2","y2","key"],yee=["offset"];function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(a){vee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vee(e,t,r){return t=bee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bee(e){var t=jee(e,"string");return rl(t)=="symbol"?t:t+""}function jee(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(rl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ho.apply(this,arguments)}function sI(e,t){if(e==null)return{};var r=wee(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wee(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var See=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,i=t.x,s=t.y,l=t.width,d=t.height,u=t.ry;return ke.createElement("rect",{x:i,y:s,ry:u,width:l,height:d,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function I5(e,t){var r;if(ke.isValidElement(e))r=ke.cloneElement(e,t);else if(Gt(e))r=e(t);else{var a=t.x1,i=t.y1,s=t.x2,l=t.y2,d=t.key,u=sI(t,gee),h=tr(u,!1);h.offset;var p=sI(h,yee);r=ke.createElement("line",Ho({},p,{x1:a,y1:i,x2:s,y2:l,fill:"none",key:d}))}return r}function Nee(e){var t=e.x,r=e.width,a=e.horizontal,i=a===void 0?!0:a,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(d,u){var h=zn(zn({},e),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return I5(i,h)});return ke.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Tee(e){var t=e.y,r=e.height,a=e.vertical,i=a===void 0?!0:a,s=e.verticalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(d,u){var h=zn(zn({},e),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return I5(i,h)});return ke.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Cee(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,i=e.y,s=e.width,l=e.height,d=e.horizontalPoints,u=e.horizontal,h=u===void 0?!0:u;if(!h||!t||!t.length)return null;var p=d.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==p[0]&&p.unshift(0);var m=p.map(function(g,v){var j=!p[v+1],b=j?i+l-g:p[v+1]-g;if(b<=0)return null;var y=v%t.length;return ke.createElement("rect",{key:"react-".concat(v),y:g,x:a,height:b,width:s,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ke.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Aee(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,i=e.fillOpacity,s=e.x,l=e.y,d=e.width,u=e.height,h=e.verticalPoints;if(!r||!a||!a.length)return null;var p=h.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==p[0]&&p.unshift(0);var m=p.map(function(g,v){var j=!p[v+1],b=j?s+d-g:p[v+1]-g;if(b<=0)return null;var y=v%a.length;return ke.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:b,height:u,stroke:"none",fill:a[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ke.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Eee=function(t,r){var a=t.xAxis,i=t.width,s=t.height,l=t.offset;return HR(dS(zn(zn(zn({},sd.defaultProps),a),{},{ticks:ls(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.left,l.left+l.width,r)},Oee=function(t,r){var a=t.yAxis,i=t.width,s=t.height,l=t.offset;return HR(dS(zn(zn(zn({},sd.defaultProps),a),{},{ticks:ls(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.top,l.top+l.height,r)},ec={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function A2(e){var t,r,a,i,s,l,d=sS(),u=oS(),h=xJ(),p=zn(zn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ec.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ec.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:ec.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:ec.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:ec.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:ec.verticalFill,x:gt(e.x)?e.x:h.left,y:gt(e.y)?e.y:h.top,width:gt(e.width)?e.width:h.width,height:gt(e.height)?e.height:h.height}),m=p.x,g=p.y,v=p.width,j=p.height,b=p.syncWithTicks,y=p.horizontalValues,T=p.verticalValues,E=fJ(),C=pJ();if(!gt(v)||v<=0||!gt(j)||j<=0||!gt(m)||m!==+m||!gt(g)||g!==+g)return null;var S=p.verticalCoordinatesGenerator||Eee,A=p.horizontalCoordinatesGenerator||Oee,k=p.horizontalPoints,D=p.verticalPoints;if((!k||!k.length)&&Gt(A)){var B=y&&y.length,F=A({yAxis:C?zn(zn({},C),{},{ticks:B?y:C.ticks}):void 0,width:d,height:u,offset:h},B?!0:b);hs(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(rl(F),"]")),Array.isArray(F)&&(k=F)}if((!D||!D.length)&&Gt(S)){var M=T&&T.length,L=S({xAxis:E?zn(zn({},E),{},{ticks:M?T:E.ticks}):void 0,width:d,height:u,offset:h},M?!0:b);hs(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(rl(L),"]")),Array.isArray(L)&&(D=L)}return ke.createElement("g",{className:"recharts-cartesian-grid"},ke.createElement(See,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),ke.createElement(Nee,Ho({},p,{offset:h,horizontalPoints:k,xAxis:E,yAxis:C})),ke.createElement(Tee,Ho({},p,{offset:h,verticalPoints:D,xAxis:E,yAxis:C})),ke.createElement(Cee,Ho({},p,{horizontalPoints:k})),ke.createElement(Aee,Ho({},p,{verticalPoints:D})))}A2.displayName="CartesianGrid";var _ee=["type","layout","connectNulls","ref"],kee=["key"];function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function oI(e,t){if(e==null)return{};var r=Iee(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Iee(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_u.apply(this,arguments)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(a){ui(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tc(e){return Mee(e)||Pee(e)||Ree(e)||Dee()}function Dee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ree(e,t){if(e){if(typeof e=="string")return E2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E2(e,t)}}function Pee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mee(e){if(Array.isArray(e))return E2(e)}function E2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Bee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cI(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,R5(a.key),a)}}function Fee(e,t,r){return t&&cI(e.prototype,t),r&&cI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lee(e,t,r){return t=Im(t),$ee(e,D5()?Reflect.construct(t,r||[],Im(e).constructor):t.apply(e,r))}function $ee(e,t){if(t&&(zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zee(e)}function zee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D5=function(){return!!e})()}function Im(e){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(e)}function Uee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O2(e,t)}function O2(e,t){return O2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},O2(e,t)}function ui(e,t,r){return t=R5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R5(e){var t=qee(e,"string");return zc(t)=="symbol"?t:t+""}function qee(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(zc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uh=function(e){function t(){var r;Bee(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=Lee(this,t,[].concat(i)),ui(r,"state",{isAnimationFinished:!0,totalLength:0}),ui(r,"generateSimpleStrokeDasharray",function(l,d){return"".concat(d,"px ").concat(l-d,"px")}),ui(r,"getStrokeDasharray",function(l,d,u){var h=u.reduce(function(T,E){return T+E});if(!h)return r.generateSimpleStrokeDasharray(d,l);for(var p=Math.floor(l/h),m=l%h,g=d-l,v=[],j=0,b=0;j<u.length;b+=u[j],++j)if(b+u[j]>m){v=[].concat(tc(u.slice(0,j)),[m-b]);break}var y=v.length%2===0?[0,g]:[g];return[].concat(tc(t.repeat(u,p)),tc(v),y).map(function(T){return"".concat(T,"px")}).join(", ")}),ui(r,"id",Ph("recharts-line-")),ui(r,"pathRef",function(l){r.mainCurve=l}),ui(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ui(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Uee(t,e),Fee(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,d=s.xAxis,u=s.yAxis,h=s.layout,p=s.children,m=Qa(p,zh);if(!m)return null;var g=function(b,y){return{x:b.x,y:b.y,value:b.value,errorVal:Ia(b.payload,y)}},v={clipPath:a?"url(#clipPath-".concat(i,")"):null};return ke.createElement(Kr,v,m.map(function(j){return ke.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:l,xAxis:d,yAxis:u,layout:h,dataPointFormatter:g})}))}},{key:"renderDots",value:function(a,i,s){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var d=this.props,u=d.dot,h=d.points,p=d.dataKey,m=tr(this.props,!1),g=tr(u,!0),v=h.map(function(b,y){var T=Na(Na(Na({key:"dot-".concat(y),r:3},m),g),{},{index:y,cx:b.x,cy:b.y,value:b.value,dataKey:p,payload:b.payload,points:h});return t.renderDotItem(u,T)}),j={clipPath:a?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ke.createElement(Kr,_u({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(a,i,s,l){var d=this.props,u=d.type,h=d.layout,p=d.connectNulls;d.ref;var m=oI(d,_ee),g=Na(Na(Na({},tr(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:a},l),{},{type:u,layout:h,connectNulls:p});return ke.createElement(i2,_u({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,i){var s=this,l=this.props,d=l.points,u=l.strokeDasharray,h=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,g=l.animationEasing,v=l.animationId,j=l.animateNewValues,b=l.width,y=l.height,T=this.state,E=T.prevPoints,C=T.totalLength;return ke.createElement(ws,{begin:p,duration:m,isActive:h,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var A=S.t;if(E){var k=E.length/d.length,D=d.map(function(O,W){var P=Math.floor(W*k);if(E[P]){var I=E[P],R=hi(I.x,O.x),H=hi(I.y,O.y);return Na(Na({},O),{},{x:R(A),y:H(A)})}if(j){var V=hi(b*2,O.x),he=hi(y/2,O.y);return Na(Na({},O),{},{x:V(A),y:he(A)})}return Na(Na({},O),{},{x:O.x,y:O.y})});return s.renderCurveStatically(D,a,i)}var B=hi(0,C),F=B(A),M;if(u){var L="".concat(u).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});M=s.getStrokeDasharray(F,C,L)}else M=s.generateSimpleStrokeDasharray(C,F);return s.renderCurveStatically(d,a,i,{strokeDasharray:M})})}},{key:"renderCurve",value:function(a,i){var s=this.props,l=s.points,d=s.isAnimationActive,u=this.state,h=u.prevPoints,p=u.totalLength;return d&&l&&l.length&&(!h&&p>0||!j0(h,l))?this.renderCurveWithAnimation(a,i):this.renderCurveStatically(l,a,i)}},{key:"render",value:function(){var a,i=this.props,s=i.hide,l=i.dot,d=i.points,u=i.className,h=i.xAxis,p=i.yAxis,m=i.top,g=i.left,v=i.width,j=i.height,b=i.isAnimationActive,y=i.id;if(s||!d||!d.length)return null;var T=this.state.isAnimationFinished,E=d.length===1,C=or("recharts-line",u),S=h&&h.allowDataOverflow,A=p&&p.allowDataOverflow,k=S||A,D=Jt(y)?this.id:y,B=(a=tr(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},F=B.r,M=F===void 0?3:F,L=B.strokeWidth,O=L===void 0?2:L,W=lz(l)?l:{},P=W.clipDot,I=P===void 0?!0:P,R=M*2+O;return ke.createElement(Kr,{className:C},S||A?ke.createElement("defs",null,ke.createElement("clipPath",{id:"clipPath-".concat(D)},ke.createElement("rect",{x:S?g:g-v/2,y:A?m:m-j/2,width:S?v:v*2,height:A?j:j*2})),!I&&ke.createElement("clipPath",{id:"clipPath-dots-".concat(D)},ke.createElement("rect",{x:g-R/2,y:m-R/2,width:v+R,height:j+R}))):null,!E&&this.renderCurve(k,D),this.renderErrorBar(k,D),(E||l)&&this.renderDots(k,I,D),(!b||T)&&so.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:i.curPoints}:a.points!==i.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,i){for(var s=a.length%2!==0?[].concat(tc(a),[0]):a,l=[],d=0;d<i;++d)l=[].concat(tc(l),tc(s));return l}},{key:"renderDotItem",value:function(a,i){var s;if(ke.isValidElement(a))s=ke.cloneElement(a,i);else if(Gt(a))s=a(i);else{var l=i.key,d=oI(i,kee),u=or("recharts-line-dot",typeof a!="boolean"?a.className:"");s=ke.createElement(rS,_u({key:l},d,{className:u}))}return s}}])}(N.PureComponent);ui(Uh,"displayName","Line");ui(Uh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!rd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ui(Uh,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,l=e.dataKey,d=e.bandSize,u=e.displayedData,h=e.offset,p=t.layout,m=u.map(function(g,v){var j=Ia(g,l);return p==="horizontal"?{x:S4({axis:r,ticks:i,bandSize:d,entry:g,index:v}),y:Jt(j)?null:a.scale(j),value:j,payload:g}:{x:Jt(j)?null:r.scale(j),y:S4({axis:a,ticks:s,bandSize:d,entry:g,index:v}),value:j,payload:g}});return Na({points:m,layout:p},h)});function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function Wee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hee(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,B5(a.key),a)}}function Gee(e,t,r){return t&&Hee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vee(e,t,r){return t=Dm(t),Yee(e,P5()?Reflect.construct(t,r||[],Dm(e).constructor):t.apply(e,r))}function Yee(e,t){if(t&&(Uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kee(e)}function Kee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P5=function(){return!!e})()}function Dm(e){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dm(e)}function Xee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_2(e,t)}function _2(e,t){return _2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},_2(e,t)}function M5(e,t,r){return t=B5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B5(e){var t=Qee(e,"string");return Uc(t)=="symbol"?t:t+""}function Qee(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Uc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},k2.apply(this,arguments)}function Zee(e){var t=e.xAxisId,r=sS(),a=oS(),i=j5(t);return i==null?null:ke.createElement(sd,k2({},i,{className:or("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return ls(l,!0)}}))}var qc=function(e){function t(){return Wee(this,t),Vee(this,t,arguments)}return Xee(t,e),Gee(t,[{key:"render",value:function(){return ke.createElement(Zee,this.props)}}])}(ke.Component);M5(qc,"displayName","XAxis");M5(qc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function Jee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ete(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$5(a.key),a)}}function tte(e,t,r){return t&&ete(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rte(e,t,r){return t=Rm(t),nte(e,F5()?Reflect.construct(t,r||[],Rm(e).constructor):t.apply(e,r))}function nte(e,t){if(t&&(Wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ate(e)}function ate(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F5=function(){return!!e})()}function Rm(e){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(e)}function ite(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I2(e,t)}function I2(e,t){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},I2(e,t)}function L5(e,t,r){return t=$5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $5(e){var t=ste(e,"string");return Wc(t)=="symbol"?t:t+""}function ste(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Wc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function D2(){return D2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},D2.apply(this,arguments)}var ote=function(t){var r=t.yAxisId,a=sS(),i=oS(),s=w5(r);return s==null?null:ke.createElement(sd,D2({},s,{className:or("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:a,height:i},ticksGenerator:function(d){return ls(d,!0)}}))},Hc=function(e){function t(){return Jee(this,t),rte(this,t,arguments)}return ite(t,e),tte(t,[{key:"render",value:function(){return ke.createElement(ote,this.props)}}])}(ke.Component);L5(Hc,"displayName","YAxis");L5(Hc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dI(e){return ute(e)||dte(e)||cte(e)||lte()}function lte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(e,t){if(e){if(typeof e=="string")return R2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R2(e,t)}}function dte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ute(e){if(Array.isArray(e))return R2(e)}function R2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var P2=function(t,r,a,i,s){var l=Qa(t,cS),d=Qa(t,E0),u=[].concat(dI(l),dI(d)),h=Qa(t,_0),p="".concat(i,"Id"),m=i[0],g=r;if(u.length&&(g=u.reduce(function(b,y){if(y.props[p]===a&&Bi(y.props,"extendDomain")&&gt(y.props[m])){var T=y.props[m];return[Math.min(b[0],T),Math.max(b[1],T)]}return b},g)),h.length){var v="".concat(m,"1"),j="".concat(m,"2");g=h.reduce(function(b,y){if(y.props[p]===a&&Bi(y.props,"extendDomain")&&gt(y.props[v])&&gt(y.props[j])){var T=y.props[v],E=y.props[j];return[Math.min(b[0],T,E),Math.max(b[1],T,E)]}return b},g)}return s&&s.length&&(g=s.reduce(function(b,y){return gt(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},g)),g},J1={exports:{}},uI;function hte(){return uI||(uI=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function i(u,h,p){this.fn=u,this.context=h,this.once=p||!1}function s(u,h,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new i(p,m||u,g),j=r?r+h:h;return u._events[j]?u._events[j].fn?u._events[j]=[u._events[j],v]:u._events[j].push(v):(u._events[j]=v,u._eventsCount++),u}function l(u,h){--u._eventsCount===0?u._events=new a:delete u._events[h]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)t.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,v=m.length,j=new Array(v);g<v;g++)j[g]=m[g].fn;return j},d.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},d.prototype.emit=function(h,p,m,g,v,j){var b=r?r+h:h;if(!this._events[b])return!1;var y=this._events[b],T=arguments.length,E,C;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),T){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,p),!0;case 3:return y.fn.call(y.context,p,m),!0;case 4:return y.fn.call(y.context,p,m,g),!0;case 5:return y.fn.call(y.context,p,m,g,v),!0;case 6:return y.fn.call(y.context,p,m,g,v,j),!0}for(C=1,E=new Array(T-1);C<T;C++)E[C-1]=arguments[C];y.fn.apply(y.context,E)}else{var S=y.length,A;for(C=0;C<S;C++)switch(y[C].once&&this.removeListener(h,y[C].fn,void 0,!0),T){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,p);break;case 3:y[C].fn.call(y[C].context,p,m);break;case 4:y[C].fn.call(y[C].context,p,m,g);break;default:if(!E)for(A=1,E=new Array(T-1);A<T;A++)E[A-1]=arguments[A];y[C].fn.apply(y[C].context,E)}}return!0},d.prototype.on=function(h,p,m){return s(this,h,p,m,!1)},d.prototype.once=function(h,p,m){return s(this,h,p,m,!0)},d.prototype.removeListener=function(h,p,m,g){var v=r?r+h:h;if(!this._events[v])return this;if(!p)return l(this,v),this;var j=this._events[v];if(j.fn)j.fn===p&&(!g||j.once)&&(!m||j.context===m)&&l(this,v);else{for(var b=0,y=[],T=j.length;b<T;b++)(j[b].fn!==p||g&&!j[b].once||m&&j[b].context!==m)&&y.push(j[b]);y.length?this._events[v]=y.length===1?y[0]:y:l(this,v)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d}(J1)),J1.exports}var fte=hte();const pte=Cr(fte);var ej=new pte,tj="recharts.syncMouseEvents";function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}function mte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xte(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,z5(a.key),a)}}function gte(e,t,r){return t&&xte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rj(e,t,r){return t=z5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z5(e){var t=yte(e,"string");return vh(t)=="symbol"?t:t+""}function yte(e,t){if(vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(vh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vte=function(){function e(){mte(this,e),rj(this,"activeIndex",0),rj(this,"coordinateList",[]),rj(this,"layout","horizontal")}return gte(e,[{key:"setDetails",value:function(r){var a,i=r.coordinateList,s=i===void 0?null:i,l=r.container,d=l===void 0?null:l,u=r.layout,h=u===void 0?null:u,p=r.offset,m=p===void 0?null:p,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(a=s??this.coordinateList)!==null&&a!==void 0?a:[],this.container=d??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,l=i.y,d=i.height,u=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((a=window)===null||a===void 0?void 0:a.scrollY)||0,m=s+u+h,g=l+this.offset.top+d/2+p;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])}();function bte(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],i=e==null?void 0:e[1];if(a&&i&&gt(a)&&gt(i))return!0}return!1}function jte(e,t,r,a){var i=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function U5(e){var t=e.cx,r=e.cy,a=e.radius,i=e.startAngle,s=e.endAngle,l=In(t,r,a,i),d=In(t,r,a,s);return{points:[l,d],cx:t,cy:r,radius:a,startAngle:i,endAngle:s}}function wte(e,t,r){var a,i,s,l;if(e==="horizontal")a=t.x,s=a,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,a=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var d=t.cx,u=t.cy,h=t.innerRadius,p=t.outerRadius,m=t.angle,g=In(d,u,h,m),v=In(d,u,p,m);a=g.x,i=g.y,s=v.x,l=v.y}else return U5(t);return[{x:a,y:i},{x:s,y:l}]}function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(a){Ste(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ste(e,t,r){return t=Nte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nte(e){var t=Tte(e,"string");return bh(t)=="symbol"?t:t+""}function Tte(e,t){if(bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(bh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cte(e){var t,r,a=e.element,i=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,d=e.activePayload,u=e.offset,h=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,g=e.chartName,v=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!v||!s||!l||g!=="ScatterChart"&&i!=="axis")return null;var j,b=i2;if(g==="ScatterChart")j=l,b=NQ;else if(g==="BarChart")j=jte(m,l,u,p),b=tS;else if(m==="radial"){var y=U5(l),T=y.cx,E=y.cy,C=y.radius,S=y.startAngle,A=y.endAngle;j={cx:T,cy:E,startAngle:S,endAngle:A,innerRadius:C,outerRadius:C},b=XR}else j={points:wte(m,l,u)},b=i2;var k=gp(gp(gp(gp({stroke:"#ccc",pointerEvents:"none"},u),j),tr(v,!1)),{},{payload:d,payloadIndex:h,className:or("recharts-tooltip-cursor",v.className)});return N.isValidElement(v)?N.cloneElement(v,k):N.createElement(b,k)}var Ate=["item"],Ete=["children","className","width","height","style","compact","title","desc"];function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dc.apply(this,arguments)}function fI(e,t){return kte(e)||_te(e,t)||W5(e,t)||Ote()}function Ote(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _te(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){h=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return d}}function kte(e){if(Array.isArray(e))return e}function pI(e,t){if(e==null)return{};var r=Ite(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ite(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Dte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rte(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,H5(a.key),a)}}function Pte(e,t,r){return t&&Rte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mte(e,t,r){return t=Pm(t),Bte(e,q5()?Reflect.construct(t,r||[],Pm(e).constructor):t.apply(e,r))}function Bte(e,t){if(t&&(Gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fte(e)}function Fte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q5=function(){return!!e})()}function Pm(e){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(e)}function Lte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M2(e,t)}function M2(e,t){return M2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},M2(e,t)}function Vc(e){return Ute(e)||zte(e)||W5(e)||$te()}function $te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W5(e,t){if(e){if(typeof e=="string")return B2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B2(e,t)}}function zte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ute(e){if(Array.isArray(e))return B2(e)}function B2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(a){Dt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Dt(e,t,r){return t=H5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H5(e){var t=qte(e,"string");return Gc(t)=="symbol"?t:t+""}function qte(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Gc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wte={xAxis:["bottom","top"],yAxis:["left","right"]},Hte={width:"100%",height:"100%"},G5={x:0,y:0};function yp(e){return e}var Gte=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Vte=function(t,r,a,i){var s=r.find(function(p){return p&&p.index===a});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var l=s.coordinate,d=i.radius;return tt(tt(tt({},i),In(i.cx,i.cy,d,l)),{},{angle:l,radius:d})}var u=s.coordinate,h=i.angle;return tt(tt(tt({},i),In(i.cx,i.cy,u,h)),{},{angle:h,radius:u})}return G5},k0=function(t,r){var a=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,l=(a??[]).reduce(function(d,u){var h=u.props.data;return h&&h.length?[].concat(Vc(d),Vc(h)):d},[]);return l.length>0?l:t&&t.length&&gt(i)&&gt(s)?t.slice(i,s+1):[]};function V5(e){return e==="number"?[0,"auto"]:void 0}var F2=function(t,r,a,i){var s=t.graphicalItems,l=t.tooltipAxis,d=k0(r,t);return a<0||!s||!s.length||a>=d.length?null:s.reduce(function(u,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var v=m===void 0?d:m;g=$p(v,l.dataKey,i)}else g=m&&m[a]||d[a];return g?[].concat(Vc(u),[VR(h,g)]):u},[])},xI=function(t,r,a,i){var s=i||{x:t.chartX,y:t.chartY},l=Gte(s,a),d=t.orderedTooltipTicks,u=t.tooltipAxis,h=t.tooltipTicks,p=oY(l,d,h,u);if(p>=0&&h){var m=h[p]&&h[p].value,g=F2(t,r,p,m),v=Vte(a,d,p,s);return{activeTooltipIndex:p,activeLabel:m,activePayload:g,activeCoordinate:v}}return null},Yte=function(t,r){var a=r.axes,i=r.graphicalItems,s=r.axisType,l=r.axisIdKey,d=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,p=t.layout,m=t.children,g=t.stackOffset,v=WR(p,s);return a.reduce(function(j,b){var y,T=b.type.defaultProps!==void 0?tt(tt({},b.type.defaultProps),b.props):b.props,E=T.type,C=T.dataKey,S=T.allowDataOverflow,A=T.allowDuplicatedCategory,k=T.scale,D=T.ticks,B=T.includeHidden,F=T[l];if(j[F])return j;var M=k0(t.data,{graphicalItems:i.filter(function(z){var ee,q=l in z.props?z.props[l]:(ee=z.type.defaultProps)===null||ee===void 0?void 0:ee[l];return q===F}),dataStartIndex:u,dataEndIndex:h}),L=M.length,O,W,P;bte(T.domain,S,E)&&(O=e2(T.domain,null,S),v&&(E==="number"||k!=="auto")&&(P=Eu(M,C,"category")));var I=V5(E);if(!O||O.length===0){var R,H=(R=T.domain)!==null&&R!==void 0?R:I;if(C){if(O=Eu(M,C,E),E==="category"&&v){var V=Z$(O);A&&V?(W=O,O=wm(0,L)):A||(O=A4(H,O,b).reduce(function(z,ee){return z.indexOf(ee)>=0?z:[].concat(Vc(z),[ee])},[]))}else if(E==="category")A?O=O.filter(function(z){return z!==""&&!Jt(z)}):O=A4(H,O,b).reduce(function(z,ee){return z.indexOf(ee)>=0||ee===""||Jt(ee)?z:[].concat(Vc(z),[ee])},[]);else if(E==="number"){var he=hY(M,i.filter(function(z){var ee,q,Q=l in z.props?z.props[l]:(ee=z.type.defaultProps)===null||ee===void 0?void 0:ee[l],ae="hide"in z.props?z.props.hide:(q=z.type.defaultProps)===null||q===void 0?void 0:q.hide;return Q===F&&(B||!ae)}),C,s,p);he&&(O=he)}v&&(E==="number"||k!=="auto")&&(P=Eu(M,C,"category"))}else v?O=wm(0,L):d&&d[F]&&d[F].hasStack&&E==="number"?O=g==="expand"?[0,1]:GR(d[F].stackGroups,u,h):O=qR(M,i.filter(function(z){var ee=l in z.props?z.props[l]:z.type.defaultProps[l],q="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return ee===F&&(B||!q)}),E,p,!0);if(E==="number")O=P2(m,O,F,s,D),H&&(O=e2(H,O,S));else if(E==="category"&&H){var U=H,Y=O.every(function(z){return U.indexOf(z)>=0});Y&&(O=U)}}return tt(tt({},j),{},Dt({},F,tt(tt({},T),{},{axisType:s,domain:O,categoricalDomain:P,duplicateDomain:W,originalDomain:(y=T.domain)!==null&&y!==void 0?y:I,isCategorical:v,layout:p})))},{})},Kte=function(t,r){var a=r.graphicalItems,i=r.Axis,s=r.axisType,l=r.axisIdKey,d=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,p=t.layout,m=t.children,g=k0(t.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:h}),v=g.length,j=WR(p,s),b=-1;return a.reduce(function(y,T){var E=T.type.defaultProps!==void 0?tt(tt({},T.type.defaultProps),T.props):T.props,C=E[l],S=V5("number");if(!y[C]){b++;var A;return j?A=wm(0,v):d&&d[C]&&d[C].hasStack?(A=GR(d[C].stackGroups,u,h),A=P2(m,A,C,s)):(A=e2(S,qR(g,a.filter(function(k){var D,B,F=l in k.props?k.props[l]:(D=k.type.defaultProps)===null||D===void 0?void 0:D[l],M="hide"in k.props?k.props.hide:(B=k.type.defaultProps)===null||B===void 0?void 0:B.hide;return F===C&&!M}),"number",p),i.defaultProps.allowDataOverflow),A=P2(m,A,C,s)),tt(tt({},y),{},Dt({},C,tt(tt({axisType:s},i.defaultProps),{},{hide:!0,orientation:Xa(Wte,"".concat(s,".").concat(b%2),null),domain:A,originalDomain:S,isCategorical:j,layout:p})))}return y},{})},Xte=function(t,r){var a=r.axisType,i=a===void 0?"xAxis":a,s=r.AxisComp,l=r.graphicalItems,d=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,p=t.children,m="".concat(i,"Id"),g=Qa(p,s),v={};return g&&g.length?v=Yte(t,{axes:g,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:d,dataStartIndex:u,dataEndIndex:h}):l&&l.length&&(v=Kte(t,{Axis:s,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:d,dataStartIndex:u,dataEndIndex:h})),v},Qte=function(t){var r=eo(t),a=ls(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:Ew(a,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:fm(r,a)}},gI=function(t){var r=t.children,a=t.defaultShowTooltip,i=Aa(r,Pc),s=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},Zte=function(t){return!t||!t.length?!1:t.some(function(r){var a=us(r&&r.type);return a&&a.indexOf("Bar")>=0})},yI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Jte=function(t,r){var a=t.props,i=t.graphicalItems,s=t.xAxisMap,l=s===void 0?{}:s,d=t.yAxisMap,u=d===void 0?{}:d,h=a.width,p=a.height,m=a.children,g=a.margin||{},v=Aa(m,Pc),j=Aa(m,pc),b=Object.keys(u).reduce(function(A,k){var D=u[k],B=D.orientation;return!D.mirror&&!D.hide?tt(tt({},A),{},Dt({},B,A[B]+D.width)):A},{left:g.left||0,right:g.right||0}),y=Object.keys(l).reduce(function(A,k){var D=l[k],B=D.orientation;return!D.mirror&&!D.hide?tt(tt({},A),{},Dt({},B,Xa(A,"".concat(B))+D.height)):A},{top:g.top||0,bottom:g.bottom||0}),T=tt(tt({},y),b),E=T.bottom;v&&(T.bottom+=v.props.height||Pc.defaultProps.height),j&&r&&(T=dY(T,i,a,r));var C=h-T.left-T.right,S=p-T.top-T.bottom;return tt(tt({brushBottom:E},T),{},{width:Math.max(C,0),height:Math.max(S,0)})},ere=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Y5=function(t){var r=t.chartName,a=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,l=t.validateTooltipEventTypes,d=l===void 0?["axis"]:l,u=t.axisComponents,h=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,g=function(T,E){var C=E.graphicalItems,S=E.stackGroups,A=E.offset,k=E.updateId,D=E.dataStartIndex,B=E.dataEndIndex,F=T.barSize,M=T.layout,L=T.barGap,O=T.barCategoryGap,W=T.maxBarSize,P=yI(M),I=P.numericAxisName,R=P.cateAxisName,H=Zte(C),V=[];return C.forEach(function(he,U){var Y=k0(T.data,{graphicalItems:[he],dataStartIndex:D,dataEndIndex:B}),z=he.type.defaultProps!==void 0?tt(tt({},he.type.defaultProps),he.props):he.props,ee=z.dataKey,q=z.maxBarSize,Q=z["".concat(I,"Id")],ae=z["".concat(R,"Id")],de={},xe=u.reduce(function(J,oe){var te=E["".concat(oe.axisType,"Map")],Se=z["".concat(oe.axisType,"Id")];te&&te[Se]||oe.axisType==="zAxis"||tl();var Ge=te[Se];return tt(tt({},J),{},Dt(Dt({},oe.axisType,Ge),"".concat(oe.axisType,"Ticks"),ls(Ge)))},de),Z=xe[R],ge=xe["".concat(R,"Ticks")],je=S&&S[Q]&&S[Q].hasStack&&NY(he,S[Q].stackGroups),pe=us(he.type).indexOf("Bar")>=0,Je=fm(Z,ge),Ee=[],Ve=H&&lY({barSize:F,stackGroups:S,totalSize:ere(xe,R)});if(pe){var le,Ce,Qe=Jt(q)?W:q,re=(le=(Ce=fm(Z,ge,!0))!==null&&Ce!==void 0?Ce:Qe)!==null&&le!==void 0?le:0;Ee=cY({barGap:L,barCategoryGap:O,bandSize:re!==Je?re:Je,sizeList:Ve[ae],maxBarSize:Qe}),re!==Je&&(Ee=Ee.map(function(J){return tt(tt({},J),{},{position:tt(tt({},J.position),{},{offset:J.position.offset-re/2})})}))}var ce=he&&he.type&&he.type.getComposedData;ce&&V.push({props:tt(tt({},ce(tt(tt({},xe),{},{displayedData:Y,props:T,dataKey:ee,item:he,bandSize:Je,barPosition:Ee,offset:A,stackedData:je,layout:M,dataStartIndex:D,dataEndIndex:B}))),{},Dt(Dt(Dt({key:he.key||"item-".concat(U)},I,xe[I]),R,xe[R]),"animationId",k)),childIndex:uz(he,T.children),item:he})}),V},v=function(T,E){var C=T.props,S=T.dataStartIndex,A=T.dataEndIndex,k=T.updateId;if(!$E({props:C}))return null;var D=C.children,B=C.layout,F=C.stackOffset,M=C.data,L=C.reverseStackOrder,O=yI(B),W=O.numericAxisName,P=O.cateAxisName,I=Qa(D,a),R=jY(M,I,"".concat(W,"Id"),"".concat(P,"Id"),F,L),H=u.reduce(function(z,ee){var q="".concat(ee.axisType,"Map");return tt(tt({},z),{},Dt({},q,Xte(C,tt(tt({},ee),{},{graphicalItems:I,stackGroups:ee.axisType===W&&R,dataStartIndex:S,dataEndIndex:A}))))},{}),V=Jte(tt(tt({},H),{},{props:C,graphicalItems:I}),E==null?void 0:E.legendBBox);Object.keys(H).forEach(function(z){H[z]=p(C,H[z],V,z.replace("Map",""),r)});var he=H["".concat(P,"Map")],U=Qte(he),Y=g(C,tt(tt({},H),{},{dataStartIndex:S,dataEndIndex:A,updateId:k,graphicalItems:I,stackGroups:R,offset:V}));return tt(tt({formattedGraphicalItems:Y,graphicalItems:I,offset:V,stackGroups:R},U),H)},j=function(y){function T(E){var C,S,A;return Dte(this,T),A=Mte(this,T,[E]),Dt(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Dt(A,"accessibilityManager",new vte),Dt(A,"handleLegendBBoxUpdate",function(k){if(k){var D=A.state,B=D.dataStartIndex,F=D.dataEndIndex,M=D.updateId;A.setState(tt({legendBBox:k},v({props:A.props,dataStartIndex:B,dataEndIndex:F,updateId:M},tt(tt({},A.state),{},{legendBBox:k}))))}}),Dt(A,"handleReceiveSyncEvent",function(k,D,B){if(A.props.syncId===k){if(B===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(D)}}),Dt(A,"handleBrushChange",function(k){var D=k.startIndex,B=k.endIndex;if(D!==A.state.dataStartIndex||B!==A.state.dataEndIndex){var F=A.state.updateId;A.setState(function(){return tt({dataStartIndex:D,dataEndIndex:B},v({props:A.props,dataStartIndex:D,dataEndIndex:B,updateId:F},A.state))}),A.triggerSyncEvent({dataStartIndex:D,dataEndIndex:B})}}),Dt(A,"handleMouseEnter",function(k){var D=A.getMouseInfo(k);if(D){var B=tt(tt({},D),{},{isTooltipActive:!0});A.setState(B),A.triggerSyncEvent(B);var F=A.props.onMouseEnter;Gt(F)&&F(B,k)}}),Dt(A,"triggeredAfterMouseMove",function(k){var D=A.getMouseInfo(k),B=D?tt(tt({},D),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(B),A.triggerSyncEvent(B);var F=A.props.onMouseMove;Gt(F)&&F(B,k)}),Dt(A,"handleItemMouseEnter",function(k){A.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Dt(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Dt(A,"handleMouseMove",function(k){k.persist(),A.throttleTriggeredAfterMouseMove(k)}),Dt(A,"handleMouseLeave",function(k){A.throttleTriggeredAfterMouseMove.cancel();var D={isTooltipActive:!1};A.setState(D),A.triggerSyncEvent(D);var B=A.props.onMouseLeave;Gt(B)&&B(D,k)}),Dt(A,"handleOuterEvent",function(k){var D=dz(k),B=Xa(A.props,"".concat(D));if(D&&Gt(B)){var F,M;/.*touch.*/i.test(D)?M=A.getMouseInfo(k.changedTouches[0]):M=A.getMouseInfo(k),B((F=M)!==null&&F!==void 0?F:{},k)}}),Dt(A,"handleClick",function(k){var D=A.getMouseInfo(k);if(D){var B=tt(tt({},D),{},{isTooltipActive:!0});A.setState(B),A.triggerSyncEvent(B);var F=A.props.onClick;Gt(F)&&F(B,k)}}),Dt(A,"handleMouseDown",function(k){var D=A.props.onMouseDown;if(Gt(D)){var B=A.getMouseInfo(k);D(B,k)}}),Dt(A,"handleMouseUp",function(k){var D=A.props.onMouseUp;if(Gt(D)){var B=A.getMouseInfo(k);D(B,k)}}),Dt(A,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Dt(A,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&A.handleMouseDown(k.changedTouches[0])}),Dt(A,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&A.handleMouseUp(k.changedTouches[0])}),Dt(A,"handleDoubleClick",function(k){var D=A.props.onDoubleClick;if(Gt(D)){var B=A.getMouseInfo(k);D(B,k)}}),Dt(A,"handleContextMenu",function(k){var D=A.props.onContextMenu;if(Gt(D)){var B=A.getMouseInfo(k);D(B,k)}}),Dt(A,"triggerSyncEvent",function(k){A.props.syncId!==void 0&&ej.emit(tj,A.props.syncId,k,A.eventEmitterSymbol)}),Dt(A,"applySyncEvent",function(k){var D=A.props,B=D.layout,F=D.syncMethod,M=A.state.updateId,L=k.dataStartIndex,O=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)A.setState(tt({dataStartIndex:L,dataEndIndex:O},v({props:A.props,dataStartIndex:L,dataEndIndex:O,updateId:M},A.state)));else if(k.activeTooltipIndex!==void 0){var W=k.chartX,P=k.chartY,I=k.activeTooltipIndex,R=A.state,H=R.offset,V=R.tooltipTicks;if(!H)return;if(typeof F=="function")I=F(V,k);else if(F==="value"){I=-1;for(var he=0;he<V.length;he++)if(V[he].value===k.activeLabel){I=he;break}}var U=tt(tt({},H),{},{x:H.left,y:H.top}),Y=Math.min(W,U.x+U.width),z=Math.min(P,U.y+U.height),ee=V[I]&&V[I].value,q=F2(A.state,A.props.data,I),Q=V[I]?{x:B==="horizontal"?V[I].coordinate:Y,y:B==="horizontal"?z:V[I].coordinate}:G5;A.setState(tt(tt({},k),{},{activeLabel:ee,activeCoordinate:Q,activePayload:q,activeTooltipIndex:I}))}else A.setState(k)}),Dt(A,"renderCursor",function(k){var D,B=A.state,F=B.isTooltipActive,M=B.activeCoordinate,L=B.activePayload,O=B.offset,W=B.activeTooltipIndex,P=B.tooltipAxisBandSize,I=A.getTooltipEventType(),R=(D=k.props.active)!==null&&D!==void 0?D:F,H=A.props.layout,V=k.key||"_recharts-cursor";return ke.createElement(Cte,{key:V,activeCoordinate:M,activePayload:L,activeTooltipIndex:W,chartName:r,element:k,isActive:R,layout:H,offset:O,tooltipAxisBandSize:P,tooltipEventType:I})}),Dt(A,"renderPolarAxis",function(k,D,B){var F=Xa(k,"type.axisType"),M=Xa(A.state,"".concat(F,"Map")),L=k.type.defaultProps,O=L!==void 0?tt(tt({},L),k.props):k.props,W=M&&M[O["".concat(F,"Id")]];return N.cloneElement(k,tt(tt({},W),{},{className:or(F,W.className),key:k.key||"".concat(D,"-").concat(B),ticks:ls(W,!0)}))}),Dt(A,"renderPolarGrid",function(k){var D=k.props,B=D.radialLines,F=D.polarAngles,M=D.polarRadius,L=A.state,O=L.radiusAxisMap,W=L.angleAxisMap,P=eo(O),I=eo(W),R=I.cx,H=I.cy,V=I.innerRadius,he=I.outerRadius;return N.cloneElement(k,{polarAngles:Array.isArray(F)?F:ls(I,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(M)?M:ls(P,!0).map(function(U){return U.coordinate}),cx:R,cy:H,innerRadius:V,outerRadius:he,key:k.key||"polar-grid",radialLines:B})}),Dt(A,"renderLegend",function(){var k=A.state.formattedGraphicalItems,D=A.props,B=D.children,F=D.width,M=D.height,L=A.props.margin||{},O=F-(L.left||0)-(L.right||0),W=zR({children:B,formattedGraphicalItems:k,legendWidth:O,legendContent:h});if(!W)return null;var P=W.item,I=pI(W,Ate);return N.cloneElement(P,tt(tt({},I),{},{chartWidth:F,chartHeight:M,margin:L,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Dt(A,"renderTooltip",function(){var k,D=A.props,B=D.children,F=D.accessibilityLayer,M=Aa(B,ci);if(!M)return null;var L=A.state,O=L.isTooltipActive,W=L.activeCoordinate,P=L.activePayload,I=L.activeLabel,R=L.offset,H=(k=M.props.active)!==null&&k!==void 0?k:O;return N.cloneElement(M,{viewBox:tt(tt({},R),{},{x:R.left,y:R.top}),active:H,label:I,payload:H?P:[],coordinate:W,accessibilityLayer:F})}),Dt(A,"renderBrush",function(k){var D=A.props,B=D.margin,F=D.data,M=A.state,L=M.offset,O=M.dataStartIndex,W=M.dataEndIndex,P=M.updateId;return N.cloneElement(k,{key:k.key||"_recharts-brush",onChange:fp(A.handleBrushChange,k.props.onChange),data:F,x:gt(k.props.x)?k.props.x:L.left,y:gt(k.props.y)?k.props.y:L.top+L.height+L.brushBottom-(B.bottom||0),width:gt(k.props.width)?k.props.width:L.width,startIndex:O,endIndex:W,updateId:"brush-".concat(P)})}),Dt(A,"renderReferenceElement",function(k,D,B){if(!k)return null;var F=A,M=F.clipPathId,L=A.state,O=L.xAxisMap,W=L.yAxisMap,P=L.offset,I=k.type.defaultProps||{},R=k.props,H=R.xAxisId,V=H===void 0?I.xAxisId:H,he=R.yAxisId,U=he===void 0?I.yAxisId:he;return N.cloneElement(k,{key:k.key||"".concat(D,"-").concat(B),xAxis:O[V],yAxis:W[U],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:M})}),Dt(A,"renderActivePoints",function(k){var D=k.item,B=k.activePoint,F=k.basePoint,M=k.childIndex,L=k.isRange,O=[],W=D.props.key,P=D.item.type.defaultProps!==void 0?tt(tt({},D.item.type.defaultProps),D.item.props):D.item.props,I=P.activeDot,R=P.dataKey,H=tt(tt({index:M,dataKey:R,cx:B.x,cy:B.y,r:4,fill:eS(D.item),strokeWidth:2,stroke:"#fff",payload:B.payload,value:B.value},tr(I,!1)),zp(I));return O.push(T.renderActiveDot(I,H,"".concat(W,"-activePoint-").concat(M))),F?O.push(T.renderActiveDot(I,tt(tt({},H),{},{cx:F.x,cy:F.y}),"".concat(W,"-basePoint-").concat(M))):L&&O.push(null),O}),Dt(A,"renderGraphicChild",function(k,D,B){var F=A.filterFormatItem(k,D,B);if(!F)return null;var M=A.getTooltipEventType(),L=A.state,O=L.isTooltipActive,W=L.tooltipAxis,P=L.activeTooltipIndex,I=L.activeLabel,R=A.props.children,H=Aa(R,ci),V=F.props,he=V.points,U=V.isRange,Y=V.baseLine,z=F.item.type.defaultProps!==void 0?tt(tt({},F.item.type.defaultProps),F.item.props):F.item.props,ee=z.activeDot,q=z.hide,Q=z.activeBar,ae=z.activeShape,de=!!(!q&&O&&H&&(ee||Q||ae)),xe={};M!=="axis"&&H&&H.props.trigger==="click"?xe={onClick:fp(A.handleItemMouseEnter,k.props.onClick)}:M!=="axis"&&(xe={onMouseLeave:fp(A.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:fp(A.handleItemMouseEnter,k.props.onMouseEnter)});var Z=N.cloneElement(k,tt(tt({},F.props),xe));function ge(oe){return typeof W.dataKey=="function"?W.dataKey(oe.payload):null}if(de)if(P>=0){var je,pe;if(W.dataKey&&!W.allowDuplicatedCategory){var Je=typeof W.dataKey=="function"?ge:"payload.".concat(W.dataKey.toString());je=$p(he,Je,I),pe=U&&Y&&$p(Y,Je,I)}else je=he==null?void 0:he[P],pe=U&&Y&&Y[P];if(ae||Q){var Ee=k.props.activeIndex!==void 0?k.props.activeIndex:P;return[N.cloneElement(k,tt(tt(tt({},F.props),xe),{},{activeIndex:Ee})),null,null]}if(!Jt(je))return[Z].concat(Vc(A.renderActivePoints({item:F,activePoint:je,basePoint:pe,childIndex:P,isRange:U})))}else{var Ve,le=(Ve=A.getItemByXY(A.state.activeCoordinate))!==null&&Ve!==void 0?Ve:{graphicalItem:Z},Ce=le.graphicalItem,Qe=Ce.item,re=Qe===void 0?k:Qe,ce=Ce.childIndex,J=tt(tt(tt({},F.props),xe),{},{activeIndex:ce});return[N.cloneElement(re,J),null,null]}return U?[Z,null,null]:[Z,null]}),Dt(A,"renderCustomized",function(k,D,B){return N.cloneElement(k,tt(tt({key:"recharts-customized-".concat(B)},A.props),A.state))}),Dt(A,"renderMap",{CartesianGrid:{handler:yp,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:yp},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:yp},YAxis:{handler:yp},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((C=E.id)!==null&&C!==void 0?C:Ph("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=$D(A.triggeredAfterMouseMove,(S=E.throttleDelay)!==null&&S!==void 0?S:1e3/60),A.state={},A}return Lte(T,y),Pte(T,[{key:"componentDidMount",value:function(){var C,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,S=C.children,A=C.data,k=C.height,D=C.layout,B=Aa(S,ci);if(B){var F=B.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,L=F2(this.state,A,F,M),O=this.state.tooltipTicks[F].coordinate,W=(this.state.offset.top+k)/2,P=D==="horizontal",I=P?{x:O,y:W}:{y:O,x:W},R=this.state.formattedGraphicalItems.find(function(V){var he=V.item;return he.type.name==="Scatter"});R&&(I=tt(tt({},I),R.props.points[F].tooltipPosition),L=R.props.points[F].tooltipPayload);var H={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:M,activePayload:L,activeCoordinate:I};this.setState(H),this.renderCursor(B),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var A,k;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(C){wj([Aa(C.children,ci)],[Aa(this.props.children,ci)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=Aa(this.props.children,ci);if(C&&typeof C.props.shared=="boolean"){var S=C.props.shared?"axis":"item";return d.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var S=this.container,A=S.getBoundingClientRect(),k=Qq(A),D={chartX:Math.round(C.pageX-k.left),chartY:Math.round(C.pageY-k.top)},B=A.width/S.offsetWidth||1,F=this.inRange(D.chartX,D.chartY,B);if(!F)return null;var M=this.state,L=M.xAxisMap,O=M.yAxisMap,W=this.getTooltipEventType(),P=xI(this.state,this.props.data,this.props.layout,F);if(W!=="axis"&&L&&O){var I=eo(L).scale,R=eo(O).scale,H=I&&I.invert?I.invert(D.chartX):null,V=R&&R.invert?R.invert(D.chartY):null;return tt(tt({},D),{},{xValue:H,yValue:V},P)}return P?tt(tt({},D),P):null}},{key:"inRange",value:function(C,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,D=C/A,B=S/A;if(k==="horizontal"||k==="vertical"){var F=this.state.offset,M=D>=F.left&&D<=F.left+F.width&&B>=F.top&&B<=F.top+F.height;return M?{x:D,y:B}:null}var L=this.state,O=L.angleAxisMap,W=L.radiusAxisMap;if(O&&W){var P=eo(O);return _4({x:D,y:B},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,S=this.getTooltipEventType(),A=Aa(C,ci),k={};A&&S==="axis"&&(A.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var D=zp(this.props,this.handleOuterEvent);return tt(tt({},D),k)}},{key:"addListener",value:function(){ej.on(tj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ej.removeListener(tj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,S,A){for(var k=this.state.formattedGraphicalItems,D=0,B=k.length;D<B;D++){var F=k[D];if(F.item===C||F.props.key===C.key||S===us(F.item.type)&&A===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,S=this.state.offset,A=S.left,k=S.top,D=S.height,B=S.width;return ke.createElement("defs",null,ke.createElement("clipPath",{id:C},ke.createElement("rect",{x:A,y:k,height:D,width:B})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(S,A){var k=fI(A,2),D=k[0],B=k[1];return tt(tt({},S),{},Dt({},D,B.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(S,A){var k=fI(A,2),D=k[0],B=k[1];return tt(tt({},S),{},Dt({},D,B.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[C])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(C){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[C])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(C){var S=this.state,A=S.formattedGraphicalItems,k=S.activeItem;if(A&&A.length)for(var D=0,B=A.length;D<B;D++){var F=A[D],M=F.props,L=F.item,O=L.type.defaultProps!==void 0?tt(tt({},L.type.defaultProps),L.props):L.props,W=us(L.type);if(W==="Bar"){var P=(M.data||[]).find(function(V){return pQ(C,V)});if(P)return{graphicalItem:F,payload:P}}else if(W==="RadialBar"){var I=(M.data||[]).find(function(V){return _4(C,V)});if(I)return{graphicalItem:F,payload:I}}else if(N0(F,k)||T0(F,k)||ph(F,k)){var R=aZ({graphicalItem:F,activeTooltipItem:k,itemData:O.data}),H=O.activeIndex===void 0?R:O.activeIndex;return{graphicalItem:tt(tt({},F),{},{childIndex:H}),payload:ph(F,k)?O.data[R]:F.props.data[R]}}}return null}},{key:"render",value:function(){var C=this;if(!$E(this))return null;var S=this.props,A=S.children,k=S.className,D=S.width,B=S.height,F=S.style,M=S.compact,L=S.title,O=S.desc,W=pI(S,Ete),P=tr(W,!1);if(M)return ke.createElement(Yk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ke.createElement(Nj,dc({},P,{width:D,height:B,title:L,desc:O}),this.renderClipPath(),UE(A,this.renderMap)));if(this.props.accessibilityLayer){var I,R;P.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,P.role=(R=this.props.role)!==null&&R!==void 0?R:"application",P.onKeyDown=function(V){C.accessibilityManager.keyboardEvent(V)},P.onFocus=function(){C.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return ke.createElement(Yk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ke.createElement("div",dc({className:or("recharts-wrapper",k),style:tt({position:"relative",cursor:"default",width:D,height:B},F)},H,{ref:function(he){C.container=he}}),ke.createElement(Nj,dc({},P,{width:D,height:B,title:L,desc:O,style:Hte}),this.renderClipPath(),UE(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);Dt(j,"displayName",r),Dt(j,"defaultProps",tt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Dt(j,"getDerivedStateFromProps",function(y,T){var E=y.dataKey,C=y.data,S=y.children,A=y.width,k=y.height,D=y.layout,B=y.stackOffset,F=y.margin,M=T.dataStartIndex,L=T.dataEndIndex;if(T.updateId===void 0){var O=gI(y);return tt(tt(tt({},O),{},{updateId:0},v(tt(tt({props:y},O),{},{updateId:0}),T)),{},{prevDataKey:E,prevData:C,prevWidth:A,prevHeight:k,prevLayout:D,prevStackOffset:B,prevMargin:F,prevChildren:S})}if(E!==T.prevDataKey||C!==T.prevData||A!==T.prevWidth||k!==T.prevHeight||D!==T.prevLayout||B!==T.prevStackOffset||!fc(F,T.prevMargin)){var W=gI(y),P={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},I=tt(tt({},xI(T,C,D)),{},{updateId:T.updateId+1}),R=tt(tt(tt({},W),P),I);return tt(tt(tt({},R),v(tt({props:y},R),T)),{},{prevDataKey:E,prevData:C,prevWidth:A,prevHeight:k,prevLayout:D,prevStackOffset:B,prevMargin:F,prevChildren:S})}if(!wj(S,T.prevChildren)){var H,V,he,U,Y=Aa(S,Pc),z=Y&&(H=(V=Y.props)===null||V===void 0?void 0:V.startIndex)!==null&&H!==void 0?H:M,ee=Y&&(he=(U=Y.props)===null||U===void 0?void 0:U.endIndex)!==null&&he!==void 0?he:L,q=z!==M||ee!==L,Q=!Jt(C),ae=Q&&!q?T.updateId:T.updateId+1;return tt(tt({updateId:ae},v(tt(tt({props:y},T),{},{updateId:ae,dataStartIndex:z,dataEndIndex:ee}),T)),{},{prevChildren:S,dataStartIndex:z,dataEndIndex:ee})}return null}),Dt(j,"renderActiveDot",function(y,T,E){var C;return N.isValidElement(y)?C=N.cloneElement(y,T):Gt(y)?C=y(T):C=ke.createElement(rS,T),ke.createElement(Kr,{className:"recharts-active-dot",key:E},C)});var b=N.forwardRef(function(T,E){return ke.createElement(j,dc({},T,{ref:E}))});return b.displayName=j.displayName,b},tre=Y5({chartName:"LineChart",GraphicalChild:Uh,axisComponents:[{axisType:"xAxis",AxisComp:qc},{axisType:"yAxis",AxisComp:Hc}],formatAxisMap:f5}),rre=Y5({chartName:"BarChart",GraphicalChild:fl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qc},{axisType:"yAxis",AxisComp:Hc}],formatAxisMap:f5});function K5(e,t){return function(){return e.apply(t,arguments)}}const{toString:nre}=Object.prototype,{getPrototypeOf:hS}=Object,{iterator:I0,toStringTag:X5}=Symbol,D0=(e=>t=>{const r=nre.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Si=e=>(e=e.toLowerCase(),t=>D0(t)===e),R0=e=>t=>typeof t===e,{isArray:od}=Array,jh=R0("undefined");function are(e){return e!==null&&!jh(e)&&e.constructor!==null&&!jh(e.constructor)&&da(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Q5=Si("ArrayBuffer");function ire(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Q5(e.buffer),t}const sre=R0("string"),da=R0("function"),Z5=R0("number"),P0=e=>e!==null&&typeof e=="object",ore=e=>e===!0||e===!1,_p=e=>{if(D0(e)!=="object")return!1;const t=hS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(X5 in e)&&!(I0 in e)},lre=Si("Date"),cre=Si("File"),dre=Si("Blob"),ure=Si("FileList"),hre=e=>P0(e)&&da(e.pipe),fre=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||da(e.append)&&((t=D0(e))==="formdata"||t==="object"&&da(e.toString)&&e.toString()==="[object FormData]"))},pre=Si("URLSearchParams"),[mre,xre,gre,yre]=["ReadableStream","Request","Response","Headers"].map(Si),vre=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qh(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,i;if(typeof e!="object"&&(e=[e]),od(e))for(a=0,i=e.length;a<i;a++)t.call(null,e[a],a,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;let d;for(a=0;a<l;a++)d=s[a],t.call(null,e[d],d,e)}}function J5(e,t){t=t.toLowerCase();const r=Object.keys(e);let a=r.length,i;for(;a-- >0;)if(i=r[a],t===i.toLowerCase())return i;return null}const Go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,e8=e=>!jh(e)&&e!==Go;function L2(){const{caseless:e}=e8(this)&&this||{},t={},r=(a,i)=>{const s=e&&J5(t,i)||i;_p(t[s])&&_p(a)?t[s]=L2(t[s],a):_p(a)?t[s]=L2({},a):od(a)?t[s]=a.slice():t[s]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&qh(arguments[a],r);return t}const bre=(e,t,r,{allOwnKeys:a}={})=>(qh(t,(i,s)=>{r&&da(i)?e[s]=K5(i,r):e[s]=i},{allOwnKeys:a}),e),jre=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),wre=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Sre=(e,t,r,a)=>{let i,s,l;const d={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)l=i[s],(!a||a(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=r!==!1&&hS(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Nre=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},Tre=e=>{if(!e)return null;if(od(e))return e;let t=e.length;if(!Z5(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Cre=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hS(Uint8Array)),Are=(e,t)=>{const a=(e&&e[I0]).call(e);let i;for(;(i=a.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Ere=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},Ore=Si("HTMLFormElement"),_re=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,i){return a.toUpperCase()+i}),vI=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),kre=Si("RegExp"),t8=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};qh(r,(i,s)=>{let l;(l=t(i,s,e))!==!1&&(a[s]=l||i)}),Object.defineProperties(e,a)},Ire=e=>{t8(e,(t,r)=>{if(da(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(da(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Dre=(e,t)=>{const r={},a=i=>{i.forEach(s=>{r[s]=!0})};return od(e)?a(e):a(String(e).split(t)),r},Rre=()=>{},Pre=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Mre(e){return!!(e&&da(e.append)&&e[X5]==="FormData"&&e[I0])}const Bre=e=>{const t=new Array(10),r=(a,i)=>{if(P0(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[i]=a;const s=od(a)?[]:{};return qh(a,(l,d)=>{const u=r(l,i+1);!jh(u)&&(s[d]=u)}),t[i]=void 0,s}}return a};return r(e,0)},Fre=Si("AsyncFunction"),Lre=e=>e&&(P0(e)||da(e))&&da(e.then)&&da(e.catch),r8=((e,t)=>e?setImmediate:t?((r,a)=>(Go.addEventListener("message",({source:i,data:s})=>{i===Go&&s===r&&a.length&&a.shift()()},!1),i=>{a.push(i),Go.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",da(Go.postMessage)),$re=typeof queueMicrotask<"u"?queueMicrotask.bind(Go):typeof process<"u"&&process.nextTick||r8,zre=e=>e!=null&&da(e[I0]),Ke={isArray:od,isArrayBuffer:Q5,isBuffer:are,isFormData:fre,isArrayBufferView:ire,isString:sre,isNumber:Z5,isBoolean:ore,isObject:P0,isPlainObject:_p,isReadableStream:mre,isRequest:xre,isResponse:gre,isHeaders:yre,isUndefined:jh,isDate:lre,isFile:cre,isBlob:dre,isRegExp:kre,isFunction:da,isStream:hre,isURLSearchParams:pre,isTypedArray:Cre,isFileList:ure,forEach:qh,merge:L2,extend:bre,trim:vre,stripBOM:jre,inherits:wre,toFlatObject:Sre,kindOf:D0,kindOfTest:Si,endsWith:Nre,toArray:Tre,forEachEntry:Are,matchAll:Ere,isHTMLForm:Ore,hasOwnProperty:vI,hasOwnProp:vI,reduceDescriptors:t8,freezeMethods:Ire,toObjectSet:Dre,toCamelCase:_re,noop:Rre,toFiniteNumber:Pre,findKey:J5,global:Go,isContextDefined:e8,isSpecCompliantForm:Mre,toJSONObject:Bre,isAsyncFn:Fre,isThenable:Lre,setImmediate:r8,asap:$re,isIterable:zre};function Ut(e,t,r,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}Ke.inherits(Ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ke.toJSONObject(this.config),code:this.code,status:this.status}}});const n8=Ut.prototype,a8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{a8[e]={value:e}});Object.defineProperties(Ut,a8);Object.defineProperty(n8,"isAxiosError",{value:!0});Ut.from=(e,t,r,a,i,s)=>{const l=Object.create(n8);return Ke.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError"),Ut.call(l,e.message,t,r,a,i),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const Ure=null;function $2(e){return Ke.isPlainObject(e)||Ke.isArray(e)}function i8(e){return Ke.endsWith(e,"[]")?e.slice(0,-2):e}function bI(e,t,r){return e?e.concat(t).map(function(i,s){return i=i8(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function qre(e){return Ke.isArray(e)&&!e.some($2)}const Wre=Ke.toFlatObject(Ke,{},null,function(t){return/^is[A-Z]/.test(t)});function M0(e,t,r){if(!Ke.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ke.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!Ke.isUndefined(y[b])});const a=r.metaTokens,i=r.visitor||p,s=r.dots,l=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Ke.isSpecCompliantForm(t);if(!Ke.isFunction(i))throw new TypeError("visitor must be a function");function h(j){if(j===null)return"";if(Ke.isDate(j))return j.toISOString();if(Ke.isBoolean(j))return j.toString();if(!u&&Ke.isBlob(j))throw new Ut("Blob is not supported. Use a Buffer instead.");return Ke.isArrayBuffer(j)||Ke.isTypedArray(j)?u&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function p(j,b,y){let T=j;if(j&&!y&&typeof j=="object"){if(Ke.endsWith(b,"{}"))b=a?b:b.slice(0,-2),j=JSON.stringify(j);else if(Ke.isArray(j)&&qre(j)||(Ke.isFileList(j)||Ke.endsWith(b,"[]"))&&(T=Ke.toArray(j)))return b=i8(b),T.forEach(function(C,S){!(Ke.isUndefined(C)||C===null)&&t.append(l===!0?bI([b],S,s):l===null?b:b+"[]",h(C))}),!1}return $2(j)?!0:(t.append(bI(y,b,s),h(j)),!1)}const m=[],g=Object.assign(Wre,{defaultVisitor:p,convertValue:h,isVisitable:$2});function v(j,b){if(!Ke.isUndefined(j)){if(m.indexOf(j)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(j),Ke.forEach(j,function(T,E){(!(Ke.isUndefined(T)||T===null)&&i.call(t,T,Ke.isString(E)?E.trim():E,b,g))===!0&&v(T,b?b.concat(E):[E])}),m.pop()}}if(!Ke.isObject(e))throw new TypeError("data must be an object");return v(e),t}function jI(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function fS(e,t){this._pairs=[],e&&M0(e,this,t)}const s8=fS.prototype;s8.append=function(t,r){this._pairs.push([t,r])};s8.toString=function(t){const r=t?function(a){return t.call(this,a,jI)}:jI;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Hre(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function o8(e,t,r){if(!t)return e;const a=r&&r.encode||Hre;Ke.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=Ke.isURLSearchParams(t)?t.toString():new fS(t,r).toString(a),s){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class wI{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ke.forEach(this.handlers,function(a){a!==null&&t(a)})}}const l8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gre=typeof URLSearchParams<"u"?URLSearchParams:fS,Vre=typeof FormData<"u"?FormData:null,Yre=typeof Blob<"u"?Blob:null,Kre={isBrowser:!0,classes:{URLSearchParams:Gre,FormData:Vre,Blob:Yre},protocols:["http","https","file","blob","url","data"]},pS=typeof window<"u"&&typeof document<"u",z2=typeof navigator=="object"&&navigator||void 0,Xre=pS&&(!z2||["ReactNative","NativeScript","NS"].indexOf(z2.product)<0),Qre=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zre=pS&&window.location.href||"http://localhost",Jre=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pS,hasStandardBrowserEnv:Xre,hasStandardBrowserWebWorkerEnv:Qre,navigator:z2,origin:Zre},Symbol.toStringTag,{value:"Module"})),Un={...Jre,...Kre};function ene(e,t){return M0(e,new Un.classes.URLSearchParams,Object.assign({visitor:function(r,a,i,s){return Un.isNode&&Ke.isBuffer(r)?(this.append(a,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function tne(e){return Ke.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rne(e){const t={},r=Object.keys(e);let a;const i=r.length;let s;for(a=0;a<i;a++)s=r[a],t[s]=e[s];return t}function c8(e){function t(r,a,i,s){let l=r[s++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),u=s>=r.length;return l=!l&&Ke.isArray(i)?i.length:l,u?(Ke.hasOwnProp(i,l)?i[l]=[i[l],a]:i[l]=a,!d):((!i[l]||!Ke.isObject(i[l]))&&(i[l]=[]),t(r,a,i[l],s)&&Ke.isArray(i[l])&&(i[l]=rne(i[l])),!d)}if(Ke.isFormData(e)&&Ke.isFunction(e.entries)){const r={};return Ke.forEachEntry(e,(a,i)=>{t(tne(a),i,r,0)}),r}return null}function nne(e,t,r){if(Ke.isString(e))try{return(t||JSON.parse)(e),Ke.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Wh={transitional:l8,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",i=a.indexOf("application/json")>-1,s=Ke.isObject(t);if(s&&Ke.isHTMLForm(t)&&(t=new FormData(t)),Ke.isFormData(t))return i?JSON.stringify(c8(t)):t;if(Ke.isArrayBuffer(t)||Ke.isBuffer(t)||Ke.isStream(t)||Ke.isFile(t)||Ke.isBlob(t)||Ke.isReadableStream(t))return t;if(Ke.isArrayBufferView(t))return t.buffer;if(Ke.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(s){if(a.indexOf("application/x-www-form-urlencoded")>-1)return ene(t,this.formSerializer).toString();if((d=Ke.isFileList(t))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return M0(d?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),nne(t)):t}],transformResponse:[function(t){const r=this.transitional||Wh.transitional,a=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ke.isResponse(t)||Ke.isReadableStream(t))return t;if(t&&Ke.isString(t)&&(a&&!this.responseType||i)){const l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(d){if(l)throw d.name==="SyntaxError"?Ut.from(d,Ut.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Un.classes.FormData,Blob:Un.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ke.forEach(["delete","get","head","post","put","patch"],e=>{Wh.headers[e]={}});const ane=Ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ine=e=>{const t={};let r,a,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),a=l.substring(i+1).trim(),!(!r||t[r]&&ane[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},SI=Symbol("internals");function yu(e){return e&&String(e).trim().toLowerCase()}function kp(e){return e===!1||e==null?e:Ke.isArray(e)?e.map(kp):String(e)}function sne(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const one=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function nj(e,t,r,a,i){if(Ke.isFunction(a))return a.call(this,t,r);if(i&&(t=r),!!Ke.isString(t)){if(Ke.isString(a))return t.indexOf(a)!==-1;if(Ke.isRegExp(a))return a.test(t)}}function lne(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function cne(e,t){const r=Ke.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(i,s,l){return this[a].call(this,t,i,s,l)},configurable:!0})})}let ua=class{constructor(t){t&&this.set(t)}set(t,r,a){const i=this;function s(d,u,h){const p=yu(u);if(!p)throw new Error("header name must be a non-empty string");const m=Ke.findKey(i,p);(!m||i[m]===void 0||h===!0||h===void 0&&i[m]!==!1)&&(i[m||u]=kp(d))}const l=(d,u)=>Ke.forEach(d,(h,p)=>s(h,p,u));if(Ke.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(Ke.isString(t)&&(t=t.trim())&&!one(t))l(ine(t),r);else if(Ke.isObject(t)&&Ke.isIterable(t)){let d={},u,h;for(const p of t){if(!Ke.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[h=p[0]]=(u=d[h])?Ke.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}l(d,r)}else t!=null&&s(r,t,a);return this}get(t,r){if(t=yu(t),t){const a=Ke.findKey(this,t);if(a){const i=this[a];if(!r)return i;if(r===!0)return sne(i);if(Ke.isFunction(r))return r.call(this,i,a);if(Ke.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=yu(t),t){const a=Ke.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||nj(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let i=!1;function s(l){if(l=yu(l),l){const d=Ke.findKey(a,l);d&&(!r||nj(a,a[d],d,r))&&(delete a[d],i=!0)}}return Ke.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let a=r.length,i=!1;for(;a--;){const s=r[a];(!t||nj(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,a={};return Ke.forEach(this,(i,s)=>{const l=Ke.findKey(a,s);if(l){r[l]=kp(i),delete r[s];return}const d=t?lne(s):String(s).trim();d!==s&&delete r[s],r[d]=kp(i),a[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ke.forEach(this,(a,i)=>{a!=null&&a!==!1&&(r[i]=t&&Ke.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(i=>a.set(i)),a}static accessor(t){const a=(this[SI]=this[SI]={accessors:{}}).accessors,i=this.prototype;function s(l){const d=yu(l);a[d]||(cne(i,l),a[d]=!0)}return Ke.isArray(t)?t.forEach(s):s(t),this}};ua.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ke.reduceDescriptors(ua.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});Ke.freezeMethods(ua);function aj(e,t){const r=this||Wh,a=t||r,i=ua.from(a.headers);let s=a.data;return Ke.forEach(e,function(d){s=d.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function d8(e){return!!(e&&e.__CANCEL__)}function ld(e,t,r){Ut.call(this,e??"canceled",Ut.ERR_CANCELED,t,r),this.name="CanceledError"}Ke.inherits(ld,Ut,{__CANCEL__:!0});function u8(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new Ut("Request failed with status code "+r.status,[Ut.ERR_BAD_REQUEST,Ut.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dne(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function une(e,t){e=e||10;const r=new Array(e),a=new Array(e);let i=0,s=0,l;return t=t!==void 0?t:1e3,function(u){const h=Date.now(),p=a[s];l||(l=h),r[i]=u,a[i]=h;let m=s,g=0;for(;m!==i;)g+=r[m++],m=m%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),h-l<t)return;const v=p&&h-p;return v?Math.round(g*1e3/v):void 0}}function hne(e,t){let r=0,a=1e3/t,i,s;const l=(h,p=Date.now())=>{r=p,i=null,s&&(clearTimeout(s),s=null),e.apply(null,h)};return[(...h)=>{const p=Date.now(),m=p-r;m>=a?l(h,p):(i=h,s||(s=setTimeout(()=>{s=null,l(i)},a-m)))},()=>i&&l(i)]}const Mm=(e,t,r=3)=>{let a=0;const i=une(50,250);return hne(s=>{const l=s.loaded,d=s.lengthComputable?s.total:void 0,u=l-a,h=i(u),p=l<=d;a=l;const m={loaded:l,total:d,progress:d?l/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&p?(d-l)/h:void 0,event:s,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(m)},r)},NI=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},TI=e=>(...t)=>Ke.asap(()=>e(...t)),fne=Un.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Un.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Un.origin),Un.navigator&&/(msie|trident)/i.test(Un.navigator.userAgent)):()=>!0,pne=Un.hasStandardBrowserEnv?{write(e,t,r,a,i,s){const l=[e+"="+encodeURIComponent(t)];Ke.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),Ke.isString(a)&&l.push("path="+a),Ke.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function mne(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xne(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function h8(e,t,r){let a=!mne(t);return e&&(a||r==!1)?xne(e,t):t}const CI=e=>e instanceof ua?{...e}:e;function nl(e,t){t=t||{};const r={};function a(h,p,m,g){return Ke.isPlainObject(h)&&Ke.isPlainObject(p)?Ke.merge.call({caseless:g},h,p):Ke.isPlainObject(p)?Ke.merge({},p):Ke.isArray(p)?p.slice():p}function i(h,p,m,g){if(Ke.isUndefined(p)){if(!Ke.isUndefined(h))return a(void 0,h,m,g)}else return a(h,p,m,g)}function s(h,p){if(!Ke.isUndefined(p))return a(void 0,p)}function l(h,p){if(Ke.isUndefined(p)){if(!Ke.isUndefined(h))return a(void 0,h)}else return a(void 0,p)}function d(h,p,m){if(m in t)return a(h,p);if(m in e)return a(void 0,h)}const u={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,p,m)=>i(CI(h),CI(p),m,!0)};return Ke.forEach(Object.keys(Object.assign({},e,t)),function(p){const m=u[p]||i,g=m(e[p],t[p],p);Ke.isUndefined(g)&&m!==d||(r[p]=g)}),r}const f8=e=>{const t=nl({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:d}=t;t.headers=l=ua.from(l),t.url=o8(h8(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let u;if(Ke.isFormData(r)){if(Un.hasStandardBrowserEnv||Un.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[h,...p]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...p].join("; "))}}if(Un.hasStandardBrowserEnv&&(a&&Ke.isFunction(a)&&(a=a(t)),a||a!==!1&&fne(t.url))){const h=i&&s&&pne.read(s);h&&l.set(i,h)}return t},gne=typeof XMLHttpRequest<"u",yne=gne&&function(e){return new Promise(function(r,a){const i=f8(e);let s=i.data;const l=ua.from(i.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:h}=i,p,m,g,v,j;function b(){v&&v(),j&&j(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function T(){if(!y)return;const C=ua.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),A={data:!d||d==="text"||d==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:e,request:y};u8(function(D){r(D),b()},function(D){a(D),b()},A),y=null}"onloadend"in y?y.onloadend=T:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(T)},y.onabort=function(){y&&(a(new Ut("Request aborted",Ut.ECONNABORTED,e,y)),y=null)},y.onerror=function(){a(new Ut("Network Error",Ut.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||l8;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),a(new Ut(S,A.clarifyTimeoutError?Ut.ETIMEDOUT:Ut.ECONNABORTED,e,y)),y=null},s===void 0&&l.setContentType(null),"setRequestHeader"in y&&Ke.forEach(l.toJSON(),function(S,A){y.setRequestHeader(A,S)}),Ke.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),d&&d!=="json"&&(y.responseType=i.responseType),h&&([g,j]=Mm(h,!0),y.addEventListener("progress",g)),u&&y.upload&&([m,v]=Mm(u),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(p=C=>{y&&(a(!C||C.type?new ld(null,e,y):C),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const E=dne(i.url);if(E&&Un.protocols.indexOf(E)===-1){a(new Ut("Unsupported protocol "+E+":",Ut.ERR_BAD_REQUEST,e));return}y.send(s||null)})},vne=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,i;const s=function(h){if(!i){i=!0,d();const p=h instanceof Error?h:this.reason;a.abort(p instanceof Ut?p:new ld(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,s(new Ut(`timeout ${t} of ms exceeded`,Ut.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),e=null)};e.forEach(h=>h.addEventListener("abort",s));const{signal:u}=a;return u.unsubscribe=()=>Ke.asap(d),u}},bne=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,i;for(;a<r;)i=a+t,yield e.slice(a,i),a=i},jne=async function*(e,t){for await(const r of wne(e))yield*bne(r,t)},wne=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},AI=(e,t,r,a)=>{const i=jne(e,t);let s=0,l,d=u=>{l||(l=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:h,value:p}=await i.next();if(h){d(),u.close();return}let m=p.byteLength;if(r){let g=s+=m;r(g)}u.enqueue(new Uint8Array(p))}catch(h){throw d(h),h}},cancel(u){return d(u),i.return()}},{highWaterMark:2})},B0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",p8=B0&&typeof ReadableStream=="function",Sne=B0&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),m8=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Nne=p8&&m8(()=>{let e=!1;const t=new Request(Un.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),EI=64*1024,U2=p8&&m8(()=>Ke.isReadableStream(new Response("").body)),Bm={stream:U2&&(e=>e.body)};B0&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Bm[t]&&(Bm[t]=Ke.isFunction(e[t])?r=>r[t]():(r,a)=>{throw new Ut(`Response type '${t}' is not supported`,Ut.ERR_NOT_SUPPORT,a)})})})(new Response);const Tne=async e=>{if(e==null)return 0;if(Ke.isBlob(e))return e.size;if(Ke.isSpecCompliantForm(e))return(await new Request(Un.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ke.isArrayBufferView(e)||Ke.isArrayBuffer(e))return e.byteLength;if(Ke.isURLSearchParams(e)&&(e=e+""),Ke.isString(e))return(await Sne(e)).byteLength},Cne=async(e,t)=>{const r=Ke.toFiniteNumber(e.getContentLength());return r??Tne(t)},Ane=B0&&(async e=>{let{url:t,method:r,data:a,signal:i,cancelToken:s,timeout:l,onDownloadProgress:d,onUploadProgress:u,responseType:h,headers:p,withCredentials:m="same-origin",fetchOptions:g}=f8(e);h=h?(h+"").toLowerCase():"text";let v=vne([i,s&&s.toAbortSignal()],l),j;const b=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let y;try{if(u&&Nne&&r!=="get"&&r!=="head"&&(y=await Cne(p,a))!==0){let A=new Request(t,{method:"POST",body:a,duplex:"half"}),k;if(Ke.isFormData(a)&&(k=A.headers.get("content-type"))&&p.setContentType(k),A.body){const[D,B]=NI(y,Mm(TI(u)));a=AI(A.body,EI,D,B)}}Ke.isString(m)||(m=m?"include":"omit");const T="credentials"in Request.prototype;j=new Request(t,{...g,signal:v,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:a,duplex:"half",credentials:T?m:void 0});let E=await fetch(j,g);const C=U2&&(h==="stream"||h==="response");if(U2&&(d||C&&b)){const A={};["status","statusText","headers"].forEach(F=>{A[F]=E[F]});const k=Ke.toFiniteNumber(E.headers.get("content-length")),[D,B]=d&&NI(k,Mm(TI(d),!0))||[];E=new Response(AI(E.body,EI,D,()=>{B&&B(),b&&b()}),A)}h=h||"text";let S=await Bm[Ke.findKey(Bm,h)||"text"](E,e);return!C&&b&&b(),await new Promise((A,k)=>{u8(A,k,{data:S,headers:ua.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:j})})}catch(T){throw b&&b(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Ut("Network Error",Ut.ERR_NETWORK,e,j),{cause:T.cause||T}):Ut.from(T,T&&T.code,e,j)}}),q2={http:Ure,xhr:yne,fetch:Ane};Ke.forEach(q2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const OI=e=>`- ${e}`,Ene=e=>Ke.isFunction(e)||e===null||e===!1,x8={getAdapter:e=>{e=Ke.isArray(e)?e:[e];const{length:t}=e;let r,a;const i={};for(let s=0;s<t;s++){r=e[s];let l;if(a=r,!Ene(r)&&(a=q2[(l=String(r)).toLowerCase()],a===void 0))throw new Ut(`Unknown adapter '${l}'`);if(a)break;i[l||"#"+s]=a}if(!a){const s=Object.entries(i).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=t?s.length>1?`since :
`+s.map(OI).join(`
`):" "+OI(s[0]):"as no adapter specified";throw new Ut("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:q2};function ij(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ld(null,e)}function _I(e){return ij(e),e.headers=ua.from(e.headers),e.data=aj.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),x8.getAdapter(e.adapter||Wh.adapter)(e).then(function(a){return ij(e),a.data=aj.call(e,e.transformResponse,a),a.headers=ua.from(a.headers),a},function(a){return d8(a)||(ij(e),a&&a.response&&(a.response.data=aj.call(e,e.transformResponse,a.response),a.response.headers=ua.from(a.response.headers))),Promise.reject(a)})}const g8="1.10.0",F0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{F0[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const kI={};F0.transitional=function(t,r,a){function i(s,l){return"[Axios v"+g8+"] Transitional option '"+s+"'"+l+(a?". "+a:"")}return(s,l,d)=>{if(t===!1)throw new Ut(i(l," has been removed"+(r?" in "+r:"")),Ut.ERR_DEPRECATED);return r&&!kI[l]&&(kI[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,l,d):!0}};F0.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function One(e,t,r){if(typeof e!="object")throw new Ut("options must be an object",Ut.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let i=a.length;for(;i-- >0;){const s=a[i],l=t[s];if(l){const d=e[s],u=d===void 0||l(d,s,e);if(u!==!0)throw new Ut("option "+s+" must be "+u,Ut.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ut("Unknown option "+s,Ut.ERR_BAD_OPTION)}}const Ip={assertOptions:One,validators:F0},Oi=Ip.validators;let Ko=class{constructor(t){this.defaults=t||{},this.interceptors={request:new wI,response:new wI}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?s&&!String(a.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+s):a.stack=s}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=nl(this.defaults,r);const{transitional:a,paramsSerializer:i,headers:s}=r;a!==void 0&&Ip.assertOptions(a,{silentJSONParsing:Oi.transitional(Oi.boolean),forcedJSONParsing:Oi.transitional(Oi.boolean),clarifyTimeoutError:Oi.transitional(Oi.boolean)},!1),i!=null&&(Ke.isFunction(i)?r.paramsSerializer={serialize:i}:Ip.assertOptions(i,{encode:Oi.function,serialize:Oi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ip.assertOptions(r,{baseUrl:Oi.spelling("baseURL"),withXsrfToken:Oi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=s&&Ke.merge(s.common,s[r.method]);s&&Ke.forEach(["delete","get","head","post","put","patch","common"],j=>{delete s[j]}),r.headers=ua.concat(l,s);const d=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(u=u&&b.synchronous,d.unshift(b.fulfilled,b.rejected))});const h=[];this.interceptors.response.forEach(function(b){h.push(b.fulfilled,b.rejected)});let p,m=0,g;if(!u){const j=[_I.bind(this),void 0];for(j.unshift.apply(j,d),j.push.apply(j,h),g=j.length,p=Promise.resolve(r);m<g;)p=p.then(j[m++],j[m++]);return p}g=d.length;let v=r;for(m=0;m<g;){const j=d[m++],b=d[m++];try{v=j(v)}catch(y){b.call(this,y);break}}try{p=_I.call(this,v)}catch(j){return Promise.reject(j)}for(m=0,g=h.length;m<g;)p=p.then(h[m++],h[m++]);return p}getUri(t){t=nl(this.defaults,t);const r=h8(t.baseURL,t.url,t.allowAbsoluteUrls);return o8(r,t.params,t.paramsSerializer)}};Ke.forEach(["delete","get","head","options"],function(t){Ko.prototype[t]=function(r,a){return this.request(nl(a||{},{method:t,url:r,data:(a||{}).data}))}});Ke.forEach(["post","put","patch"],function(t){function r(a){return function(s,l,d){return this.request(nl(d||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Ko.prototype[t]=r(),Ko.prototype[t+"Form"]=r(!0)});let _ne=class y8{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const a=this;this.promise.then(i=>{if(!a._listeners)return;let s=a._listeners.length;for(;s-- >0;)a._listeners[s](i);a._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(d=>{a.subscribe(d),s=d}).then(i);return l.cancel=function(){a.unsubscribe(s)},l},t(function(s,l,d){a.reason||(a.reason=new ld(s,l,d),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new y8(function(i){t=i}),cancel:t}}};function kne(e){return function(r){return e.apply(null,r)}}function Ine(e){return Ke.isObject(e)&&e.isAxiosError===!0}const W2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(W2).forEach(([e,t])=>{W2[t]=e});function v8(e){const t=new Ko(e),r=K5(Ko.prototype.request,t);return Ke.extend(r,Ko.prototype,t,{allOwnKeys:!0}),Ke.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return v8(nl(e,i))},r}const Mt=v8(Wh);Mt.Axios=Ko;Mt.CanceledError=ld;Mt.CancelToken=_ne;Mt.isCancel=d8;Mt.VERSION=g8;Mt.toFormData=M0;Mt.AxiosError=Ut;Mt.Cancel=Mt.CanceledError;Mt.all=function(t){return Promise.all(t)};Mt.spread=kne;Mt.isAxiosError=Ine;Mt.mergeConfig=nl;Mt.AxiosHeaders=ua;Mt.formToJSON=e=>c8(Ke.isHTMLForm(e)?new FormData(e):e);Mt.getAdapter=x8.getAdapter;Mt.HttpStatusCode=W2;Mt.default=Mt;const{Axios:Ife,AxiosError:Dfe,CanceledError:Rfe,isCancel:Pfe,CancelToken:Mfe,VERSION:Bfe,all:Ffe,Cancel:Lfe,isAxiosError:$fe,spread:zfe,toFormData:Ufe,AxiosHeaders:qfe,HttpStatusCode:Wfe,formToJSON:Hfe,getAdapter:Gfe,mergeConfig:Vfe}=Mt,vu=Mt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),Dne=()=>{const[e,t]=N.useState(!0),[r,a]=N.useState(""),[i,s]=N.useState("overview"),[l,d]=N.useState({totalOrders:0,totalRevenue:0,counterOrders:0,staffOrders:0,guestOrders:0,regularOrders:0,counterRevenue:0,staffRevenue:0,guestRevenue:0,regularRevenue:0,totalUsers:0,todayOrders:0,todayRevenue:0}),[u,h]=N.useState([]),[p,m]=N.useState([]),[g,v]=N.useState([]),[j,b]=N.useState([]),[y,T]=N.useState([]),[E,C]=N.useState([]),[S,A]=N.useState(""),[k,D]=N.useState("all"),[B,F]=N.useState("all"),[M,L]=N.useState("all"),[O,W]=N.useState("date"),[P,I]=N.useState("desc"),[R,H]=N.useState(1),[V,he]=N.useState(1),U=10,[Y,z]=N.useState(null),[ee,q]=N.useState(!1);N.useEffect(()=>{Q()},[]),N.useEffect(()=>{xe()},[g,j,S,k,B,M,O,P,i]),N.useEffect(()=>{Z()},[y,R]);const Q=async()=>{var Ee;t(!0),a("");try{const[Ve,le,Ce,Qe]=await Promise.allSettled([vu.get("/counter-order/orders"),vu.get("/staff-order"),vu.get("/user-auth"),vu.get("/branch")]),re=await vu.get("/order",{params:{limit:1e3,sortBy:"createdAt",sortOrder:"desc"}}),ce=Ve.status==="fulfilled"?Ve.value.data:{orders:[]},J=le.status==="fulfilled"?le.value.data:{orders:[]},oe=Ce.status==="fulfilled"?Ce.value.data:[],te=Qe.status==="fulfilled"?Qe.value.data:[],Se=((Ee=ce.orders)==null?void 0:Ee.map(_e=>{var rt,Ot,zt;return{id:_e.id,type:"counter",orderId:((rt=_e.invoice)==null?void 0:rt.invoiceNumber)||_e.id,customer:_e.customerName||"Unknown Customer",staff:((Ot=_e.userId)==null?void 0:Ot.name)||"Unknown Counter User",date:new Date(_e.createdAt),dateString:new Date(_e.createdAt).toLocaleDateString(),branch:((zt=_e.branch)==null?void 0:zt.name)||"Unknown Branch",amount:_e.grandTotal||_e.totalAmount||0,status:_e.orderStatus||"pending",paymentStatus:_e.paymentStatus||"pending",paymentMethod:_e.paymentMethod||"cash",items:_e.items||[],subtotal:_e.subtotal||0,tax:_e.tax||0,serviceCharge:_e.serviceCharge||0,isGuestOrder:!0,originalOrder:_e}}))||[],Ge=[],Ue=(re.data.orders||re.data.data||[]).map(_e=>{var rt,Ot;return{id:_e._id,type:"online",orderId:_e.orderNumber,customer:_e.name,staff:((rt=_e.userId)==null?void 0:rt.name)||"Online Order",date:new Date(_e.createdAt),dateString:new Date(_e.createdAt).toLocaleDateString(),branch:((Ot=_e.branchId)==null?void 0:Ot.name)||"Online",amount:_e.total||0,status:_e.status||"pending",paymentStatus:_e.paymentStatus||"completed",paymentMethod:_e.paymentMethod||"online",items:_e.items||[],subtotal:_e.subtotal||0,tax:_e.tax||0,serviceCharge:0,discount:_e.discount||0,deliveryFee:_e.deliveryFee||0,phone:_e.phone||"",email:_e.email||"",deliveryOption:_e.deliveryOption||"delivery",deliveryAddress:_e.deliveryAddress||"",specialInstructions:_e.specialInstructions||"",isGuestOrder:!0,originalOrder:_e}}),dt=[...Se,...Ge,...Ue];v(dt),b(dt),ae(dt,oe.users||oe||[],null),de(dt)}catch(Ve){console.error("Error fetching dashboard data:",Ve),a("Failed to load dashboard data. Please refresh the page and try again.")}finally{t(!1)}},ae=(Ee,Ve,le)=>{const Ce=new Date().toDateString(),Qe=Array.isArray(Ee)?Ee:[],re=Array.isArray(Ve)?Ve:[],ce=Qe.filter(_e=>_e.type==="counter"),J=Qe.filter(_e=>_e.type==="Staff Order"),oe=Qe.filter(_e=>_e.type==="Guest Order"),te=Qe.filter(_e=>_e.type==="online"),Se=Qe.filter(_e=>_e.date&&_e.date.toDateString()===Ce),Ge=ce.length+J.length+oe.length+te.length,Xe=ce.reduce((_e,rt)=>_e+(rt.amount||0),0)+J.reduce((_e,rt)=>_e+(rt.amount||0),0)+oe.reduce((_e,rt)=>_e+(rt.amount||0),0)+te.reduce((_e,rt)=>_e+(rt.amount||0),0),Ue=Se.reduce((_e,rt)=>_e+(rt.amount||0),0),dt={totalOrders:Ge,totalRevenue:Xe,counterOrders:ce.length,staffOrders:J.length,guestOrders:oe.length,regularOrders:te.length,counterRevenue:ce.reduce((_e,rt)=>_e+(rt.amount||0),0),staffRevenue:J.reduce((_e,rt)=>_e+(rt.amount||0),0),guestRevenue:oe.reduce((_e,rt)=>_e+(rt.amount||0),0),regularRevenue:te.reduce((_e,rt)=>_e+(rt.amount||0),0),totalUsers:re.length,todayOrders:Se.length,todayRevenue:Ue};d(dt)},de=Ee=>{const Ve=Array.isArray(Ee)?Ee:[],le={},Ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Ve.forEach(ce=>{if(ce.date&&ce.date.getMonth){const J=Ce[ce.date.getMonth()];le[J]||(le[J]={month:J,revenue:0,orders:0}),le[J].revenue+=ce.amount||0,le[J].orders+=1}});const Qe=Object.values(le);m(Qe);const re=[{name:"Counter Orders",revenue:Ve.filter(ce=>ce.type==="counter").reduce((ce,J)=>ce+(J.amount||0),0),orders:Ve.filter(ce=>ce.type==="counter").length},{name:"Staff Orders",revenue:Ve.filter(ce=>ce.type==="Staff Order").reduce((ce,J)=>ce+(J.amount||0),0),orders:Ve.filter(ce=>ce.type==="Staff Order").length},{name:"Guest Orders",revenue:Ve.filter(ce=>ce.type==="Guest Order").reduce((ce,J)=>ce+(J.amount||0),0),orders:Ve.filter(ce=>ce.type==="Guest Order").length},{name:"Online Orders",revenue:Ve.filter(ce=>ce.type==="online").reduce((ce,J)=>ce+(J.amount||0),0),orders:Ve.filter(ce=>ce.type==="online").length}];h(re)},xe=()=>{let Ee=i==="orders"?g:j;if(S.trim()){const Ve=S.toLowerCase();Ee=Ee.filter(le=>le.orderId.toLowerCase().includes(Ve)||le.customer.toLowerCase().includes(Ve)||le.staff.toLowerCase().includes(Ve)||le.branch.toLowerCase().includes(Ve))}if(B!=="all"&&(Ee=Ee.filter(Ve=>Ve.type===B)),M!=="all"&&(Ee=Ee.filter(Ve=>Ve.status===M)),k!=="all"){const Ve=new Date,le=new Date;switch(k){case"today":Ee=Ee.filter(Ce=>Ce.date.toDateString()===Ve.toDateString());break;case"week":le.setDate(Ve.getDate()-7),Ee=Ee.filter(Ce=>Ce.date>=le);break;case"month":le.setMonth(Ve.getMonth()-1),Ee=Ee.filter(Ce=>Ce.date>=le);break}}Ee.sort((Ve,le)=>O==="date"?P==="asc"?Ve.date-le.date:le.date-Ve.date:O==="amount"?P==="asc"?Ve.amount-le.amount:le.amount-Ve.amount:0),T(Ee),he(Math.ceil(Ee.length/U)),H(1)},Z=()=>{const Ee=(R-1)*U,Ve=Ee+U;C(y.slice(Ee,Ve))},ge=Ee=>{O===Ee?I(P==="asc"?"desc":"asc"):(W(Ee),I("desc"))},je=Ee=>{z(Ee),q(!0)},pe=Ee=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(Ee),Je=Ee=>{switch(Ee==null?void 0:Ee.toLowerCase()){case"card":return n.jsx(Jn,{size:16});case"upi":return n.jsx(Lu,{size:16});case"online":return n.jsx(Jn,{size:16});default:return n.jsx(ds,{size:16})}};return e?n.jsxs("div",{className:"dashboard-loading",children:[n.jsx(la,{size:32,className:"animate-spin"}),n.jsx("p",{children:"Loading dashboard..."})]}):n.jsxs("div",{className:"comprehensive-dashboard",children:[r&&n.jsx("div",{className:"error-banner",children:n.jsx("span",{children:r})}),n.jsx("div",{className:"dashboard-header",children:n.jsx("h1",{children:"Dashboard"})}),n.jsxs("div",{className:"tab-navigation",children:[n.jsx("button",{className:`tab-btn ${i==="overview"?"active":""}`,onClick:()=>s("overview"),children:"Overview"}),n.jsx("button",{className:`tab-btn ${i==="orders"?"active":""}`,onClick:()=>s("orders"),children:"All Orders"}),n.jsx("button",{className:`tab-btn ${i==="payments"?"active":""}`,onClick:()=>s("payments"),children:"All Payments"})]}),i==="overview"&&n.jsxs("div",{className:"overview-content",children:[n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card primary",children:[n.jsx("div",{className:"stat-icon",children:n.jsx(W7,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:l.totalOrders.toLocaleString()}),n.jsx("p",{children:"Total Orders"}),n.jsx("div",{className:"stat-breakdown",children:n.jsxs("span",{children:["Today: ",l.todayOrders]})})]})]}),n.jsxs("div",{className:"stat-card success",children:[n.jsx("div",{className:"stat-icon",children:n.jsx(ds,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:pe(l.totalRevenue)}),n.jsx("p",{children:"Total Revenue"}),n.jsx("div",{className:"stat-breakdown",children:n.jsxs("span",{children:["Today: ",pe(l.todayRevenue)]})})]})]}),n.jsxs("div",{className:"stat-card info",children:[n.jsx("div",{className:"stat-icon",children:n.jsx(is,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:l.totalUsers.toLocaleString()}),n.jsx("p",{children:"Total Users"})]})]})]}),n.jsxs("div",{className:"breakdown-grid",children:[n.jsxs("div",{className:"breakdown-card",children:[n.jsx("h3",{children:"Counter Orders"}),n.jsxs("div",{className:"breakdown-stats",children:[n.jsx("div",{className:"breakdown-number",children:l.counterOrders}),n.jsx("div",{className:"breakdown-revenue",children:pe(l.counterRevenue)})]})]}),n.jsxs("div",{className:"breakdown-card",children:[n.jsx("h3",{children:"Staff Orders"}),n.jsxs("div",{className:"breakdown-stats",children:[n.jsx("div",{className:"breakdown-number",children:l.staffOrders}),n.jsx("div",{className:"breakdown-revenue",children:pe(l.staffRevenue)})]})]}),n.jsxs("div",{className:"breakdown-card",children:[n.jsx("h3",{children:"Guest Orders"}),n.jsxs("div",{className:"breakdown-stats",children:[n.jsx("div",{className:"breakdown-number",children:l.guestOrders}),n.jsx("div",{className:"breakdown-revenue",children:pe(l.guestRevenue)})]})]}),n.jsxs("div",{className:"breakdown-card",children:[n.jsx("h3",{children:"Online Orders"}),n.jsxs("div",{className:"breakdown-stats",children:[n.jsx("div",{className:"breakdown-number",children:l.regularOrders}),n.jsx("div",{className:"breakdown-revenue",children:pe(l.regularRevenue)})]})]})]}),n.jsxs("div",{className:"charts-grid",children:[n.jsxs("div",{className:"chart-card",children:[n.jsx("div",{className:"chart-header",children:n.jsx("h3",{children:"Monthly Revenue Trend"})}),n.jsx("div",{className:"chart-container",children:n.jsx(d6,{width:"100%",height:300,children:n.jsxs(tre,{data:p,children:[n.jsx(A2,{strokeDasharray:"3 3"}),n.jsx(qc,{dataKey:"month"}),n.jsx(Hc,{}),n.jsx(ci,{formatter:Ee=>[pe(Ee),"Revenue"]}),n.jsx(Uh,{type:"monotone",dataKey:"revenue",stroke:"#FF7E47",strokeWidth:2})]})})})]}),n.jsxs("div",{className:"chart-card",children:[n.jsx("div",{className:"chart-header",children:n.jsx("h3",{children:"Revenue by Type"})}),n.jsx("div",{className:"chart-container",children:n.jsx(d6,{width:"100%",height:300,children:n.jsxs(rre,{data:u,children:[n.jsx(A2,{strokeDasharray:"3 3"}),n.jsx(qc,{dataKey:"name"}),n.jsx(Hc,{}),n.jsx(ci,{formatter:Ee=>[pe(Ee),"Revenue"]}),n.jsx(fl,{dataKey:"revenue",fill:"#FF7E47"})]})})})]})]})]}),(i==="orders"||i==="payments")&&n.jsxs("div",{className:"data-content",children:[n.jsxs("div",{className:"filters-section",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by order ID, customer, or branch...",className:"search-input",value:S,onChange:Ee=>A(Ee.target.value)})]}),n.jsxs("div",{className:"filter-controls",children:[n.jsxs("select",{className:"filter-select",value:B,onChange:Ee=>F(Ee.target.value),children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"counter",children:"Counter"}),n.jsx("option",{value:"Staff Order",children:"Staff"}),n.jsx("option",{value:"Guest Order",children:"Guest"}),n.jsx("option",{value:"online",children:"Online"})]}),n.jsxs("select",{className:"filter-select",value:M,onChange:Ee=>L(Ee.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{className:"filter-select",value:k,onChange:Ee=>D(Ee.target.value),children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"})]})]})]}),n.jsx("div",{className:"data-table-container",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Order By"}),n.jsx("th",{className:"sortable-header",onClick:()=>ge("date"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Date"}),O==="date"&&(P==="asc"?n.jsx(lo,{size:16}):n.jsx(oo,{size:16}))]})}),n.jsx("th",{children:"Branch"}),n.jsx("th",{className:"sortable-header",onClick:()=>ge("amount"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Amount"}),O==="amount"&&(P==="asc"?n.jsx(lo,{size:16}):n.jsx(oo,{size:16}))]})}),i==="orders"&&n.jsx("th",{children:"Status"}),i==="payments"&&n.jsx("th",{children:"Payment Method"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:E.length>0?E.map(Ee=>n.jsxs("tr",{children:[n.jsx("td",{children:Ee.orderId}),n.jsx("td",{children:Ee.type==="Staff Order"||Ee.type==="Guest Order"?Ee.type:Ee.type.charAt(0).toUpperCase()+Ee.type.slice(1)+" Order"}),n.jsx("td",{children:Ee.customer}),n.jsx("td",{children:Ee.dateString}),n.jsx("td",{children:Ee.branch}),n.jsxs("td",{children:["",Ee.amount.toFixed(2)]}),i==="orders"&&n.jsx("td",{children:n.jsx("span",{className:`status-badge ${Ee.status}`,children:Ee.status.charAt(0).toUpperCase()+Ee.status.slice(1)})}),i==="payments"&&n.jsx("td",{children:n.jsxs("div",{className:"payment-method",children:[Je(Ee.paymentMethod),n.jsx("span",{children:Ee.paymentMethod.charAt(0).toUpperCase()+Ee.paymentMethod.slice(1)})]})}),n.jsx("td",{children:n.jsxs("button",{className:"action-btn view",onClick:()=>je(Ee),children:[n.jsx(ji,{size:16}),"View"]})})]},`${Ee.type}-${Ee.id}`)):n.jsx("tr",{children:n.jsxs("td",{colSpan:"8",className:"no-data",children:["No ",i," found matching your criteria"]})})})]})}),V>1&&n.jsxs("div",{className:"pagination",children:[n.jsxs("button",{className:"pagination-btn",onClick:()=>H(Ee=>Math.max(Ee-1,1)),disabled:R===1,children:[n.jsx(kh,{size:16}),"Previous"]}),n.jsx("div",{className:"pagination-pages",children:Array.from({length:Math.min(5,V)},(Ee,Ve)=>{let le;return V<=5||R<=3?le=Ve+1:R>=V-2?le=V-4+Ve:le=R-2+Ve,n.jsx("button",{className:`pagination-page ${R===le?"active":""}`,onClick:()=>H(le),children:le},le)})}),n.jsxs("button",{className:"pagination-btn",onClick:()=>H(Ee=>Math.min(Ee+1,V)),disabled:R===V,children:["Next",n.jsx(Ih,{size:16})]})]})]}),ee&&Y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:[Y.type==="Staff Order"||Y.type==="Guest Order"?Y.type:Y.type.charAt(0).toUpperCase()+Y.type.slice(1)," ",i==="orders"?"Order":"Payment"," Details"]}),n.jsx("button",{className:"modal-close",onClick:()=>q(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"details-grid",children:[n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Basic Information"}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Order ID:"}),n.jsx("span",{className:"detail-value",children:Y.orderId})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Type:"}),n.jsx("span",{className:"detail-value",children:Y.type})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Customer:"}),n.jsx("span",{className:"detail-value",children:Y.customer})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Date:"}),n.jsx("span",{className:"detail-value",children:Y.date.toLocaleString()})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Branch:"}),n.jsx("span",{className:"detail-value",children:Y.branch})]}),Y.tableNumber&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Table:"}),n.jsx("span",{className:"detail-value",children:Y.tableNumber})]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Payment Information"}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Subtotal:"}),n.jsxs("span",{className:"detail-value",children:["",Y.subtotal.toFixed(2)]})]}),Y.discount>0&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Discount:"}),n.jsxs("span",{className:"detail-value",style:{color:"#22c55e"},children:["-",Y.discount.toFixed(2)]})]}),Y.tax>0&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Tax:"}),n.jsxs("span",{className:"detail-value",children:["",Y.tax.toFixed(2)]})]}),Y.type!=="online"&&Y.serviceCharge>0&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Service Charge:"}),n.jsxs("span",{className:"detail-value",children:["",Y.serviceCharge.toFixed(2)]})]}),Y.deliveryFee>0&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Delivery Fee:"}),n.jsxs("span",{className:"detail-value",children:["",Y.deliveryFee.toFixed(2)]})]}),n.jsxs("div",{className:"detail-row total",children:[n.jsx("span",{className:"detail-label",children:"Total Amount:"}),n.jsxs("span",{className:"detail-value",children:["",Y.amount.toFixed(2)]})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Payment Method:"}),n.jsx("span",{className:"detail-value",children:n.jsxs("div",{className:"payment-method",children:[Je(Y.paymentMethod),Y.paymentMethod]})})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Payment Status:"}),n.jsx("span",{className:"detail-value",children:n.jsx("span",{className:`status-badge ${Y.paymentStatus}`,children:Y.paymentStatus})})]}),Y.type==="online"&&Y.phone&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Phone:"}),n.jsx("span",{className:"detail-value",children:Y.phone})]}),Y.type==="online"&&Y.email&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Email:"}),n.jsx("span",{className:"detail-value",children:Y.email})]}),Y.type==="online"&&Y.deliveryAddress&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Delivery Address:"}),n.jsx("span",{className:"detail-value",children:Y.deliveryAddress})]})]})]}),Y.items&&Y.items.length>0&&n.jsxs("div",{className:"items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsxs("table",{className:"items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:Y.items.map((Ee,Ve)=>n.jsxs("tr",{children:[n.jsx("td",{children:Ee.name}),n.jsx("td",{children:Ee.quantity}),n.jsxs("td",{children:["",Ee.price.toFixed(2)]}),n.jsxs("td",{children:["",(Ee.quantity*Ee.price).toFixed(2)]})]},Ve))})]})]})]}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:()=>q(!1),children:"Close"})})]})}),n.jsx("style",{jsx:!0,children:`
        .comprehensive-dashboard {
          padding: 20px;
          max-width: 1400px;
          margin: 0 auto;
        }

        .dashboard-loading {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 400px;
          gap: 16px;
        }

        .error-banner {
          background-color: #fee2e2;
          color: #dc2626;
          padding: 12px 16px;
          border-radius: 8px;
          margin-bottom: 20px;
        }

        .dashboard-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 24px;
        }

        .dashboard-header h1 {
          font-size: 28px;
          font-weight: 700;
          color: #1f2937;
          margin: 0;
        }

        .btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 16px;
          border-radius: 6px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
        }

        .btn-outline {
          background: white;
          border: 1px solid #d1d5db;
          color: #374151;
        }

        .btn-outline:hover {
          background: #f9fafb;
        }

        .tab-navigation {
          display: flex;
          gap: 4px;
          margin-bottom: 24px;
          border-bottom: 1px solid #e5e7eb;
        }

        .tab-btn {
          padding: 12px 24px;
          background: none;
          border: none;
          font-weight: 500;
          color: #6b7280;
          cursor: pointer;
          border-bottom: 2px solid transparent;
          transition: all 0.2s;
        }

        .tab-btn.active {
          color: #ff7e47;
          border-bottom-color: #ff7e47;
        }

        .tab-btn:hover {
          color: #374151;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
          margin-bottom: 32px;
        }

        .stat-card {
          background: white;
          padding: 24px;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .stat-icon {
          width: 48px;
          height: 48px;
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
        }

        .stat-card.primary .stat-icon { background: #3b82f6; }
        .stat-card.success .stat-icon { background: #10b981; }
        .stat-card.info .stat-icon { background: #6366f1; }

        .stat-content h3 {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
          color: #1f2937;
        }

        .stat-content p {
          font-size: 14px;
          color: #6b7280;
          margin: 0 0 8px 0;
        }

        .stat-breakdown {
          font-size: 12px;
          color: #9ca3af;
        }

        .breakdown-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
          margin-bottom: 32px;
        }

        .breakdown-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          text-align: center;
        }

        .breakdown-card h3 {
          font-size: 16px;
          font-weight: 600;
          margin: 0 0 12px 0;
          color: #374151;
        }

        .breakdown-number {
          font-size: 24px;
          font-weight: 700;
          color: #1f2937;
        }

        .breakdown-revenue {
          font-size: 14px;
          color: #10b981;
          font-weight: 500;
        }

        .charts-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
          gap: 24px;
          margin-bottom: 32px;
        }

        .chart-card {
          background: white;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          overflow: hidden;
        }

        .chart-header {
          padding: 20px 24px 0 24px;
        }

        .chart-header h3 {
          font-size: 18px;
          font-weight: 600;
          margin: 0;
          color: #1f2937;
        }

        .chart-container {
          padding: 20px;
        }

        .filters-section {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          margin-bottom: 20px;
          display: flex;
          gap: 16px;
          flex-wrap: wrap;
          align-items: center;
        }

        .search-container {
          position: relative;
          flex: 1;
          min-width: 300px;
        }

        .search-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
        }

        .search-input {
          width: 100%;
          padding: 10px 12px 10px 40px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
        }

        .filter-controls {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
        }

        .filter-select {
          padding: 8px 12px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
          background: white;
        }

        .data-table-container {
          background: white;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          overflow: hidden;
          margin-bottom: 20px;
        }

        .data-table {
          width: 100%;
          border-collapse: collapse;
        }

        .data-table th {
          background: #f9fafb;
          padding: 12px;
          text-align: left;
          font-weight: 600;
          color: #374151;
          border-bottom: 1px solid #e5e7eb;
        }

        .data-table td {
          padding: 12px;
          border-bottom: 1px solid #f3f4f6;
        }

        .sortable-header {
          cursor: pointer;
          user-select: none;
        }

        .sort-header {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .status-badge {
          display: inline-block;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          font-weight: 500;
        }

        .status-badge.pending { background: #fef3c7; color: #92400e; }
        .status-badge.processing { background: #dbeafe; color: #1e40af; }
        .status-badge.completed { background: #d1fae5; color: #065f46; }
        .status-badge.cancelled { background: #fee2e2; color: #991b1b; }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .action-btn {
          display: flex;
          align-items: center;
          gap: 4px;
          padding: 6px 12px;
          background: #f3f4f6;
          border: none;
          border-radius: 4px;
          font-size: 12px;
          cursor: pointer;
          transition: background 0.2s;
        }

        .action-btn:hover {
          background: #e5e7eb;
        }

        .action-btn.view {
          background: #dbeafe;
          color: #1e40af;
        }

        .action-btn.view:hover {
          background: #bfdbfe;
        }

        .no-data {
          text-align: center;
          padding: 40px;
          color: #6b7280;
        }

        .pagination {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 8px;
          margin-top: 20px;
        }

        .pagination-btn {
          display: flex;
          align-items: center;
          gap: 4px;
          padding: 8px 12px;
          background: white;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          cursor: pointer;
          transition: background 0.2s;
        }

        .pagination-btn:hover:not(:disabled) {
          background: #f9fafb;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-pages {
          display: flex;
          gap: 4px;
        }

        .pagination-page {
          padding: 8px 12px;
          background: white;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .pagination-page:hover {
          background: #f9fafb;
        }

        .pagination-page.active {
          background: #ff7e47;
          color: white;
          border-color: #ff7e47;
        }

        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
        }

        .modal {
          background: white;
          border-radius: 12px;
          max-width: 800px;
          width: 90%;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 24px;
          border-bottom: 1px solid #e5e7eb;
        }

        .modal-header h3 {
          margin: 0;
          font-size: 18px;
          font-weight: 600;
        }

        .modal-close {
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #6b7280;
        }

        .modal-body {
          padding: 24px;
          overflow-y: auto;
        }

        .details-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 24px;
          margin-bottom: 24px;
        }

        .detail-section h4 {
          margin: 0 0 16px 0;
          font-size: 16px;
          font-weight: 600;
          color: #1f2937;
        }

        .detail-row {
          display: flex;
          margin-bottom: 8px;
        }

        .detail-row.total {
          font-weight: 600;
          border-top: 1px solid #e5e7eb;
          padding-top: 8px;
          margin-top: 8px;
        }

        .detail-label {
          width: 140px;
          color: #6b7280;
          font-weight: 500;
        }

        .detail-value {
          flex: 1;
          color: #1f2937;
        }

        .items-section {
          margin-top: 24px;
        }

        .items-section h4 {
          margin: 0 0 16px 0;
          font-size: 16px;
          font-weight: 600;
          color: #1f2937;
        }

        .items-table {
          width: 100%;
          border-collapse: collapse;
          border: 1px solid #e5e7eb;
          border-radius: 6px;
          overflow: hidden;
        }

        .items-table th {
          background: #f9fafb;
          padding: 12px;
          text-align: left;
          font-weight: 600;
          color: #374151;
        }

        .items-table td {
          padding: 12px;
          border-top: 1px solid #f3f4f6;
        }

        .modal-footer {
          padding: 16px 24px;
          border-top: 1px solid #e5e7eb;
          display: flex;
          justify-content: flex-end;
        }

        @media (max-width: 768px) {
          .comprehensive-dashboard {
            padding: 16px;
          }

          .dashboard-header {
            flex-direction: column;
            gap: 16px;
            align-items: flex-start;
          }

          .filters-section {
            flex-direction: column;
            align-items: stretch;
          }

          .search-container {
            min-width: auto;
          }

          .filter-controls {
            justify-content: stretch;
          }

          .filter-select {
            flex: 1;
          }

          .details-grid {
            grid-template-columns: 1fr;
          }

          .charts-grid {
            grid-template-columns: 1fr;
          }

          .data-table {
            font-size: 14px;
          }

          .data-table th,
          .data-table td {
            padding: 8px;
          }
        }

        .animate-spin {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
      `})]})},Rne=async e=>{const t=e.headers.get("content-type");if(!t||!t.includes("application/json")){const r=await e.text();throw new Error(`Expected JSON but received ${t||"unknown content type"}. Response: ${r.substring(0,200)}`)}try{return await e.json()}catch(r){throw new Error(`Failed to parse JSON: ${r.message}`)}},Pne=async(e,t={})=>{try{const r=await fetch(e,t);if(!r.ok){const a=r.headers.get("content-type");if(a&&a.includes("application/json")){const s=await r.json();throw console.error("Backend error response:",s),new Error(s.message||`HTTP ${r.status}: ${r.statusText}`)}const i=await r.text();throw console.error("Backend error text:",i),new Error(`HTTP ${r.status}: ${i.substring(0,200)}`)}return await Rne(r)}catch(r){throw r.message.includes("Failed to fetch")?new Error(`Network error: Unable to reach ${e}. Please check your connection.`):r}},Mne=()=>{const e="https://hotelvirat.com/api/v1/hotel",t="https://hotelviratbackend.onrender.com/api/v1/hotel";return console.log(" Using backends:",{primary:e,secondary:t,mode:"production"}),[e,t]},nr=async(e,t={},r=!1)=>{var l;const a=Mne(),[i]=a,s=t.method||"GET";(s==="POST"||s==="PUT")&&t.body&&!((l=t.headers)!=null&&l["Content-Type"])&&(t.body instanceof FormData||(t.headers={...t.headers,"Content-Type":"application/json"}));try{const d=`${i}${e}`;console.log(` ${s} ${d}`),console.log(` Endpoint: "${e}"`),console.log(` Primary URL: "${i}"`);const u=await Pne(d,t),h=u.menuItem||u.category||u.data||u;return console.log(` ${s} successful`),h}catch(d){throw console.error(` ${s} failed:`,d.message),d.message.includes("400")&&(console.error("400 Bad Request - likely validation error"),console.error("Full error:",d)),d}},Bne=()=>{var C;const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState("all"),[l,d]=N.useState("all"),[u,h]=N.useState(null),[p,m]=N.useState(null);N.useEffect(()=>{JSON.parse(localStorage.getItem("user")||"{}");const S=localStorage.getItem("categoryAccess");console.log(" Orders Component Loaded - Build Version: 2026-01-05-v2"),console.log("User category access:",S),m(S),g();const A=setInterval(g,3e4);return()=>clearInterval(A)},[]);const g=async()=>{try{console.log(" Fetching orders from mobile app only...");const S=O=>{var R,H,V;const W=((R=O.categoryName)==null?void 0:R.toLowerCase().trim())||"";if(W){if(W.includes("temple")||W.includes("meal"))return"temple";if(W.includes("self")||W.includes("service"))return"self-service";if(W.includes("restaurant"))return"restaurant"}const P=(O.orderId||O.orderNumber||O._id||"").toLowerCase();if(P.includes("-tm-")||P.includes("temple"))return"temple";if(P.includes("-ss-")||P.includes("counter"))return"self-service";if(P.includes("-res-"))return"restaurant";if(O.items&&Array.isArray(O.items)&&O.items.length>0){const he={"692fe2788b36a58df247e06f":"restaurant","692fe2978b36a58df247e072":"self-service","692fe2ae8b36a58df247e075":"temple"},U=O.items.map(Y=>{var ee;const z=typeof Y.categoryId=="string"?Y.categoryId:((ee=Y.categoryId)==null?void 0:ee._id)||Y.categoryId;return he[z]}).filter(Boolean);if(U.length>0){const Y={};return U.forEach(ee=>{Y[ee]=(Y[ee]||0)+1}),Object.keys(Y).reduce((ee,q)=>Y[ee]>Y[q]?ee:q)}}const I=((H=O.tableNumber)==null?void 0:H.toString().toLowerCase())||"";return I.includes("counter")||I.includes("self")?"self-service":(console.log(" No clear category found, defaulting to restaurant for order:",{orderId:O.orderId||O.orderNumber||O._id,categoryName:O.categoryName,hasItems:!!((V=O.items)!=null&&V.length),tableNumber:O.tableNumber}),"restaurant")},A=await nr("/order",{},!0).catch(O=>(console.log("Mobile app order endpoint failed:",O.message),[]));let k=[];const D=A;k=Array.isArray(D)?D:D.orders||[],console.log(` Mobile app orders found: ${k.length}`),k=k.map(O=>{var I,R;let W="Restaurant";const P=(O.orderId||O.orderNumber||O._id||"").toLowerCase();if(P.includes("-tm-")||P.includes("temple")?W="Temple Meals":P.includes("-ss-")||P.includes("counter")?W="Self Service":P.includes("-res-")&&(W="Restaurant"),O.items&&O.items.length>0){const H=O.items.map(V=>V.categoryId).filter(Boolean);if(H.length>0){const V={};H.forEach(Y=>{V[Y]=(V[Y]||0)+1});const he=Object.keys(V).reduce((Y,z)=>V[Y]>V[z]?Y:z),U={"692fe2788b36a58df247e06f":"Restaurant","692fe2978b36a58df247e072":"Self Service","692fe2ae8b36a58df247e075":"Temple Meals"};U[he]&&(W=U[he])}}return{...O,customerName:O.name||O.customerName||"Mobile User",customerMobile:O.phone||O.customerMobile||O.customerPhone,customerPhone:O.phone||O.customerPhone||O.customerMobile,tableNumber:O.tableNumber||"Mobile Order",branchName:((I=O.branchId)==null?void 0:I.name)||O.branchName||"Hotel Virat",grandTotal:O.total||O.grandTotal||O.totalAmount,totalAmount:O.total||O.totalAmount||O.grandTotal,status:O.status||"pending",items:O.items||[],subtotal:O.subtotal||O.total||0,tax:O.tax||0,serviceCharge:O.serviceCharge||0,deliveryFee:O.deliveryFee||0,deliveryOption:O.deliveryOption||"delivery",deliveryAddress:O.deliveryAddress||"",paymentMethod:O.paymentMethod||"cash",specialInstructions:O.specialInstructions||"",couponCode:O.couponCode||"",discount:O.discount||0,categoryName:O.categoryName||W,orderType:S({...O,categoryName:O.categoryName||W})}}),console.log(" Mobile Orders by Type:",{restaurant:k.filter(O=>O.orderType==="restaurant").length,selfService:k.filter(O=>O.orderType==="self-service").length,temple:k.filter(O=>O.orderType==="temple").length});const B=k;console.log(` Total mobile app orders: ${B.length}`),console.log(" Final Order Type Distribution:",{restaurant:B.filter(O=>O.orderType==="restaurant").length,selfService:B.filter(O=>O.orderType==="self-service").length,temple:B.filter(O=>O.orderType==="temple").length,undefined:B.filter(O=>!O.orderType).length});const F=localStorage.getItem("categoryAccess");let M=B;F&&F!=="All"&&(M=B.filter(O=>O.categoryName===F),console.log(` Filtered ${B.length} orders to ${M.length} for category: ${F}`));const L=Array.isArray(M)?M.sort((O,W)=>{const P=new Date(O.createdAt||O.orderTime||O.updatedAt||0),I=new Date(W.createdAt||W.orderTime||W.updatedAt||0),R=I-P;return(M.indexOf(O)<3||M.indexOf(W)<3)&&console.log(" Sorting Debug:",{orderA:O.orderId||O.orderNumber||O._id,dateA:P.toISOString(),orderB:W.orderId||W.orderNumber||W._id,dateB:I.toISOString(),result:R>0?"B is newer":"A is newer"}),R}):[];console.log(" Final sorted orders (first 5):",L.slice(0,5).map(O=>({orderId:O.orderId||O.orderNumber||O._id,orderType:O.orderType,createdAt:O.createdAt,status:O.status}))),t(L),console.log(` Orders loaded successfully: ${L.length} orders`)}catch(S){console.error(" Error fetching orders:",S),t([])}finally{a(!1)}},v=async(S,A)=>{try{console.log(` Updating order ${S} status to ${A}`);const[k,D]=await Promise.allSettled([nr(`/staff-order/${S}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:A})}).catch(M=>(console.log("Staff order update failed:",M.message),null)),nr(`/order/${S}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:A})}).catch(M=>(console.log("Regular order update failed:",M.message),null))]),B=k.status==="fulfilled"&&k.value,F=D.status==="fulfilled"&&D.value;if(B||F)console.log(` Order ${S} status updated successfully`),await g(),h(null);else throw new Error("Failed to update order in both endpoints")}catch(k){console.error(" Error updating order:",k),alert("Failed to update order status. Please try again.")}},j=S=>{switch(S){case"temple":return"";case"self-service":return"";case"restaurant":return"";default:return""}},b=S=>{switch(S){case"temple":return"Temple Meals";case"self-service":return"Self Service";case"restaurant":return"Restaurant Order";default:return"Order"}},y=e.filter(S=>(e.indexOf(S)<5&&console.log(" Order Filter Debug:",{orderId:S.orderId||S.orderNumber||S._id,orderType:S.orderType,orderTypeTab:l,willShow:l==="all"||S.orderType===l}),l!=="all"&&S.orderType!==l?!1:i==="all"?!0:S.status===i)),T=S=>{switch(S){case"pending":return"#f59e0b";case"confirmed":return"#3b82f6";case"preparing":return"#8b5cf6";case"out for delivery":return"#06b6d4";case"delivered":return"#10b981";case"cancelled":return"#ef4444";default:return"#6b7280"}},E=S=>{switch(S){case"pending":return n.jsx(Di,{size:20});case"confirmed":return n.jsx(ns,{size:20});case"preparing":return n.jsx(Di,{size:20});case"out for delivery":return n.jsx(Di,{size:20});case"delivered":return n.jsx(ns,{size:20});case"cancelled":return n.jsx(Op,{size:20});default:return n.jsx(Di,{size:20})}};return n.jsxs("div",{style:_t.container,children:[n.jsxs("div",{style:_t.header,children:[n.jsxs("div",{children:[n.jsx("h1",{style:_t.title,children:"Mobile App Orders"}),n.jsx("p",{style:{margin:"5px 0 0",opacity:.7,fontSize:"14px"},children:"Orders placed from the Hotel Virat mobile app"}),p&&p!=="All"&&n.jsxs("p",{style:_t.categoryBadge,children:["Showing: ",p," orders only"]})]}),n.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:n.jsx("button",{onClick:g,style:_t.refreshBtn,children:"Refresh"})})]}),n.jsx("div",{style:_t.orderTypeTabs,children:[{key:"all",label:"All Orders",icon:""},{key:"restaurant",label:"Restaurant Orders",icon:""},{key:"temple",label:"Temple Meals",icon:""},{key:"self-service",label:"Self Service",icon:""}].map(S=>{const A=e.filter(k=>S.key==="all"||k.orderType===S.key).length;return console.log(` Tab ${S.key} count: ${A}`),n.jsxs("button",{onClick:()=>{console.log(` Switching to tab: ${S.key}`),d(S.key)},style:{..._t.orderTypeTab,...l===S.key?_t.orderTypeTabActive:{}},children:[n.jsx("span",{style:{marginRight:"8px"},children:S.icon}),S.label,n.jsxs("span",{style:{marginLeft:"8px",fontSize:"12px",opacity:.8},children:["(",A,")"]})]},S.key)})}),n.jsx("div",{style:_t.filterTabs,children:["all","pending","confirmed","preparing","out for delivery","delivered","cancelled"].map(S=>{const A=e.filter(D=>l==="all"||D.orderType===l),k=S==="all"?A.length:A.filter(D=>D.status===S).length;return n.jsxs("button",{onClick:()=>s(S),style:{..._t.filterTab,...i===S?_t.filterTabActive:{}},children:[S==="out for delivery"?"Out for Delivery":S.charAt(0).toUpperCase()+S.slice(1),n.jsxs("span",{style:{marginLeft:"6px"},children:["(",k,")"]})]},S)})}),r?n.jsx("div",{style:_t.loading,children:"Loading orders..."}):y.length===0?n.jsx("div",{style:_t.empty,children:"No orders found"}):n.jsx("div",{style:_t.ordersList,children:y.map(S=>{var A;return n.jsxs("div",{style:_t.orderCard,children:[n.jsxs("div",{style:_t.orderHeader,children:[n.jsxs("div",{children:[n.jsxs("h3",{style:_t.orderTitle,children:[j(S.orderType)," ",S.tableNumber==="Mobile Order"?"Mobile Order":`Table ${S.tableNumber}`]}),n.jsx("p",{style:_t.orderTime,children:new Date(S.createdAt||S.orderTime||S.updatedAt).toLocaleString()}),n.jsx("p",{style:_t.orderTypeLabel,children:b(S.orderType)})]}),n.jsxs("div",{style:{..._t.statusBadge,backgroundColor:T(S.status)},children:[E(S.status),n.jsx("span",{children:S.status})]})]}),n.jsxs("div",{style:_t.orderDetails,children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Customer:"})," ",S.customerName||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",S.customerMobile||S.customerPhone||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Branch:"})," ",S.branchName||"Hotel Virat"]}),S.deliveryOption&&n.jsxs("p",{children:[n.jsx("strong",{children:"Type:"})," ",S.deliveryOption==="delivery"?" Delivery":" Pickup"]}),S.deliveryAddress&&n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",S.deliveryAddress]}),S.paymentMethod&&n.jsxs("p",{children:[n.jsx("strong",{children:"Payment:"})," ",S.paymentMethod.toUpperCase()]}),S.categoryName&&n.jsxs("p",{children:[n.jsx("strong",{children:"Category:"})," ",S.categoryName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Items:"})," ",((A=S.items)==null?void 0:A.length)||0]}),S.couponCode&&n.jsxs("p",{children:[n.jsx("strong",{children:"Coupon:"})," ",S.couponCode," (-",S.discount||0,")"]}),n.jsxs("p",{style:_t.orderTotal,children:[n.jsx("strong",{children:"Total:"})," ",(S.grandTotal||S.totalAmount||S.total||0).toFixed(2)]})]}),n.jsxs("div",{style:_t.orderActions,children:[n.jsxs("button",{onClick:()=>h(S),style:_t.viewBtn,children:[n.jsx(ji,{size:16}),"View Details"]}),S.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>v(S._id,"delivered"),style:_t.completeBtn,children:"Complete"}),n.jsx("button",{onClick:()=>v(S._id,"cancelled"),style:_t.cancelBtn,children:"Cancel"})]})]})]},S._id)})}),u&&n.jsx("div",{style:_t.modalOverlay,onClick:()=>h(null),children:n.jsxs("div",{style:_t.modal,onClick:S=>S.stopPropagation(),children:[n.jsxs("div",{style:_t.modalHeader,children:[n.jsx("h2",{children:"Order Details"}),n.jsx("button",{onClick:()=>h(null),style:_t.closeBtn,children:""})]}),n.jsxs("div",{style:_t.modalBody,children:[n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Order Type:"}),n.jsx("span",{children:u.tableNumber==="Mobile Order"?" Mobile App Order":` Table ${u.tableNumber}`})]}),n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Customer:"}),n.jsx("span",{children:u.customerName||"N/A"})]}),n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Phone:"}),n.jsx("span",{children:u.customerMobile||u.customerPhone||"N/A"})]}),n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Status:"}),n.jsx("span",{style:{color:T(u.status),fontWeight:"bold"},children:u.status})]}),u.deliveryOption&&n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Delivery Type:"}),n.jsx("span",{children:u.deliveryOption==="delivery"?" Delivery":" Pickup"})]}),u.deliveryAddress&&n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Delivery Address:"}),n.jsx("span",{children:u.deliveryAddress})]}),u.paymentMethod&&n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Payment Method:"}),n.jsx("span",{children:u.paymentMethod.toUpperCase()})]}),u.couponCode&&n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Coupon Applied:"}),n.jsx("span",{children:u.couponCode})]}),u.specialInstructions&&n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Special Instructions:"}),n.jsx("span",{children:u.specialInstructions})]}),u.notes&&n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Notes:"}),n.jsx("span",{children:u.notes})]}),n.jsx("h3",{style:_t.itemsTitle,children:"Items:"}),(C=u.items)==null?void 0:C.map((S,A)=>n.jsxs("div",{style:_t.itemRow,children:[n.jsxs("div",{children:[n.jsx("div",{style:_t.itemName,children:S.name}),n.jsxs("div",{style:_t.itemQty,children:[S.quantity||S.count||1,"  ",S.price]})]}),n.jsxs("div",{style:_t.itemPrice,children:["",((S.price||0)*(S.quantity||S.count||1)).toFixed(2)]})]},A)),n.jsxs("div",{style:_t.totalRow,children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",(u.subtotal||u.totalAmount||u.total||0).toFixed(2)]})]}),u.discount>0&&n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{style:{color:"#10b981"},children:["-",u.discount.toFixed(2)]})]}),u.deliveryFee>0&&n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Delivery Fee:"}),n.jsxs("span",{children:["",u.deliveryFee.toFixed(2)]})]}),u.tax>0&&n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Tax (5%):"}),n.jsxs("span",{children:["",u.tax.toFixed(2)]})]}),u.serviceCharge>0&&n.jsxs("div",{style:_t.detailRow,children:[n.jsx("span",{children:"Service Charge (10%):"}),n.jsxs("span",{children:["",u.serviceCharge.toFixed(2)]})]}),n.jsxs("div",{style:_t.totalRow,children:[n.jsx("span",{children:"Grand Total:"}),n.jsxs("span",{children:["",(u.grandTotal||u.totalAmount||u.total||0).toFixed(2)]})]})]})]})})]})},_t={container:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},title:{fontSize:"28px",fontWeight:"bold",margin:0},categoryBadge:{display:"inline-block",marginTop:"8px",padding:"6px 12px",backgroundColor:"#10b981",color:"white",borderRadius:"6px",fontSize:"14px",fontWeight:"600"},refreshBtn:{padding:"10px 20px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},orderTypeTabs:{display:"flex",gap:"8px",marginBottom:"16px",flexWrap:"wrap",borderBottom:"2px solid #f3f4f6",paddingBottom:"16px"},orderTypeTab:{display:"flex",alignItems:"center",padding:"10px 16px",backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",fontWeight:"500",fontSize:"14px",whiteSpace:"nowrap",transition:"all 0.2s ease"},orderTypeTabActive:{backgroundColor:"#3b82f6",color:"white",borderColor:"#3b82f6"},orderTypeLabel:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},filterTabs:{display:"flex",gap:"8px",marginBottom:"24px",flexWrap:"wrap"},filterTab:{padding:"8px 16px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"500",fontSize:"14px",whiteSpace:"nowrap"},filterTabActive:{backgroundColor:"#10b981",color:"white"},loading:{textAlign:"center",padding:"40px",color:"#6b7280"},empty:{textAlign:"center",padding:"40px",color:"#6b7280"},ordersList:{display:"grid",gap:"16px"},orderCard:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px"},orderHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},orderTitle:{fontSize:"20px",fontWeight:"bold",margin:"0 0 4px 0"},orderTime:{fontSize:"14px",color:"#6b7280",margin:0},statusBadge:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"20px",color:"white",fontSize:"14px",fontWeight:"600"},orderDetails:{marginBottom:"16px",fontSize:"14px",lineHeight:"1.8"},orderTotal:{fontSize:"18px",color:"#10b981",marginTop:"8px"},orderActions:{display:"flex",gap:"8px",flexWrap:"wrap"},viewBtn:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},completeBtn:{padding:"8px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},cancelBtn:{padding:"8px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{backgroundColor:"white",borderRadius:"12px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #e5e7eb"},closeBtn:{background:"none",border:"none",fontSize:"32px",cursor:"pointer",color:"#6b7280",lineHeight:1},modalBody:{padding:"20px",overflowY:"auto"},detailRow:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #f3f4f6"},itemsTitle:{marginTop:"20px",marginBottom:"12px",fontSize:"18px",fontWeight:"bold"},itemRow:{display:"flex",justifyContent:"space-between",padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",marginBottom:"8px"},itemName:{fontWeight:"600",marginBottom:"4px"},itemQty:{fontSize:"14px",color:"#6b7280"},itemPrice:{fontWeight:"bold",color:"#10b981"},totalRow:{display:"flex",justifyContent:"space-between",marginTop:"20px",padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",fontSize:"20px",fontWeight:"bold",color:"#10b981"}},Dp=e=>{if(!e)return null;if(e.startsWith("http://")||e.startsWith("https://"))return e;const t="https://hotelvirat.com/api/v1/hotel".replace("/api/v1/hotel","")||"https://hotelvirat.com";let r=e.toString().trim().replace(/\\/g,"/"),a;if(r.startsWith("/"))a=`${t}${r}`;else if(r.startsWith("uploads/"))a=`${t}/${r}`;else{const i=r.split("/").pop();a=`${t}/uploads/menu/${i}`}return a},Fne=e=>{if(!e)return null;if(e.startsWith("http://localhost"))return e.replace("https://hotelvirat.com","https://hotelvirat.com");if(e.startsWith("https://hotelvirat.com")||e.startsWith("http://")||e.startsWith("https://"))return e;const t="https://hotelvirat.com";let r=e.toString().trim().replace(/\\/g,"/"),a;if(r.startsWith("/"))a=`${t}${r}`;else if(r.startsWith("uploads/"))a=`${t}/${r}`;else{const i=r.split("/").pop();a=`${t}/uploads/menu/${i}`}return a},Lne=({product:e,onClose:t,onSave:r,branches:a,categories:i,selectedBranch:s})=>{var L,O,W;const l=!!e,d=["Small","Medium","Large"],[u,h]=N.useState({menuItemNumber:(e==null?void 0:e.menuItemNumber)||"",name:(e==null?void 0:e.name)||"",branchId:typeof(e==null?void 0:e.branchId)=="object"?((L=e==null?void 0:e.branchId)==null?void 0:L._id)||s:(e==null?void 0:e.branchId)||s,categoryId:typeof(e==null?void 0:e.categoryId)=="object"?((O=e==null?void 0:e.categoryId)==null?void 0:O._id)||"":(e==null?void 0:e.categoryId)||"",subcategoryId:typeof(e==null?void 0:e.subcategoryId)=="object"?((W=e==null?void 0:e.subcategoryId)==null?void 0:W._id)||"":(e==null?void 0:e.subcategoryId)||"",quantities:(e==null?void 0:e.quantities)||[],prices:(e==null?void 0:e.prices)||{},image:null,subscriptionEnabled:(e==null?void 0:e.subscriptionEnabled)||!1,subscriptionPlans:(e==null?void 0:e.subscriptionPlans)||[],subscriptionAmount:(e==null?void 0:e.subscriptionAmount)||0,subscriptionDiscount:(e==null?void 0:e.subscriptionDiscount)||0,subscriptionDuration:(e==null?void 0:e.subscriptionDuration)||"3days",subscription3DaysDiscount:(e==null?void 0:e.subscription3DaysDiscount)||5,subscription1WeekDiscount:(e==null?void 0:e.subscription1WeekDiscount)||10,subscription1MonthDiscount:(e==null?void 0:e.subscription1MonthDiscount)||15,subscription3DaysPrice:(e==null?void 0:e.subscription3DaysPrice)||100,subscription1WeekPrice:(e==null?void 0:e.subscription1WeekPrice)||250,subscription1MonthPrice:(e==null?void 0:e.subscription1MonthPrice)||500}),[p,m]=N.useState([]),[g,v]=N.useState([]),[j,b]=N.useState([]),[y,T]=N.useState(null),[E,C]=N.useState(!1),[S,A]=N.useState("");N.useEffect(()=>{(async()=>{try{const I=await nr("/subcategory");v(I||[])}catch(I){console.error("Error fetching subcategories:",I)}})()},[]),N.useEffect(()=>{var P,I,R;e&&h({name:e.name||"",branchId:typeof e.branchId=="object"?((P=e.branchId)==null?void 0:P._id)||s:e.branchId||s,categoryId:typeof e.categoryId=="object"?((I=e.categoryId)==null?void 0:I._id)||"":e.categoryId||"",subcategoryId:typeof e.subcategoryId=="object"?((R=e.subcategoryId)==null?void 0:R._id)||"":e.subcategoryId||"",quantities:e.quantities||[],prices:e.prices||{},image:null,subscriptionEnabled:e.subscriptionEnabled||!1,subscriptionPlans:e.subscriptionPlans||[],subscriptionAmount:e.subscriptionAmount||0,subscriptionDiscount:e.subscriptionDiscount||0,subscriptionDuration:e.subscriptionDuration||"3days",subscription3DaysDiscount:e.subscription3DaysDiscount||5,subscription1WeekDiscount:e.subscription1WeekDiscount||10,subscription1MonthDiscount:e.subscription1MonthDiscount||15,subscription3DaysPrice:e.subscription3DaysPrice||100,subscription1WeekPrice:e.subscription1WeekPrice||250,subscription1MonthPrice:e.subscription1MonthPrice||500})},[e,s]),N.useEffect(()=>{if(e!=null&&e.image){const P=Dp(e.image);T(P)}else T(null)},[e]),N.useEffect(()=>{if(console.log(" Categories changed or branch changed:",{totalCategories:i.length,selectedBranchId:u.branchId,categories:i.map(P=>{var I;return{name:P.name,branchId:P.branchId,branchObjId:(I=P.branch)==null?void 0:I.id,_id:P._id}})}),i.length>0&&u.branchId){const P=i.filter(I=>{var V;const R=I.branchId||((V=I.branch)==null?void 0:V.id),H=R===u.branchId;return console.log(`Category "${I.name}": branchId=${R}, matches=${H}`),H});console.log(` Filtered ${P.length} categories for branch ${u.branchId}`),m(P),u.categoryId&&(P.some(R=>R._id===u.categoryId)||h(R=>({...R,categoryId:""})))}else console.log(" No branch selected, showing all categories"),m(i)},[u.branchId,i]),N.useEffect(()=>{if(g.length>0&&u.categoryId){const P=g.filter(I=>{var H;return(((H=I.categoryId)==null?void 0:H._id)||I.categoryId)===u.categoryId});b(P),u.subcategoryId&&(P.some(R=>R._id===u.subcategoryId)||h(R=>({...R,subcategoryId:""})))}else b([]),h(P=>({...P,subcategoryId:""}))},[u.categoryId,g]);const k=P=>{const{name:I,value:R}=P.target;h({...u,[I]:R})},D=P=>{const I=P.target.value;h(R=>{const H=R.quantities.includes(I)?R.quantities.filter(he=>he!==I):[...R.quantities,I],V={...R.prices};return H.includes(I)||delete V[I],{...R,quantities:H,prices:V}})},B=P=>{const{name:I,value:R}=P.target;h(H=>({...H,prices:{...H.prices,[I]:parseFloat(R)||""}}))},F=P=>{const I=P.target.files[0];if(I){if(I.size>5*1024*1024){A("Image size must be less than 5MB");return}if(!I.type.startsWith("image/")){A("Please select a valid image file");return}h(R=>({...R,image:I})),A("")}},M=async P=>{if(P.preventDefault(),C(!0),A(""),u.quantities.length===0){A("Please select at least one quantity"),C(!1);return}for(const I of u.quantities)if(!u.prices[I]||u.prices[I]<=0){A(`Please enter a valid price for ${I}`),C(!1);return}try{await r(u),t()}catch(I){A(I.message||"Failed to save product. Please try again.")}finally{C(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:[n.jsx(Ka,{size:20,style:{marginRight:"8px"}}),e?"Edit Item":"Add Item"]}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:M,children:[n.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[S&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:16}),n.jsx("span",{children:S})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"branchId",children:"Branch *"}),n.jsxs("select",{id:"branchId",name:"branchId",className:"form-select",value:u.branchId,onChange:k,required:!0,disabled:l,style:l?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{},children:[n.jsx("option",{value:"",children:"Select Branch"}),a.map(P=>n.jsx("option",{value:P._id,children:P.name},P._id))]}),l&&n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:"Branch cannot be changed after creation"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"categoryId",children:"Category *"}),n.jsxs("select",{id:"categoryId",name:"categoryId",className:"form-select",value:u.categoryId,onChange:k,required:!0,children:[n.jsx("option",{value:"",children:"Select Category"}),p.map(P=>n.jsx("option",{value:P._id,children:P.name},P._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"subcategoryId",children:"Subcategory (Optional)"}),n.jsxs("select",{id:"subcategoryId",name:"subcategoryId",className:"form-select",value:u.subcategoryId,onChange:k,disabled:!u.categoryId,style:u.categoryId?{}:{backgroundColor:"#f3f4f6",cursor:"not-allowed"},children:[n.jsx("option",{value:"",children:"Select Subcategory (Optional)"}),j.map(P=>n.jsx("option",{value:P._id,children:P.name},P._id))]}),!u.categoryId&&n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:"Please select a category first"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Menu Item Number (Optional - for quick access)"}),n.jsx("input",{type:"number",min:"1",value:u.menuItemNumber||"",onChange:P=>h({...u,menuItemNumber:parseInt(P.target.value)||null}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},placeholder:"Enter a unique number (e.g., 1, 2, 3...)"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"name",children:"Item Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:u.name,onChange:k,required:!0,placeholder:"Enter item name (e.g., Pizza, Sandwich, Pasta)"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Quantities *"}),n.jsx("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:d.map(P=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"checkbox",name:"quantities",value:P,checked:u.quantities.includes(P),onChange:D,style:{width:"16px",height:"16px"}}),n.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:P})]},P))})]}),u.quantities.length>0&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Prices *"}),u.quantities.map(P=>n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("label",{style:{display:"block",fontSize:"14px",color:"#6b7280",marginBottom:"4px"},children:["Price for ",P]}),n.jsx("input",{type:"number",name:P,value:u.prices[P]||"",onChange:B,className:"form-input",required:!0,min:"0",step:"0.01",placeholder:`Enter price for ${P}`})]},P))]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Menu Item Image"}),(e==null?void 0:e.image)&&!u.image&&n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:"Current Image:"}),n.jsx("img",{src:Dp(e.image),alt:"Current menu item",style:{width:"100%",height:"192px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"},onError:P=>{console.error("Failed to load existing image:",Dp(e.image)),P.target.style.display="none"}})]}),n.jsx("input",{type:"file",name:"image",onChange:F,accept:"image/*",className:"form-input",style:{padding:"8px"}}),u.image&&n.jsx("div",{style:{marginTop:"12px"},children:u.image instanceof File?n.jsxs("div",{children:[n.jsx("img",{src:URL.createObjectURL(u.image),alt:"Preview",style:{width:"100%",height:"192px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"}}),n.jsxs("p",{style:{marginTop:"8px",fontSize:"12px",color:"#10b981"},children:[" New image selected: ",u.image.name]})]}):n.jsx("p",{style:{marginTop:"8px",fontSize:"12px",color:"#10b981"},children:" Image selected"})}),n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:e!=null&&e.image&&!u.image?"Upload a new image to replace the current one (optional)":"Upload an image for this menu item (JPEG, PNG, GIF, WEBP, AVIF up to 5MB)"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",name:"subscriptionEnabled",checked:u.subscriptionEnabled,onChange:P=>h({...u,subscriptionEnabled:P.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),n.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Enable Subscription for this item"})]}),n.jsx("p",{style:{marginTop:"4px",marginLeft:"26px",fontSize:"12px",color:"#6b7280"},children:"Allow customers to subscribe to this menu item for regular delivery"})]}),u.subscriptionEnabled&&n.jsxs("div",{style:{marginTop:"16px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[n.jsxs("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#374151",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{children:""})," Subscription Configuration"]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"16px"},children:[n.jsx("label",{style:{fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",display:"block"},children:"Subscription Pricing"}),n.jsxs("div",{style:{display:"grid",gap:"16px"},children:[n.jsxs("div",{style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"},children:[n.jsx("h5",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"3 Days Plan"}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Subscription Fee ()"}),n.jsx("input",{type:"number",min:"0",value:u.subscription3DaysPrice||"",onChange:P=>{const I=parseFloat(P.target.value)||0;h({...u,subscription3DaysPrice:I})},placeholder:"100",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),n.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:"4px 0 0 0"},children:"Amount users pay to buy this subscription"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Discount Percentage (%)"}),n.jsx("input",{type:"number",min:"0",max:"50",value:u.subscription3DaysDiscount||"",onChange:P=>{const I=parseFloat(P.target.value)||0;h({...u,subscription3DaysDiscount:I})},placeholder:"5",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},step:"0.01"})]})]}),n.jsxs("div",{style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"},children:[n.jsx("h5",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"1 Week Plan"}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Subscription Fee ()"}),n.jsx("input",{type:"number",min:"0",value:u.subscription1WeekPrice||"",onChange:P=>{const I=parseFloat(P.target.value)||0;h({...u,subscription1WeekPrice:I})},placeholder:"250",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),n.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:"4px 0 0 0"},children:"Amount users pay to buy this subscription"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Discount Percentage (%)"}),n.jsx("input",{type:"number",min:"0",max:"50",value:u.subscription1WeekDiscount||"",onChange:P=>{const I=parseFloat(P.target.value)||0;h({...u,subscription1WeekDiscount:I})},placeholder:"10",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},step:"0.01"})]})]}),n.jsxs("div",{style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"},children:[n.jsx("h5",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"1 Month Plan"}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Subscription Fee ()"}),n.jsx("input",{type:"number",min:"0",value:u.subscription1MonthPrice||"",onChange:P=>{const I=parseFloat(P.target.value)||0;h({...u,subscription1MonthPrice:I})},placeholder:"500",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),n.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:"4px 0 0 0"},children:"Amount users pay to buy this subscription"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Discount Percentage (%)"}),n.jsx("input",{type:"number",min:"0",max:"50",value:u.subscription1MonthDiscount||"",onChange:P=>{const I=parseFloat(P.target.value)||0;h({...u,subscription1MonthDiscount:I})},placeholder:"15",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},step:"0.01"})]})]})]}),n.jsx("p",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:" Set discount percentages for each subscription plan"})]}),(u.subscription3DaysDiscount>0||u.subscription1WeekDiscount>0||u.subscription1MonthDiscount>0)&&n.jsxs("div",{style:{padding:"12px",backgroundColor:"#e0f2fe",borderRadius:"6px",border:"1px solid #0891b2"},children:[n.jsx("p",{style:{fontSize:"13px",color:"#0c4a6e",margin:0,marginBottom:"8px"},children:n.jsx("strong",{children:" Subscription Plans Preview:"})}),u.subscription3DaysDiscount>0&&n.jsxs("p",{style:{fontSize:"12px",color:"#0c4a6e",margin:"4px 0"},children:[" 3 Days: Pay ",u.subscription3DaysPrice||100,"  Get ",u.subscription3DaysDiscount,"% discount",Object.keys(u.prices).length>0&&n.jsxs("span",{style:{color:"#059669",fontWeight:"bold"},children:[" ","(",Math.round(Object.values(u.prices)[0]*(1-u.subscription3DaysDiscount/100)),")"]})]}),u.subscription1WeekDiscount>0&&n.jsxs("p",{style:{fontSize:"12px",color:"#0c4a6e",margin:"4px 0"},children:[" 1 Week: Pay ",u.subscription1WeekPrice||250,"  Get ",u.subscription1WeekDiscount,"% discount",Object.keys(u.prices).length>0&&n.jsxs("span",{style:{color:"#059669",fontWeight:"bold"},children:[" ","(",Math.round(Object.values(u.prices)[0]*(1-u.subscription1WeekDiscount/100)),")"]})]}),u.subscription1MonthDiscount>0&&n.jsxs("p",{style:{fontSize:"12px",color:"#0c4a6e",margin:"4px 0"},children:[" 1 Month: Pay ",u.subscription1MonthPrice||500,"  Get ",u.subscription1MonthDiscount,"% discount",Object.keys(u.prices).length>0&&n.jsxs("span",{style:{color:"#059669",fontWeight:"bold"},children:[" ","(",Math.round(Object.values(u.prices)[0]*(1-u.subscription1MonthDiscount/100)),")"]})]}),n.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:"8px 0 0 0",fontStyle:"italic"},children:"* Users pay subscription fee upfront, then get discounted prices during subscription period"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:E,style:{padding:"12px 24px",borderRadius:"8px"},children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E,style:{padding:"12px 24px",borderRadius:"8px",backgroundColor:"#6366f1"},children:E?"Saving...":e?"Update Item":"Add Item"})]})]})]})})},$ne=({product:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),[s,l]=N.useState(""),d=async()=>{i(!0),l("");try{await r(e._id),t()}catch(u){l(u.message||"Failed to delete product. Please try again.")}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Product"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[s&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:16}),n.jsx("span",{children:s})]}),n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:d,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},zne=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,h]=N.useState(""),[p,m]=N.useState(""),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,T]=N.useState(!1),[E,C]=N.useState(null),[S,A]=N.useState(!1),[k,D]=N.useState(null),[B,F]=N.useState([]),[M,L]=N.useState([]),[O,W]=N.useState(!0),[P,I]=N.useState(!0),[R,H]=N.useState(""),[V,he]=N.useState(""),[U,Y]=N.useState(""),[z,ee]=N.useState(!1),[q,Q]=N.useState(null),[ae,de]=N.useState(null);N.useEffect(()=>{(async()=>{try{await xe(),await Z(),await ge(),await je()}catch(ce){console.error("Error loading data:",ce),H("Failed to load data. Please refresh the page and try again.")}})()},[]),N.useEffect(()=>{pe()},[e,p,g,j,u]),N.useEffect(()=>{if(g){const re=l.filter(ce=>{var oe;return(((oe=ce.categoryId)==null?void 0:oe._id)||ce.categoryId)===g});L(re),j&&(re.some(J=>J._id===j)||b(""))}else L([]),b("")},[g,l]),N.useEffect(()=>{pe()},[e,p,g,u]);const xe=async()=>{try{const re=await nr("/branch",{},!0);a(re),re.length>0&&!p&&m(re[0]._id)}catch(re){console.error("Error fetching branches:",re),H("Failed to load branches. Please refresh the page and try again.")}},Z=async()=>{I(!0);try{const re=await nr("/category",{},!0);s(re),re.length===0&&H("No categories found. Please add a category first.")}catch(re){console.error("Error fetching categories:",re),H("Failed to load categories. Please refresh the page and try again.")}finally{I(!1)}},ge=async()=>{try{const re=await nr("/subcategory",{},!0);d(re||[])}catch(re){console.error("Error fetching subcategories:",re)}},je=async()=>{W(!0),H("");try{const re=await nr("/menu",{},!0);console.log("Fetched products:",re),re&&re.length>0&&(console.log("Full product object:",re[0]),console.log("All product keys:",Object.keys(re[0])),console.log("Product fields:",{itemName:re[0].itemName,name:re[0].name,image:re[0].image,price:re[0].price,quantities:re[0].quantities,prices:re[0].prices})),t(re)}catch(re){console.error("Error fetching products:",re),H("Failed to load products. Please refresh the page and try again.")}finally{W(!1)}},pe=()=>{let re=e;p&&(re=re.filter(ce=>!ce||!ce.branchId?!1:(typeof ce.branchId=="object"?ce.branchId._id:ce.branchId)===p)),g&&(re=re.filter(ce=>!ce||!ce.categoryId?!1:(typeof ce.categoryId=="object"?ce.categoryId._id:ce.categoryId)===g)),j&&(re=re.filter(ce=>!ce||!ce.subcategoryId?!1:(typeof ce.subcategoryId=="object"?ce.subcategoryId._id:ce.subcategoryId)===j)),u&&(re=re.filter(ce=>ce&&ce.name&&ce.name.toLowerCase().includes(u.toLowerCase())||ce&&ce.description&&ce.description.toLowerCase().includes(u.toLowerCase()))),F(re)},Je=()=>{C(null),T(!0)},Ee=re=>{C(re),T(!0)},Ve=re=>{D(re),A(!0)},le=async re=>{try{const ce=new FormData;ce.append("itemName",re.name);const J=typeof re.branchId=="object"?re.branchId._id:re.branchId,oe=typeof re.categoryId=="object"?re.categoryId._id:re.categoryId;if(console.log("Extracted IDs:",{branchId:J,categoryId:oe}),console.log("Original formData:",{branchId:re.branchId,categoryId:re.categoryId}),ce.append("branchId",J),ce.append("categoryId",oe),re.subcategoryId){const Se=typeof re.subcategoryId=="object"?re.subcategoryId._id:re.subcategoryId;ce.append("subcategoryId",Se)}ce.append("menuTypes",JSON.stringify(re.quantities)),ce.append("quantities",JSON.stringify(re.quantities)),ce.append("prices",JSON.stringify(re.prices)),ce.append("subscriptionEnabled",re.subscriptionEnabled),re.menuItemNumber&&re.menuItemNumber!==""&&re.menuItemNumber!=="0"&&ce.append("menuItemNumber",re.menuItemNumber),ce.append("subscriptionPlans",JSON.stringify(re.subscriptionPlans)),ce.append("subscriptionAmount",re.subscriptionAmount||0),ce.append("subscriptionDiscount",re.subscriptionDiscount||0),ce.append("subscriptionDuration",re.subscriptionDuration||"3days"),ce.append("subscription3DaysDiscount",re.subscription3DaysDiscount||0),ce.append("subscription1WeekDiscount",re.subscription1WeekDiscount||0),ce.append("subscription1MonthDiscount",re.subscription1MonthDiscount||0),ce.append("subscription3DaysPrice",re.subscription3DaysPrice||0),ce.append("subscription1WeekPrice",re.subscription1WeekPrice||0),ce.append("subscription1MonthPrice",re.subscription1MonthPrice||0),re.image&&re.image instanceof File?(console.log("Appending image to FormData:",re.image.name,re.image.size,"bytes"),ce.append("image",re.image)):console.log("No image to upload:",{hasImage:!!re.image,isFile:re.image instanceof File}),console.log("FormData entries being sent:");for(let[Se,Ge]of ce.entries())console.log(`${Se}:`,Ge);let te;return E?(console.log("Current product for update:",E),console.log("Current product ID:",E._id),console.log("Current product ID type:",typeof E._id),te=await nr(`/menu/${E._id}`,{method:"PUT",body:ce}),console.log("Product updated, response:",te),console.log("Image path in response:",te.image),await je(),he(`Item "${te.itemName||te.name}" updated successfully`)):(te=await nr("/menu",{method:"POST",body:ce}),console.log("Product created, response:",te),console.log("Image path in response:",te.image),await je(),he(`Item "${te.itemName||te.name}" created successfully`)),setTimeout(()=>{he("")},3e3),te}catch(ce){throw console.error("Error saving product:",ce),new Error(ce.message||"Failed to save product")}},Ce=async re=>{var ce,J;try{await nr(`/menu/${re}`,{method:"DELETE"}),t(e.filter(oe=>oe._id!==re)),he("Product deleted successfully"),setTimeout(()=>{he("")},3e3)}catch(oe){throw console.error("Error deleting product:",oe),new Error(((J=(ce=oe.response)==null?void 0:ce.data)==null?void 0:J.message)||"Failed to delete product")}},Qe=(re,ce)=>{if(ce&&ce.name)return ce.name;const J=i.find(oe=>oe._id===re);return J?J.name:"Unknown"};return n.jsxs("div",{className:"products-page",children:[V&&n.jsxs("div",{className:"success-message",children:[n.jsx(Rn,{size:16}),n.jsx("span",{children:V}),n.jsx("button",{onClick:()=>he(""),children:n.jsx("span",{children:""})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Products"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:Je,children:[n.jsx(Ka,{size:16}),n.jsx("span",{children:"Add Product"})]})})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",flexWrap:"wrap"},children:[n.jsxs("button",{onClick:()=>m(""),style:{padding:"10px 20px",borderRadius:"25px",border:"none",backgroundColor:p===""?"#6366f1":"#e5e7eb",color:p===""?"white":"#374151",cursor:"pointer",fontWeight:"500",transition:"all 0.2s"},children:["All Branches (",e.length,")"]}),r.map(re=>{const ce=e.filter(J=>J.branchId?(typeof J.branchId=="object"?J.branchId._id:J.branchId)===re._id:!1).length;return n.jsxs("button",{onClick:()=>m(re._id),style:{padding:"10px 20px",borderRadius:"25px",border:"none",backgroundColor:p===re._id?"#6366f1":"#e5e7eb",color:p===re._id?"white":"#374151",cursor:"pointer",fontWeight:"500",transition:"all 0.2s"},children:[re.name," (",ce,")"]},re._id)})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px",color:"#374151"},children:"Filter by Category:"}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[n.jsxs("button",{onClick:()=>v(""),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:g===""?"#10b981":"#f3f4f6",color:g===""?"white":"#374151",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},children:["All Categories (",p?B.length:e.length,")"]}),i.filter(re=>{var J;return p?(re.branchId||((J=re.branch)==null?void 0:J.id))===p:!0}).map(re=>{const ce=(p?B:e).filter(J=>J.categoryId?(typeof J.categoryId=="object"?J.categoryId._id:J.categoryId)===re._id:!1).length;return n.jsxs("button",{onClick:()=>v(re._id),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:g===re._id?"#10b981":"#f3f4f6",color:g===re._id?"white":"#374151",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},children:[re.name," (",ce,")"]},re._id)})]})]}),g&&M.length>0&&n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px",color:"#374151"},children:"Filter by Subcategory:"}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>b(""),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:j===""?"#8b5cf6":"#f3f4f6",color:j===""?"white":"#374151",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},children:"All Subcategories"}),M.map(re=>{const ce=B.filter(J=>J.subcategoryId?(typeof J.subcategoryId=="object"?J.subcategoryId._id:J.subcategoryId)===re._id:!1).length;return n.jsxs("button",{onClick:()=>b(re._id),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:j===re._id?"#8b5cf6":"#f3f4f6",color:j===re._id?"white":"#374151",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},children:[re.name," (",ce,")"]},re._id)})]})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search products...",className:"search-input",value:u,onChange:re=>h(re.target.value)})]})}),R&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:R})]}),O||P?n.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading data..."})}):n.jsx("div",{className:"grid-container",children:B.length>0?B.map(re=>{var ce;return n.jsxs("div",{id:`product-${re._id}`,className:"grid-item",style:{border:ae===re._id?"3px solid #10b981":void 0,boxShadow:ae===re._id?"0 0 20px rgba(16, 185, 129, 0.3)":void 0,transform:ae===re._id?"scale(1.02)":void 0,transition:"all 0.3s ease"},children:[n.jsxs("div",{className:"grid-item-image-container",style:{position:"relative"},children:[n.jsx("img",{src:Dp(re.image)||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200'%3E%3Crect fill='%23f3f4f6' width='300' height='200'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='18' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ENo Image%3C/text%3E%3C/svg%3E",alt:re.name||re.itemName,className:"grid-item-image",onError:J=>{const oe=Fne(re.image);oe&&J.target.src!==oe?J.target.src=oe:(J.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200'%3E%3Crect fill='%23f3f4f6' width='300' height='200'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='16' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ENo Image%3C/text%3E%3C/svg%3E",J.target.onerror=null)}}),re.subscriptionEnabled&&n.jsxs("div",{style:{position:"absolute",top:"8px",right:"8px",backgroundColor:"#10b981",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"SUBSCRIPTION"})]})]}),n.jsxs("div",{className:"grid-item-content",children:[n.jsxs("h3",{className:"grid-item-title",children:[re.menuItemNumber&&n.jsxs("span",{style:{display:"inline-block",backgroundColor:"#3b82f6",color:"white",padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",marginRight:"8px"},children:["#",re.menuItemNumber]}),re.name||re.itemName||((ce=re.categoryId)==null?void 0:ce.name)||"Unnamed Product"]}),n.jsx("p",{className:"grid-item-subtitle",children:Qe(re.categoryId,re.categoryId)}),re.quantities&&re.quantities.length>0?n.jsx("div",{style:{marginTop:"8px",marginBottom:"8px"},children:re.quantities.map(J=>{var oe;return n.jsxs("div",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px"},children:[n.jsxs("span",{style:{fontWeight:"500"},children:[J,":"]})," ",n.jsx("span",{style:{fontFamily:"Arial, sans-serif"},children:""}),(oe=re.prices)!=null&&oe[J]?Number(re.prices[J]).toFixed(2):"0.00"]},J)})}):re.description&&n.jsx("p",{style:{fontSize:"13px",color:"#6b7280",marginTop:"8px",marginBottom:"8px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:re.description}),n.jsxs("div",{className:"grid-item-footer",children:[n.jsx("span",{className:"grid-item-price",children:re.quantities&&re.quantities.length>0?`${re.quantities.length} size${re.quantities.length>1?"s":""}`:re.price&&re.price>0?`${Number(re.price).toFixed(2)}`:n.jsx("span",{style:{color:"#9ca3af",fontSize:"13px"},children:"Price not set"})}),n.jsxs("div",{className:"grid-item-actions",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>Ee(re),children:n.jsx(ra,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>Ve(re),children:n.jsx(fa,{size:14})})]})]})]})]},re._id)}):n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0",gridColumn:"1 / -1"},children:n.jsxs("p",{children:["No products found. ",u?"Try different search terms.":"Add a new product to get started."]})})}),y&&n.jsx(Lne,{product:E,onClose:()=>T(!1),onSave:le,branches:r,categories:i,selectedBranch:p}),S&&n.jsx($ne,{product:k,onClose:()=>A(!1),onConfirm:Ce})]})},H2=(e,t=!1)=>{if(!e)return null;if(e.startsWith("http://")||e.startsWith("https://"))return t?`${e}?t=${Date.now()}`:e;const a="https://hotelvirat.com/api/v1/hotel".replace("/api/v1/hotel","");let i=e.replace(/\\/g,"/");i.startsWith("/")||(i=`/${i}`);const s=`${a}${i}`;return t?`${s}?t=${Date.now()}`:s},Une=({category:e,onClose:t,onSave:r,branches:a,selectedBranch:i})=>{var T;const s=(e==null?void 0:e.branchId)||((T=e==null?void 0:e.branch)==null?void 0:T.id)||i||(a.length>0?a[0]._id:""),[l,d]=N.useState({name:(e==null?void 0:e.name)||"",branchId:s,image:(e==null?void 0:e.image)||""}),[u,h]=N.useState(null),[p,m]=N.useState(!1),[g,v]=N.useState("");N.useEffect(()=>{if(e!=null&&e.image){const E=H2(e.image);h(E)}else h(null)},[e]);const j=E=>{const{name:C,value:S}=E.target;d({...l,[C]:S})},b=E=>{const C=E.target.files[0];if(C){const S=new FileReader;S.onloadend=()=>{h(S.result),d({...l,image:S.result})},S.readAsDataURL(C)}},y=async E=>{E.preventDefault(),m(!0),v("");try{await r(l),t()}catch(C){v(C.message||"Failed to save category. Please try again.")}finally{m(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Category":"Add New Category"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:y,children:[n.jsxs("div",{className:"modal-body",children:[g&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:16}),n.jsx("span",{children:g})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"branchId",children:"Branch"}),n.jsx("select",{id:"branchId",name:"branchId",className:"form-select",value:l.branchId,onChange:j,required:!0,disabled:!!e,children:a.map(E=>n.jsx("option",{value:E._id,children:E.name},E._id))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Category Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:u?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:u,alt:"Category preview",className:"image-preview"}),n.jsx("div",{className:"image-overlay",children:n.jsx("span",{children:"Change Image"})})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(ll,{size:24}),n.jsx("span",{children:"Upload Category Image"})]})}),n.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:b,className:"image-upload-input"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"name",children:"Category Name"}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:l.name,onChange:j,required:!0})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:p,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":e?"Update Category":"Add Category"})]})]})]})})},II=({category:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),[s,l]=N.useState(""),d=async()=>{i(!0),l("");try{await r(e._id),t()}catch(u){l(u.message||"Failed to delete category. Please try again.")}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Category"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[s&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:16}),n.jsx("span",{children:s})]}),n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"? This will also delete all associated products."]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This RESERVED cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:d,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},qne=({subcategory:e,onClose:t,onSave:r,categories:a,branches:i})=>{var b,y;const[s,l]=N.useState({name:(e==null?void 0:e.name)||"",categoryId:((b=e==null?void 0:e.categoryId)==null?void 0:b._id)||(e==null?void 0:e.categoryId)||"",branchId:((y=e==null?void 0:e.branchId)==null?void 0:y._id)||(e==null?void 0:e.branchId)||"",description:(e==null?void 0:e.description)||""}),[d,u]=N.useState([]),[h,p]=N.useState(!1),[m,g]=N.useState("");N.useEffect(()=>{if(s.branchId){const T=a.filter(E=>{var S;return(E.branchId||((S=E.branch)==null?void 0:S.id))===s.branchId});u(T)}else u(a)},[s.branchId,a]);const v=T=>{const{name:E,value:C}=T.target;l({...s,[E]:C})},j=async T=>{T.preventDefault(),p(!0),g("");try{await r(s),t()}catch(E){g(E.message||"Failed to save subcategory")}finally{p(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Subcategory":"Add New Subcategory"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{className:"modal-body",children:[m&&n.jsxs("div",{style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:16}),n.jsx("span",{children:m})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch *"}),n.jsxs("select",{name:"branchId",className:"form-select",value:s.branchId,onChange:v,required:!0,children:[n.jsx("option",{value:"",children:"Select Branch"}),i.map(T=>n.jsx("option",{value:T._id,children:T.name},T._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Category *"}),n.jsxs("select",{name:"categoryId",className:"form-select",value:s.categoryId,onChange:v,required:!0,disabled:!s.branchId,children:[n.jsx("option",{value:"",children:"Select Category"}),d.map(T=>n.jsx("option",{value:T._id,children:T.name},T._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Subcategory Name *"}),n.jsx("input",{type:"text",name:"name",className:"form-input",value:s.name,onChange:v,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Description"}),n.jsx("textarea",{name:"description",className:"form-textarea",value:s.description,onChange:v,rows:"3"})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:h,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Saving...":e?"Update":"Create"})]})]})]})})},Wne=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(!1),[u,h]=N.useState(null),[p,m]=N.useState(!1),[g,v]=N.useState(null),[j,b]=N.useState(""),[y,T]=N.useState([]),[E,C]=N.useState(!0),[S,A]=N.useState(""),[k,D]=N.useState(""),[B,F]=N.useState([]),[M,L]=N.useState(!1),[O,W]=N.useState(null),[P,I]=N.useState(!1),[R,H]=N.useState(null),[V,he]=N.useState(""),[U,Y]=N.useState([]),[z,ee]=N.useState("");N.useEffect(()=>{q(),Je()},[]),N.useEffect(()=>{Q()},[j]),N.useEffect(()=>{ae()},[e,j,i]),N.useEffect(()=>{Ee()},[B,V,z]);const q=async()=>{try{const ce=await nr("/branch",{},!0);a(ce)}catch(ce){console.error("Error fetching branches:",ce),A("Failed to load branches. Please refresh the page and try again.")}},Q=async()=>{C(!0),A("");try{const ce=j?`/category?branchId=${j}`:"/category",J=!j;console.log(` Fetching categories for branch: ${j||"All"}, endpoint: ${ce}, merge: ${J}`);const oe=await nr(ce,{},J);console.log(` Received ${oe.length} categories:`,oe.map(te=>{var Se;return{name:te.name,branchId:te.branchId||((Se=te.branch)==null?void 0:Se.id)}})),t(oe)}catch(ce){console.error("Error fetching categories:",ce),A("Failed to load categories. Please refresh the page and try again.")}finally{C(!1)}},ae=()=>{let ce=e;j&&(ce=ce.filter(J=>{var te;return(J.branchId||((te=J.branch)==null?void 0:te.id))===j})),i&&(ce=ce.filter(J=>J.name.toLowerCase().includes(i.toLowerCase()))),T(ce)},de=()=>{h(null),d(!0)},xe=ce=>{h(ce),d(!0)},Z=ce=>{v(ce),m(!0)},ge=async ce=>{try{const J=new FormData;J.append("name",ce.name),J.append("branchId",ce.branchId);const oe=r.find(Se=>Se._id===ce.branchId);if(oe&&(J.append("branchName",oe.name),J.append("branchAddress",oe.address||"")),ce.image&&ce.image.startsWith("data:image")){const Ge=await(await fetch(ce.image)).blob(),Xe=new File([Ge],"category-image.jpg",{type:Ge.type});J.append("image",Xe)}else ce.image&&!ce.image.startsWith("http")&&J.append("image",ce.image);let te;if(u){const Se=await nr(`/category/${u._id}`,{method:"PUT",body:J});Se._imageTimestamp=Date.now(),t(Ge=>Ge.map(Xe=>Xe._id===u._id?{...Se,_imageTimestamp:Date.now()}:Xe)),setTimeout(()=>{Q()},500),D(`Category "${Se.name}" updated successfully`)}else{const Se=await nr("/category",{method:"POST",body:J});t([...e,Se]),D(`Category "${Se.name}" created successfully`)}return setTimeout(()=>{D("")},3e3),!0}catch(J){throw console.error("Error saving category:",J),new Error(J.message||"Failed to save category")}},je=async ce=>{try{await nr(`/category/${ce}`,{method:"DELETE"}),t(e.filter(J=>J._id!==ce)),D("Category deleted successfully"),setTimeout(()=>{D("")},3e3)}catch(J){throw console.error("Error deleting category:",J),new Error(J.message||"Failed to delete category")}},pe=ce=>{var te,Se;if((te=ce.branch)!=null&&te.name)return ce.branch.name;const J=ce.branchId||((Se=ce.branch)==null?void 0:Se.id),oe=r.find(Ge=>Ge._id===J);return oe?oe.name:`Unknown Branch (${(J==null?void 0:J.substring(0,6))||"N/A"})`},Je=async()=>{try{const ce=await nr("/subcategory",{},!0);F(ce)}catch(ce){console.error("Error fetching subcategories:",ce)}},Ee=()=>{let ce=B;V&&(ce=ce.filter(J=>{var te;return(((te=J.categoryId)==null?void 0:te._id)||J.categoryId)===V})),z&&(ce=ce.filter(J=>J.name.toLowerCase().includes(z.toLowerCase()))),Y(ce)},Ve=()=>{W(null),L(!0)},le=ce=>{W(ce),L(!0)},Ce=ce=>{H(ce),I(!0)},Qe=async ce=>{try{O?(await nr(`/subcategory/${O._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)}),D("Subcategory updated successfully")):(await nr("/subcategory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)}),D("Subcategory created successfully")),Je(),setTimeout(()=>D(""),3e3)}catch(J){throw console.error("Error saving subcategory:",J),new Error(J.message||"Failed to save subcategory")}},re=async ce=>{try{await nr(`/subcategory/${ce}`,{method:"DELETE"}),F(B.filter(J=>J._id!==ce)),D("Subcategory deleted successfully"),setTimeout(()=>D(""),3e3)}catch(J){throw console.error("Error deleting subcategory:",J),new Error(J.message||"Failed to delete subcategory")}};return n.jsxs("div",{className:"categories-page",children:[k&&n.jsxs("div",{className:"success-message",children:[n.jsx(Rn,{size:16}),n.jsx("span",{children:k}),n.jsx("button",{onClick:()=>D(""),children:n.jsx("span",{children:""})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Categories"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:de,children:[n.jsx(Ka,{size:16}),n.jsx("span",{children:"Add Category"})]})})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search categories...",className:"search-input",value:i,onChange:ce=>s(ce.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("div",{className:"filter-btn",children:[n.jsx(Mp,{size:16}),n.jsx("span",{children:"Branch:"})]}),n.jsxs("select",{className:"filter-select",value:j,onChange:ce=>b(ce.target.value),children:[n.jsx("option",{value:"",children:"All Branches"}),r.map(ce=>n.jsx("option",{value:ce._id,children:ce.name},ce._id))]})]})]}),S&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:S})]}),E?n.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading categories..."})}):n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Image"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:y.map(ce=>n.jsxs("tr",{children:[n.jsxs("td",{children:[ce.image?n.jsx("img",{src:H2(ce.image,!0),alt:ce.name,className:"category-image",onLoad:()=>{console.log(` Category image loaded: ${ce.name}`,H2(ce.image))},onError:J=>{const te="https://hotelviratbackend.onrender.com/api/v1/hotel".replace("/api/v1/hotel","");let Se=ce.image.replace(/\\/g,"/");Se.startsWith("/")||(Se=`/${Se}`);const Ge=`${te}${Se}?t=${Date.now()}`;console.log(` Primary image failed for ${ce.name}, trying fallback:`,Ge),J.target.dataset.fallbackAttempted?(console.error(` Both backends failed for ${ce.name}`),J.target.style.display="none",J.target.nextSibling.style.display="flex"):(J.target.dataset.fallbackAttempted="true",J.target.src=Ge)}}):null,n.jsx("div",{className:"category-image-placeholder",style:{display:ce.image?"none":"flex"},children:n.jsx(ll,{size:16})})]}),n.jsx("td",{children:ce.name}),n.jsx("td",{children:pe(ce)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>xe(ce),children:n.jsx(ra,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>Z(ce),children:n.jsx(fa,{size:14})})]})})]},ce._id))})]})}),y.length===0&&!E&&n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"No categories found for this branch. Add a new category to get started."})}),l&&n.jsx(Une,{category:u,onClose:()=>d(!1),onSave:ge,branches:r,selectedBranch:j}),p&&n.jsx(II,{category:g,onClose:()=>m(!1),onConfirm:je}),n.jsxs("div",{style:{marginTop:"40px"},children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Subcategories"}),n.jsxs("button",{className:"btn btn-primary",onClick:Ve,children:[n.jsx(Ka,{size:16}),n.jsx("span",{children:"Add Subcategory"})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search subcategories...",className:"search-input",value:z,onChange:ce=>ee(ce.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("div",{className:"filter-btn",children:[n.jsx(Mp,{size:16}),n.jsx("span",{children:"Category:"})]}),n.jsxs("select",{className:"filter-select",value:V,onChange:ce=>he(ce.target.value),children:[n.jsx("option",{value:"",children:"All Categories"}),e.map(ce=>n.jsx("option",{value:ce._id,children:ce.name},ce._id))]})]})]}),n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Category"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Description"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:U.length>0?U.map(ce=>{var J,oe;return n.jsxs("tr",{children:[n.jsx("td",{children:ce.name}),n.jsx("td",{children:((J=ce.categoryId)==null?void 0:J.name)||"N/A"}),n.jsx("td",{children:((oe=ce.branchId)==null?void 0:oe.name)||"N/A"}),n.jsx("td",{children:ce.description||"-"}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>le(ce),children:n.jsx(ra,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>Ce(ce),children:n.jsx(fa,{size:14})})]})})]},ce._id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"40px",color:"#999"},children:"No subcategories found"})})})]})})]}),M&&n.jsx(qne,{subcategory:O,onClose:()=>L(!1),onSave:Qe,categories:e,branches:r}),P&&n.jsx(II,{category:R,onClose:()=>I(!1),onConfirm:re})]})};Mt.create({baseURL:"https://hotelvirat.com/api/v1/hotel"});const G2=e=>{if(!e)return null;if(e.startsWith("http"))return e;const r="https://hotelvirat.com/api/v1/hotel".replace("/api/v1/hotel","");let a=e.toString().trim().replace(/\\/g,"/");if(a.startsWith("uploads/")){const d=`${r}/${a}`;return console.log(`Image URL: ${e} -> ${d}`),d}if(a.startsWith("/")){const d=`${r}${a}`;return console.log(`Image URL: ${e} -> ${d}`),d}const i=a.split("/"),s=i[i.length-1],l=`${r}/uploads/branch/${s}`;return console.log(`Image URL: ${e} -> ${l}`),l},Hne=({branch:e,onClose:t,onSave:r})=>{var y,T,E,C,S;const a=A=>{if(typeof A=="string"){const k=A.split(",").map(D=>D.trim());return k.length>=4?{street:k.slice(0,-3).join(", "),city:k[k.length-3],state:k[k.length-2],country:k[k.length-1]}:k.length===3?{street:k[0],city:k[1]||"",state:k[2]||"",country:""}:k.length===2?{street:k[0],city:k[1]||"",state:"",country:""}:{street:A,city:"",state:"",country:""}}return A||{street:"",city:"",state:"",country:""}},[i,s]=N.useState({name:(e==null?void 0:e.name)||"",gstNumber:(e==null?void 0:e.gstNumber)||"",address:a(e==null?void 0:e.address),contact:{phone:((y=e==null?void 0:e.contact)==null?void 0:y.phone)||"",email:((T=e==null?void 0:e.contact)==null?void 0:T.email)||""},openingHours:{mondayToFriday:((E=e==null?void 0:e.openingHours)==null?void 0:E.mondayToFriday)||"11:00 AM - 11:00 PM",saturday:((C=e==null?void 0:e.openingHours)==null?void 0:C.saturday)||"11:00 AM - 12:00 AM",sunday:((S=e==null?void 0:e.openingHours)==null?void 0:S.sunday)||"12:00 PM - 10:00 PM"},image:null}),[l,d]=N.useState(e!=null&&e.image?G2(e.image):null),[u,h]=N.useState(!1),[p,m]=N.useState("");N.useEffect(()=>{e!=null&&e.image&&d(G2(e.image))},[e]);const g=A=>{const{name:k,value:D}=A.target;if(k.startsWith("address.")){const B=k.split(".")[1];s({...i,address:{...i.address,[B]:D}})}else if(k.startsWith("contact.")){const B=k.split(".")[1];s({...i,contact:{...i.contact,[B]:D}})}else if(k.startsWith("openingHours.")){const B=k.split(".")[1];s({...i,openingHours:{...i.openingHours,[B]:D}})}else s({...i,[k]:D})},v=A=>{const k=A.target.files[0];if(k){if(k.size>5*1024*1024){m("File size must be less than 5MB");return}if(!k.type.startsWith("image/")){m("Please select a valid image file");return}m(""),s({...i,image:k});const D=new FileReader;D.onloadend=()=>{d(D.result)},D.readAsDataURL(k)}},j=()=>{s({...i,image:null}),d(null);const A=document.getElementById("image-upload");A&&(A.value="")},b=async A=>{A.preventDefault(),h(!0),m("");try{const k=new FormData;k.append("name",i.name),k.append("gstNumber",i.gstNumber);const D=[i.address.street,i.address.city,i.address.state,i.address.country].filter(Boolean).join(", ");k.append("address",D),k.append("contact",JSON.stringify(i.contact)),k.append("openingHours",JSON.stringify(i.openingHours)),i.image&&i.image instanceof File&&k.append("image",i.image),await r(k),t()}catch(k){m(k.message||"Failed to save branch. Please try again.")}finally{h(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Branch":"Add New Branch"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:b,children:[n.jsxs("div",{className:"modal-body",children:[p&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:16}),n.jsx("span",{children:p})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch Image"}),n.jsxs("div",{className:"image-upload-container",children:[l?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:l||"/placeholder.svg",alt:"Branch preview",className:"image-preview",onError:A=>{console.error("Image failed to load:",l),A.target.style.display="none",A.target.nextSibling.style.display="flex"}}),n.jsxs("div",{className:"category-image-placeholder",style:{display:"none",width:"100%",height:"150px",fontSize:"14px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:[n.jsx(ll,{size:24}),n.jsx("span",{children:"Image not found"})]}),n.jsx("div",{className:"image-overlay",children:n.jsx("button",{type:"button",onClick:j,style:{background:"rgba(220, 38, 38, 0.8)",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:n.jsx(Hn,{size:16})})})]}):n.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(to,{size:24}),n.jsx("span",{children:"Click to upload branch image"}),n.jsx("small",{style:{color:"#6b7280",marginTop:"4px"},children:"PNG, JPG up to 5MB"})]})}),n.jsx("input",{type:"file",id:"image-upload",className:"image-upload-input",accept:"image/*",onChange:v})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"600"},children:"Basic Information"}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Branch Name ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:g,placeholder:"Enter branch name",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"gstNumber",children:"GST Number"}),n.jsx("input",{type:"text",id:"gstNumber",name:"gstNumber",className:"form-input",value:i.gstNumber,onChange:g,placeholder:"Enter GST number"})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"600"},children:"Address"}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"address.street",children:["Street Address ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsx("textarea",{id:"address.street",name:"address.street",className:"form-textarea",value:i.address.street,onChange:g,placeholder:"Enter street address",required:!0,rows:"2"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"address.city",children:"City"}),n.jsx("input",{type:"text",id:"address.city",name:"address.city",className:"form-input",value:i.address.city,onChange:g,placeholder:"Enter city"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"address.state",children:"State"}),n.jsx("input",{type:"text",id:"address.state",name:"address.state",className:"form-input",value:i.address.state,onChange:g,placeholder:"Enter state"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"address.country",children:"Country"}),n.jsx("input",{type:"text",id:"address.country",name:"address.country",className:"form-input",value:i.address.country,onChange:g,placeholder:"Enter country"})]})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"600"},children:"Contact Information"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"contact.phone",children:"Phone Number"}),n.jsx("input",{type:"tel",id:"contact.phone",name:"contact.phone",className:"form-input",value:i.contact.phone,onChange:g,placeholder:"Enter phone number"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"contact.email",children:"Email Address"}),n.jsx("input",{type:"email",id:"contact.email",name:"contact.email",className:"form-input",value:i.contact.email,onChange:g,placeholder:"Enter email address"})]})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"600"},children:"Opening Hours"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"openingHours.mondayToFriday",children:"Monday - Friday"}),n.jsx("input",{type:"text",id:"openingHours.mondayToFriday",name:"openingHours.mondayToFriday",className:"form-input",value:i.openingHours.mondayToFriday,onChange:g,placeholder:"11:00 AM - 11:00 PM"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"openingHours.saturday",children:"Saturday"}),n.jsx("input",{type:"text",id:"openingHours.saturday",name:"openingHours.saturday",className:"form-input",value:i.openingHours.saturday,onChange:g,placeholder:"11:00 AM - 12:00 AM"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"openingHours.sunday",children:"Sunday"}),n.jsx("input",{type:"text",id:"openingHours.sunday",name:"openingHours.sunday",className:"form-input",value:i.openingHours.sunday,onChange:g,placeholder:"12:00 PM - 10:00 PM"})]})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":e?"Update Branch":"Add Branch"})]})]})]})})},Gne=({branch:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),[s,l]=N.useState(""),d=async()=>{i(!0),l("");try{await r(e._id),t()}catch(u){l(u.message||"Failed to delete branch. Please try again.")}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Branch"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[s&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:16}),n.jsx("span",{children:s})]}),n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"? This will also delete all associated categories and products."]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:d,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Vne=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,h]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(!0),[j,b]=N.useState(""),[y,T]=N.useState("");N.useEffect(()=>{E()},[]);const E=async()=>{v(!0),b("");try{const F=await nr("/branch",{},!0);console.log("Fetched branches from BOTH backends:",F);const M=Array.isArray(F)?F:(F==null?void 0:F.branches)||[];t(M)}catch(F){console.error("Error fetching branches:",F),b("Failed to load branches. Please refresh the page and try again."),t([])}finally{v(!1)}},C=Array.isArray(e)?e.filter(F=>(F.name||"").toLowerCase().includes(r.toLowerCase())||(F.address||"").toLowerCase().includes(r.toLowerCase())):[],S=()=>{d(null),s(!0)},A=F=>{d(F),s(!0)},k=F=>{m(F),h(!0)},D=async F=>{try{let M;return l?(M=await nr(`/branch/${l._id}`,{method:"PUT",body:F}),t(L=>Array.isArray(L)?L.map(O=>O._id===l._id?M:O):[M]),T(`Branch "${M.name}" updated successfully`)):(M=await nr("/branch",{method:"POST",body:F}),t(L=>Array.isArray(L)?[...L,M]:[M]),T(`Branch "${M.name}" created successfully`)),setTimeout(()=>{T("")},3e3),!0}catch(M){console.error("Error saving branch:",M);let L="Failed to save branch";throw M.message&&(L=M.message),new Error(L)}},B=async F=>{try{const M=nr(`/branch/${F}`,{method:"DELETE"}).catch(O=>(console.warn("Branch endpoint delete failed:",O),null)),L=nr(`/hotel/${F}`,{method:"DELETE"}).catch(O=>(console.warn("Restaurant endpoint delete failed:",O),null));return await Promise.allSettled([M,L]),t(O=>Array.isArray(O)?O.filter(W=>W._id!==F):[]),T("Branch deleted successfully from all backends"),setTimeout(()=>{T("")},3e3),!0}catch(M){throw console.error("Error deleting branch:",M),new Error(M.message||"Failed to delete branch")}};return n.jsxs("div",{className:"branches-page",children:[y&&n.jsxs("div",{className:"success-message",children:[n.jsx(Rn,{size:16}),n.jsx("span",{children:y}),n.jsx("button",{onClick:()=>T(""),children:n.jsx("span",{children:""})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Branches"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:S,children:[n.jsx(Ka,{size:16}),n.jsx("span",{children:"Add Branch"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search branches by name or address...",className:"search-input",value:r,onChange:F=>a(F.target.value)})]})}),j&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:j})]}),g?n.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading branches..."})}):n.jsx("div",{className:"grid-container",children:C.length>0?C.filter(F=>F&&F._id).map((F,M)=>n.jsxs("div",{className:"grid-item",children:[n.jsx("div",{className:"grid-item-image-container",children:(()=>{const L=G2(F.image);return console.log("=== BRANCH DETAILS ==="),console.log(`Branch ID: ${F._id}`),console.log(`Branch Name: ${F.name}`),console.log(`Branch Address: ${F.address}`),console.log(`Branch Image Raw Path: ${F.image}`),console.log(`Branch Image Full URL: ${L}`),console.log(`Branch Created: ${F.createdAt}`),console.log("========================"),L?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:L||"/placeholder.svg",alt:F.name,className:"grid-item-image",onLoad:()=>console.log(`Image loaded successfully: ${L}`),onError:O=>{const P="https://hotelviratbackend.onrender.com/api/v1/hotel".replace("/api/v1/hotel",""),I=F.image.toString().trim().replace(/\\/g,"/").replace(/^\//,""),R=`${P}/${I}`;O.target.src!==R?(console.log(`Trying secondary backend: ${R}`),O.target.src=R):(console.error(`Image failed to load from both backends: ${L}`),O.target.style.display="none"),O.target.nextSibling&&(O.target.nextSibling.style.display="flex")}}),n.jsxs("div",{className:"category-image-placeholder",style:{display:"none",width:"100%",height:"200px",fontSize:"16px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#9ca3af"},children:[n.jsx(ll,{size:24}),n.jsx("span",{style:{marginTop:"8px",fontSize:"14px"},children:"Image failed to load"})]})]}):n.jsxs("div",{className:"category-image-placeholder",style:{display:"flex",width:"100%",height:"200px",fontSize:"16px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#9ca3af"},children:[n.jsx(Fu,{size:24}),n.jsx("span",{style:{marginTop:"8px",fontSize:"14px"},children:"No Image"})]})})()}),n.jsxs("div",{className:"grid-item-content",children:[n.jsx("h3",{className:"grid-item-title",children:F.name}),n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:"8px"},children:[n.jsx(Fu,{size:16,style:{marginRight:"8px",color:"#6b7280",marginTop:"2px",flexShrink:0}}),n.jsx("p",{className:"grid-item-subtitle",style:{lineHeight:"1.4"},children:F.address})]}),n.jsx("div",{className:"grid-item-footer",children:n.jsxs("div",{className:"grid-item-actions",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>A(F),children:n.jsx(ra,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>k(F),children:n.jsx(fa,{size:14})})]})})]})]},F._id||`branch-${M}`)):n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0",gridColumn:"1 / -1"},children:n.jsxs("p",{children:["No branches found. ",r?"Try a different search term.":"Add a new branch to get started."]})})}),i&&n.jsx(Hne,{branch:l,onClose:()=>s(!1),onSave:D}),u&&n.jsx(Gne,{branch:p,onClose:()=>h(!1),onConfirm:B})]})},Yne=({user:e,onClose:t,onSave:r,isEditMode:a})=>{const[i,s]=N.useState({name:(e==null?void 0:e.name)||"",mobile:(e==null?void 0:e.mobile)||"",email:(e==null?void 0:e.email)||"",image:null}),[l,d]=N.useState(e!=null&&e.image?`${e.image.startsWith("http")?"":"https://hotelvirat.com/"}${e.image}`:null),[u,h]=N.useState(null),p=v=>{const{name:j,value:b}=v.target;s({...i,[j]:b}),h(null)},m=v=>{const j=v.target.files[0];if(j){s({...i,image:j});const b=new FileReader;b.onloadend=()=>d(b.result),b.readAsDataURL(j)}},g=async v=>{v.preventDefault(),h(null);const j=new FormData;j.append("name",i.name),j.append("mobile",i.mobile),a&&i.email&&j.append("email",i.email),i.image&&j.append("image",i.image);try{await r(j,e==null?void 0:e._id),t()}catch(b){h(b.message||"Failed to save user")}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:a?"Edit User":"Add New User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:g,children:[n.jsxs("div",{className:"modal-body",children:[u&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626"},children:u}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:p,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"mobile",children:["Mobile ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-input",value:i.mobile,onChange:p,required:!0,pattern:"\\d{10}",title:"Please enter a valid 10-digit mobile number"})]}),a&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"email",children:"Email"}),n.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",value:i.email,onChange:p})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Profile Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:l?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:l,alt:"User preview",className:"image-preview"}),n.jsx("div",{className:"image-overlay",children:n.jsx("span",{children:"Change Image"})})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(ll,{size:24}),n.jsx("span",{children:"Upload Profile Image"})]})}),n.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:m,className:"image-upload-input"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",children:a?"Update User":"Add User"})]})]})]})})},Kne=({user:e,onClose:t,onConfirm:r})=>n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:()=>{r(e._id),t()},children:"Delete"})]})]})}),Xne=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,h]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,T]=N.useState(!1),E=async()=>{T(!0);try{const M=await nr("/user-auth/all"),O=(Array.isArray(M)?M:[]).sort((W,P)=>new Date(P.createdAt)-new Date(W.createdAt));t(O)}catch(M){b(M.message),t([])}finally{T(!1)}};N.useEffect(()=>{E()},[]);const C=()=>{d(null),s(!0)},S=M=>{d(M),s(!0)},A=M=>{m(M),h(!0)},k=async(M,L)=>{try{const O=L?`/user-auth/${L}`:"/user-auth/";await nr(O,{method:L?"PUT":"POST",body:M}),v(`User ${L?"updated":"added"} successfully`),setTimeout(()=>v(""),3e3),await E()}catch(O){throw new Error(O.message)}},D=async M=>{try{await nr(`/user-auth/${M}`,{method:"DELETE"}),v("User deleted successfully"),setTimeout(()=>v(""),3e3),await E()}catch(L){b(L.message),setTimeout(()=>b(""),3e3)}},B=M=>{const L={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(M).toLocaleDateString(void 0,L)},F=Array.isArray(e)?e.filter(M=>M.name.toLowerCase().includes(r.toLowerCase())||M.mobile.includes(r)||M.email&&M.email.toLowerCase().includes(r.toLowerCase())):[];return n.jsxs("div",{className:"users-page",children:[g&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>v(""),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),j&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),style:{color:"#dc2626"},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Users"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:C,disabled:y,children:[n.jsx(Zc,{size:16}),n.jsx("span",{children:"Add User"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search users...",className:"search-input",value:r,onChange:M=>a(M.target.value)})]})}),n.jsx("div",{className:"data-card",children:y?n.jsx("div",{className:"empty-state",children:"Loading users..."}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Mobile"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:F.map(M=>n.jsxs("tr",{children:[n.jsx("td",{children:M._id.slice(-6)}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[M.image?n.jsx("img",{src:`${M.image.startsWith("http")?"":"https://hotelvirat.com/"}${M.image}`,alt:M.name,className:"user-avatar"}):n.jsx("div",{className:"user-avatar-placeholder",children:M.name.charAt(0).toUpperCase()}),M.name]})}),n.jsx("td",{children:M.email?n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(ys,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),M.email]}):n.jsx("span",{style:{color:"#9ca3af"},children:"Not provided"})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(Za,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),M.mobile]})}),n.jsx("td",{children:B(M.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>S(M),disabled:y,children:n.jsx(ra,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>A(M),disabled:y,children:n.jsx(fa,{size:14})})]})})]},M._id))})]})}),F.length===0&&!y&&n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No users found. ",r?"Try a different search.":"Add a new user to get started."]})}),i&&n.jsx(Yne,{user:l,onClose:()=>s(!1),onSave:k,isEditMode:!!l}),u&&n.jsx(Kne,{user:p,onClose:()=>h(!1),onConfirm:D})]})},Qne=({coupon:e,onClose:t,onSave:r})=>{const[a,i]=N.useState({code:(e==null?void 0:e.code)||"",description:(e==null?void 0:e.description)||"",discountType:(e==null?void 0:e.discountType)||"percentage",discountValue:(e==null?void 0:e.discountValue)||"",minOrderValue:(e==null?void 0:e.minOrderValue)||"",startDate:e!=null&&e.startDate?new Date(e.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],endDate:e!=null&&e.endDate?new Date(e.endDate).toISOString().split("T")[0]:"",usageLimit:(e==null?void 0:e.usageLimit)||"",image:null}),[s,l]=N.useState(e==null?void 0:e.image),[d,u]=N.useState(!1),[h,p]=N.useState(null),[m,g]=N.useState([]),[v,j]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const A=await fetch("https://hotelvirat.com/api/v1/hotel/coupon");if(A.ok){const k=await A.json();g(k.map(D=>D.code.toLowerCase()))}}catch(A){console.log("Could not fetch existing coupons:",A)}})()},[]);const b=S=>{const{name:A,value:k}=S.target;i({...a,[A]:["discountValue","minOrderValue","usageLimit"].includes(A)?k===""?"":Number.parseFloat(k):k})},y=S=>m.includes(S.toLowerCase()),T=()=>{const S=new Date().getFullYear(),A=new Date().getMonth()+1,k=new Date().getDate(),D=Date.now().toString().slice(-4),B=["WELCOME","SAVE","DISCOUNT","FIRST","NEWYEAR","HOTEL","VIRAT","SPECIAL","OFFER","DEAL"],F=[S.toString(),S.toString().slice(-2),`${A}${S.toString().slice(-2)}`,`${k}${A}`,D,Math.floor(Math.random()*1e3)+100,Math.floor(Math.random()*50)+10];for(let M=0;M<50;M++){const L=B[Math.floor(Math.random()*B.length)],O=F[Math.floor(Math.random()*F.length)],W=`${L}${O}`;if(!y(W))return W}return`UNIQUE${D}${Math.floor(Math.random()*100)}`},E=S=>{const A=S.target.files[0];if(A){i({...a,image:A});const k=new FileReader;k.onloadend=()=>{l(k.result)},k.readAsDataURL(A)}},C=async S=>{S.preventDefault(),u(!0),p(null);try{await r(a),t()}catch(A){p(A.message||"Failed to save coupon")}finally{u(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Coupon":"Add New Coupon"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:C,children:[n.jsxs("div",{className:"modal-body",children:[h&&n.jsxs("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:16}),n.jsxs("div",{children:[n.jsx("div",{children:h}),h.includes("already exists")&&n.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#991b1b"},children:" Try using a different code like: WELCOME2025, NEWYEAR25, DISCOUNT15, SAVE20, FIRST10"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"code",children:"Coupon Code"}),n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[n.jsx("input",{type:"text",id:"code",name:"code",className:"form-input",value:a.code,onChange:b,required:!0,style:{flex:1,borderColor:a.code&&y(a.code)&&!e?"#ef4444":"#d1d5db"},placeholder:"Enter unique coupon code (e.g., WELCOME2025)"}),n.jsx("button",{type:"button",onClick:()=>{const S=T();i({...a,code:S})},style:{padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",cursor:"pointer",whiteSpace:"nowrap",fontWeight:"500"},children:" Generate"})]}),a.code&&!e&&n.jsx("div",{style:{marginTop:"6px",fontSize:"12px"},children:y(a.code)?n.jsx("div",{style:{color:"#ef4444",display:"flex",alignItems:"center",gap:"4px"},children:" This code already exists! Try a different one."}):n.jsx("div",{style:{color:"#10b981",display:"flex",alignItems:"center",gap:"4px"},children:" This code is available!"})}),n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"6px"},children:' Click "Generate" for a guaranteed unique code'}),m.length>0&&n.jsxs("details",{style:{marginTop:"8px"},children:[n.jsxs("summary",{style:{fontSize:"12px",color:"#6b7280",cursor:"pointer"},children:[" View existing coupon codes (",m.length," total)"]}),n.jsxs("div",{style:{marginTop:"4px",padding:"8px",backgroundColor:"#f9fafb",borderRadius:"4px",fontSize:"11px",maxHeight:"100px",overflowY:"auto"},children:[m.slice(0,20).map((S,A)=>n.jsx("span",{style:{display:"inline-block",margin:"2px",padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"3px",textTransform:"uppercase"},children:S},A)),m.length>20&&n.jsxs("div",{style:{marginTop:"4px",color:"#6b7280"},children:["... and ",m.length-20," more"]})]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"description",children:"Description"}),n.jsx("textarea",{id:"description",name:"description",className:"form-textarea",value:a.description,onChange:b,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Coupon Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:s?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:s||"/placeholder.svg",alt:"Coupon preview",className:"image-preview"}),n.jsx("div",{className:"image-overlay",children:n.jsx("span",{children:"Change Image"})})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(ll,{size:24}),n.jsx("span",{children:"Upload Coupon Image"})]})}),n.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:E,className:"image-upload-input"})]})]}),n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"discountType",children:"Discount Type"}),n.jsxs("select",{id:"discountType",name:"discountType",className:"form-select",value:a.discountType,onChange:b,required:!0,children:[n.jsx("option",{value:"percentage",children:"Percentage"}),n.jsx("option",{value:"fixed",children:"Fixed Amount"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"discountValue",children:a.discountType==="percentage"?"Discount Percentage":"Discount Amount ()"}),n.jsx("input",{type:"number",id:"discountValue",name:"discountValue",className:"form-input",value:a.discountValue,onChange:b,min:"0",step:a.discountType==="percentage"?"1":"0.01",required:!0})]})]}),n.jsx("div",{className:"form-grid",children:n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"minOrderValue",children:"Minimum Order Value ()"}),n.jsx("input",{type:"number",id:"minOrderValue",name:"minOrderValue",className:"form-input",value:a.minOrderValue,onChange:b,min:"0",step:"0.01",required:!0})]})}),n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"startDate",children:"Valid From"}),n.jsx("input",{type:"date",id:"startDate",name:"startDate",className:"form-input",value:a.startDate,onChange:b,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"endDate",children:"Valid To"}),n.jsx("input",{type:"date",id:"endDate",name:"endDate",className:"form-input",value:a.endDate,onChange:b,required:!0})]})]}),n.jsx("div",{className:"form-grid",children:n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"usageLimit",children:"Usage Limit"}),n.jsx("input",{type:"number",id:"usageLimit",name:"usageLimit",className:"form-input",value:a.usageLimit,onChange:b,min:"1",step:"1",required:!0})]})})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:d,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":e?"Update Coupon":"Add Coupon"})]})]})]})})},Zne=({coupon:e,onClose:t,onConfirm:r,loading:a})=>n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Coupon"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete coupon ",n.jsx("strong",{children:e.code}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:()=>r(e._id),disabled:a,children:a?"Deleting...":"Delete"})]})]})}),Jne=({message:e,onClose:t})=>(N.useEffect(()=>{const r=setTimeout(()=>{t()},3e3);return()=>clearTimeout(r)},[t]),n.jsxs("div",{className:"success-message",children:[e,n.jsx("button",{onClick:t,children:""})]})),eae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,h]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(!1),[j,b]=N.useState(null),[y,T]=N.useState(null),[E,C]=N.useState(!0),S=async()=>{C(!0);try{const W=await fetch("https://hotelvirat.com/api/v1/hotel/coupon");if(!W.ok)throw new Error("Failed to fetch coupons");const P=await W.json();let I=[];P.success&&Array.isArray(P.data)?I=P.data:Array.isArray(P)?I=P:P.message&&P.message.includes("routes working")&&(I=[]),t(I)}catch(O){b(O.message||"Failed to fetch coupons"),console.error("Error fetching Coupons:",O),t([])}finally{C(!1)}};N.useEffect(()=>{S()},[]);const A=()=>{d(null),s(!0)},k=O=>{d(O),s(!0)},D=O=>{m(O),h(!0)},B=async O=>{v(!0);try{const W=new FormData;W.append("code",O.code),W.append("description",O.description),W.append("discountType",O.discountType),W.append("discountValue",O.discountValue),W.append("minOrderValue",O.minOrderValue),W.append("startDate",O.startDate),W.append("endDate",O.endDate),W.append("usageLimit",O.usageLimit),W.append("isActive","true"),O.image&&W.append("image",O.image);let P;if(l?P=await fetch(`https://hotelvirat.com/api/v1/hotel/coupon/${l._id}`,{method:"PUT",body:W}):P=await fetch("https://hotelvirat.com/api/v1/hotel/coupon",{method:"POST",body:W}),!P.ok){const R=await P.json();throw new Error(R.message||"Failed to save coupon")}const I=await P.json();return await S(),T(l?"Coupon updated successfully":"Coupon created successfully"),I}catch(W){throw console.error("Error saving coupon:",W),W}finally{v(!1)}},F=async O=>{v(!0);try{const W=await fetch(`https://hotelvirat.com/api/v1/hotel/coupon/${O}`,{method:"DELETE"});if(!W.ok){const P=await W.json();throw new Error(P.message||"Failed to delete coupon")}await S(),T("Coupon deleted successfully")}catch(W){console.error("Error deleting coupon:",W),b(W.message||"Failed to delete coupon")}finally{v(!1),h(!1)}},M=(Array.isArray(e)?e:[]).filter(O=>O.code.toLowerCase().includes(r.toLowerCase())||O.description.toLowerCase().includes(r.toLowerCase())),L=O=>O?new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return n.jsxs("div",{className:"coupons-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Coupons"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:A,children:[n.jsx(Ka,{size:16}),n.jsx("span",{children:"Add Coupon"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search coupons...",className:"search-input",value:r,onChange:O=>a(O.target.value)})]})}),j&&n.jsxs("div",{style:{padding:"15px",marginBottom:"20px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:18}),j,n.jsx("button",{onClick:()=>b(null),style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),E?n.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading coupons..."})}):n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Image"}),n.jsx("th",{children:"Code"}),n.jsx("th",{children:"Description"}),n.jsx("th",{children:"Discount"}),n.jsx("th",{children:"Min. Order"}),n.jsx("th",{children:"Validity"}),n.jsx("th",{children:"Usage"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:M.map(O=>n.jsxs("tr",{children:[n.jsx("td",{children:O.image?n.jsx("div",{className:"coupon-image-cell",children:n.jsx("img",{src:`${O.image}`,alt:O.code,className:"coupon-image",onError:W=>{W.target.onerror=null,W.target.src="https://via.placeholder.com/50"}})}):n.jsx("div",{className:"coupon-image-placeholder",children:n.jsx(ll,{size:16})})}),n.jsx("td",{children:n.jsx("span",{style:{fontWeight:"600",color:"#f97316"},children:O.code})}),n.jsx("td",{children:O.description}),n.jsx("td",{children:O.discountType==="percentage"?n.jsxs("span",{children:[O.discountValue,"%"]}):n.jsxs("span",{children:["",O.discountValue]})}),n.jsxs("td",{children:["",O.minOrderValue]}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(Br,{size:14,style:{marginRight:"4px",color:"#6b7280"}}),L(O.startDate)," - ",L(O.endDate)]})}),n.jsxs("td",{children:[O.usageCount," / ",O.usageLimit||"",n.jsx("div",{style:{width:"100%",height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",marginTop:"4px"},children:n.jsx("div",{style:{width:`${O.usageLimit?O.usageCount/O.usageLimit*100:0}%`,height:"100%",backgroundColor:"#f97316",borderRadius:"2px"}})})]}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>k(O),children:n.jsx(ra,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>D(O),children:n.jsx(fa,{size:14})})]})})]},O._id))})]})}),!E&&M.length===0&&n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"No coupons found. Add a new coupon to get started."})}),i&&n.jsx(Qne,{coupon:l,onClose:()=>s(!1),onSave:B}),u&&n.jsx(Zne,{coupon:p,onClose:()=>h(!1),onConfirm:F,loading:g}),y&&n.jsx(Jne,{message:y,onClose:()=>T(null)})]})},tae=Mt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),rae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(""),[l,d]=N.useState(1),[u,h]=N.useState(1),[p,m]=N.useState(""),[g,v]=N.useState("date"),[j,b]=N.useState("desc"),[y,T]=N.useState(null),[E,C]=N.useState(!1),S=7;N.useEffect(()=>{(async()=>{a(!0),s("");try{const R={page:l,limit:S};p.trim()&&(R.search=p.trim());const H=await tae.get("/order",{params:R});let V=[];H.data.success&&Array.isArray(H.data.data)?V=H.data.data:H.data.orders&&Array.isArray(H.data.orders)?V=H.data.orders:Array.isArray(H.data)?V=H.data:(console.error(" Unexpected response format:",H.data),V=[]);const he=V.map(Y=>({id:Y._id,orderId:Y.orderNumber,customer:Y.name,date:new Date(Y.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),amount:Y.total,method:Y.paymentMethod,items:Y.items,discount:Y.discount,tax:Y.tax,subtotal:Y.subtotal,deliveryFee:Y.deliveryFee}));t(he);let U=1;H.data&&H.data.pagination&&H.data.pagination.totalPages?U=H.data.pagination.totalPages:U=Math.ceil(V.length/S)||1,h(U)}catch(R){console.error("Error fetching payments:",R),s("Failed to load payments. Please try again."),t([]),h(1)}finally{a(!1)}})()},[l,p]);const D=[...e.filter(I=>{const R=p.toLowerCase();return I.orderId.toLowerCase().includes(R)||I.customer.toLowerCase().includes(R)})].sort((I,R)=>g==="date"?j==="asc"?new Date(I.date)-new Date(R.date):new Date(R.date)-new Date(I.date):g==="amount"?j==="asc"?I.amount-R.amount:R.amount-I.amount:0).slice(0,S),B=I=>{switch(I){case"card":return n.jsx(Jn,{className:"h-5 w-5"});case"upi":return n.jsx(Lu,{className:"h-5 w-5"});case"cash":return n.jsx("span",{className:"rupees-icon",children:""});default:return n.jsx(Jn,{className:"h-5 w-5"})}},F=I=>{T(I),C(!0)},M=()=>{C(!1),T(null)},L=I=>{g===I?b(j==="asc"?"desc":"asc"):(v(I),b("desc"))},O=I=>{if(I==null)return"";const R=I.toString();return R.includes(",")||R.includes('"')||R.includes(`
`)?`"${R.replace(/"/g,'""')}"`:R},W=()=>{let R=["Order ID","Customer","Date","Subtotal","Discount","Tax","Delivery Fee","Total","Payment Method"].map(O).join(",")+`
`;e.forEach(Y=>{const z=[Y.orderId,Y.customer,Y.date,`${Y.subtotal.toFixed(2)}`,`${Y.discount.toFixed(2)}`,`${Y.tax.toFixed(2)}`,`${Y.deliveryFee.toFixed(2)}`,`${Y.amount.toFixed(2)}`,Y.method.charAt(0).toUpperCase()+Y.method.slice(1)];R+=z.map(O).join(",")+`
`});const H="\uFEFF",V=new Blob([H+R],{type:"text/csv;charset=utf-8;"}),he=window.URL.createObjectURL(V),U=document.createElement("a");U.setAttribute("hidden",""),U.setAttribute("href",he),U.setAttribute("download",`payments-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(U),U.click(),document.body.removeChild(U)},P=()=>{const I=[];if(u<=7)for(let R=1;R<=u;R++)I.push(R);else{I.push(1);let R=Math.max(2,l-2),H=Math.min(u-1,l+2);l<=4&&(H=5),l>=u-3&&(R=u-4),R>2&&I.push("...");for(let V=R;V<=H;V++)I.push(V);H<u-1&&I.push("..."),u>1&&I.push(u)}return I};return n.jsxs("div",{className:"payment-ui",children:[n.jsx("div",{className:"page-header",children:n.jsx("h1",{children:"Payments"})}),i&&n.jsx("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("span",{children:i})}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{className:"search-icon"}),n.jsx("input",{type:"text",className:"search-input",placeholder:"Search by order ID or customer name",value:p,onChange:I=>m(I.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("button",{className:"filter-btn",onClick:W,children:[n.jsx(ta,{className:"h-4 w-4"}),n.jsx("span",{children:"Export"})]})})]}),n.jsx("div",{className:"data-card",children:n.jsx("div",{className:"card-body",children:r?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading payments..."})]}):D.length===0?n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No payments found matching your search."})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Customer"}),n.jsx("th",{className:"sortable-header",onClick:()=>L("date"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Date"}),g==="date"&&(j==="asc"?n.jsx(lo,{className:"h-4 w-4"}):n.jsx(oo,{className:"h-4 w-4"}))]})}),n.jsx("th",{className:"sortable-header",onClick:()=>L("amount"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Amount"}),g==="amount"&&(j==="asc"?n.jsx(lo,{className:"h-4 w-4"}):n.jsx(oo,{className:"h-4 w-4"}))]})}),n.jsx("th",{children:"Payment Method"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:D.map(I=>n.jsxs("tr",{children:[n.jsx("td",{children:I.orderId}),n.jsx("td",{children:I.customer}),n.jsx("td",{children:I.date}),n.jsxs("td",{children:["",I.amount.toFixed(2)]}),n.jsx("td",{children:n.jsxs("div",{className:"payment-method",children:[B(I.method),n.jsx("span",{className:"payment-method-text",children:I.method.charAt(0).toUpperCase()+I.method.slice(1)})]})}),n.jsx("td",{children:n.jsx("div",{className:"action-buttons",children:n.jsx("button",{className:"action-btn view",onClick:()=>F(I),children:"View"})})})]},I.id))})]})})}),n.jsxs("div",{className:"pagination",children:[n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:l===1,onClick:()=>d(I=>Math.max(I-1,1)),children:[n.jsx(kh,{className:"h-4 w-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"pagination-pages",children:P().map((I,R)=>I==="..."?n.jsx("span",{className:"pagination-ellipsis",children:"..."},R):n.jsx("button",{className:`pagination-page ${l===I?"active":""}`,onClick:()=>d(I),children:I},R))}),n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:l===u,onClick:()=>d(I=>Math.min(I+1,u)),children:[n.jsx("span",{children:"Next"}),n.jsx(Ih,{className:"h-4 w-4"})]})]}),E&&y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{className:"modal-title",children:"Payment Details"}),n.jsx("button",{className:"modal-close",onClick:M,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"payment-details",children:[n.jsxs("div",{className:"payment-info-grid",children:[n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Payment Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Order ID:"}),n.jsx("span",{className:"info-value",children:y.orderId})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Date:"}),n.jsx("span",{className:"info-value",children:y.date})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Subtotal:"}),n.jsxs("span",{className:"info-value",children:["",y.subtotal.toFixed(2)]})]}),y.discount>0&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Discount:"}),n.jsxs("span",{className:"info-value",style:{color:"#22c55e"},children:["-",y.discount.toFixed(2)]})]}),y.tax>0&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Tax:"}),n.jsxs("span",{className:"info-value",children:["",y.tax.toFixed(2)]})]}),y.deliveryFee>0&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Delivery Fee:"}),n.jsxs("span",{className:"info-value",children:["",y.deliveryFee.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Total Amount:"}),n.jsxs("span",{className:"info-value",children:["",y.amount.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Payment Method:"}),n.jsx("span",{className:"info-value",children:n.jsxs("div",{className:"payment-method",children:[B(y.method),n.jsx("span",{className:"payment-method-text",children:y.method.charAt(0).toUpperCase()+y.method.slice(1)})]})})]})]})]}),n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Customer Information"}),n.jsx("div",{className:"payment-info-content",children:n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Name:"}),n.jsx("span",{className:"info-value",children:y.customer})]})})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Order Items"}),n.jsxs("table",{className:"order-items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:y.items.map((I,R)=>n.jsxs("tr",{children:[n.jsx("td",{children:I.name}),n.jsx("td",{children:I.quantity}),n.jsxs("td",{children:["",I.price.toFixed(2)]}),n.jsxs("td",{children:["",(I.quantity*I.price).toFixed(2)]})]},R))}),n.jsxs("tfoot",{children:[n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Subtotal"}),n.jsxs("td",{className:"total-value",children:["",y.subtotal.toFixed(2)]})]}),y.discount>0&&n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Discount"}),n.jsxs("td",{className:"total-value",style:{color:"#22c55e"},children:["-",y.discount.toFixed(2)]})]}),y.tax>0&&n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Tax"}),n.jsxs("td",{className:"total-value",children:["",y.tax.toFixed(2)]})]}),y.deliveryFee>0&&n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Delivery Fee"}),n.jsxs("td",{className:"total-value",children:["",y.deliveryFee.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Total"}),n.jsxs("td",{className:"total-value",children:["",y.amount.toFixed(2)]})]})]})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:M,children:"Close"})})]})}),n.jsx("style",{jsx:!0,children:`
        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 40px;
        }

        .loading-spinner {
          border: 4px solid rgba(0, 0, 0, 0.1);
          border-left-color: var(--primary-color);
          border-radius: 50%;
          width: 30px;
          height: 30px;
          animation: spin 1s linear infinite;
          margin-bottom: 10px;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        .sortable-header {
          cursor: pointer;
        }

        .sort-header {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .payment-method-text {
          font-size: 14px;
        }

        .rupees-icon {
          display: flex;
          align-items: center;
          font-size: 18px;
          line-height: 1;
        }

        .payment-details {
          padding: 10px 0;
        }

        .payment-info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }

        @media (max-width: 768px) {
          .payment-info-grid {
            grid-template-columns: 1fr;
          }
        }

        .payment-info-section {
          background-color: var(--bg-light);
          border-radius: var(--radius-md);
          overflow: hidden;
        }

        .payment-info-title {
          font-size: 16px;
          font-weight: 600;
          padding: 12px 16px;
          background-color: var(--bg-white);
          border-bottom: 1px solid var(--border-color);
        }

        .payment-info-content {
          padding: 16px;
        }

        .info-row {
          display: flex;
          margin-bottom: 10px;
        }

        .info-label {
          width: 140px;
          font-weight: 500;
          color: var(--text-light);
        }

        .info-value {
          flex: 1;
          font-weight: 500;
        }

        .order-items-section {
          margin-top: 20px;
        }

        .order-items-table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
        }

        .order-items-table th {
          text-align: left;
          padding: 12px;
          background-color: var(--bg-light);
          font-weight: 500;
          color: var(--text-light);
        }

        .order-items-table td {
          padding: 12px;
          border-bottom: 1px solid var(--border-color);
        }

        .order-items-table tfoot td {
          padding: 12px;
          font-weight: 600;
        }

        .total-label {
          text-align: right;
          font-weight: 600;
        }

        .total-value {
          font-weight: 700;
          color: var(--primary-color);
        }

        .pagination-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 4px;
          padding: 8px 16px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-page {
          padding: 8px 12px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-page.active {
          background-color: var(--primary-color);
          color: white;
          border-color: var(--primary-color);
        }

        .pagination-ellipsis {
          padding: 8px 12px;
          color: var(--text-light);
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }
      `})]})},nae=()=>{const[e,t]=N.useState(null),[r,a]=N.useState(!1),[i,s]=N.useState({title:"",mobile:"",email:""}),[l,d]=N.useState(!1),[u,h]=N.useState(null),[p,m]=N.useState(null);N.useEffect(()=>{(async()=>{var b,y,T;d(!0);try{const E=await Mt.get("https://hotelvirat.com/api/v1/hotel/help-support");t(E.data),s({title:E.data.title,mobile:E.data.mobile,email:E.data.email})}catch(E){((b=E.response)==null?void 0:b.status)!==404&&h(((T=(y=E.response)==null?void 0:y.data)==null?void 0:T.message)||"Failed to fetch help and support information")}finally{d(!1)}})()},[]);const g=j=>{const{name:b,value:y}=j.target;s({...i,[b]:y})},v=async j=>{var b,y;j.preventDefault(),d(!0),h(null),m(null);try{let T;e!=null&&e._id?T=await Mt.put(`https://hotelvirat.com/api/v1/hotel/help-support/${e._id}`,i):T=await Mt.post("https://hotelvirat.com/api/v1/hotel/help-support",i),t(T.data.helpSupport),s({title:T.data.helpSupport.title,mobile:T.data.helpSupport.mobile,email:T.data.helpSupport.email}),a(!1),m("Help and support information saved successfully!"),setTimeout(()=>m(null),3e3)}catch(T){h(((y=(b=T.response)==null?void 0:b.data)==null?void 0:y.message)||"Failed to save help and support information")}finally{d(!1)}};return l&&!e?n.jsx("div",{className:"empty-state",children:"Loading..."}):u&&!e?n.jsx("div",{className:"empty-state",children:u}):n.jsxs("div",{className:"help-support-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Help & Support"}),!r&&n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:()=>a(!0),children:[n.jsx(ra,{size:16}),n.jsx("span",{children:"Edit Information"})]})})]}),p&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:p}),n.jsx("button",{onClick:()=>m(null),children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"card",children:r?n.jsx("form",{onSubmit:v,children:n.jsxs("div",{className:"card-body",style:{padding:"20px"},children:[u&&n.jsxs("div",{className:"alert-message",children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"title",children:"Title"}),n.jsx("input",{type:"text",id:"title",name:"title",className:"form-input",value:i.title,onChange:g,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"mobile",children:"Mobile Number"}),n.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-input",value:i.mobile,onChange:g,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"email",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",value:i.email,onChange:g,required:!0})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>{s(e?{title:e.title,mobile:e.mobile,email:e.email}:{title:"",mobile:"",email:""}),a(!1),h(null)},disabled:l,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?n.jsx("span",{children:"Saving..."}):n.jsxs(n.Fragment,{children:[n.jsx(L3,{size:16}),n.jsx("span",{children:"Save Changes"})]})})]})]})}):n.jsx("div",{className:"card-body",style:{padding:"20px"},children:e?n.jsxs("div",{className:"contact-info-container",children:[n.jsx("div",{className:"contact-header",children:n.jsx("h3",{children:e.title})}),n.jsxs("div",{className:"contact-details",children:[n.jsxs("div",{className:"contact-item",children:[n.jsx("div",{className:"contact-icon",children:n.jsx(Za,{size:20})}),n.jsxs("div",{className:"contact-content",children:[n.jsx("h4",{children:"Mobile Number"}),n.jsx("p",{children:e.mobile})]})]}),n.jsxs("div",{className:"contact-item",children:[n.jsx("div",{className:"contact-icon",children:n.jsx(ys,{size:20})}),n.jsxs("div",{className:"contact-content",children:[n.jsx("h4",{children:"Email Address"}),n.jsx("p",{children:e.email})]})]})]})]}):n.jsx("div",{className:"empty-state",children:"No help and support information available."})})})]})},aae=()=>{const[e,t]=N.useState(null),[r,a]=N.useState(!1),[i,s]=N.useState({description:"",mission:""}),[l,d]=N.useState(!1),[u,h]=N.useState(null),[p,m]=N.useState(null),g=async()=>{try{d(!0),h(null);const b=await fetch("https://hotelvirat.com/api/v1/hotel/about-us");if(b.ok){const y=await b.json(),T=y.data||y;T&&T._id?(t(T),s({description:T.description||"",mission:T.mission||""})):(t(null),s({description:"",mission:""}))}else if(b.status===404)t(null),s({description:"",mission:""}),h(null);else throw new Error("Failed to fetch About Us data")}catch(b){console.error("Fetch error:",b),h(b.message),t(null)}finally{d(!1)}};N.useEffect(()=>{g()},[]);const v=b=>{const{name:y,value:T}=b.target;s({...i,[y]:T})},j=async b=>{if(b.preventDefault(),d(!0),h(null),m(null),!i.description.trim()||!i.mission.trim()){h("Both description and mission are required"),d(!1);return}if(i.description.trim().length<10){h("Description must be at least 10 characters long"),d(!1);return}if(i.mission.trim().length<10){h("Mission must be at least 10 characters long"),d(!1);return}try{const y="https://hotelvirat.com/api/v1",T=e?`${y}/hotel/about-us/${e._id}`:`${y}/hotel/about-us`,E=e?"PUT":"POST";console.log(`Making ${E} request to:`,T);const C=await fetch(T,{method:E,headers:{"Content-Type":"application/json"},body:JSON.stringify({description:i.description.trim(),mission:i.mission.trim()})});if(!C.ok){const A=await C.json();throw new Error(A.message||(e?"Failed to update About Us information":"Failed to create About Us information"))}const S=await C.json();console.log("Submit result:",S),m(S.message||(e?"About Us information updated successfully!":"About Us information created successfully!")),a(!1),await g(),setTimeout(()=>m(null),5e3)}catch(y){console.error("Submit error:",y),h(y.message)}finally{d(!1)}};return l&&!e&&!r?n.jsx("div",{className:"empty-state",children:"Loading..."}):n.jsxs("div",{className:"about-us-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"About Us"}),!r&&n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:()=>a(!0),disabled:l,children:[n.jsx(ra,{size:16}),n.jsx("span",{children:e?"Edit Information":"Add Information"})]})})]}),p&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:p}),n.jsx("button",{onClick:()=>m(null),children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),u&&!r&&n.jsxs("div",{className:"alert-message",style:{marginBottom:"16px"},children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:u}),n.jsx("button",{onClick:()=>h(null),style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer"},children:""})]}),n.jsx("div",{className:"card",children:r?n.jsx("form",{onSubmit:j,children:n.jsxs("div",{className:"card-body",style:{padding:"20px"},children:[u&&n.jsxs("div",{className:"alert-message",style:{marginBottom:"16px"},children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"description",children:"Description *"}),n.jsx("textarea",{id:"description",name:"description",className:"form-textarea",value:i.description,onChange:v,required:!0,rows:6,placeholder:"Enter a detailed description about your hotel...",minLength:10}),n.jsxs("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:[i.description.length," characters (minimum 10 required)"]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"mission",children:"Mission *"}),n.jsx("textarea",{id:"mission",name:"mission",className:"form-textarea",value:i.mission,onChange:v,required:!0,rows:4,placeholder:"Enter your hotel's mission statement...",minLength:10}),n.jsxs("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:[i.mission.length," characters (minimum 10 required)"]})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>{s(e?{description:e.description,mission:e.mission}:{description:"",mission:""}),a(!1),h(null),m(null)},disabled:l,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l||i.description.trim().length<10||i.mission.trim().length<10,children:l?n.jsx("span",{children:"Saving..."}):n.jsxs(n.Fragment,{children:[n.jsx(L3,{size:16}),n.jsx("span",{children:"Save Changes"})]})})]})]})}):e?n.jsx("div",{className:"card-body",style:{padding:"20px"},children:n.jsxs("div",{className:"about-info-container",children:[n.jsx("div",{className:"about-header",children:n.jsx("h3",{children:"About Hotel Virat"})}),n.jsxs("div",{className:"about-section",children:[n.jsx("h4",{children:"Description"}),n.jsx("p",{children:e.description})]}),n.jsxs("div",{className:"about-section",children:[n.jsxs("div",{className:"mission-header",children:[n.jsx(OA,{size:20,color:"#ff7e47"}),n.jsx("h4",{children:"Our Mission"})]}),n.jsx("p",{children:e.mission})]}),e.updatedAt&&n.jsx("div",{className:"about-meta",style:{marginTop:"20px",paddingTop:"15px",borderTop:"1px solid #eee"},children:n.jsxs("small",{style:{color:"#666",fontSize:"0.875rem"},children:["Last updated: ",new Date(e.updatedAt).toLocaleDateString()]})})]})}):n.jsx("div",{className:"card-body",style:{padding:"20px"},children:n.jsxs("div",{className:"empty-state",children:[n.jsx(OA,{size:48,color:"#ddd",style:{marginBottom:"16px"}}),n.jsx("h3",{style:{color:"#999",marginBottom:"8px"},children:"No About Us Information"}),n.jsx("p",{style:{color:"#999",margin:0},children:'No About Us information available. Click "Add Information" to create one.'})]})})})]})},iae=({term:e,onClose:t,onSave:r})=>{const[a,i]=N.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",category:(e==null?void 0:e.category)||"Terms of Service"}),s=d=>{const{name:u,value:h}=d.target;i({...a,[u]:h})},l=d=>{d.preventDefault(),r(a),t()};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Policy":"Add New Policy"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:l,children:[n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"title",children:"Title"}),n.jsx("input",{type:"text",id:"title",name:"title",className:"form-input",value:a.title,onChange:s,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"category",children:"Category"}),n.jsxs("select",{id:"category",name:"category",className:"form-select",value:a.category,onChange:s,required:!0,children:[n.jsx("option",{value:"Order Policy",children:"Order Policy"}),n.jsx("option",{value:"Delivery Policy",children:"Delivery Policy"}),n.jsx("option",{value:"Privacy Policy",children:"Privacy Policy"}),n.jsx("option",{value:"Terms of Service",children:"Terms of Service"}),n.jsx("option",{value:"Refund Policy",children:"Refund Policy"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"description",children:"Description"}),n.jsx("textarea",{id:"description",name:"description",className:"form-textarea",value:a.description,onChange:s,required:!0,rows:8})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"Update Policy":"Add Policy"})]})]})]})})},sae=({term:e,onClose:t,onConfirm:r})=>n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Policy"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsxs("strong",{children:['"',e.title,'"']}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:()=>{r(e._id),t()},children:"Delete"})]})]})}),oae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(""),[l,d]=N.useState(!1),[u,h]=N.useState(null),[p,m]=N.useState(!1),[g,v]=N.useState(null),[j,b]=N.useState(null),[y,T]=N.useState(!1),[E,C]=N.useState(null),S=async()=>{T(!0),C(null);try{const I=`https://hotelvirat.com/api/v1/hotel/terms${i?`?category=${i}`:""}`,R=await fetch(I);if(!R.ok)throw new Error("Failed to fetch terms");const H=await R.json();let V=[];H.success&&Array.isArray(H.data)?V=H.data:Array.isArray(H)?V=H:H.message&&H.message.includes("routes working")&&(V=[]),t(V)}catch(P){C(P.message)}finally{T(!1)}};N.useEffect(()=>{S()},[i]);const A=e.filter(P=>P.title.toLowerCase().includes(r.toLowerCase())||P.description.toLowerCase().includes(r.toLowerCase())),k=()=>{h(null),d(!0)},D=P=>{h(P),d(!0)},B=P=>{v(P),m(!0)},F=async P=>{T(!0),C(null);try{const I="https://hotelvirat.com/api/v1/hotel",R=u?`${I}/terms/${u._id}`:`${I}/terms`;if(!(await fetch(R,{method:u?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})).ok)throw new Error(u?"Failed to update term":"Failed to create term");await S()}catch(I){C(I.message)}finally{T(!1)}},M=async P=>{T(!0),C(null);try{if(!(await fetch(`https://hotelvirat.com/api/v1/hotel/terms/${P}`,{method:"DELETE"})).ok)throw new Error("Failed to delete term");await S()}catch(I){C(I.message)}finally{T(!1)}},L=P=>{b(j===P?null:P)},O=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),W=P=>{switch(P){case"Terms of Service":return{bg:"#e0f2fe",text:"#0284c7"};case"Privacy Policy":return{bg:"#dcfce7",text:"#16a34a"};case"Refund Policy":return{bg:"#fef3c7",text:"#d97706"};case"Delivery Policy":return{bg:"#f3e8ff",text:"#7e22ce"};case"Order Policy":return{bg:"#fee2e2",text:"#dc2626"};default:return{bg:"#f1f5f9",text:"#64748b"}}};return n.jsxs("div",{className:"terms-policies-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Terms & Policies"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:k,disabled:y,children:[n.jsx(Ka,{size:16}),n.jsx("span",{children:"Add Policy"})]})})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search policies...",className:"search-input",value:r,onChange:P=>a(P.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("select",{className:"filter-select",value:i,onChange:P=>s(P.target.value),disabled:y,children:[n.jsx("option",{value:"",children:"All Categories"}),n.jsx("option",{value:"Order Policy",children:"Order Policy"}),n.jsx("option",{value:"Delivery Policy",children:"Delivery Policy"}),n.jsx("option",{value:"Privacy Policy",children:"Privacy Policy"}),n.jsx("option",{value:"Terms of Service",children:"Terms of Service"}),n.jsx("option",{value:"Refund Policy",children:"Refund Policy"}),n.jsx("option",{value:"Other",children:"Other"})]})})]}),E&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:E}),y?n.jsx("div",{className:"empty-state",children:"Loading..."}):n.jsx("div",{className:"terms-list",children:A.map(P=>{const I=W(P.category);return n.jsxs("div",{className:"terms-item",children:[n.jsxs("div",{className:"terms-header",onClick:()=>L(P._id),children:[n.jsxs("div",{className:"terms-title-section",children:[n.jsx("div",{className:"terms-icon",style:{backgroundColor:I.bg,color:I.text},children:n.jsx(wc,{size:20})}),n.jsxs("div",{className:"terms-info",children:[n.jsx("h3",{className:"terms-title",children:P.title}),n.jsxs("div",{className:"terms-meta",children:[n.jsx("span",{className:"terms-category",style:{backgroundColor:I.bg,color:I.text},children:P.category}),n.jsxs("span",{className:"terms-date",children:["Last updated: ",O(P.updatedAt)]})]})]})]}),n.jsxs("div",{className:"terms-actions",children:[n.jsx("button",{className:"action-btn edit",onClick:R=>{R.stopPropagation(),D(P)},disabled:y,children:n.jsx(ra,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:R=>{R.stopPropagation(),B(P)},disabled:y,children:n.jsx(fa,{size:14})})]})]}),j===P._id&&n.jsx("div",{className:"terms-content",children:n.jsx("p",{children:P.description})})]},P._id)})}),A.length===0&&!y&&n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"No policies found. Add a new policy to get started."})}),l&&n.jsx(iae,{term:u,onClose:()=>d(!1),onSave:F}),p&&n.jsx(sae,{term:g,onClose:()=>m(!1),onConfirm:M})]})},al="/assets/logo4-BWe_iBAv.jpeg",lae=()=>{const[e,t]=N.useState("admin"),[r,a]=N.useState(""),[i,s]=N.useState(""),[l,d]=N.useState(""),[u,h]=N.useState(!1),[p,m]=N.useState(""),[g,v]=N.useState(!1),j=nn(),b=async E=>{var S,A;E.preventDefault(),m(""),v(!0);const C="https://hotelvirat.com/api/v1/hotel";try{if(e==="admin"){const k=await Mt.post(`${C}/admin-auth/login`,{email:r,password:l}),{token:D}=k.data;localStorage.setItem("authToken",D),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userType","admin"),j("/")}else if(e==="category"){const k=await Mt.post(`${C}/category-access/login`,{username:i,password:l}),{token:D,user:B}=k.data;localStorage.setItem("authToken",D),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userType","category-staff"),localStorage.setItem("categoryStaffData",JSON.stringify(B)),j("/category-orders")}else if(e==="receptionist"){const k=await Mt.post(`${C}/receptionist-access/login`,{username:i,password:l}),{token:D,user:B}=k.data;localStorage.setItem("authToken",D),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userType","receptionist"),localStorage.setItem("receptionistData",JSON.stringify(B)),j("/receptionist-dashboard")}}catch(k){m(((A=(S=k.response)==null?void 0:S.data)==null?void 0:A.message)||"An error occurred during login"),v(!1)}},y=()=>{j("/privacy-policy")},T=()=>{j("/terms-conditions")};return n.jsx("div",{className:"login-container-centered",children:n.jsxs("div",{className:"login-card",children:[n.jsxs("div",{className:"login-header",children:[n.jsxs("div",{className:"login-logo",children:[n.jsx("img",{src:al,alt:"Hotel Virat Logo",className:"logo-image"}),n.jsx("h1",{children:"Hotel Virat"})]}),n.jsx("p",{children:"Sign in to your account"})]}),n.jsxs("div",{className:"login-type-toggle",style:{display:"flex",marginBottom:"20px",borderRadius:"8px",overflow:"hidden",border:"1px solid #e5e7eb"},children:[n.jsx("button",{type:"button",onClick:()=>{t("admin"),m("")},style:{flex:1,padding:"10px",border:"none",cursor:"pointer",backgroundColor:e==="admin"?"#4f46e5":"#f9fafb",color:e==="admin"?"white":"#374151",fontWeight:"500",transition:"all 0.2s",fontSize:"13px"},children:"Admin"}),n.jsx("button",{type:"button",onClick:()=>{t("category"),m("")},style:{flex:1,padding:"10px",border:"none",cursor:"pointer",backgroundColor:e==="category"?"#4f46e5":"#f9fafb",color:e==="category"?"white":"#374151",fontWeight:"500",transition:"all 0.2s",fontSize:"13px"},children:"Category"}),n.jsx("button",{type:"button",onClick:()=>{t("receptionist"),m("")},style:{flex:1,padding:"10px",border:"none",cursor:"pointer",backgroundColor:e==="receptionist"?"#4f46e5":"#f9fafb",color:e==="receptionist"?"white":"#374151",fontWeight:"500",transition:"all 0.2s",fontSize:"13px"},children:"Receptionist"})]}),p&&n.jsx("div",{className:"login-error",children:p}),n.jsxs("form",{className:"login-form",onSubmit:b,children:[e==="admin"?n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email"}),n.jsxs("div",{className:"input-with-icon",children:[n.jsx("span",{className:"input-icon",children:n.jsx(ys,{size:16})}),n.jsx("input",{type:"email",id:"email",placeholder:"Enter your email address",value:r,onChange:E=>a(E.target.value),required:!0,style:{paddingLeft:"40px"}})]})]}):n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"username",children:"Username"}),n.jsxs("div",{className:"input-with-icon",children:[n.jsx("span",{className:"input-icon",children:n.jsx(Qo,{size:16})}),n.jsx("input",{type:"text",id:"username",placeholder:e==="category"?"Enter category staff username":"Enter receptionist username",value:i,onChange:E=>s(E.target.value),required:!0,style:{paddingLeft:"40px"}})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"input-with-icon",children:[n.jsx("span",{className:"input-icon",children:n.jsx(C7,{size:16})}),n.jsx("input",{type:u?"text":"password",id:"password",placeholder:"Enter your password",value:l,onChange:E=>d(E.target.value),required:!0,style:{paddingLeft:"40px"}}),n.jsx("button",{type:"button",className:"password-toggle",onClick:()=>h(!u),tabIndex:"-1",children:u?n.jsx(ow,{size:18}):n.jsx(ji,{size:18})})]})]}),n.jsx("button",{type:"submit",className:"login-button",disabled:g,children:g?"Signing in...":"Sign In"})]}),n.jsxs("div",{className:"login-footer-links",children:[n.jsx("button",{type:"button",className:"footer-link",onClick:y,children:"Privacy Policy"}),n.jsx("span",{className:"link-separator",children:"|"}),n.jsx("button",{type:"button",className:"footer-link",onClick:T,children:"Terms & Conditions"})]})]})})},cae=({staff:e,onClose:t,onSave:r,isEditMode:a})=>{const[i,s]=N.useState({name:(e==null?void 0:e.name)||"",mobile:(e==null?void 0:e.mobile)||""}),[l,d]=N.useState(null),[u,h]=N.useState(!1),p=g=>{const{name:v,value:j}=g.target;s({...i,[v]:j}),d(null)},m=async g=>{g.preventDefault(),d(null),h(!0);try{await r(i,e==null?void 0:e._id),t()}catch(v){d(v.message||"Failed to save staff user")}finally{h(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:a?"Edit Staff User":"Add New Staff User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:m,children:[n.jsxs("div",{className:"modal-body",children:[l&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626"},children:l}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:p,required:!0,disabled:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"mobile",children:["Mobile ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-input",value:i.mobile,onChange:p,required:!0,pattern:"\\d{10}",title:"Please enter a valid 10-digit mobile number",disabled:u})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":a?"Update Staff User":"Add Staff User"})]})]})]})})},dae=({staff:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error("Error deleting staff:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Staff User"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},uae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,h]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,T]=N.useState(!1),E="https://hotelvirat.com/api/v1/hotel/staff-auth",C=async()=>{T(!0),b("");try{const L=await fetch(`${E}/`);if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const O=await L.json();let W=[];if(O&&O.success&&Array.isArray(O.data))W=O.data;else if(Array.isArray(O))W=O;else if(O&&O.message&&O.message.includes("routes working"))console.log(" Server returning placeholder response:",O.message),W=[];else{console.error("Expected array but got:",O),t([]),b("Invalid data format received from server");return}t(W)}catch(L){console.error("Fetch error:",L),b(`Failed to fetch staff users: ${L.message}`),t([])}finally{T(!1)}};N.useEffect(()=>{C()},[]);const S=()=>{d(null),s(!0)},A=L=>{d(L),s(!0)},k=L=>{m(L),h(!0)},D=async(L,O)=>{try{const W=O?`${E}/${O}`:`${E}/register`,I=await fetch(W,{method:O?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}),R=await I.json();if(!I.ok)throw new Error(R.message||"Failed to save staff user");v(`Staff user ${O?"updated":"added"} successfully`),setTimeout(()=>v(""),3e3),await C()}catch(W){throw new Error(W.message)}},B=async L=>{try{const O=await fetch(`${E}/${L}`,{method:"DELETE"}),W=await O.json();if(!O.ok)throw new Error(W.message||"Failed to delete staff user");v("Staff user deleted successfully"),setTimeout(()=>v(""),3e3),await C()}catch(O){b(O.message),setTimeout(()=>b(""),3e3)}},F=L=>{if(!L)return"N/A";const O={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(L).toLocaleDateString(void 0,O)},M=e.filter(L=>L.name.toLowerCase().includes(r.toLowerCase())||L.mobile.includes(r));return n.jsxs("div",{className:"staff-users-page",children:[g&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>v(""),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),j&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),style:{color:"#dc2626"},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Staff Users"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:S,disabled:y,children:[n.jsx(Zc,{size:16}),n.jsx("span",{children:"Add Staff User"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search staff users...",className:"search-input",value:r,onChange:L=>a(L.target.value)})]})}),n.jsx("div",{className:"data-card",children:y?n.jsx("div",{className:"empty-state",children:"Loading staff users..."}):M.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No staff users found. ",r?"Try a different search.":"Add a new staff user to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Mobile"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:M.map(L=>n.jsxs("tr",{children:[n.jsx("td",{children:L._id.slice(-6)}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:L.name.charAt(0).toUpperCase()}),L.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(Za,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),L.mobile]})}),n.jsx("td",{children:F(L.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>A(L),disabled:y,children:n.jsx(ra,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>k(L),disabled:y,children:n.jsx(fa,{size:14})})]})})]},L._id))})]})}),i&&n.jsx(cae,{staff:l,onClose:()=>s(!1),onSave:D,isEditMode:!!l}),u&&n.jsx(dae,{staff:p,onClose:()=>h(!1),onConfirm:B})]})},hae=({counter:e,onClose:t,onSave:r,isEditMode:a})=>{const[i,s]=N.useState({name:(e==null?void 0:e.name)||"",mobile:(e==null?void 0:e.mobile)||""}),[l,d]=N.useState(null),[u,h]=N.useState(!1),p=g=>{const{name:v,value:j}=g.target;s({...i,[v]:j}),d(null)},m=async g=>{g.preventDefault(),d(null),h(!0);try{await r(i,e==null?void 0:e._id),t()}catch(v){d(v.message||"Failed to save counter user")}finally{h(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:a?"Edit Counter User":"Add New Counter User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:m,children:[n.jsxs("div",{className:"modal-body",children:[l&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626"},children:l}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:p,required:!0,disabled:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"mobile",children:["Mobile ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-input",value:i.mobile,onChange:p,required:!0,pattern:"\\d{10}",title:"Please enter a valid 10-digit mobile number",disabled:u})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":a?"Update Counter User":"Add Counter User"})]})]})]})})},fae=({counter:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error("Error deleting counter:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Counter User"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},pae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,h]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,T]=N.useState(!1),E="https://hotelvirat.com/api/v1/hotel/counter-auth",C=async()=>{T(!0),b("");try{const L=await fetch(`${E}/`);if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const O=await L.json();let W=[];if(O&&O.success&&Array.isArray(O.data))W=O.data;else if(Array.isArray(O))W=O;else if(O&&O.message&&O.message.includes("routes working"))console.log(" Server returning placeholder response:",O.message),W=[];else{console.error("Expected array but got:",O),t([]),b("Invalid data format received from server");return}t(W)}catch(L){console.error("Fetch error:",L),b(`Failed to fetch counter users: ${L.message}`),t([])}finally{T(!1)}};N.useEffect(()=>{C()},[]);const S=()=>{d(null),s(!0)},A=L=>{d(L),s(!0)},k=L=>{m(L),h(!0)},D=async(L,O)=>{try{const W=O?`${E}/${O}`:`${E}/register`,I=await fetch(W,{method:O?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}),R=await I.json();if(!I.ok)throw new Error(R.message||"Failed to save counter user");v(`Counter user ${O?"updated":"added"} successfully`),setTimeout(()=>v(""),3e3),await C()}catch(W){throw new Error(W.message)}},B=async L=>{try{const O=await fetch(`${E}/${L}`,{method:"DELETE"}),W=await O.json();if(!O.ok)throw new Error(W.message||"Failed to delete counter user");v("Counter user deleted successfully"),setTimeout(()=>v(""),3e3),await C()}catch(O){b(O.message),setTimeout(()=>b(""),3e3)}},F=L=>{if(!L)return"N/A";const O={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(L).toLocaleDateString(void 0,O)},M=e.filter(L=>L.name.toLowerCase().includes(r.toLowerCase())||L.mobile.includes(r));return n.jsxs("div",{className:"counter-users-page",children:[g&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>v(""),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),j&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),style:{color:"#dc2626"},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Counter Users"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:S,disabled:y,children:[n.jsx(Zc,{size:16}),n.jsx("span",{children:"Add Counter User"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search counter users...",className:"search-input",value:r,onChange:L=>a(L.target.value)})]})}),n.jsx("div",{className:"data-card",children:y?n.jsx("div",{className:"empty-state",children:"Loading counter users..."}):M.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No counter users found."," ",r?"Try a different search.":"Add a new counter user to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Mobile"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:M.map(L=>n.jsxs("tr",{children:[n.jsx("td",{children:L._id.slice(-6)}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:L.name.charAt(0).toUpperCase()}),L.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(Za,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),L.mobile]})}),n.jsx("td",{children:F(L.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>A(L),disabled:y,children:n.jsx(ra,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>k(L),disabled:y,children:n.jsx(fa,{size:14})})]})})]},L._id))})]})}),i&&n.jsx(hae,{counter:l,onClose:()=>s(!1),onSave:D,isEditMode:!!l}),u&&n.jsx(fae,{counter:p,onClose:()=>h(!1),onConfirm:B})]})},Mo=Mt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),mae=()=>{var Ue,dt,_e,rt,Ot,zt,Rt,Bt;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,h]=N.useState([]),[p,m]=N.useState([]),[g,v]=N.useState(!0),[j,b]=N.useState(""),[y,T]=N.useState(!1),[E,C]=N.useState(!1),[S,A]=N.useState(null),[k,D]=N.useState({status:"",paymentStatus:"",paymentMethod:""}),[B,F]=N.useState(""),[M,L]=N.useState(!1),[O,W]=N.useState(""),[P,I]=N.useState("all"),[R,H]=N.useState("all"),[V,he]=N.useState("all"),[U,Y]=N.useState("all"),[z,ee]=N.useState("today"),[q,Q]=N.useState(1),[ae,de]=N.useState(1),[xe,Z]=N.useState(null),ge=7;N.useEffect(()=>{je(),pe(),Je()},[P,R,V,U]),N.useEffect(()=>{const ne=setInterval(()=>{Je()},3e4);return()=>clearInterval(ne)},[P,R,V,U]);const je=async()=>{try{const ne=await Mo.get("/branch");d(ne.data)}catch(ne){console.error("Error fetching branches:",ne),b("Failed to load branches. Some filter options may not be available.")}},pe=async()=>{try{const ne=await Mo.get("/staff-order/available-statuses");if(console.log("Available statuses API response:",ne.data),ne.data.success){const $e=ne.data.orderStatuses||[],Ye=ne.data.paymentStatuses||[];console.log("Setting order statuses:",$e),console.log("Setting payment statuses:",Ye),h($e),m(Ye)}}catch(ne){console.error("Error fetching available statuses:",ne),h(["pending","preparing","served","completed","cancelled"]),m(["pending","completed","failed","refunded"])}},Je=async()=>{v(!0),b(""),t([]),s([]),a([]);try{const ne={};P!=="all"&&(ne.status=P),R!=="all"&&(ne.branchId=R),V!=="all"&&(ne.paymentStatus=V),U!=="all"&&(ne.orderType=U),O.trim()&&(ne.search=O.trim());const $e={...ne,_t:Date.now()},Ye=await Mo.get("/staff-order",{params:$e});let Et=[];if(Ye.data&&Ye.data.success&&Array.isArray(Ye.data.data))Et=Ye.data.data;else if(Ye.data&&Ye.data.orders&&Array.isArray(Ye.data.orders))Et=Ye.data.orders;else if(Array.isArray(Ye.data))Et=Ye.data;else throw console.error(" Unexpected response format:",Ye.data),new Error("Invalid response format: orders array missing");const me=Et.filter(Oe=>!(Oe.orderId||"").startsWith("COUNTER-")).map((Oe,Pe)=>{var st,ft,vt,St,nt;return{id:Oe._id||`temp-id-${Pe}`,orderId:Oe.orderId||`UNKNOWN-${Pe}`,customer:Oe.isGuestOrder?Oe.customerName:((st=Oe.userId)==null?void 0:st.name)||"Unknown Staff",customerType:Oe.isGuestOrder?"Guest":"Staff",customerMobile:Oe.isGuestOrder?Oe.customerMobile:((ft=Oe.userId)==null?void 0:ft.mobile)||"N/A",date:new Date(Oe.orderTime||Oe.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),branch:Oe.branchName||"Unknown Branch",branchId:((vt=Oe.branchId)==null?void 0:vt._id)||null,tableNumber:Oe.tableNumber||"N/A",peopleCount:Oe.peopleCount||0,items:((St=Oe.items)==null?void 0:St.length)||0,amount:`${((nt=Oe.grandTotal)==null?void 0:nt.toFixed(2))||"0.00"}`,status:Oe.status||"pending",paymentMethod:Oe.paymentMethod||"cash",paymentStatus:Oe.paymentStatus||"pending",subtotal:Oe.subtotal||0,tax:Oe.tax||0,serviceCharge:Oe.serviceCharge||0,grandTotal:Oe.grandTotal||0,originalOrder:Oe,isGuestOrder:Oe.isGuestOrder||!1}}).filter(Oe=>Oe.id);t(me),Z(new Date)}catch(ne){console.error("Error fetching orders:",ne),b("Failed to load orders. Please refresh the page and try again.")}finally{v(!1)}};N.useEffect(()=>{const ne=e.filter($e=>{if(!O.trim())return!0;const Ye=$e.orderId||"",Et=$e.tableNumber||"",me=$e.customer||"",Oe=$e.customerMobile||"",Pe=O.trim().toLowerCase();return Ye.toLowerCase().includes(Pe)||Et.toLowerCase().includes(Pe)||me.toLowerCase().includes(Pe)||Oe.toLowerCase().includes(Pe)});s(ne),de(Math.ceil(ne.length/ge)),Q(1)},[e,O]),N.useEffect(()=>{const ne=(q-1)*ge,$e=ne+ge,Ye=i.slice(ne,$e);a(Ye)},[i,q]);const Ee=ne=>{console.log("Admin Panel: Opening view modal for order:",ne),console.log("Admin Panel: Order status:",ne.status),console.log("Admin Panel: Order payment status:",ne.paymentStatus),A(ne),T(!0)},Ve=ne=>{A(ne),D({status:ne.status,paymentStatus:ne.paymentStatus,paymentMethod:ne.paymentMethod}),C(!0)},le=ne=>{const{name:$e,value:Ye}=ne.target;D({...k,[$e]:Ye})},Ce=async(ne,$e)=>{var Ye,Et;L(!0);try{console.log(`Admin Panel: Quick updating order status to: ${$e}`);const me=await Mo.put(`/staff-order/${ne}/status`,{status:$e});if(console.log("Admin Panel: Quick status update response:",me.data),me.data.success)console.log("Admin Panel: Status updated successfully, refreshing orders..."),await Je(),A({...S,status:$e}),F(`Order ${S.orderId} status updated: ${S.status}  ${$e}`),setTimeout(()=>{F("")},3e3);else throw new Error(me.data.message||"Update failed")}catch(me){console.error("Error updating order status:",me);const Oe=((Et=(Ye=me.response)==null?void 0:Ye.data)==null?void 0:Et.message)||me.message||"Failed to update order status";alert(`Update failed: ${Oe}. Please try again.`)}finally{L(!1)}},Qe=async(ne,$e)=>{var Ye,Et;L(!0);try{console.log(`Admin Panel: Quick updating payment status to: ${$e}`);const me=await Mo.put(`/staff-order/${ne}/status`,{paymentStatus:$e});if(console.log("Admin Panel: Quick payment update response:",me.data),me.data.success)console.log("Admin Panel: Payment status updated successfully, refreshing orders..."),await Je(),A({...S,paymentStatus:$e}),F(`Order ${S.orderId} payment status updated: ${S.paymentStatus}  ${$e}`),setTimeout(()=>{F("")},3e3);else throw new Error(me.data.message||"Update failed")}catch(me){console.error("Error updating payment status:",me);const Oe=((Et=(Ye=me.response)==null?void 0:Ye.data)==null?void 0:Et.message)||me.message||"Failed to update payment status";alert(`Update failed: ${Oe}. Please try again.`)}finally{L(!1)}},re=async()=>{var ne,$e;L(!0);try{if(console.log(`Admin Panel: Updating payment method for order ${S.orderId}`),console.log(`Admin Panel: Current Payment Method: ${S.paymentMethod}`),console.log(`Admin Panel: New Payment Method: ${k.paymentMethod}`),k.paymentMethod===S.paymentMethod){alert("No changes detected. Payment method is already set to this value."),L(!1);return}const Ye=await Mo.put(`/staff-order/${S.id}/status`,{paymentMethod:k.paymentMethod});if(console.log("Admin Panel: Payment method update API response:",Ye.data),Ye.data.success)console.log("Admin Panel: Payment method updated successfully, refreshing orders..."),await Je(),C(!1),F(`Order ${S.orderId} payment method updated: ${S.paymentMethod}  ${k.paymentMethod}`),setTimeout(()=>{F("")},5e3);else throw new Error(Ye.data.message||"Update failed")}catch(Ye){console.error("Error updating order:",Ye);const Et=(($e=(ne=Ye.response)==null?void 0:ne.data)==null?void 0:$e.message)||Ye.message||"Failed to update order";alert(`Update failed: ${Et}. Please try again.`)}finally{L(!1)}},ce=()=>{T(!1),A(null)},J=()=>{C(!1),A(null)},oe=(ne,$e)=>{ne==="status"?I($e):ne==="branch"?H($e):ne==="paymentStatus"?he($e):ne==="orderType"&&Y($e),Q(1)},te=ne=>{switch(ne==null?void 0:ne.toLowerCase()){case"card":return n.jsx(Jn,{size:16});case"upi":return n.jsx(ds,{size:16});case"cash":default:return n.jsx(ds,{size:16})}},Se=ne=>{switch(ne==null?void 0:ne.toLowerCase()){case"completed":return"completed";case"pending":return"pending";case"failed":return"cancelled";case"refunded":return"preparing";default:return"pending"}},Ge=()=>{let ne=`Order ID,Customer Name,Customer Type,Mobile Number,Date & Time,Branch,Table Number,People Count,Order Status,Payment Status,Payment Method,Subtotal,Tax (5%),Service Charge (10%),Grand Total,Items Count,Item Details
`;const $e=new Date,Ye=$e.toLocaleDateString("en-IN")+" "+$e.toLocaleTimeString("en-IN"),Et=i.length,me=i.reduce((ht,bt)=>ht+(bt.grandTotal||0),0),Oe=i.filter(ht=>ht.paymentStatus==="completed"),Pe=Oe.reduce((ht,bt)=>ht+(bt.grandTotal||0),0),st=me-Pe;ne+=`
"STAFF ORDERS EXPORT SUMMARY"
`,ne+=`"Export Date & Time:","${Ye}"
`,ne+=`"Total Orders:",${Et}
`,ne+=`"Total Amount:",${me.toFixed(2)}
`,ne+=`"Paid Orders:",${Oe.length}
`,ne+=`"Paid Amount:",${Pe.toFixed(2)}
`,ne+=`"Unpaid Orders:",${Et-Oe.length}
`,ne+=`"Unpaid Amount:",${st.toFixed(2)}
`,ne+=`"Collection Rate:",${me>0?(Pe/me*100).toFixed(1):0}
`,ne+=`
"DETAILED ORDER LIST"
`,ne+=`Order ID,Customer Name,Customer Type,Mobile Number,Date & Time,Branch,Table Number,People Count,Order Status,Payment Status,Payment Method,Subtotal,Tax (5%),Service Charge (10%),Grand Total,Items Count,Item Details
`,i.forEach(ht=>{var ve,Te,Ne,He,G,ie,X,ue;const bt=((Te=(ve=ht.originalOrder)==null?void 0:ve.items)==null?void 0:Te.map(fe=>`${fe.name} (Qty: ${fe.quantity}, Price: ${fe.price.toFixed(2)})`).join("; "))||"No items",Ft=new Date(((Ne=ht.originalOrder)==null?void 0:Ne.createdAt)||((He=ht.originalOrder)==null?void 0:He.orderTime)||Date.now()),Lt=Ft.toLocaleDateString("en-IN")+" "+Ft.toLocaleTimeString("en-IN");ne+=`"${ht.orderId}","${ht.customer}","${ht.customerType}","${ht.customerMobile}","${Lt}","${ht.branch}","${ht.tableNumber}",${ht.peopleCount},"${ht.status}","${ht.paymentStatus}","${ht.paymentMethod}",${((G=ht.subtotal)==null?void 0:G.toFixed(2))||"0.00"},${((ie=ht.tax)==null?void 0:ie.toFixed(2))||"0.00"},${((X=ht.serviceCharge)==null?void 0:X.toFixed(2))||"0.00"},${((ue=ht.grandTotal)==null?void 0:ue.toFixed(2))||"0.00"},${ht.items},"${bt}"
`}),ne+=`
"PAYMENT METHOD BREAKDOWN"
`;const ft={};i.forEach(ht=>{const bt=ht.paymentMethod||"cash";ft[bt]||(ft[bt]={count:0,amount:0}),ft[bt].count++,ft[bt].amount+=ht.grandTotal||0}),ne+=`Payment Method,Order Count,Total Amount
`,Object.entries(ft).forEach(([ht,bt])=>{ne+=`"${ht.charAt(0).toUpperCase()+ht.slice(1)}",${bt.count},${bt.amount.toFixed(2)}
`}),ne+=`
"BRANCH-WISE BREAKDOWN"
`;const vt={};i.forEach(ht=>{const bt=ht.branch||"Unknown";vt[bt]||(vt[bt]={count:0,amount:0}),vt[bt].count++,vt[bt].amount+=ht.grandTotal||0}),ne+=`Branch Name,Order Count,Total Amount
`,Object.entries(vt).forEach(([ht,bt])=>{ne+=`"${ht}",${bt.count},${bt.amount.toFixed(2)}
`});const St=new Blob([ne],{type:"text/csv;charset=utf-8;"}),nt=window.URL.createObjectURL(St),yt=document.createElement("a");yt.setAttribute("hidden",""),yt.setAttribute("href",nt),yt.setAttribute("download",`staff-orders-detailed-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(yt),yt.click(),document.body.removeChild(yt),window.URL.revokeObjectURL(nt)},Xe=ne=>{var Et,me,Oe,Pe,st,ft,vt,St;const $e=window.open("","_blank","width=302,height=600"),Ye=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Order ${ne.orderId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            max-width: 80mm;
            padding: 5mm;
            font-size: 12px;
            line-height: 1.4;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .hotel-name { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .branch-name { font-size: 12px; margin-bottom: 3px; }
          .order-info { margin-bottom: 10px; }
          .order-id { font-size: 14px; font-weight: bold; text-align: center; margin: 8px 0; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .info-label { font-weight: bold; }
          .divider { border-top: 1px dashed #000; margin: 8px 0; }
          .items-header { font-weight: bold; margin-bottom: 5px; }
          .item-row { margin-bottom: 5px; }
          .item-name { font-weight: bold; }
          .item-details { display: flex; justify-content: space-between; font-size: 11px; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .grand-total { font-size: 14px; font-weight: bold; border-top: 1px dashed #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 11px; border-top: 1px dashed #000; padding-top: 10px; }
          .thank-you { font-weight: bold; margin-bottom: 5px; }
          @media print { 
            body { width: 80mm; }
            @page { size: 80mm auto; margin: 0; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">HOTEL VIRAT</div>
          <div class="branch-name">${ne.branch}</div>
        </div>
        
        <div class="order-id">Order #${ne.orderId}</div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">Date:</span>
            <span>${ne.date}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Table:</span>
            <span>${ne.tableNumber}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Guests:</span>
            <span>${ne.peopleCount}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Customer:</span>
            <span>${ne.customer}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Type:</span>
            <span>${ne.customerType}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Mobile:</span>
            <span>${ne.customerMobile}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="items-section">
          <div class="items-header">ITEMS</div>
          ${((me=(Et=ne.originalOrder)==null?void 0:Et.items)==null?void 0:me.map(nt=>`
            <div class="item-row">
              <div class="item-name">${nt.name}</div>
              <div class="item-details">
                <span>${nt.quantity} x ${nt.price.toFixed(2)}</span>
                <span>${(nt.price*nt.quantity).toFixed(2)}</span>
              </div>
            </div>
          `).join(""))||"<div>No items</div>"}
        </div>
        
        <div class="divider"></div>
        
        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>${((Oe=ne.subtotal)==null?void 0:Oe.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Tax (5%):</span>
            <span>${((Pe=ne.tax)==null?void 0:Pe.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Service (10%):</span>
            <span>${((st=ne.serviceCharge)==null?void 0:st.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row grand-total">
            <span>TOTAL:</span>
            <span>${((ft=ne.grandTotal)==null?void 0:ft.toFixed(2))||"0.00"}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">Payment:</span>
            <span>${((vt=ne.paymentMethod)==null?void 0:vt.toUpperCase())||"CASH"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Status:</span>
            <span>${((St=ne.paymentStatus)==null?void 0:St.toUpperCase())||"PENDING"}</span>
          </div>
        </div>
        
        <div class="footer">
          <div class="thank-you">Thank You!</div>
          <div>Visit Again</div>
          <div style="margin-top: 5px; font-size: 10px;">${new Date().toLocaleString("en-IN")}</div>
        </div>
      </body>
      </html>
    `;$e.document.write(Ye),$e.document.close(),$e.focus(),setTimeout(()=>{$e.print()},300)};return n.jsxs("div",{className:"orders-page",children:[B&&n.jsxs("div",{className:"success-message",children:[n.jsx(Rn,{size:16}),n.jsx("span",{children:B}),n.jsx("button",{onClick:()=>F(""),children:n.jsx(Hn,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsxs("div",{className:"header-title-section",children:[n.jsx("h1",{children:"All Orders (Staff & Guest)"}),xe&&n.jsxs("p",{className:"last-updated",children:["Last updated: ",xe.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})," | Total orders: ",e.length," | API: Local (",Mo.defaults.baseURL,")",n.jsx("br",{}),n.jsxs("small",{children:["Available Order Statuses: ",u.join(", ")," | Payment Statuses: ",p.join(", ")]})]})]}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-outline",onClick:Je,disabled:g,children:[g?n.jsx(la,{size:16,className:"animate-spin"}):n.jsx(lr,{size:16}),n.jsx("span",{children:g?"Refreshing...":"Refresh Data"})]}),n.jsxs("button",{className:"btn btn-primary",onClick:()=>{t([]),s([]),a([]),Je()},disabled:g,children:[n.jsx(Qt,{size:16}),n.jsx("span",{children:"Force Refresh"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:Ge,children:[n.jsx(ta,{size:16}),n.jsx("span",{children:"Export to Excel"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by order ID, table, customer name, or mobile...",className:"search-input",value:O,onChange:ne=>W(ne.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select",value:U,onChange:ne=>oe("orderType",ne.target.value),children:[n.jsx("option",{value:"all",children:"All Orders"}),n.jsx("option",{value:"staff",children:"Staff Orders"}),n.jsx("option",{value:"guest",children:"Guest Orders"})]}),n.jsxs("select",{className:"filter-select",value:P,onChange:ne=>oe("status",ne.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),u.map(ne=>n.jsx("option",{value:ne,children:ne.charAt(0).toUpperCase()+ne.slice(1)},ne))]}),n.jsxs("select",{className:"filter-select",value:V,onChange:ne=>oe("paymentStatus",ne.target.value),children:[n.jsx("option",{value:"all",children:"All Payment Status"}),p.map(ne=>n.jsx("option",{value:ne,children:ne.charAt(0).toUpperCase()+ne.slice(1)},ne))]}),n.jsxs("select",{className:"filter-select",value:R,onChange:ne=>oe("branch",ne.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(ne=>n.jsx("option",{value:ne._id,children:ne.name},ne._id))]})]})]}),j&&n.jsxs("div",{className:"error-container",children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:j})]}),n.jsxs("div",{className:"collection-stats-section",children:[n.jsxs("div",{className:"stats-header",children:[n.jsx("h2",{children:"Collection Statistics"}),n.jsxs("div",{className:"period-filters",children:[n.jsx("button",{className:`period-btn ${z==="today"?"active":""}`,onClick:()=>ee("today"),children:"Today"}),n.jsx("button",{className:`period-btn ${z==="week"?"active":""}`,onClick:()=>ee("week"),children:"This Week"}),n.jsx("button",{className:`period-btn ${z==="month"?"active":""}`,onClick:()=>ee("month"),children:"This Month"})]})]}),n.jsx("div",{className:"stats-cards",children:(()=>{const ne=new Date;let $e;if(z==="today")$e=new Date(ne.getFullYear(),ne.getMonth(),ne.getDate());else if(z==="week"){const nt=ne.getDay(),yt=nt===0?6:nt-1;$e=new Date(ne.getFullYear(),ne.getMonth(),ne.getDate()-yt)}else z==="month"&&($e=new Date(ne.getFullYear(),ne.getMonth(),1));const Ye=e.filter(nt=>{var bt,Ft;const yt=new Date(((bt=nt.originalOrder)==null?void 0:bt.createdAt)||((Ft=nt.originalOrder)==null?void 0:Ft.orderTime)),ht=!nt.orderId.startsWith("COUNTER-");return yt>=$e&&ht}),Et=Ye.filter(nt=>nt.paymentStatus==="completed"),me=Ye.filter(nt=>nt.paymentStatus!=="completed"),Oe=Ye.reduce((nt,yt)=>nt+(yt.grandTotal||0),0),Pe=Ye.length,st=Et.reduce((nt,yt)=>nt+(yt.grandTotal||0),0),ft=Et.length,vt=me.reduce((nt,yt)=>nt+(yt.grandTotal||0),0),St=me.length;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"stat-card total",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Total Orders"}),n.jsxs("div",{className:"stat-value",children:[Pe," orders"]}),n.jsxs("div",{className:"stat-count",children:["",Oe.toFixed(2)]})]})]}),n.jsxs("div",{className:"stat-card paid",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Paid Orders"}),n.jsxs("div",{className:"stat-value",children:[ft," orders"]}),n.jsxs("div",{className:"stat-count",children:["",st.toFixed(2)]})]})]}),n.jsxs("div",{className:"stat-card unpaid",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Unpaid Orders"}),n.jsxs("div",{className:"stat-value",children:[St," orders"]}),n.jsxs("div",{className:"stat-count",children:["",vt.toFixed(2)]})]})]})]})})()})]}),n.jsx("div",{className:"data-card",children:g?n.jsxs("div",{className:"loading-container",children:[n.jsx(la,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading orders..."})]}):n.jsx("div",{className:"table-container",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Order Status"}),n.jsx("th",{children:"Payment Status"}),n.jsx("th",{children:"Order By"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Mobile"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Table"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(ne=>n.jsxs("tr",{children:[n.jsx("td",{"data-label":"Order ID",children:ne.orderId}),n.jsx("td",{"data-label":"Order Status",children:n.jsx("div",{style:{display:"inline-block",padding:"6px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"600",textAlign:"center",minWidth:"80px",backgroundColor:ne.status==="completed"?"#d1fae5":ne.status==="preparing"?"#dbeafe":ne.status==="served"?"#e0e7ff":ne.status==="cancelled"?"#fee2e2":"#fef3c7",color:ne.status==="completed"?"#065f46":ne.status==="preparing"?"#1e40af":ne.status==="served"?"#5b21b6":ne.status==="cancelled"?"#991b1b":"#92400e",border:"1px solid "+(ne.status==="completed"?"#10b981":ne.status==="preparing"?"#3b82f6":ne.status==="served"?"#8b5cf6":ne.status==="cancelled"?"#ef4444":"#f59e0b")},children:ne.status?ne.status.charAt(0).toUpperCase()+ne.status.slice(1):"Pending"})}),n.jsx("td",{"data-label":"Payment Status",children:n.jsx("div",{style:{display:"inline-block",padding:"6px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"600",textAlign:"center",minWidth:"80px",backgroundColor:ne.paymentStatus==="completed"?"#d1fae5":ne.paymentStatus==="failed"?"#fee2e2":ne.paymentStatus==="refunded"?"#e0e7ff":"#fef3c7",color:ne.paymentStatus==="completed"?"#065f46":ne.paymentStatus==="failed"?"#991b1b":ne.paymentStatus==="refunded"?"#5b21b6":"#92400e",border:"1px solid "+(ne.paymentStatus==="completed"?"#10b981":ne.paymentStatus==="failed"?"#ef4444":ne.paymentStatus==="refunded"?"#8b5cf6":"#f59e0b")},children:ne.paymentStatus?ne.paymentStatus.charAt(0).toUpperCase()+ne.paymentStatus.slice(1):"Pending"})}),n.jsx("td",{"data-label":"Customer",children:ne.customer}),n.jsx("td",{"data-label":"Type",children:n.jsx("span",{className:`customer-type-badge ${ne.isGuestOrder?"guest":"staff"}`,children:ne.customerType})}),n.jsx("td",{"data-label":"Mobile",children:ne.customerMobile}),n.jsx("td",{"data-label":"Date",children:ne.date}),n.jsx("td",{"data-label":"Branch",children:ne.branch}),n.jsx("td",{"data-label":"Table",children:ne.tableNumber}),n.jsx("td",{"data-label":"Amount",children:ne.amount}),n.jsx("td",{"data-label":"Actions",children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>Ee(ne),children:"View"}),n.jsx("button",{className:"action-btn edit",onClick:()=>Ve(ne),children:"Edit"}),n.jsx("button",{className:"action-btn print",onClick:()=>Xe(ne),children:"Print"})]})})]},ne.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"11",className:"no-orders",children:"No orders found matching your criteria"})})})]})})}),ae>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>Q(ne=>Math.max(ne-1,1)),disabled:q===1||g,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,ae)},(ne,$e)=>{let Ye;return ae<=5||q<=3?Ye=$e+1:q>=ae-2?Ye=ae-4+$e:Ye=q-2+$e,n.jsx("button",{className:`pagination-page ${q===Ye?"active":""}`,onClick:()=>Q(Ye),disabled:g,children:Ye},Ye)}),ae>5&&q<ae-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),ae>5&&q<ae-2&&n.jsx("button",{className:`pagination-page ${q===ae?"active":""}`,onClick:()=>Q(ae),disabled:g,children:ae})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>Q(ne=>Math.min(ne+1,ae)),disabled:q===ae||g,children:"Next"})]}),y&&S&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:[S.isGuestOrder?"Guest":"Staff"," Order Details ",S.orderId]}),n.jsx("button",{className:"modal-close",onClick:ce,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Order By"}),n.jsxs("div",{className:"order-detail-value",children:[S.customer,n.jsx("span",{className:`customer-type-badge ${S.isGuestOrder?"guest":"staff"}`,style:{marginLeft:"8px"},children:S.customerType})]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Mobile Number"}),n.jsx("div",{className:"order-detail-value",children:S.customerMobile})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Date"}),n.jsx("div",{className:"order-detail-value",children:S.date})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:S.branch})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table Number"}),n.jsx("div",{className:"order-detail-value",children:S.tableNumber})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Number of People"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{className:"people-count",children:[n.jsx(is,{size:16}),S.peopleCount]})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Order Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:`status-badge ${S.status||"pending"}`,children:S.status?S.status.charAt(0).toUpperCase()+S.status.slice(1):"Pending"})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Method"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{className:"payment-method-display",children:[te(S.paymentMethod),n.jsx("span",{children:S.paymentMethod?S.paymentMethod.charAt(0).toUpperCase()+S.paymentMethod.slice(1):"Cash"})]})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:`status-badge ${Se(S.paymentStatus)}`,children:S.paymentStatus?S.paymentStatus.charAt(0).toUpperCase()+S.paymentStatus.slice(1):"Pending"})})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Price Details"}),n.jsx("div",{className:"order-items-table",children:n.jsx("table",{className:"data-table",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Subtotal"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Ue=S.subtotal)==null?void 0:Ue.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Tax (5%)"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((dt=S.tax)==null?void 0:dt.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Service Charge (10%)"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((_e=S.serviceCharge)==null?void 0:_e.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{style:{fontWeight:"bold"},children:[n.jsx("td",{children:"Total Amount"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((rt=S.grandTotal)==null?void 0:rt.toFixed(2))||"0.00"]})]})]})})})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((zt=(Ot=S.originalOrder)==null?void 0:Ot.items)==null?void 0:zt.length)>0?S.originalOrder.items.map((ne,$e)=>n.jsxs("tr",{children:[n.jsx("td",{children:ne.name}),n.jsx("td",{children:ne.quantity}),n.jsxs("td",{children:["",ne.price.toFixed(2)]}),n.jsxs("td",{children:["",(ne.price*ne.quantity).toFixed(2)]})]},$e)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:ce,children:"Close"}),n.jsxs("button",{className:"btn btn-print",onClick:()=>Xe(S),children:[n.jsx(Va,{size:16}),"Print"]}),n.jsx("button",{className:"btn btn-primary",onClick:()=>{ce(),Ve(S)},children:"Edit Order"})]})]})}),E&&S&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Edit ",S.isGuestOrder?"Guest":"Staff"," Order ",S.orderId]}),n.jsx("button",{className:"modal-close",onClick:J,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Order By"}),n.jsx("input",{type:"text",value:S.customer,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Customer Type"}),n.jsx("input",{type:"text",value:S.customerType,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Mobile Number"}),n.jsx("input",{type:"text",value:S.customerMobile,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch"}),n.jsx("input",{type:"text",value:S.branch,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Number"}),n.jsx("input",{type:"text",value:S.tableNumber,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Order Status"}),n.jsx("div",{className:"current-status-display",children:n.jsxs("span",{className:`status-badge ${(S==null?void 0:S.status)||"pending"}`,children:["Current: ",S!=null&&S.status?S.status.charAt(0).toUpperCase()+S.status.slice(1):"Pending"]})}),S.status!=="completed"&&S.status!=="cancelled"&&n.jsxs("div",{className:"status-progression-buttons",children:[S.status==="pending"&&n.jsx("button",{type:"button",className:"progression-btn preparing",onClick:()=>Ce(S.id,"preparing"),disabled:M,children:"Mark as Preparing"}),S.status==="preparing"&&n.jsx("button",{type:"button",className:"progression-btn served",onClick:()=>Ce(S.id,"served"),disabled:M,children:"Mark as Served"}),S.status==="served"&&n.jsx("button",{type:"button",className:"progression-btn completed",onClick:()=>Ce(S.id,"completed"),disabled:M,children:"Mark as Completed"}),(S.status==="pending"||S.status==="preparing")&&n.jsx("button",{type:"button",className:"progression-btn cancelled",onClick:()=>Ce(S.id,"cancelled"),disabled:M,children:"Cancel Order"})]}),(S.status==="completed"||S.status==="cancelled")&&n.jsx("div",{className:"status-final-message",children:n.jsxs("p",{children:["Order is ",S.status,". No further status changes allowed."]})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Payment Status"}),n.jsx("div",{className:"current-status-display",children:n.jsxs("span",{className:`status-badge ${Se(S==null?void 0:S.paymentStatus)}`,children:["Current: ",S!=null&&S.paymentStatus?S.paymentStatus.charAt(0).toUpperCase()+S.paymentStatus.slice(1):"Pending"]})}),S.paymentStatus!=="completed"&&S.paymentStatus!=="refunded"&&n.jsxs("div",{className:"status-progression-buttons",children:[S.paymentStatus==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",className:"progression-btn completed",onClick:()=>Qe(S.id,"completed"),disabled:M,children:"Mark as Paid"}),n.jsx("button",{type:"button",className:"progression-btn failed",onClick:()=>Qe(S.id,"failed"),disabled:M,children:"Mark as Failed"})]}),S.paymentStatus==="failed"&&n.jsx("button",{type:"button",className:"progression-btn completed",onClick:()=>Qe(S.id,"completed"),disabled:M,children:"Mark as Paid"})]}),(S.paymentStatus==="completed"||S.paymentStatus==="paid")&&n.jsx("div",{className:"status-progression-buttons",children:n.jsx("button",{type:"button",className:"progression-btn refunded",onClick:()=>Qe(S.id,"refunded"),disabled:M,children:"Mark as Refunded"})}),S.paymentStatus==="refunded"&&n.jsx("div",{className:"status-final-message",children:n.jsx("p",{children:"Payment has been refunded. No further payment changes allowed."})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Payment Method"}),n.jsxs("select",{name:"paymentMethod",value:k.paymentMethod,onChange:le,className:"form-select",children:[n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"card",children:"Card"}),n.jsx("option",{value:"upi",children:"UPI"}),n.jsx("option",{value:"netbanking",children:"Net Banking"}),n.jsx("option",{value:"wallet",children:"Wallet"})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h4",{children:"Order Items"}),n.jsxs("div",{className:"alert-message",children:[n.jsx(Qt,{size:16}),n.jsx("span",{children:"Use buttons above to update order and payment status progressively"})]})]}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((Bt=(Rt=S.originalOrder)==null?void 0:Rt.items)==null?void 0:Bt.length)>0?S.originalOrder.items.map((ne,$e)=>n.jsxs("tr",{children:[n.jsx("td",{children:ne.name}),n.jsx("td",{children:ne.quantity}),n.jsxs("td",{children:["",ne.price.toFixed(2)]}),n.jsxs("td",{children:["",(ne.price*ne.quantity).toFixed(2)]})]},$e)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:J,disabled:M,children:"Close"}),n.jsx("button",{className:"btn btn-primary",onClick:re,disabled:M,children:M?n.jsxs(n.Fragment,{children:[n.jsx(la,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Updating..."})]}):"Update Payment Method"})]})]})}),n.jsx("style",{children:`
        /* Base Styles */
        .orders-page {
          padding: 20px;
          max-width: 100%;
          margin: 0 auto;
          background: #f8fafc;
          min-height: 100vh;
        }

        /* Success Message */
        .success-message {
          position: fixed;
          top: 20px;
          right: 20px;
          background: #10b981;
          color: white;
          padding: 12px 16px;
          border-radius: 8px;
          display: flex;
          align-items: center;
          gap: 8px;
          z-index: 1000;
          box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }

        .success-message button {
          background: none;
          border: none;
          color: white;
          cursor: pointer;
          padding: 4px;
          border-radius: 4px;
        }

        .success-message button:hover {
          background: rgba(255, 255, 255, 0.2);
        }

        /* Page Header */
        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 24px;
          flex-wrap: wrap;
          gap: 16px;
        }

        .header-title-section h1 {
          font-size: 28px;
          font-weight: 700;
          color: #1f2937;
          margin: 0;
        }

        .last-updated {
          font-size: 12px;
          color: #6b7280;
          margin: 4px 0 0 0;
          font-style: italic;
        }

        .header-actions {
          display: flex;
          gap: 12px;
        }

        .btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 16px;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
          border: none;
        }

        .btn-outline {
          background: white;
          color: #374151;
          border: 1px solid #d1d5db;
        }

        .btn-outline:hover {
          background: #f9fafb;
          border-color: #9ca3af;
        }

        .btn-primary {
          background: #d97706;
          color: white;
        }

        .btn-primary:hover {
          background: #d97706;
        }

        .btn-primary:disabled {
          background: #9ca3af;
          cursor: not-allowed;
        }

        .btn-print {
          background: #059669;
          color: white;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .btn-print:hover {
          background: #047857;
        }

        /* Filters Bar */
        .filters-bar {
          background: white;
          padding: 20px;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          margin-bottom: 24px;
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .search-container {
          position: relative;
          flex: 1;
          min-width: 300px;
        }

        .search-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
          pointer-events: none;
        }

        .search-input {
          width: 100%;
          padding: 12px 12px 12px 40px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          outline: none;
          background: white;
        }

        .search-input:focus {
          border-color: #d97706;
          box-shadow: 0 0 0 3px rgba(221, 124, 2, 0.1);
        }

        .filter-buttons {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
        }

        .filter-select {
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          background: white;
          min-width: 150px;
          outline: none;
          cursor: pointer;
        }

        .filter-select:focus {
          border-color: #d97706;
          box-shadow: 0 0 0 3px rgba(221, 124, 2, 0.1);
        }

        /* Error Container */
        .error-container {
          margin: 20px 0;
          padding: 12px 16px;
          background: #fee2e2;
          color: #dc2626;
          border-radius: 8px;
          display: flex;
          align-items: center;
          gap: 8px;
          border: 1px solid #fecaca;
        }

        /* Collection Statistics */
        .collection-stats-section {
          background: white;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          padding: 24px;
          margin-bottom: 24px;
        }

        .stats-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
          flex-wrap: wrap;
          gap: 16px;
        }

        .stats-header h2 {
          font-size: 20px;
          font-weight: 600;
          color: #1f2937;
          margin: 0;
        }

        .period-filters {
          display: flex;
          gap: 8px;
          background: #f3f4f6;
          padding: 4px;
          border-radius: 8px;
        }

        .period-btn {
          padding: 8px 16px;
          border: none;
          background: transparent;
          color: #6b7280;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
          transition: all 0.2s ease;
        }

        .period-btn:hover {
          background: #e5e7eb;
          color: #374151;
        }

        .period-btn.active {
          background: #d97706;
          color: white;
        }

        .stats-cards {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
        }

        .stat-card {
          background: #f8fafc;
          border-radius: 12px;
          padding: 20px;
          display: flex;
          align-items: center;
          gap: 16px;
          border: 1px solid #e2e8f0;
          transition: all 0.2s ease;
        }

        .stat-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .stat-card.cash {
          border-left: 4px solid #10b981;
        }

        .stat-card.online {
          border-left: 4px solid #3b82f6;
        }

        .stat-card.total {
          border-left: 4px solid #d97706;
        }

        .stat-card.paid {
          border-left: 4px solid #10b981;
        }

        .stat-card.unpaid {
          border-left: 4px solid #ef4444;
        }

        .stat-icon {
          font-size: 32px;
          line-height: 1;
        }

        .stat-content {
          flex: 1;
        }

        .stat-label {
          font-size: 14px;
          color: #6b7280;
          margin-bottom: 4px;
        }

        .stat-value {
          font-size: 24px;
          font-weight: 700;
          color: #1f2937;
          margin-bottom: 2px;
        }

        .stat-count {
          font-size: 12px;
          color: #9ca3af;
        }



        /* Data Card */
        .data-card {
          background: white;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          overflow: hidden;
          margin-bottom: 24px;
        }

        /* Loading Container */
        .loading-container {
          text-align: center;
          padding: 60px 20px;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 16px;
          color: #6b7280;
        }

        /* Table Container with Horizontal Scroll */
        .table-container {
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
        }

        /* Data Table */
        .data-table {
          width: 100%;
          border-collapse: collapse;
          min-width: 1000px; /* Reduced width to make status columns more visible */
        }

        .data-table th,
        .data-table td {
          padding: 12px 16px;
          text-align: left;
          border-bottom: 1px solid #e5e7eb;
          white-space: nowrap;
        }

        /* Priority columns - Status columns should be more visible */
        .data-table th:nth-child(2),
        .data-table th:nth-child(3),
        .data-table td:nth-child(2),
        .data-table td:nth-child(3) {
          background: #f8fafc;
          font-weight: 600;
          min-width: 120px;
        }

        .data-table th {
          background: #f9fafb;
          font-weight: 600;
          color: #374151;
          font-size: 14px;
          position: sticky;
          top: 0;
          z-index: 10;
        }

        .data-table td {
          font-size: 14px;
          color: #6b7280;
        }

        .data-table tr:hover {
          background: #f9fafb;
        }

        .no-orders {
          text-align: center;
          padding: 40px 20px;
          color: #9ca3af;
          font-style: italic;
        }

        /* Customer Type Badge */
        .customer-type-badge {
          display: inline-block;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 500;
          text-transform: uppercase;
        }

        .customer-type-badge.staff {
          background: rgba(59, 130, 246, 0.1);
          color: #3b82f6;
        }

        .customer-type-badge.guest {
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
        }

        /* People Count */
        .people-count {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        /* Status Badges */
        .status-badge {
          display: inline-block !important;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 500;
          text-transform: capitalize;
          min-width: 60px;
          text-align: center;
          border: 1px solid transparent;
        }

        .status-badge.pending {
          background: #fef3c7 !important;
          color: #92400e !important;
          border: 1px solid #f59e0b !important;
        }

        .status-badge.preparing {
          background: #dbeafe !important;
          color: #1e40af !important;
          border: 1px solid #3b82f6 !important;
        }

        .status-badge.served {
          background: #e0e7ff !important;
          color: #5b21b6 !important;
          border: 1px solid #8b5cf6 !important;
        }

        .status-badge.completed {
          background: #d1fae5 !important;
          color: #065f46 !important;
          border: 1px solid #10b981 !important;
        }

        .status-badge.cancelled {
          background: #fee2e2 !important;
          color: #991b1b !important;
          border: 1px solid #ef4444 !important;
        }

        /* Fallback for any status badge without specific class */
        .status-badge:not(.pending):not(.preparing):not(.served):not(.completed):not(.cancelled) {
          background: rgba(156, 163, 175, 0.2) !important;
          color: #374151 !important;
          border-color: #9ca3af;
        }

        /* Action Buttons */
        .action-buttons {
          display: flex;
          gap: 8px;
        }

        .action-btn {
          padding: 6px 12px;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
          cursor: pointer;
          border: none;
          transition: all 0.2s ease;
        }

        .action-btn.view {
          background: rgba(59, 130, 246, 0.1);
          color: #2563eb;
        }

        .action-btn.view:hover {
          background: rgba(59, 130, 246, 0.2);
        }

        .action-btn.edit {
          background: rgba(16, 185, 129, 0.1);
          color: #059669;
        }

        .action-btn.edit:hover {
          background: rgba(16, 185, 129, 0.2);
        }

        .action-btn.print {
          background: rgba(139, 92, 246, 0.1);
          color: #7c3aed;
        }

        .action-btn.print:hover {
          background: rgba(139, 92, 246, 0.2);
        }

        /* Pagination */
        .pagination {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 8px;
          margin-top: 24px;
          flex-wrap: wrap;
        }

        .pagination-btn {
          padding: 8px 16px;
          border: 1px solid #d1d5db;
          background: white;
          color: #374151;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: all 0.2s ease;
        }

        .pagination-btn:hover:not(:disabled) {
          background: #f9fafb;
          border-color: #9ca3af;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-pages {
          display: flex;
          gap: 4px;
          align-items: center;
        }

        .pagination-page {
          width: 36px;
          height: 36px;
          border: 1px solid #d1d5db;
          background: white;
          color: #374151;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
        }

        .pagination-page:hover:not(:disabled) {
          background: #d97706;
          border-color: #d97706;
        }

        .pagination-page.active {
          background: #d97706;
          color: white;
          border-color: #d97706;
        }

        .pagination-page:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-ellipsis {
          padding: 0 8px;
          color: #9ca3af;
        }

        /* Modal Styles */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .modal {
          background: white;
          border-radius: 12px;
          max-width: 600px;
          width: 100%;
          max-height: 90vh;
          display: flex;
          flex-direction: column;
          box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px;
          border-bottom: 1px solid #e5e7eb;
        }

        .modal-title {
          font-size: 18px;
          font-weight: 600;
          color: #1f2937;
          margin: 0;
        }

        .modal-close {
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #6b7280;
          padding: 4px;
          border-radius: 4px;
          line-height: 1;
        }

        .modal-close:hover {
          color: #374151;
          background: #f3f4f6;
        }

        .modal-body {
          flex: 1;
          overflow-y: auto;
          padding: 24px;
        }

        .modal-footer {
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          padding: 24px;
          border-top: 1px solid #e5e7eb;
        }

        /* Order Details */
        .order-details {
          margin-bottom: 24px;
        }

        .order-detail-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 0;
          border-bottom: 1px solid #f3f4f6;
        }

        .order-detail-row:last-child {
          border-bottom: none;
        }

        .order-detail-label {
          font-weight: 500;
          color: #374151;
          min-width: 140px;
        }

        .order-detail-value {
          color: #6b7280;
          text-align: right;
          flex: 1;
        }

        .payment-method-display {
          display: flex;
          align-items: center;
          gap: 8px;
          justify-content: flex-end;
        }

        /* Order Items Section */
        .order-items-section {
          margin-bottom: 24px;
        }

        .order-items-section h4 {
          font-size: 16px;
          font-weight: 600;
          color: #1f2937;
          margin-bottom: 16px;
        }

        .order-items-table {
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          overflow: hidden;
        }

        .order-items-table .data-table {
          min-width: auto;
        }

        .order-items-table .data-table th,
        .order-items-table .data-table td {
          padding: 8px 12px;
        }

        /* Form Styles */
        .form-group {
          margin-bottom: 16px;
        }

        .form-label {
          display: block;
          font-size: 14px;
          font-weight: 500;
          color: #374151;
          margin-bottom: 6px;
        }

        .form-input,
        .form-select {
          width: 100%;
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
          outline: none;
          background: white;
        }

        .form-input:focus,
        .form-select:focus {
          border-color: #d97706;
          box-shadow: 0 0 0 3px rgba(221, 124, 2, 0.1);
        }

        .form-input:disabled {
          background: #f9fafb;
          color: #6b7280;
          cursor: not-allowed;
        }

        /* Progressive Status Update Styles */
        .current-status-display {
          margin-bottom: 12px;
        }

        .status-progression-buttons {
          display: flex;
          flex-direction: column;
          gap: 8px;
          margin-top: 8px;
        }

        .progression-btn {
          padding: 10px 16px;
          border: none;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          text-align: left;
        }

        .progression-btn.preparing {
          background: #dbeafe;
          color: #1e40af;
          border: 1px solid #3b82f6;
        }

        .progression-btn.preparing:hover {
          background: #bfdbfe;
        }

        .progression-btn.served {
          background: #e0e7ff;
          color: #5b21b6;
          border: 1px solid #8b5cf6;
        }

        .progression-btn.served:hover {
          background: #c7d2fe;
        }

        .progression-btn.completed {
          background: #d1fae5;
          color: #065f46;
          border: 1px solid #10b981;
        }

        .progression-btn.completed:hover {
          background: #a7f3d0;
        }

        .progression-btn.cancelled {
          background: #fee2e2;
          color: #991b1b;
          border: 1px solid #ef4444;
        }

        .progression-btn.cancelled:hover {
          background: #fecaca;
        }

        .progression-btn.failed {
          background: #fee2e2;
          color: #991b1b;
          border: 1px solid #ef4444;
        }

        .progression-btn.failed:hover {
          background: #fecaca;
        }

        .progression-btn.refunded {
          background: #e0e7ff;
          color: #5b21b6;
          border: 1px solid #8b5cf6;
        }

        .progression-btn.refunded:hover {
          background: #c7d2fe;
        }

        .status-change-preview {
          margin-top: 8px;
          padding: 8px 12px;
          background: #f0f9ff;
          border: 1px solid #0ea5e9;
          border-radius: 4px;
          font-size: 12px;
          color: #0369a1;
        }

        .status-final-message {
          margin-top: 12px;
          padding: 12px;
          background: #f3f4f6;
          border: 1px solid #d1d5db;
          border-radius: 6px;
        }

        .status-final-message p {
          margin: 0;
          font-size: 13px;
          color: #6b7280;
          font-style: italic;
        }

        .section-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 16px;
        }

        .alert-message {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 12px;
          color: #6b7280;
        }

        /* Animations */
        .animate-spin {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
          .orders-page {
            padding: 16px;
          }

          .page-header {
            flex-direction: column;
            align-items: flex-start;
          }

          .page-header h1 {
            font-size: 24px;
          }

          .filters-bar {
            padding: 16px;
          }

          .filter-buttons {
            flex-direction: column;
          }

          .filter-select {
            min-width: auto;
            width: 100%;
          }

          .search-container {
            min-width: auto;
          }

          .collection-stats-section {
            padding: 20px;
          }

          .stats-header {
            flex-direction: column;
            align-items: flex-start;
          }

          .stats-cards {
            grid-template-columns: 1fr;
          }
        }

        @media (max-width: 768px) {
          .orders-page {
            padding: 12px;
          }

          .page-header h1 {
            font-size: 20px;
          }

          .filters-bar {
            padding: 12px;
          }

          .collection-stats-section {
            padding: 16px;
          }

          .stats-header h2 {
            font-size: 18px;
          }

          .period-filters {
            width: 100%;
            justify-content: center;
          }

          .period-btn {
            flex: 1;
            text-align: center;
          }

          .stat-card {
            padding: 16px;
          }

          .stat-icon {
            font-size: 28px;
          }

          .stat-value {
            font-size: 20px;
          }

          /* Mobile Table Styles */
          .table-container {
            border-radius: 8px;
            overflow: hidden;
          }

          .data-table {
            min-width: 700px; /* Further reduced to prioritize status columns */
          }

          .data-table th,
          .data-table td {
            padding: 8px 12px;
            font-size: 13px;
          }

          .action-buttons {
            flex-direction: column;
            gap: 4px;
          }

          .action-btn {
            padding: 4px 8px;
            font-size: 11px;
          }

          /* Modal adjustments for mobile */
          .modal {
            margin: 10px;
            max-height: calc(100vh - 20px);
          }

          .modal-header,
          .modal-body,
          .modal-footer {
            padding: 16px;
          }

          .modal-title {
            font-size: 16px;
          }

          .order-detail-row {
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
          }

          .order-detail-value {
            text-align: left;
          }

          .payment-method-display {
            justify-content: flex-start;
          }

          /* Pagination adjustments */
          .pagination {
            gap: 4px;
          }

          .pagination-btn {
            padding: 6px 12px;
            font-size: 12px;
          }

          .pagination-page {
            width: 32px;
            height: 32px;
            font-size: 12px;
          }
        }

        @media (max-width: 480px) {
          .orders-page {
            padding: 8px;
          }

          .page-header {
            gap: 12px;
          }

          .page-header h1 {
            font-size: 18px;
          }

          .btn {
            padding: 8px 12px;
            font-size: 12px;
          }

          .filters-bar {
            padding: 8px;
            gap: 12px;
          }

          .collection-stats-section {
            padding: 12px;
          }

          .stats-header h2 {
            font-size: 16px;
          }

          .period-btn {
            padding: 6px 12px;
            font-size: 12px;
          }

          .stat-card {
            padding: 12px;
            gap: 12px;
          }

          .stat-icon {
            font-size: 24px;
          }

          .stat-value {
            font-size: 18px;
          }

          .stat-label {
            font-size: 13px;
          }

          .stat-count {
            font-size: 11px;
          }

          .search-input {
            padding: 10px 10px 10px 36px;
            font-size: 13px;
          }

          .filter-select {
            padding: 8px 10px;
            font-size: 13px;
          }

          .data-table {
            min-width: 600px; /* Further reduced for very small screens */
          }

          .data-table th,
          .data-table td {
            padding: 6px 8px;
            font-size: 12px;
          }

          .customer-type-badge,
          .status-badge {
            font-size: 10px;
            padding: 2px 6px;
          }

          .success-message {
            top: 10px;
            right: 10px;
            left: 10px;
            padding: 10px 12px;
            font-size: 13px;
          }
        }

        /* Custom Scrollbar for Table */
        .table-container::-webkit-scrollbar {
          height: 8px;
        }

        .table-container::-webkit-scrollbar-track {
          background: #f1f5f9;
          border-radius: 4px;
        }

        .table-container::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 4px;
        }

        .table-container::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }

        /* Focus styles for accessibility */
        .data-table:focus-within {
          outline: 2px solid #d97706;
          outline-offset: 2px;
        }

        .action-btn:focus {
          outline: 2px solid #d97706;
          outline-offset: 2px;
        }

        .pagination-btn:focus,
        .pagination-page:focus {
          outline: 2px solid #d97706;
          outline-offset: 2px;
        }
      `})]})},rc=Mt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),xae=()=>{var Ee,Ve,le,Ce,Qe,re,ce,J;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,h]=N.useState(!0),[p,m]=N.useState(""),[g,v]=N.useState(!1),[j,b]=N.useState(!1),[y,T]=N.useState(null),[E,C]=N.useState({orderStatus:"",paymentStatus:""}),[S,A]=N.useState(""),[k,D]=N.useState(!1),[B,F]=N.useState(""),[M,L]=N.useState("all"),[O,W]=N.useState("all"),[P,I]=N.useState("all"),[R,H]=N.useState("today"),[V,he]=N.useState(1),[U,Y]=N.useState(1),z=7;N.useEffect(()=>{ee(),q()},[M,O,P]);const ee=async()=>{try{const oe=await rc.get("/branch");d(oe.data)}catch(oe){console.error("Error fetching branches:",oe),m("Failed to load branches. Some filter options may not be available.")}},q=async()=>{h(!0),m(""),t([]),s([]),a([]);try{const[oe,te]=await Promise.all([rc.get("/counter-order/orders").catch(()=>({data:{orders:[]}})),rc.get("/staff-order").catch(()=>({data:{orders:[]}}))]);let Se=[],Ge=[];if(oe.data.success&&Array.isArray(oe.data.data)?Ge=oe.data.data:oe.data.orders&&Array.isArray(oe.data.orders)?Ge=oe.data.orders:Array.isArray(oe.data)&&(Ge=oe.data),Ge.length>0){const dt=Ge.map((_e,rt)=>{var Ot,zt,Rt,Bt,ne,$e,Ye,Et;return _e.id||console.warn(`Counter order at index ${rt} is missing id:`,_e),_e.customerName||console.warn(`Counter order at index ${rt} is missing customerName:`,_e),(Ot=_e.userId)!=null&&Ot.name||console.warn(`Counter order at index ${rt} is missing counter user name:`,_e),{id:_e.id||`temp-counter-id-${rt}`,customerName:_e.customerName||"Unknown Customer",phoneNumber:_e.phoneNumber||"N/A",counterUser:((zt=_e.userId)==null?void 0:zt.name)||"Unknown Counter User",counterUserId:((Rt=_e.userId)==null?void 0:Rt.id)||null,date:new Date(_e.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),branch:((Bt=_e.branch)==null?void 0:Bt.name)||"Unknown Branch",branchId:((ne=_e.branch)==null?void 0:ne.id)||null,invoice:(($e=_e.invoice)==null?void 0:$e.invoiceNumber)||"N/A",items:((Ye=_e.items)==null?void 0:Ye.length)||0,itemNames:((Et=_e.items)==null?void 0:Et.map(me=>me.name).join(", "))||"No items",subtotal:_e.subtotal||_e.totalAmount||0,tax:_e.tax||0,serviceCharge:_e.serviceCharge||0,grandTotal:_e.grandTotal||_e.totalAmount||0,amount:`${(_e.grandTotal||_e.totalAmount||0).toFixed(2)}`,totalAmount:_e.totalAmount||0,orderStatus:_e.orderStatus||"pending",paymentMethod:_e.paymentMethod||"cash",paymentStatus:_e.paymentStatus||"pending",cancellationReason:_e.cancellationReason||"",cancelledAt:_e.cancelledAt||null,originalOrder:_e,orderSource:"counter"}}).filter(_e=>_e.id);Se=[...Se,...dt]}let Xe=[];if(te.data.success&&Array.isArray(te.data.data)?Xe=te.data.data:te.data.orders&&Array.isArray(te.data.orders)?Xe=te.data.orders:Array.isArray(te.data)&&(Xe=te.data),Xe.length>0){const _e=Xe.filter(rt=>rt.isGuestOrder&&rt.categoryName&&(rt.categoryName.toLowerCase().includes("self service")||rt.categoryName.toLowerCase().includes("counter"))).map((rt,Ot)=>{var zt,Rt;return{id:rt._id||`temp-guest-id-${Ot}`,customerName:rt.customerName||"Unknown Customer",phoneNumber:rt.customerMobile||"N/A",counterUser:"ViratCounter App",counterUserId:null,date:new Date(rt.orderTime||rt.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),branch:rt.branchName||"Unknown Branch",branchId:rt.branchId||null,invoice:rt.orderId||"N/A",items:((zt=rt.items)==null?void 0:zt.length)||0,itemNames:((Rt=rt.items)==null?void 0:Rt.map(Bt=>Bt.name).join(", "))||"No items",subtotal:rt.subtotal||rt.totalAmount||0,tax:rt.tax||0,serviceCharge:rt.serviceCharge||0,grandTotal:rt.grandTotal||rt.totalAmount||0,amount:`${(rt.grandTotal||rt.totalAmount||0).toFixed(2)}`,totalAmount:rt.totalAmount||0,orderStatus:rt.status||"pending",paymentMethod:rt.paymentMethod||"cash",paymentStatus:rt.paymentStatus||"pending",cancellationReason:rt.cancellationReason||"",cancelledAt:rt.cancelledAt||null,originalOrder:rt,orderSource:"guest"}}).filter(rt=>rt.id);Se=[...Se,..._e]}Se.sort((dt,_e)=>new Date(_e.originalOrder.createdAt||_e.originalOrder.orderTime)-new Date(dt.originalOrder.createdAt||dt.originalOrder.orderTime));let Ue=Se;M!=="all"&&(Ue=Ue.filter(dt=>dt.orderStatus===M)),O!=="all"&&(Ue=Ue.filter(dt=>dt.paymentStatus===O)),P!=="all"&&(Ue=Ue.filter(dt=>dt.branchId===P)),t(Ue)}catch(oe){console.error("Error fetching orders:",oe),m("Failed to load orders. Please refresh the page and try again.")}finally{h(!1)}};N.useEffect(()=>{const oe=e.filter(te=>{if(!B.trim())return!0;const Se=te.customerName||"",Ge=te.phoneNumber||"",Xe=te.counterUser||"",Ue=te.invoice||"",dt=B.trim().toLowerCase();return console.log(`Searching for "${dt}" in order:`,{customerName:Se,phoneNumber:Ge,counterUser:Xe,invoice:Ue}),Se.toLowerCase().includes(dt)||Ge.toLowerCase().includes(dt)||Xe.toLowerCase().includes(dt)||Ue.toLowerCase().includes(dt)});s(oe),Y(Math.ceil(oe.length/z)),he(1)},[e,B]),N.useEffect(()=>{const oe=(V-1)*z,te=oe+z,Se=i.slice(oe,te);a(Se)},[i,V]),N.useEffect(()=>{const oe=setTimeout(()=>{},300);return()=>clearTimeout(oe)},[B]);const Q=oe=>{T(oe),v(!0)},ae=oe=>{T(oe),C({orderStatus:oe.orderStatus,paymentStatus:oe.paymentStatus}),b(!0)},de=oe=>{const{name:te,value:Se}=oe.target;C({...E,[te]:Se})},xe=async()=>{D(!0);try{const oe=y.orderSource==="guest";if(oe){const Se={};E.orderStatus!==y.orderStatus&&(Se.status=E.orderStatus),E.paymentStatus!==y.paymentStatus&&(Se.paymentStatus=E.paymentStatus),Object.keys(Se).length>0&&await rc.put(`/staff-order/${y.id}/status`,Se)}else E.orderStatus!==y.orderStatus&&await rc.put(`/counter-order/orders/${y.id}/order-status`,{orderStatus:E.orderStatus}),E.paymentStatus!==y.paymentStatus&&await rc.put(`/counter-order/orders/${y.id}/payment-status`,{paymentStatus:E.paymentStatus});await q(),b(!1),A(` ${oe?"ViratCounter":"Counter"} order status updated successfully`),setTimeout(()=>{A("")},2e3)}catch(oe){console.error("Error updating order:",oe),alert("Failed to update order. Please try again.")}finally{D(!1)}},Z=()=>{v(!1),T(null)},ge=()=>{b(!1),T(null)},je=(oe,te)=>{oe==="orderStatus"?L(te):oe==="paymentStatus"?W(te):oe==="branch"&&I(te),he(1)},pe=oe=>{switch(oe==null?void 0:oe.toLowerCase()){case"card":return n.jsx(Jn,{size:16});case"upi":return n.jsx(ds,{size:16});case"qr":return n.jsx(ds,{size:16});case"cash":default:return n.jsx(ds,{size:16})}},Je=()=>{let oe=`Order ID,Customer Name,Phone Number,Counter User,Date & Time,Branch,Invoice Number,Order Status,Payment Status,Payment Method,Subtotal,Tax,Service Charge,Grand Total,Items Count,Item Details
`;const te=new Date,Se=te.toLocaleDateString("en-IN")+" "+te.toLocaleTimeString("en-IN"),Ge=i.length,Xe=i.reduce(($e,Ye)=>$e+(Ye.grandTotal||0),0),Ue=i.filter($e=>$e.paymentStatus==="completed"),dt=Ue.reduce(($e,Ye)=>$e+(Ye.grandTotal||0),0),_e=Xe-dt;oe+=`
"COUNTER ORDERS EXPORT SUMMARY"
`,oe+=`"Export Date & Time:","${Se}"
`,oe+=`"Total Orders:",${Ge}
`,oe+=`"Total Amount:",${Xe.toFixed(2)}
`,oe+=`"Paid Orders:",${Ue.length}
`,oe+=`"Paid Amount:",${dt.toFixed(2)}
`,oe+=`"Unpaid Orders:",${Ge-Ue.length}
`,oe+=`"Unpaid Amount:",${_e.toFixed(2)}
`,oe+=`"Collection Rate:",${Xe>0?(dt/Xe*100).toFixed(1):0}
`,oe+=`
"DETAILED ORDER LIST"
`,oe+=`Order ID,Customer Name,Phone Number,Counter User,Date & Time,Branch,Invoice Number,Order Status,Payment Status,Payment Method,Subtotal,Tax,Service Charge,Grand Total,Items Count,Item Details
`,i.forEach($e=>{var Oe,Pe,st,ft,vt,St,nt,yt;const Ye=((Pe=(Oe=$e.originalOrder)==null?void 0:Oe.items)==null?void 0:Pe.map(ht=>`${ht.name} (Qty: ${ht.quantity}, Price: ${ht.price.toFixed(2)})`).join("; "))||"No items",Et=new Date(((st=$e.originalOrder)==null?void 0:st.createdAt)||((ft=$e.originalOrder)==null?void 0:ft.orderTime)||Date.now()),me=Et.toLocaleDateString("en-IN")+" "+Et.toLocaleTimeString("en-IN");oe+=`"${$e.invoice||$e.id}","${$e.customerName}","${$e.phoneNumber}","${$e.counterUser}","${me}","${$e.branch}","${$e.invoice}","${$e.orderStatus}","${$e.paymentStatus}","${$e.paymentMethod}",${((vt=$e.subtotal)==null?void 0:vt.toFixed(2))||"0.00"},${((St=$e.tax)==null?void 0:St.toFixed(2))||"0.00"},${((nt=$e.serviceCharge)==null?void 0:nt.toFixed(2))||"0.00"},${((yt=$e.grandTotal)==null?void 0:yt.toFixed(2))||"0.00"},${$e.items},"${Ye}"
`}),oe+=`
"PAYMENT METHOD BREAKDOWN"
`;const rt={};i.forEach($e=>{const Ye=$e.paymentMethod||"cash";rt[Ye]||(rt[Ye]={count:0,amount:0}),rt[Ye].count++,rt[Ye].amount+=$e.grandTotal||0}),oe+=`Payment Method,Order Count,Total Amount
`,Object.entries(rt).forEach(([$e,Ye])=>{oe+=`"${$e.charAt(0).toUpperCase()+$e.slice(1)}",${Ye.count},${Ye.amount.toFixed(2)}
`}),oe+=`
"BRANCH-WISE BREAKDOWN"
`;const Ot={};i.forEach($e=>{const Ye=$e.branch||"Unknown";Ot[Ye]||(Ot[Ye]={count:0,amount:0}),Ot[Ye].count++,Ot[Ye].amount+=$e.grandTotal||0}),oe+=`Branch Name,Order Count,Total Amount
`,Object.entries(Ot).forEach(([$e,Ye])=>{oe+=`"${$e}",${Ye.count},${Ye.amount.toFixed(2)}
`}),oe+=`
"COUNTER USER BREAKDOWN"
`;const zt={};i.forEach($e=>{const Ye=$e.counterUser||"Unknown";zt[Ye]||(zt[Ye]={count:0,amount:0}),zt[Ye].count++,zt[Ye].amount+=$e.grandTotal||0}),oe+=`Counter User,Order Count,Total Amount
`,Object.entries(zt).forEach(([$e,Ye])=>{oe+=`"${$e}",${Ye.count},${Ye.amount.toFixed(2)}
`});const Rt=new Blob([oe],{type:"text/csv;charset=utf-8;"}),Bt=window.URL.createObjectURL(Rt),ne=document.createElement("a");ne.setAttribute("hidden",""),ne.setAttribute("href",Bt),ne.setAttribute("download",`counter-orders-detailed-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(Bt)};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"orders-page",children:[S&&n.jsxs("div",{className:"success-message",children:[n.jsx(Rn,{size:16}),n.jsx("span",{children:S}),n.jsx("button",{onClick:()=>A(""),children:n.jsx(Hn,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Counter Orders & ViratCounter App"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-outline",onClick:Je,children:[n.jsx(ta,{size:16}),n.jsx("span",{children:"Export to Excel"})]})})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by customer name, phone, counter user, or invoice...",className:"search-input",value:B,onChange:oe=>F(oe.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select",value:M,onChange:oe=>je("orderStatus",oe.target.value),children:[n.jsx("option",{value:"all",children:"All Order Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{className:"filter-select",value:O,onChange:oe=>je("paymentStatus",oe.target.value),children:[n.jsx("option",{value:"all",children:"All Payment Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]}),n.jsxs("select",{className:"filter-select",value:P,onChange:oe=>je("branch",oe.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(oe=>n.jsx("option",{value:oe._id,children:oe.name},oe._id))]})]})]}),p&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:p})]}),n.jsxs("div",{className:"collection-stats-section",children:[n.jsxs("div",{className:"stats-header",children:[n.jsx("h2",{children:"Collection Statistics"}),n.jsxs("div",{className:"period-filters",children:[n.jsx("button",{className:`period-btn ${R==="today"?"active":""}`,onClick:()=>H("today"),children:"Today"}),n.jsx("button",{className:`period-btn ${R==="week"?"active":""}`,onClick:()=>H("week"),children:"This Week"}),n.jsx("button",{className:`period-btn ${R==="month"?"active":""}`,onClick:()=>H("month"),children:"This Month"})]})]}),n.jsx("div",{className:"stats-cards",children:(()=>{const oe=new Date;let te;if(R==="today")te=new Date(oe.getFullYear(),oe.getMonth(),oe.getDate());else if(R==="week"){const Rt=oe.getDay(),Bt=Rt===0?6:Rt-1;te=new Date(oe.getFullYear(),oe.getMonth(),oe.getDate()-Bt)}else R==="month"&&(te=new Date(oe.getFullYear(),oe.getMonth(),1));const Se=e.filter(Rt=>{var ne,$e;return new Date(((ne=Rt.originalOrder)==null?void 0:ne.createdAt)||(($e=Rt.originalOrder)==null?void 0:$e.orderTime))>=te}),Ge=Se.filter(Rt=>Rt.paymentStatus==="completed"),Xe=Se.filter(Rt=>Rt.paymentStatus!=="completed"),Ue=Se.reduce((Rt,Bt)=>Rt+(Bt.grandTotal||0),0),dt=Se.length,_e=Ge.reduce((Rt,Bt)=>Rt+(Bt.grandTotal||0),0),rt=Ge.length,Ot=Xe.reduce((Rt,Bt)=>Rt+(Bt.grandTotal||0),0),zt=Xe.length;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"stat-card total",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Total Orders"}),n.jsxs("div",{className:"stat-value",children:[dt," orders"]}),n.jsxs("div",{className:"stat-count",children:["",Ue.toFixed(2)]})]})]}),n.jsxs("div",{className:"stat-card paid",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Paid Orders"}),n.jsxs("div",{className:"stat-value",children:[rt," orders"]}),n.jsxs("div",{className:"stat-count",children:["",_e.toFixed(2)]})]})]}),n.jsxs("div",{className:"stat-card unpaid",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Unpaid Orders"}),n.jsxs("div",{className:"stat-value",children:[zt," orders"]}),n.jsxs("div",{className:"stat-count",children:["",Ot.toFixed(2)]})]})]})]})})()})]}),n.jsx("div",{className:"data-card",children:u?n.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx(la,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading counter orders..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Phone"}),n.jsx("th",{children:"User"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Invoice"}),n.jsx("th",{children:"Item Names"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(oe=>n.jsxs("tr",{children:[n.jsx("td",{children:oe.customerName}),n.jsx("td",{children:oe.phoneNumber}),n.jsx("td",{children:oe.counterUser}),n.jsx("td",{children:oe.date}),n.jsx("td",{children:oe.branch}),n.jsx("td",{children:oe.invoice}),n.jsx("td",{children:oe.itemNames}),n.jsx("td",{children:oe.amount}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>Q(oe),children:"View"}),n.jsx("button",{className:"action-btn edit",onClick:()=>ae(oe),children:"Edit"})]})})]},oe.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"no-orders",children:"No counter orders found matching your criteria"})})})]})}),U>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>he(oe=>Math.max(oe-1,1)),disabled:V===1||u,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,U)},(oe,te)=>{let Se;return U<=5||V<=3?Se=te+1:V>=U-2?Se=U-4+te:Se=V-2+te,n.jsx("button",{className:`pagination-page ${V===Se?"active":""}`,onClick:()=>he(Se),disabled:u,children:Se},Se)}),U>5&&V<U-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),U>5&&V<U-2&&n.jsx("button",{className:`pagination-page ${V===U?"active":""}`,onClick:()=>he(U),disabled:u,children:U})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>he(oe=>Math.min(oe+1,U)),disabled:V===U||u,children:"Next"})]}),g&&y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Counter Order Details - ",y.invoice]}),n.jsx("button",{className:"modal-close",onClick:Z,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Customer Name"}),n.jsx("div",{className:"order-detail-value",children:y.customerName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Phone Number"}),n.jsx("div",{className:"order-detail-value",children:y.phoneNumber})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Counter User"}),n.jsx("div",{className:"order-detail-value",children:y.counterUser})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Date"}),n.jsx("div",{className:"order-detail-value",children:y.date})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:y.branch})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Invoice Number"}),n.jsx("div",{className:"order-detail-value",children:y.invoice})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Method"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[pe(y.paymentMethod),n.jsx("span",{children:y.paymentMethod?y.paymentMethod.charAt(0).toUpperCase()+y.paymentMethod.slice(1):"Cash"})]})})]}),y.cancellationReason&&n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Cancellation Reason"}),n.jsx("div",{className:"order-detail-value",children:y.cancellationReason})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((Ve=(Ee=y.originalOrder)==null?void 0:Ee.items)==null?void 0:Ve.length)>0?y.originalOrder.items.map((oe,te)=>n.jsxs("tr",{children:[n.jsx("td",{children:oe.name}),n.jsx("td",{children:oe.quantity}),n.jsxs("td",{children:["",oe.price.toFixed(2)]}),n.jsxs("td",{children:["",(oe.price*oe.quantity).toFixed(2)]})]},te)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Summary"}),n.jsx("div",{className:"order-items-table",children:n.jsx("table",{className:"data-table",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Subtotal"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((le=y.subtotal)==null?void 0:le.toFixed(2))||"0.00"]})]}),y.tax>0&&n.jsxs("tr",{children:[n.jsx("td",{children:"Tax"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Ce=y.tax)==null?void 0:Ce.toFixed(2))||"0.00"]})]}),y.serviceCharge>0&&n.jsxs("tr",{children:[n.jsx("td",{children:"Service Charge"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Qe=y.serviceCharge)==null?void 0:Qe.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f8f9fa"},children:[n.jsx("td",{children:"Grand Total"}),n.jsxs("td",{style:{textAlign:"right",color:"#ff7e47"},children:["",((re=y.grandTotal)==null?void 0:re.toFixed(2))||"0.00"]})]})]})})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:Z,children:"Close"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>{Z(),ae(y)},children:"Edit Order"})]})]})}),j&&y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Edit Counter Order - ",y.invoice]}),n.jsx("button",{className:"modal-close",onClick:ge,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Customer Name"}),n.jsx("input",{type:"text",value:y.customerName,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Phone Number"}),n.jsx("input",{type:"text",value:y.phoneNumber,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Counter User"}),n.jsx("input",{type:"text",value:y.counterUser,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch"}),n.jsx("input",{type:"text",value:y.branch,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Order Status"}),n.jsxs("select",{name:"orderStatus",value:E.orderStatus,onChange:de,className:"form-select",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Payment Status"}),n.jsxs("select",{name:"paymentStatus",value:E.paymentStatus,onChange:de,className:"form-select",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h4",{children:"Order Items"}),n.jsxs("div",{className:"alert-message",children:[n.jsx(Qt,{size:16}),n.jsx("span",{children:"Only order status and payment status can be updated"})]})]}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((J=(ce=y.originalOrder)==null?void 0:ce.items)==null?void 0:J.length)>0?y.originalOrder.items.map((oe,te)=>n.jsxs("tr",{children:[n.jsx("td",{children:oe.name}),n.jsx("td",{children:oe.quantity}),n.jsxs("td",{children:["",oe.price.toFixed(2)]}),n.jsxs("td",{children:["",(oe.price*oe.quantity).toFixed(2)]})]},te)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:ge,disabled:k,children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:xe,disabled:k,children:k?n.jsxs(n.Fragment,{children:[n.jsx(la,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Saving..."})]}):"Save Changes"})]})]})})]}),n.jsx("style",{children:`
      /* Collection Statistics */
      .collection-stats-section {
        background: white;
        border-radius: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        padding: 24px;
        margin-bottom: 24px;
      }

      .stats-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        flex-wrap: wrap;
        gap: 16px;
      }

      .stats-header h2 {
        font-size: 20px;
        font-weight: 600;
        color: #1f2937;
        margin: 0;
      }

      .period-filters {
        display: flex;
        gap: 8px;
        background: #f3f4f6;
        padding: 4px;
        border-radius: 8px;
      }

      .period-btn {
        padding: 8px 16px;
        border: none;
        background: transparent;
        color: #6b7280;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.2s ease;
      }

      .period-btn:hover {
        background: #e5e7eb;
        color: #374151;
      }

      .period-btn.active {
        background: #d97706;
        color: white;
      }

      .stats-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }

      .stat-card {
        background: #f8fafc;
        border-radius: 12px;
        padding: 20px;
        display: flex;
        align-items: center;
        gap: 16px;
        border: 1px solid #e2e8f0;
        transition: all 0.2s ease;
      }

      .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .stat-card.total {
        border-left: 4px solid #d97706;
      }

      .stat-card.paid {
        border-left: 4px solid #10b981;
      }

      .stat-card.unpaid {
        border-left: 4px solid #ef4444;
      }

      .stat-icon {
        font-size: 32px;
        line-height: 1;
      }

      .stat-content {
        flex: 1;
      }

      .stat-label {
        font-size: 14px;
        color: #6b7280;
        margin-bottom: 4px;
      }

      .stat-value {
        font-size: 24px;
        font-weight: 700;
        color: #1f2937;
        margin-bottom: 2px;
      }

      .stat-count {
        font-size: 12px;
        color: #9ca3af;
      }

      /* Responsive Design */
      @media (max-width: 1024px) {
        .collection-stats-section {
          padding: 20px;
        }

        .stats-header {
          flex-direction: column;
          align-items: flex-start;
        }

        .stats-cards {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 768px) {
        .collection-stats-section {
          padding: 16px;
        }

        .stats-header h2 {
          font-size: 18px;
        }

        .period-filters {
          width: 100%;
          justify-content: center;
        }

        .period-btn {
          flex: 1;
          text-align: center;
        }

        .stat-card {
          padding: 16px;
        }

        .stat-icon {
          font-size: 28px;
        }

        .stat-value {
          font-size: 20px;
        }
      }

      @media (max-width: 480px) {
        .collection-stats-section {
          padding: 12px;
        }

        .stats-header h2 {
          font-size: 16px;
        }

        .period-btn {
          padding: 6px 12px;
          font-size: 12px;
        }

        .stat-card {
          padding: 12px;
          gap: 12px;
        }

        .stat-icon {
          font-size: 24px;
        }

        .stat-value {
          font-size: 18px;
        }

        .stat-label {
          font-size: 13px;
        }

        .stat-count {
          font-size: 11px;
        }
      }
    `})]})},nc=Mt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),gae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,h]=N.useState([]),[p,m]=N.useState(!0),[g,v]=N.useState(""),[j,b]=N.useState(!1),[y,T]=N.useState(!1),[E,C]=N.useState(!1),[S,A]=N.useState(!1),[k,D]=N.useState(null),[B,F]=N.useState({branchId:"",categoryId:"",number:"",capacity:"",status:"available",image:null}),[M,L]=N.useState({branchId:"",categoryId:"",number:"",capacity:"",status:"available",image:null}),[O,W]=N.useState(""),[P,I]=N.useState(!1),[R,H]=N.useState(""),[V,he]=N.useState("all"),[U,Y]=N.useState("all"),[z,ee]=N.useState("all"),[q,Q]=N.useState(1),[ae,de]=N.useState(1),xe=10,[Z,ge]=N.useState(null),[je,pe]=N.useState(null);N.useEffect(()=>{Je(),Ee(),Ve()},[V,U,z]);const Je=async()=>{try{const ne=await nc.get("/branch");d(ne.data)}catch(ne){console.error("Error fetching branches:",ne),v("Failed to load branches. Some filter options may not be available.")}},Ee=async()=>{try{const ne=await nc.get("/category");console.log("Categories API response:",ne.data),h(ne.data||[])}catch(ne){console.error("Error fetching categories:",ne),h([])}},Ve=async()=>{m(!0),v(""),t([]),s([]),a([]);try{const ne={};U!=="all"&&(ne.branchId=U);const $e=await nc.get("/table",{params:ne});console.log("Full API response:",$e),console.log("Response data:",$e.data),console.log("Response data type:",typeof $e.data),console.log("Response data keys:",Object.keys($e.data||{}));let Ye=[];if($e.data&&$e.data.success&&Array.isArray($e.data.data))Ye=$e.data.data;else if(Array.isArray($e.data))Ye=$e.data;else throw console.error(" Unexpected response format:",$e.data),new Error("Invalid response format: tables array missing");console.log("Extracted tablesData:",Ye),console.log("tablesData type:",typeof Ye),console.log("tablesData is array:",Array.isArray(Ye));const Et=Ye.map((me,Oe)=>{var Pe,st,ft,vt;return{id:me._id||`temp-id-${Oe}`,number:me.number||0,capacity:me.capacity||"",status:me.status||"available",branchId:((Pe=me.branchId)==null?void 0:Pe._id)||me.branchId||null,branchName:((st=me.branchId)==null?void 0:st.name)||"Unknown Branch",categoryId:((ft=me.categoryId)==null?void 0:ft._id)||me.categoryId||null,categoryName:((vt=me.categoryId)==null?void 0:vt.name)||"All Categories",image:me.image||null,qrCode:me.qrCode||null,createdAt:new Date(me.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),originalTable:me}}).filter(me=>me.id);t(Et)}catch(ne){console.error("Error fetching tables:",ne),v("Failed to load tables. Please refresh the page and try again.")}finally{m(!1)}};N.useEffect(()=>{let ne=e;if(V!=="all"&&(ne=ne.filter($e=>$e.status===V)),R.trim()){const $e=R.trim().toLowerCase();ne=ne.filter(Ye=>{var Pe;const Et=((Pe=Ye.number)==null?void 0:Pe.toString())||"",me=Ye.branchName||"",Oe=Ye.status||"";return Et.toLowerCase().includes($e)||me.toLowerCase().includes($e)||Oe.toLowerCase().includes($e)})}s(ne),de(Math.ceil(ne.length/xe)),Q(1)},[e,R,V]),N.useEffect(()=>{const ne=(q-1)*xe,$e=ne+xe,Ye=i.slice(ne,$e);a(Ye)},[i,q]);const le=ne=>{D(ne),b(!0)},Ce=()=>{F({branchId:"",categoryId:"",number:"",status:"available",image:null}),ge(null),T(!0)},Qe=ne=>{D(ne),L({branchId:ne.branchId||"",categoryId:ne.categoryId||"",number:ne.number||"",capacity:ne.capacity||"",status:ne.status||"available",image:null}),pe(ne.image?`${ne.image}`:null),C(!0)},re=ne=>{D(ne),A(!0)},ce=ne=>{const{name:$e,value:Ye}=ne.target;F({...B,[$e]:Ye})},J=ne=>{const{name:$e,value:Ye}=ne.target;L({...M,[$e]:Ye})},oe=ne=>{const $e=ne.target.files[0];if($e){F({...B,image:$e});const Ye=new FileReader;Ye.onload=Et=>ge(Et.target.result),Ye.readAsDataURL($e)}},te=ne=>{const $e=ne.target.files[0];if($e){L({...M,image:$e});const Ye=new FileReader;Ye.onload=Et=>pe(Et.target.result),Ye.readAsDataURL($e)}},Se=async()=>{I(!0);try{if(!B.branchId||!B.number){alert("Please fill in all required fields");return}const ne=new FormData;ne.append("branchId",B.branchId),B.categoryId&&ne.append("categoryId",B.categoryId),ne.append("number",B.number),ne.append("status",B.status),B.image&&ne.append("image",B.image),await nc.post("/table",ne,{headers:{"Content-Type":"multipart/form-data"}}),await Ve(),T(!1),W("Table created successfully"),setTimeout(()=>{W("")},3e3)}catch(ne){console.error("Error creating table:",ne),alert("Failed to create table. Please try again.")}finally{I(!1)}},Ge=async()=>{I(!0);try{if(!M.branchId||!M.number){alert("Please fill in all required fields");return}const ne=new FormData;ne.append("branchId",M.branchId),M.categoryId&&ne.append("categoryId",M.categoryId),ne.append("number",M.number),ne.append("status",M.status),M.image&&ne.append("image",M.image),await nc.put(`/table/${k.id}`,ne,{headers:{"Content-Type":"multipart/form-data"}}),await Ve(),C(!1),W(`Table ${k.number} updated successfully`),setTimeout(()=>{W("")},3e3)}catch(ne){console.error("Error updating table:",ne),alert("Failed to update table. Please try again.")}finally{I(!1)}},Xe=async()=>{I(!0);try{await nc.delete(`/table/${k.id}`),await Ve(),A(!1),W(`Table ${k.number} deleted successfully`),setTimeout(()=>{W("")},3e3)}catch(ne){console.error("Error deleting table:",ne),alert("Failed to delete table. Please try again.")}finally{I(!1)}},Ue=()=>{b(!1),D(null)},dt=()=>{T(!1),ge(null)},_e=()=>{C(!1),D(null),pe(null)},rt=()=>{A(!1),D(null)},Ot=(ne,$e)=>{ne==="status"?he($e):ne==="branch"&&Y($e),Q(1)},zt=ne=>{let Ye=`https://hotelvirat.com/menu?branch=${ne.branchId}&name=${encodeURIComponent(ne.branchName)}&table=${ne.number}`;return ne.categoryId&&(Ye+=`&category=${ne.categoryId}&categoryName=${encodeURIComponent(ne.categoryName||"")}`),`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(Ye)}`},Rt=async ne=>{const $e=zt(ne);try{const Et=await(await fetch($e)).blob(),me=window.URL.createObjectURL(Et),Oe=document.createElement("a");Oe.href=me,Oe.download=`table-${ne.number}-${ne.branchName}-qr.png`,document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),window.URL.revokeObjectURL(me)}catch(Ye){console.error("Error downloading QR code:",Ye),alert("Failed to download QR code")}},Bt=()=>{let ne=`Table Number,Capacity,Branch,Status,Created At
`;i.forEach(me=>{const Oe=me.capacity?`${me.capacity} people`:"Not set";ne+=`${me.number},"${Oe}","${me.branchName}",${me.status},"${me.createdAt}"
`});const $e=new Blob([ne],{type:"text/csv"}),Ye=window.URL.createObjectURL($e),Et=document.createElement("a");Et.setAttribute("hidden",""),Et.setAttribute("href",Ye),Et.setAttribute("download",`tables-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(Et),Et.click(),document.body.removeChild(Et)};return n.jsxs("div",{className:"tables-page",children:[O&&n.jsxs("div",{className:"success-message",children:[n.jsx(Rn,{size:16}),n.jsx("span",{children:O}),n.jsx("button",{onClick:()=>W(""),children:n.jsx(Hn,{size:16})})]}),n.jsxs("div",{className:"page-header",style:{position:"relative",zIndex:100},children:[n.jsx("h1",{children:"Tables Management"}),n.jsxs("div",{className:"header-actions",style:{position:"relative",zIndex:101},children:[n.jsxs("button",{className:"btn btn-outline",onClick:Bt,children:[n.jsx(ta,{size:16}),n.jsx("span",{children:"Export"})]}),n.jsxs("button",{className:"btn btn-primary",onClick:Ce,style:{position:"relative",zIndex:102},children:[n.jsx(Ka,{size:16}),n.jsx("span",{children:"Add Table"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by table number, branch, or status...",className:"search-input",value:R,onChange:ne=>H(ne.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select",value:V,onChange:ne=>Ot("status",ne.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"reserved",children:"Reserved"})]}),n.jsxs("select",{className:"filter-select",value:U,onChange:ne=>Ot("branch",ne.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(ne=>n.jsx("option",{value:ne._id,children:ne.name},ne._id))]})]})]}),g&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:g})]}),n.jsx("div",{className:"data-card",children:p?n.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx(la,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading tables..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Image"}),n.jsx("th",{children:"Table Number"}),n.jsx("th",{children:"Capacity"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Category"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(ne=>n.jsxs("tr",{children:[n.jsx("td",{children:ne.image?n.jsx("img",{src:`${ne.image}`,alt:`Table ${ne.number}`,className:"table-image",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"4px"}}):n.jsx("div",{className:"table-image-placeholder",style:{width:"50px",height:"50px",backgroundColor:"#f3f4f6",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:n.jsx(vj,{size:20})})}),n.jsxs("td",{children:["Table ",ne.number]}),n.jsx("td",{children:ne.capacity?`${ne.capacity} people`:"Not set"}),n.jsx("td",{children:ne.branchName}),n.jsx("td",{children:ne.categoryName}),n.jsx("td",{children:ne.createdAt}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>le(ne),children:"View"}),n.jsx("button",{className:"action-btn edit",onClick:()=>Qe(ne),children:"Edit"}),n.jsx("button",{className:"action-btn",onClick:()=>Rt(ne),style:{backgroundColor:"#8b5cf6",color:"white"},title:"Download QR Code",children:n.jsx(as,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>re(ne),children:"Delete"})]})})]},ne.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"no-tables",children:"No tables found matching your criteria"})})})]})}),ae>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>Q(ne=>Math.max(ne-1,1)),disabled:q===1||p,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,ae)},(ne,$e)=>{let Ye;return ae<=5||q<=3?Ye=$e+1:q>=ae-2?Ye=ae-4+$e:Ye=q-2+$e,n.jsx("button",{className:`pagination-page ${q===Ye?"active":""}`,onClick:()=>Q(Ye),disabled:p,children:Ye},Ye)}),ae>5&&q<ae-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),ae>5&&q<ae-2&&n.jsx("button",{className:`pagination-page ${q===ae?"active":""}`,onClick:()=>Q(ae),disabled:p,children:ae})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>Q(ne=>Math.min(ne+1,ae)),disabled:q===ae||p,children:"Next"})]}),j&&k&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Table Details - Table ",k.number]}),n.jsx("button",{className:"modal-close",onClick:Ue,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table Number"}),n.jsxs("div",{className:"order-detail-value",children:["Table ",k.number]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table Capacity"}),n.jsx("div",{className:"order-detail-value",children:k.capacity?`${k.capacity} people`:"Not set"})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:k.branchName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Category"}),n.jsx("div",{className:"order-detail-value",children:k.categoryName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:`status-badge ${k.status}`,children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Created At"}),n.jsx("div",{className:"order-detail-value",children:k.createdAt})]}),k.image&&n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Image"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("img",{src:`${k.image}`,alt:`Table ${k.number}`,style:{width:"200px",height:"150px",objectFit:"cover",borderRadius:"8px"}})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"QR Code"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx("img",{src:zt(k),alt:`QR Code for Table ${k.number}`,style:{width:"200px",height:"200px",border:"1px solid #e5e7eb",borderRadius:"8px"}}),n.jsxs("button",{className:"btn btn-outline",onClick:()=>Rt(k),style:{display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(ta,{size:16}),"Download QR Code"]})]})})]})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:Ue,children:"Close"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>{Ue(),Qe(k)},children:"Edit Table"})]})]})}),y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Add New Table"}),n.jsx("button",{className:"modal-close",onClick:dt,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch *"}),n.jsxs("select",{name:"branchId",value:B.branchId,onChange:ce,className:"form-select",required:!0,children:[n.jsx("option",{value:"",children:"Select Branch"}),l.map(ne=>n.jsx("option",{value:ne._id,children:ne.name},ne._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Category (Optional)"}),n.jsxs("select",{name:"categoryId",value:B.categoryId,onChange:ce,className:"form-select",children:[n.jsx("option",{value:"",children:"All Categories (No Filter)"}),u.map(ne=>n.jsx("option",{value:ne._id,children:ne.name},ne._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Number *"}),n.jsx("input",{type:"text",name:"number",value:B.number,onChange:ce,className:"form-input",placeholder:"Enter table number (e.g., A1, B2, VIP1)",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Capacity *"}),n.jsx("input",{type:"number",name:"capacity",value:B.capacity,onChange:ce,className:"form-input",placeholder:"Number of people (e.g., 4, 6, 8)",min:"1",max:"20",required:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Status"}),n.jsxs("select",{name:"status",value:B.status,onChange:ce,className:"form-select",children:[n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"reserved",children:"Reserved"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"add-image-upload",className:"image-upload-label",children:Z?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:Z||"/placeholder.svg",alt:"Preview",className:"image-preview"}),n.jsxs("div",{className:"image-overlay",children:[n.jsx(to,{size:24}),n.jsx("span",{children:"Change Image"})]})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(to,{size:24}),n.jsx("span",{children:"Click to upload table image"})]})}),n.jsx("input",{id:"add-image-upload",type:"file",accept:"image/*",onChange:oe,className:"image-upload-input"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:dt,disabled:P,children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:Se,disabled:P,children:P?n.jsxs(n.Fragment,{children:[n.jsx(la,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Creating..."})]}):"Create Table"})]})]})}),E&&k&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Edit Table - Table ",k.number]}),n.jsx("button",{className:"modal-close",onClick:_e,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch *"}),n.jsxs("select",{name:"branchId",value:M.branchId,onChange:J,className:"form-select",required:!0,children:[n.jsx("option",{value:"",children:"Select Branch"}),l.map(ne=>n.jsx("option",{value:ne._id,children:ne.name},ne._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Category (Optional)"}),n.jsxs("select",{name:"categoryId",value:M.categoryId,onChange:J,className:"form-select",children:[n.jsx("option",{value:"",children:"All Categories (No Filter)"}),u.map(ne=>n.jsx("option",{value:ne._id,children:ne.name},ne._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Number *"}),n.jsx("input",{type:"text",name:"number",value:M.number,onChange:J,className:"form-input",placeholder:"Enter table number (e.g., A1, B2, VIP1)",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Capacity *"}),n.jsx("input",{type:"number",name:"capacity",value:M.capacity,onChange:J,className:"form-input",placeholder:"Number of people (e.g., 4, 6, 8)",min:"1",max:"20",required:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Status"}),n.jsxs("select",{name:"status",value:M.status,onChange:J,className:"form-select",children:[n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"reserved",children:"Reserved"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"edit-image-upload",className:"image-upload-label",children:je?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:je||"/placeholder.svg",alt:"Preview",className:"image-preview"}),n.jsxs("div",{className:"image-overlay",children:[n.jsx(to,{size:24}),n.jsx("span",{children:"Change Image"})]})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(to,{size:24}),n.jsx("span",{children:"Click to upload table image"})]})}),n.jsx("input",{id:"edit-image-upload",type:"file",accept:"image/*",onChange:te,className:"image-upload-input"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:_e,disabled:P,children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:Ge,disabled:P,children:P?n.jsxs(n.Fragment,{children:[n.jsx(la,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Saving..."})]}):"Save Changes"})]})]})}),S&&k&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Table"}),n.jsx("button",{className:"modal-close",onClick:rt,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[n.jsx(Qt,{size:48,color:"#dc2626",style:{marginBottom:"16px"}}),n.jsx("h4",{style:{marginBottom:"8px",color:"#dc2626"},children:"Are you sure?"}),n.jsxs("p",{style:{color:"#666",marginBottom:"16px"},children:["Do you want to delete Table ",k.number," from ",k.branchName,"?"]}),n.jsx("p",{style:{color:"#dc2626",fontSize:"14px"},children:"This action cannot be undone."})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:rt,disabled:P,children:"Cancel"}),n.jsx("button",{className:"btn",onClick:Xe,disabled:P,style:{backgroundColor:"#dc2626",color:"white",border:"1px solid #dc2626"},children:P?n.jsxs(n.Fragment,{children:[n.jsx(la,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Deleting..."})]}):"Delete Table"})]})]})})]})},sj=Mt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),yae=()=>{var Ve,le,Ce,Qe,re,ce,J,oe;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,h]=N.useState(!0),[p,m]=N.useState(""),[g,v]=N.useState(null),[j,b]=N.useState(!1),[y,T]=N.useState(!1),[E,C]=N.useState(!1),[S,A]=N.useState(null),[k,D]=N.useState(""),[B,F]=N.useState(""),[M,L]=N.useState("all"),[O,W]=N.useState("all"),[P,I]=N.useState("all"),[R,H]=N.useState("all"),[V,he]=N.useState(1),[U,Y]=N.useState(1),z=10;N.useEffect(()=>{ee(),q(),Q()},[M,O,P,R]);const ee=async()=>{try{const te=await sj.get("/branch");d(te.data)}catch(te){console.error("Error fetching branches:",te)}},q=async()=>{h(!0),m("");try{const te={};if(M!=="all"&&(te.paymentStatus=M),O!=="all"&&(te.paymentMethod=O),P!=="all"&&(te.branchId=P),R!=="all"){const Ue=new Date,dt=new Date;switch(R){case"today":dt.setHours(0,0,0,0),te.startDate=dt.toISOString(),te.endDate=Ue.toISOString();break;case"week":dt.setDate(Ue.getDate()-7),te.startDate=dt.toISOString(),te.endDate=Ue.toISOString();break;case"month":dt.setMonth(Ue.getMonth()-1),te.startDate=dt.toISOString(),te.endDate=Ue.toISOString();break}}const Se=await sj.get("/staff-invoice",{params:te});let Ge=[];Se.data&&Se.data.success&&Array.isArray(Se.data.data)?Ge=Se.data.data:Se.data&&Se.data.invoices&&Array.isArray(Se.data.invoices)?Ge=Se.data.invoices:Array.isArray(Se.data)?Ge=Se.data:Se.data&&Se.data.message&&Se.data.message.includes("routes working")?Ge=[]:(console.error(" Unexpected response format:",Se.data),console.error(" Response keys:",Object.keys(Se.data||{})),console.error(" Response type:",typeof Se.data),Ge=[]);const Xe=Ge.map((Ue,dt)=>{var _e,rt,Ot,zt,Rt,Bt,ne;return{id:Ue._id||`temp-id-${dt}`,invoiceId:Ue.invoiceId||`UNKNOWN-${dt}`,orderId:Ue.orderId||"N/A",customer:((_e=Ue.userId)==null?void 0:_e.name)||"Unknown Staff",customerMobile:((rt=Ue.userId)==null?void 0:rt.mobile)||"N/A",date:new Date(Ue.invoiceDate||Ue.createdAt||Date.now()).toLocaleDateString("en-IN"),time:new Date(Ue.invoiceDate||Ue.createdAt||Date.now()).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),branch:Ue.branchName||((Ot=Ue.branchId)==null?void 0:Ot.name)||"Unknown Branch",branchId:((zt=Ue.branchId)==null?void 0:zt._id)||Ue.branchId||null,branchAddress:((Rt=Ue.branchId)==null?void 0:Rt.address)||"Unknown Address",tableNumber:Ue.tableNumber||((Bt=Ue.tableId)==null?void 0:Bt.number)||"N/A",peopleCount:Ue.peopleCount||0,items:((ne=Ue.items)==null?void 0:ne.length)||0,subtotal:Ue.subtotal||0,tax:Ue.tax||0,serviceCharge:Ue.serviceCharge||0,grandTotal:Ue.grandTotal||0,amount:`${(Ue.grandTotal||0).toFixed(2)}`,paymentStatus:Ue.paymentStatus||"completed",paymentMethod:Ue.paymentMethod||"cash",notes:Ue.notes||"",originalInvoice:Ue}});t(Xe)}catch(te){console.error("Error fetching staff invoices:",te),m("Failed to load staff invoices. Please refresh the page and try again.")}finally{h(!1)}},Q=async()=>{try{const te={};if(P!=="all"&&(te.branchId=P),R!=="all"){const Ge=new Date,Xe=new Date;switch(R){case"today":Xe.setHours(0,0,0,0),te.startDate=Xe.toISOString(),te.endDate=Ge.toISOString();break;case"week":Xe.setDate(Ge.getDate()-7),te.startDate=Xe.toISOString(),te.endDate=Ge.toISOString();break;case"month":Xe.setMonth(Ge.getMonth()-1),te.startDate=Xe.toISOString(),te.endDate=Ge.toISOString();break}}const Se=await sj.get("/staff-invoice/statistics",{params:te});v(Se.data.statistics)}catch(te){console.error("Error fetching statistics:",te)}};N.useEffect(()=>{const te=e.filter(Se=>{if(!B.trim())return!0;const Ge=B.trim().toLowerCase();return Se.invoiceId.toLowerCase().includes(Ge)||Se.orderId.toLowerCase().includes(Ge)||Se.customer.toLowerCase().includes(Ge)||Se.tableNumber.toLowerCase().includes(Ge)});s(te),Y(Math.ceil(te.length/z)),he(1)},[e,B]),N.useEffect(()=>{const te=(V-1)*z,Se=te+z,Ge=i.slice(te,Se);a(Ge)},[i,V]);const ae=te=>{const Se=document.createElement("canvas");return Se.width=te.width,Se.height=te.height,Se.getContext("2d").drawImage(te,0,0),Se.toDataURL("image/jpeg")},de=te=>{const Se=window.open("","_blank"),Ge=new Image;Ge.crossOrigin="anonymous",Ge.onload=()=>{var dt,_e;let Xe="";try{Xe=ae(Ge)}catch(rt){console.warn("Could not convert logo to base64:",rt)}const Ue=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${te.invoiceId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .logo { width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 8px; display: block; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin: 10px 0; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .invoice-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${Xe?`<img src="${Xe}" alt="Hotel Virat Logo" class="logo">`:""}
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${te.branchAddress}</div>
            <div class="invoice-title">Tax Invoice</div>
            <div style="font-size: 14px; color: #666;">Invoice No: ${te.invoiceId}</div>
          </div>
          
          <div class="invoice-details">
            <div class="detail-section">
              <h3>Invoice Details</h3>
              <div class="detail-row">
                <span class="detail-label">Invoice ID:</span>
                <span class="detail-value">${te.invoiceId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${te.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${te.date}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${te.time}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Table No:</span>
                <span class="detail-value">${te.tableNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Guests:</span>
                <span class="detail-value">${te.peopleCount}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Staff & Payment Details</h3>
              <div class="detail-row">
                <span class="detail-label">Staff Name:</span>
                <span class="detail-value">${te.customer}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Mobile:</span>
                <span class="detail-value">${te.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${te.branch}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">${te.paymentMethod.toUpperCase()}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Status:</span>
                <span class="detail-value">${te.paymentStatus.toUpperCase()}</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((_e=(dt=te.originalInvoice)==null?void 0:dt.items)==null?void 0:_e.map(rt=>`
                    <tr>
                      <td>${rt.name}</td>
                      <td style="text-align: center;">${rt.quantity}</td>
                      <td style="text-align: right;">${rt.price.toFixed(2)}</td>
                      <td style="text-align: right;">${(rt.price*rt.quantity).toFixed(2)}</td>
                    </tr>
                  `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${te.subtotal.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Tax (5%):</span>
              <span>${te.tax.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Service Charge (10%):</span>
              <span>${te.serviceCharge.toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${te.grandTotal.toFixed(2)}</span>
            </div>
          </div>

          ${te.notes?`
            <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
              <h4 style="margin-bottom: 10px; color: #333;">Notes:</h4>
              <p style="margin: 0;">${te.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;Se.document.write(Ue),Se.document.close(),Se.focus(),setTimeout(()=>{Se.print()},500)},Ge.onerror=()=>{var Ue,dt;console.warn("Could not load logo image, generating PDF without logo");const Xe=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${te.invoiceId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin-bottom: 10px; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .invoice-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${te.branchAddress}</div>
            <div class="invoice-title">Tax Invoice</div>
            <div style="font-size: 14px; color: #666;">Invoice No: ${te.invoiceId}</div>
          </div>
          
          <div class="invoice-details">
            <div class="detail-section">
              <h3>Invoice Details</h3>
              <div class="detail-row">
                <span class="detail-label">Invoice ID:</span>
                <span class="detail-value">${te.invoiceId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${te.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${te.date}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${te.time}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Table No:</span>
                <span class="detail-value">${te.tableNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Guests:</span>
                <span class="detail-value">${te.peopleCount}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Staff & Payment Details</h3>
              <div class="detail-row">
                <span class="detail-label">Staff Name:</span>
                <span class="detail-value">${te.customer}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Mobile:</span>
                <span class="detail-value">${te.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${te.branch}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">${te.paymentMethod.toUpperCase()}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Status:</span>
                <span class="detail-value">${te.paymentStatus.toUpperCase()}</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((dt=(Ue=te.originalInvoice)==null?void 0:Ue.items)==null?void 0:dt.map(_e=>`
                    <tr>
                      <td>${_e.name}</td>
                      <td style="text-align: center;">${_e.quantity}</td>
                      <td style="text-align: right;">${_e.price.toFixed(2)}</td>
                      <td style="text-align: right;">${(_e.price*_e.quantity).toFixed(2)}</td>
                    </tr>
                  `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${te.subtotal.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Tax (5%):</span>
              <span>${te.tax.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Service Charge (10%):</span>
              <span>${te.serviceCharge.toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${te.grandTotal.toFixed(2)}</span>
            </div>
          </div>

          ${te.notes?`
            <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
              <h4 style="margin-bottom: 10px; color: #333;">Notes:</h4>
              <p style="margin: 0;">${te.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;Se.document.write(Xe),Se.document.close(),Se.focus(),setTimeout(()=>{Se.print()},500)},Ge.src=al},xe=te=>{var Xe,Ue,dt,_e,rt,Ot,zt,Rt;const Se=window.open("","_blank","width=302,height=600"),Ge=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice ${te.invoiceId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            max-width: 80mm;
            padding: 5mm;
            font-size: 12px;
            line-height: 1.4;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .hotel-name { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .branch-name { font-size: 12px; margin-bottom: 3px; }
          .invoice-info { margin-bottom: 10px; }
          .invoice-id { font-size: 14px; font-weight: bold; text-align: center; margin: 8px 0; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .info-label { font-weight: bold; }
          .divider { border-top: 1px dashed #000; margin: 8px 0; }
          .items-header { font-weight: bold; margin-bottom: 5px; }
          .item-row { margin-bottom: 5px; }
          .item-name { font-weight: bold; }
          .item-details { display: flex; justify-content: space-between; font-size: 11px; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .grand-total { font-size: 14px; font-weight: bold; border-top: 1px dashed #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 11px; border-top: 1px dashed #000; padding-top: 10px; }
          .thank-you { font-weight: bold; margin-bottom: 5px; }
          @media print { 
            body { width: 80mm; }
            @page { size: 80mm auto; margin: 0; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">HOTEL VIRAT</div>
          <div class="branch-name">${te.branch}</div>
        </div>
        
        <div class="invoice-id">Invoice #${te.invoiceId}</div>
        <div style="text-align: center; font-size: 11px; margin-bottom: 8px;">Order: ${te.orderId}</div>
        
        <div class="invoice-info">
          <div class="info-row">
            <span class="info-label">Date:</span>
            <span>${te.date}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Time:</span>
            <span>${te.time}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Table:</span>
            <span>${te.tableNumber}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Guests:</span>
            <span>${te.peopleCount}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Staff:</span>
            <span>${te.customer}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Mobile:</span>
            <span>${te.customerMobile}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="items-section">
          <div class="items-header">ITEMS</div>
          ${((Ue=(Xe=te.originalInvoice)==null?void 0:Xe.items)==null?void 0:Ue.map(Bt=>`
            <div class="item-row">
              <div class="item-name">${Bt.name}</div>
              <div class="item-details">
                <span>${Bt.quantity} x ${Bt.price.toFixed(2)}</span>
                <span>${(Bt.price*Bt.quantity).toFixed(2)}</span>
              </div>
            </div>
          `).join(""))||"<div>No items</div>"}
        </div>
        
        <div class="divider"></div>
        
        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>${((dt=te.subtotal)==null?void 0:dt.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Tax (5%):</span>
            <span>${((_e=te.tax)==null?void 0:_e.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Service (10%):</span>
            <span>${((rt=te.serviceCharge)==null?void 0:rt.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row grand-total">
            <span>TOTAL:</span>
            <span>${((Ot=te.grandTotal)==null?void 0:Ot.toFixed(2))||"0.00"}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="invoice-info">
          <div class="info-row">
            <span class="info-label">Payment:</span>
            <span>${((zt=te.paymentMethod)==null?void 0:zt.toUpperCase())||"CASH"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Status:</span>
            <span>${((Rt=te.paymentStatus)==null?void 0:Rt.toUpperCase())||"PENDING"}</span>
          </div>
        </div>
        
        <div class="footer">
          <div class="thank-you">Thank You!</div>
          <div>Visit Again</div>
          <div style="margin-top: 5px; font-size: 10px;">${new Date().toLocaleString("en-IN")}</div>
        </div>
      </body>
      </html>
    `;Se.document.write(Ge),Se.document.close(),Se.focus(),setTimeout(()=>{Se.print()},300)},Z=te=>{A(te),b(!0)},ge=()=>{b(!1),A(null)},je=()=>{T(!1)},pe=(te,Se)=>{te==="paymentStatus"?L(Se):te==="paymentMethod"?W(Se):te==="branch"?I(Se):te==="date"&&H(Se),he(1)},Je=te=>{switch(te==null?void 0:te.toLowerCase()){case"card":return n.jsx(Jn,{size:14});case"upi":return n.jsx(ds,{size:14});case"cash":default:return n.jsx(ds,{size:14})}},Ee=()=>{let te=`Invoice ID,Order ID,Staff,Date,Time,Branch,Table,People,Items,Amount,Payment Method,Payment Status
`;i.forEach(Ue=>{te+=`${Ue.invoiceId},${Ue.orderId},${Ue.customer},"${Ue.date}","${Ue.time}","${Ue.branch}",${Ue.tableNumber},${Ue.peopleCount},${Ue.items},${Ue.amount},${Ue.paymentMethod},${Ue.paymentStatus}
`});const Se=new Blob([te],{type:"text/csv"}),Ge=window.URL.createObjectURL(Se),Xe=document.createElement("a");Xe.setAttribute("hidden",""),Xe.setAttribute("href",Ge),Xe.setAttribute("download",`staff-invoices-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(Xe),Xe.click(),document.body.removeChild(Xe)};return n.jsxs("div",{className:"orders-page",children:[k&&n.jsxs("div",{className:"success-message",children:[n.jsx(Rn,{size:16}),n.jsx("span",{children:k}),n.jsx("button",{onClick:()=>D(""),children:n.jsx(Hn,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Staff Invoices"}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-outline",onClick:()=>T(!0),children:[n.jsx(hc,{size:16}),n.jsx("span",{children:"Statistics"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:Ee,children:[n.jsx(ta,{size:16}),n.jsx("span",{children:"Export CSV"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:q,children:[n.jsx(Pi,{size:16}),n.jsx("span",{children:"Refresh"})]})]})]}),g&&n.jsxs("div",{className:"stats-grid",style:{gridTemplateColumns:"repeat(4, 1fr)",marginBottom:"24px"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container orange",children:n.jsx(Sc,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:g.totalInvoices||0}),n.jsx("p",{children:"Total Invoices"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container green",children:n.jsx(Lp,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.totalRevenue||0).toFixed(0)]}),n.jsx("p",{children:"Total Revenue"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container blue",children:n.jsx(hc,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.averageInvoiceValue||0).toFixed(0)]}),n.jsx("p",{children:"Average Value"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container purple",children:n.jsx(Br,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:i.length}),n.jsx("p",{children:"Filtered Results"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search invoices...",className:"search-input",value:B,onChange:te=>F(te.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("button",{className:"btn btn-outline",onClick:()=>C(!E),children:[n.jsx(Mp,{size:16}),n.jsx("span",{children:"Filters"})]})})]}),E&&n.jsx("div",{className:"card",style:{marginBottom:"20px",padding:"20px"},children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Payment Status"}),n.jsxs("select",{className:"form-select",value:M,onChange:te=>pe("paymentStatus",te.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Payment Method"}),n.jsxs("select",{className:"form-select",value:O,onChange:te=>pe("paymentMethod",te.target.value),children:[n.jsx("option",{value:"all",children:"All Methods"}),n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"card",children:"Card"}),n.jsx("option",{value:"upi",children:"UPI"}),n.jsx("option",{value:"netbanking",children:"Net Banking"}),n.jsx("option",{value:"wallet",children:"Wallet"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Branch"}),n.jsxs("select",{className:"form-select",value:P,onChange:te=>pe("branch",te.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(te=>n.jsx("option",{value:te._id,children:te.name},te._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Date Range"}),n.jsxs("select",{className:"form-select",value:R,onChange:te=>pe("date",te.target.value),children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"Last 7 Days"}),n.jsx("option",{value:"month",children:"Last 30 Days"})]})]})]})}),p&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:p})]}),n.jsx("div",{className:"data-card",children:u?n.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx(la,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading staff invoices..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Invoice Details"}),n.jsx("th",{children:"Staff"}),n.jsx("th",{children:"Date & Time"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Table"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Payment"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(te=>{var Se,Ge;return n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:te.invoiceId}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Order: ",te.orderId]})]}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:te.customer}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:te.customerMobile})]}),n.jsxs("td",{children:[n.jsx("div",{children:te.date}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:te.time})]}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:te.branch}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Table ",te.tableNumber,"  ",te.peopleCount," Guests"]})]}),n.jsx("td",{children:te.tableNumber}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"600",color:"#666"},children:te.amount}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:[te.items," Items"]})]}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[Je(te.paymentMethod),n.jsx("span",{style:{fontSize:"12px",textTransform:"capitalize"},children:te.paymentMethod})]})}),n.jsx("td",{children:n.jsx("span",{className:`status-badge ${te.paymentStatus}`,children:((Se=te.paymentStatus)==null?void 0:Se.charAt(0).toUpperCase())+((Ge=te.paymentStatus)==null?void 0:Ge.slice(1))})}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>Z(te),title:"View Details",children:n.jsx(ji,{size:14})}),n.jsx("button",{className:"action-btn edit",onClick:()=>de(te),title:"Download PDF",children:n.jsx(wc,{size:14})})]})})]},te.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"no-orders",children:"No staff invoices found matching your criteria"})})})]})}),U>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>he(te=>Math.max(te-1,1)),disabled:V===1||u,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,U)},(te,Se)=>{let Ge;return U<=5||V<=3?Ge=Se+1:V>=U-2?Ge=U-4+Se:Ge=V-2+Se,n.jsx("button",{className:`pagination-page ${V===Ge?"active":""}`,onClick:()=>he(Ge),disabled:u,children:Ge},Ge)}),U>5&&V<U-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),U>5&&V<U-2&&n.jsx("button",{className:`pagination-page ${V===U?"active":""}`,onClick:()=>he(U),disabled:u,children:U})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>he(te=>Math.min(te+1,U)),disabled:V===U||u,children:"Next"})]}),j&&S&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"800px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Invoice Details - ",S.invoiceId]}),n.jsx("button",{className:"modal-close",onClick:ge,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"10px",color:"#333"},children:"Invoice Information"}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Invoice ID"}),n.jsx("div",{className:"order-detail-value",children:S.invoiceId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Order ID"}),n.jsx("div",{className:"order-detail-value",children:S.orderId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Date & Time"}),n.jsxs("div",{className:"order-detail-value",children:[S.date," ",S.time]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table"}),n.jsx("div",{className:"order-detail-value",children:S.tableNumber})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Guests"}),n.jsx("div",{className:"order-detail-value",children:S.peopleCount})]})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"10px",color:"#333"},children:"Staff & Branch Details"}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Staff Name"}),n.jsx("div",{className:"order-detail-value",children:S.customer})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Mobile"}),n.jsx("div",{className:"order-detail-value",children:S.customerMobile})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:S.branch})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Method"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[Je(S.paymentMethod),n.jsx("span",{style:{textTransform:"capitalize"},children:S.paymentMethod})]})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:`status-badge ${S.paymentStatus}`,children:((Ve=S.paymentStatus)==null?void 0:Ve.charAt(0).toUpperCase())+((le=S.paymentStatus)==null?void 0:le.slice(1))})})]})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((Qe=(Ce=S.originalInvoice)==null?void 0:Ce.items)==null?void 0:Qe.length)>0?S.originalInvoice.items.map((te,Se)=>n.jsxs("tr",{children:[n.jsx("td",{children:te.name}),n.jsx("td",{children:te.quantity}),n.jsxs("td",{children:["",te.price.toFixed(2)]}),n.jsxs("td",{children:["",(te.price*te.quantity).toFixed(2)]})]},Se)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Bill Summary"}),n.jsx("div",{className:"order-items-table",children:n.jsx("table",{className:"data-table",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Subtotal"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((re=S.subtotal)==null?void 0:re.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Tax (5%)"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((ce=S.tax)==null?void 0:ce.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Service Charge (10%)"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((J=S.serviceCharge)==null?void 0:J.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f8f9fa"},children:[n.jsx("td",{children:"Grand Total"}),n.jsxs("td",{style:{textAlign:"right",color:"#ff7e47"},children:["",((oe=S.grandTotal)==null?void 0:oe.toFixed(2))||"0.00"]})]})]})})})]}),S.notes&&n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Notes"}),n.jsx("p",{style:{padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:S.notes})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:ge,children:"Close"}),n.jsxs("button",{className:"btn btn-print",onClick:()=>xe(S),children:[n.jsx(Va,{size:16}),"Print Receipt"]}),n.jsxs("button",{className:"btn btn-outline",onClick:()=>de(S),children:[n.jsx(wc,{size:16}),"Download PDF"]})]})]})}),y&&g&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Invoice Statistics"}),n.jsx("button",{className:"modal-close",onClick:je,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"stats-grid",style:{gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"24px"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container orange",children:n.jsx(Sc,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:g.totalInvoices||0}),n.jsx("p",{children:"Total Invoices"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container green",children:n.jsx(Lp,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.totalRevenue||0).toFixed(2)]}),n.jsx("p",{children:"Total Revenue"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container blue",children:n.jsx(hc,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.averageInvoiceValue||0).toFixed(2)]}),n.jsx("p",{children:"Average Invoice Value"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container purple",children:n.jsx(Br,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:R==="all"?"All Time":R==="today"?"Today":R==="week"?"Last 7 Days":"Last 30 Days"}),n.jsx("p",{children:"Time Period"})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:je,children:"Close"})})]})})]})},DI=Mt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),vae=()=>{var Je,Ee,Ve,le,Ce,Qe;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,h]=N.useState(!0),[p,m]=N.useState(""),[g,v]=N.useState(null),[j,b]=N.useState(!1),[y,T]=N.useState(!1),[E,C]=N.useState(!1),[S,A]=N.useState(null),[k,D]=N.useState(""),[B,F]=N.useState(""),[M,L]=N.useState("all"),[O,W]=N.useState("all"),[P,I]=N.useState(""),[R,H]=N.useState(1),[V,he]=N.useState(1),U=10;N.useEffect(()=>{Y(),ee()},[M,O,P]);const Y=async()=>{try{const re=await DI.get("/branch");d(re.data)}catch(re){console.error("Error fetching branches:",re)}},z=re=>{const ce=new Date(re),J=ce.getFullYear(),oe=String(ce.getMonth()+1).padStart(2,"0"),te=String(ce.getDate()).padStart(2,"0");return`${J}-${oe}-${te}`},ee=async()=>{h(!0),m("");try{const re={};if(M!=="all"&&(re.branchId=M),P.trim()&&(re.customerName=P.trim()),O!=="all"){const te=new Date,Se=new Date;switch(O){case"today":re.startDate=z(te),re.endDate=z(te);break;case"week":Se.setDate(te.getDate()-7),re.startDate=z(Se),re.endDate=z(te);break;case"month":Se.setMonth(te.getMonth()-1),re.startDate=z(Se),re.endDate=z(te);break}}const ce=await DI.get("/counter-bill",{params:re});let J=[];if(ce.data&&ce.data.success&&Array.isArray(ce.data.data))J=ce.data.data;else if(ce.data&&ce.data.bills&&Array.isArray(ce.data.bills))J=ce.data.bills;else if(Array.isArray(ce.data))J=ce.data;else throw console.error(" Unexpected response format:",ce.data),new Error("Invalid response format");const oe=J.map((te,Se)=>{var Ge,Xe,Ue,dt,_e,rt,Ot,zt,Rt;return{id:te.id||`temp-id-${Se}`,billId:`CB-${((Ge=te.id)==null?void 0:Ge.slice(-6))||Se}`,orderId:((Xe=te.order)==null?void 0:Xe.id)||"N/A",invoiceNumber:((Ue=te.invoice)==null?void 0:Ue.invoiceNumber)||"N/A",customer:te.customerName||"Unknown Customer",customerMobile:te.phoneNumber||"N/A",counterUser:((dt=te.userId)==null?void 0:dt.name)||"Unknown Counter",counterMobile:((_e=te.userId)==null?void 0:_e.mobile)||"N/A",date:te.date||new Date().toLocaleDateString("en-IN"),time:te.time||new Date().toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),branch:((rt=te.branch)==null?void 0:rt.name)||"Unknown Branch",branchId:((Ot=te.branch)==null?void 0:Ot.id)||null,branchAddress:((zt=te.branch)==null?void 0:zt.location)||"Unknown Address",items:((Rt=te.items)==null?void 0:Rt.length)||0,subtotal:te.subtotal||0,tax:te.tax||0,serviceCharge:te.serviceCharge||0,totalAmount:te.grandTotal||te.totalAmount||0,amount:`${(te.grandTotal||te.totalAmount||0).toFixed(2)}`,originalBill:te,createdAt:te.createdAt||new Date().toISOString()}});t(oe),q(oe)}catch(re){console.error("Error fetching counter bills:",re),m("Failed to load counter bills. Please refresh the page and try again.")}finally{h(!1)}},q=(re=e)=>{if(re.length===0){v({totalBills:0,totalRevenue:0,averageBillValue:0});return}const ce=re.length,J=re.reduce((te,Se)=>te+Se.totalAmount,0),oe=J/ce;v({totalBills:ce,totalRevenue:J,averageBillValue:oe})};N.useEffect(()=>{const re=e.filter(ce=>{if(!B.trim())return!0;const J=B.trim().toLowerCase();return ce.billId.toLowerCase().includes(J)||ce.orderId.toLowerCase().includes(J)||ce.customer.toLowerCase().includes(J)||ce.customerMobile.includes(B.trim())||ce.invoiceNumber.toLowerCase().includes(J)});s(re),he(Math.ceil(re.length/U)),H(1)},[e,B]),N.useEffect(()=>{const re=(R-1)*U,ce=re+U,J=i.slice(re,ce);a(J)},[i,R]);const Q=re=>{const ce=document.createElement("canvas");return ce.width=re.width,ce.height=re.height,ce.getContext("2d").drawImage(re,0,0),ce.toDataURL("image/jpeg")},ae=re=>{const ce=window.open("","_blank"),J=new Image;J.crossOrigin="anonymous",J.onload=()=>{var Se,Ge;let oe="";try{oe=Q(J)}catch(Xe){console.warn("Could not convert logo to base64:",Xe)}const te=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Counter Bill ${re.billId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .logo { width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 8px; display: block; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin: 10px 0; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .bill-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .bill-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${oe?`<img src="${oe}" alt="Hotel Virat Logo" class="logo">`:""}
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${re.branchAddress}</div>
            <div class="bill-title">Counter Bill</div>
            <div style="font-size: 14px; color: #666;">Bill No: ${re.billId}</div>
          </div>
          
          <div class="bill-details">
            <div class="detail-section">
              <h3>Bill Details</h3>
              <div class="detail-row">
                <span class="detail-label">Bill ID:</span>
                <span class="detail-value">${re.billId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${re.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Invoice No:</span>
                <span class="detail-value">${re.invoiceNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${re.date}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${re.time}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Customer & Counter Details</h3>
              <div class="detail-row">
                <span class="detail-label">Customer Name:</span>
                <span class="detail-value">${re.customer}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Customer Mobile:</span>
                <span class="detail-value">${re.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Counter User:</span>
                <span class="detail-value">${re.counterUser}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${re.branch}</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((Ge=(Se=re.originalBill)==null?void 0:Se.items)==null?void 0:Ge.map(Xe=>`
                    <tr>
                      <td>${Xe.name}</td>
                      <td style="text-align: center;">${Xe.quantity}</td>
                      <td style="text-align: right;">${Xe.price.toFixed(2)}</td>
                      <td style="text-align: right;">${(Xe.price*Xe.quantity).toFixed(2)}</td>
                    </tr>
                  `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${re.subtotal.toFixed(2)}</span>
            </div>
            ${re.tax>0?`
            <div class="total-row">
              <span class="total-label">Tax:</span>
              <span>${re.tax.toFixed(2)}</span>
            </div>
            `:""}
            ${re.serviceCharge>0?`
            <div class="total-row">
              <span class="total-label">Service Charge:</span>
              <span>${re.serviceCharge.toFixed(2)}</span>
            </div>
            `:""}
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${re.totalAmount.toFixed(2)}</span>
            </div>
          </div>

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;ce.document.write(te),ce.document.close(),ce.focus(),setTimeout(()=>{ce.print()},500)},J.onerror=()=>{var te,Se;console.warn("Could not load logo image, generating PDF without logo");const oe=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Counter Bill ${re.billId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin-bottom: 10px; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .bill-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .bill-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${re.branchAddress}</div>
            <div class="bill-title">Counter Bill</div>
            <div style="font-size: 14px; color: #666;">Bill No: ${re.billId}</div>
          </div>
          
          <div class="bill-details">
            <div class="detail-section">
              <h3>Bill Details</h3>
              <div class="detail-row">
                <span class="detail-label">Bill ID:</span>
                <span class="detail-value">${re.billId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${re.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Invoice No:</span>
                <span class="detail-value">${re.invoiceNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${re.date}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${re.time}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Customer & Counter Details</h3>
              <div class="detail-row">
                <span class="detail-label">Customer Name:</span>
                <span class="detail-value">${re.customer}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Customer Mobile:</span>
                <span class="detail-value">${re.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Counter User:</span>
                <span class="detail-value">${re.counterUser}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${re.branch}</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((Se=(te=re.originalBill)==null?void 0:te.items)==null?void 0:Se.map(Ge=>`
                    <tr>
                      <td>${Ge.name}</td>
                      <td style="text-align: center;">${Ge.quantity}</td>
                      <td style="text-align: right;">${Ge.price.toFixed(2)}</td>
                      <td style="text-align: right;">${(Ge.price*Ge.quantity).toFixed(2)}</td>
                    </tr>
                  `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${re.subtotal.toFixed(2)}</span>
            </div>
            ${re.tax>0?`
            <div class="total-row">
              <span class="total-label">Tax:</span>
              <span>${re.tax.toFixed(2)}</span>
            </div>
            `:""}
            ${re.serviceCharge>0?`
            <div class="total-row">
              <span class="total-label">Service Charge:</span>
              <span>${re.serviceCharge.toFixed(2)}</span>
            </div>
            `:""}
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${re.totalAmount.toFixed(2)}</span>
            </div>
          </div>

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;ce.document.write(oe),ce.document.close(),ce.focus(),setTimeout(()=>{ce.print()},500)},J.src=al},de=re=>{var oe,te,Se,Ge,Xe,Ue;const ce=window.open("","_blank","width=302,height=600"),J=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Bill ${re.billId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            max-width: 80mm;
            padding: 5mm;
            font-size: 12px;
            line-height: 1.4;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .hotel-name { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .branch-name { font-size: 12px; margin-bottom: 3px; }
          .bill-info { margin-bottom: 10px; }
          .bill-id { font-size: 14px; font-weight: bold; text-align: center; margin: 8px 0; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .info-label { font-weight: bold; }
          .divider { border-top: 1px dashed #000; margin: 8px 0; }
          .items-header { font-weight: bold; margin-bottom: 5px; }
          .item-row { margin-bottom: 5px; }
          .item-name { font-weight: bold; }
          .item-details { display: flex; justify-content: space-between; font-size: 11px; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .grand-total { font-size: 14px; font-weight: bold; border-top: 1px dashed #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 11px; border-top: 1px dashed #000; padding-top: 10px; }
          .thank-you { font-weight: bold; margin-bottom: 5px; }
          @media print { 
            body { width: 80mm; }
            @page { size: 80mm auto; margin: 0; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">HOTEL VIRAT</div>
          <div class="branch-name">${re.branch}</div>
        </div>
        
        <div class="bill-id">Bill #${re.billId}</div>
        <div style="text-align: center; font-size: 11px; margin-bottom: 8px;">Invoice: ${re.invoiceNumber}</div>
        
        <div class="bill-info">
          <div class="info-row">
            <span class="info-label">Date:</span>
            <span>${re.date}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Time:</span>
            <span>${re.time}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Customer:</span>
            <span>${re.customer}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Mobile:</span>
            <span>${re.customerMobile}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Counter:</span>
            <span>${re.counterUser}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="items-section">
          <div class="items-header">ITEMS</div>
          ${((te=(oe=re.originalBill)==null?void 0:oe.items)==null?void 0:te.map(dt=>`
            <div class="item-row">
              <div class="item-name">${dt.name}</div>
              <div class="item-details">
                <span>${dt.quantity} x ${dt.price.toFixed(2)}</span>
                <span>${(dt.price*dt.quantity).toFixed(2)}</span>
              </div>
            </div>
          `).join(""))||"<div>No items</div>"}
        </div>
        
        <div class="divider"></div>
        
        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>${((Se=re.subtotal)==null?void 0:Se.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Tax:</span>
            <span>${((Ge=re.tax)==null?void 0:Ge.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Service:</span>
            <span>${((Xe=re.serviceCharge)==null?void 0:Xe.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row grand-total">
            <span>TOTAL:</span>
            <span>${((Ue=re.totalAmount)==null?void 0:Ue.toFixed(2))||"0.00"}</span>
          </div>
        </div>
        
        <div class="footer">
          <div class="thank-you">Thank You!</div>
          <div>Visit Again</div>
          <div style="margin-top: 5px; font-size: 10px;">${new Date().toLocaleString("en-IN")}</div>
        </div>
      </body>
      </html>
    `;ce.document.write(J),ce.document.close(),ce.focus(),setTimeout(()=>{ce.print()},300)},xe=re=>{A(re),b(!0)},Z=()=>{b(!1),A(null)},ge=()=>{T(!1)},je=(re,ce)=>{re==="branch"?L(ce):re==="date"?W(ce):re==="customer"&&I(ce),H(1)},pe=()=>{let re=`Bill ID,Order ID,Invoice No,Customer,Mobile,Counter User,Date,Time,Branch,Items,Subtotal,Tax,Service Charge,Total Amount
`;i.forEach(te=>{re+=`${te.billId},${te.orderId},${te.invoiceNumber},"${te.customer}",${te.customerMobile},"${te.counterUser}","${te.date}","${te.time}","${te.branch}",${te.items},${te.subtotal.toFixed(2)},${te.tax.toFixed(2)},${te.serviceCharge.toFixed(2)},${te.totalAmount.toFixed(2)}
`});const ce=new Blob([re],{type:"text/csv"}),J=window.URL.createObjectURL(ce),oe=document.createElement("a");oe.setAttribute("hidden",""),oe.setAttribute("href",J),oe.setAttribute("download",`counter-bills-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(oe),oe.click(),document.body.removeChild(oe)};return n.jsxs("div",{className:"orders-page",children:[k&&n.jsxs("div",{className:"success-message",children:[n.jsx(Rn,{size:16}),n.jsx("span",{children:k}),n.jsx("button",{onClick:()=>D(""),children:n.jsx(Hn,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Counter Bills"}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-outline",onClick:()=>T(!0),children:[n.jsx(hc,{size:16}),n.jsx("span",{children:"Statistics"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:pe,children:[n.jsx(ta,{size:16}),n.jsx("span",{children:"Export CSV"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:ee,children:[n.jsx(Pi,{size:16}),n.jsx("span",{children:"Refresh"})]})]})]}),g&&n.jsxs("div",{className:"stats-grid",style:{gridTemplateColumns:"repeat(4, 1fr)",marginBottom:"24px"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container orange",children:n.jsx(Sc,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:g.totalBills||0}),n.jsx("p",{children:"Total Bills"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container green",children:n.jsx(Lp,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.totalRevenue||0).toFixed(0)]}),n.jsx("p",{children:"Total Revenue"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container blue",children:n.jsx(hc,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.averageBillValue||0).toFixed(0)]}),n.jsx("p",{children:"Average Bill Value"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container purple",children:n.jsx(Br,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:i.length}),n.jsx("p",{children:"Filtered Results"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search bills...",className:"search-input",value:B,onChange:re=>F(re.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("button",{className:"btn btn-outline",onClick:()=>C(!E),children:[n.jsx(Mp,{size:16}),n.jsx("span",{children:"Filters"})]})})]}),E&&n.jsx("div",{className:"card",style:{marginBottom:"20px",padding:"20px"},children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Branch"}),n.jsxs("select",{className:"form-select",value:M,onChange:re=>je("branch",re.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(re=>n.jsx("option",{value:re._id,children:re.name},re._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Customer Name"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"Filter by customer name",value:P,onChange:re=>je("customer",re.target.value)})]})]})}),p&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:p})]}),n.jsx("div",{className:"data-card",children:u?n.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx(la,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading counter bills..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Bill Details"}),n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Counter User"}),n.jsx("th",{children:"Date & Time"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Items"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(re=>n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:re.billId}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Order: ",re.orderId]}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Invoice: ",re.invoiceNumber]})]}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:re.customer}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:re.customerMobile})]}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:re.counterUser}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:re.counterMobile})]}),n.jsxs("td",{children:[n.jsx("div",{children:re.date}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:re.time})]}),n.jsx("td",{children:n.jsx("div",{style:{fontWeight:"500"},children:re.branch})}),n.jsx("td",{children:n.jsxs("div",{style:{fontWeight:"600",color:"#666"},children:[re.items," items"]})}),n.jsx("td",{children:n.jsx("div",{style:{fontWeight:"600",color:"#666"},children:re.amount})}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>xe(re),title:"View Details",children:n.jsx(ji,{size:14})}),n.jsx("button",{className:"action-btn edit",onClick:()=>ae(re),title:"Download PDF",children:n.jsx(wc,{size:14})})]})})]},re.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"no-orders",children:"No counter bills found matching your criteria"})})})]})}),V>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>H(re=>Math.max(re-1,1)),disabled:R===1||u,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,V)},(re,ce)=>{let J;return V<=5||R<=3?J=ce+1:R>=V-2?J=V-4+ce:J=R-2+ce,n.jsx("button",{className:`pagination-page ${R===J?"active":""}`,onClick:()=>H(J),disabled:u,children:J},J)}),V>5&&R<V-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),V>5&&R<V-2&&n.jsx("button",{className:`pagination-page ${R===V?"active":""}`,onClick:()=>H(V),disabled:u,children:V})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>H(re=>Math.min(re+1,V)),disabled:R===V||u,children:"Next"})]}),j&&S&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"800px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Bill Details - ",S.billId]}),n.jsx("button",{className:"modal-close",onClick:Z,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"10px",color:"#333"},children:"Bill Information"}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Bill ID"}),n.jsx("div",{className:"order-detail-value",children:S.billId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Order ID"}),n.jsx("div",{className:"order-detail-value",children:S.orderId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Invoice No"}),n.jsx("div",{className:"order-detail-value",children:S.invoiceNumber})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Date & Time"}),n.jsxs("div",{className:"order-detail-value",children:[S.date," ",S.time]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:S.branch})]})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"10px",color:"#333"},children:"Customer & Counter Details"}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Customer Name"}),n.jsx("div",{className:"order-detail-value",children:S.customer})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Customer Mobile"}),n.jsx("div",{className:"order-detail-value",children:S.customerMobile})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Counter User"}),n.jsx("div",{className:"order-detail-value",children:S.counterUser})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Counter Mobile"}),n.jsx("div",{className:"order-detail-value",children:S.counterMobile})]})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((Ee=(Je=S.originalBill)==null?void 0:Je.items)==null?void 0:Ee.length)>0?S.originalBill.items.map((re,ce)=>n.jsxs("tr",{children:[n.jsx("td",{children:re.name}),n.jsx("td",{children:re.quantity}),n.jsxs("td",{children:["",re.price.toFixed(2)]}),n.jsxs("td",{children:["",(re.price*re.quantity).toFixed(2)]})]},ce)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Bill Summary"}),n.jsx("div",{className:"order-items-table",children:n.jsx("table",{className:"data-table",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Subtotal"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Ve=S.subtotal)==null?void 0:Ve.toFixed(2))||"0.00"]})]}),S.tax>0&&n.jsxs("tr",{children:[n.jsx("td",{children:"Tax"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((le=S.tax)==null?void 0:le.toFixed(2))||"0.00"]})]}),S.serviceCharge>0&&n.jsxs("tr",{children:[n.jsx("td",{children:"Service Charge"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Ce=S.serviceCharge)==null?void 0:Ce.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f8f9fa"},children:[n.jsx("td",{children:"Grand Total"}),n.jsxs("td",{style:{textAlign:"right",color:"#ff7e47"},children:["",((Qe=S.totalAmount)==null?void 0:Qe.toFixed(2))||"0.00"]})]})]})})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:Z,children:"Close"}),n.jsxs("button",{className:"btn btn-print",onClick:()=>de(S),children:[n.jsx(Va,{size:16}),"Print Receipt"]}),n.jsxs("button",{className:"btn btn-outline",onClick:()=>ae(S),children:[n.jsx(wc,{size:16}),"Download PDF"]})]})]})}),y&&g&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Counter Bills Statistics"}),n.jsx("button",{className:"modal-close",onClick:ge,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"stats-grid",style:{gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"24px"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container orange",children:n.jsx(Sc,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:g.totalBills||0}),n.jsx("p",{children:"Total Bills"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container green",children:n.jsx(Lp,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.totalRevenue||0).toFixed(2)]}),n.jsx("p",{children:"Total Revenue"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container blue",children:n.jsx(hc,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.averageBillValue||0).toFixed(2)]}),n.jsx("p",{children:"Average Bill Value"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container purple",children:n.jsx(Br,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:O==="all"?"All Time":O==="today"?"Today":O==="week"?"Last 7 Days":"Last 30 Days"}),n.jsx("p",{children:"Time Period"})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:ge,children:"Close"})})]})})]})},bae=Mt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),jae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(!0),[l,d]=N.useState(""),[u,h]=N.useState(""),[p,m]=N.useState("all"),[g,v]=N.useState("date"),[j,b]=N.useState("desc"),[y,T]=N.useState(1),[E,C]=N.useState(1),S=7,[A,k]=N.useState(null),[D,B]=N.useState(!1);N.useEffect(()=>{F()},[p]),N.useEffect(()=>{M()},[e,u,y,g,j]);const F=async()=>{s(!0),d("");try{const U={};p!=="all"&&(U.orderType=p);const Y=await bae.get("/staff-order",{params:U});let z=[];Y.data&&Y.data.success&&Array.isArray(Y.data.data)?z=Y.data.data:Y.data&&Y.data.orders&&Array.isArray(Y.data.orders)?z=Y.data.orders:Array.isArray(Y.data)?z=Y.data:Y.data&&Y.data.message&&Y.data.message.includes("routes working")?z=[]:(console.error(" Unexpected response format:",Y.data),console.error(" Response keys:",Object.keys(Y.data||{})),console.error(" Response type:",typeof Y.data),z=[]);const ee=z.map(q=>{var Q,ae;return{id:q._id,orderId:q.orderId||"",customer:q.isGuestOrder?q.customerName:((Q=q.userId)==null?void 0:Q.name)||"Unknown Staff",customerType:q.isGuestOrder?"Guest":"Staff",customerMobile:q.isGuestOrder?q.customerMobile:((ae=q.userId)==null?void 0:ae.mobile)||"N/A",date:new Date(q.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),rawDate:new Date(q.createdAt).getTime(),amount:q.grandTotal||0,method:q.paymentMethod||"cash",items:q.items||[],subtotal:q.subtotal||0,tax:q.tax||0,serviceCharge:q.serviceCharge||0,totalAmount:q.totalAmount||0,branchName:q.branchName||"Unknown Branch",tableNumber:q.tableNumber||"N/A",peopleCount:q.peopleCount||1,paymentStatus:q.paymentStatus||"pending",notes:q.notes||"",orderTime:q.orderTime||q.createdAt,isGuestOrder:q.isGuestOrder||!1}});t(ee)}catch(U){console.error("Error fetching payments:",U),d("Failed to load payments. Please try again."),t([])}finally{s(!1)}},M=()=>{let U=[...e];if(u.trim()){const Q=u.toLowerCase();U=U.filter(ae=>(ae.orderId||"").toLowerCase().includes(Q)||(ae.customer||"").toLowerCase().includes(Q)||(ae.branchName||"").toLowerCase().includes(Q)||(ae.tableNumber||"").toLowerCase().includes(Q)||(ae.customerMobile||"").toLowerCase().includes(Q))}U.sort((Q,ae)=>g==="date"?j==="asc"?Q.rawDate-ae.rawDate:ae.rawDate-Q.rawDate:g==="amount"?j==="asc"?Q.amount-ae.amount:ae.amount-Q.amount:0);const Y=Math.ceil(U.length/S);C(Y||1);const z=(y-1)*S,ee=z+S,q=U.slice(z,ee);a(q),y>Y&&Y>0&&T(Y)},L=U=>{g===U?b(j==="asc"?"desc":"asc"):(v(U),b("desc"))},O=(U,Y)=>{m(Y),T(1)},W=U=>{h(U.target.value),T(1)},P=U=>{switch(U){case"card":return n.jsx(Jn,{className:"h-5 w-5"});case"upi":return n.jsx(Lu,{className:"h-5 w-5"});case"cash":return n.jsx("span",{className:"rupees-icon",children:""});case"netbanking":return n.jsx(Jn,{className:"h-5 w-5"});default:return n.jsx(Jn,{className:"h-5 w-5"})}},I=U=>{k(U),B(!0)},R=()=>{B(!1),k(null)},H=U=>{if(U==null)return"";const Y=U.toString();return Y.includes(",")||Y.includes('"')||Y.includes(`
`)?`"${Y.replace(/"/g,'""')}"`:Y},V=()=>{let Y=["Order ID","Customer","Customer Type","Mobile","Branch","Table","Date","Subtotal","Tax","Service Charge","Total","Payment Method","Payment Status"].map(H).join(",")+`
`,z=[...e];if(u.trim()){const de=u.toLowerCase();z=z.filter(xe=>(xe.orderId||"").toLowerCase().includes(de)||(xe.customer||"").toLowerCase().includes(de)||(xe.branchName||"").toLowerCase().includes(de)||(xe.tableNumber||"").toLowerCase().includes(de)||(xe.customerMobile||"").toLowerCase().includes(de))}z.forEach(de=>{const xe=[de.orderId,de.customer,de.customerType,de.customerMobile,de.branchName,de.tableNumber,de.date,`${de.subtotal.toFixed(2)}`,`${de.tax.toFixed(2)}`,`${de.serviceCharge.toFixed(2)}`,`${de.amount.toFixed(2)}`,de.method.charAt(0).toUpperCase()+de.method.slice(1),de.paymentStatus.charAt(0).toUpperCase()+de.paymentStatus.slice(1)];Y+=xe.map(H).join(",")+`
`});const ee="\uFEFF",q=new Blob([ee+Y],{type:"text/csv;charset=utf-8;"}),Q=window.URL.createObjectURL(q),ae=document.createElement("a");ae.setAttribute("hidden",""),ae.setAttribute("href",Q),ae.setAttribute("download",`all-orders-payments-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)},he=()=>{const U=[];if(E<=5)for(let z=1;z<=E;z++)U.push(z);else{U.push(1);let z=Math.max(2,y-1),ee=Math.min(E-1,y+1);y<=3&&(z=2,ee=Math.min(4,E-1)),y>=E-2&&(z=Math.max(2,E-3),ee=E-1),z>2&&U.push("...");for(let q=z;q<=ee;q++)U.push(q);ee<E-1&&U.push("..."),U.push(E)}return U};return n.jsxs("div",{className:"payment-ui",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"All Orders Payment"}),n.jsx("div",{className:"refresh-button",onClick:F,title:"Refresh data",children:n.jsx(Pi,{className:`h-5 w-5 ${i?"animate-spin":""}`})})]}),l&&n.jsx("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("span",{children:l})}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{className:"search-icon"}),n.jsx("input",{type:"text",className:"search-input",placeholder:"Search by order ID, customer name, branch, or table",value:u,onChange:W})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select",value:p,onChange:U=>O("orderType",U.target.value),children:[n.jsx("option",{value:"all",children:"All Orders"}),n.jsx("option",{value:"staff",children:"Staff Orders"}),n.jsx("option",{value:"guest",children:"Guest Orders"})]}),n.jsxs("button",{className:"filter-btn",onClick:V,children:[n.jsx(ta,{className:"h-4 w-4"}),n.jsx("span",{children:"Export"})]})]})]}),n.jsx("div",{className:"data-card",children:n.jsx("div",{className:"card-body",children:i?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading payments..."})]}):r.length===0?n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No payments found matching your search."})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"pagination-info",children:["Showing ",(y-1)*S+1," to"," ",Math.min(y*S,e.length)," of ",e.length," entries"]}),n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Table"}),n.jsx("th",{className:"sortable-header",onClick:()=>L("date"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Date"}),g==="date"&&(j==="asc"?n.jsx(lo,{className:"h-4 w-4"}):n.jsx(oo,{className:"h-4 w-4"}))]})}),n.jsx("th",{className:"sortable-header",onClick:()=>L("amount"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Amount"}),g==="amount"&&(j==="asc"?n.jsx(lo,{className:"h-4 w-4"}):n.jsx(oo,{className:"h-4 w-4"}))]})}),n.jsx("th",{children:"Payment Method"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.map(U=>n.jsxs("tr",{children:[n.jsx("td",{children:U.orderId}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsx("div",{children:U.customer}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:U.customerMobile})]})}),n.jsx("td",{children:n.jsx("span",{className:`customer-type-badge ${U.isGuestOrder?"guest":"staff"}`,children:U.customerType})}),n.jsx("td",{children:U.branchName}),n.jsxs("td",{children:["Table ",U.tableNumber]}),n.jsx("td",{children:U.date}),n.jsxs("td",{children:["",U.amount.toFixed(2)]}),n.jsx("td",{children:n.jsxs("div",{className:"payment-method",children:[P(U.method),n.jsx("span",{className:"payment-method-text",children:U.method.charAt(0).toUpperCase()+U.method.slice(1)})]})}),n.jsx("td",{children:n.jsx("div",{className:"action-buttons",children:n.jsx("button",{className:"action-btn view",onClick:()=>I(U),children:"View"})})})]},U.id))})]})]})})}),n.jsxs("div",{className:"pagination-section",children:[n.jsxs("div",{className:"pagination-info",children:["Showing ",(y-1)*S+1," to"," ",Math.min(y*S,e.length)," of ",e.length," entries"]}),n.jsxs("div",{className:"pagination",children:[n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:y===1,onClick:()=>T(U=>Math.max(U-1,1)),children:[n.jsx(kh,{className:"h-4 w-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"pagination-pages",children:he().map((U,Y)=>U==="..."?n.jsx("span",{className:"pagination-ellipsis",children:"..."},Y):n.jsx("button",{className:`pagination-page ${y===U?"active":""}`,onClick:()=>T(U),children:U},Y))}),n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:y===E,onClick:()=>T(U=>Math.min(U+1,E)),children:[n.jsx("span",{children:"Next"}),n.jsx(Ih,{className:"h-4 w-4"})]})]})]}),D&&A&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h2",{className:"modal-title",children:[A.customerType," Order Payment Details"]}),n.jsx("button",{className:"modal-close",onClick:R,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"payment-details",children:[n.jsxs("div",{className:"payment-info-grid",children:[n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Payment Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Order ID:"}),n.jsx("span",{className:"info-value",children:A.orderId})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Date:"}),n.jsx("span",{className:"info-value",children:A.date})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Branch:"}),n.jsx("span",{className:"info-value",children:A.branchName})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Table:"}),n.jsxs("span",{className:"info-value",children:["Table ",A.tableNumber]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Peoples:"}),n.jsx("span",{className:"info-value",children:n.jsxs("div",{className:"people-count",children:[n.jsx(is,{className:"h-4 w-4"}),A.peopleCount]})})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Subtotal:"}),n.jsxs("span",{className:"info-value",children:["",A.subtotal.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Tax (5%):"}),n.jsxs("span",{className:"info-value",children:["",A.tax.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Service Charge (10%):"}),n.jsxs("span",{className:"info-value",children:["",A.serviceCharge.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Total Amount:"}),n.jsxs("span",{className:"info-value",children:["",A.amount.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Payment Method:"}),n.jsx("span",{className:"info-value",children:n.jsxs("div",{className:"payment-method",children:[P(A.method),n.jsx("span",{className:"payment-method-text",children:A.method.charAt(0).toUpperCase()+A.method.slice(1)})]})})]})]})]}),n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Customer Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Name:"}),n.jsx("span",{className:"info-value",children:A.customer})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Type:"}),n.jsx("span",{className:"info-value",children:n.jsx("span",{className:`customer-type-badge ${A.isGuestOrder?"guest":"staff"}`,children:A.customerType})})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Mobile:"}),n.jsx("span",{className:"info-value",children:A.customerMobile})]}),A.notes&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Notes:"}),n.jsx("span",{className:"info-value",children:A.notes})]})]})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Order Items"}),n.jsxs("table",{className:"order-items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:A.items.map((U,Y)=>n.jsxs("tr",{children:[n.jsx("td",{children:U.name}),n.jsx("td",{children:U.quantity}),n.jsxs("td",{children:["",U.price.toFixed(2)]}),n.jsxs("td",{children:["",(U.quantity*U.price).toFixed(2)]})]},Y))}),n.jsxs("tfoot",{children:[n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Subtotal"}),n.jsxs("td",{className:"total-value",children:["",A.subtotal.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Tax (5%)"}),n.jsxs("td",{className:"total-value",children:["",A.tax.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Service Charge (10%)"}),n.jsxs("td",{className:"total-value",children:["",A.serviceCharge.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Total"}),n.jsxs("td",{className:"total-value",children:["",A.amount.toFixed(2)]})]})]})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:R,children:"Close"})})]})}),n.jsx("style",{children:`
        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 40px;
        }

        .loading-spinner {
          border: 4px solid rgba(0, 0, 0, 0.1);
          border-left-color: var(--primary-color);
          border-radius: 50%;
          width: 30px;
          height: 30px;
          animation: spin 1s linear infinite;
          margin-bottom: 10px;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .refresh-button {
          cursor: pointer;
          padding: 8px;
          border-radius: 50%;
          transition: background-color 0.2s;
        }

        .refresh-button:hover {
          background-color: rgba(0, 0, 0, 0.05);
        }

        .animate-spin {
          animation: spin 1s linear infinite;
        }

        .pagination-info {
          margin-bottom: 10px;
          font-size: 14px;
          color: #666;
        }

        .sortable-header {
          cursor: pointer;
        }

        .sort-header {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .payment-method-text {
          font-size: 14px;
        }

        .rupees-icon {
          display: flex;
          align-items: center;
          font-size: 18px;
          line-height: 1;
        }

        .customer-type-badge {
          display: inline-block;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 500;
          text-transform: uppercase;
        }

        .customer-type-badge.staff {
          background: rgba(59, 130, 246, 0.1);
          color: #3b82f6;
        }

        .customer-type-badge.guest {
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
        }

        .people-count {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .filter-select {
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          background: white;
          min-width: 150px;
          outline: none;
          cursor: pointer;
        }

        .filter-select:focus {
          border-color: #3b82f6;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .payment-details {
          padding: 10px 0;
        }

        .payment-info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }

        @media (max-width: 768px) {
          .payment-info-grid {
            grid-template-columns: 1fr;
          }
        }

        .payment-info-section {
          background-color: var(--bg-light);
          border-radius: var(--radius-md);
          overflow: hidden;
        }

        .payment-info-title {
          font-size: 16px;
          font-weight: 600;
          padding: 12px 16px;
          background-color: var(--bg-white);
          border-bottom: 1px solid var(--border-color);
        }

        .payment-info-content {
          padding: 16px;
        }

        .info-row {
          display: flex;
          margin-bottom: 10px;
        }

        .info-label {
          width: 140px;
          font-weight: 500;
          color: var(--text-light);
        }

        .info-value {
          flex: 1;
          font-weight: 500;
        }

        .order-items-section {
          margin-top: 20px;
        }

        .order-items-table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
        }

        .order-items-table th {
          text-align: left;
          padding: 12px;
          background-color: var(--bg-light);
          font-weight: 500;
          color: var(--text-light);
        }

        .order-items-table td {
          padding: 12px;
          border-bottom: 1px solid var(--border-color);
        }

        .order-items-table tfoot td {
          padding: 12px;
          font-weight: 600;
        }

        .total-label {
          text-align: right;
          font-weight: 600;
        }

        .total-value {
          font-weight: 700;
          color: var(--primary-color);
        }

        .pagination-section {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 16px;
          margin-top: 24px;
        }

        .pagination-info {
          font-size: 14px;
          color: #666;
          text-align: center;
        }

        .pagination {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 8px;
          flex-wrap: wrap;
        }

        .pagination-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 4px;
          padding: 8px 16px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-page {
          padding: 8px 12px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-page.active {
          background-color: var(--primary-color);
          color: white;
          border-color: var(--primary-color);
        }

        .pagination-ellipsis {
          padding: 8px 12px;
          color: var(--text-light);
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }

        .empty-state {
          text-align: center;
          padding: 40px 20px;
          color: #6b7280;
        }
      `})]})},wae=Mt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),Sae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(""),[l,d]=N.useState(1),[u,h]=N.useState(1),[p,m]=N.useState(""),[g,v]=N.useState("date"),[j,b]=N.useState("desc"),[y,T]=N.useState(null),[E,C]=N.useState(!1),S=7;N.useEffect(()=>{(async()=>{a(!0),s("");try{const R={page:l,limit:S};p.trim()&&(R.search=p.trim());const H=await wae.get("/counter-order/orders",{params:R});let V=[];H.data.success&&Array.isArray(H.data.data)?V=H.data.data:H.data.orders&&Array.isArray(H.data.orders)?V=H.data.orders:Array.isArray(H.data)?V=H.data:(console.error(" Unexpected response format:",H.data),V=[]);const he=V.map(Y=>{var z,ee,q,Q,ae,de;return{id:Y.id,orderId:((z=Y.invoice)==null?void 0:z.invoiceNumber)||Y.id,customer:Y.customerName||"Unknown Customer",customerMobile:Y.phoneNumber||"N/A",counterUser:((ee=Y.userId)==null?void 0:ee.name)||"Unknown Counter User",counterMobile:((q=Y.userId)==null?void 0:q.mobile)||"N/A",date:new Date(Y.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),subtotal:Y.subtotal||0,tax:Y.tax||0,serviceCharge:Y.serviceCharge||0,amount:Y.grandTotal||Y.totalAmount||0,method:Y.paymentMethod||"unknown",items:Y.items||[],branchName:((Q=Y.branch)==null?void 0:Q.name)||"Unknown Branch",branchLocation:((ae=Y.branch)==null?void 0:ae.location)||"Unknown Location",invoiceNumber:((de=Y.invoice)==null?void 0:de.invoiceNumber)||"N/A",orderTime:Y.createdAt}});t(he);const U=H.data.count||V.length;h(Math.ceil(U/S))}catch(R){console.error("Error fetching counter payments:",R),s("Failed to load counter payments. Please try again."),t([]),h(1)}finally{a(!1)}})()},[l,p]);const D=[...e.filter(I=>{const R=p.toLowerCase();return(I.orderId||"").toLowerCase().includes(R)||(I.customer||"").toLowerCase().includes(R)||(I.counterUser||"").toLowerCase().includes(R)||(I.branchName||"").toLowerCase().includes(R)||(I.customerMobile||"").toLowerCase().includes(R)})].sort((I,R)=>g==="date"?j==="asc"?new Date(I.date)-new Date(R.date):new Date(R.date)-new Date(I.date):g==="amount"?j==="asc"?I.amount-R.amount:R.amount-I.amount:0).slice(0,S),B=I=>{switch(I){case"card":return n.jsx(Jn,{className:"h-5 w-5"});case"upi":return n.jsx(Lu,{className:"h-5 w-5"});case"cash":return n.jsx("span",{className:"rupees-icon",children:""});case"qr":return n.jsx(Lu,{className:"h-5 w-5"});default:return n.jsx(Jn,{className:"h-5 w-5"})}},F=I=>{T(I),C(!0)},M=()=>{C(!1),T(null)},L=I=>{g===I?b(j==="asc"?"desc":"asc"):(v(I),b("desc"))},O=I=>{if(I==null)return"";const R=I.toString();return R.includes(",")||R.includes('"')||R.includes(`
`)?`"${R.replace(/"/g,'""')}"`:R},W=()=>{let R=["Order ID","Customer Name","Customer Mobile","Counter User","Branch","Date","Subtotal","Tax","Service Charge","Total Amount","Payment Method"].map(O).join(",")+`
`;e.forEach(Y=>{const z=[Y.orderId,Y.customer,Y.customerMobile,Y.counterUser,Y.branchName,Y.date,`${Y.subtotal.toFixed(2)}`,`${Y.tax.toFixed(2)}`,`${Y.serviceCharge.toFixed(2)}`,`${Y.amount.toFixed(2)}`,Y.method.charAt(0).toUpperCase()+Y.method.slice(1)];R+=z.map(O).join(",")+`
`});const H="\uFEFF",V=new Blob([H+R],{type:"text/csv;charset=utf-8;"}),he=window.URL.createObjectURL(V),U=document.createElement("a");U.setAttribute("hidden",""),U.setAttribute("href",he),U.setAttribute("download",`counter-payments-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(U),U.click(),document.body.removeChild(U)},P=()=>{const I=[];if(u<=7)for(let R=1;R<=u;R++)I.push(R);else{I.push(1);let R=Math.max(2,l-2),H=Math.min(u-1,l+2);l<=4&&(H=5),l>=u-3&&(R=u-4),R>2&&I.push("...");for(let V=R;V<=H;V++)I.push(V);H<u-1&&I.push("..."),u>1&&I.push(u)}return I};return n.jsxs("div",{className:"payment-ui",children:[n.jsx("div",{className:"page-header",children:n.jsx("h1",{children:"Counter Payments"})}),i&&n.jsx("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("span",{children:i})}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{className:"search-icon"}),n.jsx("input",{type:"text",className:"search-input",placeholder:"Search by order ID, customer name, counter user, or branch",value:p,onChange:I=>m(I.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("button",{className:"filter-btn",onClick:W,children:[n.jsx(ta,{className:"h-4 w-4"}),n.jsx("span",{children:"Export"})]})})]}),n.jsx("div",{className:"data-card",children:n.jsx("div",{className:"card-body",children:r?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading counter payments..."})]}):D.length===0?n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No counter payments found matching your search."})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Counter User"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{className:"sortable-header",onClick:()=>L("date"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Date"}),g==="date"&&(j==="asc"?n.jsx(lo,{className:"h-4 w-4"}):n.jsx(oo,{className:"h-4 w-4"}))]})}),n.jsx("th",{className:"sortable-header",onClick:()=>L("amount"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Amount"}),g==="amount"&&(j==="asc"?n.jsx(lo,{className:"h-4 w-4"}):n.jsx(oo,{className:"h-4 w-4"}))]})}),n.jsx("th",{children:"Payment Method"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:D.map(I=>n.jsxs("tr",{children:[n.jsx("td",{children:I.orderId}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsx("div",{children:I.customer}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:I.customerMobile})]})}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsx("div",{children:I.counterUser}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:I.counterMobile})]})}),n.jsx("td",{children:I.branchName}),n.jsx("td",{children:I.date}),n.jsxs("td",{children:["",I.amount.toFixed(2)]}),n.jsx("td",{children:n.jsxs("div",{className:"payment-method",children:[B(I.method),n.jsx("span",{className:"payment-method-text",children:I.method.charAt(0).toUpperCase()+I.method.slice(1)})]})}),n.jsx("td",{children:n.jsx("div",{className:"action-buttons",children:n.jsx("button",{className:"action-btn view",onClick:()=>F(I),children:"View"})})})]},I.id))})]})})}),n.jsxs("div",{className:"pagination",children:[n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:l===1,onClick:()=>d(I=>Math.max(I-1,1)),children:[n.jsx(kh,{className:"h-4 w-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"pagination-pages",children:P().map((I,R)=>I==="..."?n.jsx("span",{className:"pagination-ellipsis",children:"..."},R):n.jsx("button",{className:`pagination-page ${l===I?"active":""}`,onClick:()=>d(I),children:I},R))}),n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:l===u,onClick:()=>d(I=>Math.min(I+1,u)),children:[n.jsx("span",{children:"Next"}),n.jsx(Ih,{className:"h-4 w-4"})]})]}),E&&y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{className:"modal-title",children:"Counter Payment Details"}),n.jsx("button",{className:"modal-close",onClick:M,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"payment-details",children:[n.jsxs("div",{className:"payment-info-grid",children:[n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Payment Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Order ID:"}),n.jsx("span",{className:"info-value",children:y.orderId})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Invoice Number:"}),n.jsx("span",{className:"info-value",children:y.invoiceNumber})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Date:"}),n.jsx("span",{className:"info-value",children:y.date})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Branch:"}),n.jsx("span",{className:"info-value",children:y.branchName})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Subtotal:"}),n.jsxs("span",{className:"info-value",children:["",y.subtotal.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Tax:"}),n.jsxs("span",{className:"info-value",children:["",y.tax.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Service Charge:"}),n.jsxs("span",{className:"info-value",children:["",y.serviceCharge.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Total Amount:"}),n.jsxs("span",{className:"info-value",children:["",y.amount.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Payment Method:"}),n.jsx("span",{className:"info-value",children:n.jsxs("div",{className:"payment-method",children:[B(y.method),n.jsx("span",{className:"payment-method-text",children:y.method.charAt(0).toUpperCase()+y.method.slice(1)})]})})]})]})]}),n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Customer & Counter Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Customer Name:"}),n.jsx("span",{className:"info-value",children:y.customer})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Customer Mobile:"}),n.jsx("span",{className:"info-value",children:y.customerMobile})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Counter User:"}),n.jsx("span",{className:"info-value",children:y.counterUser})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Counter Mobile:"}),n.jsx("span",{className:"info-value",children:y.counterMobile})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Branch Location:"}),n.jsx("span",{className:"info-value",children:y.branchLocation})]})]})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Order Items"}),n.jsxs("table",{className:"order-items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:y.items.map((I,R)=>n.jsxs("tr",{children:[n.jsx("td",{children:I.name}),n.jsx("td",{children:I.quantity}),n.jsxs("td",{children:["",I.price.toFixed(2)]}),n.jsxs("td",{children:["",(I.quantity*I.price).toFixed(2)]})]},R))}),n.jsxs("tfoot",{children:[n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Subtotal"}),n.jsxs("td",{className:"total-value",children:["",y.subtotal.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Tax"}),n.jsxs("td",{className:"total-value",children:["",y.tax.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Service Charge"}),n.jsxs("td",{className:"total-value",children:["",y.serviceCharge.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Total"}),n.jsxs("td",{className:"total-value",children:["",y.amount.toFixed(2)]})]})]})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:M,children:"Close"})})]})}),n.jsx("style",{children:`
        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 40px;
        }

        .loading-spinner {
          border: 4px solid rgba(0, 0, 0, 0.1);
          border-left-color: var(--primary-color);
          border-radius: 50%;
          width: 30px;
          height: 30px;
          animation: spin 1s linear infinite;
          margin-bottom: 10px;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        .sortable-header {
          cursor: pointer;
        }

        .sort-header {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .payment-method-text {
          font-size: 14px;
        }

        .rupees-icon {
          display: flex;
          align-items: center;
          font-size: 18px;
          line-height: 1;
        }

        .payment-details {
          padding: 10px 0;
        }

        .payment-info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }

        @media (max-width: 768px) {
          .payment-info-grid {
            grid-template-columns: 1fr;
          }
        }

        .payment-info-section {
          background-color: var(--bg-light);
          border-radius: var(--radius-md);
          overflow: hidden;
        }

        .payment-info-title {
          font-size: 16px;
          font-weight: 600;
          padding: 12px 16px;
          background-color: var(--bg-white);
          border-bottom: 1px solid var(--border-color);
        }

        .payment-info-content {
          padding: 16px;
        }

        .info-row {
          display: flex;
          margin-bottom: 10px;
        }

        .info-label {
          width: 140px;
          font-weight: 500;
          color: var(--text-light);
        }

        .info-value {
          flex: 1;
          font-weight: 500;
        }

        .order-items-section {
          margin-top: 20px;
        }

        .order-items-table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
        }

        .order-items-table th {
          text-align: left;
          padding: 12px;
          background-color: var(--bg-light);
          font-weight: 500;
          color: var(--text-light);
        }

        .order-items-table td {
          padding: 12px;
          border-bottom: 1px solid var(--border-color);
        }

        .order-items-table tfoot td {
          padding: 12px;
          font-weight: 600;
        }

        .total-label {
          text-align: right;
          font-weight: 600;
        }

        .total-value {
          font-weight: 700;
          color: var(--primary-color);
        }

        .pagination-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 4px;
          padding: 8px 16px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-page {
          padding: 8px 12px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-page.active {
          background-color: var(--primary-color);
          color: white;
          border-color: var(--primary-color);
        }

        .pagination-ellipsis {
          padding: 8px 12px;
          color: var(--text-light);
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }
      `})]})},Nae=()=>{var Y;const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(null),[l,d]=N.useState(!1),[u,h]=N.useState(""),[p,m]=N.useState("all"),[g,v]=N.useState(1),[j,b]=N.useState(1),[y,T]=N.useState(!1),[E,C]=N.useState(null),[S,A]=N.useState(1),[k,D]=N.useState(0);N.useEffect(()=>{B()},[g,p,u]);const B=async()=>{try{a(!0);const z=new URLSearchParams({page:g,limit:10,status:p!=="all"?p:"",search:u}),ee=await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission?${z}`);if(!ee.ok)throw new Error(`HTTP error! status: ${ee.status}`);const q=await ee.json();q.success&&q.submissions?(t(q.submissions),b(q.totalPages)):q.success&&Array.isArray(q.data)?(t(q.data),b(Math.ceil(q.count/10))):q.message?(console.log(" Server returning placeholder response:",q.message),t([]),b(1)):(t([]),b(1))}catch{}finally{a(!1)}},F=async z=>{try{const q=await(await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission/${z}/approve`,{method:"PUT",headers:{"Content-Type":"application/json"}})).json();q.success?(B(),alert("Submission approved successfully!")):alert("Error approving submission: "+q.message)}catch(ee){console.error("Error approving submission:",ee),alert("Error approving submission")}},M=async z=>{try{const q=await(await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission/${z}/reject`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejectionReason:"Rejected by admin"})})).json();q.success?(B(),alert("Submission rejected successfully!")):alert("Error rejecting submission: "+q.message)}catch(ee){console.error("Error rejecting submission:",ee),alert("Error rejecting submission")}},L=z=>{console.log("Selected submission:",z),s(z),d(!0)},O=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),W=z=>z.charAt(0).toUpperCase()+z.slice(1).replace(/_/g," "),P=z=>z?z.startsWith("http://")||z.startsWith("https://")?z:`https://hotelvirat.com/api/v1/${z}`:null,I=(z,ee)=>{C({uri:P(z),type:ee}),A(1),D(0),T(!0)},R=()=>{T(!1),C(null),A(1),D(0)},H=()=>{A(z=>Math.min(z+.25,3))},V=()=>{A(z=>Math.max(z-.25,.5))},he=()=>{D(z=>(z+90)%360)},U=z=>z.qrCodeUri||z.paymentImageUri||z.billImageUri;return n.jsxs("div",{children:[n.jsx("div",{className:"page-header",children:n.jsx("h1",{children:"Product Submissions"})}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{className:"search-icon",size:20}),n.jsx("input",{type:"text",placeholder:"Search by user phone or submission ID...",className:"search-input",value:u,onChange:z=>h(z.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("select",{className:"filter-select",value:p,onChange:z=>m(z.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"submitted",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"qr_uploaded",children:"QR Uploaded"}),n.jsx("option",{value:"payment_uploaded",children:"Payment Uploaded"}),n.jsx("option",{value:"bill_uploaded",children:"Bill Uploaded"}),n.jsx("option",{value:"completed",children:"Completed"})]})})]}),n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Submission ID"}),n.jsx("th",{children:"User Phone"}),n.jsx("th",{children:"User Name"}),n.jsx("th",{children:"Products"}),n.jsx("th",{children:"Total Amount"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"Loading submissions..."})}):e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"No submissions found"})}):e.map(z=>{var ee;return n.jsxs("tr",{children:[n.jsx("td",{children:z.submissionId}),n.jsx("td",{children:z.userPhone}),n.jsx("td",{children:((ee=z.userId)==null?void 0:ee.name)||"N/A"}),n.jsxs("td",{children:[z.products.length," items"]}),n.jsxs("td",{children:["",z.totalAmount]}),n.jsx("td",{children:W(z.status)}),n.jsx("td",{children:O(z.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>L(z),children:n.jsx(ji,{size:14})}),z.status==="submitted"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"action-btn edit",onClick:()=>F(z._id),children:n.jsx(Rn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>M(z._id),children:n.jsx(Hn,{size:14})})]})]})})]},z._id)})})]})}),j>1&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",disabled:g===1,onClick:()=>v(g-1),children:"Previous"}),n.jsx("div",{className:"pagination-pages",children:Array.from({length:j},(z,ee)=>ee+1).map(z=>n.jsx("button",{className:`pagination-page ${g===z?"active":""}`,onClick:()=>v(z),children:z},z))}),n.jsx("button",{className:"pagination-btn",disabled:g===j,onClick:()=>v(g+1),children:"Next"})]}),l&&i&&n.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:n.jsxs("div",{className:"modal large-modal",onClick:z=>z.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:["Submission Details - ",i.submissionId]}),n.jsx("button",{className:"modal-close",onClick:()=>d(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"submission-info-grid",children:[n.jsxs("div",{className:"info-card",children:[n.jsx("h4",{children:"Basic Information"}),n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Submission ID:"}),n.jsx("span",{className:"order-detail-value",children:i.submissionId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"User Phone:"}),n.jsx("span",{className:"order-detail-value",children:i.userPhone})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"User Name:"}),n.jsx("span",{className:"order-detail-value",children:((Y=i.userId)==null?void 0:Y.name)||"N/A"})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Status:"}),n.jsx("span",{children:W(i.status)})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Total Amount:"}),n.jsxs("span",{className:"order-detail-value amount",children:["",i.totalAmount]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Date:"}),n.jsx("span",{className:"order-detail-value",children:O(i.createdAt)})]})]})]}),n.jsxs("div",{className:"info-card",children:[n.jsxs("h4",{children:["Products (",i.products.length," items)"]}),n.jsx("div",{className:"products-list",children:i.products.map((z,ee)=>n.jsxs("div",{className:"product-item",children:[n.jsx("div",{className:"product-name",children:z.name}),n.jsxs("div",{className:"product-details",children:[n.jsxs("span",{children:["",z.price,"  ",z.quantity," ",z.unit]}),n.jsxs("span",{className:"product-total",children:["",(z.price*z.quantity).toFixed(2)]})]})]},ee))})]})]}),U(i)&&n.jsxs("div",{className:"images-section",children:[n.jsx("h4",{children:"Uploaded Images"}),n.jsxs("div",{className:"images-grid",children:[i.qrCodeUri&&n.jsxs("div",{className:"image-item",children:[n.jsx("div",{className:"image-header",children:n.jsx("h5",{children:"QR Code"})}),n.jsxs("div",{className:"image-container",children:[n.jsx("img",{src:P(i.qrCodeUri)||"/placeholder.svg",alt:"QR Code",className:"modal-image",onClick:()=>I(i.qrCodeUri,"QR Code")}),n.jsx("div",{className:"image-overlay",children:n.jsx("button",{className:"view-full-btn",onClick:()=>I(i.qrCodeUri,"QR Code"),children:"View Full Size"})})]})]}),i.paymentImageUri&&n.jsxs("div",{className:"image-item",children:[n.jsx("div",{className:"image-header",children:n.jsx("h5",{children:"Payment Confirmation"})}),n.jsxs("div",{className:"image-container",children:[n.jsx("img",{src:P(i.paymentImageUri)||"/placeholder.svg",alt:"Payment",className:"modal-image",onClick:()=>I(i.paymentImageUri,"Payment Confirmation")}),n.jsx("div",{className:"image-overlay",children:n.jsx("button",{className:"view-full-btn",onClick:()=>I(i.paymentImageUri,"Payment Confirmation"),children:"View Full Size"})})]}),i.paymentUploadedAt&&n.jsxs("div",{className:"image-date",children:["Uploaded: ",O(i.paymentUploadedAt)]})]}),i.billImageUri&&n.jsxs("div",{className:"image-item",children:[n.jsx("div",{className:"image-header",children:n.jsx("h5",{children:"Bill Image"})}),n.jsxs("div",{className:"image-container",children:[n.jsx("img",{src:P(i.billImageUri)||"/placeholder.svg",alt:"Bill",className:"modal-image",onClick:()=>I(i.billImageUri,"Bill Image"),onError:z=>{console.log("Bill image failed to load:",i.billImageUri),z.target.style.display="none"}}),n.jsx("div",{className:"image-overlay",children:n.jsx("button",{className:"view-full-btn",onClick:()=>I(i.billImageUri,"Bill Image"),children:"View Full Size"})})]}),i.billUploadedAt&&n.jsxs("div",{className:"image-date",children:["Uploaded: ",O(i.billUploadedAt)]})]})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[i.status==="submitted"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{className:"btn btn-primary",onClick:()=>{F(i._id),d(!1)},children:[n.jsx(Rn,{size:16}),"Approve"]}),n.jsxs("button",{className:"btn btn-outline",onClick:()=>{M(i._id),d(!1)},children:[n.jsx(Hn,{size:16}),"Reject"]})]}),n.jsx("button",{className:"btn btn-outline",onClick:()=>d(!1),children:"Close"})]})]})}),y&&E&&n.jsx("div",{className:"image-viewer-overlay",onClick:R,children:n.jsxs("div",{className:"image-viewer-modal",onClick:z=>z.stopPropagation(),children:[n.jsxs("div",{className:"image-viewer-header",children:[n.jsx("h3",{children:E.type}),n.jsxs("div",{className:"image-viewer-controls",children:[n.jsx("button",{className:"control-btn",onClick:V,title:"Zoom Out",children:n.jsx(c$,{size:20})}),n.jsxs("span",{className:"zoom-level",children:[Math.round(S*100),"%"]}),n.jsx("button",{className:"control-btn",onClick:H,title:"Zoom In",children:n.jsx(o$,{size:20})}),n.jsx("button",{className:"control-btn",onClick:he,title:"Rotate",children:n.jsx($7,{size:20})}),n.jsx("button",{className:"control-btn close-btn",onClick:R,children:""})]})]}),n.jsx("div",{className:"image-viewer-content",children:n.jsx("img",{src:E.uri||"/placeholder.svg",alt:E.type,className:"viewer-image",style:{transform:`scale(${S}) rotate(${k}deg)`,transition:"transform 0.3s ease"},onError:z=>{console.error("Image failed to load:",E.uri),z.target.src="/placeholder.svg?height=400&width=400"}})})]})}),n.jsx("style",{jsx:!0,children:`
        .large-modal {
          width: 90%;
          max-width: 1200px;
          max-height: 90vh;
          overflow-y: auto;
        }

        .submission-info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 30px;
        }

        .info-card {
          background: #f8f9fa;
          padding: 20px;
          border-radius: 8px;
          border: 1px solid #e9ecef;
        }

        .info-card h4 {
          margin: 0 0 15px 0;
          color: #333;
          font-size: 16px;
          font-weight: 600;
          border-bottom: 2px solid #007bff;
          padding-bottom: 8px;
        }

        .products-list {
          max-height: 200px;
          overflow-y: auto;
        }

        .product-item {
          padding: 10px 0;
          border-bottom: 1px solid #e9ecef;
        }

        .product-item:last-child {
          border-bottom: none;
        }

        .product-name {
          font-weight: 600;
          color: #333;
          margin-bottom: 4px;
        }

        .product-details {
          display: flex;
          justify-content: space-between;
          font-size: 14px;
          color: #666;
        }

        .product-total {
          font-weight: 600;
          color: #28a745;
        }

        .amount {
          font-weight: 700;
          color: #28a745;
          font-size: 18px;
        }

        .images-section {
          margin-top: 30px;
          padding-top: 20px;
          border-top: 2px solid #e9ecef;
        }

        .images-section h4 {
          margin: 0 0 20px 0;
          color: #333;
          font-size: 18px;
          font-weight: 600;
        }

        .images-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 25px;
        }

        .image-item {
          background: white;
          border: 1px solid #e9ecef;
          border-radius: 12px;
          overflow: hidden;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
          transition: transform 0.2s, box-shadow 0.2s;
        }

        .image-item:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }

        .image-header {
          padding: 15px;
          background: #f8f9fa;
          border-bottom: 1px solid #e9ecef;
        }

        .image-header h5 {
          margin: 0;
          color: #333;
          font-weight: 600;
          font-size: 16px;
        }

        .image-container {
          position: relative;
          height: 250px;
          overflow: hidden;
        }

        .modal-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          cursor: pointer;
          transition: transform 0.3s;
        }

        .image-overlay {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0,0,0,0.7);
          display: flex;
          align-items: center;
          justify-content: center;
          opacity: 0;
          transition: opacity 0.3s;
        }

        .image-container:hover .image-overlay {
          opacity: 1;
        }

        .image-container:hover .modal-image {
          transform: scale(1.05);
        }

        .view-full-btn {
          background: #007bff;
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: background 0.2s;
        }

        .view-full-btn:hover {
          background: #0056b3;
        }

        .image-date {
          padding: 10px 15px;
          font-size: 12px;
          color: #666;
          background: #f8f9fa;
          border-top: 1px solid #e9ecef;
        }

        /* Image Viewer Styles */
        .image-viewer-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.95);
          z-index: 10000;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .image-viewer-modal {
          width: 95%;
          height: 95%;
          background: white;
          border-radius: 12px;
          display: flex;
          flex-direction: column;
          overflow: hidden;
        }

        .image-viewer-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 15px 20px;
          background: #f8f9fa;
          border-bottom: 1px solid #e9ecef;
        }

        .image-viewer-header h3 {
          margin: 0;
          color: #333;
          font-size: 18px;
          font-weight: 600;
        }

        .image-viewer-controls {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .control-btn {
          background: #007bff;
          color: white;
          border: none;
          padding: 8px 12px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: background 0.2s;
          display: flex;
          align-items: center;
          gap: 5px;
        }

        .control-btn:hover {
          background: #0056b3;
        }

        .close-btn {
          background: #dc3545;
          font-size: 20px;
          font-weight: bold;
          padding: 8px 12px;
        }

        .close-btn:hover {
          background: #c82333;
        }

        .zoom-level {
          color: #666;
          font-size: 14px;
          font-weight: 600;
          min-width: 50px;
          text-align: center;
        }

        .image-viewer-content {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          background: #f8f9fa;
        }

        .viewer-image {
          max-width: 100%;
          max-height: 100%;
          object-fit: contain;
          cursor: grab;
        }

        .viewer-image:active {
          cursor: grabbing;
        }

        @media (max-width: 768px) {
          .large-modal {
            width: 95%;
            margin: 20px auto;
          }

          .submission-info-grid {
            grid-template-columns: 1fr;
          }

          .images-grid {
            grid-template-columns: 1fr;
          }

          .image-viewer-controls {
            flex-wrap: wrap;
            gap: 5px;
          }

          .control-btn {
            padding: 6px 10px;
            font-size: 12px;
          }
        }
      `})]})},Tae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(null),[l,d]=N.useState(!1),[u,h]=N.useState(""),[p,m]=N.useState(1),[g,v]=N.useState(1),[j,b]=N.useState(null),[y,T]=N.useState(null);N.useEffect(()=>{E()},[p,u]);const E=async()=>{try{a(!0);const F=new URLSearchParams({page:p,limit:10,search:u,status:"qr_uploaded"}),M=await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission?${F}`);if(!M.ok)throw new Error(`HTTP error! status: ${M.status}`);const L=await M.json();if(L.success){let O=[];Array.isArray(L.data)?O=L.data:Array.isArray(L.submissions)&&(O=L.submissions),t(O),v(L.totalPages||1)}else console.error("API returned error:",L.message),t([])}catch(F){console.error("Error fetching QR uploads:",F),t([]),v(1)}finally{a(!1)}},C=async(F,M,L)=>{try{T(L);const O=await fetch(F);if(!O.ok)throw new Error("Failed to fetch image");const W=await O.blob(),P=window.URL.createObjectURL(W),I=document.createElement("a");I.href=P,I.download=M,document.body.appendChild(I),I.click(),document.body.removeChild(I),window.URL.revokeObjectURL(P)}catch(O){console.error("Error downloading image:",O),alert("Error downloading image. Please try again.")}finally{T(null)}},S=async(F,M)=>{try{b(F);const L=new FormData;L.append("paymentImage",M);const W=await(await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission/${F}/upload-payment-image`,{method:"POST",body:L})).json();W.success?(E(),alert("Payment Successful! Payment image uploaded successfully!")):alert("Error uploading image: "+W.message)}catch(L){console.error("Error uploading image:",L),alert("Error uploading image")}finally{b(null)}},A=async F=>{try{const L=await(await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission/${F}/complete`,{method:"PUT",headers:{"Content-Type":"application/json"}})).json();L.success?(E(),alert("Order marked as completed!")):alert("Error completing order: "+L.message)}catch(M){console.error("Error completing order:",M),alert("Error completing order")}},k=F=>{s(F),d(!0)},D=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=F=>F.paymentStatus==="successful"&&F.paymentImageUri?n.jsxs("span",{className:"payment-success-badge",children:[n.jsx(ns,{size:16}),"Payment Successful"]}):n.jsx("span",{className:"payment-pending-badge",children:"Payment Pending"});return n.jsxs("div",{children:[n.jsx("div",{className:"page-header",children:n.jsx("h1",{children:"QR Code Uploads"})}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{className:"search-icon",size:20}),n.jsx("input",{type:"text",placeholder:"Search by user phone or submission ID...",className:"search-input",value:u,onChange:F=>h(F.target.value)})]})}),n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Submission ID"}),n.jsx("th",{children:"User Phone"}),n.jsx("th",{children:"User Name"}),n.jsx("th",{children:"Total Amount"}),n.jsx("th",{children:"QR Upload Date"}),n.jsx("th",{children:"QR Image"}),n.jsx("th",{children:"Payment Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"Loading QR uploads..."})}):e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"No QR uploads found"})}):e.map(F=>{var M;return n.jsxs("tr",{children:[n.jsx("td",{children:F.submissionId}),n.jsx("td",{children:F.userPhone}),n.jsx("td",{children:((M=F.userId)==null?void 0:M.name)||"N/A"}),n.jsxs("td",{children:["",F.totalAmount]}),n.jsx("td",{children:D(F.updatedAt)}),n.jsx("td",{children:F.qrCodeUri?n.jsx("img",{src:`${F.qrCodeUri}`,alt:"QR Code",className:"thumbnail-image",style:{cursor:"pointer",maxWidth:"50px",maxHeight:"50px"},onClick:()=>window.open(`${F.qrCodeUri}`,"_blank")}):n.jsx("div",{className:"image-placeholder",children:"No QR"})}),n.jsx("td",{children:B(F)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>k(F),children:n.jsx(ji,{size:14})}),!F.paymentImageUri&&n.jsxs("label",{className:"action-btn edit",style:{cursor:"pointer"},children:[n.jsx(to,{size:14}),n.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:L=>{L.target.files[0]&&S(F._id,L.target.files[0])},disabled:j===F._id})]}),F.paymentImageUri&&F.status!=="completed"&&n.jsx("button",{className:"action-btn view",onClick:()=>A(F._id),children:n.jsx(Rn,{size:14})})]})})]},F._id)})})]})}),g>1&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",disabled:p===1,onClick:()=>m(p-1),children:"Previous"}),n.jsx("div",{className:"pagination-pages",children:Array.from({length:g},(F,M)=>M+1).map(F=>n.jsx("button",{className:`pagination-page ${p===F?"active":""}`,onClick:()=>m(F),children:F},F))}),n.jsx("button",{className:"pagination-btn",disabled:p===g,onClick:()=>m(p+1),children:"Next"})]}),l&&i&&n.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:n.jsxs("div",{className:"modal",onClick:F=>F.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:"QR Upload Details"}),n.jsx("button",{className:"modal-close",onClick:()=>d(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Submission ID:"}),n.jsxs("span",{className:"order-detail-value",children:["#",i.submissionId]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"User Phone:"}),n.jsx("span",{className:"order-detail-value",children:i.userPhone})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Total Amount:"}),n.jsxs("span",{className:"order-detail-value",children:["",i.totalAmount]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"QR Upload Date:"}),n.jsx("span",{className:"order-detail-value",children:D(i.updatedAt)})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Payment Status:"}),n.jsx("span",{className:"order-detail-value",children:B(i)})]})]}),i.qrCodeUri&&n.jsxs("div",{style:{marginTop:"20px"},children:[n.jsx("div",{className:"modal-image-header",children:n.jsx("h4",{children:"QR Code Image"})}),n.jsx("img",{src:`${i.qrCodeUri}`,alt:"QR Code",style:{maxWidth:"100%",height:"auto",borderRadius:"8px"}})]}),i.paymentImageUri&&n.jsxs("div",{style:{marginTop:"20px"},children:[n.jsxs("div",{className:"modal-image-header",children:[n.jsx("h4",{children:"Payment Image"}),n.jsx("button",{className:"download-btn-large",onClick:()=>C(`https://hotelvirat.com/api/v1/${i.paymentImageUri}`,`Payment_${i.submissionId}.jpg`,`modal_payment_${i._id}`),disabled:y===`modal_payment_${i._id}`,children:y===`modal_payment_${i._id}`?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"spinner"}),"Downloading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ta,{size:16}),"Download Payment"]})})]}),n.jsx("img",{src:`${i.paymentImageUri}`,alt:"Payment",style:{maxWidth:"100%",height:"auto",borderRadius:"8px"}}),n.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#d4edda",borderRadius:"5px",color:"#155724"},children:[n.jsx(ns,{size:16,style:{marginRight:"8px"}}),"Payment Successful - Image uploaded on"," ",D(i.paymentUploadedAt||i.updatedAt)]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Products"}),n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Product Name"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Unit"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:i.products.map((F,M)=>n.jsxs("tr",{children:[n.jsx("td",{children:F.name}),n.jsxs("td",{children:["",F.price]}),n.jsx("td",{children:F.quantity}),n.jsx("td",{children:F.unit}),n.jsxs("td",{children:["",(F.price*F.quantity).toFixed(2)]})]},M))})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[!i.paymentImageUri&&n.jsxs("label",{className:"btn btn-primary",style:{cursor:"pointer"},children:[n.jsx(to,{size:16}),"Upload Payment Image",n.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:F=>{F.target.files[0]&&(S(i._id,F.target.files[0]),d(!1))}})]}),i.paymentImageUri&&i.status!=="completed"&&n.jsxs("button",{className:"btn btn-primary",onClick:()=>{A(i._id),d(!1)},children:[n.jsx(Rn,{size:16}),"Mark as Completed"]}),n.jsx("button",{className:"btn btn-outline",onClick:()=>d(!1),children:"Close"})]})]})}),n.jsx("style",{jsx:!0,children:`
        .payment-success-badge {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          background-color: #d4edda;
          color: #155724;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .payment-pending-badge {
          display: inline-flex;
          align-items: center;
          background-color: #fff3cd;
          color: #856404;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .thumbnail-image {
          border-radius: 4px;
          border: 1px solid #ddd;
        }
        
        .image-placeholder {
          padding: 8px;
          background-color: #f8f9fa;
          border-radius: 4px;
          text-align: center;
          font-size: 12px;
          color: #6c757d;
        }

        .download-btn-large {
          background: #ff8c00;
          color: white;
          border: none;
          border-radius: 6px;
          padding: 8px 12px;
          display: flex;
          align-items: center;
          gap: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: all 0.2s ease;
          margin-bottom: 10px;
        }

        .download-btn-large:hover:not(:disabled) {
          background: #e67e00;
        }

        .download-btn-large:disabled {
          background: #6c757d;
          cursor: not-allowed;
        }

        .modal-image-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 10px;
        }

        .modal-image-header h4 {
          margin: 0;
        }

        .spinner {
          width: 12px;
          height: 12px;
          border: 2px solid #ffffff;
          border-top: 2px solid transparent;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},Cae=({user:e,onClose:t,onSave:r,isEditMode:a})=>{const[i,s]=N.useState({name:(e==null?void 0:e.name)||"",phoneNumber:(e==null?void 0:e.phoneNumber)||""}),[l,d]=N.useState(null),[u,h]=N.useState(!1),p=g=>{const{name:v,value:j}=g.target;s({...i,[v]:j}),d(null)},m=async g=>{g.preventDefault(),d(null),h(!0);try{await r(i,e==null?void 0:e.phoneNumber),t()}catch(v){d(v.message||"Failed to save purchase user")}finally{h(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:a?"Edit Purchase User":"Add New Purchase User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:m,children:[n.jsxs("div",{className:"modal-body",children:[l&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626"},children:l}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:p,required:!0,disabled:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"phoneNumber",children:["Phone Number ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"phoneNumber",name:"phoneNumber",className:"form-input",value:i.phoneNumber,onChange:p,required:!0,pattern:"\\d{10}",title:"Please enter a valid 10-digit phone number",disabled:u})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":a?"Update Purchase User":"Add Purchase User"})]})]})]})})},Aae=({user:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e.phoneNumber),t()}catch(l){console.error("Error deleting purchase user:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Purchase User"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Eae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,h]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,T]=N.useState(!1),E="https://hotelvirat.com/api/v1/hotel/purchase-user-auth",C=async()=>{T(!0),b("");try{const L=await fetch(`${E}/all`);if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const O=await L.json();let W=[];if(O&&O.success&&Array.isArray(O.data))W=O.data;else if(O&&O.success&&Array.isArray(O.users))W=O.users;else if(Array.isArray(O))W=O;else if(O&&O.message&&O.message.includes("routes working"))console.log(" Server returning placeholder response:",O.message),W=[];else{console.error("Expected array but got:",O),t([]),b("Invalid data format received from server");return}t(W)}catch(L){console.error("Fetch error:",L),b(`Failed to fetch purchase users: ${L.message}`),t([])}finally{T(!1)}};N.useEffect(()=>{C()},[]);const S=()=>{d(null),s(!0)},A=L=>{d(L),s(!0)},k=L=>{m(L),h(!0)},D=async(L,O)=>{try{const W=O?`${E}/${O}`:`${E}/register`,P=O?"PUT":"POST",I=O?{name:L.name,...L.phoneNumber!==O&&{newPhoneNumber:L.phoneNumber}}:L,R=await fetch(W,{method:P,headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}),H=await R.json();if(!R.ok)throw new Error(H.message||"Failed to save purchase user");v(`Purchase user ${O?"updated":"added"} successfully`),setTimeout(()=>v(""),3e3),await C()}catch(W){throw new Error(W.message)}},B=async L=>{try{const O=await fetch(`${E}/${L}`,{method:"DELETE"}),W=await O.json();if(!O.ok)throw new Error(W.message||"Failed to delete purchase user");v("Purchase user deleted successfully"),setTimeout(()=>v(""),3e3),await C()}catch(O){b(O.message),setTimeout(()=>b(""),3e3)}},F=L=>{if(!L)return"N/A";const O={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(L).toLocaleDateString(void 0,O)},M=e.filter(L=>L.name.toLowerCase().includes(r.toLowerCase())||L.phoneNumber.includes(r));return n.jsxs("div",{className:"purchase-users-page",children:[g&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>v(""),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),j&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),style:{color:"#dc2626"},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Purchase Users"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:S,disabled:y,children:[n.jsx(Zc,{size:16}),n.jsx("span",{children:"Add Purchase User"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search purchase users...",className:"search-input",value:r,onChange:L=>a(L.target.value)})]})}),n.jsx("div",{className:"data-card",children:y?n.jsx("div",{className:"empty-state",children:"Loading purchase users..."}):M.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No purchase users found. ",r?"Try a different search.":"Add a new purchase user to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Phone Number"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:M.map(L=>n.jsxs("tr",{children:[n.jsx("td",{children:L._id.slice(-6)}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:L.name.charAt(0).toUpperCase()}),L.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(Za,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),L.phoneNumber]})}),n.jsx("td",{children:F(L.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>A(L),disabled:y,children:n.jsx(ra,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>k(L),disabled:y,children:n.jsx(fa,{size:14})})]})})]},L._id))})]})}),i&&n.jsx(Cae,{user:l,onClose:()=>s(!1),onSave:D,isEditMode:!!l}),u&&n.jsx(Aae,{user:p,onClose:()=>h(!1),onConfirm:B})]})},RI=(e,t=200)=>`https://api.qrserver.com/v1/create-qr-code/?size=${t}x${t}&data=${encodeURIComponent(e)}`,V2={baseURL:"https://hotelvirat.com/api/v1/hotel",get:async e=>{try{const t=await fetch(`${V2.baseURL}${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error(`API Error for ${e}:`,t),t}}},mS="qr_table_codes",Oae=e=>{try{localStorage.setItem(mS,JSON.stringify({codes:e,timestamp:Date.now()}))}catch(t){console.error("Error saving QR codes to localStorage:",t)}},_ae=()=>{try{const e=localStorage.getItem(mS);if(e){const t=JSON.parse(e);if(Date.now()-t.timestamp<24*60*60*1e3&&t.codes)return t.codes}}catch(e){console.error("Error loading QR codes from localStorage:",e)}return[]},kae=()=>{try{localStorage.removeItem(mS)}catch(e){console.error("Error clearing QR codes from localStorage:",e)}},Iae=()=>{var L;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState([]),[u,h]=N.useState(!0),[p,m]=N.useState(!1),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,T]=N.useState("all");N.useEffect(()=>{E(),C();const O=_ae();O.length>0&&d(O)},[]),N.useEffect(()=>{l.length>0&&Oae(l)},[l]);const E=async()=>{try{h(!0),v("");const O=await V2.get("/branch");t(O),O.length>0&&s(O[0]._id)}catch(O){console.error("Error fetching branches:",O),v("Failed to load branches. Please check your internet connection.")}finally{h(!1)}},C=async()=>{try{const O=await V2.get("/table");let W=[];if(O.data&&O.data.success&&Array.isArray(O.data.data))W=O.data.data;else if(Array.isArray(O.data))W=O.data;else throw console.error(" Unexpected response format:",O.data),new Error("Invalid response format: tables array missing");const P=W.map(I=>{var R,H;return{id:I._id,number:I.number,status:I.status,branchId:((R=I.branchId)==null?void 0:R._id)||I.branchId,branchName:((H=I.branchId)==null?void 0:H.name)||"Unknown Branch",image:I.image,createdAt:new Date(I.createdAt).toLocaleString()}});a(P)}catch(O){console.error("Error fetching tables:",O),v("Failed to load tables.")}},S=async()=>{if(i){m(!0);try{const O=i==="all"?e:e.filter(P=>P._id===i),W=[];for(const P of O){if(l.filter(H=>H.branchId===P._id).length>0){console.log(`QR codes already exist for branch: ${P.name}`);continue}const R=r.filter(H=>H.branchId===P._id);if(R.length===0){const H=`${window.location.origin}/public-menu?branch=${P._id}&name=${encodeURIComponent(P.name)}&table=1`;W.push({id:`${P._id}-default`,branchId:P._id,branchName:P.name,tableNumber:1,url:H,qrCode:RI(H,300),generatedAt:new Date().toISOString()})}else R.forEach(H=>{const V=`${window.location.origin}/public-menu?branch=${P._id}&name=${encodeURIComponent(P.name)}&table=${H.number}`;W.push({id:`${P._id}-${H.number}`,branchId:P._id,branchName:P.name,tableNumber:H.number,tableId:H.id,url:V,qrCode:RI(V,300),generatedAt:new Date().toISOString()})})}W.length>0&&d(P=>[...P,...W])}catch(O){console.error("Error generating QR codes:",O),v("Failed to generate QR codes.")}finally{m(!1)}}},A=()=>{window.confirm("Are you sure you want to clear all generated QR codes? This action cannot be undone.")&&(d([]),kae())},k=async O=>{try{const P=await(await fetch(O.qrCode)).blob(),I=window.URL.createObjectURL(P),R=document.createElement("a");R.href=I,R.download=`${O.branchName.replace(/\s+/g,"-")}-table-${O.tableNumber}-qr.png`,document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(I)}catch(W){console.error("Error downloading QR code:",W),alert("Failed to download QR code. Please try again.")}},D=nn(),B=O=>{try{const W=new URL(O.url),P=`${W.pathname}${W.search}`;D(P)}catch(W){console.error("Invalid URL in previewMenu:",W),alert("Failed to preview menu. Invalid URL.")}},F=l.filter(O=>{const W=!j||O.branchName.toLowerCase().includes(j.toLowerCase())||O.tableNumber.toString().includes(j),P=y==="all"||O.branchId===y;return W&&P}),M=e.filter(O=>l.some(W=>W.branchId===O._id));return u?n.jsx("div",{style:$t.loadingContainer,children:n.jsxs("div",{style:$t.loadingContent,children:[n.jsx("div",{style:$t.spinner}),n.jsx("p",{children:"Loading branches..."})]})}):g&&!e.length?n.jsx("div",{style:$t.errorContainer,children:n.jsxs("div",{style:$t.errorContent,children:[n.jsx(as,{size:48,style:{marginBottom:"16px",opacity:.5}}),n.jsx("h3",{children:"Error Loading Data"}),n.jsx("p",{children:g}),n.jsx("button",{onClick:E,style:$t.retryButton,children:"Retry"})]})}):n.jsxs("div",{style:$t.adminContainer,children:[n.jsxs("div",{style:$t.adminContent,children:[n.jsxs("div",{style:$t.adminHeader,children:[n.jsxs("div",{style:$t.adminHeaderTitle,children:[n.jsx("div",{style:$t.logoContainer,children:n.jsx(as,{size:24,color:"#ff7e47"})}),n.jsxs("div",{children:[n.jsx("h1",{style:$t.adminTitle,children:"Table QR Menu Generator"}),n.jsx("p",{style:$t.adminSubtitle,children:"Generate unique QR codes for each table"})]})]}),n.jsxs("div",{style:$t.controlsContainer,children:[n.jsxs("div",{style:$t.branchSelectContainer,children:[n.jsx("label",{style:$t.label,children:"Select Branch"}),n.jsxs("select",{value:i,onChange:O=>s(O.target.value),style:$t.branchSelect,children:[n.jsx("option",{value:"",children:"Choose a branch..."}),n.jsx("option",{value:"all",children:"All Branches"}),e.map(O=>n.jsx("option",{value:O._id,children:O.name},O._id))]})]}),n.jsxs("div",{style:$t.buttonGroup,children:[n.jsxs("button",{onClick:S,disabled:p||!i,style:{...$t.generateButton,opacity:p||!i?.7:1,cursor:p||!i?"not-allowed":"pointer"},children:[n.jsx(as,{size:16}),p?"Generating...":"Generate QR Codes"]}),l.length>0&&n.jsxs("button",{onClick:A,style:$t.clearButton,children:[n.jsx(fa,{size:16}),"Clear All"]})]})]})]}),l.length>0&&n.jsx("div",{style:$t.statusCard,children:n.jsxs("div",{style:$t.statusContent,children:[n.jsxs("div",{style:$t.statusInfo,children:[n.jsx(as,{size:20,color:"#ff7e47"}),n.jsxs("span",{children:[n.jsx("strong",{children:l.length})," QR code",l.length!==1?"s":""," generated for tables",((L=l[0])==null?void 0:L.generatedAt)&&n.jsxs("span",{style:$t.statusTime,children:["  Generated on ",new Date(l[0].generatedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),n.jsxs("div",{style:$t.statusNote,children:["Branches with QR codes: ",M.map(O=>O.name).join(", ")]})]})}),l.length>0&&n.jsxs("div",{style:$t.filtersBar,children:[n.jsxs("div",{style:$t.searchContainer,children:[n.jsx(lr,{size:18,style:$t.searchIcon}),n.jsx("input",{type:"text",placeholder:"Search QR codes...",style:$t.searchInput,value:j,onChange:O=>b(O.target.value)})]}),n.jsx("div",{style:$t.filterButtons,children:n.jsxs("select",{style:$t.filterSelect,value:y,onChange:O=>T(O.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),M.map(O=>n.jsx("option",{value:O._id,children:O.name},O._id))]})})]}),l.length>0&&n.jsx("div",{style:$t.qrCodesGrid,children:F.map(O=>n.jsxs("div",{style:$t.qrCodeCard,children:[n.jsxs("h3",{style:$t.qrCodeTitle,children:[O.branchName," - Table ",O.tableNumber]}),n.jsx("div",{style:$t.qrCodeImageContainer,children:n.jsx("img",{src:O.qrCode||"/placeholder.svg",alt:`QR Code for ${O.branchName} Table ${O.tableNumber}`,style:$t.qrCodeImage})}),n.jsxs("div",{style:$t.qrCodeActions,children:[n.jsxs("button",{onClick:()=>k(O),style:$t.downloadButton,children:[n.jsx(ta,{size:14}),"Download"]}),n.jsxs("button",{onClick:()=>B(O),style:$t.previewButton,children:[n.jsx(ji,{size:14}),"Preview"]})]}),n.jsx("div",{style:$t.urlDisplay,children:O.url})]},O.id))}),n.jsxs("div",{style:$t.instructionsCard,children:[n.jsx("h3",{style:$t.instructionsTitle,children:"How to use:"}),n.jsxs("ol",{style:$t.instructionsList,children:[n.jsx("li",{children:'Select a branch or choose "All Branches" to generate QR codes'}),n.jsx("li",{children:'Click "Generate QR Codes" to create unique QR codes for each table'}),n.jsx("li",{children:"QR codes are preserved when switching between branches - no need to regenerate"}),n.jsx("li",{children:"Each QR code will show the specific table number when scanned"}),n.jsx("li",{children:"Download the QR code images and print them"}),n.jsx("li",{children:"Place each QR code on its corresponding table"}),n.jsx("li",{children:"When customers scan the QR code, they'll see the menu with the table number displayed"}),n.jsx("li",{children:'Use "Preview" to see how the menu will look to customers'})]})]})]}),n.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},$t={loadingContainer:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa"},loadingContent:{textAlign:"center"},spinner:{width:"40px",height:"40px",border:"4px solid #ff7e47",borderTop:"4px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"},errorContainer:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa"},errorContent:{textAlign:"center",padding:"40px",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},retryButton:{padding:"12px 24px",backgroundColor:"#ff7e47",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"16px"},adminContainer:{minHeight:"100vh",backgroundColor:"#f8f9fa",fontFamily:"Inter, sans-serif",padding:"24px"},adminContent:{maxWidth:"1200px",margin:"0 auto"},adminHeader:{backgroundColor:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},adminHeaderTitle:{display:"flex",alignItems:"center",marginBottom:"20px"},logoContainer:{width:"50px",height:"50px",backgroundColor:"rgba(255, 126, 71, 0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"16px"},adminTitle:{fontSize:"28px",fontWeight:"700",color:"#333",margin:0},adminSubtitle:{color:"#666",margin:0,fontSize:"16px"},controlsContainer:{display:"flex",gap:"16px",alignItems:"end",flexWrap:"wrap"},branchSelectContainer:{flex:"1",minWidth:"200px"},label:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#333"},branchSelect:{width:"100%",padding:"12px 16px",border:"1px solid #e5e5e5",borderRadius:"8px",fontSize:"14px",backgroundColor:"white"},buttonGroup:{display:"flex",gap:"12px",alignItems:"center"},generateButton:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",backgroundColor:"#ff7e47",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},clearButton:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},statusCard:{backgroundColor:"white",borderRadius:"12px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 126, 71, 0.2)"},statusContent:{display:"flex",flexDirection:"column",gap:"8px"},statusInfo:{display:"flex",alignItems:"center",gap:"12px",fontSize:"16px",color:"#333"},statusTime:{color:"#666",fontSize:"14px",fontWeight:"normal"},statusNote:{fontSize:"14px",color:"#666",fontStyle:"italic"},filtersBar:{display:"flex",gap:"16px",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",backgroundColor:"white",borderRadius:"12px",padding:"16px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)"},searchContainer:{position:"relative",flex:"1",minWidth:"200px"},searchIcon:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",pointerEvents:"none"},searchInput:{width:"100%",padding:"10px 10px 10px 40px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",outline:"none"},filterButtons:{display:"flex",gap:"12px"},filterSelect:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",backgroundColor:"white",minWidth:"120px"},qrCodesGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"24px",marginBottom:"24px"},qrCodeCard:{backgroundColor:"white",borderRadius:"12px",padding:"24px",textAlign:"center",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},qrCodeTitle:{fontSize:"20px",fontWeight:"600",marginBottom:"16px",color:"#333"},qrCodeImageContainer:{marginBottom:"20px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px"},qrCodeImage:{width:"250px",height:"250px",border:"1px solid #e5e5e5",borderRadius:"8px"},qrCodeActions:{display:"flex",gap:"12px",justifyContent:"center",marginBottom:"16px"},downloadButton:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",backgroundColor:"#ff7e47",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},previewButton:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",backgroundColor:"white",color:"#ff7e47",border:"1px solid #ff7e47",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},urlDisplay:{padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",fontSize:"12px",color:"#666",wordBreak:"break-all"},instructionsCard:{backgroundColor:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",marginTop:"24px"},instructionsTitle:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#333"},instructionsList:{color:"#666",lineHeight:"1.6",paddingLeft:"20px"}},PI=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(""),[u,h]=N.useState(!0),[p,m]=N.useState(""),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,T]=N.useState(""),[E,C]=N.useState(""),[S,A]=N.useState(""),[k,D]=N.useState(""),[B,F]=N.useState(""),[M,L]=N.useState([]),[O,W]=N.useState(!1),[P,I]=N.useState(!1),[R,H]=N.useState(!1),[V,he]=N.useState(null),[U,Y]=N.useState({name:"",mobile:"",peopleCount:1}),[z,ee]=N.useState(!1),q={baseURL:"https://hotelvirat.com/api/v1/hotel",get:async J=>{try{const oe=await fetch(`${q.baseURL}${J}`);if(!oe.ok)throw new Error(`HTTP error! status: ${oe.status}`);return await oe.json()}catch(oe){throw console.error(`API Error for ${J}:`,oe),oe}},post:async(J,oe)=>{try{const te=await fetch(`${q.baseURL}${J}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});if(!te.ok)throw new Error(`HTTP error! status: ${te.status}`);return await te.json()}catch(te){throw console.error(`API Error for ${J}:`,te),te}}},Q=async(J,oe)=>{try{console.log("Checking table status for branch:",J,"table:",oe);const te=await q.get(`/table?branchId=${J}`);let Se=[];if(te.data&&te.data.success&&Array.isArray(te.data.data))Se=te.data.data;else if(Array.isArray(te.data))Se=te.data;else{console.error(" Unexpected response format:",te.data);return}const Ge=Se.find(Xe=>Xe.number.toString()===oe.toString());if(Ge){if(console.log("Found table:",Ge),A(Ge._id),C(Ge.status),Ge.categoryId){const Xe=typeof Ge.categoryId=="object"?Ge.categoryId._id:Ge.categoryId,Ue=typeof Ge.categoryId=="object"?Ge.categoryId.name:"";D(Xe),F(Ue),console.log("Table category:",Xe,Ue)}return{status:Ge.status,categoryId:Ge.categoryId}}else return console.log("Table not found, assuming available"),C("available"),{status:"available",categoryId:null}}catch(te){return console.error("Error checking table status:",te),C("available"),{status:"available",categoryId:null}}},ae=J=>typeof J.categoryId=="object"&&J.categoryId!==null?J.categoryId._id||J.categoryId.id:J.categoryId,de=J=>{if(typeof J.categoryId=="object"&&J.categoryId!==null)return J.categoryId.name||"Unknown Category";const oe=J.categoryId,te=r.find(Se=>Se._id===oe);return te?te.name:"Unknown Category"},xe=J=>{if(E==="reserved"){alert("This table is currently reserved. Please contact staff for assistance.");return}L(oe=>oe.find(Se=>Se._id===J._id)?oe.map(Se=>Se._id===J._id?{...Se,quantity:Se.quantity+1}:Se):[...oe,{...J,quantity:1}])},Z=J=>{L(oe=>{const te=oe.find(Se=>Se._id===J);return te&&te.quantity>1?oe.map(Se=>Se._id===J?{...Se,quantity:Se.quantity-1}:Se):oe.filter(Se=>Se._id!==J)})},ge=()=>M.reduce((J,oe)=>J+oe.quantity,0),je=()=>{const J=M.reduce((oe,te)=>oe+(te.price||0)*(te.quantity||0),0);return isNaN(J)?0:J},pe=J=>{const oe=M.find(te=>te._id===J);return oe?oe.quantity:0},Je=J=>{const oe=document.createElement("canvas");return oe.width=J.width,oe.height=J.height,oe.getContext("2d").drawImage(J,0,0),oe.toDataURL("image/jpeg")},Ee=J=>{const oe=window.open("","_blank"),te=new Image;te.crossOrigin="anonymous",te.onload=()=>{var Xe;let Se="";try{Se=Je(te)}catch(Ue){console.warn("Could not convert logo to base64:",Ue)}const Ge=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${J.orderId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .logo { width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 8px; display: block; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin: 10px 0; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .invoice-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${Se?`<img src="${Se}" alt="Hotel Virat Logo" class="logo">`:""}
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${J.branchName}</div>
            <div class="invoice-title">Tax Invoice</div>
            <div style="font-size: 14px; color: #666;">Invoice No: ${J.orderId}</div>
          </div>
          
          <div class="invoice-details">
            <div class="detail-section">
              <h3>Invoice Details</h3>
              <div class="detail-row">
                <span class="detail-label">Invoice ID:</span>
                <span class="detail-value">${J.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${J.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${new Date(J.orderTime).toLocaleDateString("en-IN")}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${new Date(J.orderTime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Table No:</span>
                <span class="detail-value">${J.tableNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Guests:</span>
                <span class="detail-value">${J.peopleCount}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Customer & Payment Details</h3>
              <div class="detail-row">
                <span class="detail-label">Customer Name:</span>
                <span class="detail-value">${J.customerName}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Mobile:</span>
                <span class="detail-value">${J.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${J.branchName}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">${J.paymentMethod.toUpperCase()}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order Type:</span>
                <span class="detail-value">GUEST ORDER</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((Xe=J.items)==null?void 0:Xe.map(Ue=>`
                  <tr>
                    <td>${Ue.name}</td>
                    <td style="text-align: center;">${Ue.quantity}</td>
                    <td style="text-align: right;">${(Ue.price||0).toFixed(2)}</td>
                    <td style="text-align: right;">${((Ue.price||0)*Ue.quantity).toFixed(2)}</td>
                  </tr>
                `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${(J.subtotal||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Tax (5%):</span>
              <span>${(J.tax||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Service Charge (10%):</span>
              <span>${(J.serviceCharge||0).toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${(J.grandTotal||0).toFixed(2)}</span>
            </div>
          </div>

          ${J.notes?`
            <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
              <h4 style="margin-bottom: 10px; color: #333;">Notes:</h4>
              <p style="margin: 0;">${J.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;oe.document.write(Ge),oe.document.close(),oe.focus(),setTimeout(()=>{oe.print()},500)},te.onerror=()=>{var Ge;console.warn("Could not load logo image, generating PDF without logo");const Se=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${J.orderId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin-bottom: 10px; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .invoice-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${J.branchName}</div>
            <div class="invoice-title">Tax Invoice</div>
            <div style="font-size: 14px; color: #666;">Invoice No: ${J.orderId}</div>
          </div>
          
          <div class="invoice-details">
            <div class="detail-section">
              <h3>Invoice Details</h3>
              <div class="detail-row">
                <span class="detail-label">Invoice ID:</span>
                <span class="detail-value">${J.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${J.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${new Date(J.orderTime).toLocaleDateString("en-IN")}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${new Date(J.orderTime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Table No:</span>
                <span class="detail-value">${J.tableNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Guests:</span>
                <span class="detail-value">${J.peopleCount}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Customer & Payment Details</h3>
              <div class="detail-row">
                <span class="detail-label">Customer Name:</span>
                <span class="detail-value">${J.customerName}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Mobile:</span>
                <span class="detail-value">${J.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${J.branchName}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">${J.paymentMethod.toUpperCase()}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order Type:</span>
                <span class="detail-value">GUEST ORDER</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((Ge=J.items)==null?void 0:Ge.map(Xe=>`
                  <tr>
                    <td>${Xe.name}</td>
                    <td style="text-align: center;">${Xe.quantity}</td>
                    <td style="text-align: right;">${(Xe.price||0).toFixed(2)}</td>
                    <td style="text-align: right;">${((Xe.price||0)*Xe.quantity).toFixed(2)}</td>
                  </tr>
                `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${(J.subtotal||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Tax (5%):</span>
              <span>${(J.tax||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Service Charge (10%):</span>
              <span>${(J.serviceCharge||0).toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${(J.grandTotal||0).toFixed(2)}</span>
            </div>
          </div>

          ${J.notes?`
            <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
              <h4 style="margin-bottom: 10px; color: #333;">Notes:</h4>
              <p style="margin: 0;">${J.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;oe.document.write(Se),oe.document.close(),oe.focus(),setTimeout(()=>{oe.print()},500)},te.src=al},Ve=J=>{var Se,Ge,Xe,Ue,dt,_e;const oe=window.open("","_blank","width=302,height=600"),te=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Order ${J.orderId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            max-width: 80mm;
            padding: 5mm;
            font-size: 12px;
            line-height: 1.4;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .hotel-name { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .branch-name { font-size: 12px; margin-bottom: 3px; }
          .order-info { margin-bottom: 10px; }
          .order-id { font-size: 14px; font-weight: bold; text-align: center; margin: 8px 0; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .info-label { font-weight: bold; }
          .divider { border-top: 1px dashed #000; margin: 8px 0; }
          .items-header { font-weight: bold; margin-bottom: 5px; }
          .item-row { margin-bottom: 5px; }
          .item-name { font-weight: bold; }
          .item-details { display: flex; justify-content: space-between; font-size: 11px; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .grand-total { font-size: 14px; font-weight: bold; border-top: 1px dashed #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 11px; border-top: 1px dashed #000; padding-top: 10px; }
          .thank-you { font-weight: bold; margin-bottom: 5px; }
          @media print { 
            body { width: 80mm; }
            @page { size: 80mm auto; margin: 0; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">HOTEL VIRAT</div>
          <div class="branch-name">${J.branchName||j}</div>
        </div>
        
        <div class="order-id">Order #${J.orderId}</div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">Date:</span>
            <span>${new Date().toLocaleDateString("en-IN")}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Time:</span>
            <span>${new Date().toLocaleTimeString("en-IN")}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Table:</span>
            <span>${J.tableNumber||y}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Guests:</span>
            <span>${J.peopleCount}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Customer:</span>
            <span>${J.customerName}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Mobile:</span>
            <span>${J.customerMobile}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="items-section">
          <div class="items-header">ITEMS</div>
          ${((Se=J.items)==null?void 0:Se.map(rt=>`
            <div class="item-row">
              <div class="item-name">${rt.name}</div>
              <div class="item-details">
                <span>${rt.quantity} x ${(rt.price||0).toFixed(2)}</span>
                <span>${((rt.price||0)*rt.quantity).toFixed(2)}</span>
              </div>
            </div>
          `).join(""))||"<div>No items</div>"}
        </div>
        
        <div class="divider"></div>
        
        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>${((Ge=J.subtotal)==null?void 0:Ge.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Tax (5%):</span>
            <span>${((Xe=J.tax)==null?void 0:Xe.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Service (10%):</span>
            <span>${((Ue=J.serviceCharge)==null?void 0:Ue.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row grand-total">
            <span>TOTAL:</span>
            <span>${((dt=J.grandTotal)==null?void 0:dt.toFixed(2))||"0.00"}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">Payment:</span>
            <span>${((_e=J.paymentMethod)==null?void 0:_e.toUpperCase())||"CASH"}</span>
          </div>
        </div>
        
        <div class="footer">
          <div class="thank-you">Thank You!</div>
          <div>Visit Again</div>
          <div style="margin-top: 5px; font-size: 10px;">${new Date().toLocaleString("en-IN")}</div>
        </div>
      </body>
      </html>
    `;oe.document.write(te),oe.document.close(),oe.focus(),setTimeout(()=>{oe.print()},300)},le=async()=>{if(E==="reserved"){alert("This table is currently reserved. Please contact staff for assistance.");return}if(!U.name.trim()||!U.mobile.trim()){alert("Please fill in your name and mobile number");return}if(U.mobile.length!==10){alert("Please enter a valid 10-digit mobile number");return}if(M.length===0){alert("Your cart is empty");return}ee(!0);try{const J=je(),oe=J*.05,te=J*.1,Se=J+oe+te,Ge={customerName:U.name.trim(),customerMobile:U.mobile.trim(),branchId:g,branchName:j,categoryId:k||null,categoryName:B||"",tableId:S||null,tableNumber:y,peopleCount:Number.parseInt(U.peopleCount),items:M.map(Ue=>({menuItemId:Ue._id,name:Ue.name,price:Ue.price,quantity:Ue.quantity,image:Ue.image||"",description:Ue.description||"",categoryId:Ue.categoryId||k||null})),subtotal:J,tax:oe,serviceCharge:te,totalAmount:J,grandTotal:Se,paymentMethod:"cash",orderTime:new Date().toISOString(),notes:`Guest order from Table ${y}${B?` - ${B}`:""}`,isGuestOrder:!0};console.log("Placing guest order:",Ge);const Xe=await q.post("/staff-order/create-guest-order-no-stock",Ge);if(Xe.success)he(Ge),H(!0),L([]),I(!1),W(!1),Y({name:"",mobile:"",peopleCount:1}),setTimeout(()=>{H(!1),he(null)},1e4);else throw new Error(Xe.message||"Failed to place order")}catch(J){console.error("Error placing order:",J),alert("Failed to place order. Please try again.")}finally{ee(!1)}},Ce=()=>{V&&Ee(V)},Qe=()=>{V&&Ve(V)},re=e.filter(J=>{const oe=!i||i===""||ae(J)===i,te=!l||J.name.toLowerCase().includes(l.toLowerCase())||J.description&&J.description.toLowerCase().includes(l.toLowerCase());return oe&&te});N.useEffect(()=>{const J=new URLSearchParams(window.location.search),oe=J.get("branch"),te=J.get("name"),Se=J.get("table"),Ge=J.get("category"),Xe=J.get("categoryName");oe&&Se?(v(oe),b(decodeURIComponent(te||"")),T(Se),Q(oe,Se).then(Ue=>{console.log("Table status:",Ue.status);let dt=Ge;!dt&&Ue.categoryId&&(dt=typeof Ue.categoryId=="object"?Ue.categoryId._id:Ue.categoryId),Xe&&F(decodeURIComponent(Xe)),ce(oe,dt)})):(m("Invalid QR code - missing branch or table information"),h(!1))},[]);const ce=async(J,oe=null)=>{try{h(!0),m("");const[te,Se]=await Promise.all([q.get(`/menu?branchId=${J}`),q.get(`/category?branchId=${J}`)]),Ge=_e=>{if(_e.price&&typeof _e.price=="number")return _e.price;if(_e.prices&&typeof _e.prices=="object"){const rt=Object.values(_e.prices);if(rt.length>0){const Ot=parseFloat(rt[0]);if(!isNaN(Ot))return Ot}}return 0};let Xe=te.filter(_e=>_e.isActive!==!1).map(_e=>({..._e,price:Ge(_e)}));if(oe){console.log("Filtering products by table category:",oe),Xe=Xe.filter(rt=>(typeof rt.categoryId=="object"&&rt.categoryId!==null?rt.categoryId._id||rt.categoryId.id:rt.categoryId)===oe);const _e=Se.find(rt=>rt._id===oe);_e&&F(_e.name)}const Ue=[...new Set(Xe.map(_e=>typeof _e.categoryId=="object"&&_e.categoryId!==null?_e.categoryId._id||_e.categoryId.id:_e.categoryId).filter(Boolean))],dt=Se.filter(_e=>Ue.includes(_e._id));t(Xe),a(dt),Xe.length===0&&m(oe?"No menu items found for this category. Please contact staff.":"No menu items available for this branch.")}catch(te){console.error("Error fetching menu:",te),m("Failed to load menu. Please try again.")}finally{h(!1)}};return u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"loading-screen",children:n.jsxs("div",{className:"loading-content",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading menu..."})]})}),n.jsx("style",{jsx:!0,children:`
          .loading-screen {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9fafb;
          }
          .loading-content {
            text-align: center;
          }
          .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #f97316;
            border-top: 3px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
          }
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):p?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"error-screen",children:n.jsxs("div",{className:"error-content",children:[n.jsx(as,{size:48,style:{marginBottom:"16px",opacity:.5}}),n.jsx("h3",{children:"Oops! Something went wrong"}),n.jsx("p",{children:p}),n.jsx("button",{onClick:()=>ce(g,k),className:"retry-btn",children:"Try Again"})]})}),n.jsx("style",{jsx:!0,children:`
          .error-screen {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9fafb;
            padding: 20px;
          }
          .error-content {
            text-align: center;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
          }
          .retry-btn {
            background: #f97316;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 16px;
            font-size: 14px;
            font-weight: 500;
          }
          .retry-btn:hover {
            background: #ea580c;
          }
        `})]}):E==="reserved"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"reserved-screen",children:n.jsxs("div",{className:"reserved-content",children:[n.jsx(Qt,{size:64,color:"#f59e0b",style:{marginBottom:"24px"}}),n.jsx("h2",{children:"Table Currently Reserved"}),n.jsxs("p",{children:["Table ",y," at ",j," is currently reserved."]}),n.jsx("p",{children:"Please contact our staff for assistance or try scanning a different table's QR code."}),n.jsxs("div",{className:"contact-info",children:[n.jsx("p",{children:n.jsx("strong",{children:"Need Help?"})}),n.jsx("p",{children:"Please approach our staff members who will be happy to assist you with seating and ordering."})]})]})}),n.jsx("style",{jsx:!0,children:`
          .reserved-screen {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9fafb;
            padding: 20px;
          }
          .reserved-content {
            text-align: center;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 100%;
            border: 2px solid #f59e0b;
          }
          .reserved-content h2 {
            color: #f59e0b;
            margin-bottom: 16px;
            font-size: 24px;
          }
          .reserved-content p {
            color: #666;
            margin-bottom: 12px;
            line-height: 1.5;
          }
          .contact-info {
            margin-top: 24px;
            padding: 20px;
            background: #fef3c7;
            border-radius: 8px;
            border: 1px solid #f59e0b;
          }
          .contact-info p {
            margin-bottom: 8px;
          }
          .contact-info p:last-child {
            margin-bottom: 0;
          }
        `})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"menu-app",children:[R&&n.jsx("div",{className:"success-overlay",children:n.jsxs("div",{className:"success-message",children:[n.jsx(Rn,{size:48,color:"#10b981"}),n.jsx("h3",{children:"Order Placed Successfully!"}),V&&n.jsxs("div",{className:"invoice-section",children:[n.jsx("p",{className:"invoice-text",children:"Print receipt or download invoice:"}),n.jsxs("div",{className:"invoice-buttons",children:[n.jsxs("button",{className:"print-receipt-btn",onClick:Qe,children:[n.jsx(Va,{size:20}),"Print Receipt"]}),n.jsxs("button",{className:"download-invoice-btn",onClick:Ce,children:[n.jsx(ta,{size:20}),"Download PDF"]})]})]}),n.jsx("button",{className:"close-success-btn",onClick:()=>{H(!1),he(null)},children:"Close"})]})}),n.jsx("header",{className:"header",children:n.jsxs("div",{className:"header-container",children:[n.jsxs("div",{className:"restaurant-info",children:[n.jsx("div",{className:"logo",children:n.jsx(as,{size:20})}),n.jsxs("div",{className:"restaurant-details",children:[n.jsx("h1",{className:"restaurant-name",children:j||"Restaurant"}),n.jsxs("p",{className:"restaurant-tagline",children:["Table ",y,B&&`  ${B}`,"  ","Delicious food, delivered fresh",E&&n.jsxs("span",{className:`table-status ${E}`,children:["  ",E==="available"?"Available":"Reserved"]})]})]})]}),n.jsxs("div",{className:"search-section",children:[n.jsxs("div",{className:"search-box",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search menu items...",value:l,onChange:J=>d(J.target.value),className:"search-input"})]}),n.jsxs("select",{value:i,onChange:J=>s(J.target.value),className:"category-dropdown",children:[n.jsx("option",{value:"",children:"All Categories"}),r.map(J=>n.jsx("option",{value:J._id,children:J.name},J._id))]})]})]})}),M.length>0&&E==="available"&&n.jsxs("button",{className:"floating-cart",onClick:()=>W(!0),children:[n.jsx(Fp,{size:24}),n.jsx("span",{className:"cart-count",children:ge()})]}),n.jsx("main",{className:"main-content",children:n.jsxs("div",{className:"content-container",children:[n.jsx("div",{className:"table-info-banner",children:n.jsxs("div",{className:"table-info-content",children:[n.jsx(as,{size:24,color:"#ff7e47"}),n.jsxs("div",{className:"table-info-text",children:[n.jsxs("h3",{className:"table-info-title",children:["Table ",y]}),n.jsxs("p",{className:"table-info-subtitle",children:[j,E&&n.jsx("span",{className:`status-badge ${E}`,children:E==="available"?"Available":"Reserved"})]})]})]})}),n.jsx("div",{className:"results-info",children:n.jsxs("p",{children:[re.length," item",re.length!==1?"s":""," found",i&&r.find(J=>J._id===i)&&` in ${r.find(J=>J._id===i).name}`,l&&` for "${l}"`]})}),re.length>0?n.jsx("div",{className:"menu-grid",children:re.map(J=>n.jsxs("div",{className:"menu-card",children:[n.jsx("div",{className:"card-image",children:n.jsx("img",{src:J.image||"/placeholder.svg",alt:J.name,onError:oe=>{oe.target.src="/placeholder.svg?height=200&width=300"}})}),n.jsxs("div",{className:"card-content",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h3",{className:"product-name",children:J.name}),n.jsxs("span",{className:"product-price",children:["",(J.price||0).toFixed(2)]})]}),n.jsx("div",{className:"category-tag",children:de(J)}),J.description&&n.jsx("p",{className:"product-description",children:J.description}),E==="available"&&n.jsx("div",{className:"cart-controls",children:pe(J._id)===0?n.jsxs("button",{className:"add-to-cart-btn",onClick:()=>xe(J),children:[n.jsx(Ka,{size:16}),"Add to Cart"]}):n.jsxs("div",{className:"quantity-controls",children:[n.jsx("button",{className:"quantity-btn",onClick:()=>Z(J._id),children:n.jsx(kA,{size:16})}),n.jsx("span",{className:"quantity",children:pe(J._id)}),n.jsx("button",{className:"quantity-btn",onClick:()=>xe(J),children:n.jsx(Ka,{size:16})})]})}),E==="reserved"&&n.jsxs("div",{className:"reserved-message",children:[n.jsx(Qt,{size:16}),n.jsx("span",{children:"Table Reserved - Contact Staff"})]})]})]},J._id))}):n.jsxs("div",{className:"empty-state",children:[n.jsx(as,{size:48,style:{opacity:.3,marginBottom:"16px"}}),n.jsx("h3",{children:"No items found"}),n.jsx("p",{children:l||i?"Try adjusting your search or filter criteria":"No menu items available for this branch"}),(l||i)&&n.jsx("button",{onClick:()=>{d(""),s("")},className:"clear-filters",children:"Clear Filters"})]})]})}),O&&E==="available"&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"cart-modal",children:[n.jsxs("div",{className:"cart-header",children:[n.jsx("h3",{children:"Your Order"}),n.jsx("button",{className:"close-btn",onClick:()=>W(!1),children:n.jsx(Hn,{size:24})})]}),n.jsx("div",{className:"cart-content",children:M.length===0?n.jsxs("div",{className:"empty-cart",children:[n.jsx(Fp,{size:48,style:{opacity:.3}}),n.jsx("p",{children:"Your cart is empty"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"cart-items",children:M.map(J=>n.jsxs("div",{className:"cart-item",children:[n.jsx("img",{src:J.image||"/placeholder.svg",alt:J.name,className:"cart-item-image"}),n.jsxs("div",{className:"cart-item-details",children:[n.jsx("h4",{children:J.name}),n.jsxs("p",{children:["",(J.price||0).toFixed(2)," each"]})]}),n.jsxs("div",{className:"cart-item-controls",children:[n.jsx("button",{onClick:()=>Z(J._id),children:n.jsx(kA,{size:16})}),n.jsx("span",{children:J.quantity}),n.jsx("button",{onClick:()=>xe(J),children:n.jsx(Ka,{size:16})})]}),n.jsxs("div",{className:"cart-item-total",children:["",((J.price||0)*J.quantity).toFixed(2)]})]},J._id))}),n.jsxs("div",{className:"cart-summary",children:[n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",je().toFixed(2)]})]}),n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Tax (5%):"}),n.jsxs("span",{children:["",(je()*.05).toFixed(2)]})]}),n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Service Charge (10%):"}),n.jsxs("span",{children:["",(je()*.1).toFixed(2)]})]}),n.jsxs("div",{className:"summary-row total",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",(je()*1.15).toFixed(2)]})]})]})]})}),M.length>0&&n.jsx("div",{className:"cart-footer",children:n.jsx("button",{className:"checkout-btn",onClick:()=>{W(!1),I(!0)},children:"Proceed to Checkout"})})]})}),P&&E==="available"&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"checkout-modal",children:[n.jsxs("div",{className:"checkout-header",children:[n.jsx("h3",{children:"Order Details"}),n.jsx("button",{className:"close-btn",onClick:()=>I(!1),children:n.jsx(Hn,{size:24})})]}),n.jsxs("div",{className:"checkout-content",children:[n.jsxs("div",{className:"customer-details",children:[n.jsx("h4",{children:"Customer Information"}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[n.jsx(Qo,{size:16}),"Full Name *"]}),n.jsx("input",{type:"text",value:U.name,onChange:J=>Y({...U,name:J.target.value}),placeholder:"Enter your full name",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[n.jsx(Za,{size:16}),"Mobile Number *"]}),n.jsx("input",{type:"tel",value:U.mobile,onChange:J=>Y({...U,mobile:J.target.value}),placeholder:"Enter 10-digit mobile number",maxLength:"10",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[n.jsx(is,{size:16}),"Number of People"]}),n.jsx("select",{value:U.peopleCount,onChange:J=>Y({...U,peopleCount:J.target.value}),children:[1,2,3,4,5,6,7,8,9,10].map(J=>n.jsx("option",{value:J,children:J},J))})]})]}),n.jsxs("div",{className:"order-summary",children:[n.jsx("h4",{children:"Order Summary"}),n.jsx("div",{className:"summary-items",children:M.map(J=>n.jsxs("div",{className:"summary-item",children:[n.jsxs("span",{children:[J.name," x ",J.quantity]}),n.jsxs("span",{children:["",((J.price||0)*J.quantity).toFixed(2)]})]},J._id))}),n.jsxs("div",{className:"summary-totals",children:[n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",je().toFixed(2)]})]}),n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Tax (5%):"}),n.jsxs("span",{children:["",(je()*.05).toFixed(2)]})]}),n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Service Charge (10%):"}),n.jsxs("span",{children:["",(je()*.1).toFixed(2)]})]}),n.jsxs("div",{className:"summary-row total",children:[n.jsx("span",{children:"Total Amount:"}),n.jsxs("span",{children:["",(je()*1.15).toFixed(2)]})]})]})]}),n.jsx("div",{className:"payment-info",children:n.jsxs("div",{className:"payment-method",children:[n.jsx(Jn,{size:16}),n.jsx("span",{children:"Payment: Cash (Pay at table)"})]})})]}),n.jsx("div",{className:"checkout-footer",children:n.jsx("button",{className:"place-order-btn",onClick:le,disabled:z||!U.name.trim()||!U.mobile.trim(),children:z?"Placing Order...":"Place Order"})})]})})]}),n.jsx("style",{jsx:!0,global:!0,children:`
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        html,
        body {
          height: 100%;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: #f9fafb;
          overflow-x: hidden;
        }

        .menu-app {
          display: flex;
          flex-direction: column;
          height: 100vh;
          position: relative;
        }

        /* Success Overlay */
        .success-overlay {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          width: 100vw !important;
          height: 100vh !important;
          background: rgba(0, 0, 0, 0.8) !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          z-index: 9999 !important;
          padding: 20px !important;
          box-sizing: border-box !important;
        }

        .success-message {
          position: relative !important;
          background: white !important;
          padding: 40px !important;
          border-radius: 16px !important;
          text-align: center !important;
          width: 100% !important;
          max-width: 420px !important;
          min-width: 300px !important;
          margin: 0 auto !important;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
          border: 2px solid #10b981 !important;
          transform: scale(1) !important;
          animation: successSlideIn 0.3s ease-out !important;
        }

        @keyframes successSlideIn {
          0% {
            opacity: 0;
            transform: scale(0.9) translateY(-20px);
          }
          100% {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }

        .success-message h3 {
          color: #10b981 !important;
          margin: 16px 0 8px !important;
          font-size: 24px !important;
          font-weight: 700 !important;
        }

        .success-message p {
          color: #666 !important;
          line-height: 1.5 !important;
          margin-bottom: 20px !important;
          font-size: 16px !important;
        }

        .invoice-section {
          margin: 20px 0 !important;
          padding: 20px !important;
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%) !important;
          border-radius: 12px !important;
          border: 1px solid #e9ecef !important;
        }

        .invoice-text {
          color: #495057 !important;
          font-size: 14px !important;
          margin-bottom: 12px !important;
          font-weight: 500 !important;
        }

        .invoice-buttons {
          display: flex !important;
          gap: 10px !important;
          width: 100% !important;
        }

        .print-receipt-btn {
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 8px !important;
          flex: 1 !important;
          padding: 14px 16px !important;
          background: linear-gradient(135deg, #059669 0%, #047857 100%) !important;
          color: white !important;
          border: none !important;
          border-radius: 10px !important;
          font-size: 14px !important;
          font-weight: 600 !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3) !important;
        }

        .print-receipt-btn:hover {
          background: linear-gradient(135deg, #047857 0%, #065f46 100%) !important;
          transform: translateY(-1px) !important;
          box-shadow: 0 6px 16px rgba(5, 150, 105, 0.4) !important;
        }

        .download-invoice-btn {
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 8px !important;
          flex: 1 !important;
          padding: 14px 16px !important;
          background: linear-gradient(135deg, #f97316 0%, #ea580c 100%) !important;
          color: white !important;
          border: none !important;
          border-radius: 10px !important;
          font-size: 14px !important;
          font-weight: 600 !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3) !important;
        }

        .download-invoice-btn:hover {
          background: linear-gradient(135deg, #ea580c 0%, #dc2626 100%) !important;
          transform: translateY(-1px) !important;
          box-shadow: 0 6px 16px rgba(249, 115, 22, 0.4) !important;
        }

        .close-success-btn {
          margin-top: 20px !important;
          padding: 12px 24px !important;
          background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%) !important;
          color: white !important;
          border: none !important;
          border-radius: 8px !important;
          cursor: pointer !important;
          font-size: 14px !important;
          font-weight: 500 !important;
          transition: all 0.2s ease !important;
        }

        .close-success-btn:hover {
          background: linear-gradient(135deg, #4b5563 0%, #374151 100%) !important;
          transform: translateY(-1px) !important;
        }

        /* Mobile Responsive for Success Message */
        @media (max-width: 640px) {
          .success-overlay {
            padding: 15px !important;
          }
          
          .success-message {
            padding: 30px 20px !important;
            max-width: 95vw !important;
            min-width: 280px !important;
          }
          
          .success-message h3 {
            font-size: 20px !important;
          }
          
          .success-message p {
            font-size: 14px !important;
          }
          
          .download-invoice-btn {
            padding: 12px 16px !important;
            font-size: 13px !important;
          }
        }

        /* Tablet Responsive for Success Message */
        @media (min-width: 641px) and (max-width: 1024px) {
          .success-message {
            max-width: 400px !important;
            padding: 35px !important;
          }
        }

        /* Header - Fixed */
        .header {
          background: white;
          border-bottom: 1px solid #e5e7eb;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          flex-shrink: 0;
          z-index: 10;
        }

        .header-container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 20px;
        }

        .restaurant-info {
          display: flex;
          align-items: center;
          margin-bottom: 20px;
        }

        .logo {
          width: 40px;
          height: 40px;
          background: rgba(249, 115, 22, 0.1);
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-right: 12px;
          color: #f97316;
        }

        .restaurant-name {
          font-size: 24px;
          font-weight: 700;
          color: #111827;
          margin-bottom: 4px;
        }

        .restaurant-tagline {
          color: #6b7280;
          font-size: 14px;
        }

        /* NEW: Table status styling */
        .table-status.available {
          color: #10b981;
          font-weight: 600;
        }

        .table-status.reserved {
          color: #f59e0b;
          font-weight: 600;
        }

        .status-badge {
          display: inline-block;
          padding: 2px 8px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
          margin-left: 8px;
        }

        .status-badge.available {
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
        }

        .status-badge.reserved {
          background: rgba(245, 158, 11, 0.1);
          color: #f59e0b;
        }

        .search-section {
          display: flex;
          gap: 16px;
          align-items: center;
        }

        .search-box {
          position: relative;
          flex: 1;
        }

        .search-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
          pointer-events: none;
        }

        .search-input {
          width: 100%;
          padding: 12px 12px 12px 40px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          outline: none;
          background: white;
        }

        .search-input:focus {
          border-color: #f97316;
          box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        .category-dropdown {
          padding: 12px 16px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          background: white;
          min-width: 150px;
          outline: none;
          cursor: pointer;
        }

        .category-dropdown:focus {
          border-color: #f97316;
          box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        /* Floating Cart Button */
        .floating-cart {
          position: fixed;
          bottom: 20px;
          right: 20px;
          width: 60px;
          height: 60px;
          background: #f97316;
          color: white;
          border: none;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
          cursor: pointer;
          z-index: 100;
          transition: transform 0.2s ease;
        }

        .floating-cart:hover {
          transform: scale(1.1);
        }

        .cart-count {
          position: absolute;
          top: -5px;
          right: -5px;
          background: #dc2626;
          color: white;
          border-radius: 50%;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 12px;
          font-weight: bold;
        }

        /* Main Content - Scrollable */
        .main-content {
          flex: 1;
          overflow-y: auto;
          -webkit-overflow-scrolling: touch;
        }

        .content-container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 20px;
        }

        /* Table Info Banner */
        .table-info-banner {
          background: rgba(255, 126, 71, 0.1);
          border: 1px solid rgba(255, 126, 71, 0.2);
          border-radius: 12px;
          padding: 16px 20px;
          margin-bottom: 24px;
        }

        .table-info-content {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .table-info-text {
          display: flex;
          flex-direction: column;
        }

        .table-info-title {
          font-size: 18px;
          font-weight: 600;
          color: #ff7e47;
          margin: 0;
        }

        .table-info-subtitle {
          font-size: 14px;
          color: #666;
          margin: 0;
        }

        .results-info {
          text-align: center;
          margin-bottom: 30px;
          color: #6b7280;
          font-size: 14px;
          font-weight: 500;
        }

        /* Menu Grid */
        .menu-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
          gap: 20px;
          margin-bottom: 40px;
        }

        .menu-card {
          background: white;
          border-radius: 12px;
          overflow: hidden;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .menu-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .card-image {
          width: 100%;
          height: 200px;
          overflow: hidden;
        }

        .card-image img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          transition: transform 0.3s ease;
        }

        .menu-card:hover .card-image img {
          transform: scale(1.05);
        }

        .card-content {
          padding: 16px;
        }

        .card-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 8px;
          gap: 10px;
        }

        .product-name {
          font-size: 16px;
          font-weight: 600;
          color: #111827;
          flex: 1;
          line-height: 1.3;
        }

        .product-price {
          font-size: 16px;
          font-weight: 700;
          color: #f97316;
          flex-shrink: 0;
        }

        .category-tag {
          display: inline-block;
          background: rgba(249, 115, 22, 0.1);
          color: #f97316;
          font-size: 11px;
          padding: 4px 8px;
          border-radius: 12px;
          font-weight: 500;
          margin-bottom: 8px;
        }

        .product-description {
          font-size: 13px;
          color: #6b7280;
          line-height: 1.4;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
          margin-bottom: 12px;
        }

        /* Cart Controls */
        .cart-controls {
          margin-top: 12px;
        }

        .add-to-cart-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          width: 100%;
          padding: 10px;
          background: #f97316;
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: background 0.2s ease;
        }

        .add-to-cart-btn:hover {
          background: #ea580c;
        }

        .quantity-controls {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
        }

        .quantity-btn {
          width: 32px;
          height: 32px;
          border: 1px solid #d1d5db;
          background: white;
          border-radius: 6px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .quantity-btn:hover {
          background: #f97316;
          color: white;
          border-color: #f97316;
        }

        .quantity {
          font-weight: 600;
          font-size: 16px;
          min-width: 30px;
          text-align: center;
        }

        /* NEW: Reserved message styling */
        .reserved-message {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          margin-top: 12px;
          padding: 10px;
          background: rgba(245, 158, 11, 0.1);
          color: #f59e0b;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
        }

        /* Modal Styles */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .cart-modal, .checkout-modal {
          background: white;
          border-radius: 12px;
          max-width: 500px;
          width: 100%;
          max-height: 90vh;
          display: flex;
          flex-direction: column;
        }

        .cart-header, .checkout-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px;
          border-bottom: 1px solid #e5e7eb;
        }

        .cart-header h3, .checkout-header h3 {
          font-size: 20px;
          font-weight: 600;
          color: #111827;
        }

        .close-btn {
          background: none;
          border: none;
          cursor: pointer;
          color: #6b7280;
          padding: 4px;
        }

        .close-btn:hover {
          color: #111827;
        }

        .cart-content, .checkout-content {
          flex: 1;
          overflow-y: auto;
          padding: 20px;
        }

        .empty-cart {
          text-align: center;
          padding: 40px 20px;
          color: #6b7280;
        }

        .cart-items {
          margin-bottom: 20px;
        }

        .cart-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 0;
          border-bottom: 1px solid #f3f4f6;
        }

        .cart-item:last-child {
          border-bottom: none;
        }

        .cart-item-image {
          width: 50px;
          height: 50px;
          object-fit: cover;
          border-radius: 6px;
        }

        .cart-item-details {
          flex: 1;
        }

        .cart-item-details h4 {
          font-size: 14px;
          font-weight: 600;
          color: #111827;
          margin-bottom: 4px;
        }

        .cart-item-details p {
          font-size: 12px;
          color: #6b7280;
        }

        .cart-item-controls {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .cart-item-controls button {
          width: 28px;
          height: 28px;
          border: 1px solid #d1d5db;
          background: white;
          border-radius: 4px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
        }

        .cart-item-controls button:hover {
          background: #f97316;
          color: white;
          border-color: #f97316;
        }

        .cart-item-controls span {
          font-weight: 600;
          min-width: 20px;
          text-align: center;
        }

        .cart-item-total {
          font-weight: 600;
          color: #f97316;
          min-width: 60px;
          text-align: right;
        }

        .cart-summary, .summary-totals {
          border-top: 1px solid #e5e7eb;
          padding-top: 16px;
        }

        .summary-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 8px;
          font-size: 14px;
        }

        .summary-row.total {
          font-weight: 700;
          font-size: 16px;
          color: #111827;
          border-top: 1px solid #e5e7eb;
          padding-top: 8px;
          margin-top: 8px;
        }

        .cart-footer, .checkout-footer {
          padding: 20px;
          border-top: 1px solid #e5e7eb;
        }

        .checkout-btn, .place-order-btn {
          width: 100%;
          padding: 14px;
          background: #f97316;
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: background 0.2s ease;
        }

        .checkout-btn:hover, .place-order-btn:hover {
          background: #ea580c;
        }

        .place-order-btn:disabled {
          background: #d1d5db;
          cursor: not-allowed;
        }

        /* Checkout Specific Styles */
        .customer-details, .order-summary, .payment-info {
          margin-bottom: 24px;
        }

        .customer-details h4, .order-summary h4 {
          font-size: 16px;
          font-weight: 600;
          color: #111827;
          margin-bottom: 16px;
        }

        .form-group {
          margin-bottom: 16px;
        }

        .form-group label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 500;
          color: #374151;
          margin-bottom: 6px;
        }

        .form-group input, .form-group select {
          width: 100%;
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
          outline: none;
        }

        .form-group input:focus, .form-group select:focus {
          border-color: #f97316;
          box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        .summary-items {
          margin-bottom: 16px;
        }

        .summary-item {
          display: flex;
          justify-content: space-between;
          margin-bottom: 8px;
          font-size: 14px;
        }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px;
          background: #f3f4f6;
          border-radius: 6px;
          font-size: 14px;
          color: #374151;
        }

        /* Empty State */
        .empty-state {
          text-align: center;
          padding: 60px 20px;
          color: #6b7280;
        }

        .empty-state h3 {
          color: #111827;
          margin-bottom: 8px;
          font-size: 18px;
        }

        .empty-state p {
          margin-bottom: 20px;
        }

        .clear-filters {
          background: #f97316;
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
        }

        .clear-filters:hover {
          background: #ea580c;
        }

        /* Footer */
       .footer {
  padding: 16px;
  background-color: #f8f8f8; /* Light background for contrast */
  text-align: center;
  border-top: 1px solid #ddd; /* Optional: visual separation */
  width: 100%;
  box-sizing: border-box;
  position: relative; /* Ensure footer respects parent container */
  z-index: 10; /* Ensure footer is above most elements but below modals */
}

.footer-sub {
  font-size: 0.875rem; /* Smaller font size for mobile */
  color: #666;
  margin-top: 8px;
}

/* Ensure the parent container has enough padding to keep footer visible */
.scrollable-content { /* Adjust class name based on your actual container */
  padding-bottom: 80px; /* Enough space for footer and floating button */
  min-height: 100vh; /* Ensure content takes full viewport height */
  box-sizing: border-box;
}

        /* Mobile Responsive */
        @media (max-width: 640px) {
          .header-container {
            padding: 16px;
          }

          .restaurant-name {
            font-size: 20px;
          }

          .search-section {
            flex-direction: column;
            gap: 12px;
          }

          .category-dropdown {
            width: 100%;
            min-width: auto;
          }

          .content-container {
            padding: 16px;
          }

          .menu-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .card-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
          }

          .floating-cart {
            bottom: 80px;
          }

          .cart-modal, .checkout-modal {
            margin: 10px;
            max-height: calc(100vh - 20px);
          }

          .success-message {
            margin: 10px;
            padding: 30px 20px;
          }

          .download-invoice-btn {
            padding: 10px 16px;
            font-size: 13px;
          }
        }

        /* Tablet */
        @media (min-width: 641px) and (max-width: 1024px) {
          .menu-grid {
            grid-template-columns: repeat(2, 1fr);
          }
        }

        /* Large Desktop */
        @media (min-width: 1200px) {
          .menu-grid {
            grid-template-columns: repeat(4, 1fr);
          }
        }

        /* Custom Scrollbar */
        .main-content::-webkit-scrollbar, .cart-content::-webkit-scrollbar, .checkout-content::-webkit-scrollbar {
          width: 8px;
        }

        .main-content::-webkit-scrollbar-track, .cart-content::-webkit-scrollbar-track, .checkout-content::-webkit-scrollbar-track {
          background: #f1f5f9;
        }

        .main-content::-webkit-scrollbar-thumb, .cart-content::-webkit-scrollbar-thumb, .checkout-content::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 4px;
        }

        .main-content::-webkit-scrollbar-thumb:hover, .cart-content::-webkit-scrollbar-thumb:hover, .checkout-content::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `})]})},Dae=()=>{const e=nn(),t=()=>{e("/login")};return n.jsx("div",{className:"privacy-container",children:n.jsxs("div",{className:"privacy-policy-card",children:[n.jsx("div",{className:"privacy-header",children:n.jsx("button",{type:"button",className:"back-to-login",onClick:t,children:" Back to Login"})}),n.jsxs("div",{className:"privacy-content",children:[n.jsx("h2",{style:{textAlign:"center"},children:n.jsx("b",{children:"PRIVACY POLICY"})}),n.jsx("p",{children:"Effective date: 2025-06-26"}),n.jsxs("p",{children:["1. ",n.jsx("b",{children:"Introduction"})]}),n.jsxs("p",{children:["Welcome to ",n.jsx("b",{children:" Hotel Virat"}),"."]}),n.jsxs("p",{children:[n.jsx("b",{children:"Hotel Virat"}),' ("us", "we", or "our") operates ',n.jsx("b",{children:"https://hotelvirat.com"})," (hereinafter referred to as"," ",n.jsx("b",{children:'"Service"'}),")."]}),n.jsxs("p",{children:["Our Privacy Policy governs your visit to ",n.jsx("b",{children:"https://hotelvirat.com"}),", and explains how we collect, safeguard and disclose information that results from your use of our Service."]}),n.jsx("p",{children:"We use your data to provide and improve Service. By using Service, you agree to the collection and use of information in accordance with this policy. Unless otherwise defined in this Privacy Policy, the terms used in this Privacy Policy have the same meanings as in our Terms and Conditions."}),n.jsxs("p",{children:["Our Terms and Conditions (",n.jsx("b",{children:'"Terms"'}),") govern all use of our Service and together with the Privacy Policy constitutes your agreement with us (",n.jsx("b",{children:'"agreement"'}),")."]}),n.jsxs("p",{children:["2. ",n.jsx("b",{children:"Definitions"})]}),n.jsxs("p",{children:[n.jsx("b",{children:"SERVICE"})," means the https://hotelvirat.comwebsite operated by Hotel Virat."]}),n.jsxs("p",{children:[n.jsx("b",{children:"PERSONAL DATA"})," means data about a living individual who can be identified from those data (or from those and other information either in our possession or likely to come into our possession)."]}),n.jsxs("p",{children:[n.jsx("b",{children:"USAGE DATA"})," is data collected automatically either generated by the use of Service or from Service infrastructure itself (for example, the duration of a page visit)."]}),n.jsxs("p",{children:[n.jsx("b",{children:"COOKIES"})," are small files stored on your device (computer or mobile device)."]}),n.jsxs("p",{children:[n.jsx("b",{children:"DATA CONTROLLER"})," means a natural or legal person who (either alone or jointly or in common with other persons) determines the purposes for which and the manner in which any personal data are, or are to be, processed. For the purpose of this Privacy Policy, we are a Data Controller of your data."]}),n.jsxs("p",{children:[n.jsx("b",{children:"DATA PROCESSORS (OR SERVICE PROVIDERS)"})," means any natural or legal person who processes the data on behalf of the Data Controller. We may use the services of various Service Providers in order to process your data more effectively."]}),n.jsxs("p",{children:[n.jsx("b",{children:"DATA SUBJECT"})," is any living individual who is the subject of Personal Data."]}),n.jsxs("p",{children:[n.jsx("b",{children:"THE USER"})," is the individual using our Service. The User corresponds to the Data Subject, who is the subject of Personal Data."]}),n.jsxs("p",{children:["3. ",n.jsx("b",{children:"Information Collection and Use"})]}),n.jsx("p",{children:"We collect several different types of information for various purposes to provide and improve our Service to you."}),n.jsxs("p",{children:["4. ",n.jsx("b",{children:"Types of Data Collected"})]}),n.jsx("p",{children:n.jsx("b",{children:"Personal Data"})}),n.jsxs("p",{children:["While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you (",n.jsx("b",{children:'"Personal Data"'}),"). Personally identifiable information may include, but is not limited to:"]}),n.jsx("p",{children:"0.1. Email address"}),n.jsx("p",{children:"0.2. First name and last name"}),n.jsx("p",{children:"0.3. Phone number"}),n.jsx("p",{children:"0.4. Address, Country, State, Province, ZIP/Postal code, City"}),n.jsx("p",{children:"0.5. Cookies and Usage Data"}),n.jsx("p",{children:"We may use your Personal Data to contact you with newsletters, marketing or promotional materials and other information that may be of interest to you. You may opt out of receiving any, or all, of these communications from us by following the unsubscribe link."}),n.jsx("p",{children:n.jsx("b",{children:"Usage Data"})}),n.jsxs("p",{children:["We may also collect information that your browser sends whenever you visit our Service or when you access Service by or through any device (",n.jsx("b",{children:'"Usage Data"'}),")."]}),n.jsx("p",{children:"This Usage Data may include information such as your computer's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages, unique device identifiers and other diagnostic data."}),n.jsx("p",{children:"When you access Service with a device, this Usage Data may include information such as the type of device you use, your device unique ID, the IP address of your device, your device operating system, the type of Internet browser you use, unique device identifiers and other diagnostic data."}),n.jsx("p",{children:n.jsx("b",{children:"Tracking Cookies Data"})}),n.jsx("p",{children:"We use cookies and similar tracking technologies to track the activity on our Service and we hold certain information."}),n.jsx("p",{children:"Cookies are files with a small amount of data which may include an anonymous unique identifier. Cookies are sent to your browser from a website and stored on your device. Other tracking technologies are also used such as beacons, tags and scripts to collect and track information and to improve and analyze our Service."}),n.jsx("p",{children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Service."}),n.jsx("p",{children:"Examples of Cookies we use:"}),n.jsxs("p",{children:["0.1. ",n.jsx("b",{children:"Session Cookies:"})," We use Session Cookies to operate our Service."]}),n.jsxs("p",{children:["0.2. ",n.jsx("b",{children:"Preference Cookies:"})," We use Preference Cookies to remember your preferences and various settings."]}),n.jsxs("p",{children:["0.3. ",n.jsx("b",{children:"Security Cookies:"})," We use Security Cookies for security purposes."]}),n.jsxs("p",{children:["0.4. ",n.jsx("b",{children:"Advertising Cookies:"})," Advertising Cookies are used to serve you with advertisements that may be relevant to you and your interests."]}),n.jsx("p",{children:n.jsx("b",{children:"Other Data"})}),n.jsxs("p",{children:["While using our Service, we may also collect the following information: sex, age, date of birth, place of birth, passport details, citizenship, registration at place of residence and actual address, telephone number (work, mobile), details of documents on education, qualification, professional training, employment agreements"," ",", information on bonuses and compensation, information on marital status, family members, social security (or other taxpayer identification) number, office location and other data."]}),n.jsxs("p",{children:["5. ",n.jsx("b",{children:"Use of Data"})]}),n.jsx("p",{children:"Hotel Virat uses the collected data for various purposes:"}),n.jsx("p",{children:"0.1. to provide and maintain our Service;"}),n.jsx("p",{children:"0.2. to notify you about changes to our Service;"}),n.jsx("p",{children:"0.3. to allow you to participate in interactive features of our Service when you choose to do so;"}),n.jsx("p",{children:"0.4. to provide customer support;"}),n.jsx("p",{children:"0.5. to gather analysis or valuable information so that we can improve our Service;"}),n.jsx("p",{children:"0.6. to monitor the usage of our Service;"}),n.jsx("p",{children:"0.7. to detect, prevent and address technical issues;"}),n.jsx("p",{children:"0.8. to fulfil any other purpose for which you provide it;"}),n.jsx("p",{children:"0.9. to carry out our obligations and enforce our rights arising from any contracts entered into between you and us, including for billing and collection;"}),n.jsx("p",{children:"0.10. to provide you with notices about your account and/or subscription, including expiration and renewal notices, email-instructions, etc.;"}),n.jsx("p",{children:"0.11. to provide you with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless you have opted not to receive such information;"}),n.jsx("p",{children:"0.12. in any other way we may describe when you provide the information;"}),n.jsx("p",{children:"0.13. for any other purpose with your consent."}),n.jsxs("p",{children:["6. ",n.jsx("b",{children:"Retention of Data"})]}),n.jsx("p",{children:"We will retain your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."}),n.jsx("p",{children:"We will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period, except when this data is used to strengthen the security or to improve the functionality of our Service, or we are legally obligated to retain this data for longer time periods."}),n.jsxs("p",{children:["7. ",n.jsx("b",{children:"Transfer of Data"})]}),n.jsx("p",{children:"Your information, including Personal Data, may be transferred to  and maintained on  computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ from those of your jurisdiction."}),n.jsx("p",{children:"If you are located outside India and choose to provide information to us, please note that we transfer the data, including Personal Data, to India and process it there."}),n.jsx("p",{children:"Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer."}),n.jsx("p",{children:"Hotel Virat will take all the steps reasonably necessary to ensure that your data is treated securely and in accordance with this Privacy Policy and no transfer of your Personal Data will take place to an organisation or a country unless there are adequate controls in place including the security of your data and other personal information."}),n.jsxs("p",{children:["8. ",n.jsx("b",{children:"Disclosure of Data"})]}),n.jsx("p",{children:"We may disclose personal information that we collect, or you provide:"}),n.jsxs("p",{children:["0.1. ",n.jsx("b",{children:"Business Transaction."})]}),n.jsx("p",{children:"If we or our subsidiaries are involved in a merger, acquisition or asset sale, your Personal Data may be transferred."}),n.jsxs("p",{children:["0.2. ",n.jsx("b",{children:"Other cases. We may disclose your information also:"})]}),n.jsx("p",{children:"0.2.1. to our subsidiaries and affiliates;"}),n.jsx("p",{children:"0.2.2. to contractors, service providers, and other third parties we use to support our business;"}),n.jsx("p",{children:"0.2.3. to fulfill the purpose for which you provide it;"}),n.jsx("p",{children:"0.2.4. for the purpose of including your company's logo on our website;"}),n.jsx("p",{children:"0.2.5. for any other purpose disclosed by us when you provide the information;"}),n.jsx("p",{children:"0.2.6. with your consent in any other cases;"}),n.jsx("p",{children:"0.2.7. if we believe disclosure is necessary or appropriate to protect the rights, property, or safety of the Company, our customers, or others."}),n.jsxs("p",{children:["9. ",n.jsx("b",{children:"Security of Data"})]}),n.jsx("p",{children:"The security of your data is important to us but remember that no method of transmission over the Internet or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security."}),n.jsxs("p",{children:["10. ",n.jsx("b",{children:"Your Data Protection Rights Under General Data Protection Regulation (GDPR)"})]}),n.jsx("p",{children:"If you are a resident of the European Union (EU) and European Economic Area (EEA), you have certain data protection rights, covered by GDPR."}),n.jsx("p",{children:"We aim to take reasonable steps to allow you to correct, amend, delete, or limit the use of your Personal Data."}),n.jsxs("p",{children:[" ","If you wish to be informed what Personal Data we hold about you and if you want it to be removed from our systems, please email us at ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]}),n.jsx("p",{children:"In certain circumstances, you have the following data protection rights:"}),n.jsx("p",{children:"0.1. the right to access, update or to delete the information we have on you;"}),n.jsx("p",{children:"0.2. the right of rectification. You have the right to have your information rectified if that information is inaccurate or incomplete;"}),n.jsx("p",{children:"0.3. the right to object. You have the right to object to our processing of your Personal Data;"}),n.jsx("p",{children:"0.4. the right of restriction. You have the right to request that we restrict the processing of your personal information;"}),n.jsx("p",{children:"0.5. the right to data portability. You have the right to be provided with a copy of your Personal Data in a structured, machine-readable and commonly used format;"}),n.jsx("p",{children:"0.6. the right to withdraw consent. You also have the right to withdraw your consent at any time where we rely on your consent to process your personal information;"}),n.jsx("p",{children:"Please note that we may ask you to verify your identity before responding to such requests. Please note, we may not able to provide Service without some necessary data."}),n.jsx("p",{children:"You have the right to complain to a Data Protection Authority about our collection and use of your Personal Data. For more information, please contact your local data protection authority in the European Economic Area (EEA)."}),n.jsxs("p",{children:["11. ",n.jsx("b",{children:"Your Data Protection Rights under the California Privacy Protection Act (CalOPPA)"})]}),n.jsx("p",{children:"CalOPPA is the first state law in the nation to require commercial websites and online services to post a privacy policy. The law's reach stretches well beyond California to require a person or company in the United States (and conceivable the world) that operates websites collecting personally identifiable information from California consumers to post a conspicuous privacy policy on its website stating exactly the information being collected and those individuals with whom it is being shared, and to comply with this policy."}),n.jsx("p",{children:"According to CalOPPA we agree to the following:"}),n.jsx("p",{children:"0.1. users can visit our site anonymously;"}),n.jsx("p",{children:'0.2. our Privacy Policy link includes the word "Privacy", and can easily be found on the home page of our website;'}),n.jsx("p",{children:"0.3. users will be notified of any privacy policy changes on our Privacy Policy Page;"}),n.jsxs("p",{children:["0.4. users are able to change their personal information by emailing us at ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]}),n.jsx("p",{children:'Our Policy on "Do Not Track" Signals:'}),n.jsx("p",{children:"We honor Do Not Track signals and do not track, plant cookies, or use advertising when a Do Not Track browser mechanism is in place. Do Not Track is a preference you can set in your web browser to inform websites that you do not want to be tracked."}),n.jsx("p",{children:"You can enable or disable Do Not Track by visiting the Preferences or Settings page of your web browser."}),n.jsxs("p",{children:["12. ",n.jsx("b",{children:"Your Data Protection Rights under the California Consumer Privacy Act (CCPA)"})]}),n.jsx("p",{children:"If you are a California resident, you are entitled to learn what data we collect about you, ask to delete your data and not to sell (share) it. To exercise your data protection rights, you can make certain requests and ask us:"}),n.jsx("p",{children:n.jsx("b",{children:"0.1. What personal information we have about you. If you make this request, we will return to you:"})}),n.jsx("p",{children:"0.0.1. The categories of personal information we have collected about you."}),n.jsx("p",{children:"0.0.2. The categories of sources from which we collect your personal information."}),n.jsx("p",{children:"0.0.3. The business or commercial purpose for collecting or selling your personal information."}),n.jsx("p",{children:"0.0.4. The categories of third parties with whom we share personal information."}),n.jsx("p",{children:"0.0.5. The specific pieces of personal information we have collected about you."}),n.jsx("p",{children:"0.0.6. A list of categories of personal information that we have sold, along with the category of any other company we sold it to. If we have not sold your personal information, we will inform you of that fact."}),n.jsx("p",{children:"0.0.7. A list of categories of personal information that we have disclosed for a business purpose, along with the category of any other company we shared it with."}),n.jsx("p",{children:"Please note, you are entitled to ask us to provide you with this information up to two times in a rolling twelve-month period. When you make this request, the information provided may be limited to the personal information we collected about you in the previous 12 months."}),n.jsx("p",{children:n.jsx("b",{children:"0.2. To delete your personal information. If you make this request, we will delete the personal information we hold about you as of the date of your request from our records and direct any service providers to do the same. In some cases, deletion may be accomplished through de-identification of the information. If you choose to delete your personal information, you may not be able to use certain functions that require your personal information to operate."})}),n.jsx("p",{children:n.jsx("b",{children:`0.3. To stop selling your personal information. We don't sell or rent your personal information to any third parties for any purpose. We do not sell your personal information for monetary consideration. However, under some circumstances, a transfer of personal information to a third party, or within our family of companies, without monetary consideration may be considered a "sale" under California law. You are the only owner of your Personal Data and can request disclosure or deletion at any time.`})}),n.jsx("p",{children:"If you submit a request to stop selling your personal information, we will stop making such transfers."}),n.jsx("p",{children:"Please note, if you ask us to delete or stop selling your data, it may impact your experience with us, and you may not be able to participate in certain programs or membership services which require the usage of your personal information to function. But in no circumstances, we will discriminate against you for exercising your rights."}),n.jsxs("p",{children:["To exercise your California data protection rights described above, please send your request(s) by email:"," ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]}),n.jsx("p",{children:"Your data protection rights, described above, are covered by the CCPA, short for the California Consumer Privacy Act. To find out more, visit the official California Legislative Information website. The CCPA took effect on 01/01/2020."}),n.jsxs("p",{children:["13. ",n.jsx("b",{children:"Service Providers"})]}),n.jsxs("p",{children:["We may employ third party companies and individuals to facilitate our Service (",n.jsx("b",{children:'"Service Providers"'}),"), provide Service on our behalf, perform Service-related services or assist us in analysing how our Service is used."]}),n.jsx("p",{children:"These third parties have access to your Personal Data only to perform these tasks on our behalf and are obligated not to disclose or use it for any other purpose."}),n.jsxs("p",{children:["14. ",n.jsx("b",{children:"Analytics"})]}),n.jsx("p",{children:"We may use third-party Service Providers to monitor and analyze the use of our Service."}),n.jsxs("p",{children:["15. ",n.jsx("b",{children:"CI/CD tools"})]}),n.jsx("p",{children:"We may use third-party Service Providers to automate the development process of our Service."}),n.jsxs("p",{children:["16. ",n.jsx("b",{children:"Behavioral Remarketing"})]}),n.jsx("p",{children:"We may use remarketing services to advertise on third party websites to you after you visited our Service. We and our third-party vendors use cookies to inform, optimise and serve ads based on your past visits to our Service."}),n.jsxs("p",{children:["17. ",n.jsx("b",{children:"Payments"})]}),n.jsx("p",{children:"We may provide paid products and/or services within Service. In that case, we use third-party services for payment processing (e.g. payment processors)."}),n.jsx("p",{children:"We will not store or collect your payment card details. That information is provided directly to our third-party payment processors whose use of your personal information is governed by their Privacy Policy. These payment processors adhere to the standards set by PCI-DSS as managed by the PCI Security Standards Council, which is a joint effort of brands like Visa, Mastercard, American Express and Discover. PCI-DSS requirements help ensure the secure handling of payment information."}),n.jsxs("p",{children:["18. ",n.jsx("b",{children:"Links to Other Sites"})]}),n.jsx("p",{children:"Our Service may contain links to other sites that are not operated by us. If you click a third party link, you will be directed to that third party's site. We strongly advise you to review the Privacy Policy of every site you visit."}),n.jsx("p",{children:"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."}),n.jsxs("p",{children:["19. ",n.jsx("b",{children:"Children's Privacy"})]}),n.jsxs("p",{children:["Our Services are not intended for use by children under the age of 18 (",n.jsx("b",{children:'"Child"'})," or ",n.jsx("b",{children:'"Children"'}),")."]}),n.jsx("p",{children:"We do not knowingly collect personally identifiable information from Children under 18. If you become aware that a Child has provided us with Personal Data, please contact us. If we become aware that we have collected Personal Data from Children without verification of parental consent, we take steps to remove that information from our servers."}),n.jsxs("p",{children:["20. ",n.jsx("b",{children:"Changes to This Privacy Policy"})]}),n.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),n.jsx("p",{children:'We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update "effective date" at the top of this Privacy Policy.'}),n.jsx("p",{children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."}),n.jsxs("p",{children:["21. ",n.jsx("b",{children:"Contact Us"})]}),n.jsxs("p",{children:["If you have any questions about this Privacy Policy, please contact us by email:"," ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]})]})]})})},Rae=()=>{const e=nn(),t=()=>{e("/login")};return n.jsx("div",{className:"privacy-container",children:n.jsxs("div",{className:"privacy-policy-card",children:[n.jsx("div",{className:"privacy-header",children:n.jsx("button",{type:"button",className:"back-to-login",onClick:t,children:" Back to Login"})}),n.jsxs("div",{className:"privacy-content",children:[n.jsx("h2",{style:{textAlign:"center"},children:n.jsx("b",{children:"TERMS AND CONDITIONS"})}),n.jsx("p",{children:"Last updated: 2025-06-26"}),n.jsxs("p",{children:["1. ",n.jsx("b",{children:"Introduction"})]}),n.jsxs("p",{children:["Welcome to ",n.jsx("b",{children:"Hotel Virat"}),' ("Company", "we", "our", "us")!']}),n.jsxs("p",{children:['These Terms of Service ("Terms", "Terms of Service") govern your use of our website located at'," ",n.jsx("b",{children:"https://hotelvirat.com"}),' (together or individually "Service") operated by ',n.jsx("b",{children:"Hotel Virat"}),"."]}),n.jsx("p",{children:"Our Privacy Policy also governs your use of our Service and explains how we collect, safeguard and disclose information that results from your use of our web pages."}),n.jsx("p",{children:'Your agreement with us includes these Terms and our Privacy Policy ("Agreements"). You acknowledge that you have read and understood Agreements, and agree to be bound of them.'}),n.jsxs("p",{children:["If you do not agree with (or cannot comply with) Agreements, then you may not use the Service, but please let us know by emailing at ",n.jsx("b",{children:"infohotelvirat@gmail.com"})," so we can try to find a solution. These Terms apply to all visitors, users and others who wish to access or use Service."]}),n.jsxs("p",{children:["2. ",n.jsx("b",{children:"Communications"})]}),n.jsx("p",{children:"By using our Service, you agree to subscribe to newsletters, marketing or promotional materials and other information we may send. However, you may opt out of receiving any, or all, of these communications from us by following the unsubscribe link or by emailing at infohotelvirat@gmail.com."}),n.jsxs("p",{children:["3. ",n.jsx("b",{children:"Purchases"})]}),n.jsx("p",{children:'If you wish to purchase any product or service made available through Service ("Purchase"), you may be asked to supply certain information relevant to your Purchase including but not limited to, your credit or debit card number, the expiration date of your card, your billing address, and your shipping information.'}),n.jsx("p",{children:"You represent and warrant that: (i) you have the legal right to use any card(s) or other payment method(s) in connection with any Purchase; and that (ii) the information you supply to us is true, correct and complete."}),n.jsx("p",{children:"We may employ the use of third party services for the purpose of facilitating payment and the completion of Purchases. By submitting your information, you grant us the right to provide the information to these third parties subject to our Privacy Policy."}),n.jsx("p",{children:"We reserve the right to refuse or cancel your order at any time for reasons including but not limited to: product or service availability, errors in the description or price of the product or service, error in your order or other reasons."}),n.jsx("p",{children:"We reserve the right to refuse or cancel your order if fraud or an unauthorized or illegal transaction is suspected."}),n.jsxs("p",{children:["4. ",n.jsx("b",{children:"Contests, Sweepstakes and Promotions"})]}),n.jsx("p",{children:'Any contests, sweepstakes or other promotions (collectively, "Promotions") made available through Service may be governed by rules that are separate from these Terms of Service. If you participate in any Promotions, please review the applicable rules as well as our Privacy Policy. If the rules for a Promotion conflict with these Terms of Service, Promotion rules will apply.'}),n.jsxs("p",{children:["5. ",n.jsx("b",{children:"Refunds"})]}),n.jsxs("p",{children:[n.jsx("b",{children:"NO REFUND POLICY:"})," All payments made for products, services, orders, reservations, events, and any other transactions through Hotel Virat are ",n.jsx("b",{children:"strictly non-refundable"}),". We do not issue refunds for any contracts, purchases, or services under any circumstances. Please review your order details carefully before confirming payment as all sales are final."]}),n.jsxs("p",{children:["6. ",n.jsx("b",{children:"Content"})]}),n.jsx("p",{children:"Content found on or through this Service are the property of Hotel Virat or used with permission. You may not distribute, modify, transmit, reuse, download, repost, copy, or use said Content, whether in whole or in part, for commercial purposes or for personal gain, without express advance written permission from us."}),n.jsxs("p",{children:["7. ",n.jsx("b",{children:"Prohibited Uses"})]}),n.jsx("p",{children:"You may use Service only for lawful purposes and in accordance with Terms. You agree not to use Service:"}),n.jsx("p",{children:"0.1. In any way that violates any applicable national or international law or regulation."}),n.jsx("p",{children:"0.2. For the purpose of exploiting, harming, or attempting to exploit or harm minors in any way by exposing them to inappropriate content or otherwise."}),n.jsx("p",{children:'0.3. To transmit, or procure the sending of, any advertising or promotional material, including any "junk mail", "chain letter," "spam," or any other similar solicitation.'}),n.jsx("p",{children:"0.4. To impersonate or attempt to impersonate Company, a Company employee, another user, or any other person or entity."}),n.jsx("p",{children:"0.5. In any way that infringes upon the rights of others, or in any way is illegal, threatening, fraudulent, or harmful, or in connection with any unlawful, illegal, fraudulent, or harmful purpose or activity."}),n.jsx("p",{children:"0.6. To engage in any other conduct that restricts or inhibits anyone's use or enjoyment of Service, or which, as determined by us, may harm or offend Company or users of Service or expose them to liability."}),n.jsx("p",{children:"Additionally, you agree not to:"}),n.jsx("p",{children:"0.1. Use Service in any manner that could disable, overburden, damage, or impair Service or interfere with any other party's use of Service, including their ability to engage in real time activities through Service."}),n.jsx("p",{children:"0.2. Use any robot, spider, or other automatic device, process, or means to access Service for any purpose, including monitoring or copying any of the material on Service."}),n.jsx("p",{children:"0.3. Use any manual process to monitor or copy any of the material on Service or for any other unauthorized purpose without our prior written consent."}),n.jsx("p",{children:"0.4. Use any device, software, or routine that interferes with the proper working of Service."}),n.jsx("p",{children:"0.5. Introduce any viruses, trojan horses, worms, logic bombs, or other material which is malicious or technologically harmful."}),n.jsx("p",{children:"0.6. Attempt to gain unauthorized access to, interfere with, damage, or disrupt any parts of Service, the server on which Service is stored, or any server, computer, or database connected to Service."}),n.jsx("p",{children:"0.7. Attack Service via a denial-of-service attack or a distributed denial-of-service attack."}),n.jsx("p",{children:"0.8. Take any action that may damage or falsify Company rating."}),n.jsx("p",{children:"0.9. Otherwise attempt to interfere with the proper working of Service."}),n.jsxs("p",{children:["8. ",n.jsx("b",{children:"Analytics"})]}),n.jsx("p",{children:"We may use third-party Service Providers to monitor and analyze the use of our Service."}),n.jsxs("p",{children:["9. ",n.jsx("b",{children:"No Use By Minors"})]}),n.jsx("p",{children:"Service is intended only for access and use by individuals at least eighteen (18) years old. By accessing or using Service, you warrant and represent that you are at least eighteen (18) years of age and with the full authority, right, and capacity to enter into this agreement and abide by all of the terms and conditions of Terms. If you are not at least eighteen (18) years old, you are prohibited from both the access and usage of Service."}),n.jsxs("p",{children:["10. ",n.jsx("b",{children:"Accounts"})]}),n.jsx("p",{children:"When you create an account with us, you guarantee that you are above the age of 18, and that the information you provide us is accurate, complete, and current at all times. Inaccurate, incomplete, or obsolete information may result in the immediate termination of your account on Service."}),n.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account and password, including but not limited to the restriction of access to your computer and/or account. You agree to accept responsibility for any and all activities or actions that occur under your account and/or password, whether your password is with our Service or a third-party service. You must notify us immediately upon becoming aware of any breach of security or unauthorized use of your account."}),n.jsx("p",{children:"You may not use as a username the name of another person or entity or that is not lawfully available for use, a name or trademark that is subject to any rights of another person or entity other than you, without appropriate authorization. You may not use as a username any name that is offensive, vulgar or obscene."}),n.jsx("p",{children:"We reserve the right to refuse service, terminate accounts, remove or edit content, or cancel orders in our sole discretion."}),n.jsxs("p",{children:["11. ",n.jsx("b",{children:"Intellectual Property"})]}),n.jsx("p",{children:"Service and its original content (excluding Content provided by users), features and functionality are and will remain the exclusive property of Hotel Virat and its licensors. Service is protected by copyright, trademark, and other laws of and foreign countries. Our trademarks may not be used in connection with any product or service without the prior written consent of Hotel Virat."}),n.jsxs("p",{children:["12. ",n.jsx("b",{children:"Copyright Policy"})]}),n.jsx("p",{children:'We respect the intellectual property rights of others. It is our policy to respond to any claim that Content posted on Service infringes on the copyright or other intellectual property rights ("Infringement") of any person or entity.'}),n.jsx("p",{children:'If you are a copyright owner, or authorized on behalf of one, and you believe that the copyrighted work has been copied in a way that constitutes copyright infringement, please submit your claim via email to infohotelvirat@gmail.com, with the subject line: "Copyright Infringement" and include in your claim a detailed description of the alleged Infringement as detailed below, under "DMCA Notice and Procedure for Copyright Infringement Claims"'}),n.jsx("p",{children:"You may be held accountable for damages (including costs and attorneys' fees) for misrepresentation or bad-faith claims on the infringement of any Content found on and/or through Service on your copyright."}),n.jsxs("p",{children:["13. ",n.jsx("b",{children:"DMCA Notice and Procedure for Copyright Infringement Claims"})]}),n.jsx("p",{children:"You may submit a notification pursuant to the Digital Millennium Copyright Act (DMCA) by providing our Copyright Agent with the following information in writing (see 17 U.S.C 512(c)(3) for further detail):"}),n.jsx("p",{children:"0.1. an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright's interest;"}),n.jsx("p",{children:"0.2. a description of the copyrighted work that you claim has been infringed, including the URL (i.e., web page address) of the location where the copyrighted work exists or a copy of the copyrighted work;"}),n.jsx("p",{children:"0.3. identification of the URL or other specific location on Service where the material that you claim is infringing is located;"}),n.jsx("p",{children:"0.4. your address, telephone number, and email address;"}),n.jsx("p",{children:"0.5. a statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent, or the law;"}),n.jsx("p",{children:"0.6. a statement by you, made under penalty of perjury, that the above information in your notice is accurate and that you are the copyright owner or authorized to act on the copyright owner's behalf."}),n.jsx("p",{children:"You can contact our Copyright Agent via email at infohotelvirat@gmail.com."}),n.jsxs("p",{children:["14. ",n.jsx("b",{children:"Error Reporting and Feedback"})]}),n.jsx("p",{children:'You may provide us either directly at infohotelvirat@gmail.com or via third party sites and tools with information and feedback concerning errors, suggestions for improvements, ideas, problems, complaints, and other matters related to our Service ("Feedback"). You acknowledge and agree that: (i) you shall not retain, acquire or assert any intellectual property right or other right, title or interest in or to the Feedback; (ii) Company may have development ideas similar to the Feedback; (iii) Feedback does not contain confidential information or proprietary information from you or any third party; and (iv) Company is not under any obligation of confidentiality with respect to the Feedback. In the event the transfer of the ownership to the Feedback is not possible due to applicable mandatory laws, you grant Company and its affiliates an exclusive, transferable, irrevocable, free-of-charge, sub-licensable, unlimited and perpetual right to use (including copy, modify, create derivative works, publish, distribute and commercialize) Feedback in any manner and for any purpose.'}),n.jsxs("p",{children:["15. ",n.jsx("b",{children:"Links To Other Web Sites"})]}),n.jsx("p",{children:"Our Service may contain links to third party web sites or services that are not owned or controlled by Hotel Virat."}),n.jsx("p",{children:"Hotel Virat has no control over, and assumes no responsibility for the content, privacy policies, or practices of any third party web sites or services. We do not warrant the offerings of any of these entities/individuals or their websites."}),n.jsx("p",{children:"YOU ACKNOWLEDGE AND AGREE THAT COMPANY SHALL NOT BE RESPONSIBLE OR LIABLE, DIRECTLY OR INDIRECTLY, FOR ANY DAMAGE OR LOSS CAUSED OR ALLEGED TO BE CAUSED BY OR IN CONNECTION WITH USE OF OR RELIANCE ON ANY SUCH CONTENT, GOODS OR SERVICES AVAILABLE ON OR THROUGH ANY SUCH THIRD PARTY WEB SITES OR SERVICES."}),n.jsx("p",{children:"WE STRONGLY ADVISE YOU TO READ THE TERMS OF SERVICE AND PRIVACY POLICIES OF ANY THIRD PARTY WEB SITES OR SERVICES THAT YOU VISIT."}),n.jsxs("p",{children:["16. ",n.jsx("b",{children:"Disclaimer Of Warranty"})]}),n.jsx("p",{children:'THESE SERVICES ARE PROVIDED BY COMPANY ON AN "AS IS" AND "AS AVAILABLE" BASIS. COMPANY MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, AS TO THE OPERATION OF THEIR SERVICES, OR THE INFORMATION, CONTENT OR MATERIALS INCLUDED THEREIN. YOU EXPRESSLY AGREE THAT YOUR USE OF THESE SERVICES, THEIR CONTENT, AND ANY SERVICES OR ITEMS OBTAINED FROM US IS AT YOUR SOLE RISK.'}),n.jsx("p",{children:"NEITHER COMPANY NOR ANY PERSON ASSOCIATED WITH COMPANY MAKES ANY WARRANTY OR REPRESENTATION WITH RESPECT TO THE COMPLETENESS, SECURITY, RELIABILITY, QUALITY, ACCURACY, OR AVAILABILITY OF THE SERVICES. WITHOUT LIMITING THE FOREGOING, NEITHER COMPANY NOR ANYONE ASSOCIATED WITH COMPANY REPRESENTS OR WARRANTS THAT THE SERVICES, THEIR CONTENT, OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL BE ACCURATE, RELIABLE, ERROR-FREE, OR UNINTERRUPTED, THAT DEFECTS WILL BE CORRECTED, THAT THE SERVICES OR THE SERVER THAT MAKES IT AVAILABLE ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS OR THAT THE SERVICES OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL OTHERWISE MEET YOUR NEEDS OR EXPECTATIONS."}),n.jsx("p",{children:"COMPANY HEREBY DISCLAIMS ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, STATUTORY, OR OTHERWISE, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, NON-INFRINGEMENT, AND FITNESS FOR PARTICULAR PURPOSE."}),n.jsx("p",{children:"THE FOREGOING DOES NOT AFFECT ANY WARRANTIES WHICH CANNOT BE EXCLUDED OR LIMITED UNDER APPLICABLE LAW."}),n.jsxs("p",{children:["17. ",n.jsx("b",{children:"Limitation Of Liability"})]}),n.jsx("p",{children:"EXCEPT AS PROHIBITED BY LAW, YOU WILL HOLD US AND OUR OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS HARMLESS FOR ANY INDIRECT, PUNITIVE, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGE, HOWEVER IT ARISES (INCLUDING ATTORNEYS' FEES AND ALL RELATED COSTS AND EXPENSES OF LITIGATION AND ARBITRATION, OR AT TRIAL OR ON APPEAL, IF ANY, WHETHER OR NOT LITIGATION OR ARBITRATION IS INSTITUTED), WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE, OR OTHER TORTIOUS ACTION, OR ARISING OUT OF OR IN CONNECTION WITH THIS AGREEMENT, INCLUDING WITHOUT LIMITATION ANY CLAIM FOR PERSONAL INJURY OR PROPERTY DAMAGE, ARISING FROM THIS AGREEMENT AND ANY VIOLATION BY YOU OF ANY FEDERAL, STATE, OR LOCAL LAWS, STATUTES, RULES, OR REGULATIONS, EVEN IF COMPANY HAS BEEN PREVIOUSLY ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. EXCEPT AS PROHIBITED BY LAW, IF THERE IS LIABILITY FOUND ON THE PART OF COMPANY, IT WILL BE LIMITED TO THE AMOUNT PAID FOR THE PRODUCTS AND/OR SERVICES, AND UNDER NO CIRCUMSTANCES WILL THERE BE CONSEQUENTIAL OR PUNITIVE DAMAGES. SOME STATES DO NOT ALLOW THE EXCLUSION OR LIMITATION OF PUNITIVE, INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THE PRIOR LIMITATION OR EXCLUSION MAY NOT APPLY TO YOU."}),n.jsxs("p",{children:["18. ",n.jsx("b",{children:"Termination"})]}),n.jsx("p",{children:"We may terminate or suspend your account and bar access to Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of Terms."}),n.jsx("p",{children:"If you wish to terminate your account, you may simply discontinue using Service."}),n.jsx("p",{children:"All provisions of Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability."}),n.jsxs("p",{children:["19. ",n.jsx("b",{children:"Governing Law"})]}),n.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of India, which governing law applies to agreement without regard to its conflict of law provisions."}),n.jsx("p",{children:"Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect. These Terms constitute the entire agreement between us regarding our Service and supersede and replace any prior agreements we might have had between us regarding Service."}),n.jsxs("p",{children:["20. ",n.jsx("b",{children:"Changes To Service"})]}),n.jsx("p",{children:"We reserve the right to withdraw or amend our Service, and any service or material we provide via Service, in our sole discretion without notice. We will not be liable if for any reason all or any part of Service is unavailable at any time or for any period. From time to time, we may restrict access to some parts of Service, or the entire Service, to users, including registered users."}),n.jsxs("p",{children:["21. ",n.jsx("b",{children:"Amendments To Terms"})]}),n.jsx("p",{children:"We may amend Terms at any time by posting the amended terms on this site. It is your responsibility to review these Terms periodically."}),n.jsx("p",{children:"Your continued use of the Platform following the posting of revised Terms means that you accept and agree to the changes. You are expected to check this page frequently so you are aware of any changes, as they are binding on you."}),n.jsx("p",{children:"By continuing to access or use our Service after any revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, you are no longer authorized to use Service."}),n.jsxs("p",{children:["22. ",n.jsx("b",{children:"Waiver And Severability"})]}),n.jsx("p",{children:"No waiver by Company of any term or condition set forth in Terms shall be deemed a further or continuing waiver of such term or condition or a waiver of any other term or condition, and any failure of Company to assert a right or provision under Terms shall not constitute a waiver of such right or provision."}),n.jsx("p",{children:"If any provision of Terms is held by a court or other tribunal of competent jurisdiction to be invalid, illegal or unenforceable for any reason, such provision shall be eliminated or limited to the minimum extent such that the remaining provisions of Terms will continue in full force and effect."}),n.jsxs("p",{children:["23. ",n.jsx("b",{children:"Acknowledgement"})]}),n.jsx("p",{children:"BY USING SERVICE OR OTHER SERVICES PROVIDED BY US, YOU ACKNOWLEDGE THAT YOU HAVE READ THESE TERMS OF SERVICE AND AGREE TO BE BOUND BY THEM."}),n.jsxs("p",{children:["24. ",n.jsx("b",{children:"Contact Us"})]}),n.jsxs("p",{children:["Please send your feedback, comments, requests for technical support by email:"," ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]})]})]})})},Pae=()=>{var F,M,L;const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(null),[l,d]=N.useState(""),[u,h]=N.useState([]),[p,m]=N.useState({status:"",subscriptionType:"",search:""}),[g,v]=N.useState(null),[j,b]=N.useState(!1),[y,T]=N.useState("");N.useEffect(()=>{(async()=>{try{const P=await(await fetch("https://hotelvirat.com/api/v1/hotel/branch")).json();h(P),P.length>0&&d(P[0]._id)}catch(W){console.error("Error fetching branches:",W)}})()},[]),N.useEffect(()=>{l&&E()},[l,p]);const E=async()=>{a(!0);try{let O=`https://hotelvirat.com/api/v1/hotel/subscription?branchId=${l}`;p.status&&(O+=`&status=${p.status}`),p.subscriptionType&&(O+=`&subscriptionType=${p.subscriptionType}`);const P=await(await fetch(O)).json();if(P.success){let I=P.data;p.search&&(I=I.filter(R=>{var H,V,he,U;return((V=(H=R.userId)==null?void 0:H.name)==null?void 0:V.toLowerCase().includes(p.search.toLowerCase()))||((U=(he=R.productId)==null?void 0:he.name)==null?void 0:U.toLowerCase().includes(p.search.toLowerCase()))})),t(I)}else s(P.message)}catch(O){console.error("Error fetching subscriptions:",O),s("Failed to fetch subscriptions")}finally{a(!1)}},C=async(O,W,P={})=>{try{const R=await(await fetch(`https://hotelvirat.com/api/v1/hotel/subscription/${O}/${W}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})).json();R.success?(E(),b(!1),v(null)):alert(R.message)}catch(I){console.error(`Error ${W}ing subscription:`,I),alert(`Failed to ${W} subscription`)}},S=O=>{switch(O){case"active":return"#4CAF50";case"paused":return"#FF9800";case"cancelled":return"#F44336";case"expired":return"#9E9E9E";default:return"#666"}},A=O=>{switch(O){case"weekly":return"#2196F3";case"monthly":return"#9C27B0";case"yearly":return"#FF5722";default:return"#666"}},k=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),D=(O,W)=>{v(O),T(W),b(!0)},B=()=>{b(!1),v(null),T("")};return r?n.jsx("div",{className:"subscription-container",children:n.jsxs("div",{className:"loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading subscriptions..."})]})}):n.jsxs("div",{className:"subscription-container",children:[n.jsx("div",{className:"subscription-header",children:n.jsx("h1",{children:"Subscription Management"})}),n.jsxs("div",{className:"branch-selector",children:[n.jsx("label",{htmlFor:"branch-select",children:"Select Branch:"}),n.jsx("select",{id:"branch-select",value:l,onChange:O=>d(O.target.value),className:"branch-select",children:u.map(O=>n.jsx("option",{value:O._id,children:O.name},O._id))})]}),n.jsxs("div",{className:"filters",children:[n.jsx("div",{className:"filter-group",children:n.jsx("input",{type:"text",placeholder:"Search by customer or product...",value:p.search,onChange:O=>m({...p,search:O.target.value}),className:"search-input"})}),n.jsx("div",{className:"filter-group",children:n.jsxs("select",{value:p.status,onChange:O=>m({...p,status:O.target.value}),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"expired",children:"Expired"})]})}),n.jsx("div",{className:"filter-group",children:n.jsxs("select",{value:p.subscriptionType,onChange:O=>m({...p,subscriptionType:O.target.value}),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Types"}),n.jsx("option",{value:"weekly",children:"Weekly"}),n.jsx("option",{value:"monthly",children:"Monthly"}),n.jsx("option",{value:"yearly",children:"Yearly"})]})})]}),n.jsxs("div",{className:"subscriptions-table-container",children:[n.jsxs("table",{className:"subscriptions-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Product"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Next Delivery"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:e.map(O=>{var W,P,I,R,H;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:"customer-info",children:[n.jsx("strong",{children:(W=O.userId)==null?void 0:W.name}),n.jsx("span",{children:(P=O.userId)==null?void 0:P.mobile})]})}),n.jsx("td",{children:n.jsxs("div",{className:"product-info",children:[n.jsx("img",{src:((I=O.productId)==null?void 0:I.image)||"/placeholder-product.jpg",alt:(R=O.productId)==null?void 0:R.name,className:"product-image"}),n.jsx("span",{children:(H=O.productId)==null?void 0:H.name})]})}),n.jsx("td",{children:n.jsx("span",{className:"subscription-type",style:{backgroundColor:A(O.subscriptionType)},children:O.subscriptionType})}),n.jsx("td",{children:O.quantity}),n.jsxs("td",{children:["",O.totalPrice]}),n.jsx("td",{children:n.jsx("span",{className:"status-badge",style:{backgroundColor:S(O.status)},children:O.status})}),n.jsx("td",{children:k(O.nextDeliveryDate)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"btn-view",onClick:()=>D(O,"view"),children:"View"}),O.status==="active"&&n.jsx("button",{className:"btn-pause",onClick:()=>D(O,"pause"),children:"Pause"}),O.status==="paused"&&n.jsx("button",{className:"btn-resume",onClick:()=>C(O._id,"resume"),children:"Resume"}),O.status!=="cancelled"&&n.jsx("button",{className:"btn-cancel",onClick:()=>D(O,"cancel"),children:"Cancel"})]})})]},O._id)})})]}),e.length===0&&n.jsx("div",{className:"no-subscriptions",children:n.jsx("p",{children:"No subscriptions found for the selected criteria."})})]}),j&&g&&n.jsx("div",{className:"modal-overlay",onClick:B,children:n.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h2",{children:[y==="view"&&"Subscription Details",y==="pause"&&"Pause Subscription",y==="cancel"&&"Cancel Subscription"]}),n.jsx("button",{className:"close-btn",onClick:B,children:""})]}),n.jsxs("div",{className:"modal-body",children:[y==="view"&&n.jsxs("div",{className:"subscription-details",children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Customer:"})," ",(F=g.userId)==null?void 0:F.name]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Product:"})," ",(M=g.productId)==null?void 0:M.name]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Type:"})," ",g.subscriptionType]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Quantity:"})," ",g.quantity]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Price:"})," ",g.totalPrice]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Status:"})," ",g.status]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Start Date:"})," ",k(g.startDate)]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"End Date:"})," ",k(g.endDate)]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Next Delivery:"})," ",k(g.nextDeliveryDate)]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Address:"})," ",g.deliveryAddress]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Days:"})," ",(L=g.deliveryDays)==null?void 0:L.join(", ")]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Time:"})," ",g.deliveryTime]})]}),y==="pause"&&n.jsxs("div",{className:"pause-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"pause-reason",children:"Reason for pausing:"}),n.jsx("textarea",{id:"pause-reason",placeholder:"Enter reason for pausing subscription...",rows:"3"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"pause-end-date",children:"Pause until (optional):"}),n.jsx("input",{type:"date",id:"pause-end-date"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"btn-confirm",onClick:()=>{const O=document.getElementById("pause-reason").value,W=document.getElementById("pause-end-date").value;C(g._id,"pause",{pauseReason:O,pauseEndDate:W})},children:"Pause Subscription"}),n.jsx("button",{className:"btn-cancel",onClick:B,children:"Cancel"})]})]}),y==="cancel"&&n.jsxs("div",{className:"cancel-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"cancel-reason",children:"Reason for cancellation:"}),n.jsx("textarea",{id:"cancel-reason",placeholder:"Enter reason for cancelling subscription...",rows:"3"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"btn-confirm",onClick:()=>{const O=document.getElementById("cancel-reason").value;C(g._id,"cancel",{cancellationReason:O})},children:"Cancel Subscription"}),n.jsx("button",{className:"btn-cancel",onClick:B,children:"Keep Subscription"})]})]})]})]})})]})},Mae=()=>{var L,O,W;const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(null),[l,d]=N.useState(""),[u,h]=N.useState([]),[p,m]=N.useState({status:"",planType:"",search:""}),[g,v]=N.useState(null),[j,b]=N.useState(!1),[y,T]=N.useState(""),[E,C]=N.useState({scheduledDate:"",status:"scheduled",deliveryPerson:{name:"",phone:"",id:""},deliveryNotes:"",rating:null,feedback:""});N.useEffect(()=>{(async()=>{try{const R=await(await fetch("https://hotelvirat.com/api/v1/hotel/branch")).json();h(R),R.length>0&&d(R[0]._id)}catch(I){console.error("Error fetching branches:",I)}})()},[]),N.useEffect(()=>{l&&S()},[l,p]);const S=async()=>{a(!0);try{let P=`https://hotelvirat.com/api/v1/hotel/subscription-order?branchId=${l}`;p.status&&(P+=`&status=${p.status}`),p.planType&&(P+=`&planType=${p.planType}`);const R=await(await fetch(P)).json();if(R.success){let H=R.data;p.search&&(H=H.filter(V=>{var he,U,Y,z;return((U=(he=V.userId)==null?void 0:he.name)==null?void 0:U.toLowerCase().includes(p.search.toLowerCase()))||((z=(Y=V.productId)==null?void 0:Y.name)==null?void 0:z.toLowerCase().includes(p.search.toLowerCase()))})),t(H)}else s(R.message)}catch(P){console.error("Error fetching subscription orders:",P),s("Failed to fetch subscription orders")}finally{a(!1)}},A=P=>{switch(P){case"active":return"#4CAF50";case"paused":return"#FF9800";case"cancelled":return"#F44336";case"completed":return"#9E9E9E";default:return"#666"}},k=P=>{switch(P){case"daily":return"#2196F3";case"weekly":return"#9C27B0";case"monthly":return"#FF5722";case"yearly":return"#4CAF50";default:return"#666"}},D=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),B=(P,I)=>{v(P),T(I),b(!0)},F=()=>{b(!1),v(null),T(""),C({scheduledDate:"",status:"scheduled",deliveryPerson:{name:"",phone:"",id:""},deliveryNotes:"",rating:null,feedback:""})},M=async()=>{try{const I=await(await fetch(`https://hotelvirat.com/api/v1/hotel/subscription-order/${g._id}/delivery`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)})).json();I.success?(alert("Delivery status updated successfully!"),S(),F()):alert("Error updating delivery status: "+I.message)}catch(P){console.error("Error updating delivery status:",P),alert("Error updating delivery status")}};return r?n.jsx("div",{className:"subscription-management-container",children:n.jsxs("div",{className:"loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading subscription orders..."})]})}):n.jsxs("div",{className:"subscription-management-container",children:[n.jsx("div",{className:"subscription-management-header",children:n.jsx("h1",{children:"Subscription Order Management"})}),n.jsxs("div",{className:"branch-selector",children:[n.jsx("label",{htmlFor:"branch-select",children:"Select Branch:"}),n.jsx("select",{id:"branch-select",value:l,onChange:P=>d(P.target.value),className:"branch-select",children:u.map(P=>n.jsx("option",{value:P._id,children:P.name},P._id))})]}),n.jsxs("div",{className:"filters",children:[n.jsx("div",{className:"filter-group",children:n.jsx("input",{type:"text",placeholder:"Search by customer or product...",value:p.search,onChange:P=>m({...p,search:P.target.value}),className:"search-input"})}),n.jsx("div",{className:"filter-group",children:n.jsxs("select",{value:p.status,onChange:P=>m({...p,status:P.target.value}),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"completed",children:"Completed"})]})}),n.jsx("div",{className:"filter-group",children:n.jsxs("select",{value:p.planType,onChange:P=>m({...p,planType:P.target.value}),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Plans"}),n.jsx("option",{value:"daily",children:"Daily"}),n.jsx("option",{value:"weekly",children:"Weekly"}),n.jsx("option",{value:"monthly",children:"Monthly"}),n.jsx("option",{value:"yearly",children:"Yearly"})]})})]}),n.jsxs("div",{className:"subscription-orders-table-container",children:[n.jsxs("table",{className:"subscription-orders-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Product"}),n.jsx("th",{children:"Plan"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Next Delivery"}),n.jsx("th",{children:"Cycles"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:e.map(P=>{var I,R,H,V,he;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:"customer-info",children:[n.jsx("strong",{children:(I=P.userId)==null?void 0:I.name}),n.jsx("span",{children:(R=P.userId)==null?void 0:R.mobile})]})}),n.jsx("td",{children:n.jsxs("div",{className:"product-info",children:[n.jsx("img",{src:((H=P.productId)==null?void 0:H.image)||"/placeholder-product.jpg",alt:(V=P.productId)==null?void 0:V.name,className:"product-image"}),n.jsx("span",{children:(he=P.productId)==null?void 0:he.name})]})}),n.jsx("td",{children:n.jsx("span",{className:"plan-type",style:{backgroundColor:k(P.planType)},children:P.planType})}),n.jsxs("td",{children:["",P.price]}),n.jsx("td",{children:n.jsx("span",{className:"status-badge",style:{backgroundColor:A(P.status)},children:P.status})}),n.jsx("td",{children:D(P.nextDeliveryDate)}),n.jsxs("td",{children:[P.completedCycles,"/",P.totalCycles||""]}),n.jsx("td",{children:n.jsx("div",{className:"action-buttons",children:n.jsx("button",{className:"btn-view",onClick:()=>B(P,"view"),children:"View"})})})]},P._id)})})]}),e.length===0&&n.jsx("div",{className:"no-subscriptions",children:n.jsx("p",{children:"No subscription orders found for the selected criteria."})})]}),j&&g&&n.jsx("div",{className:"modal-overlay",onClick:F,children:n.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Subscription Order Details"}),n.jsx("button",{className:"close-btn",onClick:F,children:""})]}),n.jsxs("div",{className:"modal-body",children:[y==="view"&&n.jsxs("div",{className:"subscription-details",children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Customer:"})," ",(L=g.userId)==null?void 0:L.name]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Product:"})," ",(O=g.productId)==null?void 0:O.name]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Plan Type:"})," ",g.planType]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Price:"})," ",g.price]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Status:"})," ",g.status]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Start Date:"})," ",D(g.startDate)]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Address:"})," ",g.deliveryAddress]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Days:"})," ",(W=g.deliveryDays)==null?void 0:W.join(", ")]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Time:"})," ",g.deliveryTime]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Payment Method:"})," ",g.paymentMethod]}),g.deliveryTracking&&g.deliveryTracking.length>0&&n.jsxs("div",{className:"delivery-tracking-section",children:[n.jsx("h4",{children:"Recent Deliveries"}),g.deliveryTracking.slice(0,3).map((P,I)=>n.jsxs("div",{className:"delivery-item",children:[n.jsxs("div",{className:"delivery-status",children:[n.jsx("span",{className:`status-badge ${P.status}`,children:P.status.replace("_"," ").toUpperCase()}),n.jsx("span",{className:"delivery-date",children:D(P.scheduledDate)})]}),P.deliveryPerson&&n.jsxs("div",{className:"delivery-person",children:["By: ",P.deliveryPerson.name]}),P.deliveryNotes&&n.jsx("div",{className:"delivery-notes",children:P.deliveryNotes})]},I))]}),n.jsx("div",{className:"modal-actions",children:n.jsx("button",{className:"btn-update-delivery",onClick:()=>{T("delivery"),C({scheduledDate:new Date().toISOString().split("T")[0],status:"scheduled",deliveryPerson:{name:"",phone:"",id:""},deliveryNotes:"",rating:null,feedback:""})},children:"Update Delivery Status"})})]}),y==="delivery"&&n.jsxs("div",{className:"delivery-form",children:[n.jsx("h3",{children:"Update Delivery Status"}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"scheduledDate",children:"Scheduled Date:"}),n.jsx("input",{type:"date",id:"scheduledDate",value:E.scheduledDate,onChange:P=>C({...E,scheduledDate:P.target.value}),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"status",children:"Delivery Status:"}),n.jsxs("select",{id:"status",value:E.status,onChange:P=>C({...E,status:P.target.value}),required:!0,children:[n.jsx("option",{value:"scheduled",children:"Scheduled"}),n.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"rescheduled",children:"Rescheduled"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"deliveryPersonName",children:"Delivery Person Name:"}),n.jsx("input",{type:"text",id:"deliveryPersonName",value:E.deliveryPerson.name,onChange:P=>C({...E,deliveryPerson:{...E.deliveryPerson,name:P.target.value}}),placeholder:"Enter delivery person name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"deliveryPersonPhone",children:"Delivery Person Phone:"}),n.jsx("input",{type:"tel",id:"deliveryPersonPhone",value:E.deliveryPerson.phone,onChange:P=>C({...E,deliveryPerson:{...E.deliveryPerson,phone:P.target.value}}),placeholder:"Enter phone number"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"deliveryNotes",children:"Delivery Notes:"}),n.jsx("textarea",{id:"deliveryNotes",value:E.deliveryNotes,onChange:P=>C({...E,deliveryNotes:P.target.value}),placeholder:"Enter delivery notes",rows:"3"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"rating",children:"Customer Rating (1-5):"}),n.jsxs("select",{id:"rating",value:E.rating||"",onChange:P=>C({...E,rating:P.target.value?parseInt(P.target.value):null}),children:[n.jsx("option",{value:"",children:"No rating"}),n.jsx("option",{value:"1",children:"1 Star"}),n.jsx("option",{value:"2",children:"2 Stars"}),n.jsx("option",{value:"3",children:"3 Stars"}),n.jsx("option",{value:"4",children:"4 Stars"}),n.jsx("option",{value:"5",children:"5 Stars"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"feedback",children:"Customer Feedback:"}),n.jsx("textarea",{id:"feedback",value:E.feedback,onChange:P=>C({...E,feedback:P.target.value}),placeholder:"Enter customer feedback",rows:"3"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"btn-confirm",onClick:M,children:"Update Delivery"}),n.jsx("button",{className:"btn-cancel",onClick:()=>T("view"),children:"Cancel"})]})]})]})]})})]})},Bae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState(""),[u,h]=N.useState(!0),[p,m]=N.useState(!1),[g,v]=N.useState(""),[j,b]=N.useState(null),[y,T]=N.useState({productId:"",description:"",image:null,isActive:!0});N.useEffect(()=>{(async()=>{try{const P=await(await fetch("https://hotelvirat.com/api/v1/hotel/branch")).json();a(P),P.length>0&&d(P[0])}catch(W){console.error("Error fetching branches:",W)}})()},[]);const E=async()=>{try{const O=`https://hotelvirat.com/api/v1/hotel/menu?t=${Date.now()}`,W=await fetch(O,{method:"GET",cache:"no-cache",headers:{"Content-Type":"application/json"}});if(!W.ok)throw new Error(`HTTP error! status: ${W.status}`);const P=await W.json();Array.isArray(P)?s(P):s([])}catch(O){console.error("Error fetching products:",O),s([])}};N.useEffect(()=>{E()},[]);const C=async()=>{if(!(!l||!l._id))try{console.log(" Fetching meals for branch:",l._id);const O=`https://hotelvirat.com/api/v1/hotel/meal-of-the-day/branch/${l._id}`;console.log(" API URL:",O);const W=await fetch(O);if(console.log(" Response status:",W.status),console.log(" Response ok:",W.ok),!W.ok)throw new Error(`HTTP error! status: ${W.status}`);const P=await W.json();console.log(" API response:",P),P.success&&Array.isArray(P.data)?(console.log(" Setting meals:",P.data.length,"items"),t(P.data)):(console.error(" Invalid API response:",P),t([]))}catch(O){console.error(" Error fetching meals:",O),t([])}};N.useEffect(()=>{l&&l._id&&C()},[l]);const S=async O=>{if(O.preventDefault(),!y.productId||!l){alert("Please select a product and branch");return}try{const W={productId:y.productId,branchId:l._id,description:y.description||"",isActive:y.isActive};if(y.image&&y.image instanceof File){const P=new FormData;P.append("image",y.image),Object.keys(W).forEach(I=>{P.append(I,W[I])}),await fetch("https://hotelvirat.com/api/v1/hotel/meal-of-the-day",{method:"POST",body:P})}else await fetch("https://hotelvirat.com/api/v1/hotel/meal-of-the-day",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});C(),T({productId:"",description:"",image:null,isActive:!0})}catch(W){console.error("Error saving meal:",W)}},A=async O=>{if(window.confirm("Are you sure you want to delete this meal?"))try{await fetch(`https://hotelvirat.com/api/v1/hotel/meal-of-the-day/${O}`,{method:"DELETE"}),C()}catch(W){console.error("Error deleting meal:",W)}},k=async(O,W)=>{try{(await fetch(`https://hotelvirat.com/api/v1/hotel/meal-of-the-day/${O}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!W})})).ok&&C()}catch(P){console.error("Error updating meal status:",P)}},D=O=>{const W=O.target.files[0];W&&T({...y,image:W})},B=O=>{const{name:W,value:P,type:I,checked:R}=O.target;T(H=>({...H,[W]:I==="checkbox"?R:P}))},F=O=>{const W=O.target.value,P=r.find(I=>I._id===W);d(P)},M=O=>{const W=i.find(P=>P._id===O);return W?W.name:"Unknown Product"},L=O=>{const W=i.find(P=>P._id===O);return W?W.price:0};return n.jsxs("div",{className:"meal-of-the-day-container",children:[n.jsxs("div",{className:"header",children:[n.jsx("h2",{children:" Meal of the Day Management"}),n.jsx("p",{children:"Create and manage daily special meals for each branch with beautiful presentation"})]}),n.jsxs("div",{className:"branch-selection",children:[n.jsx("label",{htmlFor:"branchSelect",children:" Select Branch"}),n.jsxs("select",{id:"branchSelect",value:l?l._id:"",onChange:F,className:"form-control",children:[n.jsx("option",{value:"",children:"Choose a branch to manage meals..."}),r.map(O=>n.jsx("option",{value:O._id,children:O.name},O._id))]})]}),l&&n.jsxs("div",{className:"add-meal-form",children:[n.jsx("h3",{children:" Add New Meal of the Day"}),n.jsxs("form",{onSubmit:S,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"productId",children:" Select Product *"}),n.jsxs("select",{id:"productId",name:"productId",value:y.productId,onChange:B,className:"form-control",required:!0,children:[n.jsx("option",{value:"",children:"Choose a product from the menu..."}),i.length===0?n.jsx("option",{value:"",disabled:!0,children:"No products available"}):i.map(O=>n.jsxs("option",{value:O._id,children:[O.name," - ",O.price]},O._id))]}),i.length===0&&n.jsx("small",{className:"text-muted",children:" No products found. Please add products to the menu first."})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"description",children:" Description"}),n.jsx("textarea",{id:"description",name:"description",value:y.description,onChange:B,className:"form-control",rows:"3",placeholder:"Describe this special meal... (optional)"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"image",children:" Custom Image (Optional)"}),n.jsx("input",{type:"file",id:"image",name:"image",onChange:D,className:"form-control",accept:"image/*"}),n.jsx("small",{className:"text-muted",children:" If no custom image is provided, the product's default image will be used."})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",name:"isActive",checked:y.isActive,onChange:B})," Active (Show this meal to customers)"]})}),n.jsx("button",{type:"submit",className:"btn btn-primary",children:" Add Meal of the Day"})]})]}),l&&n.jsxs("div",{className:"meals-list",children:[n.jsxs("h3",{children:[" Current Meals for ",l.name]}),!e||e.length===0?n.jsx("p",{children:" No meals of the day set for this branch yet. Add your first special meal above!"}):n.jsx("div",{className:"meals-grid",children:Array.isArray(e)&&e.map(O=>n.jsxs("div",{className:"meal-card",children:[n.jsxs("div",{className:"meal-image",children:[O.image?n.jsx("img",{src:O.image,alt:M(O.productId),className:"img-fluid"}):n.jsx("div",{className:"no-image",children:" No Image Available"}),n.jsx("div",{className:`status-badge ${O.isActive?"active":"inactive"}`,children:O.isActive?" Active":" Inactive"})]}),n.jsxs("div",{className:"meal-info",children:[n.jsx("h4",{children:M(O.productId)}),n.jsxs("p",{className:"price",children:["",L(O.productId)]}),O.description&&n.jsx("p",{className:"description",children:O.description}),n.jsxs("div",{className:"meal-actions",children:[n.jsx("button",{className:`btn btn-sm ${O.isActive?"btn-secondary":"btn-success"}`,onClick:()=>k(O._id,O.isActive),children:O.isActive?" Deactivate":" Activate"}),n.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>A(O._id),children:" Delete"})]})]})]},O._id))})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Fm={};Fm.version="0.18.5";var b8=1252,Fae=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],j8=function(e){Fae.indexOf(e)!=-1&&(b8=e)};function Lae(){j8(1252)}var wh=function(e){j8(e)};function $ae(){wh(1200),Lae()}var vp=function(t){return String.fromCharCode(t)},MI=function(t){return String.fromCharCode(t)},Lm,no="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Sh(e){for(var t="",r=0,a=0,i=0,s=0,l=0,d=0,u=0,h=0;h<e.length;)r=e.charCodeAt(h++),s=r>>2,a=e.charCodeAt(h++),l=(r&3)<<4|a>>4,i=e.charCodeAt(h++),d=(a&15)<<2|i>>6,u=i&63,isNaN(a)?d=u=64:isNaN(i)&&(u=64),t+=no.charAt(s)+no.charAt(l)+no.charAt(d)+no.charAt(u);return t}function Ss(e){var t="",r=0,a=0,i=0,s=0,l=0,d=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<e.length;)s=no.indexOf(e.charAt(h++)),l=no.indexOf(e.charAt(h++)),r=s<<2|l>>4,t+=String.fromCharCode(r),d=no.indexOf(e.charAt(h++)),a=(l&15)<<4|d>>2,d!==64&&(t+=String.fromCharCode(a)),u=no.indexOf(e.charAt(h++)),i=(d&3)<<6|u,u!==64&&(t+=String.fromCharCode(i));return t}var ur=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Es=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function il(e){return ur?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function BI(e){return ur?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var pi=function(t){return ur?Es(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function L0(e){if(typeof ArrayBuffer>"u")return pi(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function Hh(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function zae(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var _n=ur?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Es(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Uae(e){for(var t=[],r=0,a=e.length+250,i=il(e.length+255),s=0;s<e.length;++s){var l=e.charCodeAt(s);if(l<128)i[r++]=l;else if(l<2048)i[r++]=192|l>>6&31,i[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var d=e.charCodeAt(++s)&1023;i[r++]=240|l>>8&7,i[r++]=128|l>>2&63,i[r++]=128|d>>6&15|(l&3)<<4,i[r++]=128|d&63}else i[r++]=224|l>>12&15,i[r++]=128|l>>6&63,i[r++]=128|l&63;r>a&&(t.push(i.slice(0,r)),r=0,i=il(65535),a=65530)}return t.push(i.slice(0,r)),_n(t)}var ku=/\u0000/g,bp=/[\u0001-\u0006]/g;function gc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function xi(e,t){var r=""+e;return r.length>=t?r:Wr("0",t-r.length)+r}function xS(e,t){var r=""+e;return r.length>=t?r:Wr(" ",t-r.length)+r}function $m(e,t){var r=""+e;return r.length>=t?r:r+Wr(" ",t-r.length)}function qae(e,t){var r=""+Math.round(e);return r.length>=t?r:Wr("0",t-r.length)+r}function Wae(e,t){var r=""+e;return r.length>=t?r:Wr("0",t-r.length)+r}var FI=Math.pow(2,32);function ac(e,t){if(e>FI||e<-FI)return qae(e,t);var r=Math.round(e);return Wae(r,t)}function zm(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var LI=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],oj=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Hae(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Hr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},$I={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Gae={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Um(e,t,r){for(var a=e<0?-1:1,i=e*a,s=0,l=1,d=0,u=1,h=0,p=0,m=Math.floor(i);h<t&&(m=Math.floor(i),d=m*l+s,p=m*h+u,!(i-m<5e-8));)i=1/(i-m),s=l,l=d,u=h,h=p;if(p>t&&(h>t?(p=u,d=s):(p=h,d=l)),!r)return[0,a*d,p];var g=Math.floor(a*d/p);return[g,a*d-g*p,p]}function jp(e,t,r){if(e>2958465||e<0)return null;var a=e|0,i=Math.floor(86400*(e-a)),s=0,l=[],d={D:a,T:i,u:86400*(e-a)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(d.u)<1e-6&&(d.u=0),t&&t.date1904&&(a+=1462),d.u>.9999&&(d.u=0,++i==86400&&(d.T=i=0,++a,++d.D)),a===60)l=r?[1317,10,29]:[1900,2,29],s=3;else if(a===0)l=r?[1317,8,29]:[1900,1,0],s=6;else{a>60&&--a;var u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),l=[u.getFullYear(),u.getMonth()+1,u.getDate()],s=u.getDay(),a<60&&(s=(s+6)%7),r&&(s=Jae(u,l))}return d.y=l[0],d.m=l[1],d.d=l[2],d.S=i%60,i=Math.floor(i/60),d.M=i%60,i=Math.floor(i/60),d.H=i,d.q=s,d}var w8=new Date(1899,11,31,0,0,0),Vae=w8.getTime(),Yae=new Date(1900,2,1,0,0,0);function S8(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Yae&&(r+=24*60*60*1e3),(r-(Vae+(e.getTimezoneOffset()-w8.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function gS(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Kae(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Xae(e){var t=e<0?12:11,r=gS(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Qae(e){var t=gS(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Zae(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Xae(e):t===10?r=e.toFixed(10).substr(0,12):r=Qae(e),gS(Kae(r.toUpperCase()))}function Y2(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Zae(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return co(14,S8(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Jae(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function eie(e,t,r,a){var i="",s=0,l=0,d=r.y,u,h=0;switch(e){case 98:d=r.y+543;case 121:switch(t.length){case 1:case 2:u=d%100,h=2;break;default:u=d%1e4,h=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,h=t.length;break;case 3:return oj[r.m-1][1];case 5:return oj[r.m-1][0];default:return oj[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,h=t.length;break;case 3:return LI[r.q][0];default:return LI[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,h=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,h=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,h=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?xi(r.S,t.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,s=Math.round(l*(r.S+r.u)),s>=60*l&&(s=0),t==="s"?s===0?"0":""+s/l:(i=xi(s,2+a),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}h=t.length===3?1:2;break;case 101:u=d,h=1;break}var p=h>0?xi(u,h):"";return p}function ao(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var N8=/%/g;function tie(e,t,r){var a=t.replace(N8,""),i=t.length-a.length;return ps(e,a,r*Math.pow(10,2*i))+Wr("%",i)}function rie(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return ps(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function T8(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+T8(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(t/Math.pow(10,s)).toPrecision(a+1+(i+s)%i),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,u,h,p){return u+h+p.substr(0,(i+s)%i)+"."+p.substr(s)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var C8=/# (\?+)( ?)\/( ?)(\d+)/;function nie(e,t,r){var a=parseInt(e[4],10),i=Math.round(t*a),s=Math.floor(i/a),l=i-s*a,d=a;return r+(s===0?"":""+s)+" "+(l===0?Wr(" ",e[1].length+1+e[4].length):xS(l,e[1].length)+e[2]+"/"+e[3]+xi(d,e[4].length))}function aie(e,t,r){return r+(t===0?"":""+t)+Wr(" ",e[1].length+2+e[4].length)}var A8=/^#*0*\.([0#]+)/,E8=/\).*[0#]/,O8=/\(###\) ###\\?-####/;function Xn(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function zI(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function UI(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function iie(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function sie(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ha(e,t,r){if(e.charCodeAt(0)===40&&!t.match(E8)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ha("n",a,r):"("+Ha("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return rie(e,t,r);if(t.indexOf("%")!==-1)return tie(e,t,r);if(t.indexOf("E")!==-1)return T8(t,r);if(t.charCodeAt(0)===36)return"$"+Ha(e,t.substr(t.charAt(1)==" "?2:1),r);var i,s,l,d,u=Math.abs(r),h=r<0?"-":"";if(t.match(/^00+$/))return h+ac(u,t.length);if(t.match(/^[#?]+$/))return i=ac(r,0),i==="0"&&(i=""),i.length>t.length?i:Xn(t.substr(0,t.length-i.length))+i;if(s=t.match(C8))return nie(s,u,h);if(t.match(/^#+0+$/))return h+ac(u,t.length-t.indexOf("0"));if(s=t.match(A8))return i=zI(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Xn(s[1])).replace(/\.$/,"."+Xn(s[1])).replace(/\.(\d*)$/,function(j,b){return"."+b+Wr("0",Xn(s[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return h+zI(u,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return h+ao(ac(u,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ha(e,t,-r):ao(""+(Math.floor(r)+iie(r,s[1].length)))+"."+xi(UI(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Ha(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=gc(Ha(e,t.replace(/[\\-]/g,""),r)),l=0,gc(gc(t.replace(/\\/g,"")).replace(/[0#]/g,function(j){return l<i.length?i.charAt(l++):j==="0"?"0":""}));if(t.match(O8))return i=Ha(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),d=Um(u,Math.pow(10,l)-1,!1),i=""+h,p=ps("n",s[1],d[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+s[2]+"/"+s[3],p=$m(d[2],l),p.length<s[4].length&&(p=Xn(s[4].substr(s[4].length-p.length))+p),i+=p,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),d=Um(u,Math.pow(10,l)-1,!0),h+(d[0]||(d[1]?"":"0"))+" "+(d[1]?xS(d[1],l)+s[2]+"/"+s[3]+$m(d[2],l):Wr(" ",2*l+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=ac(r,0),t.length<=i.length?i:Xn(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=t.indexOf(".")-l,g=t.length-i.length-m;return Xn(t.substr(0,m)+i+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return l=UI(r,s[1].length),r<0?"-"+Ha(e,t,-r):ao(sie(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(j){return"00,"+(j.length<3?xi(0,3-j.length):"")+j})+"."+xi(l,s[1].length);switch(t){case"###,##0.00":return Ha(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=ao(ac(u,0));return v!=="0"?h+v:"";case"###,###.00":return Ha(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ha(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function oie(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return ps(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function lie(e,t,r){var a=t.replace(N8,""),i=t.length-a.length;return ps(e,a,r*Math.pow(10,2*i))+Wr("%",i)}function _8(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+_8(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(t/Math.pow(10,s)).toPrecision(a+1+(i+s)%i),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,u,h,p){return u+h+p.substr(0,(i+s)%i)+"."+p.substr(s)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function _i(e,t,r){if(e.charCodeAt(0)===40&&!t.match(E8)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?_i("n",a,r):"("+_i("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return oie(e,t,r);if(t.indexOf("%")!==-1)return lie(e,t,r);if(t.indexOf("E")!==-1)return _8(t,r);if(t.charCodeAt(0)===36)return"$"+_i(e,t.substr(t.charAt(1)==" "?2:1),r);var i,s,l,d,u=Math.abs(r),h=r<0?"-":"";if(t.match(/^00+$/))return h+xi(u,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:Xn(t.substr(0,t.length-i.length))+i;if(s=t.match(C8))return aie(s,u,h);if(t.match(/^#+0+$/))return h+xi(u,t.length-t.indexOf("0"));if(s=t.match(A8))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Xn(s[1])).replace(/\.$/,"."+Xn(s[1])),i=i.replace(/\.(\d*)$/,function(j,b){return"."+b+Wr("0",Xn(s[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return h+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return h+ao(""+u);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+_i(e,t,-r):ao(""+r)+"."+Wr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return _i(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=gc(_i(e,t.replace(/[\\-]/g,""),r)),l=0,gc(gc(t.replace(/\\/g,"")).replace(/[0#]/g,function(j){return l<i.length?i.charAt(l++):j==="0"?"0":""}));if(t.match(O8))return i=_i(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),d=Um(u,Math.pow(10,l)-1,!1),i=""+h,p=ps("n",s[1],d[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+s[2]+"/"+s[3],p=$m(d[2],l),p.length<s[4].length&&(p=Xn(s[4].substr(s[4].length-p.length))+p),i+=p,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),d=Um(u,Math.pow(10,l)-1,!0),h+(d[0]||(d[1]?"":"0"))+" "+(d[1]?xS(d[1],l)+s[2]+"/"+s[3]+$m(d[2],l):Wr(" ",2*l+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:Xn(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=t.indexOf(".")-l,g=t.length-i.length-m;return Xn(t.substr(0,m)+i+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+_i(e,t,-r):ao(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(j){return"00,"+(j.length<3?xi(0,3-j.length):"")+j})+"."+xi(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var v=ao(""+u);return v!=="0"?h+v:"";default:if(t.match(/\.[0#?]*$/))return _i(e,t.slice(0,t.lastIndexOf(".")),r)+Xn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ps(e,t,r){return(r|0)===r?_i(e,t,r):Ha(e,t,r)}function cie(e){for(var t=[],r=!1,a=0,i=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(i,a-i),i=a+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var k8=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function I8(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":zm(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(k8))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function die(e,t,r,a){for(var i=[],s="",l=0,d="",u="t",h,p,m,g="H";l<e.length;)switch(d=e.charAt(l)){case"G":if(!zm(e,l))throw new Error("unrecognized character "+d+" in "+e);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(m=e.charCodeAt(++l))!==34&&l<e.length;)s+=String.fromCharCode(m);i[i.length]={t:"t",v:s},++l;break;case"\\":var v=e.charAt(++l),j=v==="("||v===")"?v:"t";i[i.length]={t:j,v},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(h==null&&(h=jp(t,r,e.charAt(l+1)==="2"),h==null))return"";i[i.length]={t:"X",v:e.substr(l,2)},u=d,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||h==null&&(h=jp(t,r),h==null))return"";for(s=d;++l<e.length&&e.charAt(l).toLowerCase()===d;)s+=d;d==="m"&&u.toLowerCase()==="h"&&(d="M"),d==="h"&&(d=g),i[i.length]={t:d,v:s},u=d;break;case"A":case"a":case"":var b={t:d,v:d};if(h==null&&(h=jp(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(b.v=h.H>=12?"P":"A"),b.t="T",g="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(b.v=h.H>=12?"PM":"AM"),b.t="T",l+=5,g="h"):e.substr(l,5).toUpperCase()==="/"?(h!=null&&(b.v=h.H>=12?"":""),b.t="T",l+=5,g="h"):(b.t="t",++l),h==null&&b.t==="T")return"";i[i.length]=b,u=d;break;case"[":for(s=d;e.charAt(l++)!=="]"&&l<e.length;)s+=e.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(k8)){if(h==null&&(h=jp(t,r),h==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},u=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",I8(e)||(i[i.length]={t:"t",v:s}));break;case".":if(h!=null){for(s=d;++l<e.length&&(d=e.charAt(l))==="0";)s+=d;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=d;++l<e.length&&"0#?.,E+-%".indexOf(d=e.charAt(l))>-1;)s+=d;i[i.length]={t:"n",v:s};break;case"?":for(s=d;e.charAt(++l)===d;)s+=d;i[i.length]={t:d,v:s},u=d;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:a===1?"t":d,v:d},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=d;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)s+=e.charAt(l);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:d,v:d},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d)===-1)throw new Error("unrecognized character "+d+" in "+e);i[i.length]={t:"t",v:d},++l;break}var y=0,T=0,E;for(l=i.length-1,u="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=g,u="h",y<1&&(y=1);break;case"s":(E=i[l].v.match(/\.0+$/))&&(T=Math.max(T,E[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":u=i[l].t;break;case"m":u==="s"&&(i[l].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[l].v.match(/[Hh]/)&&(y=1),y<2&&i[l].v.match(/[Mm]/)&&(y=2),y<3&&i[l].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var C="",S;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=eie(i[l].t.charCodeAt(0),i[l].v,h,T),i[l].t="t";break;case"n":case"?":for(S=l+1;i[S]!=null&&((d=i[S].t)==="?"||d==="D"||(d===" "||d==="t")&&i[S+1]!=null&&(i[S+1].t==="?"||i[S+1].t==="t"&&i[S+1].v==="/")||i[l].t==="("&&(d===" "||d==="n"||d===")")||d==="t"&&(i[S].v==="/"||i[S].v===" "&&i[S+1]!=null&&i[S+1].t=="?"));)i[l].v+=i[S].v,i[S]={v:"",t:";"},++S;C+=i[l].v,l=S-1;break;case"G":i[l].t="t",i[l].v=Y2(t,r);break}var A="",k,D;if(C.length>0){C.charCodeAt(0)==40?(k=t<0&&C.charCodeAt(0)===45?-t:t,D=ps("n",C,k)):(k=t<0&&a>1?-t:t,D=ps("n",C,k),k<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),S=D.length-1;var B=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){B=l;break}var F=i.length;if(B===i.length&&D.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(S>=i[l].v.length-1?(S-=i[l].v.length,i[l].v=D.substr(S+1,i[l].v.length)):S<0?i[l].v="":(i[l].v=D.substr(0,S+1),S=-1),i[l].t="t",F=l);S>=0&&F<i.length&&(i[F].v=D.substr(0,S+1)+i[F].v)}else if(B!==i.length&&D.indexOf("E")===-1){for(S=D.indexOf(".")-1,l=B;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(p=i[l].v.indexOf(".")>-1&&l===B?i[l].v.indexOf(".")-1:i[l].v.length-1,A=i[l].v.substr(p+1);p>=0;--p)S>=0&&(i[l].v.charAt(p)==="0"||i[l].v.charAt(p)==="#")&&(A=D.charAt(S--)+A);i[l].v=A,i[l].t="t",F=l}for(S>=0&&F<i.length&&(i[F].v=D.substr(0,S+1)+i[F].v),S=D.indexOf(".")+1,l=B;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==B)){for(p=i[l].v.indexOf(".")>-1&&l===B?i[l].v.indexOf(".")+1:0,A=i[l].v.substr(0,p);p<i[l].v.length;++p)S<D.length&&(A+=D.charAt(S++));i[l].v=A,i[l].t="t",F=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(k=a>1&&t<0&&l>0&&i[l-1].v==="-"?-t:t,i[l].v=ps(i[l].t,i[l].v,k),i[l].t="t");var M="";for(l=0;l!==i.length;++l)i[l]!=null&&(M+=i[l].v);return M}var qI=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function WI(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function uie(e,t){var r=cie(e),a=r.length,i=r[a-1].indexOf("@");if(a<4&&i>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(qI),d=r[1].match(qI);return WI(t,l)?[a,r[0]]:WI(t,d)?[a,r[1]]:[a,r[l!=null&&d!=null?2:1]]}return[a,s]}function co(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Hr)[e],a==null&&(a=r.table&&r.table[$I[e]]||Hr[$I[e]]),a==null&&(a=Gae[e]||"General");break}if(zm(a,0))return Y2(t,r);t instanceof Date&&(t=S8(t,r.date1904));var i=uie(a,t);if(zm(i[1]))return Y2(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return die(i[1],t,r,i[0])}function D8(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Hr[r]==null){t<0&&(t=r);continue}if(Hr[r]==e){t=r;break}}t<0&&(t=391)}return Hr[t]=e,t}function $0(e){for(var t=0;t!=392;++t)e[t]!==void 0&&D8(e[t],t)}function z0(){Hr=Hae()}var R8=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function hie(e){var t=typeof e=="number"?Hr[e]:e;return t=t.replace(R8,"(\\d+)"),new RegExp("^"+t+"$")}function fie(e,t,r){var a=-1,i=-1,s=-1,l=-1,d=-1,u=-1;(t.match(R8)||[]).forEach(function(m,g){var v=parseInt(r[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":a=v;break;case"d":s=v;break;case"h":l=v;break;case"s":u=v;break;case"m":l>=0?d=v:i=v;break}}),u>=0&&d==-1&&i>=0&&(d=i,i=-1);var h=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return l==-1&&d==-1&&u==-1?h:a==-1&&i==-1&&s==-1?p:h+"T"+p}var pie=function(){var e={};e.version="1.2.0";function t(){for(var D=0,B=new Array(256),F=0;F!=256;++F)D=F,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,B[F]=D;return typeof Int32Array<"u"?new Int32Array(B):B}var r=t();function a(D){var B=0,F=0,M=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)L[M]=D[M];for(M=0;M!=256;++M)for(F=D[M],B=256+M;B<4096;B+=256)F=L[B]=F>>>8^D[F&255];var O=[];for(M=1;M!=16;++M)O[M-1]=typeof Int32Array<"u"?L.subarray(M*256,M*256+256):L.slice(M*256,M*256+256);return O}var i=a(r),s=i[0],l=i[1],d=i[2],u=i[3],h=i[4],p=i[5],m=i[6],g=i[7],v=i[8],j=i[9],b=i[10],y=i[11],T=i[12],E=i[13],C=i[14];function S(D,B){for(var F=B^-1,M=0,L=D.length;M<L;)F=F>>>8^r[(F^D.charCodeAt(M++))&255];return~F}function A(D,B){for(var F=B^-1,M=D.length-15,L=0;L<M;)F=C[D[L++]^F&255]^E[D[L++]^F>>8&255]^T[D[L++]^F>>16&255]^y[D[L++]^F>>>24]^b[D[L++]]^j[D[L++]]^v[D[L++]]^g[D[L++]]^m[D[L++]]^p[D[L++]]^h[D[L++]]^u[D[L++]]^d[D[L++]]^l[D[L++]]^s[D[L++]]^r[D[L++]];for(M+=15;L<M;)F=F>>>8^r[(F^D[L++])&255];return~F}function k(D,B){for(var F=B^-1,M=0,L=D.length,O=0,W=0;M<L;)O=D.charCodeAt(M++),O<128?F=F>>>8^r[(F^O)&255]:O<2048?(F=F>>>8^r[(F^(192|O>>6&31))&255],F=F>>>8^r[(F^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,W=D.charCodeAt(M++)&1023,F=F>>>8^r[(F^(240|O>>8&7))&255],F=F>>>8^r[(F^(128|O>>2&63))&255],F=F>>>8^r[(F^(128|W>>6&15|(O&3)<<4))&255],F=F>>>8^r[(F^(128|W&63))&255]):(F=F>>>8^r[(F^(224|O>>12&15))&255],F=F>>>8^r[(F^(128|O>>6&63))&255],F=F>>>8^r[(F^(128|O&63))&255]);return~F}return e.table=r,e.bstr=S,e.buf=A,e.str=k,e}(),Tr=function(){var t={};t.version="1.2.1";function r(G,ie){for(var X=G.split("/"),ue=ie.split("/"),fe=0,ye=0,Ie=Math.min(X.length,ue.length);fe<Ie;++fe){if(ye=X[fe].length-ue[fe].length)return ye;if(X[fe]!=ue[fe])return X[fe]<ue[fe]?-1:1}return X.length-ue.length}function a(G){if(G.charAt(G.length-1)=="/")return G.slice(0,-1).indexOf("/")===-1?G:a(G.slice(0,-1));var ie=G.lastIndexOf("/");return ie===-1?G:G.slice(0,ie+1)}function i(G){if(G.charAt(G.length-1)=="/")return i(G.slice(0,-1));var ie=G.lastIndexOf("/");return ie===-1?G:G.slice(ie+1)}function s(G,ie){typeof ie=="string"&&(ie=new Date(ie));var X=ie.getHours();X=X<<6|ie.getMinutes(),X=X<<5|ie.getSeconds()>>>1,G.write_shift(2,X);var ue=ie.getFullYear()-1980;ue=ue<<4|ie.getMonth()+1,ue=ue<<5|ie.getDate(),G.write_shift(2,ue)}function l(G){var ie=G.read_shift(2)&65535,X=G.read_shift(2)&65535,ue=new Date,fe=X&31;X>>>=5;var ye=X&15;X>>>=4,ue.setMilliseconds(0),ue.setFullYear(X+1980),ue.setMonth(ye-1),ue.setDate(fe);var Ie=ie&31;ie>>>=5;var qe=ie&63;return ie>>>=6,ue.setHours(ie),ue.setMinutes(qe),ue.setSeconds(Ie<<1),ue}function d(G){Ea(G,0);for(var ie={},X=0;G.l<=G.length-4;){var ue=G.read_shift(2),fe=G.read_shift(2),ye=G.l+fe,Ie={};switch(ue){case 21589:X=G.read_shift(1),X&1&&(Ie.mtime=G.read_shift(4)),fe>5&&(X&2&&(Ie.atime=G.read_shift(4)),X&4&&(Ie.ctime=G.read_shift(4))),Ie.mtime&&(Ie.mt=new Date(Ie.mtime*1e3));break}G.l=ye,ie[ue]=Ie}return ie}var u;function h(){return u||(u={})}function p(G,ie){if(G[0]==80&&G[1]==75)return Oe(G,ie);if((G[0]|32)==109&&(G[1]|32)==105)return bt(G,ie);if(G.length<512)throw new Error("CFB file size "+G.length+" < 512");var X=3,ue=512,fe=0,ye=0,Ie=0,qe=0,De=0,Me=[],Fe=G.slice(0,512);Ea(Fe,0);var be=m(Fe);switch(X=be[0],X){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(be[1]==0)return Oe(G,ie);default:throw new Error("Major Version: Expected 3 or 4 saw "+X)}ue!==512&&(Fe=G.slice(0,ue),Ea(Fe,28));var et=G.slice(0,ue);g(Fe,X);var ut=Fe.read_shift(4,"i");if(X===3&&ut!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ut);Fe.l+=4,Ie=Fe.read_shift(4,"i"),Fe.l+=4,Fe.chk("00100000","Mini Stream Cutoff Size: "),qe=Fe.read_shift(4,"i"),fe=Fe.read_shift(4,"i"),De=Fe.read_shift(4,"i"),ye=Fe.read_shift(4,"i");for(var lt=-1,mt=0;mt<109&&(lt=Fe.read_shift(4,"i"),!(lt<0));++mt)Me[mt]=lt;var Tt=v(G,ue);y(De,ye,Tt,ue,Me);var Zt=E(Tt,Ie,Me,ue);Zt[Ie].name="!Directory",fe>0&&qe!==W&&(Zt[qe].name="!MiniFAT"),Zt[Me[0]].name="!FAT",Zt.fat_addrs=Me,Zt.ssz=ue;var Vt={},er=[],Vn=[],na=[];C(Ie,Zt,Tt,er,fe,Vt,Vn,qe),j(Vn,na,er),er.shift();var pn={FileIndex:Vn,FullPaths:na};return ie&&ie.raw&&(pn.raw={header:et,sectors:Tt}),pn}function m(G){if(G[G.l]==80&&G[G.l+1]==75)return[0,0];G.chk(P,"Header Signature: "),G.l+=16;var ie=G.read_shift(2,"u");return[G.read_shift(2,"u"),ie]}function g(G,ie){var X=9;switch(G.l+=2,X=G.read_shift(2)){case 9:if(ie!=3)throw new Error("Sector Shift: Expected 9 saw "+X);break;case 12:if(ie!=4)throw new Error("Sector Shift: Expected 12 saw "+X);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+X)}G.chk("0600","Mini Sector Shift: "),G.chk("000000000000","Reserved: ")}function v(G,ie){for(var X=Math.ceil(G.length/ie)-1,ue=[],fe=1;fe<X;++fe)ue[fe-1]=G.slice(fe*ie,(fe+1)*ie);return ue[X-1]=G.slice(X*ie),ue}function j(G,ie,X){for(var ue=0,fe=0,ye=0,Ie=0,qe=0,De=X.length,Me=[],Fe=[];ue<De;++ue)Me[ue]=Fe[ue]=ue,ie[ue]=X[ue];for(;qe<Fe.length;++qe)ue=Fe[qe],fe=G[ue].L,ye=G[ue].R,Ie=G[ue].C,Me[ue]===ue&&(fe!==-1&&Me[fe]!==fe&&(Me[ue]=Me[fe]),ye!==-1&&Me[ye]!==ye&&(Me[ue]=Me[ye])),Ie!==-1&&(Me[Ie]=ue),fe!==-1&&ue!=Me[ue]&&(Me[fe]=Me[ue],Fe.lastIndexOf(fe)<qe&&Fe.push(fe)),ye!==-1&&ue!=Me[ue]&&(Me[ye]=Me[ue],Fe.lastIndexOf(ye)<qe&&Fe.push(ye));for(ue=1;ue<De;++ue)Me[ue]===ue&&(ye!==-1&&Me[ye]!==ye?Me[ue]=Me[ye]:fe!==-1&&Me[fe]!==fe&&(Me[ue]=Me[fe]));for(ue=1;ue<De;++ue)if(G[ue].type!==0){if(qe=ue,qe!=Me[qe])do qe=Me[qe],ie[ue]=ie[qe]+"/"+ie[ue];while(qe!==0&&Me[qe]!==-1&&qe!=Me[qe]);Me[ue]=-1}for(ie[0]+="/",ue=1;ue<De;++ue)G[ue].type!==2&&(ie[ue]+="/")}function b(G,ie,X){for(var ue=G.start,fe=G.size,ye=[],Ie=ue;X&&fe>0&&Ie>=0;)ye.push(ie.slice(Ie*O,Ie*O+O)),fe-=O,Ie=zo(X,Ie*4);return ye.length===0?Ze(0):_n(ye).slice(0,G.size)}function y(G,ie,X,ue,fe){var ye=W;if(G===W){if(ie!==0)throw new Error("DIFAT chain shorter than expected")}else if(G!==-1){var Ie=X[G],qe=(ue>>>2)-1;if(!Ie)return;for(var De=0;De<qe&&(ye=zo(Ie,De*4))!==W;++De)fe.push(ye);y(zo(Ie,ue-4),ie-1,X,ue,fe)}}function T(G,ie,X,ue,fe){var ye=[],Ie=[];fe||(fe=[]);var qe=ue-1,De=0,Me=0;for(De=ie;De>=0;){fe[De]=!0,ye[ye.length]=De,Ie.push(G[De]);var Fe=X[Math.floor(De*4/ue)];if(Me=De*4&qe,ue<4+Me)throw new Error("FAT boundary crossed: "+De+" 4 "+ue);if(!G[Fe])break;De=zo(G[Fe],Me)}return{nodes:ye,data:ZI([Ie])}}function E(G,ie,X,ue){var fe=G.length,ye=[],Ie=[],qe=[],De=[],Me=ue-1,Fe=0,be=0,et=0,ut=0;for(Fe=0;Fe<fe;++Fe)if(qe=[],et=Fe+ie,et>=fe&&(et-=fe),!Ie[et]){De=[];var lt=[];for(be=et;be>=0;){lt[be]=!0,Ie[be]=!0,qe[qe.length]=be,De.push(G[be]);var mt=X[Math.floor(be*4/ue)];if(ut=be*4&Me,ue<4+ut)throw new Error("FAT boundary crossed: "+be+" 4 "+ue);if(!G[mt]||(be=zo(G[mt],ut),lt[be]))break}ye[et]={nodes:qe,data:ZI([De])}}return ye}function C(G,ie,X,ue,fe,ye,Ie,qe){for(var De=0,Me=ue.length?2:0,Fe=ie[G].data,be=0,et=0,ut;be<Fe.length;be+=128){var lt=Fe.slice(be,be+128);Ea(lt,64),et=lt.read_shift(2),ut=wS(lt,0,et-Me),ue.push(ut);var mt={name:ut,type:lt.read_shift(1),color:lt.read_shift(1),L:lt.read_shift(4,"i"),R:lt.read_shift(4,"i"),C:lt.read_shift(4,"i"),clsid:lt.read_shift(16),state:lt.read_shift(4,"i"),start:0,size:0},Tt=lt.read_shift(2)+lt.read_shift(2)+lt.read_shift(2)+lt.read_shift(2);Tt!==0&&(mt.ct=S(lt,lt.l-8));var Zt=lt.read_shift(2)+lt.read_shift(2)+lt.read_shift(2)+lt.read_shift(2);Zt!==0&&(mt.mt=S(lt,lt.l-8)),mt.start=lt.read_shift(4,"i"),mt.size=lt.read_shift(4,"i"),mt.size<0&&mt.start<0&&(mt.size=mt.type=0,mt.start=W,mt.name=""),mt.type===5?(De=mt.start,fe>0&&De!==W&&(ie[De].name="!StreamData")):mt.size>=4096?(mt.storage="fat",ie[mt.start]===void 0&&(ie[mt.start]=T(X,mt.start,ie.fat_addrs,ie.ssz)),ie[mt.start].name=mt.name,mt.content=ie[mt.start].data.slice(0,mt.size)):(mt.storage="minifat",mt.size<0?mt.size=0:De!==W&&mt.start!==W&&ie[De]&&(mt.content=b(mt,ie[De].data,(ie[qe]||{}).data))),mt.content&&Ea(mt.content,0),ye[ut]=mt,Ie.push(mt)}}function S(G,ie){return new Date((_a(G,ie+4)/1e7*Math.pow(2,32)+_a(G,ie)/1e7-11644473600)*1e3)}function A(G,ie){return h(),p(u.readFileSync(G),ie)}function k(G,ie){var X=ie&&ie.type;switch(X||ur&&Buffer.isBuffer(G)&&(X="buffer"),X||"base64"){case"file":return A(G,ie);case"base64":return p(pi(Ss(G)),ie);case"binary":return p(pi(G),ie)}return p(G,ie)}function D(G,ie){var X=ie||{},ue=X.root||"Root Entry";if(G.FullPaths||(G.FullPaths=[]),G.FileIndex||(G.FileIndex=[]),G.FullPaths.length!==G.FileIndex.length)throw new Error("inconsistent CFB structure");G.FullPaths.length===0&&(G.FullPaths[0]=ue+"/",G.FileIndex[0]={name:ue,type:5}),X.CLSID&&(G.FileIndex[0].clsid=X.CLSID),B(G)}function B(G){var ie="Sh33tJ5";if(!Tr.find(G,"/"+ie)){var X=Ze(4);X[0]=55,X[1]=X[3]=50,X[2]=54,G.FileIndex.push({name:ie,type:2,content:X,size:4,L:69,R:69,C:69}),G.FullPaths.push(G.FullPaths[0]+ie),F(G)}}function F(G,ie){D(G);for(var X=!1,ue=!1,fe=G.FullPaths.length-1;fe>=0;--fe){var ye=G.FileIndex[fe];switch(ye.type){case 0:ue?X=!0:(G.FileIndex.pop(),G.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(ye.R*ye.L*ye.C)&&(X=!0),ye.R>-1&&ye.L>-1&&ye.R==ye.L&&(X=!0);break;default:X=!0;break}}if(!(!X&&!ie)){var Ie=new Date(1987,1,19),qe=0,De=Object.create?Object.create(null):{},Me=[];for(fe=0;fe<G.FullPaths.length;++fe)De[G.FullPaths[fe]]=!0,G.FileIndex[fe].type!==0&&Me.push([G.FullPaths[fe],G.FileIndex[fe]]);for(fe=0;fe<Me.length;++fe){var Fe=a(Me[fe][0]);ue=De[Fe],ue||(Me.push([Fe,{name:i(Fe).replace("/",""),type:1,clsid:R,ct:Ie,mt:Ie,content:null}]),De[Fe]=!0)}for(Me.sort(function(ut,lt){return r(ut[0],lt[0])}),G.FullPaths=[],G.FileIndex=[],fe=0;fe<Me.length;++fe)G.FullPaths[fe]=Me[fe][0],G.FileIndex[fe]=Me[fe][1];for(fe=0;fe<Me.length;++fe){var be=G.FileIndex[fe],et=G.FullPaths[fe];if(be.name=i(et).replace("/",""),be.L=be.R=be.C=-(be.color=1),be.size=be.content?be.content.length:0,be.start=0,be.clsid=be.clsid||R,fe===0)be.C=Me.length>1?1:-1,be.size=0,be.type=5;else if(et.slice(-1)=="/"){for(qe=fe+1;qe<Me.length&&a(G.FullPaths[qe])!=et;++qe);for(be.C=qe>=Me.length?-1:qe,qe=fe+1;qe<Me.length&&a(G.FullPaths[qe])!=a(et);++qe);be.R=qe>=Me.length?-1:qe,be.type=1}else a(G.FullPaths[fe+1]||"")==a(et)&&(be.R=fe+1),be.type=2}}}function M(G,ie){var X=ie||{};if(X.fileType=="mad")return Ft(G,X);switch(F(G),X.fileType){case"zip":return st(G,X)}var ue=function(ut){for(var lt=0,mt=0,Tt=0;Tt<ut.FileIndex.length;++Tt){var Zt=ut.FileIndex[Tt];if(Zt.content){var Vt=Zt.content.length;Vt>0&&(Vt<4096?lt+=Vt+63>>6:mt+=Vt+511>>9)}}for(var er=ut.FullPaths.length+3>>2,Vn=lt+7>>3,na=lt+127>>7,pn=Vn+mt+er+na,Gr=pn+127>>7,Xr=Gr<=109?0:Math.ceil((Gr-109)/127);pn+Gr+Xr+127>>7>Gr;)Xr=++Gr<=109?0:Math.ceil((Gr-109)/127);var Ar=[1,Xr,Gr,na,er,mt,lt,0];return ut.FileIndex[0].size=lt<<6,Ar[7]=(ut.FileIndex[0].start=Ar[0]+Ar[1]+Ar[2]+Ar[3]+Ar[4]+Ar[5])+(Ar[6]+7>>3),Ar}(G),fe=Ze(ue[7]<<9),ye=0,Ie=0;{for(ye=0;ye<8;++ye)fe.write_shift(1,I[ye]);for(ye=0;ye<8;++ye)fe.write_shift(2,0);for(fe.write_shift(2,62),fe.write_shift(2,3),fe.write_shift(2,65534),fe.write_shift(2,9),fe.write_shift(2,6),ye=0;ye<3;++ye)fe.write_shift(2,0);for(fe.write_shift(4,0),fe.write_shift(4,ue[2]),fe.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),fe.write_shift(4,0),fe.write_shift(4,4096),fe.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:W),fe.write_shift(4,ue[3]),fe.write_shift(-4,ue[1]?ue[0]-1:W),fe.write_shift(4,ue[1]),ye=0;ye<109;++ye)fe.write_shift(-4,ye<ue[2]?ue[1]+ye:-1)}if(ue[1])for(Ie=0;Ie<ue[1];++Ie){for(;ye<236+Ie*127;++ye)fe.write_shift(-4,ye<ue[2]?ue[1]+ye:-1);fe.write_shift(-4,Ie===ue[1]-1?W:Ie+1)}var qe=function(ut){for(Ie+=ut;ye<Ie-1;++ye)fe.write_shift(-4,ye+1);ut&&(++ye,fe.write_shift(-4,W))};for(Ie=ye=0,Ie+=ue[1];ye<Ie;++ye)fe.write_shift(-4,H.DIFSECT);for(Ie+=ue[2];ye<Ie;++ye)fe.write_shift(-4,H.FATSECT);qe(ue[3]),qe(ue[4]);for(var De=0,Me=0,Fe=G.FileIndex[0];De<G.FileIndex.length;++De)Fe=G.FileIndex[De],Fe.content&&(Me=Fe.content.length,!(Me<4096)&&(Fe.start=Ie,qe(Me+511>>9)));for(qe(ue[6]+7>>3);fe.l&511;)fe.write_shift(-4,H.ENDOFCHAIN);for(Ie=ye=0,De=0;De<G.FileIndex.length;++De)Fe=G.FileIndex[De],Fe.content&&(Me=Fe.content.length,!(!Me||Me>=4096)&&(Fe.start=Ie,qe(Me+63>>6)));for(;fe.l&511;)fe.write_shift(-4,H.ENDOFCHAIN);for(ye=0;ye<ue[4]<<2;++ye){var be=G.FullPaths[ye];if(!be||be.length===0){for(De=0;De<17;++De)fe.write_shift(4,0);for(De=0;De<3;++De)fe.write_shift(4,-1);for(De=0;De<12;++De)fe.write_shift(4,0);continue}Fe=G.FileIndex[ye],ye===0&&(Fe.start=Fe.size?Fe.start-1:W);var et=ye===0&&X.root||Fe.name;if(Me=2*(et.length+1),fe.write_shift(64,et,"utf16le"),fe.write_shift(2,Me),fe.write_shift(1,Fe.type),fe.write_shift(1,Fe.color),fe.write_shift(-4,Fe.L),fe.write_shift(-4,Fe.R),fe.write_shift(-4,Fe.C),Fe.clsid)fe.write_shift(16,Fe.clsid,"hex");else for(De=0;De<4;++De)fe.write_shift(4,0);fe.write_shift(4,Fe.state||0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,Fe.start),fe.write_shift(4,Fe.size),fe.write_shift(4,0)}for(ye=1;ye<G.FileIndex.length;++ye)if(Fe=G.FileIndex[ye],Fe.size>=4096)if(fe.l=Fe.start+1<<9,ur&&Buffer.isBuffer(Fe.content))Fe.content.copy(fe,fe.l,0,Fe.size),fe.l+=Fe.size+511&-512;else{for(De=0;De<Fe.size;++De)fe.write_shift(1,Fe.content[De]);for(;De&511;++De)fe.write_shift(1,0)}for(ye=1;ye<G.FileIndex.length;++ye)if(Fe=G.FileIndex[ye],Fe.size>0&&Fe.size<4096)if(ur&&Buffer.isBuffer(Fe.content))Fe.content.copy(fe,fe.l,0,Fe.size),fe.l+=Fe.size+63&-64;else{for(De=0;De<Fe.size;++De)fe.write_shift(1,Fe.content[De]);for(;De&63;++De)fe.write_shift(1,0)}if(ur)fe.l=fe.length;else for(;fe.l<fe.length;)fe.write_shift(1,0);return fe}function L(G,ie){var X=G.FullPaths.map(function(De){return De.toUpperCase()}),ue=X.map(function(De){var Me=De.split("/");return Me[Me.length-(De.slice(-1)=="/"?2:1)]}),fe=!1;ie.charCodeAt(0)===47?(fe=!0,ie=X[0].slice(0,-1)+ie):fe=ie.indexOf("/")!==-1;var ye=ie.toUpperCase(),Ie=fe===!0?X.indexOf(ye):ue.indexOf(ye);if(Ie!==-1)return G.FileIndex[Ie];var qe=!ye.match(bp);for(ye=ye.replace(ku,""),qe&&(ye=ye.replace(bp,"!")),Ie=0;Ie<X.length;++Ie)if((qe?X[Ie].replace(bp,"!"):X[Ie]).replace(ku,"")==ye||(qe?ue[Ie].replace(bp,"!"):ue[Ie]).replace(ku,"")==ye)return G.FileIndex[Ie];return null}var O=64,W=-2,P="d0cf11e0a1b11ae1",I=[208,207,17,224,161,177,26,225],R="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:P,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:R,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(G,ie,X){h();var ue=M(G,X);u.writeFileSync(ie,ue)}function he(G){for(var ie=new Array(G.length),X=0;X<G.length;++X)ie[X]=String.fromCharCode(G[X]);return ie.join("")}function U(G,ie){var X=M(G,ie);switch(ie&&ie.type||"buffer"){case"file":return h(),u.writeFileSync(ie.filename,X),X;case"binary":return typeof X=="string"?X:he(X);case"base64":return Sh(typeof X=="string"?X:he(X));case"buffer":if(ur)return Buffer.isBuffer(X)?X:Es(X);case"array":return typeof X=="string"?pi(X):X}return X}var Y;function z(G){try{var ie=G.InflateRaw,X=new ie;if(X._processChunk(new Uint8Array([3,0]),X._finishFlushFlag),X.bytesRead)Y=G;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function ee(G,ie){if(!Y)return Et(G,ie);var X=Y.InflateRaw,ue=new X,fe=ue._processChunk(G.slice(G.l),ue._finishFlushFlag);return G.l+=ue.bytesRead,fe}function q(G){return Y?Y.deflateRawSync(G):rt(G)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(G){var ie=(G<<1|G<<11)&139536|(G<<5|G<<15)&558144;return(ie>>16|ie>>8|ie)&255}for(var Z=typeof Uint8Array<"u",ge=Z?new Uint8Array(256):[],je=0;je<256;++je)ge[je]=xe(je);function pe(G,ie){var X=ge[G&255];return ie<=8?X>>>8-ie:(X=X<<8|ge[G>>8&255],ie<=16?X>>>16-ie:(X=X<<8|ge[G>>16&255],X>>>24-ie))}function Je(G,ie){var X=ie&7,ue=ie>>>3;return(G[ue]|(X<=6?0:G[ue+1]<<8))>>>X&3}function Ee(G,ie){var X=ie&7,ue=ie>>>3;return(G[ue]|(X<=5?0:G[ue+1]<<8))>>>X&7}function Ve(G,ie){var X=ie&7,ue=ie>>>3;return(G[ue]|(X<=4?0:G[ue+1]<<8))>>>X&15}function le(G,ie){var X=ie&7,ue=ie>>>3;return(G[ue]|(X<=3?0:G[ue+1]<<8))>>>X&31}function Ce(G,ie){var X=ie&7,ue=ie>>>3;return(G[ue]|(X<=1?0:G[ue+1]<<8))>>>X&127}function Qe(G,ie,X){var ue=ie&7,fe=ie>>>3,ye=(1<<X)-1,Ie=G[fe]>>>ue;return X<8-ue||(Ie|=G[fe+1]<<8-ue,X<16-ue)||(Ie|=G[fe+2]<<16-ue,X<24-ue)||(Ie|=G[fe+3]<<24-ue),Ie&ye}function re(G,ie,X){var ue=ie&7,fe=ie>>>3;return ue<=5?G[fe]|=(X&7)<<ue:(G[fe]|=X<<ue&255,G[fe+1]=(X&7)>>8-ue),ie+3}function ce(G,ie,X){var ue=ie&7,fe=ie>>>3;return X=(X&1)<<ue,G[fe]|=X,ie+1}function J(G,ie,X){var ue=ie&7,fe=ie>>>3;return X<<=ue,G[fe]|=X&255,X>>>=8,G[fe+1]=X,ie+8}function oe(G,ie,X){var ue=ie&7,fe=ie>>>3;return X<<=ue,G[fe]|=X&255,X>>>=8,G[fe+1]=X&255,G[fe+2]=X>>>8,ie+16}function te(G,ie){var X=G.length,ue=2*X>ie?2*X:ie+5,fe=0;if(X>=ie)return G;if(ur){var ye=BI(ue);if(G.copy)G.copy(ye);else for(;fe<G.length;++fe)ye[fe]=G[fe];return ye}else if(Z){var Ie=new Uint8Array(ue);if(Ie.set)Ie.set(G);else for(;fe<X;++fe)Ie[fe]=G[fe];return Ie}return G.length=ue,G}function Se(G){for(var ie=new Array(G),X=0;X<G;++X)ie[X]=0;return ie}function Ge(G,ie,X){var ue=1,fe=0,ye=0,Ie=0,qe=0,De=G.length,Me=Z?new Uint16Array(32):Se(32);for(ye=0;ye<32;++ye)Me[ye]=0;for(ye=De;ye<X;++ye)G[ye]=0;De=G.length;var Fe=Z?new Uint16Array(De):Se(De);for(ye=0;ye<De;++ye)Me[fe=G[ye]]++,ue<fe&&(ue=fe),Fe[ye]=0;for(Me[0]=0,ye=1;ye<=ue;++ye)Me[ye+16]=qe=qe+Me[ye-1]<<1;for(ye=0;ye<De;++ye)qe=G[ye],qe!=0&&(Fe[ye]=Me[qe+16]++);var be=0;for(ye=0;ye<De;++ye)if(be=G[ye],be!=0)for(qe=pe(Fe[ye],ue)>>ue-be,Ie=(1<<ue+4-be)-1;Ie>=0;--Ie)ie[qe|Ie<<be]=be&15|ye<<4;return ue}var Xe=Z?new Uint16Array(512):Se(512),Ue=Z?new Uint16Array(32):Se(32);if(!Z){for(var dt=0;dt<512;++dt)Xe[dt]=0;for(dt=0;dt<32;++dt)Ue[dt]=0}(function(){for(var G=[],ie=0;ie<32;ie++)G.push(5);Ge(G,Ue,32);var X=[];for(ie=0;ie<=143;ie++)X.push(8);for(;ie<=255;ie++)X.push(9);for(;ie<=279;ie++)X.push(7);for(;ie<=287;ie++)X.push(8);Ge(X,Xe,288)})();var _e=function(){for(var ie=Z?new Uint8Array(32768):[],X=0,ue=0;X<de.length-1;++X)for(;ue<de[X+1];++ue)ie[ue]=X;for(;ue<32768;++ue)ie[ue]=29;var fe=Z?new Uint8Array(259):[];for(X=0,ue=0;X<ae.length-1;++X)for(;ue<ae[X+1];++ue)fe[ue]=X;function ye(qe,De){for(var Me=0;Me<qe.length;){var Fe=Math.min(65535,qe.length-Me),be=Me+Fe==qe.length;for(De.write_shift(1,+be),De.write_shift(2,Fe),De.write_shift(2,~Fe&65535);Fe-- >0;)De[De.l++]=qe[Me++]}return De.l}function Ie(qe,De){for(var Me=0,Fe=0,be=Z?new Uint16Array(32768):[];Fe<qe.length;){var et=Math.min(65535,qe.length-Fe);if(et<10){for(Me=re(De,Me,+(Fe+et==qe.length)),Me&7&&(Me+=8-(Me&7)),De.l=Me/8|0,De.write_shift(2,et),De.write_shift(2,~et&65535);et-- >0;)De[De.l++]=qe[Fe++];Me=De.l*8;continue}Me=re(De,Me,+(Fe+et==qe.length)+2);for(var ut=0;et-- >0;){var lt=qe[Fe];ut=(ut<<5^lt)&32767;var mt=-1,Tt=0;if((mt=be[ut])&&(mt|=Fe&-32768,mt>Fe&&(mt-=32768),mt<Fe))for(;qe[mt+Tt]==qe[Fe+Tt]&&Tt<250;)++Tt;if(Tt>2){lt=fe[Tt],lt<=22?Me=J(De,Me,ge[lt+1]>>1)-1:(J(De,Me,3),Me+=5,J(De,Me,ge[lt-23]>>5),Me+=3);var Zt=lt<8?0:lt-4>>2;Zt>0&&(oe(De,Me,Tt-ae[lt]),Me+=Zt),lt=ie[Fe-mt],Me=J(De,Me,ge[lt]>>3),Me-=3;var Vt=lt<4?0:lt-2>>1;Vt>0&&(oe(De,Me,Fe-mt-de[lt]),Me+=Vt);for(var er=0;er<Tt;++er)be[ut]=Fe&32767,ut=(ut<<5^qe[Fe])&32767,++Fe;et-=Tt-1}else lt<=143?lt=lt+48:Me=ce(De,Me,1),Me=J(De,Me,ge[lt]),be[ut]=Fe&32767,++Fe}Me=J(De,Me,0)-1}return De.l=(Me+7)/8|0,De.l}return function(De,Me){return De.length<8?ye(De,Me):Ie(De,Me)}}();function rt(G){var ie=Ze(50+Math.floor(G.length*1.1)),X=_e(G,ie);return ie.slice(0,X)}var Ot=Z?new Uint16Array(32768):Se(32768),zt=Z?new Uint16Array(32768):Se(32768),Rt=Z?new Uint16Array(128):Se(128),Bt=1,ne=1;function $e(G,ie){var X=le(G,ie)+257;ie+=5;var ue=le(G,ie)+1;ie+=5;var fe=Ve(G,ie)+4;ie+=4;for(var ye=0,Ie=Z?new Uint8Array(19):Se(19),qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],De=1,Me=Z?new Uint8Array(8):Se(8),Fe=Z?new Uint8Array(8):Se(8),be=Ie.length,et=0;et<fe;++et)Ie[Q[et]]=ye=Ee(G,ie),De<ye&&(De=ye),Me[ye]++,ie+=3;var ut=0;for(Me[0]=0,et=1;et<=De;++et)Fe[et]=ut=ut+Me[et-1]<<1;for(et=0;et<be;++et)(ut=Ie[et])!=0&&(qe[et]=Fe[ut]++);var lt=0;for(et=0;et<be;++et)if(lt=Ie[et],lt!=0){ut=ge[qe[et]]>>8-lt;for(var mt=(1<<7-lt)-1;mt>=0;--mt)Rt[ut|mt<<lt]=lt&7|et<<3}var Tt=[];for(De=1;Tt.length<X+ue;)switch(ut=Rt[Ce(G,ie)],ie+=ut&7,ut>>>=3){case 16:for(ye=3+Je(G,ie),ie+=2,ut=Tt[Tt.length-1];ye-- >0;)Tt.push(ut);break;case 17:for(ye=3+Ee(G,ie),ie+=3;ye-- >0;)Tt.push(0);break;case 18:for(ye=11+Ce(G,ie),ie+=7;ye-- >0;)Tt.push(0);break;default:Tt.push(ut),De<ut&&(De=ut);break}var Zt=Tt.slice(0,X),Vt=Tt.slice(X);for(et=X;et<286;++et)Zt[et]=0;for(et=ue;et<30;++et)Vt[et]=0;return Bt=Ge(Zt,Ot,286),ne=Ge(Vt,zt,30),ie}function Ye(G,ie){if(G[0]==3&&!(G[1]&3))return[il(ie),2];for(var X=0,ue=0,fe=BI(ie||1<<18),ye=0,Ie=fe.length>>>0,qe=0,De=0;(ue&1)==0;){if(ue=Ee(G,X),X+=3,ue>>>1)ue>>1==1?(qe=9,De=5):(X=$e(G,X),qe=Bt,De=ne);else{X&7&&(X+=8-(X&7));var Me=G[X>>>3]|G[(X>>>3)+1]<<8;if(X+=32,Me>0)for(!ie&&Ie<ye+Me&&(fe=te(fe,ye+Me),Ie=fe.length);Me-- >0;)fe[ye++]=G[X>>>3],X+=8;continue}for(;;){!ie&&Ie<ye+32767&&(fe=te(fe,ye+32767),Ie=fe.length);var Fe=Qe(G,X,qe),be=ue>>>1==1?Xe[Fe]:Ot[Fe];if(X+=be&15,be>>>=4,(be>>>8&255)===0)fe[ye++]=be;else{if(be==256)break;be-=257;var et=be<8?0:be-4>>2;et>5&&(et=0);var ut=ye+ae[be];et>0&&(ut+=Qe(G,X,et),X+=et),Fe=Qe(G,X,De),be=ue>>>1==1?Ue[Fe]:zt[Fe],X+=be&15,be>>>=4;var lt=be<4?0:be-2>>1,mt=de[be];for(lt>0&&(mt+=Qe(G,X,lt),X+=lt),!ie&&Ie<ut&&(fe=te(fe,ut+100),Ie=fe.length);ye<ut;)fe[ye]=fe[ye-mt],++ye}}}return ie?[fe,X+7>>>3]:[fe.slice(0,ye),X+7>>>3]}function Et(G,ie){var X=G.slice(G.l||0),ue=Ye(X,ie);return G.l+=ue[1],ue[0]}function me(G,ie){if(G)typeof console<"u"&&console.error(ie);else throw new Error(ie)}function Oe(G,ie){var X=G;Ea(X,0);var ue=[],fe=[],ye={FileIndex:ue,FullPaths:fe};D(ye,{root:ie.root});for(var Ie=X.length-4;(X[Ie]!=80||X[Ie+1]!=75||X[Ie+2]!=5||X[Ie+3]!=6)&&Ie>=0;)--Ie;X.l=Ie+4,X.l+=4;var qe=X.read_shift(2);X.l+=6;var De=X.read_shift(4);for(X.l=De,Ie=0;Ie<qe;++Ie){X.l+=20;var Me=X.read_shift(4),Fe=X.read_shift(4),be=X.read_shift(2),et=X.read_shift(2),ut=X.read_shift(2);X.l+=8;var lt=X.read_shift(4),mt=d(X.slice(X.l+be,X.l+be+et));X.l+=be+et+ut;var Tt=X.l;X.l=lt+4,Pe(X,Me,Fe,ye,mt),X.l=Tt}return ye}function Pe(G,ie,X,ue,fe){G.l+=2;var ye=G.read_shift(2),Ie=G.read_shift(2),qe=l(G);if(ye&8257)throw new Error("Unsupported ZIP encryption");for(var De=G.read_shift(4),Me=G.read_shift(4),Fe=G.read_shift(4),be=G.read_shift(2),et=G.read_shift(2),ut="",lt=0;lt<be;++lt)ut+=String.fromCharCode(G[G.l++]);if(et){var mt=d(G.slice(G.l,G.l+et));(mt[21589]||{}).mt&&(qe=mt[21589].mt),((fe||{})[21589]||{}).mt&&(qe=fe[21589].mt)}G.l+=et;var Tt=G.slice(G.l,G.l+Me);switch(Ie){case 8:Tt=ee(G,Fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ie)}var Zt=!1;ye&8&&(De=G.read_shift(4),De==134695760&&(De=G.read_shift(4),Zt=!0),Me=G.read_shift(4),Fe=G.read_shift(4)),Me!=ie&&me(Zt,"Bad compressed size: "+ie+" != "+Me),Fe!=X&&me(Zt,"Bad uncompressed size: "+X+" != "+Fe),ve(ue,ut,Tt,{unsafe:!0,mt:qe})}function st(G,ie){var X=ie||{},ue=[],fe=[],ye=Ze(1),Ie=X.compression?8:0,qe=0,De=0,Me=0,Fe=0,be=0,et=G.FullPaths[0],ut=et,lt=G.FileIndex[0],mt=[],Tt=0;for(De=1;De<G.FullPaths.length;++De)if(ut=G.FullPaths[De].slice(et.length),lt=G.FileIndex[De],!(!lt.size||!lt.content||ut=="Sh33tJ5")){var Zt=Fe,Vt=Ze(ut.length);for(Me=0;Me<ut.length;++Me)Vt.write_shift(1,ut.charCodeAt(Me)&127);Vt=Vt.slice(0,Vt.l),mt[be]=pie.buf(lt.content,0);var er=lt.content;Ie==8&&(er=q(er)),ye=Ze(30),ye.write_shift(4,67324752),ye.write_shift(2,20),ye.write_shift(2,qe),ye.write_shift(2,Ie),lt.mt?s(ye,lt.mt):ye.write_shift(4,0),ye.write_shift(-4,mt[be]),ye.write_shift(4,er.length),ye.write_shift(4,lt.content.length),ye.write_shift(2,Vt.length),ye.write_shift(2,0),Fe+=ye.length,ue.push(ye),Fe+=Vt.length,ue.push(Vt),Fe+=er.length,ue.push(er),ye=Ze(46),ye.write_shift(4,33639248),ye.write_shift(2,0),ye.write_shift(2,20),ye.write_shift(2,qe),ye.write_shift(2,Ie),ye.write_shift(4,0),ye.write_shift(-4,mt[be]),ye.write_shift(4,er.length),ye.write_shift(4,lt.content.length),ye.write_shift(2,Vt.length),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(4,0),ye.write_shift(4,Zt),Tt+=ye.l,fe.push(ye),Tt+=Vt.length,fe.push(Vt),++be}return ye=Ze(22),ye.write_shift(4,101010256),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,be),ye.write_shift(2,be),ye.write_shift(4,Tt),ye.write_shift(4,Fe),ye.write_shift(2,0),_n([_n(ue),_n(fe),ye])}var ft={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function vt(G,ie){if(G.ctype)return G.ctype;var X=G.name||"",ue=X.match(/\.([^\.]+)$/);return ue&&ft[ue[1]]||ie&&(ue=(X=ie).match(/[\.\\]([^\.\\])+$/),ue&&ft[ue[1]])?ft[ue[1]]:"application/octet-stream"}function St(G){for(var ie=Sh(G),X=[],ue=0;ue<ie.length;ue+=76)X.push(ie.slice(ue,ue+76));return X.join(`\r
`)+`\r
`}function nt(G){var ie=G.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Me){var Fe=Me.charCodeAt(0).toString(16).toUpperCase();return"="+(Fe.length==1?"0"+Fe:Fe)});ie=ie.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ie.charAt(0)==`
`&&(ie="=0D"+ie.slice(1)),ie=ie.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var X=[],ue=ie.split(`\r
`),fe=0;fe<ue.length;++fe){var ye=ue[fe];if(ye.length==0){X.push("");continue}for(var Ie=0;Ie<ye.length;){var qe=76,De=ye.slice(Ie,Ie+qe);De.charAt(qe-1)=="="?qe--:De.charAt(qe-2)=="="?qe-=2:De.charAt(qe-3)=="="&&(qe-=3),De=ye.slice(Ie,Ie+qe),Ie+=qe,Ie<ye.length&&(De+="="),X.push(De)}}return X.join(`\r
`)}function yt(G){for(var ie=[],X=0;X<G.length;++X){for(var ue=G[X];X<=G.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+G[++X];ie.push(ue)}for(var fe=0;fe<ie.length;++fe)ie[fe]=ie[fe].replace(/[=][0-9A-Fa-f]{2}/g,function(ye){return String.fromCharCode(parseInt(ye.slice(1),16))});return pi(ie.join(`\r
`))}function ht(G,ie,X){for(var ue="",fe="",ye="",Ie,qe=0;qe<10;++qe){var De=ie[qe];if(!De||De.match(/^\s*$/))break;var Me=De.match(/^(.*?):\s*([^\s].*)$/);if(Me)switch(Me[1].toLowerCase()){case"content-location":ue=Me[2].trim();break;case"content-type":ye=Me[2].trim();break;case"content-transfer-encoding":fe=Me[2].trim();break}}switch(++qe,fe.toLowerCase()){case"base64":Ie=pi(Ss(ie.slice(qe).join("")));break;case"quoted-printable":Ie=yt(ie.slice(qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+fe)}var Fe=ve(G,ue.slice(X.length),Ie,{unsafe:!0});ye&&(Fe.ctype=ye)}function bt(G,ie){if(he(G.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var X=ie&&ie.root||"",ue=(ur&&Buffer.isBuffer(G)?G.toString("binary"):he(G)).split(`\r
`),fe=0,ye="";for(fe=0;fe<ue.length;++fe)if(ye=ue[fe],!!/^Content-Location:/i.test(ye)&&(ye=ye.slice(ye.indexOf("file")),X||(X=ye.slice(0,ye.lastIndexOf("/")+1)),ye.slice(0,X.length)!=X))for(;X.length>0&&(X=X.slice(0,X.length-1),X=X.slice(0,X.lastIndexOf("/")+1),ye.slice(0,X.length)!=X););var Ie=(ue[1]||"").match(/boundary="(.*?)"/);if(!Ie)throw new Error("MAD cannot find boundary");var qe="--"+(Ie[1]||""),De=[],Me=[],Fe={FileIndex:De,FullPaths:Me};D(Fe);var be,et=0;for(fe=0;fe<ue.length;++fe){var ut=ue[fe];ut!==qe&&ut!==qe+"--"||(et++&&ht(Fe,ue.slice(be,fe),X),be=fe)}return Fe}function Ft(G,ie){var X=ie||{},ue=X.boundary||"SheetJS";ue="------="+ue;for(var fe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],ye=G.FullPaths[0],Ie=ye,qe=G.FileIndex[0],De=1;De<G.FullPaths.length;++De)if(Ie=G.FullPaths[De].slice(ye.length),qe=G.FileIndex[De],!(!qe.size||!qe.content||Ie=="Sh33tJ5")){Ie=Ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Tt){return"_x"+Tt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Tt){return"_u"+Tt.charCodeAt(0).toString(16)+"_"});for(var Me=qe.content,Fe=ur&&Buffer.isBuffer(Me)?Me.toString("binary"):he(Me),be=0,et=Math.min(1024,Fe.length),ut=0,lt=0;lt<=et;++lt)(ut=Fe.charCodeAt(lt))>=32&&ut<128&&++be;var mt=be>=et*4/5;fe.push(ue),fe.push("Content-Location: "+(X.root||"file:///C:/SheetJS/")+Ie),fe.push("Content-Transfer-Encoding: "+(mt?"quoted-printable":"base64")),fe.push("Content-Type: "+vt(qe,Ie)),fe.push(""),fe.push(mt?nt(Fe):St(Fe))}return fe.push(ue+`--\r
`),fe.join(`\r
`)}function Lt(G){var ie={};return D(ie,G),ie}function ve(G,ie,X,ue){var fe=ue&&ue.unsafe;fe||D(G);var ye=!fe&&Tr.find(G,ie);if(!ye){var Ie=G.FullPaths[0];ie.slice(0,Ie.length)==Ie?Ie=ie:(Ie.slice(-1)!="/"&&(Ie+="/"),Ie=(Ie+ie).replace("//","/")),ye={name:i(ie),type:2},G.FileIndex.push(ye),G.FullPaths.push(Ie),fe||Tr.utils.cfb_gc(G)}return ye.content=X,ye.size=X?X.length:0,ue&&(ue.CLSID&&(ye.clsid=ue.CLSID),ue.mt&&(ye.mt=ue.mt),ue.ct&&(ye.ct=ue.ct)),ye}function Te(G,ie){D(G);var X=Tr.find(G,ie);if(X){for(var ue=0;ue<G.FileIndex.length;++ue)if(G.FileIndex[ue]==X)return G.FileIndex.splice(ue,1),G.FullPaths.splice(ue,1),!0}return!1}function Ne(G,ie,X){D(G);var ue=Tr.find(G,ie);if(ue){for(var fe=0;fe<G.FileIndex.length;++fe)if(G.FileIndex[fe]==ue)return G.FileIndex[fe].name=i(X),G.FullPaths[fe]=X,!0}return!1}function He(G){F(G,!0)}return t.find=L,t.read=k,t.parse=p,t.write=U,t.writeFile=V,t.utils={cfb_new:Lt,cfb_add:ve,cfb_del:Te,cfb_mov:Ne,cfb_gc:He,ReadShift:Du,CheckField:Z8,prep_blob:Ea,bconcat:_n,use_zlib:z,_deflateRaw:rt,_inflateRaw:Et,consts:H},t}();function mie(e){return typeof e=="string"?L0(e):Array.isArray(e)?zae(e):e}function Gh(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=L0(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?Th(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var i=new Blob([mie(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var d=File(e);return d.open("w"),d.encoding="binary",Array.isArray(t)&&(t=Hh(t)),d.write(t),d.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function Pn(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function HI(e,t){for(var r=[],a=Pn(e),i=0;i!==a.length;++i)r[e[a[i]][t]]==null&&(r[e[a[i]][t]]=a[i]);return r}function yS(e){for(var t=[],r=Pn(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function U0(e){for(var t=[],r=Pn(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function xie(e){for(var t=[],r=Pn(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var qm=new Date(1899,11,30,0,0,0);function pa(e,t){var r=e.getTime(),a=qm.getTime()+(e.getTimezoneOffset()-qm.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var P8=new Date,gie=qm.getTime()+(P8.getTimezoneOffset()-qm.getTimezoneOffset())*6e4,GI=P8.getTimezoneOffset();function M8(e){var t=new Date;return t.setTime(e*24*60*60*1e3+gie),t.getTimezoneOffset()!==GI&&t.setTime(t.getTime()+(t.getTimezoneOffset()-GI)*6e4),t}var VI=new Date("2017-02-19T19:06:09.000Z"),B8=isNaN(VI.getFullYear())?new Date("2/19/17"):VI,yie=B8.getFullYear()==2017;function ea(e,t){var r=new Date(e);if(yie)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(B8.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function q0(e,t){if(ur&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var a=[],i=0;i!=e.length;++i)a.push(String.fromCharCode(e[i]));return a.join("")}function ma(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ma(e[r]));return t}function Wr(e,t){for(var r="";r.length<t;)r+=e;return r}function ms(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(t=Number(a)))?t/r:t}var vie=["january","february","march","april","may","june","july","august","september","october","november","december"];function Nh(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&vie.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return a<0||a>8099?r:(i>0||s>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Wt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return ur?a=Es(r):a=Uae(r),Tr.utils.cfb_add(e,t,a)}Tr.utils.cfb_add(e,t,r)}else e.file(t,r)}function vS(){return Tr.utils.cfb_new()}var an=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,bie={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},bS=yS(bie),jS=/[&<>'"]/g,jie=/[\u0000-\u0008\u000b-\u001f]/g;function vr(e){var t=e+"";return t.replace(jS,function(r){return bS[r]}).replace(jie,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function YI(e){return vr(e).replace(/ /g,"_x0020_")}var F8=/[\u0000-\u001f]/g;function wie(e){var t=e+"";return t.replace(jS,function(r){return bS[r]}).replace(/\n/g,"<br/>").replace(F8,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Sie(e){var t=e+"";return t.replace(jS,function(r){return bS[r]}).replace(F8,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Nie(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Tie(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function lj(e){for(var t="",r=0,a=0,i=0,s=0,l=0,d=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(i=e.charCodeAt(r++),a>191&&a<224){l=(a&31)<<6,l|=i&63,t+=String.fromCharCode(l);continue}if(s=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63);continue}l=e.charCodeAt(r++),d=((a&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(d>>>10&1023)),t+=String.fromCharCode(56320+(d&1023))}return t}function KI(e){var t=il(2*e.length),r,a,i=1,s=0,l=0,d;for(a=0;a<e.length;a+=i)i=1,(d=e.charCodeAt(a))<128?r=d:d<224?(r=(d&31)*64+(e.charCodeAt(a+1)&63),i=2):d<240?(r=(d&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),i=3):(i=4,r=(d&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[s++]=l&255,t[s++]=l>>>8,l=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function XI(e){return Es(e,"binary").toString("utf8")}var wp="foo bar baz",Iu=ur&&(XI(wp)==lj(wp)&&XI||KI(wp)==lj(wp)&&KI)||lj,Th=ur?function(e){return Es(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,i=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,i=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},Cie=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)a=a.replace(e[i][0],e[i][1]);return a}}(),L8=/(^\s|\s$|\n)/;function kn(e,t){return"<"+e+(t.match(L8)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Ch(e){return Pn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function pt(e,t,r){return"<"+e+(r!=null?Ch(r):"")+(t!=null?(t.match(L8)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function K2(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Aie(e,t){switch(typeof e){case"string":var r=pt("vt:lpwstr",vr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return pt((e|0)==e?"vt:i4":"vt:r8",vr(String(e)));case"boolean":return pt("vt:bool",e?"true":"false")}if(e instanceof Date)return pt("vt:filetime",K2(e));throw new Error("Unable to serialize "+e)}var vn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},cd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Oa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Eie(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return a==2047?i==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,i+=Math.pow(2,52)),r*Math.pow(2,a-52)*i)}function Oie(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,l=a?-t:t;isFinite(l)?l==0?i=s=0:(i=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var d=0;d<=5;++d,s/=256)e[r+d]=s&255;e[r+6]=(i&15)<<4|s&15,e[r+7]=i>>4|a}var QI=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var i=0,s=e[0][a].length;i<s;i+=r)t.push.apply(t,e[0][a].slice(i,i+r));return t},ZI=ur?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Es(t)})):QI(e)}:QI,JI=function(e,t,r){for(var a=[],i=t;i<r;i+=2)a.push(String.fromCharCode(Tu(e,i)));return a.join("").replace(ku,"")},wS=ur?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ku,""):JI(e,t,r)}:JI,e3=function(e,t,r){for(var a=[],i=t;i<t+r;++i)a.push(("0"+e[i].toString(16)).slice(-2));return a.join("")},$8=ur?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):e3(e,t,r)}:e3,t3=function(e,t,r){for(var a=[],i=t;i<r;i++)a.push(String.fromCharCode(oc(e,i)));return a.join("")},Vh=ur?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):t3(t,r,a)}:t3,z8=function(e,t){var r=_a(e,t);return r>0?Vh(e,t+4,t+4+r-1):""},U8=z8,q8=function(e,t){var r=_a(e,t);return r>0?Vh(e,t+4,t+4+r-1):""},W8=q8,H8=function(e,t){var r=2*_a(e,t);return r>0?Vh(e,t+4,t+4+r-1):""},G8=H8,V8=function(t,r){var a=_a(t,r);return a>0?wS(t,r+4,r+4+a):""},Y8=V8,K8=function(e,t){var r=_a(e,t);return r>0?Vh(e,t+4,t+4+r):""},X8=K8,Q8=function(e,t){return Eie(e,t)},Wm=Q8,SS=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ur&&(U8=function(t,r){if(!Buffer.isBuffer(t))return z8(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},W8=function(t,r){if(!Buffer.isBuffer(t))return q8(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},G8=function(t,r){if(!Buffer.isBuffer(t))return H8(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},Y8=function(t,r){if(!Buffer.isBuffer(t))return V8(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},X8=function(t,r){if(!Buffer.isBuffer(t))return K8(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},Wm=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Q8(t,r)},SS=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var oc=function(e,t){return e[t]},Tu=function(e,t){return e[t+1]*256+e[t]},_ie=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},_a=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},zo=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},kie=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Du(e,t){var r="",a,i,s=[],l,d,u,h;switch(t){case"dbcs":if(h=this.l,ur&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(Tu(this,h)),h+=2;e*=2;break;case"utf8":r=Vh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=wS(this,this.l,this.l+e);break;case"wstr":return Du.call(this,e,"dbcs");case"lpstr-ansi":r=U8(this,this.l),e=4+_a(this,this.l);break;case"lpstr-cp":r=W8(this,this.l),e=4+_a(this,this.l);break;case"lpwstr":r=G8(this,this.l),e=4+2*_a(this,this.l);break;case"lpp4":e=4+_a(this,this.l),r=Y8(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+_a(this,this.l),r=X8(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=oc(this,this.l+e++))!==0;)s.push(vp(l));r=s.join("");break;case"_wstr":for(e=0,r="";(l=Tu(this,this.l+e))!==0;)s.push(vp(l)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",h=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return l=oc(this,h),this.l=h+1,d=Du.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),s.join("")+d;s.push(vp(Tu(this,h))),h+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return l=oc(this,h),this.l=h+1,d=Du.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),s.join("")+d;s.push(vp(oc(this,h))),h+=1}r=s.join("");break;default:switch(e){case 1:return a=oc(this,this.l),this.l++,a;case 2:return a=(t==="i"?_ie:Tu)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(a=(e>0?zo:kie)(this,this.l),this.l+=4,a):(i=_a(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Wm(this,this.l):i=Wm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=$8(this,this.l,e);break}}return this.l+=e,r}var Iie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Die=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Rie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Pie(e,t,r){var a=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)Rie(this,t.charCodeAt(i),this.l+2*i);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;a=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var l=t.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,Iie(this,t,this.l);break;case 8:if(a=8,r==="f"){Oie(this,t,this.l);break}case 16:break;case-4:a=4,Die(this,t,this.l);break}return this.l+=a,this}function Z8(e,t){var r=$8(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ea(e,t){e.l=t,e.read_shift=Du,e.chk=Z8,e.write_shift=Pie}function Li(e,t){e.l+=t}function Ze(e){var t=il(e);return Ea(t,0),t}function ha(){var e=[],t=ur?256:2048,r=function(h){var p=Ze(h);return Ea(p,0),p},a=r(t),i=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},s=function(h){return a&&h<a.length-a.l?a:(i(),a=r(Math.max(h+1,t)))},l=function(){return i(),_n(e)},d=function(h){i(),a=h,a.l==null&&(a.l=a.length),s(t)};return{next:s,push:d,end:l,_bufs:e}}function ct(e,t,r,a){var i=+t,s;if(!isNaN(i)){a||(a=Eue[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,a>=128&&++s,a>=16384&&++s,a>=2097152&&++s;var l=e.next(s);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var d=0;d!=4;++d)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&SS(r)&&e.push(r)}}function Ru(e,t,r){var a=ma(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function r3(e,t,r){var a=ma(e);return a.s=Ru(a.s,t.s,r),a.e=Ru(a.e,t.s,r),a}function Pu(e,t){if(e.cRel&&e.c<0)for(e=ma(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ma(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=br(e);return!e.cRel&&e.cRel!=null&&(r=Fie(r)),!e.rRel&&e.rRel!=null&&(r=Mie(r)),r}function cj(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+qn(e.s.c)+":"+(e.e.cRel?"":"$")+qn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Dn(e.s.r)+":"+(e.e.rRel?"":"$")+Dn(e.e.r):Pu(e.s,t.biff)+":"+Pu(e.e,t.biff)}function NS(e){return parseInt(Bie(e),10)-1}function Dn(e){return""+(e+1)}function Mie(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Bie(e){return e.replace(/\$(\d+)$/,"$1")}function TS(e){for(var t=Lie(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function qn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Fie(e){return e.replace(/^([A-Z])/,"$$$1")}function Lie(e){return e.replace(/^\$([A-Z])/,"$1")}function $ie(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function bn(e){for(var t=0,r=0,a=0;a<e.length;++a){var i=e.charCodeAt(a);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function br(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Da(e){var t=e.indexOf(":");return t==-1?{s:bn(e),e:bn(e)}:{s:bn(e.slice(0,t)),e:bn(e.slice(t+1))}}function rn(e,t){return typeof t>"u"||typeof t=="number"?rn(e.s,e.e):(typeof e!="string"&&(e=br(e)),typeof t!="string"&&(t=br(t)),e==t?e:e+":"+t)}function Dr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,i=0,s=e.length;for(r=0;a<s&&!((i=e.charCodeAt(a)-64)<1||i>26);++a)r=26*r+i;for(t.s.c=--r,r=0;a<s&&!((i=e.charCodeAt(a)-48)<0||i>9);++a)r=10*r+i;if(t.s.r=--r,a===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=s&&!((i=e.charCodeAt(a)-64)<1||i>26);++a)r=26*r+i;for(t.e.c=--r,r=0;a!=s&&!((i=e.charCodeAt(a)-48)<0||i>9);++a)r=10*r+i;return t.e.r=--r,t}function n3(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=co(e.z,r?pa(t):t)}catch{}try{return e.w=co((e.XF||{}).numFmtId||(r?14:0),r?pa(t):t)}catch{return""+t}}function Ns(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Yh[e.v]||e.v:t==null?n3(e,e.v):n3(e,t))}function pl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function J8(e,t,r){var a=r||{},i=e?Array.isArray(e):a.dense,s=e||(i?[]:{}),l=0,d=0;if(s&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var u=typeof a.origin=="string"?bn(a.origin):a.origin;l=u.r,d=u.c}s["!ref"]||(s["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var p=Dr(s["!ref"]);h.s.c=p.s.c,h.s.r=p.s.r,h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),l==-1&&(h.e.r=l=p.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[m].length;++g)if(!(typeof t[m][g]>"u")){var v={v:t[m][g]},j=l+m,b=d+g;if(h.s.r>j&&(h.s.r=j),h.s.c>b&&(h.s.c=b),h.e.r<j&&(h.e.r=j),h.e.c<b&&(h.e.c=b),t[m][g]&&typeof t[m][g]=="object"&&!Array.isArray(t[m][g])&&!(t[m][g]instanceof Date))v=t[m][g];else if(Array.isArray(v.v)&&(v.f=t[m][g][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(a.nullError)v.t="e",v.v=0;else if(a.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=a.dateNF||Hr[14],a.cellDates?(v.t="d",v.w=co(v.z,pa(v.v))):(v.t="n",v.v=pa(v.v),v.w=co(v.z,v.v))):v.t="s";if(i)s[j]||(s[j]=[]),s[j][b]&&s[j][b].z&&(v.z=s[j][b].z),s[j][b]=v;else{var y=br({c:b,r:j});s[y]&&s[y].z&&(v.z=s[y].z),s[y]=v}}}return h.s.c<1e7&&(s["!ref"]=rn(h)),s}function dd(e,t){return J8(null,e,t)}function zie(e){return e.read_shift(4,"i")}function yi(e,t){return t||(t=Ze(4)),t.write_shift(4,e),t}function Wn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function jn(e,t){var r=!1;return t==null&&(r=!0,t=Ze(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Uie(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function qie(e,t){return t||(t=Ze(4)),t.write_shift(2,0),t.write_shift(2,0),t}function CS(e,t){var r=e.l,a=e.read_shift(1),i=Wn(e),s=[],l={t:i,h:i};if((a&1)!==0){for(var d=e.read_shift(4),u=0;u!=d;++u)s.push(Uie(e));l.r=s}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function Wie(e,t){var r=!1;return t==null&&(r=!0,t=Ze(15+4*e.t.length)),t.write_shift(1,0),jn(e.t,t),r?t.slice(0,t.l):t}var Hie=CS;function Gie(e,t){var r=!1;return t==null&&(r=!0,t=Ze(23+4*e.t.length)),t.write_shift(1,1),jn(e.t,t),t.write_shift(4,1),qie({},t),r?t.slice(0,t.l):t}function ti(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function ml(e,t){return t==null&&(t=Ze(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function xl(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function gl(e,t){return t==null&&(t=Ze(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Vie=Wn,eP=jn;function AS(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Hm(e,t){var r=!1;return t==null&&(r=!0,t=Ze(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Yie=Wn,X2=AS,ES=Hm;function tP(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var i=a===0?Wm([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):zo(t,0)>>2;return r?i/100:i}function rP(e,t){t==null&&(t=Ze(4));var r=0,a=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function nP(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Kie(e,t){return t||(t=Ze(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var yl=nP,ud=Kie;function hd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function sl(e,t){return(t||Ze(8)).write_shift(8,e,"f")}function Xie(e){var t={},r=e.read_shift(1),a=r>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),l=e.read_shift(1),d=e.read_shift(1),u=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=i;var h=ise[i];h&&(t.rgb=p3(h));break;case 2:t.rgb=p3([l,d,u]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Gm(e,t){if(t||(t=Ze(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function Qie(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Zie(e,t){t||(t=Ze(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var aP=2,Ca=3,Sp=11,Vm=19,Np=64,Jie=65,ese=71,tse=4108,rse=4126,On=80,a3={1:{n:"CodePage",t:aP},2:{n:"Category",t:On},3:{n:"PresentationFormat",t:On},4:{n:"ByteCount",t:Ca},5:{n:"LineCount",t:Ca},6:{n:"ParagraphCount",t:Ca},7:{n:"SlideCount",t:Ca},8:{n:"NoteCount",t:Ca},9:{n:"HiddenCount",t:Ca},10:{n:"MultimediaClipCount",t:Ca},11:{n:"ScaleCrop",t:Sp},12:{n:"HeadingPairs",t:tse},13:{n:"TitlesOfParts",t:rse},14:{n:"Manager",t:On},15:{n:"Company",t:On},16:{n:"LinksUpToDate",t:Sp},17:{n:"CharacterCount",t:Ca},19:{n:"SharedDoc",t:Sp},22:{n:"HyperlinksChanged",t:Sp},23:{n:"AppVersion",t:Ca,p:"version"},24:{n:"DigSig",t:Jie},26:{n:"ContentType",t:On},27:{n:"ContentStatus",t:On},28:{n:"Language",t:On},29:{n:"Version",t:On},255:{},2147483648:{n:"Locale",t:Vm},2147483651:{n:"Behavior",t:Vm},1919054434:{}},i3={1:{n:"CodePage",t:aP},2:{n:"Title",t:On},3:{n:"Subject",t:On},4:{n:"Author",t:On},5:{n:"Keywords",t:On},6:{n:"Comments",t:On},7:{n:"Template",t:On},8:{n:"LastAuthor",t:On},9:{n:"RevNumber",t:On},10:{n:"EditTime",t:Np},11:{n:"LastPrinted",t:Np},12:{n:"CreatedDate",t:Np},13:{n:"ModifiedDate",t:Np},14:{n:"PageCount",t:Ca},15:{n:"WordCount",t:Ca},16:{n:"CharCount",t:Ca},17:{n:"Thumbnail",t:ese},18:{n:"Application",t:On},19:{n:"DocSecurity",t:Ca},255:{},2147483648:{n:"Locale",t:Vm},2147483651:{n:"Behavior",t:Vm},1919054434:{}};function nse(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var ase=nse([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ise=ma(ase),Yh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},sse={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Tp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function iP(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function sP(e,t){var r=xie(sse),a=[],i;a[a.length]=an,a[a.length]=pt("Types",null,{xmlns:vn.CT,"xmlns:xsd":vn.xsd,"xmlns:xsi":vn.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return pt("Default",null,{Extension:u[0],ContentType:u[1]})}));var s=function(u){e[u]&&e[u].length>0&&(i=e[u][0],a[a.length]=pt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Tp[u][t.bookType]||Tp[u].xlsx}))},l=function(u){(e[u]||[]).forEach(function(h){a[a.length]=pt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Tp[u][t.bookType]||Tp[u].xlsx})})},d=function(u){(e[u]||[]).forEach(function(h){a[a.length]=pt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[u][0]})})};return s("workbooks"),l("sheets"),l("charts"),d("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(d),d("vba"),d("comments"),d("threadedcomments"),d("drawings"),l("metadata"),d("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var sr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function oP(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function yc(e){var t=[an,pt("Relationships",null,{xmlns:vn.RELS})];return Pn(e["!id"]).forEach(function(r){t[t.length]=pt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function yr(e,t,r,a,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=a,i.Target=r,[sr.HLINK,sr.XPATH,sr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function ose(e){var t=[an];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function s3(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function lse(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function cse(e){var t=[an];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(s3(e[r][0],e[r][1])),t.push(lse("",e[r][0]));return t.push(s3("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function lP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Fm.version+"</meta:generator></office:meta></office:document-meta>"}var Xo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function dj(e,t,r,a,i){i[e]!=null||t==null||t===""||(i[e]=t,t=vr(t),a[a.length]=r?pt(e,t,r):kn(e,t))}function cP(e,t){var r=t||{},a=[an,pt("cp:coreProperties",null,{"xmlns:cp":vn.CORE_PROPS,"xmlns:dc":vn.dc,"xmlns:dcterms":vn.dcterms,"xmlns:dcmitype":vn.dcmitype,"xmlns:xsi":vn.xsi})],i={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&dj("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:K2(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,i),e.ModifiedDate!=null&&dj("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:K2(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,i));for(var s=0;s!=Xo.length;++s){var l=Xo[s],d=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;d===!0?d="1":d===!1?d="0":typeof d=="number"&&(d=String(d)),d!=null&&dj(l[0],d,null,a,i)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var vc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],dP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function uP(e){var t=[],r=pt;return e||(e={}),e.Application="SheetJS",t[t.length]=an,t[t.length]=pt("Properties",null,{xmlns:vn.EXT_PROPS,"xmlns:vt":vn.vt}),vc.forEach(function(a){if(e[a[1]]!==void 0){var i;switch(a[2]){case"string":i=vr(String(e[a[1]]));break;case"bool":i=e[a[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(a[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+vr(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function hP(e){var t=[an,pt("Properties",null,{xmlns:vn.CUST_PROPS,"xmlns:vt":vn.vt})];if(!e)return t.join("");var r=1;return Pn(e).forEach(function(i){++r,t[t.length]=pt("property",Aie(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:vr(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var o3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function dse(e,t){var r=[];return Pn(o3).map(function(a){for(var i=0;i<Xo.length;++i)if(Xo[i][1]==a)return Xo[i];for(i=0;i<vc.length;++i)if(vc[i][1]==a)return vc[i];throw a}).forEach(function(a){if(e[a[1]]!=null){var i=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(kn(o3[a[1]]||a[1],i))}}),pt("DocumentProperties",r.join(""),{xmlns:Oa.o})}function use(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",i=[];return e&&Pn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var l=0;l<Xo.length;++l)if(s==Xo[l][1])return;for(l=0;l<vc.length;++l)if(s==vc[l][1])return;for(l=0;l<r.length;++l)if(s==r[l])return;var d=e[s],u="string";typeof d=="number"?(u="float",d=String(d)):d===!0||d===!1?(u="boolean",d=d?"1":"0"):d=String(d),i.push(pt(YI(s),d,{"dt:dt":u}))}}),t&&Pn(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var l=t[s],d="string";typeof l=="number"?(d="float",l=String(l)):l===!0||l===!1?(d="boolean",l=l?"1":"0"):l instanceof Date?(d="dateTime.tz",l=l.toISOString()):l=String(l),i.push(pt(YI(s),l,{"dt:dt":d}))}}),"<"+a+' xmlns="'+Oa.o+'">'+i.join("")+"</"+a+">"}function hse(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),i=(r-a)/Math.pow(2,32);a*=1e7,i*=1e7;var s=a/Math.pow(2,32)|0;s>0&&(a=a%Math.pow(2,32),i+=s);var l=Ze(8);return l.write_shift(4,a),l.write_shift(4,i),l}function l3(e,t){var r=Ze(4),a=Ze(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=Ze(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=hse(t);break;case 31:case 80:for(a=Ze(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return _n([r,a])}var fP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function fse(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function c3(e,t,r){var a=Ze(8),i=[],s=[],l=8,d=0,u=Ze(8),h=Ze(8);if(u.write_shift(4,2),u.write_shift(4,1200),h.write_shift(4,1),s.push(u),i.push(h),l+=8+u.length,!t){h=Ze(8),h.write_shift(4,0),i.unshift(h);var p=[Ze(4)];for(p[0].write_shift(4,e.length),d=0;d<e.length;++d){var m=e[d][0];for(u=Ze(8+2*(m.length+1)+(m.length%2?0:2)),u.write_shift(4,d+2),u.write_shift(4,m.length+1),u.write_shift(0,m,"dbcs");u.l!=u.length;)u.write_shift(1,0);p.push(u)}u=_n(p),s.unshift(u),l+=8+u.length}for(d=0;d<e.length;++d)if(!(t&&!t[e[d][0]])&&!(fP.indexOf(e[d][0])>-1||dP.indexOf(e[d][0])>-1)&&e[d][1]!=null){var g=e[d][1],v=0;if(t){v=+t[e[d][0]];var j=r[v];if(j.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}u=l3(j.t,g)}else{var y=fse(g);y==-1&&(y=31,g=String(g)),u=l3(y,g)}s.push(u),h=Ze(8),h.write_shift(4,t?v:2+d),i.push(h),l+=8+u.length}var T=8*(s.length+1);for(d=0;d<s.length;++d)i[d].write_shift(4,T),T+=s[d].length;return a.write_shift(4,l),a.write_shift(4,s.length),_n([a].concat(i).concat(s))}function d3(e,t,r,a,i,s){var l=Ze(i?68:48),d=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Tr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,i?68:48);var u=c3(e,r,a);if(d.push(u),i){var h=c3(i,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+u.length),d.push(h)}return _n(d)}function pse(e,t){t||(t=Ze(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function mse(e,t){return e.read_shift(t)===1}function Qn(e,t){return t||(t=Ze(2)),t.write_shift(2,+!!e),t}function pP(e){return e.read_shift(2,"u")}function Ga(e,t){return t||(t=Ze(2)),t.write_shift(2,e),t}function mP(e,t,r){return r||(r=Ze(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function xP(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var l=a?e.read_shift(a,i):"";return l}function xse(e){var t=e.t||"",r=Ze(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=Ze(2*t.length);a.write_shift(2*t.length,t,"utf16le");var i=[r,a];return _n(i)}function gse(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function yse(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):gse(e,a,r)}function vse(e,t,r){if(r.biff>5)return yse(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function gP(e,t,r){return r||(r=Ze(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function u3(e,t){t||(t=Ze(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function bse(e){var t=Ze(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var i=a.indexOf("#"),s=i>-1?31:23;switch(a.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(s==28)a=a.slice(1),u3(a,t);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var d=i>-1?a.slice(0,i):a;for(t.write_shift(4,2*(d.length+1)),r=0;r<d.length;++r)t.write_shift(2,d.charCodeAt(r));t.write_shift(2,0),s&8&&u3(i>-1?a.slice(i+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var u=0;a.slice(u*3,u*3+3)=="../"||a.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,a.length-3*u+1),r=0;r<a.length-3*u;++r)t.write_shift(1,a.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function ol(e,t,r,a){return a||(a=Ze(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function jse(e,t,r){var a=r.biff>8?4:2,i=e.read_shift(a),s=e.read_shift(a,"i"),l=e.read_shift(a,"i");return[i,s,l]}function wse(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);return{s:{c:a,r:t},e:{c:i,r}}}function yP(e,t){return t||(t=Ze(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function OS(e,t,r){var a=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,i=8;break;case"biff4":a=4,i=6;break;case"biff3":a=3,i=6;break;case"biff2":a=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ze(i);return s.write_shift(2,a),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Sse(e,t){var r=!t||t.biff==8,a=Ze(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function Nse(e,t){var r=!t||t.biff>=8?2:1,a=Ze(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=a.slice(0,a.l);return i.l=a.l,i}function Tse(e,t){var r=Ze(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],i=0;i<e.length;++i)a[i]=xse(e[i]);var s=_n([r].concat(a));return s.parts=[r.length].concat(a.map(function(l){return l.length})),s}function Cse(){var e=Ze(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Ase(e){var t=Ze(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Ese(e,t){var r=e.name||"Arial",a=t&&t.biff==5,i=a?15+r.length:16+2*r.length,s=Ze(i);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),s}function Ose(e,t,r,a){var i=Ze(10);return ol(e,t,a,i),i.write_shift(4,r),i}function _se(e,t,r,a,i){var s=!i||i.biff==8,l=Ze(8+ +s+(1+s)*r.length);return ol(e,t,a,l),l.write_shift(2,r.length),s&&l.write_shift(1,1),l.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),l}function kse(e,t,r,a){var i=r&&r.biff==5;a||(a=Ze(i?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(i?1:2,t.length),i||a.write_shift(1,1),a.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=a.length>a.l?a.slice(0,a.l):a;return s.l==null&&(s.l=s.length),s}function Ise(e,t){var r=t.biff==8||!t.biff?4:2,a=Ze(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function h3(e,t,r,a){var i=r&&r.biff==5;a||(a=Ze(i?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&i&&(s|=1024),a.write_shift(4,s),a.write_shift(4,0),i||a.write_shift(4,0),a.write_shift(2,0),a}function Dse(e){var t=Ze(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Rse(e,t,r,a,i,s){var l=Ze(8);return ol(e,t,a,l),mP(r,s,l),l}function Pse(e,t,r,a){var i=Ze(14);return ol(e,t,a,i),sl(r,i),i}function Mse(e,t,r){if(r.biff<8)return Bse(e,t,r);for(var a=[],i=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)a.push(jse(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return a}function Bse(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=xP(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function Fse(e){var t=Ze(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)yP(e[r],t);return t}function Lse(e){var t=Ze(24),r=bn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(a[i],16));return _n([t,bse(e[1])])}function $se(e){var t=e[1].Tooltip,r=Ze(10+2*(t.length+1));r.write_shift(2,2048);var a=bn(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function zse(e){return e||(e=Ze(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Use(e,t,r){if(!r.cellStyles)return Li(e,t);var a=r&&r.biff>=12?4:2,i=e.read_shift(a),s=e.read_shift(a),l=e.read_shift(a),d=e.read_shift(a),u=e.read_shift(2);a==2&&(e.l+=2);var h={s:i,e:s,w:l,ixfe:d,flags:u};return(r.biff>=5||!r.biff)&&(h.level=u>>8&7),h}function qse(e,t){var r=Ze(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function Wse(e){for(var t=Ze(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Hse(e,t,r){var a=Ze(15);return Xh(a,e,t),a.write_shift(8,r,"f"),a}function Gse(e,t,r){var a=Ze(9);return Xh(a,e,t),a.write_shift(2,r),a}var Vse=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=yS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(d,u){var h=[],p=il(1);switch(u.type){case"base64":p=pi(Ss(d));break;case"binary":p=pi(d);break;case"buffer":case"array":p=d;break}Ea(p,0);var m=p.read_shift(1),g=!!(m&136),v=!1,j=!1;switch(m){case 2:break;case 3:break;case 48:v=!0,g=!0;break;case 49:v=!0,g=!0;break;case 131:break;case 139:break;case 140:j=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var b=0,y=521;m==2&&(b=p.read_shift(2)),p.l+=3,m!=2&&(b=p.read_shift(4)),b>1048576&&(b=1e6),m!=2&&(y=p.read_shift(2));var T=p.read_shift(2),E=u.codepage||1252;m!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(E=e[p[p.l]]),p.l+=1,p.l+=2),j&&(p.l+=36);for(var C=[],S={},A=Math.min(p.length,m==2?521:y-10-(v?264:0)),k=j?32:11;p.l<A&&p[p.l]!=13;)switch(S={},S.name=Lm.utils.decode(E,p.slice(p.l,p.l+k)).replace(/[\u0000\r\n].*$/g,""),p.l+=k,S.type=String.fromCharCode(p.read_shift(1)),m!=2&&!j&&(S.offset=p.read_shift(4)),S.len=p.read_shift(1),m==2&&(S.offset=p.read_shift(2)),S.dec=p.read_shift(1),S.name.length&&C.push(S),m!=2&&(p.l+=j?13:14),S.type){case"B":(!v||S.len!=8)&&u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(p[p.l]!==13&&(p.l=y-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=y;var D=0,B=0;for(h[0]=[],B=0;B!=C.length;++B)h[0][B]=C[B].name;for(;b-- >0;){if(p[p.l]===42){p.l+=T;continue}for(++p.l,h[++D]=[],B=0,B=0;B!=C.length;++B){var F=p.slice(p.l,p.l+C[B].len);p.l+=C[B].len,Ea(F,0);var M=Lm.utils.decode(E,F);switch(C[B].type){case"C":M.trim().length&&(h[D][B]=M.replace(/\s+$/,""));break;case"D":M.length===8?h[D][B]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):h[D][B]=M;break;case"F":h[D][B]=parseFloat(M.trim());break;case"+":case"I":h[D][B]=j?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":h[D][B]=!0;break;case"N":case"F":h[D][B]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));h[D][B]="##MEMO##"+(j?parseInt(M.trim(),10):F.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(h[D][B]=+M||0);break;case"@":h[D][B]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":h[D][B]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":h[D][B]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[D][B]=-F.read_shift(-8,"f");break;case"B":if(v&&C[B].len==8){h[D][B]=F.read_shift(8,"f");break}case"G":case"P":F.l+=C[B].len;break;case"0":if(C[B].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[B].type)}}}if(m!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return u&&u.sheetRows&&(h=h.slice(0,u.sheetRows)),u.DBF=C,h}function a(d,u){var h=u||{};h.dateNF||(h.dateNF="yyyymmdd");var p=dd(r(d,h),h);return p["!cols"]=h.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete h.DBF,p}function i(d,u){try{return pl(a(d,u),u)}catch(h){if(u&&u.WTF)throw h}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(d,u){var h=u||{};if(+h.codepage>=0&&wh(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var p=ha(),m=Zm(d,{header:1,raw:!0,cellDates:!0}),g=m[0],v=m.slice(1),j=d["!cols"]||[],b=0,y=0,T=0,E=1;for(b=0;b<g.length;++b){if(((j[b]||{}).DBF||{}).name){g[b]=j[b].DBF.name,++T;continue}if(g[b]!=null){if(++T,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(y=0;y<1024;++y)if(g.indexOf(g[b]+"_"+y)==-1){g[b]+="_"+y;break}}}}var C=Dr(d["!ref"]),S=[],A=[],k=[];for(b=0;b<=C.e.c-C.s.c;++b){var D="",B="",F=0,M=[];for(y=0;y<v.length;++y)v[y][b]!=null&&M.push(v[y][b]);if(M.length==0||g[b]==null){S[b]="?";continue}for(y=0;y<M.length;++y){switch(typeof M[y]){case"number":B="B";break;case"string":B="C";break;case"boolean":B="L";break;case"object":B=M[y]instanceof Date?"D":"C";break;default:B="C"}F=Math.max(F,String(M[y]).length),D=D&&D!=B?"C":B}F>250&&(F=250),B=((j[b]||{}).DBF||{}).type,B=="C"&&j[b].DBF.len>F&&(F=j[b].DBF.len),D=="B"&&B=="N"&&(D="N",k[b]=j[b].DBF.dec,F=j[b].DBF.len),A[b]=D=="C"||B=="N"?F:s[D]||0,E+=A[b],S[b]=D}var L=p.next(32);for(L.write_shift(4,318902576),L.write_shift(4,v.length),L.write_shift(2,296+32*T),L.write_shift(2,E),b=0;b<4;++b)L.write_shift(4,0);for(L.write_shift(4,0|(+t[b8]||3)<<8),b=0,y=0;b<g.length;++b)if(g[b]!=null){var O=p.next(32),W=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,W,"sbcs"),O.write_shift(1,S[b]=="?"?"C":S[b],"sbcs"),O.write_shift(4,y),O.write_shift(1,A[b]||s[S[b]]||0),O.write_shift(1,k[b]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),y+=A[b]||s[S[b]]||0}var P=p.next(264);for(P.write_shift(4,13),b=0;b<65;++b)P.write_shift(4,0);for(b=0;b<v.length;++b){var I=p.next(E);for(I.write_shift(1,0),y=0;y<g.length;++y)if(g[y]!=null)switch(S[y]){case"L":I.write_shift(1,v[b][y]==null?63:v[b][y]?84:70);break;case"B":I.write_shift(8,v[b][y]||0,"f");break;case"N":var R="0";for(typeof v[b][y]=="number"&&(R=v[b][y].toFixed(k[y]||0)),T=0;T<A[y]-R.length;++T)I.write_shift(1,32);I.write_shift(1,R,"sbcs");break;case"D":v[b][y]?(I.write_shift(4,("0000"+v[b][y].getFullYear()).slice(-4),"sbcs"),I.write_shift(2,("00"+(v[b][y].getMonth()+1)).slice(-2),"sbcs"),I.write_shift(2,("00"+v[b][y].getDate()).slice(-2),"sbcs")):I.write_shift(8,"00000000","sbcs");break;case"C":var H=String(v[b][y]!=null?v[b][y]:"").slice(0,A[y]);for(I.write_shift(1,H,"sbcs"),T=0;T<A[y]-H.length;++T)I.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:a,from_sheet:l}}(),Yse=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Pn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,v){var j=e[v];return typeof j=="number"?MI(j):j},a=function(g,v,j){var b=v.charCodeAt(0)-32<<4|j.charCodeAt(0)-48;return b==59?g:MI(b)};e["|"]=254;function i(g,v){switch(v.type){case"base64":return s(Ss(g),v);case"binary":return s(g,v);case"buffer":return s(ur&&Buffer.isBuffer(g)?g.toString("binary"):Hh(g),v);case"array":return s(q0(g),v)}throw new Error("Unrecognized type "+v.type)}function s(g,v){var j=g.split(/[\n\r]+/),b=-1,y=-1,T=0,E=0,C=[],S=[],A=null,k={},D=[],B=[],F=[],M=0,L;for(+v.codepage>=0&&wh(+v.codepage);T!==j.length;++T){M=0;var O=j[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),W=O.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),P=W[0],I;if(O.length>0)switch(P){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&S.push(O.slice(3).replace(/;;/g,";"));break;case"C":var R=!1,H=!1,V=!1,he=!1,U=-1,Y=-1;for(E=1;E<W.length;++E)switch(W[E].charAt(0)){case"A":break;case"X":y=parseInt(W[E].slice(1))-1,H=!0;break;case"Y":for(b=parseInt(W[E].slice(1))-1,H||(y=0),L=C.length;L<=b;++L)C[L]=[];break;case"K":I=W[E].slice(1),I.charAt(0)==='"'?I=I.slice(1,I.length-1):I==="TRUE"?I=!0:I==="FALSE"?I=!1:isNaN(ms(I))?isNaN(Nh(I).getDate())||(I=ea(I)):(I=ms(I),A!==null&&I8(A)&&(I=M8(I))),R=!0;break;case"E":he=!0;var z=Goe(W[E].slice(1),{r:b,c:y});C[b][y]=[C[b][y],z];break;case"S":V=!0,C[b][y]=[C[b][y],"S5S"];break;case"G":break;case"R":U=parseInt(W[E].slice(1))-1;break;case"C":Y=parseInt(W[E].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+O)}if(R&&(C[b][y]&&C[b][y].length==2?C[b][y][0]=I:C[b][y]=I,A=null),V){if(he)throw new Error("SYLK shared formula cannot have own formula");var ee=U>-1&&C[U][Y];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");C[b][y][1]=Voe(ee[1],{r:b-U,c:y-Y})}break;case"F":var q=0;for(E=1;E<W.length;++E)switch(W[E].charAt(0)){case"X":y=parseInt(W[E].slice(1))-1,++q;break;case"Y":for(b=parseInt(W[E].slice(1))-1,L=C.length;L<=b;++L)C[L]=[];break;case"M":M=parseInt(W[E].slice(1))/20;break;case"F":break;case"G":break;case"P":A=S[parseInt(W[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=W[E].slice(1).split(" "),L=parseInt(F[0],10);L<=parseInt(F[1],10);++L)M=parseInt(F[2],10),B[L-1]=M===0?{hidden:!0}:{wch:M},_S(B[L-1]);break;case"C":y=parseInt(W[E].slice(1))-1,B[y]||(B[y]={});break;case"R":b=parseInt(W[E].slice(1))-1,D[b]||(D[b]={}),M>0?(D[b].hpt=M,D[b].hpx=SP(M)):M===0&&(D[b].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+O)}q<1&&(A=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+O)}}return D.length>0&&(k["!rows"]=D),B.length>0&&(k["!cols"]=B),v&&v.sheetRows&&(C=C.slice(0,v.sheetRows)),[C,k]}function l(g,v){var j=i(g,v),b=j[0],y=j[1],T=dd(b,v);return Pn(y).forEach(function(E){T[E]=y[E]}),T}function d(g,v){return pl(l(g,v),v)}function u(g,v,j,b){var y="C;Y"+(j+1)+";X"+(b+1)+";K";switch(g.t){case"n":y+=g.v||0,g.f&&!g.F&&(y+=";E"+IS(g.f,{r:j,c:b}));break;case"b":y+=g.v?"TRUE":"FALSE";break;case"e":y+=g.w||g.v;break;case"d":y+='"'+(g.w||g.v)+'"';break;case"s":y+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function h(g,v){v.forEach(function(j,b){var y="F;W"+(b+1)+" "+(b+1)+" ";j.hidden?y+="0":(typeof j.width=="number"&&!j.wpx&&(j.wpx=Ym(j.width)),typeof j.wpx=="number"&&!j.wch&&(j.wch=Km(j.wpx)),typeof j.wch=="number"&&(y+=Math.round(j.wch))),y.charAt(y.length-1)!=" "&&g.push(y)})}function p(g,v){v.forEach(function(j,b){var y="F;";j.hidden?y+="M0;":j.hpt?y+="M"+20*j.hpt+";":j.hpx&&(y+="M"+20*Xm(j.hpx)+";"),y.length>2&&g.push(y+"R"+(b+1))})}function m(g,v){var j=["ID;PWXL;N;E"],b=[],y=Dr(g["!ref"]),T,E=Array.isArray(g),C=`\r
`;j.push("P;PGeneral"),j.push("F;P0;DG0G8;M255"),g["!cols"]&&h(j,g["!cols"]),g["!rows"]&&p(j,g["!rows"]),j.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var S=y.s.r;S<=y.e.r;++S)for(var A=y.s.c;A<=y.e.c;++A){var k=br({r:S,c:A});T=E?(g[S]||[])[A]:g[k],!(!T||T.v==null&&(!T.f||T.F))&&b.push(u(T,g,S,A))}return j.join(C)+C+b.join(C)+C+"E"+C}return{to_workbook:d,to_sheet:l,from_sheet:m}}(),Kse=function(){function e(s,l){switch(l.type){case"base64":return t(Ss(s),l);case"binary":return t(s,l);case"buffer":return t(ur&&Buffer.isBuffer(s)?s.toString("binary"):Hh(s),l);case"array":return t(q0(s),l)}throw new Error("Unrecognized type "+l.type)}function t(s,l){for(var d=s.split(`
`),u=-1,h=-1,p=0,m=[];p!==d.length;++p){if(d[p].trim()==="BOT"){m[++u]=[],h=0;continue}if(!(u<0)){var g=d[p].trim().split(","),v=g[0],j=g[1];++p;for(var b=d[p]||"";(b.match(/["]/g)||[]).length&1&&p<d.length-1;)b+=`
`+d[++p];switch(b=b.trim(),+v){case-1:if(b==="BOT"){m[++u]=[],h=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?m[u][h]=!0:b==="FALSE"?m[u][h]=!1:isNaN(ms(j))?isNaN(Nh(j).getDate())?m[u][h]=j:m[u][h]=ea(j):m[u][h]=ms(j),++h;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),m[u][h++]=b!==""?b:null;break}if(b==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function r(s,l){return dd(e(s,l),l)}function a(s,l){return pl(r(s,l),l)}var i=function(){var s=function(u,h,p,m,g){u.push(h),u.push(p+","+m),u.push('"'+g.replace(/"/g,'""')+'"')},l=function(u,h,p,m){u.push(h+","+p),u.push(h==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(u){var h=[],p=Dr(u["!ref"]),m,g=Array.isArray(u);s(h,"TABLE",0,1,"sheetjs"),s(h,"VECTORS",0,p.e.r-p.s.r+1,""),s(h,"TUPLES",0,p.e.c-p.s.c+1,""),s(h,"DATA",0,0,"");for(var v=p.s.r;v<=p.e.r;++v){l(h,-1,0,"BOT");for(var j=p.s.c;j<=p.e.c;++j){var b=br({r:v,c:j});if(m=g?(u[v]||[])[j]:u[b],!m){l(h,1,0,"");continue}switch(m.t){case"n":var y=m.w;!y&&m.v!=null&&(y=m.v),y==null?m.f&&!m.F?l(h,1,0,"="+m.f):l(h,1,0,""):l(h,0,y,"V");break;case"b":l(h,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=co(m.z||Hr[14],pa(ea(m.v)))),l(h,0,m.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var T=`\r
`,E=h.join(T);return E}}();return{to_workbook:a,to_sheet:r,from_sheet:i}}(),vP=function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,g){for(var v=m.split(`
`),j=-1,b=-1,y=0,T=[];y!==v.length;++y){var E=v[y].trim().split(":");if(E[0]==="cell"){var C=bn(E[1]);if(T.length<=C.r)for(j=T.length;j<=C.r;++j)T[j]||(T[j]=[]);switch(j=C.r,b=C.c,E[2]){case"t":T[j][b]=e(E[3]);break;case"v":T[j][b]=+E[3];break;case"vtf":var S=E[E.length-1];case"vtc":switch(E[3]){case"nl":T[j][b]=!!+E[4];break;default:T[j][b]=+E[4];break}E[2]=="vtf"&&(T[j][b]=[T[j][b],S])}}}return g&&g.sheetRows&&(T=T.slice(0,g.sheetRows)),T}function a(m,g){return dd(r(m,g),g)}function i(m,g){return pl(a(m,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,d=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function h(m){if(!m||!m["!ref"])return"";for(var g=[],v=[],j,b="",y=Da(m["!ref"]),T=Array.isArray(m),E=y.s.r;E<=y.e.r;++E)for(var C=y.s.c;C<=y.e.c;++C)if(b=br({r:E,c:C}),j=T?(m[E]||[])[C]:m[b],!(!j||j.v==null||j.t==="z")){switch(v=["cell",b,"t"],j.t){case"s":case"str":v.push(t(j.v));break;case"n":j.f?(v[2]="vtf",v[3]="n",v[4]=j.v,v[5]=t(j.f)):(v[2]="v",v[3]=j.v);break;case"b":v[2]="vt"+(j.f?"f":"c"),v[3]="nl",v[4]=j.v?"1":"0",v[5]=t(j.f||(j.v?"TRUE":"FALSE"));break;case"d":var S=pa(ea(j.v));v[2]="vtc",v[3]="nd",v[4]=""+S,v[5]=j.w||co(j.z||Hr[14],S);break;case"e":continue}g.push(v.join(":"))}return g.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function p(m){return[s,l,d,l,h(m),u].join(`
`)}return{to_workbook:i,to_sheet:a,from_sheet:p}}(),Xse=function(){function e(p,m,g,v,j){j.raw?m[g][v]=p:p===""||(p==="TRUE"?m[g][v]=!0:p==="FALSE"?m[g][v]=!1:isNaN(ms(p))?isNaN(Nh(p).getDate())?m[g][v]=p:m[g][v]=ea(p):m[g][v]=ms(p))}function t(p,m){var g=m||{},v=[];if(!p||p.length===0)return v;for(var j=p.split(/[\r\n]/),b=j.length-1;b>=0&&j[b].length===0;)--b;for(var y=10,T=0,E=0;E<=b;++E)T=j[E].indexOf(" "),T==-1?T=j[E].length:T++,y=Math.max(y,T);for(E=0;E<=b;++E){v[E]=[];var C=0;for(e(j[E].slice(0,y).trim(),v,E,C,g),C=1;C<=(j[E].length-y)/10+1;++C)e(j[E].slice(y+(C-1)*10,y+C*10).trim(),v,E,C,g)}return g.sheetRows&&(v=v.slice(0,g.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function i(p){for(var m={},g=!1,v=0,j=0;v<p.length;++v)(j=p.charCodeAt(v))==34?g=!g:!g&&j in r&&(m[j]=(m[j]||0)+1);j=[];for(v in m)Object.prototype.hasOwnProperty.call(m,v)&&j.push([m[v],v]);if(!j.length){m=a;for(v in m)Object.prototype.hasOwnProperty.call(m,v)&&j.push([m[v],v])}return j.sort(function(b,y){return b[0]-y[0]||a[b[1]]-a[y[1]]}),r[j.pop()[1]]||44}function s(p,m){var g=m||{},v="",j=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(v=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(v=p.charAt(4),p=p.slice(6)):v=i(p.slice(0,1024)):g&&g.FS?v=g.FS:v=i(p.slice(0,1024));var y=0,T=0,E=0,C=0,S=0,A=v.charCodeAt(0),k=!1,D=0,B=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var F=g.dateNF!=null?hie(g.dateNF):null;function M(){var L=p.slice(C,S),O={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)O.t="z";else if(g.raw)O.t="s",O.v=L;else if(L.trim().length===0)O.t="s",O.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(O.t="s",O.v=L.slice(2,-1).replace(/""/g,'"')):Yoe(L)?(O.t="n",O.f=L.slice(1)):(O.t="s",O.v=L);else if(L=="TRUE")O.t="b",O.v=!0;else if(L=="FALSE")O.t="b",O.v=!1;else if(!isNaN(E=ms(L)))O.t="n",g.cellText!==!1&&(O.w=L),O.v=E;else if(!isNaN(Nh(L).getDate())||F&&L.match(F)){O.z=g.dateNF||Hr[14];var W=0;F&&L.match(F)&&(L=fie(L,g.dateNF,L.match(F)||[]),W=1),g.cellDates?(O.t="d",O.v=ea(L,W)):(O.t="n",O.v=pa(ea(L,W))),g.cellText!==!1&&(O.w=co(O.z,O.v instanceof Date?pa(O.v):O.v)),g.cellNF||delete O.z}else O.t="s",O.v=L;if(O.t=="z"||(g.dense?(j[y]||(j[y]=[]),j[y][T]=O):j[br({c:T,r:y})]=O),C=S+1,B=p.charCodeAt(C),b.e.c<T&&(b.e.c=T),b.e.r<y&&(b.e.r=y),D==A)++T;else if(T=0,++y,g.sheetRows&&g.sheetRows<=y)return!0}e:for(;S<p.length;++S)switch(D=p.charCodeAt(S)){case 34:B===34&&(k=!k);break;case A:case 10:case 13:if(!k&&M())break e;break}return S-C>0&&M(),j["!ref"]=rn(b),j}function l(p,m){return!(m&&m.PRN)||m.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?s(p,m):dd(t(p,m),m)}function d(p,m){var g="",v=m.type=="string"?[0,0,0,0]:lhe(p,m);switch(m.type){case"base64":g=Ss(p);break;case"binary":g=p;break;case"buffer":m.codepage==65001?g=p.toString("utf8"):m.codepage&&typeof Lm<"u"||(g=ur&&Buffer.isBuffer(p)?p.toString("binary"):Hh(p));break;case"array":g=q0(p);break;case"string":g=p;break;default:throw new Error("Unrecognized type "+m.type)}return v[0]==239&&v[1]==187&&v[2]==191?g=Iu(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=Iu(g):m.type=="binary"&&typeof Lm<"u",g.slice(0,19)=="socialcalc:version:"?vP.to_sheet(m.type=="string"?g:Iu(g),m):l(g,m)}function u(p,m){return pl(d(p,m),m)}function h(p){for(var m=[],g=Dr(p["!ref"]),v,j=Array.isArray(p),b=g.s.r;b<=g.e.r;++b){for(var y=[],T=g.s.c;T<=g.e.c;++T){var E=br({r:b,c:T});if(v=j?(p[b]||[])[T]:p[E],!v||v.v==null){y.push("          ");continue}for(var C=(v.w||(Ns(v),v.w)||"").slice(0,10);C.length<10;)C+=" ";y.push(C+(T===0?" ":""))}m.push(y.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:d,from_sheet:h}}(),f3=function(){function e(z,ee,q){if(z){Ea(z,z.l||0);for(var Q=q.Enum||U;z.l<z.length;){var ae=z.read_shift(2),de=Q[ae]||Q[65535],xe=z.read_shift(2),Z=z.l+xe,ge=de.f&&de.f(z,xe,q);if(z.l=Z,ee(ge,de,ae))return}}}function t(z,ee){switch(ee.type){case"base64":return r(pi(Ss(z)),ee);case"binary":return r(pi(z),ee);case"buffer":case"array":return r(z,ee)}throw"Unsupported type "+ee.type}function r(z,ee){if(!z)return z;var q=ee||{},Q=q.dense?[]:{},ae="Sheet1",de="",xe=0,Z={},ge=[],je=[],pe={s:{r:0,c:0},e:{r:0,c:0}},Je=q.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)q.Enum=U,e(z,function(Ce,Qe,re){switch(re){case 0:q.vers=Ce,Ce>=4096&&(q.qpro=!0);break;case 6:pe=Ce;break;case 204:Ce&&(de=Ce);break;case 222:de=Ce;break;case 15:case 51:q.qpro||(Ce[1].v=Ce[1].v.slice(1));case 13:case 14:case 16:re==14&&(Ce[2]&112)==112&&(Ce[2]&15)>1&&(Ce[2]&15)<15&&(Ce[1].z=q.dateNF||Hr[14],q.cellDates&&(Ce[1].t="d",Ce[1].v=M8(Ce[1].v))),q.qpro&&Ce[3]>xe&&(Q["!ref"]=rn(pe),Z[ae]=Q,ge.push(ae),Q=q.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},xe=Ce[3],ae=de||"Sheet"+(xe+1),de="");var ce=q.dense?(Q[Ce[0].r]||[])[Ce[0].c]:Q[br(Ce[0])];if(ce){ce.t=Ce[1].t,ce.v=Ce[1].v,Ce[1].z!=null&&(ce.z=Ce[1].z),Ce[1].f!=null&&(ce.f=Ce[1].f);break}q.dense?(Q[Ce[0].r]||(Q[Ce[0].r]=[]),Q[Ce[0].r][Ce[0].c]=Ce[1]):Q[br(Ce[0])]=Ce[1];break}},q);else if(z[2]==26||z[2]==14)q.Enum=Y,z[2]==14&&(q.qpro=!0,z.l=0),e(z,function(Ce,Qe,re){switch(re){case 204:ae=Ce;break;case 22:Ce[1].v=Ce[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ce[3]>xe&&(Q["!ref"]=rn(pe),Z[ae]=Q,ge.push(ae),Q=q.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},xe=Ce[3],ae="Sheet"+(xe+1)),Je>0&&Ce[0].r>=Je)break;q.dense?(Q[Ce[0].r]||(Q[Ce[0].r]=[]),Q[Ce[0].r][Ce[0].c]=Ce[1]):Q[br(Ce[0])]=Ce[1],pe.e.c<Ce[0].c&&(pe.e.c=Ce[0].c),pe.e.r<Ce[0].r&&(pe.e.r=Ce[0].r);break;case 27:Ce[14e3]&&(je[Ce[14e3][0]]=Ce[14e3][1]);break;case 1537:je[Ce[0]]=Ce[1],Ce[0]==xe&&(ae=Ce[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(Q["!ref"]=rn(pe),Z[de||ae]=Q,ge.push(de||ae),!je.length)return{SheetNames:ge,Sheets:Z};for(var Ee={},Ve=[],le=0;le<je.length;++le)Z[ge[le]]?(Ve.push(je[le]||ge[le]),Ee[je[le]]=Z[je[le]]||Z[ge[le]]):(Ve.push(je[le]),Ee[je[le]]={"!ref":"A1"});return{SheetNames:Ve,Sheets:Ee}}function a(z,ee){var q=ee||{};if(+q.codepage>=0&&wh(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=ha(),ae=Dr(z["!ref"]),de=Array.isArray(z),xe=[];xt(Q,0,s(1030)),xt(Q,6,u(ae));for(var Z=Math.min(ae.e.r,8191),ge=ae.s.r;ge<=Z;++ge)for(var je=Dn(ge),pe=ae.s.c;pe<=ae.e.c;++pe){ge===ae.s.r&&(xe[pe]=qn(pe));var Je=xe[pe]+je,Ee=de?(z[ge]||[])[pe]:z[Je];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")(Ee.v|0)==Ee.v&&Ee.v>=-32768&&Ee.v<=32767?xt(Q,13,v(ge,pe,Ee.v)):xt(Q,14,b(ge,pe,Ee.v));else{var Ve=Ns(Ee);xt(Q,15,m(ge,pe,Ve.slice(0,239)))}}return xt(Q,1),Q.end()}function i(z,ee){var q=ee||{};if(+q.codepage>=0&&wh(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=ha();xt(Q,0,l(z));for(var ae=0,de=0;ae<z.SheetNames.length;++ae)(z.Sheets[z.SheetNames[ae]]||{})["!ref"]&&xt(Q,27,he(z.SheetNames[ae],de++));var xe=0;for(ae=0;ae<z.SheetNames.length;++ae){var Z=z.Sheets[z.SheetNames[ae]];if(!(!Z||!Z["!ref"])){for(var ge=Dr(Z["!ref"]),je=Array.isArray(Z),pe=[],Je=Math.min(ge.e.r,8191),Ee=ge.s.r;Ee<=Je;++Ee)for(var Ve=Dn(Ee),le=ge.s.c;le<=ge.e.c;++le){Ee===ge.s.r&&(pe[le]=qn(le));var Ce=pe[le]+Ve,Qe=je?(Z[Ee]||[])[le]:Z[Ce];if(!(!Qe||Qe.t=="z"))if(Qe.t=="n")xt(Q,23,M(Ee,le,xe,Qe.v));else{var re=Ns(Qe);xt(Q,22,D(Ee,le,xe,re.slice(0,239)))}}++xe}}return xt(Q,1),Q.end()}function s(z){var ee=Ze(2);return ee.write_shift(2,z),ee}function l(z){var ee=Ze(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var q=0,Q=0,ae=0,de=0;de<z.SheetNames.length;++de){var xe=z.SheetNames[de],Z=z.Sheets[xe];if(!(!Z||!Z["!ref"])){++ae;var ge=Da(Z["!ref"]);q<ge.e.r&&(q=ge.e.r),Q<ge.e.c&&(Q=ge.e.c)}}return q>8191&&(q=8191),ee.write_shift(2,q),ee.write_shift(1,ae),ee.write_shift(1,Q),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function d(z,ee,q){var Q={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&q.qpro?(Q.s.c=z.read_shift(1),z.l++,Q.s.r=z.read_shift(2),Q.e.c=z.read_shift(1),z.l++,Q.e.r=z.read_shift(2),Q):(Q.s.c=z.read_shift(2),Q.s.r=z.read_shift(2),ee==12&&q.qpro&&(z.l+=2),Q.e.c=z.read_shift(2),Q.e.r=z.read_shift(2),ee==12&&q.qpro&&(z.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function u(z){var ee=Ze(8);return ee.write_shift(2,z.s.c),ee.write_shift(2,z.s.r),ee.write_shift(2,z.e.c),ee.write_shift(2,z.e.r),ee}function h(z,ee,q){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(Q[0].c=z.read_shift(1),Q[3]=z.read_shift(1),Q[0].r=z.read_shift(2),z.l+=2):(Q[2]=z.read_shift(1),Q[0].c=z.read_shift(2),Q[0].r=z.read_shift(2)),Q}function p(z,ee,q){var Q=z.l+ee,ae=h(z,ee,q);if(ae[1].t="s",q.vers==20768){z.l++;var de=z.read_shift(1);return ae[1].v=z.read_shift(de,"utf8"),ae}return q.qpro&&z.l++,ae[1].v=z.read_shift(Q-z.l,"cstr"),ae}function m(z,ee,q){var Q=Ze(7+q.length);Q.write_shift(1,255),Q.write_shift(2,ee),Q.write_shift(2,z),Q.write_shift(1,39);for(var ae=0;ae<Q.length;++ae){var de=q.charCodeAt(ae);Q.write_shift(1,de>=128?95:de)}return Q.write_shift(1,0),Q}function g(z,ee,q){var Q=h(z,ee,q);return Q[1].v=z.read_shift(2,"i"),Q}function v(z,ee,q){var Q=Ze(7);return Q.write_shift(1,255),Q.write_shift(2,ee),Q.write_shift(2,z),Q.write_shift(2,q,"i"),Q}function j(z,ee,q){var Q=h(z,ee,q);return Q[1].v=z.read_shift(8,"f"),Q}function b(z,ee,q){var Q=Ze(13);return Q.write_shift(1,255),Q.write_shift(2,ee),Q.write_shift(2,z),Q.write_shift(8,q,"f"),Q}function y(z,ee,q){var Q=z.l+ee,ae=h(z,ee,q);if(ae[1].v=z.read_shift(8,"f"),q.qpro)z.l=Q;else{var de=z.read_shift(2);S(z.slice(z.l,z.l+de),ae),z.l+=de}return ae}function T(z,ee,q){var Q=ee&32768;return ee&=-32769,ee=(Q?z:0)+(ee>=8192?ee-16384:ee),(Q?"":"$")+(q?qn(ee):Dn(ee))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(z,ee){Ea(z,0);for(var q=[],Q=0,ae="",de="",xe="",Z="";z.l<z.length;){var ge=z[z.l++];switch(ge){case 0:q.push(z.read_shift(8,"f"));break;case 1:de=T(ee[0].c,z.read_shift(2),!0),ae=T(ee[0].r,z.read_shift(2),!1),q.push(de+ae);break;case 2:{var je=T(ee[0].c,z.read_shift(2),!0),pe=T(ee[0].r,z.read_shift(2),!1);de=T(ee[0].c,z.read_shift(2),!0),ae=T(ee[0].r,z.read_shift(2),!1),q.push(je+pe+":"+de+ae)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(z.read_shift(2));break;case 6:{for(var Je="";ge=z[z.l++];)Je+=String.fromCharCode(ge);q.push('"'+Je.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:Z=q.pop(),xe=q.pop(),q.push(["AND","OR"][ge-20]+"("+xe+","+Z+")");break;default:if(ge<32&&C[ge])Z=q.pop(),xe=q.pop(),q.push(xe+C[ge]+Z);else if(E[ge]){if(Q=E[ge][1],Q==69&&(Q=z[z.l++]),Q>q.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+q.join("|")+"|");return}var Ee=q.slice(-Q);q.length-=Q,q.push(E[ge][0]+"("+Ee.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}q.length==1?ee[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function A(z){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=z.read_shift(2),ee[3]=z[z.l++],ee[0].c=z[z.l++],ee}function k(z,ee){var q=A(z);return q[1].t="s",q[1].v=z.read_shift(ee-4,"cstr"),q}function D(z,ee,q,Q){var ae=Ze(6+Q.length);ae.write_shift(2,z),ae.write_shift(1,q),ae.write_shift(1,ee),ae.write_shift(1,39);for(var de=0;de<Q.length;++de){var xe=Q.charCodeAt(de);ae.write_shift(1,xe>=128?95:xe)}return ae.write_shift(1,0),ae}function B(z,ee){var q=A(z);q[1].v=z.read_shift(2);var Q=q[1].v>>1;if(q[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return q[1].v=Q,q}function F(z,ee){var q=A(z),Q=z.read_shift(4),ae=z.read_shift(4),de=z.read_shift(2);if(de==65535)return Q===0&&ae===3221225472?(q[1].t="e",q[1].v=15):Q===0&&ae===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var xe=de&32768;return de=(de&32767)-16446,q[1].v=(1-xe*2)*(ae*Math.pow(2,de+32)+Q*Math.pow(2,de)),q}function M(z,ee,q,Q){var ae=Ze(14);if(ae.write_shift(2,z),ae.write_shift(1,q),ae.write_shift(1,ee),Q==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var de=0,xe=0,Z=0,ge=0;return Q<0&&(de=1,Q=-Q),xe=Math.log2(Q)|0,Q/=Math.pow(2,xe-31),ge=Q>>>0,(ge&2147483648)==0&&(Q/=2,++xe,ge=Q>>>0),Q-=ge,ge|=2147483648,ge>>>=0,Q*=Math.pow(2,32),Z=Q>>>0,ae.write_shift(4,Z),ae.write_shift(4,ge),xe+=16383+(de?32768:0),ae.write_shift(2,xe),ae}function L(z,ee){var q=F(z);return z.l+=ee-14,q}function O(z,ee){var q=A(z),Q=z.read_shift(4);return q[1].v=Q>>6,q}function W(z,ee){var q=A(z),Q=z.read_shift(8,"f");return q[1].v=Q,q}function P(z,ee){var q=W(z);return z.l+=ee-10,q}function I(z,ee){return z[z.l+ee-1]==0?z.read_shift(ee,"cstr"):""}function R(z,ee){var q=z[z.l++];q>ee-1&&(q=ee-1);for(var Q="";Q.length<q;)Q+=String.fromCharCode(z[z.l++]);return Q}function H(z,ee,q){if(!(!q.qpro||ee<21)){var Q=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var ae=z.read_shift(ee-21,"cstr");return[Q,ae]}}function V(z,ee){for(var q={},Q=z.l+ee;z.l<Q;){var ae=z.read_shift(2);if(ae==14e3){for(q[ae]=[0,""],q[ae][0]=z.read_shift(2);z[z.l];)q[ae][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return q}function he(z,ee){var q=Ze(5+z.length);q.write_shift(2,14e3),q.write_shift(2,ee);for(var Q=0;Q<z.length;++Q){var ae=z.charCodeAt(Q);q[q.l++]=ae>127?95:ae}return q[q.l++]=0,q}var U={0:{n:"BOF",f:pP},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:d},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:j},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:I},222:{n:"SHEETNAMELP",f:R},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:B},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:P},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:I},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:i,to_workbook:t}}(),Qse=/^\s|\s$|[\t\n\r]/;function bP(e,t){if(!t.bookSST)return"";var r=[an];r[r.length]=pt("sst",null,{xmlns:cd[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var i=e[a],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(Qse)&&(s+=' xml:space="preserve"'),s+=">"+vr(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Zse(e){return[e.read_shift(4),e.read_shift(4)]}function Jse(e,t){return t||(t=Ze(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var eoe=Wie;function toe(e){var t=ha();ct(t,159,Jse(e));for(var r=0;r<e.length;++r)ct(t,19,eoe(e[r]));return ct(t,160),t.end()}function roe(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function jP(e){var t=0,r,a=roe(e),i=a.length+1,s,l,d,u,h;for(r=il(i),r[0]=a.length,s=1;s!=i;++s)r[s]=a[s-1];for(s=i-1;s>=0;--s)l=r[s],d=(t&16384)===0?0:1,u=t<<1&32767,h=d|u,t=h^l;return t^52811}var noe=function(){function e(i,s){switch(s.type){case"base64":return t(Ss(i),s);case"binary":return t(i,s);case"buffer":return t(ur&&Buffer.isBuffer(i)?i.toString("binary"):Hh(i),s);case"array":return t(q0(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var l=s||{},d=l.dense?[]:{},u=i.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(p,m){Array.isArray(d)&&(d[m]=[]);for(var g=/\\\w+\b/g,v=0,j,b=-1;j=g.exec(p);){switch(j[0]){case"\\cell":var y=p.slice(v,g.lastIndex-j[0].length);if(y[0]==" "&&(y=y.slice(1)),++b,y.length){var T={v:y,t:"s"};Array.isArray(d)?d[m][b]=T:d[br({r:m,c:b})]=T}break}v=g.lastIndex}b>h.e.c&&(h.e.c=b)}),d["!ref"]=rn(h),d}function r(i,s){return pl(e(i,s),s)}function a(i){for(var s=["{\\rtf1\\ansi"],l=Dr(i["!ref"]),d,u=Array.isArray(i),h=l.s.r;h<=l.e.r;++h){s.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)s.push("\\cellx"+(p+1));for(s.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var m=br({r:h,c:p});d=u?(i[h]||[])[p]:i[m],!(!d||d.v==null&&(!d.f||d.F))&&(s.push(" "+(d.w||(Ns(d),d.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}}();function p3(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var aoe=6,xs=aoe;function Ym(e){return Math.floor((e+Math.round(128/xs)/256)*xs)}function Km(e){return Math.floor((e-5)/xs*100+.5)/100}function Q2(e){return Math.round((e*xs+5)/xs*256)/256}function _S(e){e.width?(e.wpx=Ym(e.width),e.wch=Km(e.wpx),e.MDW=xs):e.wpx?(e.wch=Km(e.wpx),e.width=Q2(e.wch),e.MDW=xs):typeof e.wch=="number"&&(e.width=Q2(e.wch),e.wpx=Ym(e.width),e.MDW=xs),e.customWidth&&delete e.customWidth}var ioe=96,wP=ioe;function Xm(e){return e*96/wP}function SP(e){return e*wP/96}function soe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=pt("numFmt",null,{numFmtId:a,formatCode:vr(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=pt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function ooe(e){var t=[];return t[t.length]=pt("cellXfs",null),e.forEach(function(r){t[t.length]=pt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=pt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function NP(e,t){var r=[an,pt("styleSheet",null,{xmlns:cd[0],"xmlns:vt":vn.vt})],a;return e.SSF&&(a=soe(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=ooe(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function loe(e,t){var r=e.read_shift(2),a=Wn(e);return[r,a]}function coe(e,t,r){r||(r=Ze(6+4*t.length)),r.write_shift(2,e),jn(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function doe(e,t,r){var a={};a.sz=e.read_shift(2)/20;var i=Qie(e);i.fItalic&&(a.italic=1),i.fCondense&&(a.condense=1),i.fExtend&&(a.extend=1),i.fShadow&&(a.shadow=1),i.fOutline&&(a.outline=1),i.fStrikeout&&(a.strike=1);var s=e.read_shift(2);switch(s===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(a.underline=l);var d=e.read_shift(1);d>0&&(a.family=d);var u=e.read_shift(1);switch(u>0&&(a.charset=u),e.l++,a.color=Xie(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Wn(e),a}function uoe(e,t){t||(t=Ze(25+4*32)),t.write_shift(2,e.sz*20),Zie(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Gm(e.color,t);var a=0;return a=2,t.write_shift(1,a),jn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var hoe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],uj,foe=Li;function m3(e,t){t||(t=Ze(4*3+8*7+16*1)),uj||(uj=yS(hoe));var r=uj[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(Gm({auto:1},t),Gm({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function poe(e,t){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:i}}function TP(e,t,r){r||(r=Ze(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function bu(e,t){return t||(t=Ze(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var moe=Li;function xoe(e,t){return t||(t=Ze(51)),t.write_shift(1,0),bu(null,t),bu(null,t),bu(null,t),bu(null,t),bu(null,t),t.length>t.l?t.slice(0,t.l):t}function goe(e,t){return t||(t=Ze(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Hm(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function yoe(e,t,r){var a=Ze(2052);return a.write_shift(4,e),Hm(t,a),Hm(r,a),a.length>a.l?a.slice(0,a.l):a}function voe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)t[i]!=null&&++r}),r!=0&&(ct(e,615,yi(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)t[i]!=null&&ct(e,44,coe(i,t[i]))}),ct(e,616))}}function boe(e){var t=1;ct(e,611,yi(t)),ct(e,43,uoe({sz:12,color:{theme:1},name:"Calibri",family:2})),ct(e,612)}function joe(e){var t=2;ct(e,603,yi(t)),ct(e,45,m3({patternType:"none"})),ct(e,45,m3({patternType:"gray125"})),ct(e,604)}function woe(e){var t=1;ct(e,613,yi(t)),ct(e,46,xoe()),ct(e,614)}function Soe(e){var t=1;ct(e,626,yi(t)),ct(e,47,TP({numFmtId:0},65535)),ct(e,627)}function Noe(e,t){ct(e,617,yi(t.length)),t.forEach(function(r){ct(e,47,TP(r,0))}),ct(e,618)}function Toe(e){var t=1;ct(e,619,yi(t)),ct(e,48,goe({xfId:0,name:"Normal"})),ct(e,620)}function Coe(e){var t=0;ct(e,505,yi(t)),ct(e,506)}function Aoe(e){var t=0;ct(e,508,yoe(t,"TableStyleMedium9","PivotStyleMedium4")),ct(e,509)}function Eoe(e,t){var r=ha();return ct(r,278),voe(r,e.SSF),boe(r),joe(r),woe(r),Soe(r),Noe(r,t.cellXfs),Toe(r),Coe(r),Aoe(r),ct(r,279),r.end()}function CP(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[an];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Ooe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Wn(e)}}function _oe(e){var t=Ze(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),jn(e.name,t),t.slice(0,t.l)}function koe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Ioe(e){var t=Ze(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Doe(e,t){var r=Ze(8+2*t.length);return r.write_shift(4,e),jn(t,r),r.slice(0,r.l)}function Roe(e){return e.l+=4,e.read_shift(4)!=0}function Poe(e,t){var r=Ze(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Moe(){var e=ha();return ct(e,332),ct(e,334,yi(1)),ct(e,335,_oe({name:"XLDAPR",version:12e4,flags:3496657072})),ct(e,336),ct(e,339,Doe(1,"XLDAPR")),ct(e,52),ct(e,35,yi(514)),ct(e,4096,yi(0)),ct(e,4097,Ga(1)),ct(e,36),ct(e,53),ct(e,340),ct(e,337,Poe(1)),ct(e,51,Ioe([[1,0]])),ct(e,338),ct(e,333),e.end()}function AP(){var e=[an];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Boe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=br(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}var uc=1024;function EP(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[pt("xml",null,{"xmlns:v":Oa.v,"xmlns:o":Oa.o,"xmlns:x":Oa.x,"xmlns:mv":Oa.mv}).replace(/\/>/,">"),pt("o:shapelayout",pt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),pt("v:shapetype",[pt("v:stroke",null,{joinstyle:"miter"}),pt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];uc<e*1e3;)uc+=1e3;return t.forEach(function(s){var l=bn(s[0]),d={color2:"#BEFF82",type:"gradient"};d.type=="gradient"&&(d.angle="-180");var u=d.type=="gradient"?pt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=pt("v:fill",u,d),p={on:"t",obscured:"t"};++uc,i=i.concat(["<v:shape"+Ch({id:"_x0000_s"+uc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,pt("v:shadow",null,p),pt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",kn("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),kn("x:AutoFill","False"),kn("x:Row",String(l.r)),kn("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function OP(e){var t=[an,pt("comments",null,{xmlns:cd[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(i){var s=vr(i.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var i=0,s=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?i=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(u){u.a&&(i=r.indexOf(vr(u.a))),s.push(u.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+i+'"><text>'),s.length<=1)t.push(kn("t",vr(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,d=1;d<s.length;++d)l+=`Reply:
    `+s[d]+`
`;t.push(kn("t",vr(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Foe(e,t,r){var a=[an,pt("ThreadedComments",null,{xmlns:vn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var s="";(i[1]||[]).forEach(function(l,d){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var u={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};d==0?s=u.id:u.parentId=s,l.ID=u.id,l.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),a.push(pt("threadedComment",kn("text",l.t||""),u))})}),a.push("</ThreadedComments>"),a.join("")}function Loe(e){var t=[an,pt("personList",null,{xmlns:vn.TCMNT,"xmlns:x":cd[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(pt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function $oe(e){var t={};t.iauthor=e.read_shift(4);var r=yl(e);return t.rfx=r.s,t.ref=br(r.s),e.l+=16,t}function zoe(e,t){return t==null&&(t=Ze(36)),t.write_shift(4,e[1].iauthor),ud(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Uoe=Wn;function qoe(e){return jn(e.slice(0,54))}function Woe(e){var t=ha(),r=[];return ct(t,628),ct(t,630),e.forEach(function(a){a[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),ct(t,632,qoe(i.a)))})}),ct(t,631),ct(t,633),e.forEach(function(a){a[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:bn(a[0]),e:bn(a[0])};ct(t,635,zoe([s,i])),i.t&&i.t.length>0&&ct(t,637,Gie(i)),ct(t,636),delete i.iauthor})}),ct(t,634),ct(t,629),t.end()}function Hoe(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Tr.utils.cfb_add(e,i,t.FileIndex[a].content)}})}var _P=["xlsb","xlsm","xlam","biff8","xla"],Goe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,i,s,l){var d=!1,u=!1;s.length==0?u=!0:s.charAt(0)=="["&&(u=!0,s=s.slice(1,-1)),l.length==0?d=!0:l.charAt(0)=="["&&(d=!0,l=l.slice(1,-1));var h=s.length>0?parseInt(s,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return d?p+=t.c:--p,u?h+=t.r:--h,i+(d?"":"$")+qn(p)+(u?"":"$")+Dn(h)}return function(i,s){return t=s,i.replace(e,r)}}(),kS=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,IS=function(){return function(t,r){return t.replace(kS,function(a,i,s,l,d,u){var h=TS(l)-(s?0:r.c),p=NS(u)-(d?0:r.r),m=p==0?"":d?p+1:"["+p+"]",g=h==0?"":s?h+1:"["+h+"]";return i+"R"+m+"C"+g})}}();function Voe(e,t){return e.replace(kS,function(r,a,i,s,l,d){return a+(i=="$"?i+s:qn(TS(s)+t.c))+(l=="$"?l+d:Dn(NS(d)+t.r))})}function Yoe(e){return e.length!=1}function Jr(e){e.l+=1}function uo(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function kP(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return IP(e);r.biff==12&&(a=4)}var i=e.read_shift(a),s=e.read_shift(a),l=uo(e),d=uo(e);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:d[0],cRel:d[1],rRel:d[2]}}}function IP(e){var t=uo(e),r=uo(e),a=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Koe(e,t,r){if(r.biff<8)return IP(e);var a=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),s=uo(e),l=uo(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function DP(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Xoe(e);var a=e.read_shift(r&&r.biff==12?4:2),i=uo(e);return{r:a,c:i[0],cRel:i[1],rRel:i[2]}}function Xoe(e){var t=uo(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Qoe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Zoe(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return Joe(e);var i=e.read_shift(a>=12?4:2),s=e.read_shift(2),l=(s&16384)>>14,d=(s&32768)>>15;if(s&=16383,d==1)for(;i>524287;)i-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:l,rRel:d}}function Joe(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:a}}function ele(e,t,r){var a=(e[e.l++]&96)>>5,i=kP(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,i]}function tle(e,t,r){var a=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var l=kP(e,s,r);return[a,i,l]}function rle(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function nle(e,t,r){var a=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[a,i]}function ale(e,t,r){var a=(e[e.l++]&96)>>5,i=Koe(e,t-1,r);return[a,i]}function ile(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function x3(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function sle(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=a;++s)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function ole(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function lle(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function cle(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function dle(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function RP(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function ule(e){return e.read_shift(2),RP(e)}function hle(e){return e.read_shift(2),RP(e)}function fle(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var i=DP(e,0,r);return[a,i]}function ple(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var i=Zoe(e,0,r);return[a,i]}function mle(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=DP(e,0,r);return[a,i,s]}function xle(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[xce[i],BP[i],a]}function gle(e,t,r){var a=e[e.l++],i=e.read_shift(1),s=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:yle(e);return[i,(s[0]===0?BP:mce)[s[1]]]}function yle(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function vle(e,t,r){e.l+=r&&r.biff==2?3:4}function ble(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[a,i]}function jle(e){return e.l++,Yh[e.read_shift(1)]}function wle(e){return e.l++,e.read_shift(2)}function Sle(e){return e.l++,e.read_shift(1)!==0}function Nle(e){return e.l++,hd(e)}function Tle(e,t,r){return e.l++,xP(e,t-1,r)}function Cle(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=mse(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Yh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=hd(e);break;case 2:r[1]=vse(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Ale(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),i=[],s=0;s!=a;++s)i.push((r.biff==12?yl:wse)(e));return i}function Ele(e,t,r){var a=0,i=0;r.biff==12?(a=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--i==0&&(i=256));for(var s=0,l=[];s!=a&&(l[s]=[]);++s)for(var d=0;d!=i;++d)l[s][d]=Cle(e,r.biff);return l}function Ole(e,t,r){var a=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,s]}function _le(e,t,r){if(r.biff==5)return kle(e);var a=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[a,i,s]}function kle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function Ile(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[a,i]}function Dle(e,t,r){var a=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[a,i]}function Rle(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function Ple(e,t,r){var a=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[a,i]}var Mle=Li,Ble=Li,Fle=Li;function Kh(e,t,r){return e.l+=2,[Qoe(e)]}function DS(e){return e.l+=6,[]}var Lle=Kh,$le=DS,zle=DS,Ule=Kh;function PP(e){return e.l+=2,[pP(e),e.read_shift(2)&1]}var qle=Kh,Wle=PP,Hle=DS,Gle=Kh,Vle=Kh,Yle=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Kle(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),l=Yle[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:a,c:i,C:s}}function Xle(e){return e.l+=2,[e.read_shift(4)]}function Qle(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Zle(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Jle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ece(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function tce(e){return e.l+=4,[0,0]}var g3={1:{n:"PtgExp",f:ble},2:{n:"PtgTbl",f:Fle},3:{n:"PtgAdd",f:Jr},4:{n:"PtgSub",f:Jr},5:{n:"PtgMul",f:Jr},6:{n:"PtgDiv",f:Jr},7:{n:"PtgPower",f:Jr},8:{n:"PtgConcat",f:Jr},9:{n:"PtgLt",f:Jr},10:{n:"PtgLe",f:Jr},11:{n:"PtgEq",f:Jr},12:{n:"PtgGe",f:Jr},13:{n:"PtgGt",f:Jr},14:{n:"PtgNe",f:Jr},15:{n:"PtgIsect",f:Jr},16:{n:"PtgUnion",f:Jr},17:{n:"PtgRange",f:Jr},18:{n:"PtgUplus",f:Jr},19:{n:"PtgUminus",f:Jr},20:{n:"PtgPercent",f:Jr},21:{n:"PtgParen",f:Jr},22:{n:"PtgMissArg",f:Jr},23:{n:"PtgStr",f:Tle},26:{n:"PtgSheet",f:Qle},27:{n:"PtgEndSheet",f:Zle},28:{n:"PtgErr",f:jle},29:{n:"PtgBool",f:Sle},30:{n:"PtgInt",f:wle},31:{n:"PtgNum",f:Nle},32:{n:"PtgArray",f:ile},33:{n:"PtgFunc",f:xle},34:{n:"PtgFuncVar",f:gle},35:{n:"PtgName",f:Ole},36:{n:"PtgRef",f:fle},37:{n:"PtgArea",f:ele},38:{n:"PtgMemArea",f:Ile},39:{n:"PtgMemErr",f:Mle},40:{n:"PtgMemNoMem",f:Ble},41:{n:"PtgMemFunc",f:Dle},42:{n:"PtgRefErr",f:Rle},43:{n:"PtgAreaErr",f:rle},44:{n:"PtgRefN",f:ple},45:{n:"PtgAreaN",f:ale},46:{n:"PtgMemAreaN",f:Jle},47:{n:"PtgMemNoMemN",f:ece},57:{n:"PtgNameX",f:_le},58:{n:"PtgRef3d",f:mle},59:{n:"PtgArea3d",f:tle},60:{n:"PtgRefErr3d",f:Ple},61:{n:"PtgAreaErr3d",f:nle},255:{}},rce={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},nce={1:{n:"PtgElfLel",f:PP},2:{n:"PtgElfRw",f:Gle},3:{n:"PtgElfCol",f:Lle},6:{n:"PtgElfRwV",f:Vle},7:{n:"PtgElfColV",f:Ule},10:{n:"PtgElfRadical",f:qle},11:{n:"PtgElfRadicalS",f:Hle},13:{n:"PtgElfColS",f:$le},15:{n:"PtgElfColSV",f:zle},16:{n:"PtgElfRadicalLel",f:Wle},25:{n:"PtgList",f:Kle},29:{n:"PtgSxName",f:Xle},255:{}},ace={0:{n:"PtgAttrNoop",f:tce},1:{n:"PtgAttrSemi",f:dle},2:{n:"PtgAttrIf",f:lle},4:{n:"PtgAttrChoose",f:sle},8:{n:"PtgAttrGoto",f:ole},16:{n:"PtgAttrSum",f:vle},32:{n:"PtgAttrBaxcel",f:x3},33:{n:"PtgAttrBaxcel",f:x3},64:{n:"PtgAttrSpace",f:ule},65:{n:"PtgAttrSpaceSemi",f:hle},128:{n:"PtgAttrIfError",f:cle},255:{}};function ice(e,t,r,a){if(a.biff<8)return Li(e,t);for(var i=e.l+t,s=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=Ele(e,0,a),s.push(r[l][1]);break;case"PtgMemArea":r[l][2]=Ale(e,r[l][1],a),s.push(r[l][2]);break;case"PtgExp":a&&a.biff==12&&(r[l][1][1]=e.read_shift(4),s.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=i-e.l,t!==0&&s.push(Li(e,t)),s}function sce(e,t,r){for(var a=e.l+t,i,s,l=[];a!=e.l;)t=a-e.l,s=e[e.l],i=g3[s]||g3[rce[s]],(s===24||s===25)&&(i=(s===24?nce:ace)[e[e.l+1]]),!i||!i.f?Li(e,t):l.push([i.n,i.f(e,t,r)]);return l}function oce(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],i=[],s=0;s<a.length;++s){var l=a[s];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var lce={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function cce(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function MP(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[a[0]][0]){case 357:return i=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?i:i+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return i=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?i:i+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[a[0]][0][3]?(i=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?i:i+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function y3(e,t,r){var a=MP(e,t,r);return a=="#REF"?a:cce(a,r)}function Yc(e,t,r,a,i){var s=i&&i.biff||8,l={s:{c:0,r:0}},d=[],u,h,p,m=0,g=0,v,j="";if(!e[0]||!e[0][0])return"";for(var b=-1,y="",T=0,E=e[0].length;T<E;++T){var C=e[0][T];switch(C[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=d.pop(),h=d.pop(),b>=0){switch(e[0][b][1][0]){case 0:y=Wr(" ",e[0][b][1][1]);break;case 1:y=Wr("\r",e[0][b][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}h=h+y,b=-1}d.push(h+lce[C[0]]+u);break;case"PtgIsect":u=d.pop(),h=d.pop(),d.push(h+" "+u);break;case"PtgUnion":u=d.pop(),h=d.pop(),d.push(h+","+u);break;case"PtgRange":u=d.pop(),h=d.pop(),d.push(h+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Ru(C[1][1],l,i),d.push(Pu(p,s));break;case"PtgRefN":p=r?Ru(C[1][1],r,i):C[1][1],d.push(Pu(p,s));break;case"PtgRef3d":m=C[1][1],p=Ru(C[1][2],l,i),j=y3(a,m,i),d.push(j+"!"+Pu(p,s));break;case"PtgFunc":case"PtgFuncVar":var S=C[1][0],A=C[1][1];S||(S=0),S&=127;var k=S==0?[]:d.slice(-S);d.length-=S,A==="User"&&(A=k.shift()),d.push(A+"("+k.join(",")+")");break;case"PtgBool":d.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(C[1]);break;case"PtgNum":d.push(String(C[1]));break;case"PtgStr":d.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(C[1]);break;case"PtgAreaN":v=r3(C[1][1],r?{s:r}:l,i),d.push(cj(v,i));break;case"PtgArea":v=r3(C[1][1],l,i),d.push(cj(v,i));break;case"PtgArea3d":m=C[1][1],v=C[1][2],j=y3(a,m,i),d.push(j+"!"+cj(v,i));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=C[1][2];var D=(a.names||[])[g-1]||(a[0]||[])[g],B=D?D.Name:"SH33TJSNAME"+String(g);B&&B.slice(0,6)=="_xlfn."&&!i.xlfn&&(B=B.slice(6)),d.push(B);break;case"PtgNameX":var F=C[1][1];g=C[1][2];var M;if(i.biff<=5)F<0&&(F=-F),a[F]&&(M=a[F][g]);else{var L="";if(((a[F]||[])[0]||[])[0]==14849||(((a[F]||[])[0]||[])[0]==1025?a[F][g]&&a[F][g].itab>0&&(L=a.SheetNames[a[F][g].itab-1]+"!"):L=a.SheetNames[g-1]+"!"),a[F]&&a[F][g])L+=a[F][g].Name;else if(a[0]&&a[0][g])L+=a[0][g].Name;else{var O=(MP(a,F,i)||"").split(";;");O[g-1]?L=O[g-1]:L+="SH33TJSERRX"}d.push(L);break}M||(M={Name:"SH33TJSERRY"}),d.push(M.Name);break;case"PtgParen":var W="(",P=")";if(b>=0){switch(y="",e[0][b][1][0]){case 2:W=Wr(" ",e[0][b][1][1])+W;break;case 3:W=Wr("\r",e[0][b][1][1])+W;break;case 4:P=Wr(" ",e[0][b][1][1])+P;break;case 5:P=Wr("\r",e[0][b][1][1])+P;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}d.push(W+d.pop()+P);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":p={c:C[1][1],r:C[1][0]};var I={c:r.c,r:r.r};if(a.sharedf[br(p)]){var R=a.sharedf[br(p)];d.push(Yc(R,l,I,a,i))}else{var H=!1;for(u=0;u!=a.arrayf.length;++u)if(h=a.arrayf[u],!(p.c<h[0].s.c||p.c>h[0].e.c)&&!(p.r<h[0].s.r||p.r>h[0].e.r)){d.push(Yc(h[1],l,I,a,i)),H=!0;break}H||d.push(C[1])}break;case"PtgArray":d.push("{"+oce(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&V.indexOf(e[0][T][0])==-1){C=e[0][b];var he=!0;switch(C[1][0]){case 4:he=!1;case 0:y=Wr(" ",C[1][1]);break;case 5:he=!1;case 1:y=Wr("\r",C[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}d.push((he?y:"")+d.pop()+(he?"":y)),b=-1}}if(d.length>1&&i.WTF)throw new Error("bad formula stack");return d[0]}function dce(e){if(e==null){var t=Ze(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return sl(e);return sl(0)}function uce(e,t,r,a,i){var s=ol(t,r,i),l=dce(e.v),d=Ze(6),u=33;d.write_shift(2,u),d.write_shift(4,0);for(var h=Ze(e.bf.length),p=0;p<e.bf.length;++p)h[p]=e.bf[p];var m=_n([s,l,d,h]);return m}function W0(e,t,r){var a=e.read_shift(4),i=sce(e,a,r),s=e.read_shift(4),l=s>0?ice(e,s,i,r):null;return[i,l]}var hce=W0,H0=W0,fce=W0,pce=W0,mce={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},BP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},xce={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function gce(e){var t="of:="+e.replace(kS,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function yce(e){return e.replace(/\./,"!")}var Mu=typeof Map<"u";function RS(e,t,r){var a=0,i=e.length;if(r){if(Mu?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Mu?r.get(t):r[t];a<s.length;++a)if(e[s[a]].t===t)return e.Count++,s[a]}}else for(;a<i;++a)if(e[a].t===t)return e.Count++,a;return e[i]={t},e.Count++,e.Unique++,r&&(Mu?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function G0(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(xs=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=Km(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=Q2(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function FP(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function yo(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],i=60,s=e.length;if(a==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){D8(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=a=i;break}}for(i=0;i!=s;++i)if(e[i].numFmtId===a)return i;return e[s]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function vce(e,t,r){if(e&&e["!ref"]){var a=Dr(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function bce(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+rn(e[r])+'"/>';return t+"</mergeCells>"}function jce(e,t,r,a,i){var s=!1,l={},d=null;if(a.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}s=!0,l.codeName=Th(vr(u))}if(e&&e["!outline"]){var h={summaryBelow:1,summaryRight:1};e["!outline"].above&&(h.summaryBelow=0),e["!outline"].left&&(h.summaryRight=0),d=(d||"")+pt("outlinePr",null,h)}!s&&!d||(i[i.length]=pt("sheetPr",d,l))}var wce=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Sce=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Nce(e){var t={sheet:1};return wce.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Sce.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=jP(e.password).toString(16).toUpperCase()),pt("sheetProtection",null,t)}function Tce(e){return FP(e),pt("pageMargins",null,e)}function Cce(e,t){for(var r=["<cols>"],a,i=0;i!=t.length;++i)(a=t[i])&&(r[r.length]=pt("col",null,G0(i,a)));return r[r.length]="</cols>",r.join("")}function Ace(e,t,r,a){var i=typeof e.ref=="string"?e.ref:rn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=Da(i);l.s.r==l.e.r&&(l.e.r=Da(t["!ref"]).e.r,i=rn(l));for(var d=0;d<s.length;++d){var u=s[d];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+r.SheetNames[a]+"'!"+i;break}}return d==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),pt("autoFilter",null,{ref:i})}function Ece(e,t,r,a){var i={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),pt("sheetViews",pt("sheetView",null,i),{})}function Oce(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",s=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=Yh[e.v];break;case"d":a&&a.cellDates?i=ea(e.v,-1).toISOString():(e=ma(e),e.t="n",i=""+(e.v=pa(ea(e.v)))),typeof e.z>"u"&&(e.z=Hr[14]);break;default:i=e.v;break}var d=kn("v",vr(i)),u={r:t},h=yo(a.cellXfs,e,a);switch(h!==0&&(u.s=h),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){d=kn("v",""+RS(a.Strings,e.v,a.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=s&&(e.t=s,e.v=l),typeof e.f=="string"&&e.f){var p=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;d=pt("f",vr(e.f),p)+(e.v!=null?d:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),pt("c",d,u)}function _ce(e,t,r,a){var i=[],s=[],l=Dr(e["!ref"]),d="",u,h="",p=[],m=0,g=0,v=e["!rows"],j=Array.isArray(e),b={r:h},y,T=-1;for(g=l.s.c;g<=l.e.c;++g)p[g]=qn(g);for(m=l.s.r;m<=l.e.r;++m){for(s=[],h=Dn(m),g=l.s.c;g<=l.e.c;++g){u=p[g]+h;var E=j?(e[m]||[])[g]:e[u];E!==void 0&&(d=Oce(E,u,e,t))!=null&&s.push(d)}(s.length>0||v&&v[m])&&(b={r:h},v&&v[m]&&(y=v[m],y.hidden&&(b.hidden=1),T=-1,y.hpx?T=Xm(y.hpx):y.hpt&&(T=y.hpt),T>-1&&(b.ht=T,b.customHeight=1),y.level&&(b.outlineLevel=y.level)),i[i.length]=pt("row",s.join(""),b))}if(v)for(;m<v.length;++m)v&&v[m]&&(b={r:m+1},y=v[m],y.hidden&&(b.hidden=1),T=-1,y.hpx?T=Xm(y.hpx):y.hpt&&(T=y.hpt),T>-1&&(b.ht=T,b.customHeight=1),y.level&&(b.outlineLevel=y.level),i[i.length]=pt("row","",b));return i.join("")}function LP(e,t,r,a){var i=[an,pt("worksheet",null,{xmlns:cd[0],"xmlns:r":vn.r})],s=r.SheetNames[e],l=0,d="",u=r.Sheets[s];u==null&&(u={});var h=u["!ref"]||"A1",p=Dr(h);if(p.e.c>16383||p.e.r>1048575){if(t.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),h=rn(p)}a||(a={}),u["!comments"]=[];var m=[];jce(u,r,e,t,i),i[i.length]=pt("dimension",null,{ref:h}),i[i.length]=Ece(u,t,e,r),t.sheetFormat&&(i[i.length]=pt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(i[i.length]=Cce(u,u["!cols"])),i[l=i.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(d=_ce(u,t),d.length>0&&(i[i.length]=d)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),u["!protect"]&&(i[i.length]=Nce(u["!protect"])),u["!autofilter"]!=null&&(i[i.length]=Ace(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(i[i.length]=bce(u["!merges"]));var g=-1,v,j=-1;return u["!links"].length>0&&(i[i.length]="<hyperlinks>",u["!links"].forEach(function(b){b[1].Target&&(v={ref:b[0]},b[1].Target.charAt(0)!="#"&&(j=yr(a,-1,vr(b[1].Target).replace(/#.*$/,""),sr.HLINK),v["r:id"]="rId"+j),(g=b[1].Target.indexOf("#"))>-1&&(v.location=vr(b[1].Target.slice(g+1))),b[1].Tooltip&&(v.tooltip=vr(b[1].Tooltip)),i[i.length]=pt("hyperlink",null,v))}),i[i.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(i[i.length]=Tce(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=kn("ignoredErrors",pt("ignoredError",null,{numberStoredAsText:1,sqref:h}))),m.length>0&&(j=yr(a,-1,"../drawings/drawing"+(e+1)+".xml",sr.DRAW),i[i.length]=pt("drawing",null,{"r:id":"rId"+j}),u["!drawing"]=m),u["!comments"].length>0&&(j=yr(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",sr.VML),i[i.length]=pt("legacyDrawing",null,{"r:id":"rId"+j}),u["!legacy"]=j),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function kce(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=a,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function Ice(e,t,r){var a=Ze(145),i=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var s=320;i.hpx?s=Xm(i.hpx)*20:i.hpt&&(s=i.hpt*20),a.write_shift(2,s),a.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var d=0,u=a.l;a.l+=4;for(var h={r:e,c:0},p=0;p<16;++p)if(!(t.s.c>p+1<<10||t.e.c<p<<10)){for(var m=-1,g=-1,v=p<<10;v<p+1<<10;++v){h.c=v;var j=Array.isArray(r)?(r[h.r]||[])[h.c]:r[br(h)];j&&(m<0&&(m=v),g=v)}m<0||(++d,a.write_shift(4,m),a.write_shift(4,g))}var b=a.l;return a.l=u,a.write_shift(4,d),a.l=b,a.length>a.l?a.slice(0,a.l):a}function Dce(e,t,r,a){var i=Ice(a,r,t);(i.length>17||(t["!rows"]||[])[a])&&ct(e,0,i)}var Rce=yl,Pce=ud;function Mce(){}function Bce(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=Vie(e),r}function Fce(e,t,r){r==null&&(r=Ze(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var i=1;i<3;++i)r.write_shift(1,0);return Gm({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),eP(e,r),r.slice(0,r.l)}function Lce(e){var t=ti(e);return[t]}function $ce(e,t,r){return r==null&&(r=Ze(8)),ml(t,r)}function zce(e){var t=xl(e);return[t]}function Uce(e,t,r){return r==null&&(r=Ze(4)),gl(t,r)}function qce(e){var t=ti(e),r=e.read_shift(1);return[t,r,"b"]}function Wce(e,t,r){return r==null&&(r=Ze(9)),ml(t,r),r.write_shift(1,e.v?1:0),r}function Hce(e){var t=xl(e),r=e.read_shift(1);return[t,r,"b"]}function Gce(e,t,r){return r==null&&(r=Ze(5)),gl(t,r),r.write_shift(1,e.v?1:0),r}function Vce(e){var t=ti(e),r=e.read_shift(1);return[t,r,"e"]}function Yce(e,t,r){return r==null&&(r=Ze(9)),ml(t,r),r.write_shift(1,e.v),r}function Kce(e){var t=xl(e),r=e.read_shift(1);return[t,r,"e"]}function Xce(e,t,r){return r==null&&(r=Ze(8)),gl(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Qce(e){var t=ti(e),r=e.read_shift(4);return[t,r,"s"]}function Zce(e,t,r){return r==null&&(r=Ze(12)),ml(t,r),r.write_shift(4,t.v),r}function Jce(e){var t=xl(e),r=e.read_shift(4);return[t,r,"s"]}function ede(e,t,r){return r==null&&(r=Ze(8)),gl(t,r),r.write_shift(4,t.v),r}function tde(e){var t=ti(e),r=hd(e);return[t,r,"n"]}function rde(e,t,r){return r==null&&(r=Ze(16)),ml(t,r),sl(e.v,r),r}function nde(e){var t=xl(e),r=hd(e);return[t,r,"n"]}function ade(e,t,r){return r==null&&(r=Ze(12)),gl(t,r),sl(e.v,r),r}function ide(e){var t=ti(e),r=tP(e);return[t,r,"n"]}function sde(e,t,r){return r==null&&(r=Ze(12)),ml(t,r),rP(e.v,r),r}function ode(e){var t=xl(e),r=tP(e);return[t,r,"n"]}function lde(e,t,r){return r==null&&(r=Ze(8)),gl(t,r),rP(e.v,r),r}function cde(e){var t=ti(e),r=CS(e);return[t,r,"is"]}function dde(e){var t=ti(e),r=Wn(e);return[t,r,"str"]}function ude(e,t,r){return r==null&&(r=Ze(12+4*e.v.length)),ml(t,r),jn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function hde(e){var t=xl(e),r=Wn(e);return[t,r,"str"]}function fde(e,t,r){return r==null&&(r=Ze(8+4*e.v.length)),gl(t,r),jn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function pde(e,t,r){var a=e.l+t,i=ti(e);i.r=r["!row"];var s=e.read_shift(1),l=[i,s,"b"];if(r.cellFormula){e.l+=2;var d=H0(e,a-e.l,r);l[3]=Yc(d,null,i,r.supbooks,r)}else e.l=a;return l}function mde(e,t,r){var a=e.l+t,i=ti(e);i.r=r["!row"];var s=e.read_shift(1),l=[i,s,"e"];if(r.cellFormula){e.l+=2;var d=H0(e,a-e.l,r);l[3]=Yc(d,null,i,r.supbooks,r)}else e.l=a;return l}function xde(e,t,r){var a=e.l+t,i=ti(e);i.r=r["!row"];var s=hd(e),l=[i,s,"n"];if(r.cellFormula){e.l+=2;var d=H0(e,a-e.l,r);l[3]=Yc(d,null,i,r.supbooks,r)}else e.l=a;return l}function gde(e,t,r){var a=e.l+t,i=ti(e);i.r=r["!row"];var s=Wn(e),l=[i,s,"str"];if(r.cellFormula){e.l+=2;var d=H0(e,a-e.l,r);l[3]=Yc(d,null,i,r.supbooks,r)}else e.l=a;return l}var yde=yl,vde=ud;function bde(e,t){return t==null&&(t=Ze(4)),t.write_shift(4,e),t}function jde(e,t){var r=e.l+t,a=yl(e),i=AS(e),s=Wn(e),l=Wn(e),d=Wn(e);e.l=r;var u={rfx:a,relId:i,loc:s,display:d};return l&&(u.Tooltip=l),u}function wde(e,t){var r=Ze(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ud({s:bn(e[0]),e:bn(e[0])},r),ES("rId"+t,r);var a=e[1].Target.indexOf("#"),i=a==-1?"":e[1].Target.slice(a+1);return jn(i||"",r),jn(e[1].Tooltip||"",r),jn("",r),r.slice(0,r.l)}function Sde(){}function Nde(e,t,r){var a=e.l+t,i=nP(e),s=e.read_shift(1),l=[i];if(l[2]=s,r.cellFormula){var d=hce(e,a-e.l,r);l[1]=d}else e.l=a;return l}function Tde(e,t,r){var a=e.l+t,i=yl(e),s=[i];if(r.cellFormula){var l=pce(e,a-e.l,r);s[1]=l,e.l=a}else e.l=a;return s}function Cde(e,t,r){r==null&&(r=Ze(18));var a=G0(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof a.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var $P=["left","right","top","bottom","header","footer"];function Ade(e){var t={};return $P.forEach(function(r){t[r]=hd(e)}),t}function Ede(e,t){return t==null&&(t=Ze(6*8)),FP(e),$P.forEach(function(r){sl(e[r],t)}),t}function Ode(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function _de(e,t,r){r==null&&(r=Ze(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function kde(e){var t=Ze(24);return t.write_shift(4,4),t.write_shift(4,1),ud(e,t),t}function Ide(e,t){return t==null&&(t=Ze(16*4+2)),t.write_shift(2,e.password?jP(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Dde(){}function Rde(){}function Pde(e,t,r,a,i,s,l){if(t.v===void 0)return!1;var d="";switch(t.t){case"b":d=t.v?"1":"0";break;case"d":t=ma(t),t.z=t.z||Hr[14],t.v=pa(ea(t.v)),t.t="n";break;case"n":case"e":d=""+t.v;break;default:d=t.v;break}var u={r,c:a};switch(u.s=yo(i.cellXfs,t,i),t.l&&s["!links"].push([br(u),t.l]),t.c&&s["!comments"].push([br(u),t.c]),t.t){case"s":case"str":return i.bookSST?(d=RS(i.Strings,t.v,i.revStrings),u.t="s",u.v=d,l?ct(e,18,ede(t,u)):ct(e,7,Zce(t,u))):(u.t="str",l?ct(e,17,fde(t,u)):ct(e,6,ude(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?ct(e,13,lde(t,u)):ct(e,2,sde(t,u)):l?ct(e,16,ade(t,u)):ct(e,5,rde(t,u)),!0;case"b":return u.t="b",l?ct(e,15,Gce(t,u)):ct(e,4,Wce(t,u)),!0;case"e":return u.t="e",l?ct(e,14,Xce(t,u)):ct(e,3,Yce(t,u)),!0}return l?ct(e,12,Uce(t,u)):ct(e,1,$ce(t,u)),!0}function Mde(e,t,r,a){var i=Dr(t["!ref"]||"A1"),s,l="",d=[];ct(e,145);var u=Array.isArray(t),h=i.e.r;t["!rows"]&&(h=Math.max(i.e.r,t["!rows"].length-1));for(var p=i.s.r;p<=h;++p){l=Dn(p),Dce(e,t,i,p);var m=!1;if(p<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){p===i.s.r&&(d[g]=qn(g)),s=d[g]+l;var v=u?(t[p]||[])[g]:t[s];if(!v){m=!1;continue}m=Pde(e,v,p,g,a,t,m)}}ct(e,146)}function Bde(e,t){!t||!t["!merges"]||(ct(e,177,bde(t["!merges"].length)),t["!merges"].forEach(function(r){ct(e,176,vde(r))}),ct(e,178))}function Fde(e,t){!t||!t["!cols"]||(ct(e,390),t["!cols"].forEach(function(r,a){r&&ct(e,60,Cde(a,r))}),ct(e,391))}function Lde(e,t){!t||!t["!ref"]||(ct(e,648),ct(e,649,kde(Dr(t["!ref"]))),ct(e,650))}function $de(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var i=yr(r,-1,a[1].Target.replace(/#.*$/,""),sr.HLINK);ct(e,494,wde(a,i))}}),delete t["!links"]}function zde(e,t,r,a){if(t["!comments"].length>0){var i=yr(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",sr.VML);ct(e,551,ES("rId"+i)),t["!legacy"]=i}}function Ude(e,t,r,a){if(t["!autofilter"]){var i=t["!autofilter"],s=typeof i.ref=="string"?i.ref:rn(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,d=Da(s);d.s.r==d.e.r&&(d.e.r=Da(t["!ref"]).e.r,s=rn(d));for(var u=0;u<l.length;++u){var h=l[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==a){h.Ref="'"+r.SheetNames[a]+"'!"+s;break}}u==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),ct(e,161,ud(Dr(s))),ct(e,162)}}function qde(e,t,r){ct(e,133),ct(e,137,_de(t,r)),ct(e,138),ct(e,134)}function Wde(e,t){t["!protect"]&&ct(e,535,Ide(t["!protect"]))}function Hde(e,t,r,a){var i=ha(),s=r.SheetNames[e],l=r.Sheets[s]||{},d=s;try{r&&r.Workbook&&(d=r.Workbook.Sheets[e].CodeName||d)}catch{}var u=Dr(l["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],ct(i,129),(r.vbaraw||l["!outline"])&&ct(i,147,Fce(d,l["!outline"])),ct(i,148,Pce(u)),qde(i,l,r.Workbook),Fde(i,l),Mde(i,l,e,t),Wde(i,l),Ude(i,l,r,e),Bde(i,l),$de(i,l,a),l["!margins"]&&ct(i,476,Ede(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Lde(i,l),zde(i,l,e,a),ct(i,130),i.end()}function Gde(e,t){e.l+=10;var r=Wn(e);return{name:r}}var Vde=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Yde(e){return!e.Workbook||!e.Workbook.WBProps?"false":Tie(e.Workbook.WBProps.date1904)?"true":"false"}var Kde="][*?/\\".split("");function zP(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Kde.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Xde(e,t,r){e.forEach(function(a,i){zP(a);for(var s=0;s<i;++s)if(a==e[s])throw new Error("Duplicate Sheet Name: "+a);if(r){var l=t&&t[i]&&t[i].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function Qde(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Xde(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)vce(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function UP(e){var t=[an];t[t.length]=pt("workbook",null,{xmlns:cd[0],"xmlns:r":vn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Vde.forEach(function(d){e.Workbook.WBProps[d[0]]!=null&&e.Workbook.WBProps[d[0]]!=d[1]&&(a[d[0]]=e.Workbook.WBProps[d[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=pt("workbookPr",null,a);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var l={name:vr(e.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=pt("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(d){var u={name:d.Name};d.Comment&&(u.comment=d.Comment),d.Sheet!=null&&(u.localSheetId=""+d.Sheet),d.Hidden&&(u.hidden="1"),d.Ref&&(t[t.length]=pt("definedName",vr(d.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Zde(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=X2(e),r.name=Wn(e),r}function Jde(e,t){return t||(t=Ze(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),ES(e.strRelID,t),jn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function eue(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?Wn(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function tue(e,t){t||(t=Ze(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),eP(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function rue(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=Yie(e),l=fce(e,0,r),d=AS(e);e.l=a;var u={Name:s,Ptg:l};return i<268435455&&(u.Sheet=i),d&&(u.Comment=d),u}function nue(e,t){ct(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ct(e,156,Jde(i))}ct(e,144)}function aue(e,t){t||(t=Ze(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return jn("SheetJS",t),jn(Fm.version,t),jn(Fm.version,t),jn("7262",t),t.length>t.l?t.slice(0,t.l):t}function iue(e,t){t||(t=Ze(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function sue(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,i=-1,s=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&i==-1?i=a:r[a].Hidden==1&&s==-1&&(s=a);s>i||(ct(e,135),ct(e,158,iue(i)),ct(e,136))}}function oue(e,t){var r=ha();return ct(r,131),ct(r,128,aue()),ct(r,153,tue(e.Workbook&&e.Workbook.WBProps||null)),sue(r,e),nue(r,e),ct(r,132),r.end()}function lue(e,t,r){return(t.slice(-4)===".bin"?oue:UP)(e)}function cue(e,t,r,a,i){return(t.slice(-4)===".bin"?Hde:LP)(e,r,a,i)}function due(e,t,r){return(t.slice(-4)===".bin"?Eoe:NP)(e,r)}function uue(e,t,r){return(t.slice(-4)===".bin"?toe:bP)(e,r)}function hue(e,t,r){return(t.slice(-4)===".bin"?Woe:OP)(e)}function fue(e){return(e.slice(-4)===".bin"?Moe:AP)()}function pue(e,t){var r=[];return e.Props&&r.push(dse(e.Props,t)),e.Custprops&&r.push(use(e.Props,e.Custprops)),r.join("")}function mue(){return""}function xue(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,i){var s=[];s.push(pt("NumberFormat",null,{"ss:Format":vr(Hr[a.numFmtId])}));var l={"ss:ID":"s"+(21+i)};r.push(pt("Style",s.join(""),l))}),pt("Styles",r.join(""))}function qP(e){return pt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+IS(e.Ref,{r:0,c:0})})}function gue(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var i=t[a];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(qP(i)))}return pt("Names",r.join(""))}function yue(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var i=a.Workbook.Names,s=[],l=0;l<i.length;++l){var d=i[l];d.Sheet==r&&(d.Name.match(/^_xlfn\./)||s.push(qP(d)))}return s.join("")}function vue(e,t,r,a){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(pt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(pt("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(pt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)i.push(pt("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(a.Workbook.Sheets[s]&&!a.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(kn("ProtectContents","True")),e["!protect"].objects&&i.push(kn("ProtectObjects","True")),e["!protect"].scenarios&&i.push(kn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(kn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(kn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":pt("WorksheetOptions",i.join(""),{xmlns:Oa.x})}function bue(e){return e.map(function(t){var r=Nie(t.t||""),a=pt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return pt("Comment",a,{"ss:Author":t.a})}).join("")}function jue(e,t,r,a,i,s,l){if(!e||e.v==null&&e.f==null)return"";var d={};if(e.f&&(d["ss:Formula"]="="+vr(IS(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var u=bn(e.F.slice(t.length+1));d["ss:ArrayRange"]="RC:R"+(u.r==l.r?"":"["+(u.r-l.r)+"]")+"C"+(u.c==l.c?"":"["+(u.c-l.c)+"]")}if(e.l&&e.l.Target&&(d["ss:HRef"]=vr(e.l.Target),e.l.Tooltip&&(d["x:HRefScreenTip"]=vr(e.l.Tooltip))),r["!merges"])for(var h=r["!merges"],p=0;p!=h.length;++p)h[p].s.c!=l.c||h[p].s.r!=l.r||(h[p].e.c>h[p].s.c&&(d["ss:MergeAcross"]=h[p].e.c-h[p].s.c),h[p].e.r>h[p].s.r&&(d["ss:MergeDown"]=h[p].e.r-h[p].s.r));var m="",g="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":m="Number",g=String(e.v);break;case"b":m="Boolean",g=e.v?"1":"0";break;case"e":m="Error",g=Yh[e.v];break;case"d":m="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Hr[14]);break;case"s":m="String",g=Sie(e.v||"");break}var v=yo(a.cellXfs,e,a);d["ss:StyleID"]="s"+(21+v),d["ss:Index"]=l.c+1;var j=e.v!=null?g:"",b=e.t=="z"?"":'<Data ss:Type="'+m+'">'+j+"</Data>";return(e.c||[]).length>0&&(b+=bue(e.c)),pt("Cell",b,d)}function wue(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=SP(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Sue(e,t,r,a){if(!e["!ref"])return"";var i=Dr(e["!ref"]),s=e["!merges"]||[],l=0,d=[];e["!cols"]&&e["!cols"].forEach(function(y,T){_S(y);var E=!!y.width,C=G0(T,y),S={"ss:Index":T+1};E&&(S["ss:Width"]=Ym(C.width)),y.hidden&&(S["ss:Hidden"]="1"),d.push(pt("Column",null,S))});for(var u=Array.isArray(e),h=i.s.r;h<=i.e.r;++h){for(var p=[wue(h,(e["!rows"]||[])[h])],m=i.s.c;m<=i.e.c;++m){var g=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>m)&&!(s[l].s.r>h)&&!(s[l].e.c<m)&&!(s[l].e.r<h)){(s[l].s.c!=m||s[l].s.r!=h)&&(g=!0);break}if(!g){var v={r:h,c:m},j=br(v),b=u?(e[h]||[])[m]:e[j];p.push(jue(b,j,e,t,r,a,v))}}p.push("</Row>"),p.length>2&&d.push(p.join(""))}return d.join("")}function Nue(e,t,r){var a=[],i=r.SheetNames[e],s=r.Sheets[i],l=s?yue(s,t,e,r):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=s?Sue(s,t,e,r):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(vue(s,t,e,r)),a.join("")}function Tue(e,t){t||(t={}),e.SSF||(e.SSF=ma(Hr)),e.SSF&&(z0(),$0(e.SSF),t.revssf=U0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],yo(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(pue(e,t)),r.push(mue()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(pt("Worksheet",Nue(a,t,e),{"ss:Name":vr(e.SheetNames[a])}));return r[2]=xue(e,t),r[3]=gue(e),an+pt("Workbook",r.join(""),{xmlns:Oa.ss,"xmlns:o":Oa.o,"xmlns:x":Oa.x,"xmlns:ss":Oa.ss,"xmlns:dt":Oa.dt,"xmlns:html":Oa.html})}var hj={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Cue(e,t){var r=[],a=[],i=[],s=0,l,d=HI(a3,"n"),u=HI(i3,"n");if(e.Props)for(l=Pn(e.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(d,l[s])?r:Object.prototype.hasOwnProperty.call(u,l[s])?a:i).push([l[s],e.Props[l[s]]]);if(e.Custprops)for(l=Pn(e.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(d,l[s])?r:Object.prototype.hasOwnProperty.call(u,l[s])?a:i).push([l[s],e.Custprops[l[s]]]);var h=[];for(s=0;s<i.length;++s)fP.indexOf(i[s][0])>-1||dP.indexOf(i[s][0])>-1||i[s][1]!=null&&h.push(i[s]);a.length&&Tr.utils.cfb_add(t,"/SummaryInformation",d3(a,hj.SI,u,i3)),(r.length||h.length)&&Tr.utils.cfb_add(t,"/DocumentSummaryInformation",d3(r,hj.DSI,d,a3,h.length?h:null,hj.UDI))}function Aue(e,t){var r=t||{},a=Tr.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Tr.utils.cfb_add(a,i,WP(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Cue(e,a),r.biff==8&&e.vbaraw&&Hoe(a,Tr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var Eue={0:{f:kce},1:{f:Lce},2:{f:ide},3:{f:Vce},4:{f:qce},5:{f:tde},6:{f:dde},7:{f:Qce},8:{f:gde},9:{f:xde},10:{f:pde},11:{f:mde},12:{f:zce},13:{f:ode},14:{f:Kce},15:{f:Hce},16:{f:nde},17:{f:hde},18:{f:Jce},19:{f:CS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:rue},40:{},42:{},43:{f:doe},44:{f:loe},45:{f:foe},46:{f:moe},47:{f:poe},48:{},49:{f:zie},50:{},51:{f:koe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Use},62:{f:cde},63:{f:Boe},64:{f:Dde},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Li,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Ode},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Bce},148:{f:Rce,p:16},151:{f:Sde},152:{},153:{f:eue},154:{},155:{},156:{f:Zde},157:{},158:{},159:{T:1,f:Zse},160:{T:-1},161:{T:1,f:yl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:yde},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Ooe},336:{T:-1},337:{f:Roe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:X2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Mse},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Nde},427:{f:Tde},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Ade},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Mce},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:jde},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:X2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Uoe},633:{T:1},634:{T:-1},635:{T:1,f:$oe},636:{T:-1},637:{f:Hie},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Gde},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Rde},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function xt(e,t,r,a){var i=t;if(!isNaN(i)){var s=a||(r||[]).length||0,l=e.next(4);l.write_shift(2,i),l.write_shift(2,s),s>0&&SS(r)&&e.push(r)}}function Oue(e,t,r,a){var i=(r||[]).length||0;if(i<=8224)return xt(e,t,r,i);var s=t;if(!isNaN(s)){for(var l=r.parts||[],d=0,u=0,h=0;h+(l[d]||8224)<=8224;)h+=l[d]||8224,d++;var p=e.next(4);for(p.write_shift(2,s),p.write_shift(2,h),e.push(r.slice(u,u+h)),u+=h;u<i;){for(p=e.next(4),p.write_shift(2,60),h=0;h+(l[d]||8224)<=8224;)h+=l[d]||8224,d++;p.write_shift(2,h),e.push(r.slice(u,u+h)),u+=h}}}function Xh(e,t,r){return e||(e=Ze(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function _ue(e,t,r,a){var i=Ze(9);return Xh(i,e,t),mP(r,a||"b",i),i}function kue(e,t,r){var a=Ze(8+2*r.length);return Xh(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function Iue(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?pa(ea(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?xt(e,2,Gse(r,a,i)):xt(e,3,Hse(r,a,i));return;case"b":case"e":xt(e,5,_ue(r,a,t.v,t.t));return;case"s":case"str":xt(e,4,kue(r,a,(t.v||"").slice(0,255)));return}xt(e,1,Xh(null,r,a))}function Due(e,t,r,a){var i=Array.isArray(t),s=Dr(t["!ref"]||"A1"),l,d="",u=[];if(s.e.c>255||s.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=rn(s)}for(var h=s.s.r;h<=s.e.r;++h){d=Dn(h);for(var p=s.s.c;p<=s.e.c;++p){h===s.s.r&&(u[p]=qn(p)),l=u[p]+d;var m=i?(t[h]||[])[p]:t[l];m&&Iue(e,m,h,p)}}}function Rue(e,t){for(var r=t||{},a=ha(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return xt(a,r.biff==4?1033:r.biff==3?521:9,OS(e,16,r)),Due(a,e.Sheets[e.SheetNames[i]],i,r),xt(a,10),a.end()}function Pue(e,t,r){xt(e,49,Ese({sz:12,name:"Arial"},r))}function Mue(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)t[i]!=null&&xt(e,1054,kse(i,t[i],r))})}function Bue(e,t){var r=Ze(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),xt(e,2151,r),r=Ze(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),yP(Dr(t["!ref"]||"A1"),r),r.write_shift(4,4),xt(e,2152,r)}function Fue(e,t){for(var r=0;r<16;++r)xt(e,224,h3({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){xt(e,224,h3(a,0,t))})}function Lue(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];xt(e,440,Lse(a)),a[1].Tooltip&&xt(e,2048,$se(a))}delete t["!links"]}function $ue(e,t){if(t){var r=0;t.forEach(function(a,i){++r<=256&&a&&xt(e,125,qse(G0(i,a),i))})}}function zue(e,t,r,a,i){var s=16+yo(i.cellXfs,t,i);if(t.v==null&&!t.bf){xt(e,513,ol(r,a,s));return}if(t.bf)xt(e,6,uce(t,r,a,i,s));else switch(t.t){case"d":case"n":var l=t.t=="d"?pa(ea(t.v)):t.v;xt(e,515,Pse(r,a,l,s));break;case"b":case"e":xt(e,517,Rse(r,a,t.v,s,i,t.t));break;case"s":case"str":if(i.bookSST){var d=RS(i.Strings,t.v,i.revStrings);xt(e,253,Ose(r,a,d,s))}else xt(e,516,_se(r,a,(t.v||"").slice(0,255),s,i));break;default:xt(e,513,ol(r,a,s))}}function Uue(e,t,r){var a=ha(),i=r.SheetNames[e],s=r.Sheets[i]||{},l=(r||{}).Workbook||{},d=(l.Sheets||[])[e]||{},u=Array.isArray(s),h=t.biff==8,p,m="",g=[],v=Dr(s["!ref"]||"A1"),j=h?65536:16384;if(v.e.c>255||v.e.r>=j){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,j-1)}xt(a,2057,OS(r,16,t)),xt(a,13,Ga(1)),xt(a,12,Ga(100)),xt(a,15,Qn(!0)),xt(a,17,Qn(!1)),xt(a,16,sl(.001)),xt(a,95,Qn(!0)),xt(a,42,Qn(!1)),xt(a,43,Qn(!1)),xt(a,130,Ga(1)),xt(a,128,Dse()),xt(a,131,Qn(!1)),xt(a,132,Qn(!1)),h&&$ue(a,s["!cols"]),xt(a,512,Ise(v,t)),h&&(s["!links"]=[]);for(var b=v.s.r;b<=v.e.r;++b){m=Dn(b);for(var y=v.s.c;y<=v.e.c;++y){b===v.s.r&&(g[y]=qn(y)),p=g[y]+m;var T=u?(s[b]||[])[y]:s[p];T&&(zue(a,T,b,y,t),h&&T.l&&s["!links"].push([p,T.l]))}}var E=d.CodeName||d.name||i;return h&&xt(a,574,Ase((l.Views||[])[0])),h&&(s["!merges"]||[]).length&&xt(a,229,Fse(s["!merges"])),h&&Lue(a,s),xt(a,442,gP(E)),h&&Bue(a,s),xt(a,10),a.end()}function que(e,t,r){var a=ha(),i=(e||{}).Workbook||{},s=i.Sheets||[],l=i.WBProps||{},d=r.biff==8,u=r.biff==5;if(xt(a,2057,OS(e,5,r)),r.bookType=="xla"&&xt(a,135),xt(a,225,d?Ga(1200):null),xt(a,193,pse(2)),u&&xt(a,191),u&&xt(a,192),xt(a,226),xt(a,92,Sse("SheetJS",r)),xt(a,66,Ga(d?1200:1252)),d&&xt(a,353,Ga(0)),d&&xt(a,448),xt(a,317,Wse(e.SheetNames.length)),d&&e.vbaraw&&xt(a,211),d&&e.vbaraw){var h=l.CodeName||"ThisWorkbook";xt(a,442,gP(h))}xt(a,156,Ga(17)),xt(a,25,Qn(!1)),xt(a,18,Qn(!1)),xt(a,19,Ga(0)),d&&xt(a,431,Qn(!1)),d&&xt(a,444,Ga(0)),xt(a,61,Cse()),xt(a,64,Qn(!1)),xt(a,141,Ga(0)),xt(a,34,Qn(Yde(e)=="true")),xt(a,14,Qn(!0)),d&&xt(a,439,Qn(!1)),xt(a,218,Ga(0)),Pue(a,e,r),Mue(a,e.SSF,r),Fue(a,r),d&&xt(a,352,Qn(!1));var p=a.end(),m=ha();d&&xt(m,140,zse()),d&&r.Strings&&Oue(m,252,Tse(r.Strings)),xt(m,10);var g=m.end(),v=ha(),j=0,b=0;for(b=0;b<e.SheetNames.length;++b)j+=(d?12:11)+(d?2:1)*e.SheetNames[b].length;var y=p.length+j+g.length;for(b=0;b<e.SheetNames.length;++b){var T=s[b]||{};xt(v,133,Nse({pos:y,hs:T.Hidden||0,dt:0,name:e.SheetNames[b]},r)),y+=t[b].length}var E=v.end();if(j!=E.length)throw new Error("BS8 "+j+" != "+E.length);var C=[];return p.length&&C.push(p),E.length&&C.push(E),g.length&&C.push(g),_n(C)}function Wue(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=ma(Hr)),e&&e.SSF&&(z0(),$0(e.SSF),r.revssf=U0(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,PS(r),r.cellXfs=[],yo(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)a[a.length]=Uue(i,r,e);return a.unshift(que(e,a,r)),_n(a)}function WP(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var i=Da(a["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return Wue(e,t);case 4:case 3:case 2:return Rue(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Hue(e,t,r,a){for(var i=e["!merges"]||[],s=[],l=t.s.c;l<=t.e.c;++l){for(var d=0,u=0,h=0;h<i.length;++h)if(!(i[h].s.r>r||i[h].s.c>l)&&!(i[h].e.r<r||i[h].e.c<l)){if(i[h].s.r<r||i[h].s.c<l){d=-1;break}d=i[h].e.r-i[h].s.r+1,u=i[h].e.c-i[h].s.c+1;break}if(!(d<0)){var p=br({r,c:l}),m=a.dense?(e[r]||[])[l]:e[p],g=m&&m.v!=null&&(m.h||wie(m.w||(Ns(m),m.w)||""))||"",v={};d>1&&(v.rowspan=d),u>1&&(v.colspan=u),a.editable?g='<span contenteditable="true">'+g+"</span>":m&&(v["data-t"]=m&&m.t||"z",m.v!=null&&(v["data-v"]=m.v),m.z!=null&&(v["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),v.id=(a.id||"sjs")+"-"+p,s.push(pt("td",g,v))}}var j="<tr>";return j+s.join("")+"</tr>"}var Gue='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Vue="</body></html>";function Yue(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function HP(e,t){var r=t||{},a=r.header!=null?r.header:Gue,i=r.footer!=null?r.footer:Vue,s=[a],l=Da(e["!ref"]);r.dense=Array.isArray(e),s.push(Yue(e,l,r));for(var d=l.s.r;d<=l.e.r;++d)s.push(Hue(e,l,d,r));return s.push("</table>"+i),s.join("")}function GP(e,t,r){var a=r||{},i=0,s=0;if(a.origin!=null)if(typeof a.origin=="number")i=a.origin;else{var l=typeof a.origin=="string"?bn(a.origin):a.origin;i=l.r,s=l.c}var d=t.getElementsByTagName("tr"),u=Math.min(a.sheetRows||1e7,d.length),h={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var p=Da(e["!ref"]);h.s.r=Math.min(h.s.r,p.s.r),h.s.c=Math.min(h.s.c,p.s.c),h.e.r=Math.max(h.e.r,p.e.r),h.e.c=Math.max(h.e.c,p.e.c),i==-1&&(h.e.r=i=p.e.r+1)}var m=[],g=0,v=e["!rows"]||(e["!rows"]=[]),j=0,b=0,y=0,T=0,E=0,C=0;for(e["!cols"]||(e["!cols"]=[]);j<d.length&&b<u;++j){var S=d[j];if(v3(S)){if(a.display)continue;v[b]={hidden:!0}}var A=S.children;for(y=T=0;y<A.length;++y){var k=A[y];if(!(a.display&&v3(k))){var D=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):Cie(k.innerHTML),B=k.getAttribute("data-z")||k.getAttribute("z");for(g=0;g<m.length;++g){var F=m[g];F.s.c==T+s&&F.s.r<b+i&&b+i<=F.e.r&&(T=F.e.c+1-s,g=-1)}C=+k.getAttribute("colspan")||1,((E=+k.getAttribute("rowspan")||1)>1||C>1)&&m.push({s:{r:b+i,c:T+s},e:{r:b+i+(E||1)-1,c:T+s+(C||1)-1}});var M={t:"s",v:D},L=k.getAttribute("data-t")||k.getAttribute("t")||"";D!=null&&(D.length==0?M.t=L||"z":a.raw||D.trim().length==0||L=="s"||(D==="TRUE"?M={t:"b",v:!0}:D==="FALSE"?M={t:"b",v:!1}:isNaN(ms(D))?isNaN(Nh(D).getDate())||(M={t:"d",v:ea(D)},a.cellDates||(M={t:"n",v:pa(M.v)}),M.z=a.dateNF||Hr[14]):M={t:"n",v:ms(D)})),M.z===void 0&&B!=null&&(M.z=B);var O="",W=k.getElementsByTagName("A");if(W&&W.length)for(var P=0;P<W.length&&!(W[P].hasAttribute("href")&&(O=W[P].getAttribute("href"),O.charAt(0)!="#"));++P);O&&O.charAt(0)!="#"&&(M.l={Target:O}),a.dense?(e[b+i]||(e[b+i]=[]),e[b+i][T+s]=M):e[br({c:T+s,r:b+i})]=M,h.e.c<T+s&&(h.e.c=T+s),T+=C}}++b}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),h.e.r=Math.max(h.e.r,b-1+i),e["!ref"]=rn(h),b>=u&&(e["!fullref"]=rn((h.e.r=d.length-j+b-1+i,h))),e}function VP(e,t){var r=t||{},a=r.dense?[]:{};return GP(a,e,t)}function Kue(e,t){return pl(VP(e,t),t)}function v3(e){var t="",r=Xue(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Xue(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Que=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Ch({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return an+t}}(),b3=function(){var e=function(s){return vr(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(s,l,d){var u=[];u.push('      <table:table table:name="'+vr(l.SheetNames[d])+`" table:style-name="ta1">
`);var h=0,p=0,m=Da(s["!ref"]||"A1"),g=s["!merges"]||[],v=0,j=Array.isArray(s);if(s["!cols"])for(p=0;p<=m.e.c;++p)u.push("        <table:table-column"+(s["!cols"][p]?' table:style-name="co'+s["!cols"][p].ods+'"':"")+`></table:table-column>
`);var b="",y=s["!rows"]||[];for(h=0;h<m.s.r;++h)b=y[h]?' table:style-name="ro'+y[h].ods+'"':"",u.push("        <table:table-row"+b+`></table:table-row>
`);for(;h<=m.e.r;++h){for(b=y[h]?' table:style-name="ro'+y[h].ods+'"':"",u.push("        <table:table-row"+b+`>
`),p=0;p<m.s.c;++p)u.push(t);for(;p<=m.e.c;++p){var T=!1,E={},C="";for(v=0;v!=g.length;++v)if(!(g[v].s.c>p)&&!(g[v].s.r>h)&&!(g[v].e.c<p)&&!(g[v].e.r<h)){(g[v].s.c!=p||g[v].s.r!=h)&&(T=!0),E["table:number-columns-spanned"]=g[v].e.c-g[v].s.c+1,E["table:number-rows-spanned"]=g[v].e.r-g[v].s.r+1;break}if(T){u.push(r);continue}var S=br({r:h,c:p}),A=j?(s[h]||[])[p]:s[S];if(A&&A.f&&(E["table:formula"]=vr(gce(A.f)),A.F&&A.F.slice(0,S.length)==S)){var k=Da(A.F);E["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,E["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!A){u.push(t);continue}switch(A.t){case"b":C=A.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=A.v?"true":"false";break;case"n":C=A.w||String(A.v||0),E["office:value-type"]="float",E["office:value"]=A.v||0;break;case"s":case"str":C=A.v==null?"":A.v,E["office:value-type"]="string";break;case"d":C=A.w||ea(A.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=ea(A.v).toISOString(),E["table:style-name"]="ce1";break;default:u.push(t);continue}var D=e(C);if(A.l&&A.l.Target){var B=A.l.Target;B=B.charAt(0)=="#"?"#"+yce(B.slice(1)):B,B.charAt(0)!="#"&&!B.match(/^\w+:/)&&(B="../"+B),D=pt("text:a",D,{"xlink:href":B.replace(/&/g,"&amp;")})}u.push("          "+pt("table:table-cell",pt("text:p",D,{}),E)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},i=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var d=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var p=0;p<h["!cols"].length;++p)if(h["!cols"][p]){var m=h["!cols"][p];if(m.width==null&&m.wpx==null&&m.wch==null)continue;_S(m),m.ods=d;var g=h["!cols"][p].wpx+"px";s.push('  <style:style style:name="co'+d+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++d}}});var u=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var p=0;p<h["!rows"].length;++p)if(h["!rows"][p]){h["!rows"][p].ods=u;var m=h["!rows"][p].hpx+"px";s.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),s.push(`  </style:style>
`),++u}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,d){var u=[an],h=Ch({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=Ch({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});d.bookType=="fods"?(u.push("<office:document"+h+p+`>
`),u.push(lP().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+h+`>
`),i(u,l),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)u.push(a(l.Sheets[l.SheetNames[m]],l,m));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),d.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function YP(e,t){if(t.bookType=="fods")return b3(e,t);var r=vS(),a="",i=[],s=[];return a="mimetype",Wt(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Wt(r,a,b3(e,t)),i.push([a,"text/xml"]),s.push([a,"ContentFile"]),a="styles.xml",Wt(r,a,Que(e,t)),i.push([a,"text/xml"]),s.push([a,"StylesFile"]),a="meta.xml",Wt(r,a,an+lP()),i.push([a,"text/xml"]),s.push([a,"MetadataFile"]),a="manifest.rdf",Wt(r,a,cse(s)),i.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Wt(r,a,ose(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Qm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Zue(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):pi(Th(e))}function Jue(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function ho(e){var t=e.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(i){r.set(i,a),a+=i.length}),r}function ehe(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var s=0;i>=1;++s,i/=256)e[t+s]=i&255;e[t+15]|=r>=0?0:128}function Ah(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function gr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function bc(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function un(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],i=Ah(e,r),s=i&7;i=Math.floor(i/8);var l=0,d;if(i==0)break;switch(s){case 0:{for(var u=r[0];e[r[0]++]>=128;);d=e.slice(u,r[0])}break;case 5:l=4,d=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,d=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=Ah(e,r),d=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(a))}var h={data:d,type:s};t[i]==null?t[i]=[h]:t[i].push(h)}return t}function Cn(e){var t=[];return e.forEach(function(r,a){r.forEach(function(i){i.data&&(t.push(gr(a*8+i.type)),i.type==2&&t.push(gr(i.data.length)),t.push(i.data))})}),ho(t)}function si(e){for(var t,r=[],a=[0];a[0]<e.length;){var i=Ah(e,a),s=un(e.slice(a[0],a[0]+i));a[0]+=i;var l={id:bc(s[1][0].data),messages:[]};s[2].forEach(function(d){var u=un(d.data),h=bc(u[3][0].data);l.messages.push({meta:u,data:e.slice(a[0],a[0]+h)}),a[0]+=h}),(t=s[3])!=null&&t[0]&&(l.merge=bc(s[3][0].data)>>>0>0),r.push(l)}return r}function ic(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:gr(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:gr(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:gr(l.data.length)}],a[2].push({data:Cn(l.meta),type:2})});var s=Cn(a);t.push(gr(s.length)),t.push(s),i.forEach(function(l){return t.push(l)})}),ho(t)}function the(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=Ah(t,r),i=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var d=l-59;l=t[r[0]],d>1&&(l|=t[r[0]+1]<<8),d>2&&(l|=t[r[0]+2]<<16),d>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=d}i.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var u=0,h=0;if(s==1?(h=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(h=(t[r[0]++]>>2)+1,s==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[ho(i)],u==0)throw new Error("Invalid offset 0");if(u>i[0].length)throw new Error("Invalid offset beyond length");if(h>=u)for(i.push(i[0].slice(-u)),h-=u;h>=i[i.length-1].length;)i.push(i[i.length-1]),h-=i[i.length-1].length;i.push(i[0].slice(-u,-u+h))}}var p=ho(i);if(p.length!=a)throw new Error("Unexpected length: ".concat(p.length," != ").concat(a));return p}function oi(e){for(var t=[],r=0;r<e.length;){var a=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(the(a,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return ho(t)}function sc(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var s=gr(a),l=s.length;t.push(s),a<=60?(l++,t.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),l+=a,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,r+=a}return ho(t)}function fj(e,t){var r=new Uint8Array(32),a=Qm(r),i=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,ehe(r,i,e.v),s|=1,i+=16;break;case"b":r[1]=6,a.setFloat64(i,e.v?1:0,!0),s|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(i,t.indexOf(e.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,s,!0),r.slice(0,i)}function pj(e,t){var r=new Uint8Array(32),a=Qm(r),i=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(i,e.v,!0),s|=32,i+=8;break;case"b":r[2]=6,a.setFloat64(i,e.v?1:0,!0),s|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(i,t.indexOf(e.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,s,!0),r.slice(0,i)}function Zs(e){var t=un(e);return Ah(t[1][0].data)}function rhe(e,t,r){var a,i,s,l;if(!((a=e[6])!=null&&a[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var d=((l=(s=e[8])==null?void 0:s[0])==null?void 0:l.data)&&bc(e[8][0].data)>0||!1;if(d)throw"Math only works with normal offsets";for(var u=0,h=Qm(e[7][0].data),p=0,m=[],g=Qm(e[4][0].data),v=0,j=[],b=0;b<t.length;++b){if(t[b]==null){h.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}h.setUint16(b*2,p,!0),g.setUint16(b*2,v,!0);var y,T;switch(typeof t[b]){case"string":y=fj({t:"s",v:t[b]},r),T=pj({t:"s",v:t[b]},r);break;case"number":y=fj({t:"n",v:t[b]},r),T=pj({t:"n",v:t[b]},r);break;case"boolean":y=fj({t:"b",v:t[b]},r),T=pj({t:"b",v:t[b]},r);break;default:throw new Error("Unsupported value "+t[b])}m.push(y),p+=y.length,j.push(T),v+=T.length,++u}for(e[2][0].data=gr(u);b<e[7][0].data.length/2;++b)h.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return e[6][0].data=ho(m),e[3][0].data=ho(j),u}function nhe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=Da(r["!ref"]);a.s.r=a.s.c=0;var i=!1;a.e.c>9&&(i=!0,a.e.c=9),a.e.r>49&&(i=!0,a.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(rn(a)));var s=Zm(r,{range:a,header:1}),l=["~Sh33tJ5~"];s.forEach(function(ee){return ee.forEach(function(q){typeof q=="string"&&l.push(q)})});var d={},u=[],h=Tr.read(t.numbers,{type:"base64"});h.FileIndex.map(function(ee,q){return[ee,h.FullPaths[q]]}).forEach(function(ee){var q=ee[0],Q=ee[1];if(q.type==2&&q.name.match(/\.iwa/)){var ae=q.content,de=oi(ae),xe=si(de);xe.forEach(function(Z){u.push(Z.id),d[Z.id]={deps:[],location:Q,type:bc(Z.messages[0].meta[1][0].data)}})}}),u.sort(function(ee,q){return ee-q});var p=u.filter(function(ee){return ee>1}).map(function(ee){return[ee,gr(ee)]});h.FileIndex.map(function(ee,q){return[ee,h.FullPaths[q]]}).forEach(function(ee){var q=ee[0];if(ee[1],!!q.name.match(/\.iwa/)){var Q=si(oi(q.content));Q.forEach(function(ae){ae.messages.forEach(function(de){p.forEach(function(xe){ae.messages.some(function(Z){return bc(Z.meta[1][0].data)!=11006&&Jue(Z.data,xe[1])})&&d[xe[0]].deps.push(ae.id)})})})}});for(var m=Tr.find(h,d[1].location),g=si(oi(m.content)),v,j=0;j<g.length;++j){var b=g[j];b.id==1&&(v=b)}var y=Zs(un(v.messages[0].data)[1][0].data);for(m=Tr.find(h,d[y].location),g=si(oi(m.content)),j=0;j<g.length;++j)b=g[j],b.id==y&&(v=b);for(y=Zs(un(v.messages[0].data)[2][0].data),m=Tr.find(h,d[y].location),g=si(oi(m.content)),j=0;j<g.length;++j)b=g[j],b.id==y&&(v=b);for(y=Zs(un(v.messages[0].data)[2][0].data),m=Tr.find(h,d[y].location),g=si(oi(m.content)),j=0;j<g.length;++j)b=g[j],b.id==y&&(v=b);var T=un(v.messages[0].data);{T[6][0].data=gr(a.e.r+1),T[7][0].data=gr(a.e.c+1);var E=Zs(T[46][0].data),C=Tr.find(h,d[E].location),S=si(oi(C.content));{for(var A=0;A<S.length&&S[A].id!=E;++A);if(S[A].id!=E)throw"Bad ColumnRowUIDMapArchive";var k=un(S[A].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var D=0;D<=a.e.c;++D){var B=[];B[1]=B[2]=[{type:0,data:gr(D+420690)}],k[1].push({type:2,data:Cn(B)}),k[2].push({type:0,data:gr(D)}),k[3].push({type:0,data:gr(D)})}k[4]=[],k[5]=[],k[6]=[];for(var F=0;F<=a.e.r;++F)B=[],B[1]=B[2]=[{type:0,data:gr(F+726270)}],k[4].push({type:2,data:Cn(B)}),k[5].push({type:0,data:gr(F)}),k[6].push({type:0,data:gr(F)});S[A].messages[0].data=Cn(k)}C.content=sc(ic(S)),C.size=C.content.length,delete T[46];var M=un(T[4][0].data);{M[7][0].data=gr(a.e.r+1);var L=un(M[1][0].data),O=Zs(L[2][0].data);C=Tr.find(h,d[O].location),S=si(oi(C.content));{if(S[0].id!=O)throw"Bad HeaderStorageBucket";var W=un(S[0].messages[0].data);for(F=0;F<s.length;++F){var P=un(W[2][0].data);P[1][0].data=gr(F),P[4][0].data=gr(s[F].length),W[2][F]={type:W[2][0].type,data:Cn(P)}}S[0].messages[0].data=Cn(W)}C.content=sc(ic(S)),C.size=C.content.length;var I=Zs(M[2][0].data);C=Tr.find(h,d[I].location),S=si(oi(C.content));{if(S[0].id!=I)throw"Bad HeaderStorageBucket";for(W=un(S[0].messages[0].data),D=0;D<=a.e.c;++D)P=un(W[2][0].data),P[1][0].data=gr(D),P[4][0].data=gr(a.e.r+1),W[2][D]={type:W[2][0].type,data:Cn(P)};S[0].messages[0].data=Cn(W)}C.content=sc(ic(S)),C.size=C.content.length;var R=Zs(M[4][0].data);(function(){for(var ee=Tr.find(h,d[R].location),q=si(oi(ee.content)),Q,ae=0;ae<q.length;++ae){var de=q[ae];de.id==R&&(Q=de)}var xe=un(Q.messages[0].data);{xe[3]=[];var Z=[];l.forEach(function(pe,Je){Z[1]=[{type:0,data:gr(Je)}],Z[2]=[{type:0,data:gr(1)}],Z[3]=[{type:2,data:Zue(pe)}],xe[3].push({type:2,data:Cn(Z)})})}Q.messages[0].data=Cn(xe);var ge=ic(q),je=sc(ge);ee.content=je,ee.size=ee.content.length})();var H=un(M[3][0].data);{var V=H[1][0];delete H[2];var he=un(V.data);{var U=Zs(he[2][0].data);(function(){for(var ee=Tr.find(h,d[U].location),q=si(oi(ee.content)),Q,ae=0;ae<q.length;++ae){var de=q[ae];de.id==U&&(Q=de)}var xe=un(Q.messages[0].data);{delete xe[6],delete H[7];var Z=new Uint8Array(xe[5][0].data);xe[5]=[];for(var ge=0,je=0;je<=a.e.r;++je){var pe=un(Z);ge+=rhe(pe,s[je],l),pe[1][0].data=gr(je),xe[5].push({data:Cn(pe),type:2})}xe[1]=[{type:0,data:gr(a.e.c+1)}],xe[2]=[{type:0,data:gr(a.e.r+1)}],xe[3]=[{type:0,data:gr(ge)}],xe[4]=[{type:0,data:gr(a.e.r+1)}]}Q.messages[0].data=Cn(xe);var Je=ic(q),Ee=sc(Je);ee.content=Ee,ee.size=ee.content.length})()}V.data=Cn(he)}M[3][0].data=Cn(H)}T[4][0].data=Cn(M)}v.messages[0].data=Cn(T);var Y=ic(g),z=sc(Y);return m.content=z,m.size=m.content.length,h}function ahe(e){return function(r){for(var a=0;a!=e.length;++a){var i=e[a];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function PS(e){ahe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function ihe(e,t){return t.bookType=="ods"?YP(e,t):t.bookType=="numbers"?nhe(e,t):t.bookType=="xlsb"?she(e,t):ohe(e,t)}function she(e,t){uc=1024,e&&!e.SSF&&(e.SSF=ma(Hr)),e&&e.SSF&&(z0(),$0(e.SSF),t.revssf=U0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Mu?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=_P.indexOf(t.bookType)>-1,i=iP();PS(t=t||{});var s=vS(),l="",d=0;if(t.cellXfs=[],yo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Wt(s,l,cP(e.Props,t)),i.coreprops.push(l),yr(t.rels,2,l,sr.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],h=0;h<e.SheetNames.length;++h)(e.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(e.SheetNames[h]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,Wt(s,l,uP(e.Props)),i.extprops.push(l),yr(t.rels,3,l,sr.EXT_PROPS),e.Custprops!==e.Props&&Pn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Wt(s,l,hP(e.Custprops)),i.custprops.push(l),yr(t.rels,4,l,sr.CUST_PROPS)),d=1;d<=e.SheetNames.length;++d){var p={"!id":{}},m=e.Sheets[e.SheetNames[d-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+d+"."+r,Wt(s,l,cue(d-1,l,t,e,p)),i.sheets.push(l),yr(t.wbrels,-1,"worksheets/sheet"+d+"."+r,sr.WS[0])}if(m){var v=m["!comments"],j=!1,b="";v&&v.length>0&&(b="xl/comments"+d+"."+r,Wt(s,b,hue(v,b)),i.comments.push(b),yr(p,-1,"../comments"+d+"."+r,sr.CMNT),j=!0),m["!legacy"]&&j&&Wt(s,"xl/drawings/vmlDrawing"+d+".vml",EP(d,m["!comments"])),delete m["!comments"],delete m["!legacy"]}p["!id"].rId1&&Wt(s,oP(l),yc(p))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Wt(s,l,uue(t.Strings,l,t)),i.strs.push(l),yr(t.wbrels,-1,"sharedStrings."+r,sr.SST)),l="xl/workbook."+r,Wt(s,l,lue(e,l)),i.workbooks.push(l),yr(t.rels,1,l,sr.WB),l="xl/theme/theme1.xml",Wt(s,l,CP(e.Themes,t)),i.themes.push(l),yr(t.wbrels,-1,"theme/theme1.xml",sr.THEME),l="xl/styles."+r,Wt(s,l,due(e,l,t)),i.styles.push(l),yr(t.wbrels,-1,"styles."+r,sr.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Wt(s,l,e.vbaraw),i.vba.push(l),yr(t.wbrels,-1,"vbaProject.bin",sr.VBA)),l="xl/metadata."+r,Wt(s,l,fue(l)),i.metadata.push(l),yr(t.wbrels,-1,"metadata."+r,sr.XLMETA),Wt(s,"[Content_Types].xml",sP(i,t)),Wt(s,"_rels/.rels",yc(t.rels)),Wt(s,"xl/_rels/workbook."+r+".rels",yc(t.wbrels)),delete t.revssf,delete t.ssf,s}function ohe(e,t){uc=1024,e&&!e.SSF&&(e.SSF=ma(Hr)),e&&e.SSF&&(z0(),$0(e.SSF),t.revssf=U0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Mu?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=_P.indexOf(t.bookType)>-1,i=iP();PS(t=t||{});var s=vS(),l="",d=0;if(t.cellXfs=[],yo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Wt(s,l,cP(e.Props,t)),i.coreprops.push(l),yr(t.rels,2,l,sr.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],h=0;h<e.SheetNames.length;++h)(e.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(e.SheetNames[h]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,Wt(s,l,uP(e.Props)),i.extprops.push(l),yr(t.rels,3,l,sr.EXT_PROPS),e.Custprops!==e.Props&&Pn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Wt(s,l,hP(e.Custprops)),i.custprops.push(l),yr(t.rels,4,l,sr.CUST_PROPS));var p=["SheetJ5"];for(t.tcid=0,d=1;d<=e.SheetNames.length;++d){var m={"!id":{}},g=e.Sheets[e.SheetNames[d-1]],v=(g||{})["!type"]||"sheet";switch(v){case"chart":default:l="xl/worksheets/sheet"+d+"."+r,Wt(s,l,LP(d-1,t,e,m)),i.sheets.push(l),yr(t.wbrels,-1,"worksheets/sheet"+d+"."+r,sr.WS[0])}if(g){var j=g["!comments"],b=!1,y="";if(j&&j.length>0){var T=!1;j.forEach(function(E){E[1].forEach(function(C){C.T==!0&&(T=!0)})}),T&&(y="xl/threadedComments/threadedComment"+d+"."+r,Wt(s,y,Foe(j,p,t)),i.threadedcomments.push(y),yr(m,-1,"../threadedComments/threadedComment"+d+"."+r,sr.TCMNT)),y="xl/comments"+d+"."+r,Wt(s,y,OP(j)),i.comments.push(y),yr(m,-1,"../comments"+d+"."+r,sr.CMNT),b=!0}g["!legacy"]&&b&&Wt(s,"xl/drawings/vmlDrawing"+d+".vml",EP(d,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&Wt(s,oP(l),yc(m))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Wt(s,l,bP(t.Strings,t)),i.strs.push(l),yr(t.wbrels,-1,"sharedStrings."+r,sr.SST)),l="xl/workbook."+r,Wt(s,l,UP(e)),i.workbooks.push(l),yr(t.rels,1,l,sr.WB),l="xl/theme/theme1.xml",Wt(s,l,CP(e.Themes,t)),i.themes.push(l),yr(t.wbrels,-1,"theme/theme1.xml",sr.THEME),l="xl/styles."+r,Wt(s,l,NP(e,t)),i.styles.push(l),yr(t.wbrels,-1,"styles."+r,sr.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Wt(s,l,e.vbaraw),i.vba.push(l),yr(t.wbrels,-1,"vbaProject.bin",sr.VBA)),l="xl/metadata."+r,Wt(s,l,AP()),i.metadata.push(l),yr(t.wbrels,-1,"metadata."+r,sr.XLMETA),p.length>1&&(l="xl/persons/person.xml",Wt(s,l,Loe(p)),i.people.push(l),yr(t.wbrels,-1,"persons/person.xml",sr.PEOPLE)),Wt(s,"[Content_Types].xml",sP(i,t)),Wt(s,"_rels/.rels",yc(t.rels)),Wt(s,"xl/_rels/workbook."+r+".rels",yc(t.wbrels)),delete t.revssf,delete t.ssf,s}function lhe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ss(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function KP(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Gh(t.file,Tr.write(e,{type:ur?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Tr.write(e,t)}function che(e,t){var r=ma(t||{}),a=ihe(e,r);return dhe(a,r)}function dhe(e,t){var r={},a=ur?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?Tr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(L0(i))}return t.password&&typeof encrypt_agile<"u"?KP(encrypt_agile(i,t.password),t):t.type==="file"?Gh(t.file,i):t.type=="string"?Iu(i):i}function uhe(e,t){var r=t||{},a=Aue(e,r);return KP(a,r)}function ki(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return Sh(Th(a));case"binary":return Th(a);case"string":return e;case"file":return Gh(t.file,a,"utf8");case"buffer":return ur?Es(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):ki(a,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function hhe(e,t){switch(t.type){case"base64":return Sh(e);case"binary":return e;case"string":return e;case"file":return Gh(t.file,e,"binary");case"buffer":return ur?Es(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Cp(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?Sh(r):t.type=="string"?Iu(r):r;case"file":return Gh(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function XP(e,t){$ae(),Qde(e);var r=ma(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=XP(e,r);return r.type="array",L0(a)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ki(Tue(e,r),r);case"slk":case"sylk":return ki(Yse.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return ki(HP(e.Sheets[e.SheetNames[i]],r),r);case"txt":return hhe(ZP(e.Sheets[e.SheetNames[i]],r),r);case"csv":return ki(MS(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return ki(Kse.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return Cp(Vse.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return ki(Xse.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return ki(noe.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return ki(vP.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return ki(YP(e,r),r);case"wk1":return Cp(f3.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return Cp(f3.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Cp(WP(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),uhe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return che(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function fhe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function QP(e,t,r){var a={};return a.type="file",a.file=t,fhe(a),XP(e,a)}function phe(e,t,r,a,i,s,l,d){var u=Dn(r),h=d.defval,p=d.raw||!Object.prototype.hasOwnProperty.call(d,"raw"),m=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!l||e[r])for(var v=t.s.c;v<=t.e.c;++v){var j=l?e[r][v]:e[a[v]+u];if(j===void 0||j.t===void 0){if(h===void 0)continue;s[v]!=null&&(g[s[v]]=h);continue}var b=j.v;switch(j.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+j.t)}if(s[v]!=null){if(b==null)if(j.t=="e"&&b===null)g[s[v]]=null;else if(h!==void 0)g[s[v]]=h;else if(p&&b===null)g[s[v]]=null;else continue;else g[s[v]]=p&&(j.t!=="n"||j.t==="n"&&d.rawNumbers!==!1)?b:Ns(j,b,d);b!=null&&(m=!1)}}return{row:g,isempty:m}}function Zm(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,i=1,s=[],l=0,d="",u={s:{r:0,c:0},e:{r:0,c:0}},h=t||{},p=h.range!=null?h.range:e["!ref"];switch(h.header===1?a=1:h.header==="A"?a=2:Array.isArray(h.header)?a=3:h.header==null&&(a=0),typeof p){case"string":u=Dr(p);break;case"number":u=Dr(e["!ref"]),u.s.r=p;break;default:u=p}a>0&&(i=0);var m=Dn(u.s.r),g=[],v=[],j=0,b=0,y=Array.isArray(e),T=u.s.r,E=0,C={};y&&!e[T]&&(e[T]=[]);var S=h.skipHidden&&e["!cols"]||[],A=h.skipHidden&&e["!rows"]||[];for(E=u.s.c;E<=u.e.c;++E)if(!(S[E]||{}).hidden)switch(g[E]=qn(E),r=y?e[T][E]:e[g[E]+m],a){case 1:s[E]=E-u.s.c;break;case 2:s[E]=g[E];break;case 3:s[E]=h.header[E-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),d=l=Ns(r,null,h),b=C[l]||0,!b)C[l]=1;else{do d=l+"_"+b++;while(C[d]);C[l]=b,C[d]=1}s[E]=d}for(T=u.s.r+i;T<=u.e.r;++T)if(!(A[T]||{}).hidden){var k=phe(e,u,T,g,a,s,y,h);(k.isempty===!1||(a===1?h.blankrows!==!1:h.blankrows))&&(v[j++]=k.row)}return v.length=j,v}var j3=/"/g;function mhe(e,t,r,a,i,s,l,d){for(var u=!0,h=[],p="",m=Dn(r),g=t.s.c;g<=t.e.c;++g)if(a[g]){var v=d.dense?(e[r]||[])[g]:e[a[g]+m];if(v==null)p="";else if(v.v!=null){u=!1,p=""+(d.rawNumbers&&v.t=="n"?v.v:Ns(v,null,d));for(var j=0,b=0;j!==p.length;++j)if((b=p.charCodeAt(j))===i||b===s||b===34||d.forceQuotes){p='"'+p.replace(j3,'""')+'"';break}p=="ID"&&(p='"ID"')}else v.f!=null&&!v.F?(u=!1,p="="+v.f,p.indexOf(",")>=0&&(p='"'+p.replace(j3,'""')+'"')):p="";h.push(p)}return d.blankrows===!1&&u?null:h.join(l)}function MS(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var i=Dr(e["!ref"]),s=a.FS!==void 0?a.FS:",",l=s.charCodeAt(0),d=a.RS!==void 0?a.RS:`
`,u=d.charCodeAt(0),h=new RegExp((s=="|"?"\\|":s)+"+$"),p="",m=[];a.dense=Array.isArray(e);for(var g=a.skipHidden&&e["!cols"]||[],v=a.skipHidden&&e["!rows"]||[],j=i.s.c;j<=i.e.c;++j)(g[j]||{}).hidden||(m[j]=qn(j));for(var b=0,y=i.s.r;y<=i.e.r;++y)(v[y]||{}).hidden||(p=mhe(e,i,y,m,l,u,s,a),p!=null&&(a.strip&&(p=p.replace(h,"")),(p||a.blankrows!==!1)&&r.push((b++?d:"")+p)));return delete a.dense,r.join("")}function ZP(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=MS(e,t);return r}function xhe(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var i=Dr(e["!ref"]),s="",l=[],d,u=[],h=Array.isArray(e);for(d=i.s.c;d<=i.e.c;++d)l[d]=qn(d);for(var p=i.s.r;p<=i.e.r;++p)for(s=Dn(p),d=i.s.c;d<=i.e.c;++d)if(t=l[d]+s,r=h?(e[p]||[])[d]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}u[u.length]=t+"="+a}return u}function JP(e,t,r){var a=r||{},i=+!a.skipHeader,s=e||{},l=0,d=0;if(s&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var u=typeof a.origin=="string"?bn(a.origin):a.origin;l=u.r,d=u.c}var h,p={s:{c:0,r:0},e:{c:d,r:l+t.length-1+i}};if(s["!ref"]){var m=Dr(s["!ref"]);p.e.c=Math.max(p.e.c,m.e.c),p.e.r=Math.max(p.e.r,m.e.r),l==-1&&(l=m.e.r+1,p.e.r=l+t.length-1+i)}else l==-1&&(l=0,p.e.r=t.length-1+i);var g=a.header||[],v=0;t.forEach(function(b,y){Pn(b).forEach(function(T){(v=g.indexOf(T))==-1&&(g[v=g.length]=T);var E=b[T],C="z",S="",A=br({c:d+v,r:l+y+i});h=Eh(s,A),E&&typeof E=="object"&&!(E instanceof Date)?s[A]=E:(typeof E=="number"?C="n":typeof E=="boolean"?C="b":typeof E=="string"?C="s":E instanceof Date?(C="d",a.cellDates||(C="n",E=pa(E)),S=a.dateNF||Hr[14]):E===null&&a.nullError&&(C="e",E=0),h?(h.t=C,h.v=E,delete h.w,delete h.R,S&&(h.z=S)):s[A]=h={t:C,v:E},S&&(h.z=S))})}),p.e.c=Math.max(p.e.c,d+g.length-1);var j=Dn(l);if(i)for(v=0;v<g.length;++v)s[qn(v+d)+j]={t:"s",v:g[v]};return s["!ref"]=rn(p),s}function ghe(e,t){return JP(null,e,t)}function Eh(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=bn(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Eh(e,br(t)):Eh(e,br({r:t,c:r||0}))}function yhe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function vhe(){return{SheetNames:[],Sheets:{}}}function bhe(e,t,r,a){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var l=s&&s[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=l+i)!=-1;++i);}if(zP(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function jhe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=yhe(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function whe(e,t){return e.z=t,e}function eM(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function She(e,t,r){return eM(e,"#"+t,r)}function Nhe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function The(e,t,r,a){for(var i=typeof t!="string"?t:Dr(t),s=typeof t=="string"?t:rn(t),l=i.s.r;l<=i.e.r;++l)for(var d=i.s.c;d<=i.e.c;++d){var u=Eh(e,l,d);u.t="n",u.F=s,delete u.v,l==i.s.r&&d==i.s.c&&(u.f=r,a&&(u.D=!0))}return e}var jc={encode_col:qn,encode_row:Dn,encode_cell:br,encode_range:rn,decode_col:TS,decode_row:NS,split_cell:$ie,decode_cell:bn,decode_range:Da,format_cell:Ns,sheet_add_aoa:J8,sheet_add_json:JP,sheet_add_dom:GP,aoa_to_sheet:dd,json_to_sheet:ghe,table_to_sheet:VP,table_to_book:Kue,sheet_to_csv:MS,sheet_to_txt:ZP,sheet_to_json:Zm,sheet_to_html:HP,sheet_to_formulae:xhe,sheet_to_row_object_array:Zm,sheet_get_cell:Eh,book_new:vhe,book_append_sheet:bhe,book_set_sheet_visibility:jhe,cell_set_number_format:whe,cell_set_hyperlink:eM,cell_set_internal_link:She,cell_add_comment:Nhe,sheet_set_array_formula:The,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Bo="https://hotelvirat.com/api/v1/hotel",tM=e=>{if(!e)return null;if(e.startsWith("http"))return e;const t="https://hotelvirat.com";let r=e.replace(/\\/g,"/");r.startsWith("/")&&(r=r.substring(1));const a=`${t}/${r}`;return console.log("Image URL:",e,"->",a),a},rM=[{key:"tv",label:"TV"},{key:"ac",label:"AC"},{key:"wifi",label:"WiFi"},{key:"minibar",label:"Mini Bar"},{key:"roomService",label:"Room Service"},{key:"balcony",label:"Balcony"},{key:"bathtub",label:"Bathtub"},{key:"shower",label:"Shower"},{key:"hairDryer",label:"Hair Dryer"},{key:"safe",label:"Safe"},{key:"telephone",label:"Telephone"},{key:"coffeeMaker",label:"Coffee Maker"},{key:"iron",label:"Iron"},{key:"workspace",label:"Workspace"},{key:"parking",label:"Parking"}],Che=["Single","Double","Suite","Deluxe","Family","Presidential"],Ahe=["First Floor","Second Floor"],Ehe=({room:e,branches:t,onClose:r,onSave:a})=>{var C;const[i,s]=N.useState({branchId:((C=e==null?void 0:e.branchId)==null?void 0:C._id)||(e==null?void 0:e.branchId)||"",floor:(e==null?void 0:e.floor)||"First Floor",roomType:(e==null?void 0:e.roomType)||"Single",price:(e==null?void 0:e.price)||"",description:(e==null?void 0:e.description)||"",roomNumber:(e==null?void 0:e.roomNumber)||"",amenities:(e==null?void 0:e.amenities)||{},capacity:(e==null?void 0:e.capacity)||{adults:2,children:0},isAvailable:(e==null?void 0:e.isAvailable)!==!1}),[l,d]=N.useState([]),[u,h]=N.useState((e==null?void 0:e.images)||[]),[p,m]=N.useState(!1),[g,v]=N.useState(""),j=S=>{const{name:A,value:k,type:D,checked:B}=S.target;if(A.startsWith("amenities.")){const F=A.split(".")[1];s(M=>({...M,amenities:{...M.amenities,[F]:B}}))}else if(A.startsWith("capacity.")){const F=A.split(".")[1];s(M=>({...M,capacity:{...M.capacity,[F]:Number(k)}}))}else s(F=>({...F,[A]:D==="checkbox"?B:k}))},b=S=>{const A=Array.from(S.target.files);if(u.length+l.length+A.length>5){v("Maximum 5 images allowed");return}v(""),d(D=>[...D,...A])},y=S=>{d(A=>A.filter((k,D)=>D!==S))},T=S=>{h(A=>A.filter((k,D)=>D!==S))},E=async S=>{S.preventDefault(),m(!0),v("");try{const A=new FormData;A.append("branchId",i.branchId),A.append("floor",i.floor),A.append("roomType",i.roomType),A.append("price",i.price),A.append("description",i.description),A.append("roomNumber",i.roomNumber),A.append("amenities",JSON.stringify(i.amenities)),A.append("capacity",JSON.stringify(i.capacity)),A.append("isAvailable",i.isAvailable),A.append("existingImages",JSON.stringify(u)),l.forEach(k=>A.append("images",k)),await a(A),r()}catch(A){v(A.message||"Failed to save room")}finally{m(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"700px",maxHeight:"90vh",overflow:"auto"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Room":"Add New Room"}),n.jsx("button",{className:"modal-close",onClick:r,children:""})]}),n.jsxs("form",{onSubmit:E,children:[n.jsxs("div",{className:"modal-body",children:[g&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:16}),n.jsx("span",{children:g})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Room Images (Max 5)"}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"10px"},children:[u.map((S,A)=>n.jsxs("div",{style:{position:"relative",width:"100px",height:"100px"},children:[n.jsx("img",{src:tM(S),alt:"",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"}}),n.jsx("button",{type:"button",onClick:()=>T(A),style:{position:"absolute",top:"-5px",right:"-5px",background:"#dc2626",border:"none",borderRadius:"50%",width:"24px",height:"24px",color:"white",cursor:"pointer"},children:n.jsx(Hn,{size:14})})]},`existing-${A}`)),l.map((S,A)=>n.jsxs("div",{style:{position:"relative",width:"100px",height:"100px"},children:[n.jsx("img",{src:URL.createObjectURL(S),alt:"",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"}}),n.jsx("button",{type:"button",onClick:()=>y(A),style:{position:"absolute",top:"-5px",right:"-5px",background:"#dc2626",border:"none",borderRadius:"50%",width:"24px",height:"24px",color:"white",cursor:"pointer"},children:n.jsx(Hn,{size:14})})]},`new-${A}`)),u.length+l.length<5&&n.jsxs("label",{style:{width:"100px",height:"100px",border:"2px dashed #ccc",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:[n.jsx(to,{size:20}),n.jsx("span",{style:{fontSize:"12px"},children:"Add"}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:b,style:{display:"none"}})]})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",children:["Branch ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsxs("select",{name:"branchId",className:"form-input",value:i.branchId,onChange:j,required:!0,children:[n.jsx("option",{value:"",children:"Select Branch"}),t.map(S=>n.jsx("option",{value:S._id,children:S.name},S._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",children:["Floor ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsx("select",{name:"floor",className:"form-input",value:i.floor,onChange:j,required:!0,children:Ahe.map(S=>n.jsx("option",{value:S,children:S},S))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Room Type"}),n.jsx("select",{name:"roomType",className:"form-input",value:i.roomType,onChange:j,children:Che.map(S=>n.jsx("option",{value:S,children:S},S))})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",children:["Basic Price (without GST) ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsx("input",{type:"number",name:"price",className:"form-input",value:i.price,onChange:j,required:!0,placeholder:"Enter price without GST"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Room Number"}),n.jsx("input",{type:"text",name:"roomNumber",className:"form-input",value:i.roomNumber,onChange:j})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"checkbox",name:"isAvailable",checked:i.isAvailable,onChange:j}),"Available"]})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Description"}),n.jsx("textarea",{name:"description",className:"form-textarea",value:i.description,onChange:j,rows:"2"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Adults Capacity"}),n.jsx("input",{type:"number",name:"capacity.adults",className:"form-input",value:i.capacity.adults,onChange:j,min:"1"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Children Capacity"}),n.jsx("input",{type:"number",name:"capacity.children",className:"form-input",value:i.capacity.children,onChange:j,min:"0"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Amenities"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px"},children:rM.map(S=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",name:`amenities.${S.key}`,checked:i.amenities[S.key]||!1,onChange:j}),S.label]},S.key))})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,disabled:p,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":e?"Update Room":"Add Room"})]})]})]})})},Ohe=({room:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error(l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Room"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsxs("strong",{children:[e.floor," - Room #",e.roomNumber||"N/A"]}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{className:"btn",style:{backgroundColor:"#dc2626",color:"white"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},_he=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(""),[u,h]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(!1),[j,b]=N.useState(null),[y,T]=N.useState(!0),[E,C]=N.useState(""),[S,A]=N.useState(""),[k,D]=N.useState({}),[B,F]=N.useState([]),[M,L]=N.useState(!1);N.useEffect(()=>{V(),he(),I()},[]);const O=async q=>{try{const Q=await Mt.get(`${Bo}/room-booking`),ae=Array.isArray(Q.data)?Q.data:[],de={};ae.forEach(xe=>{var Z;if(xe.status!=="cancelled"&&xe.status!=="checked-out"){const ge=((Z=xe.roomId)==null?void 0:Z._id)||xe.roomId;ge&&(de[ge]=xe)}}),D(de)}catch(Q){console.error("Error fetching room bookings:",Q)}},W=q=>q?new Date(q).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",P=q=>q?new Date(q).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"",I=async()=>{try{console.log(" Fetching all bookings for export...");const Q=(await Mt.get(`${Bo}/room-booking`)).data||[];console.log(" Fetched bookings for export:",Q.length),F(Q)}catch(q){console.error("Error fetching all bookings:",q),C("Failed to load booking data for export"),setTimeout(()=>C(""),3e3),F([])}},R=(q,Q=32e3)=>{if(!q)return"";const ae=String(q);return ae.length<=Q?ae:ae.substring(0,Q)+"..."},H=()=>{if(!M){L(!0);try{let q=[];B.length===0?q=[{"S.No":"No bookings found","Booking Date":"","Room Number":"","Room Type":"",Floor:"",Branch:"","Guest Name":"","Guest Phone":"","Guest Email":"","Guest GSTIN":"","Check-in Date":"","Check-in Time":"","Check-out Date":"","Check-out Time":"",Nights:"","Base Amount ()":"","GST Type":"","CGST ()":"","SGST ()":"","IGST ()":"","Total GST ()":"","Total Amount ()":"","Amount Paid ()":"","Balance Due ()":"",Status:"","Payment Status":""}]:q=B.map((je,pe)=>{var Ce,Qe,re,ce,J,oe;const Je=(je.cgst||0)+(je.sgst||0)+(je.igst||0),Ee=je.totalPrice||0,Ve=je.amountPaid||0,le=Ee-Ve;return{"S.No":pe+1,"Booking Date":R(P(je.createdAt)),"Room Number":R(((Ce=je.roomId)==null?void 0:Ce.roomNumber)||"N/A"),"Room Type":R(((Qe=je.roomId)==null?void 0:Qe.roomType)||"N/A"),Floor:R(((re=je.roomId)==null?void 0:re.floor)||"N/A"),Branch:R(((ce=je.branchId)==null?void 0:ce.name)||"N/A"),"Guest Name":R(je.userName||""),"Guest Phone":R(je.userPhone||""),"Guest Email":R(je.userEmail||""),"Guest GSTIN":R(je.guestGstNumber||""),"Check-in Date":R(P(je.checkInDate)),"Check-in Time":R(je.checkInTime||""),"Check-out Date":R(P(je.checkOutDate)),"Check-out Time":R(je.checkOutTime||""),Nights:je.nights||1,"Base Amount ()":(je.baseAmount||0).toFixed(2),"GST Type":R(je.gstType==="gst"?"CGST+SGST (5%)":je.gstType==="igst"?"IGST (5%)":"No GST"),"CGST ()":(je.cgst||0).toFixed(2),"SGST ()":(je.sgst||0).toFixed(2),"IGST ()":(je.igst||0).toFixed(2),"Total GST ()":Je.toFixed(2),"Total Amount ()":Ee.toFixed(2),"Amount Paid ()":Ve.toFixed(2),"Balance Due ()":le.toFixed(2),Status:R(((J=je.status)==null?void 0:J.toUpperCase())||""),"Payment Status":R(((oe=je.paymentStatus)==null?void 0:oe.toUpperCase())||"")}});const Q=jc.json_to_sheet(q),ae=jc.book_new();jc.book_append_sheet(ae,Q,"Room Bookings");const de=[{wch:5},{wch:12},{wch:12},{wch:12},{wch:12},{wch:15},{wch:20},{wch:15},{wch:25},{wch:18},{wch:12},{wch:12},{wch:12},{wch:12},{wch:8},{wch:15},{wch:15},{wch:12},{wch:12},{wch:12},{wch:12},{wch:15},{wch:15},{wch:15},{wch:12},{wch:15}];Q["!cols"]=de;const xe=new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-"),Z=B.length===0?`Room_Bookings_Empty_${xe}.xlsx`:`Room_Bookings_${xe}.xlsx`;QP(ae,Z);const ge=B.length===0?"Empty Excel template exported successfully!":`Excel exported successfully! (${B.length} bookings)`;A(ge),setTimeout(()=>A(""),3e3)}catch(q){console.error("Error exporting to Excel:",q),C(`Failed to export Excel: ${q.message}`),setTimeout(()=>C(""),5e3)}finally{L(!1)}}},V=async()=>{try{const q=await Mt.get(`${Bo}/branch`);a(q.data)}catch(q){console.error("Error fetching branches:",q)}},he=async()=>{T(!0);try{const q=await Mt.get(`${Bo}/room`),Q=Array.isArray(q.data)?q.data:[];t(Q),Q.length>0&&O(Q)}catch{C("Failed to load rooms"),t([])}finally{T(!1)}},U=Array.isArray(e)?e.filter(q=>{var de,xe,Z,ge;const Q=((de=q.floor)==null?void 0:de.toLowerCase().includes(i.toLowerCase()))||((xe=q.roomNumber)==null?void 0:xe.toLowerCase().includes(i.toLowerCase()))||((Z=q.roomType)==null?void 0:Z.toLowerCase().includes(i.toLowerCase())),ae=!l||((ge=q.branchId)==null?void 0:ge._id)===l||q.branchId===l;return Q&&ae}):[],Y=async q=>{var Q,ae;try{const de={headers:{"Content-Type":"multipart/form-data"}};let xe;p?(xe=await Mt.put(`${Bo}/room/${p._id}`,q,de),t(Array.isArray(e)?e.map(Z=>Z._id===p._id?xe.data:Z):[xe.data]),A("Room updated successfully")):(xe=await Mt.post(`${Bo}/room`,q,de),t(Array.isArray(e)?[...e,xe.data]:[xe.data]),A("Room created successfully")),setTimeout(()=>A(""),3e3)}catch(de){throw new Error(((ae=(Q=de.response)==null?void 0:Q.data)==null?void 0:ae.message)||"Failed to save room")}},z=async q=>{try{await Mt.delete(`${Bo}/room/${q}`),t(Array.isArray(e)?e.filter(Q=>Q._id!==q):[]),A("Room deleted successfully"),setTimeout(()=>A(""),3e3)}catch{throw new Error("Failed to delete room")}},ee=q=>q?rM.filter(Q=>q[Q.key]).map(Q=>Q.label):[];return n.jsxs("div",{className:"rooms-page",children:[S&&n.jsxs("div",{className:"success-message",children:[n.jsx(Rn,{size:16}),n.jsx("span",{children:S}),n.jsx("button",{onClick:()=>A(""),children:n.jsx("span",{children:""})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Rooms"}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("button",{className:"btn",onClick:q=>{q.preventDefault(),q.stopPropagation(),H()},disabled:M,style:{backgroundColor:"#059669",color:"white",display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",border:"none",borderRadius:"6px",cursor:M?"not-allowed":"pointer",opacity:M?.6:1},title:B.length===0?"Click to export empty template":`Export ${B.length} bookings to Excel`,children:[n.jsx(ta,{size:16}),n.jsx("span",{children:M?"Exporting...":`Export Excel (${B.length})`})]}),n.jsxs("button",{className:"btn btn-primary",onClick:()=>{m(null),h(!0)},children:[n.jsx(Ka,{size:16}),n.jsx("span",{children:"Add Room"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search rooms...",className:"search-input",value:i,onChange:q=>s(q.target.value)})]}),n.jsxs("select",{className:"form-input",style:{width:"200px"},value:l,onChange:q=>d(q.target.value),children:[n.jsx("option",{value:"",children:"All Branches"}),r.map(q=>n.jsx("option",{value:q._id,children:q.name},q._id))]})]}),E&&n.jsxs("div",{style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:E})]}),y?n.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading rooms..."})}):n.jsx("div",{className:"grid-container",children:U.length>0?U.map(q=>{var Q,ae,de,xe,Z,ge,je;return n.jsxs("div",{className:"grid-item",children:[n.jsx("div",{className:"grid-item-image-container",style:{position:"relative"},children:((Q=q.images)==null?void 0:Q.length)>0?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:tM(q.images[0]),alt:q.floor,className:"grid-item-image",onError:pe=>{console.log("Image failed to load:",pe.target.src),pe.target.style.display="none",pe.target.nextSibling.style.display="flex"}}),n.jsxs("div",{style:{display:"none",width:"100%",height:"200px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#9ca3af"},children:[n.jsx(Ii,{size:24}),n.jsx("span",{style:{marginTop:"8px",fontSize:"14px"},children:"Image Not Found"})]})]}):n.jsxs("div",{style:{display:"flex",width:"100%",height:"200px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#9ca3af"},children:[n.jsx(Ii,{size:24}),n.jsx("span",{style:{marginTop:"8px",fontSize:"14px"},children:"No Image"})]})}),n.jsxs("div",{className:"grid-item-content",children:[n.jsxs("h3",{className:"grid-item-title",children:[q.floor," - Room #",q.roomNumber||"N/A"]}),n.jsx("p",{style:{fontSize:"14px",color:"#6b7280"},children:((ae=q.branchId)==null?void 0:ae.name)||"No Branch"}),n.jsxs("p",{style:{fontSize:"14px",color:"#6b7280"},children:["Type: ",q.roomType]}),n.jsxs("p",{style:{fontSize:"16px",fontWeight:"600",color:"#059669"},children:["",q.price," ",n.jsx("span",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"normal"},children:"(Basic)"})]}),k[q._id]?n.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#fef3c7",borderRadius:"6px",borderLeft:"3px solid #f59e0b"},children:[n.jsx("p",{style:{fontSize:"12px",fontWeight:"600",color:"#92400e",marginBottom:"4px"},children:" BOOKED"}),n.jsxs("p",{style:{fontSize:"12px",color:"#78350f"},children:[n.jsx("strong",{children:"Guest:"})," ",k[q._id].userName]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Phone:"})," ",k[q._id].userPhone||"N/A"]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Check-in:"})," ",W(k[q._id].checkInDate)," at ",k[q._id].checkInTime]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Check-out:"})," ",W(k[q._id].checkOutDate)," at ",k[q._id].checkOutTime]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Base:"})," ",(de=k[q._id].baseAmount)==null?void 0:de.toFixed(2)," (",k[q._id].nights," nights)"]}),k[q._id].gstType&&k[q._id].gstType!=="none"&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"GST:"})," ",k[q._id].gstType==="gst"?`CGST ${(xe=k[q._id].cgst)==null?void 0:xe.toFixed(2)} + SGST ${(Z=k[q._id].sgst)==null?void 0:Z.toFixed(2)}`:`IGST ${(ge=k[q._id].igst)==null?void 0:ge.toFixed(2)}`]}),k[q._id].guestGstNumber&&n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Guest GSTIN:"})," ",k[q._id].guestGstNumber]})]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f",fontWeight:"600"},children:[n.jsx("strong",{children:"Total:"})," ",(je=k[q._id].totalPrice)==null?void 0:je.toFixed(2)]}),n.jsxs("p",{style:{fontSize:"10px",color:"#92400e",marginTop:"4px"},children:["Status: ",n.jsx("span",{style:{textTransform:"uppercase",fontWeight:"600"},children:k[q._id].status})]})]}):n.jsx("p",{style:{fontSize:"12px",color:q.isAvailable?"#059669":"#dc2626",marginTop:"8px"},children:q.isAvailable?" Available":"Not Available"}),n.jsxs("div",{style:{marginTop:"8px",display:"flex",flexWrap:"wrap",gap:"4px"},children:[ee(q.amenities).slice(0,4).map(pe=>n.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"4px"},children:pe},pe)),ee(q.amenities).length>4&&n.jsxs("span",{style:{fontSize:"10px",padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"4px"},children:["+",ee(q.amenities).length-4]})]})]}),n.jsxs("div",{className:"grid-item-actions",style:{display:"flex",gap:"8px",padding:"12px",borderTop:"1px solid #e5e7eb"},children:[n.jsxs("button",{className:"btn-icon",onClick:()=>{m(q),h(!0)},style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:pe=>pe.target.style.backgroundColor="#2563eb",onMouseLeave:pe=>pe.target.style.backgroundColor="#3b82f6",children:[n.jsx(ra,{size:16}),n.jsx("span",{children:"Edit"})]}),n.jsxs("button",{className:"btn-icon-danger",onClick:()=>{b(q),v(!0)},style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:pe=>pe.target.style.backgroundColor="#dc2626",onMouseLeave:pe=>pe.target.style.backgroundColor="#ef4444",children:[n.jsx(fa,{size:16}),n.jsx("span",{children:"Delete"})]})]})]},q._id)}):n.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px"},children:[n.jsx(Ii,{size:48,style:{color:"#9ca3af",marginBottom:"16px"}}),n.jsx("p",{style:{color:"#6b7280"},children:"No rooms found"})]})}),u&&n.jsx(Ehe,{room:p,branches:r,onClose:()=>h(!1),onSave:Y}),g&&j&&n.jsx(Ohe,{room:j,onClose:()=>v(!1),onConfirm:z})]})},khe="https://hotelvirat.com/api/v1/hotel",ju=Mt.create({baseURL:khe,headers:{"Content-Type":"application/json"}}),Ihe=()=>{var q,Q,ae,de,xe,Z,ge,je,pe,Je,Ee,Ve;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState(!0),[u,h]=N.useState(""),[p,m]=N.useState(""),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,T]=N.useState(""),[E,C]=N.useState(""),[S,A]=N.useState(!1),[k,D]=N.useState(null),[B,F]=N.useState(!1),[M,L]=N.useState(null);N.useEffect(()=>{O(),W(),P()},[]);const O=async()=>{d(!0),h("");try{const le=await ju.get("/room-booking");let Ce=le.data;le.data.bookings?Ce=le.data.bookings:le.data.data&&(Ce=le.data.data);const Qe=Array.isArray(Ce)?Ce:[];t(Qe)}catch(le){console.error("Error fetching bookings:",le),h("Failed to load bookings"),t([])}finally{d(!1)}},W=async()=>{try{const le=await ju.get("/room");let Ce=le.data;le.data.rooms?Ce=le.data.rooms:le.data.data&&(Ce=le.data.data);const Qe=Array.isArray(Ce)?Ce:[];a(Qe)}catch(le){console.error("Error fetching rooms:",le),a([])}},P=async()=>{try{const le=await ju.get("/branch");let Ce=le.data;le.data.branches?Ce=le.data.branches:le.data.data&&(Ce=le.data.data);const Qe=Array.isArray(Ce)?Ce:[];s(Qe)}catch(le){console.error("Error fetching branches:",le),s([])}},I=async(le,Ce)=>{try{const Qe=await ju.get(`/room-booking/slots/${le}?date=${Ce}`);D(Qe.data),A(!0)}catch(Qe){console.error("Error fetching time slots:",Qe),alert("Failed to load time slots")}},R=async(le,Ce)=>{try{await ju.put(`/room-booking/${le}/status`,{status:Ce}),O(),alert(`Booking ${Ce} successfully`)}catch(Qe){console.error("Error updating booking status:",Qe),alert("Failed to update booking status")}},H=le=>{L(le),F(!0)},V=le=>le?new Date(le).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",he=le=>{if(!le)return"N/A";const[Ce,Qe]=le.split(":"),re=parseInt(Ce),ce=re>=12?"PM":"AM";return`${re===0?12:re>12?re-12:re}:${Qe} ${ce}`},U=le=>{switch(le){case"confirmed":return{color:"#2563eb",backgroundColor:"#dbeafe"};case"checked-in":return{color:"#059669",backgroundColor:"#d1fae5"};case"checked-out":return{color:"#6b7280",backgroundColor:"#f3f4f6"};case"cancelled":return{color:"#dc2626",backgroundColor:"#fee2e2"};case"cancel-requested":return{color:"#d97706",backgroundColor:"#fef3c7"};default:return{color:"#6b7280",backgroundColor:"#f3f4f6"}}},Y=le=>le.gstOption==="withoutGST"?"Without GST":le.gstOption==="withGST"?`With GST (CGST: ${le.cgst||0}, SGST: ${le.sgst||0})`:le.gstOption==="withIGST"?`With IGST (${le.igst||0})`:"N/A",z=Array.isArray(e)?e.filter(le=>{var oe,te,Se,Ge,Xe,Ue,dt,_e;const Ce=((oe=le.userName)==null?void 0:oe.toLowerCase().includes(p.toLowerCase()))||((te=le.userPhone)==null?void 0:te.includes(p))||((Ge=(Se=le.roomId)==null?void 0:Se.roomNumber)==null?void 0:Ge.toString().includes(p))||((Ue=(Xe=le.roomId)==null?void 0:Xe.floor)==null?void 0:Ue.toLowerCase().includes(p.toLowerCase())),Qe=!g||((dt=le.branchId)==null?void 0:dt._id)===g,re=!j||le.status===j,ce=!y||((_e=le.roomId)==null?void 0:_e._id)===y,J=!E||(le.checkInDate?new Date(le.checkInDate).toISOString().split("T")[0]===E:!1);return Ce&&Qe&&re&&ce&&J}):[],ee=()=>{const le=[];for(let Ce=0;Ce<24;Ce++){const Qe=`${Ce.toString().padStart(2,"0")}:00`,re=Ce===0?"12:00 AM":Ce<12?`${Ce}:00 AM`:Ce===12?"12:00 PM":`${Ce-12}:00 PM`;le.push({value:Qe,display:re})}return le};return n.jsxs("div",{style:{padding:"24px",backgroundColor:"#f9fafb",minHeight:"100vh"},children:[n.jsxs("div",{style:{maxWidth:"1280px",margin:"0 auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[n.jsx("h1",{style:{fontSize:"30px",fontWeight:"bold",color:"#111827",margin:0},children:"Room Bookings"}),n.jsxs("button",{onClick:O,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:le=>le.target.style.backgroundColor="#1d4ed8",onMouseOut:le=>le.target.style.backgroundColor="#2563eb",children:[n.jsx(Pi,{size:20}),"Refresh"]})]}),n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",padding:"24px",marginBottom:"24px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{position:"relative"},children:[n.jsx(lr,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"},size:20}),n.jsx("input",{type:"text",placeholder:"Search by name, phone, room...",value:p,onChange:le=>m(le.target.value),style:{width:"100%",paddingLeft:"40px",paddingRight:"16px",paddingTop:"8px",paddingBottom:"8px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:le=>{le.target.style.borderColor="#3b82f6",le.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:le=>{le.target.style.borderColor="#d1d5db",le.target.style.boxShadow="none"}})]}),n.jsxs("select",{value:g,onChange:le=>v(le.target.value),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"All Branches"}),Array.isArray(i)?i.map(le=>n.jsx("option",{value:le._id,children:le.name},le._id)):[]]}),n.jsxs("select",{value:j,onChange:le=>b(le.target.value),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"checked-in",children:"Checked In"}),n.jsx("option",{value:"checked-out",children:"Checked Out"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"cancel-requested",children:"Cancel Requested"})]}),n.jsxs("select",{value:y,onChange:le=>T(le.target.value),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"All Rooms"}),Array.isArray(r)?r.map(le=>n.jsxs("option",{value:le._id,children:[le.floor," - Room ",le.roomNumber||"N/A"]},le._id)):[]]}),n.jsx("input",{type:"date",value:E,onChange:le=>C(le.target.value),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),y&&E&&n.jsx("div",{style:{marginTop:"16px"},children:n.jsxs("button",{onClick:()=>I(y,E),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:le=>le.target.style.backgroundColor="#047857",onMouseOut:le=>le.target.style.backgroundColor="#059669",children:[n.jsx(Di,{size:20}),"View Time Slots for Selected Room & Date"]})})]}),u&&n.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fca5a5",color:"#dc2626",padding:"12px 16px",borderRadius:"8px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:20}),u]}),l?n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"48px 0"},children:n.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #e5e7eb",borderTop:"3px solid #2563eb",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):n.jsx(n.Fragment,{children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden"},children:[n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{style:{backgroundColor:"#f9fafb"},children:n.jsxs("tr",{children:[n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Guest"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Room"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Check-in"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Check-out"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"GST Details"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Amount"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),n.jsx("tbody",{style:{backgroundColor:"white"},children:z.map((le,Ce)=>{var Qe,re,ce,J;return n.jsxs("tr",{style:{borderTop:Ce>0?"1px solid #e5e7eb":"none"},children:[n.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{style:{flexShrink:0,width:"40px",height:"40px"},children:n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#dbeafe",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Qo,{style:{width:"20px",height:"20px",color:"#2563eb"}})})}),n.jsxs("div",{style:{marginLeft:"16px"},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#111827"},children:le.userName}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Za,{size:12}),le.userPhone]}),le.userEmail&&n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(ys,{size:12}),le.userEmail]}),(()=>{let oe=le.guestGstNumber;if(le.guestGstNumber&&le.guestGstNumber.startsWith("DOCS:"))try{const te=le.guestGstNumber.substring(5);oe=JSON.parse(te).gst||""}catch{oe=""}return oe?n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("span",{style:{fontSize:"12px"},children:"GST:"}),oe]}):null})()]})]})}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsxs("div",{style:{fontSize:"14px",fontWeight:"500",color:"#111827"},children:[(Qe=le.roomId)==null?void 0:Qe.floor," - Room ",((re=le.roomId)==null?void 0:re.roomNumber)||"N/A"]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Fu,{size:12}),(ce=le.branchId)==null?void 0:ce.name]}),n.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:(J=le.roomId)==null?void 0:J.roomType})]}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsxs("div",{style:{fontSize:"14px",color:"#111827",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Br,{size:12}),V(le.checkInDate)]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Di,{size:12}),he(le.checkInTime)]})]}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsxs("div",{style:{fontSize:"14px",color:"#111827",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Br,{size:12}),V(le.checkOutDate)]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Di,{size:12}),he(le.checkOutTime)]})]}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsx("div",{style:{fontSize:"14px",color:"#111827"},children:Y(le)}),le.gstAmount>0&&n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:["GST: ",le.gstAmount]})]}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsxs("div",{style:{fontSize:"14px",fontWeight:"500",color:"#111827",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(yj,{size:12}),"",le.totalPrice]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:["Base: ",le.baseAmount]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[le.nights," night(s)"]})]}),n.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:n.jsx("span",{style:{display:"inline-flex",padding:"4px 8px",fontSize:"12px",fontWeight:"600",borderRadius:"9999px",...U(le.status)},children:le.status})}),n.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"500"},children:n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>H(le),style:{color:"#3b82f6",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"View Details",onMouseOver:oe=>oe.target.style.backgroundColor="#eff6ff",onMouseOut:oe=>oe.target.style.backgroundColor="transparent",children:n.jsx(ji,{size:16})}),le.status==="confirmed"&&n.jsx("button",{onClick:()=>R(le._id,"checked-in"),style:{color:"#059669",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"Check In",onMouseOver:oe=>oe.target.style.backgroundColor="#f0fdf4",onMouseOut:oe=>oe.target.style.backgroundColor="transparent",children:n.jsx(ns,{size:16})}),le.status==="checked-in"&&n.jsx("button",{onClick:()=>R(le._id,"checked-out"),style:{color:"#2563eb",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"Check Out",onMouseOver:oe=>oe.target.style.backgroundColor="#eff6ff",onMouseOut:oe=>oe.target.style.backgroundColor="transparent",children:n.jsx(ns,{size:16})}),(le.status==="confirmed"||le.status==="checked-in")&&n.jsx("button",{onClick:()=>R(le._id,"cancelled"),style:{color:"#dc2626",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"Cancel",onMouseOver:oe=>oe.target.style.backgroundColor="#fef2f2",onMouseOut:oe=>oe.target.style.backgroundColor="transparent",children:n.jsx(Op,{size:16})}),le.status==="cancel-requested"&&n.jsx("button",{onClick:()=>R(le._id,"cancelled"),style:{color:"#d97706",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"Approve Cancellation",onMouseOver:oe=>oe.target.style.backgroundColor="#fffbeb",onMouseOut:oe=>oe.target.style.backgroundColor="transparent",children:n.jsx(ns,{size:16})})]})})]},le._id)})})]})}),z.length===0&&n.jsx("div",{style:{textAlign:"center",padding:"48px 0"},children:n.jsx("div",{style:{color:"#6b7280"},children:"No bookings found"})})]})}),B&&M&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"0",maxWidth:"800px",width:"90%",margin:"16px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px",borderBottom:"1px solid #e5e7eb",backgroundColor:"#f8fafc",borderRadius:"12px 12px 0 0"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",margin:0,color:"#1f2937"},children:"Booking Details"}),n.jsxs("p",{style:{fontSize:"14px",color:"#6b7280",margin:"4px 0 0"},children:["Booking ID: ",M._id]})]}),n.jsx("button",{onClick:()=>F(!1),style:{color:"#6b7280",backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"all 0.2s"},onMouseOver:le=>{le.target.style.backgroundColor="#f3f4f6",le.target.style.color="#374151"},onMouseOut:le=>{le.target.style.backgroundColor="transparent",le.target.style.color="#6b7280"},children:n.jsx(Op,{size:24})})]}),n.jsxs("div",{style:{padding:"24px"},children:[n.jsx("div",{style:{marginBottom:"24px",textAlign:"center"},children:n.jsx("span",{style:{display:"inline-flex",padding:"8px 16px",fontSize:"14px",fontWeight:"600",borderRadius:"20px",textTransform:"capitalize",...U(M.status)},children:M.status})}),n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qo,{size:20,color:"#3b82f6"}),"Guest Information"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Name"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:M.userName||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Phone"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Za,{size:16,color:"#10b981"}),M.userPhone||"N/A"]})]}),M.userEmail&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Email"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(ys,{size:16,color:"#3b82f6"}),M.userEmail]})]}),(()=>{let le=M.guestGstNumber;if(M.guestGstNumber&&M.guestGstNumber.startsWith("DOCS:"))try{const Ce=M.guestGstNumber.substring(5);le=JSON.parse(Ce).gst||""}catch{le=""}return le?n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"GST Number"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:le})]}):null})()]})]}),n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Fu,{size:20,color:"#10b981"}),"Room Information"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#166534",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Room Number"}),n.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#166534"},children:((q=M.roomId)==null?void 0:q.roomNumber)||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Floor"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:((Q=M.roomId)==null?void 0:Q.floor)||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Room Type"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:((ae=M.roomId)==null?void 0:ae.roomType)||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Branch"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:((de=M.branchId)==null?void 0:de.name)||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Room Price"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:["",((xe=M.roomId)==null?void 0:xe.price)||0,"/night"]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Capacity"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:[((ge=(Z=M.roomId)==null?void 0:Z.capacity)==null?void 0:ge.adults)||2," Adults",((pe=(je=M.roomId)==null?void 0:je.capacity)==null?void 0:pe.children)>0&&`, ${M.roomId.capacity.children} Children`]})]})]})]}),((Je=M.roomId)==null?void 0:Je.amenities)&&n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:" Room Amenities"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"8px"},children:Object.entries(M.roomId.amenities).map(([le,Ce])=>Ce&&n.jsxs("div",{style:{padding:"8px 12px",backgroundColor:"#f0fdf4",borderRadius:"6px",border:"1px solid #bbf7d0",fontSize:"14px",color:"#166534",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("span",{style:{fontSize:"12px"},children:""}),le.charAt(0).toUpperCase()+le.slice(1).replace(/([A-Z])/g," $1")]},le))})]}),n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Br,{size:20,color:"#f59e0b"}),"Stay Information"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{padding:"16px",backgroundColor:"#fefbf3",borderRadius:"8px",border:"1px solid #fed7aa"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#92400e",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Check-in"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#92400e",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Br,{size:16}),V(M.checkInDate)]}),n.jsxs("div",{style:{fontSize:"14px",color:"#92400e",marginTop:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Di,{size:14}),he(M.checkInTime)]}),M.actualCheckInTime&&n.jsxs("div",{style:{fontSize:"12px",color:"#059669",marginTop:"8px",padding:"6px 8px",backgroundColor:"#dcfce7",borderRadius:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(ns,{size:12}),n.jsxs("span",{children:[n.jsx("strong",{children:"Actual Check-in:"})," ",new Date(M.actualCheckInTime).toLocaleString()]})]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#fefbf3",borderRadius:"8px",border:"1px solid #fed7aa"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#92400e",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Check-out"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#92400e",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Br,{size:16}),V(M.checkOutDate)]}),n.jsxs("div",{style:{fontSize:"14px",color:"#92400e",marginTop:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Di,{size:14}),he(M.checkOutTime)]}),M.actualCheckOutTime&&n.jsxs("div",{style:{fontSize:"12px",color:"#059669",marginTop:"8px",padding:"6px 8px",backgroundColor:"#dcfce7",borderRadius:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(ns,{size:12}),n.jsxs("span",{children:[n.jsx("strong",{children:"Actual Check-out:"})," ",new Date(M.actualCheckOutTime).toLocaleString()]})]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Duration"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:[M.nights||1," night(s)"]})]})]})]}),n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(yj,{size:20,color:"#059669"}),"Payment Information"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#166534",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Total Amount"}),n.jsxs("div",{style:{fontSize:"20px",fontWeight:"600",color:"#166534"},children:["",M.totalPrice||0]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Base Amount"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:["",M.baseAmount||0]})]}),M.gstAmount>0&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"GST Amount"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:["",M.gstAmount]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"GST Details"}),n.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:Y(M)})]})]})]}),(M.specialRequests||M.notes||M.createdAt||M.documents)&&n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937"},children:"Additional Information"}),n.jsxs("div",{style:{display:"grid",gap:"16px"},children:[M.guestGstNumber&&M.guestGstNumber.startsWith("DOCS:")?(()=>{try{const le=M.guestGstNumber.substring(5),Qe=JSON.parse(le).documents;return n.jsxs("div",{style:{padding:"20px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[n.jsx("div",{style:{fontSize:"16px",color:"#334155",marginBottom:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:" Identity Documents"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:[Qe.panCard&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#dbeafe",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"4px"},children:"PAN Card"}),n.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:Qe.panCard.name})]})]}),Qe.panCard.data&&Qe.panCard.type.startsWith("image/")&&n.jsx("div",{style:{marginBottom:"12px"},children:n.jsx("img",{src:Qe.panCard.data,alt:"PAN Card",style:{width:"100%",maxHeight:"200px",objectFit:"contain",borderRadius:"6px",border:"1px solid #e2e8f0"}})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",fontSize:"12px",color:"#6b7280"},children:[n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Size: "}),(Qe.panCard.size/1024/1024).toFixed(2)," MB"]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Type: "}),Qe.panCard.type]})]}),n.jsx("div",{style:{marginTop:"12px",padding:"8px 12px",borderRadius:"6px",backgroundColor:"#f0fdf4",color:"#059669",fontSize:"12px",fontWeight:"500",textAlign:"center"},children:" Document Available"})]}),Qe.aadhaarCard&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#dbeafe",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"4px"},children:"Aadhaar Card"}),n.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:Qe.aadhaarCard.name})]})]}),Qe.aadhaarCard.data&&Qe.aadhaarCard.type.startsWith("image/")&&n.jsx("div",{style:{marginBottom:"12px"},children:n.jsx("img",{src:Qe.aadhaarCard.data,alt:"Aadhaar Card",style:{width:"100%",maxHeight:"200px",objectFit:"contain",borderRadius:"6px",border:"1px solid #e2e8f0"}})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",fontSize:"12px",color:"#6b7280"},children:[n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Size: "}),(Qe.aadhaarCard.size/1024/1024).toFixed(2)," MB"]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Type: "}),Qe.aadhaarCard.type]})]}),n.jsx("div",{style:{marginTop:"12px",padding:"8px 12px",borderRadius:"6px",backgroundColor:"#f0fdf4",color:"#059669",fontSize:"12px",fontWeight:"500",textAlign:"center"},children:" Document Available"})]})]})]})}catch(le){return n.jsxs("div",{style:{padding:"16px",backgroundColor:"#fee2e2",borderRadius:"8px",color:"#dc2626"},children:["Error parsing document data: ",le.message]})}})():n.jsx("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:n.jsx("div",{style:{fontSize:"14px",color:"#6b7280",textAlign:"center",fontStyle:"italic"},children:" No identity documents were uploaded for this booking"})}),M.specialRequests&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Special Requests"}),n.jsx("div",{style:{fontSize:"14px",color:"#1f2937"},children:M.specialRequests})]}),M.notes&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Notes"}),n.jsx("div",{style:{fontSize:"14px",color:"#1f2937"},children:M.notes})]}),M.createdAt&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Booking Created"}),n.jsx("div",{style:{fontSize:"14px",color:"#1f2937"},children:new Date(M.createdAt).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]}),n.jsx("div",{style:{padding:"24px",borderTop:"1px solid #e5e7eb",backgroundColor:"#f8fafc",borderRadius:"0 0 12px 12px",display:"flex",justifyContent:"flex-end",gap:"12px"},children:n.jsx("button",{onClick:()=>F(!1),style:{padding:"10px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:le=>le.target.style.backgroundColor="#4b5563",onMouseOut:le=>le.target.style.backgroundColor="#6b7280",children:"Close"})})]})}),S&&k&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"24px",maxWidth:"672px",width:"100%",margin:"16px",maxHeight:"80vh",overflowY:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",margin:0},children:["Time Slots for ",E]}),n.jsx("button",{onClick:()=>A(!1),style:{color:"#6b7280",backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"4px",borderRadius:"4px"},onMouseOver:le=>le.target.style.color="#374151",onMouseOut:le=>le.target.style.color="#6b7280",children:n.jsx(Op,{size:24})})]}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("p",{style:{fontSize:"14px",color:"#4b5563",margin:"4px 0"},children:["Room: ",Array.isArray(r)?(Ee=r.find(le=>le._id===y))==null?void 0:Ee.floor:"N/A"," - Room ",Array.isArray(r)?(Ve=r.find(le=>le._id===y))==null?void 0:Ve.roomNumber:"N/A"]}),n.jsxs("p",{style:{fontSize:"14px",color:"#4b5563",margin:"4px 0"},children:["Available Slots: ",k.availableSlots," / 24"]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:ee().map(le=>{const Ce=k.bookedSlots.includes(le.value);return n.jsxs("div",{style:{padding:"8px",textAlign:"center",borderRadius:"4px",fontSize:"14px",backgroundColor:Ce?"#fef2f2":"#f0fdf4",color:Ce?"#991b1b":"#166534",border:`1px solid ${Ce?"#fca5a5":"#bbf7d0"}`},children:[n.jsx("div",{style:{fontWeight:"500"},children:le.display}),n.jsx("div",{style:{fontSize:"12px"},children:Ce?"Booked":"Available"})]},le.value)})})]})})]}),n.jsx("style",{jsx:!0,children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},Dhe="https://hotelvirat.com/api/v1/hotel",Rhe=Mt.create({baseURL:Dhe,headers:{"Content-Type":"application/json"}}),Phe=()=>{const[e,t]=N.useState({totalCash:0,totalOnline:0,totalCollected:0,totalPending:0,bookingCount:0}),[r,a]=N.useState([]),[i,s]=N.useState(!0),[l,d]=N.useState(""),[u,h]=N.useState(""),[p,m]=N.useState(new Date().toISOString().split("T")[0]),[g,v]=N.useState(new Date().toISOString().split("T")[0]);N.useEffect(()=>{j()},[p,g]);const j=async()=>{s(!0),d("");try{const D=await Rhe.get(`/room-booking/payment-summary?startDate=${p}&endDate=${g}`);t(D.data.summary),a(D.data.bookings)}catch(D){console.error("Error fetching payment summary:",D),d("Failed to load payment data")}finally{s(!1)}},b=D=>D?new Date(D).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",y=D=>D?new Date(D).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",T=Array.isArray(r)?r.filter(D=>{var F,M,L;const B=u.toLowerCase();return((F=D.guestName)==null?void 0:F.toLowerCase().includes(B))||((M=D.roomNumber)==null?void 0:M.toLowerCase().includes(B))||((L=D.branchName)==null?void 0:L.toLowerCase().includes(B))}):[],E=()=>{const D=T.map(M=>({Room:M.roomNumber,"Guest Name":M.guestName,Branch:M.branchName,"Check-in":b(M.checkInDate),"Check-out":b(M.checkOutDate),"Total Amount":M.totalPrice,"Cash Paid":M.cashAmount,"Online Paid":M.onlineAmount,"Total Paid":M.amountPaid,Balance:M.totalPrice-M.amountPaid,Status:M.paymentStatus,"Booking Date":y(M.createdAt)})),B=jc.json_to_sheet(D),F=jc.book_new();jc.book_append_sheet(F,B,"Room Payments"),QP(F,`room-payments-${p}-to-${g}.xlsx`)},C=()=>{const D=new Date().toISOString().split("T")[0];m(D),v(D)},S=()=>{const D=new Date,B=new Date(D);B.setDate(D.getDate()-D.getDay()),m(B.toISOString().split("T")[0]),v(D.toISOString().split("T")[0])},A=()=>{const D=new Date,B=new Date(D.getFullYear(),D.getMonth(),1);m(B.toISOString().split("T")[0]),v(D.toISOString().split("T")[0])},k=()=>{const D=new Date,B=new Date(D.getFullYear(),0,1);m(B.toISOString().split("T")[0]),v(D.toISOString().split("T")[0])};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Room Payment Collections"}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-outline",onClick:j,children:[n.jsx(Pi,{size:16}),n.jsx("span",{children:"Refresh"})]}),n.jsxs("button",{className:"btn btn-primary",onClick:E,children:[n.jsx(ta,{size:16}),n.jsx("span",{children:"Export"})]})]})]}),n.jsx("div",{className:"filters-bar",style:{marginBottom:"20px"},children:n.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Br,{size:18}),n.jsx("input",{type:"date",value:p,onChange:D=>m(D.target.value),className:"filter-select"}),n.jsx("span",{children:"to"}),n.jsx("input",{type:"date",value:g,onChange:D=>v(D.target.value),className:"filter-select"})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{className:"btn btn-outline btn-sm",onClick:C,children:"Today"}),n.jsx("button",{className:"btn btn-outline btn-sm",onClick:S,children:"This Week"}),n.jsx("button",{className:"btn btn-outline btn-sm",onClick:A,children:"This Month"}),n.jsx("button",{className:"btn btn-outline btn-sm",onClick:k,children:"This Year"})]})]})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[n.jsxs("div",{style:{backgroundColor:"#f0fdf4",padding:"20px",borderRadius:"12px",border:"1px solid #bbf7d0"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx(KL,{size:24,color:"#16a34a"}),n.jsx("span",{style:{color:"#166534",fontWeight:"500"},children:"Cash Collection"})]}),n.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#16a34a"},children:["",e.totalCash.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),n.jsxs("div",{style:{backgroundColor:"#eff6ff",padding:"20px",borderRadius:"12px",border:"1px solid #bfdbfe"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx(Jn,{size:24,color:"#2563eb"}),n.jsx("span",{style:{color:"#1e40af",fontWeight:"500"},children:"Online Collection"})]}),n.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#2563eb"},children:["",e.totalOnline.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),n.jsxs("div",{style:{backgroundColor:"#faf5ff",padding:"20px",borderRadius:"12px",border:"1px solid #e9d5ff"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx(yj,{size:24,color:"#9333ea"}),n.jsx("span",{style:{color:"#6b21a8",fontWeight:"500"},children:"Total Collected"})]}),n.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#9333ea"},children:["",e.totalCollected.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),n.jsxs("div",{style:{backgroundColor:"#fef2f2",padding:"20px",borderRadius:"12px",border:"1px solid #fecaca"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx(Qt,{size:24,color:"#dc2626"}),n.jsx("span",{style:{color:"#991b1b",fontWeight:"500"},children:"Pending Amount"})]}),n.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#dc2626"},children:["",e.totalPending.toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by guest name, room number...",className:"search-input",value:u,onChange:D=>h(D.target.value)})]}),n.jsxs("div",{style:{color:"#6b7280",fontSize:"14px"},children:[T.length," booking(s) found"]})]}),l&&n.jsxs("div",{style:{padding:"15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx(Qt,{size:18}),l]}),n.jsx("div",{className:"data-card",children:i?n.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[n.jsx(Pi,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading payment data..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Room"}),n.jsx("th",{children:"Guest"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Check-in"}),n.jsx("th",{children:"Total"}),n.jsx("th",{children:" Cash"}),n.jsx("th",{children:" Online"}),n.jsx("th",{children:"Balance"})]})}),n.jsx("tbody",{children:T.length>0?T.map(D=>{var F,M,L;const B=D.totalPrice-D.amountPaid;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsx("strong",{children:D.roomNumber})}),n.jsx("td",{children:D.guestName}),n.jsx("td",{children:D.branchName}),n.jsx("td",{children:b(D.checkInDate)}),n.jsxs("td",{children:["",(F=D.totalPrice)==null?void 0:F.toFixed(2)]}),n.jsxs("td",{style:{color:"#16a34a",fontWeight:"500"},children:["",(M=D.cashAmount)==null?void 0:M.toFixed(2)]}),n.jsxs("td",{style:{color:"#2563eb",fontWeight:"500"},children:["",(L=D.onlineAmount)==null?void 0:L.toFixed(2)]}),n.jsx("td",{style:{color:B>0?"#dc2626":"#16a34a",fontWeight:"500"},children:B>0?`${B.toFixed(2)}`:" Paid"})]},D._id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:"No bookings found for the selected date range"})})})]})})]})},Mhe=({user:e,onClose:t,onSave:r,categories:a,isEditMode:i})=>{var b,y;const[s,l]=N.useState({name:(e==null?void 0:e.name)||"",username:(e==null?void 0:e.username)||"",password:"",categoryId:((b=e==null?void 0:e.categoryId)==null?void 0:b._id)||(e==null?void 0:e.categoryId)||"",categoryName:(e==null?void 0:e.categoryName)||"",branchId:((y=e==null?void 0:e.branchId)==null?void 0:y._id)||(e==null?void 0:e.branchId)||"",branchName:(e==null?void 0:e.branchName)||"",isActive:(e==null?void 0:e.isActive)!==!1}),[d,u]=N.useState(!1),[h,p]=N.useState(null),[m,g]=N.useState(!1),v=T=>{var k,D;const{name:E,value:C,type:S,checked:A}=T.target;if(E==="categoryId"){const B=a.find(F=>F._id===C);l({...s,categoryId:C,categoryName:(B==null?void 0:B.name)||"",branchId:(B==null?void 0:B.branchId)||((k=B==null?void 0:B.branch)==null?void 0:k._id)||"",branchName:((D=B==null?void 0:B.branch)==null?void 0:D.name)||""})}else l({...s,[E]:S==="checkbox"?A:C});p(null)},j=async T=>{T.preventDefault(),p(null),g(!0);try{if(!s.categoryId)throw new Error("Please select a category");if(!i&&!s.password)throw new Error("Password is required");await r(s,e==null?void 0:e._id),t()}catch(E){p(E.message||"Failed to save category access user")}finally{g(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:i?"Edit Category Access":"Add Category Access"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{className:"modal-body",children:[h&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626",padding:"10px",borderRadius:"4px",marginBottom:"15px"},children:h}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"categoryId",children:["Category ",n.jsx("span",{className:"required",children:"*"})]}),n.jsxs("select",{id:"categoryId",name:"categoryId",className:"form-select",value:s.categoryId,onChange:v,required:!0,disabled:m,children:[n.jsx("option",{value:"",children:"Select Category"}),a.map(T=>{var E;return n.jsxs("option",{value:T._id,children:[T.name," ",(E=T.branch)!=null&&E.name?`(${T.branch.name})`:""]},T._id)})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Staff Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:s.name,onChange:v,required:!0,disabled:m,placeholder:"Enter staff name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"username",children:["Username ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"username",name:"username",className:"form-input",value:s.username,onChange:v,required:!0,disabled:m,placeholder:"Enter username for login"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"password",children:["Password ",!i&&n.jsx("span",{className:"required",children:"*"})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("input",{type:d?"text":"password",id:"password",name:"password",className:"form-input",value:s.password,onChange:v,required:!i,disabled:m,placeholder:i?"Leave blank to keep current":"Enter password",style:{paddingRight:"40px"}}),n.jsx("button",{type:"button",onClick:()=>u(!d),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#6b7280"},children:d?n.jsx(ow,{size:18}):n.jsx(ji,{size:18})})]})]}),i&&n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"checkbox",name:"isActive",checked:s.isActive,onChange:v,disabled:m}),"Active"]})})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:m,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Saving...":i?"Update":"Add Access"})]})]})]})})},Bhe=({user:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error("Error deleting:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Category Access"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete access for ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Fhe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(!1),[u,h]=N.useState(null),[p,m]=N.useState(!1),[g,v]=N.useState(null),[j,b]=N.useState(""),[y,T]=N.useState(""),[E,C]=N.useState(!1),S="https://hotelvirat.com/api/v1/hotel/category-access",A="https://hotelvirat.com/api/v1/hotel/category",k=async()=>{try{const I=await fetch(A);if(!I.ok)throw new Error("Failed to fetch categories");const R=await I.json();let H=[];R&&R.success&&Array.isArray(R.data)?H=R.data:Array.isArray(R)&&(H=R),a(H)}catch(I){console.error("Error fetching categories:",I)}},D=async()=>{C(!0),T("");try{const I=await fetch(S);if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const R=await I.json();let H=[];R&&R.success&&Array.isArray(R.data)?H=R.data:Array.isArray(R)?H=R:R&&R.message&&R.message.includes("routes working")?(console.log(" Server returning placeholder response:",R.message),H=[]):(console.error("Expected array but got:",R),H=[]),t(H)}catch(I){console.error("Fetch error:",I),T(`Failed to fetch category access users: ${I.message}`),t([])}finally{C(!1)}};N.useEffect(()=>{k(),D()},[]);const B=()=>{h(null),d(!0)},F=I=>{h(I),d(!0)},M=I=>{v(I),m(!0)},L=async(I,R)=>{try{const H=R?`${S}/${R}`:S,V=R?"PUT":"POST",he={...I};R&&!he.password&&delete he.password;const U=await fetch(H,{method:V,headers:{"Content-Type":"application/json"},body:JSON.stringify(he)}),Y=await U.json();if(!U.ok)throw new Error(Y.message||"Failed to save");b(`Category access ${R?"updated":"added"} successfully`),setTimeout(()=>b(""),3e3),await D()}catch(H){throw new Error(H.message)}},O=async I=>{try{const R=await fetch(`${S}/${I}`,{method:"DELETE"}),H=await R.json();if(!R.ok)throw new Error(H.message||"Failed to delete");b("Category access deleted successfully"),setTimeout(()=>b(""),3e3),await D()}catch(R){T(R.message),setTimeout(()=>T(""),3e3)}},W=I=>I?new Date(I).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"N/A",P=e.filter(I=>{var R,H,V;return((R=I.name)==null?void 0:R.toLowerCase().includes(i.toLowerCase()))||((H=I.username)==null?void 0:H.toLowerCase().includes(i.toLowerCase()))||((V=I.categoryName)==null?void 0:V.toLowerCase().includes(i.toLowerCase()))});return n.jsxs("div",{className:"category-access-page",children:[j&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),children:""})]}),y&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:y}),n.jsx("button",{onClick:()=>T(""),style:{color:"#dc2626"},children:""})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Category Access"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:B,disabled:E,children:[n.jsx(Zc,{size:16}),n.jsx("span",{children:"Add Category Access"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by name, username or category...",className:"search-input",value:i,onChange:I=>s(I.target.value)})]})}),n.jsx("div",{className:"data-card",children:E?n.jsx("div",{className:"empty-state",children:"Loading..."}):P.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No category access users found. ",i?"Try a different search.":"Add a new user to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Username"}),n.jsx("th",{children:"Category"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Created"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:P.map(I=>{var R,H;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:(R=I.name)==null?void 0:R.charAt(0).toUpperCase()}),I.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(F3,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),I.username]})}),n.jsx("td",{children:I.categoryName||((H=I.categoryId)==null?void 0:H.name)||"N/A"}),n.jsx("td",{children:n.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:I.isActive?"#dcfce7":"#fee2e2",color:I.isActive?"#166534":"#dc2626"},children:I.isActive?"Active":"Inactive"})}),n.jsx("td",{children:W(I.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>F(I),disabled:E,children:n.jsx(ra,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>M(I),disabled:E,children:n.jsx(fa,{size:14})})]})})]},I._id)})})]})}),l&&n.jsx(Mhe,{user:u,onClose:()=>d(!1),onSave:L,categories:r,isEditMode:!!u}),p&&n.jsx(Bhe,{user:g,onClose:()=>m(!1),onConfirm:O})]})},Lhe=()=>{const e=nn(),[t,r]=N.useState(null),[a,i]=N.useState([]),[s,l]=N.useState([]),[d,u]=N.useState(!0),[h,p]=N.useState(""),[m,g]=N.useState(""),[v,j]=N.useState(""),[b,y]=N.useState("all"),[T,E]=N.useState(!1),[C,S]=N.useState(null);N.useEffect(()=>{const I=localStorage.getItem("userType"),R=localStorage.getItem("categoryStaffData");if(I!=="category-staff"||!R){e("/login");return}const H=JSON.parse(R);console.log(" CategoryOrders - Staff Data:",H),console.log(" CategoryOrders - Category Name:",`"${H.categoryName}"`),console.log(" CategoryOrders - Category ID:",H.categoryId),r(H)},[e]),N.useEffect(()=>{t&&k()},[t,b]);const A=I=>{var z,ee,q,Q,ae;const R=((z=I.categoryName)==null?void 0:z.toLowerCase())||"",H=((ee=I.branchName)==null?void 0:ee.toLowerCase())||"",V=((q=I.customerName)==null?void 0:q.toLowerCase())||"",he=((Q=I.deliveryOption)==null?void 0:Q.toLowerCase())||"",U=((ae=I.tableNumber)==null?void 0:ae.toString().toLowerCase())||"",Y=(I.orderId||I.orderNumber||I._id||"").toLowerCase();return Y.includes("-tm-")||Y.includes("temple")?"Temple Meals":Y.includes("-ss-")||Y.includes("counter")?"Self Service":Y.includes("-res-")?"Restaurant":R.includes("temple")||R.includes("prasad")||R.includes("pooja")||H.includes("temple")||V.includes("temple")?"Temple Meals":R.includes("self")||R.includes("counter")||U.includes("counter")||U.includes("self")||U.includes("mobile order")||he==="pickup"?"Self Service":"Restaurant"},k=async()=>{if(t!=null&&t.categoryId){u(!0),p("");try{const I=t.categoryId._id||t.categoryId,R=Date.now();console.log(" CategoryOrders - Fetching orders for category:",t.categoryName),console.log(" CategoryOrders - Category ID:",I),console.log(" CategoryOrders - Staff Category Name (exact):",`"${t.categoryName}"`),console.log(" CategoryOrders - Staff Category Name (lowercase):",`"${t.categoryName.toLowerCase().trim()}"`);const[H,V]=await Promise.all([nr(`/staff-order?_t=${R}`,{},!0).catch(()=>[]),nr(`/order?limit=1000&_t=${R}`,{},!0).catch(()=>[])]);let he=[];try{const Z=await nr(`/counter-order/orders?_t=${R}`,{},!0).catch(()=>[]);he=Array.isArray(Z)?Z:Z.orders||[]}catch(Z){console.log("Additional orders fetch failed:",Z)}const U=Array.isArray(H)?H:H.orders||[],Y=Array.isArray(V)?V:V.data||[];console.log(" CategoryOrders - Raw API responses:",{staffOrdersCount:U.length,onlineOrdersCount:Y.length,sampleOnlineOrder:Y[0]||"No online orders",additionalOrdersCount:he.length}),Y.length>0&&(console.log(" CategoryOrders - First 3 online orders structure:"),Y.slice(0,3).forEach((Z,ge)=>{var je,pe;console.log(`  Order ${ge+1}:`,{id:Z._id,orderId:Z.orderId||Z.orderNumber,categoryName:Z.categoryName,name:Z.name,deliveryOption:Z.deliveryOption,createdAt:Z.createdAt,items:((je=Z.items)==null?void 0:je.length)||0,itemsDetails:((pe=Z.items)==null?void 0:pe.map(Je=>({name:Je.name||Je.itemName,quantity:Je.quantity,price:Je.price,categoryId:Je.categoryId,categoryName:Je.categoryName,fullItemStructure:Je})))||[]})}));const z=Y.map(Z=>{var Je,Ee;let ge="Restaurant";const je=(Z.orderId||Z.orderNumber||Z._id||"").toLowerCase();if(je.includes("-tm-")||je.includes("temple")?ge="Temple Meals":je.includes("-ss-")||je.includes("counter")?ge="Self Service":je.includes("-res-")&&(ge="Restaurant"),Z.items&&Z.items.length>0){const Ve=Z.items.map(le=>le.categoryId).filter(Boolean);if(Ve.length>0){const le={};Ve.forEach(re=>{le[re]=(le[re]||0)+1});const Ce=Object.keys(le).reduce((re,ce)=>le[re]>le[ce]?re:ce),Qe={"692fe2788b36a58df247e06f":"Restaurant","692fe2978b36a58df247e072":"Self Service","692fe2ae8b36a58df247e075":"Temple Meals"};Qe[Ce]&&(ge=Qe[Ce])}}const pe={...Z,customerName:Z.name||Z.customerName||"Mobile User",customerMobile:Z.phone||Z.customerMobile||Z.customerPhone,tableNumber:Z.tableNumber||"Mobile Order",branchName:((Je=Z.branchId)==null?void 0:Je.name)||Z.branchName||"Hotel Virat",grandTotal:Z.total||Z.grandTotal||Z.totalAmount,status:Z.status||"pending",items:Z.items||[],categoryName:ge};return console.log("DEBUG - Transformed online order:",{orderId:pe.orderId||pe.orderNumber||pe._id,originalCategoryName:Z.categoryName,assignedCategoryName:pe.categoryName,hasDeliveryAddress:!!Z.deliveryAddress,deliveryOption:Z.deliveryOption,tableNumber:pe.tableNumber,orderSource:Z.orderSource,itemCategoryIds:((Ee=Z.items)==null?void 0:Ee.map(Ve=>Ve.categoryId))||[]}),pe}),q=[...U,...z,...he].filter((Z,ge,je)=>{const pe=Z.orderId||Z.orderNumber||Z._id;return ge===je.findIndex(Je=>(Je.orderId||Je.orderNumber||Je._id)===pe)});console.log(" CategoryOrders - All unique orders before filtering:",{totalOrders:q.length,orderIds:q.map(Z=>Z.orderId||Z.orderNumber||Z._id).slice(0,10),sampleOrderDetails:q.slice(0,3).map(Z=>{var ge;return{id:Z.orderId||Z.orderNumber||Z._id,categoryName:Z.categoryName,items:((ge=Z.items)==null?void 0:ge.map(je=>({name:je.name,categoryId:je.categoryId,categoryName:je.categoryName})))||[]}})});const Q=q.filter(Z=>{var Ve,le,Ce,Qe,re,ce,J,oe,te,Se;const ge=Z.orderId||Z.orderNumber||Z._id||"UNKNOWN";if(!ge||ge==="UNKNOWN")return!1;const je=((Ve=Z.categoryName)==null?void 0:Ve.toLowerCase().trim())||"",pe=t.categoryName.toLowerCase().trim(),Je=ge.toLowerCase();if(console.log(` CategoryOrders - Filtering order ${ge}:`,{orderCategoryName:je,staffCategoryName:pe,orderIdLower:Je,orderSource:Z.orderSource,hasItems:!!((le=Z.items)!=null&&le.length),itemsCount:((Ce=Z.items)==null?void 0:Ce.length)||0,firstItemCategoryId:(re=(Qe=Z.items)==null?void 0:Qe[0])==null?void 0:re.categoryId,firstItemCategoryName:((J=(ce=Z.items)==null?void 0:ce[0])==null?void 0:J.categoryName)||((Se=(te=(oe=Z.items)==null?void 0:oe[0])==null?void 0:te.categoryId)==null?void 0:Se.name)}),je&&je!==""&&(je===pe||je.replace(/\s+/g,"")===pe.replace(/\s+/g,"")))return console.log(` CategoryOrders - Order ${ge} matched by category name`),!0;if((pe.includes("self")||pe.includes("service"))&&(Je.includes("-ss-")||Je.includes("counter")))return console.log(` CategoryOrders - Order ${ge} matched Self Service by ID pattern`),!0;if((pe.includes("temple")||pe.includes("meal"))&&(Je.includes("-tm-")||Je.includes("temple")))return console.log(` CategoryOrders - Order ${ge} matched Temple Meals by ID pattern`),!0;if(pe.includes("restaurant")&&Je.includes("-res-"))return console.log(` CategoryOrders - Order ${ge} matched Restaurant by ID pattern`),!0;if(Z.items&&Array.isArray(Z.items)&&Z.items.some(Xe=>{var _e,rt;const Ue=((_e=Xe.categoryId)==null?void 0:_e._id)||Xe.categoryId,dt=((rt=Xe.categoryId)==null?void 0:rt.name)||Xe.categoryName;if(Ue===I)return console.log(` CategoryOrders - Order ${ge} matched by item categoryId: ${Ue}`),!0;if(dt){const Ot=dt.toLowerCase().trim();if(Ot===pe||Ot.replace(/\s+/g,"")===pe.replace(/\s+/g,""))return console.log(` CategoryOrders - Order ${ge} matched by item categoryName: ${dt}`),!0}return!1}))return!0;const Ee=A(Z);return Ee&&Ee.toLowerCase().trim()===pe?(console.log(` CategoryOrders - Order ${ge} matched by determined category: ${Ee}`),!0):(console.log(` CategoryOrders - Order ${ge} did not match any criteria`),!1)});console.log(" CategoryOrders - Filtering summary:",{totalUniqueOrders:q.length,categoryOrdersFound:Q.length,staffCategoryName:t.categoryName,categoryOrderIds:Q.map(Z=>Z.orderId||Z.orderNumber||Z._id).slice(0,5)});let ae=Q;Q.length===0&&q.length>0&&(console.log(" CategoryOrders - No category orders found, showing all orders for debugging"),ae=q);let de=ae;b!=="all"&&(de=de.filter(Z=>Z.status===b));const xe=de.filter(Z=>Z.orderId||Z.orderNumber||Z._id).sort((Z,ge)=>{const je=new Date(Z.orderTime||Z.createdAt||0);return new Date(ge.orderTime||ge.createdAt||0)-je}).map((Z,ge)=>{var je,pe;return{id:Z._id||`temp-id-${ge}`,orderId:Z.orderId||Z.orderNumber||`UNKNOWN-${ge}`,customer:Z.isGuestOrder?Z.customerName:((je=Z.userId)==null?void 0:je.name)||"Unknown",customerType:Z.isGuestOrder?"Guest":"Staff",customerMobile:Z.isGuestOrder?Z.customerMobile:((pe=Z.userId)==null?void 0:pe.mobile)||"N/A",date:new Date(Z.orderTime||Z.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),branch:Z.branchName||"Unknown Branch",tableNumber:Z.tableNumber||"N/A",peopleCount:Z.peopleCount||0,items:(()=>{var ce;if(!Z.items||!Array.isArray(Z.items))return[];if(Q.length===0&&q.length>0)return console.log(" CategoryOrders - Debug mode: showing all items for order",Z.orderId||Z.orderNumber||Z._id),Z.items;const Je=Z.orderId||Z.orderNumber||Z._id||"",Ee=((ce=Z.categoryName)==null?void 0:ce.toLowerCase().trim())||"",Ve=t.categoryName.toLowerCase().trim(),le=Je.toLowerCase(),Ce=Ee===Ve||Ee.replace(/\s+/g,"")===Ve.replace(/\s+/g,""),Qe=Ve.includes("restaurant")&&le.includes("-res-")||Ve.includes("self")&&(le.includes("-ss-")||le.includes("counter"))||Ve.includes("temple")&&(le.includes("-tm-")||le.includes("temple"));if(Ce||Qe)return console.log(` CategoryOrders - Order ${Je} matched by name/pattern, showing all ${Z.items.length} items`),Z.items;const re=Z.items.filter(J=>{var Se,Ge;const oe=((Se=J.categoryId)==null?void 0:Se._id)||J.categoryId,te=((Ge=J.categoryId)==null?void 0:Ge.name)||J.categoryName;if(console.log(" CategoryOrders - Filtering item:",{itemName:J.name||J.itemName,itemCategoryId:oe,itemCategoryName:te,targetCategoryId:I,targetCategoryName:t.categoryName,fullItem:J}),oe===I)return console.log(` CategoryOrders - Item matched by categoryId: ${J.name||J.itemName}`),!0;if(te){const Xe=te.toLowerCase().trim(),Ue=t.categoryName.toLowerCase().trim();if(Xe===Ue||Xe.replace(/\s+/g,"")===Ue.replace(/\s+/g,""))return console.log(` CategoryOrders - Item matched by categoryName: ${J.name||J.itemName}`),!0}return console.log(` CategoryOrders - Item did not match: ${J.name||J.itemName}`),!1});return console.log(` CategoryOrders - Order ${Je} item filtering: ${re.length}/${Z.items.length} items matched`),re})(),allItems:Z.items||[],status:Z.status||"pending",paymentStatus:Z.paymentStatus||"pending",grandTotal:Z.grandTotal||0,originalOrder:Z,sortDate:new Date(Z.orderTime||Z.createdAt||0)}});i(xe)}catch(I){console.error("Error fetching orders:",I),p("Failed to load orders. Please try again.")}finally{u(!1)}}};N.useEffect(()=>{const I=a.filter(R=>{var V,he,U;if(!v.trim())return!0;const H=v.trim().toLowerCase();return((V=R.orderId)==null?void 0:V.toLowerCase().includes(H))||((he=R.tableNumber)==null?void 0:he.toLowerCase().includes(H))||((U=R.customer)==null?void 0:U.toLowerCase().includes(H))});l(I)},[a,v]);const D=I=>{S(I),E(!0)},B=async(I,R)=>{var H,V;try{const he=I.tableNumber==="Mobile Order"||((H=I.originalOrder)==null?void 0:H.tableNumber)==="Mobile Order",Y=((V=I.originalOrder)==null?void 0:V.isGuestOrder)!==void 0&&!he?`/staff-order/${I.id}/payment-status`:`/order/${I.id}/payment-status`;console.log(" Payment Status Update:",{orderId:I.orderId,endpoint:Y,newPaymentStatus:R}),await nr(Y,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentStatus:R})}),g(`Order ${I.orderId} payment status updated to ${R}`),setTimeout(()=>g(""),3e3),k()}catch(he){console.error("Error updating payment status:",he),p("Failed to update payment status"),setTimeout(()=>p(""),3e3)}},F=async(I,R)=>{var H,V;try{const he=I.tableNumber==="Mobile Order"||((H=I.originalOrder)==null?void 0:H.tableNumber)==="Mobile Order",U=((V=I.originalOrder)==null?void 0:V.isGuestOrder)!==void 0&&!he;console.log(" Status Update Debug:",{orderId:I.orderId,tableNumber:I.tableNumber,isMobileOrder:he,isActualStaffOrder:U,originalOrder:!!I.originalOrder});const Y=U?`/staff-order/${I.id}/status`:`/order/${I.id}/status`;let z=R;U||R==="served"&&(z="delivered"),console.log(" Status Update:",{endpoint:Y,statusToSend:z,originalStatus:R}),await nr(Y,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:z})}),g(`Order ${I.orderId} status updated to ${R}`),setTimeout(()=>g(""),3e3),k()}catch(he){console.error("Error updating status:",he),p("Failed to update order status"),setTimeout(()=>p(""),3e3)}},M=I=>{const H=I.items.reduce((he,U)=>he+U.price*U.quantity,0),V=window.open("","_blank","width=302,height=600");V.document.write(`
      <html>
        <head>
          <title>Bill</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            @page { 
              size: 80mm auto; 
              margin: 0; 
            }
            @media print {
              html, body { 
                width: 80mm; 
                margin: 0; 
                padding: 0;
              }
            }
            body {
              font-family: 'Courier New', Courier, monospace;
              font-size: 11px;
              width: 72mm;
              padding: 3mm;
              line-height: 1.3;
            }
            .center { text-align: center; }
            .right { text-align: right; }
            .bold { font-weight: bold; }
            .line { border-top: 1px dashed #000; margin: 4px 0; }
            .double-line { border-top: 1px solid #000; border-bottom: 1px solid #000; height: 3px; margin: 4px 0; }
            table { width: 100%; border-collapse: collapse; }
            td { padding: 1px 0; vertical-align: top; }
            .item-name { width: 45%; }
            .item-qty { width: 15%; text-align: center; }
            .item-price { width: 40%; text-align: right; }
            h2 { margin: 3px 0; font-size: 14px; }
            p { margin: 2px 0; }
            .footer { margin-top: 8px; font-size: 10px; }
            .total-row { font-size: 13px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="center">
            <h2>HOTEL VIRAT</h2>
            <p>${t.categoryName}</p>
          </div>
          <div class="line"></div>
          
          <p><strong>Bill No:</strong> ${I.orderId}</p>
          <p><strong>Date:</strong> ${I.date}</p>
          <p><strong>Customer:</strong> ${I.customer}</p>
          ${I.tableNumber!=="N/A"?`<p><strong>Table:</strong> ${I.tableNumber}</p>`:""}
          
          <div class="double-line"></div>
          
          <table>
            <tr class="bold">
              <td class="item-name">Item</td>
              <td class="item-qty">Qty</td>
              <td class="item-price">Amount</td>
            </tr>
          </table>
          
          <div class="line"></div>
          
          <table>
            ${I.items.map(he=>`
              <tr>
                <td class="item-name">${he.name}</td>
                <td class="item-qty">${he.quantity}</td>
                <td class="item-price">${he.price*he.quantity}</td>
              </tr>
            `).join("")}
          </table>
          
          <div class="line"></div>
          
          <div class="double-line"></div>
          
          <table>
            <tr class="bold total-row">
              <td>TOTAL</td>
              <td class="right">${H}</td>
            </tr>
          </table>
          
          <div class="double-line"></div>
          
          <div class="center footer">
            <p class="bold">Thank you for your visit!</p>
            <p>Please visit again</p>
            <p>---</p>
          </div>
        </body>
      </html>
    `),V.document.close(),V.focus(),setTimeout(()=>{V.print(),V.close()},250)},L=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userType"),localStorage.removeItem("categoryStaffData"),e("/login")},O=I=>{var H;const R=(H=I.status)==null?void 0:H.toLowerCase();return R==="pending"||R==="confirmed"},W=I=>{var R;return((R=I.status)==null?void 0:R.toLowerCase())==="preparing"},P=I=>{var H;const R=(H=I.status)==null?void 0:H.toLowerCase();return["served","completed","delivered","out for delivery"].includes(R)};return t?n.jsxs("div",{style:{padding:"20px",maxWidth:"1400px",margin:"0 auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",padding:"15px 20px",backgroundColor:"#4f46e5",borderRadius:"8px",color:"white"},children:[n.jsxs("div",{children:[n.jsx("h1",{style:{margin:0,fontSize:"24px"},children:"Category Orders"}),n.jsxs("p",{style:{margin:"5px 0 0",opacity:.9},children:[t.name," - ",t.categoryName]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("button",{onClick:k,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},children:[n.jsx(Pi,{size:16})," Refresh"]}),n.jsxs("button",{onClick:L,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#dc2626",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},children:[n.jsx(Bp,{size:16})," Logout"]})]})]}),m&&n.jsxs("div",{className:"success-message",children:[n.jsx(Rn,{size:16}),n.jsx("span",{children:m}),n.jsx("button",{onClick:()=>g(""),children:n.jsx(Hn,{size:16})})]}),!d&&n.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#f0f9ff",color:"#0369a1",borderRadius:"6px",marginBottom:"20px",fontSize:"14px",fontWeight:"500",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("span",{children:["Found ",s.length," order",s.length!==1?"s":""," for ",t.categoryName]}),s.length>10&&n.jsx("span",{style:{fontSize:"12px",opacity:.8},children:" Scroll down to see more orders"})]}),n.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap",alignItems:"center"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:"250px"},children:[n.jsx(lr,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),n.jsx("input",{type:"text",placeholder:"Search by order ID, table, or customer...",value:v,onChange:I=>j(I.target.value),style:{width:"100%",padding:"10px 10px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"}})]}),n.jsxs("select",{value:b,onChange:I=>y(I.target.value),style:{padding:"10px 15px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",minWidth:"150px"},children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"preparing",children:"Preparing"}),n.jsx("option",{value:"served",children:"Served"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),h&&n.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:h})]}),n.jsx("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"auto",maxHeight:"60vh"},children:d?n.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[n.jsx(la,{size:24,className:"animate-spin",style:{margin:"0 auto 10px"}}),n.jsx("p",{children:"Loading orders..."})]}):n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"#f9fafb",zIndex:10},children:n.jsxs("tr",{children:[n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Order ID"}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Customer"}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Table"}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Date"}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Payment"}),n.jsxs("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:["Items (",t.categoryName,")"]}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Actions"})]})}),n.jsx("tbody",{children:s.length>0?s.map(I=>n.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[n.jsx("td",{style:{padding:"12px 16px"},children:I.orderId}),n.jsx("td",{style:{padding:"12px 16px"},children:I.customer}),n.jsx("td",{style:{padding:"12px 16px"},children:I.tableNumber}),n.jsx("td",{style:{padding:"12px 16px"},children:I.date}),n.jsx("td",{style:{padding:"8px 12px"},children:n.jsxs("select",{value:I.paymentStatus||"pending",onChange:R=>B(I,R.target.value),style:{padding:"4px 8px",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"12px",backgroundColor:I.paymentStatus==="completed"?"#d1fae5":I.paymentStatus==="failed"?"#fee2e2":I.paymentStatus==="refunded"?"#e0e7ff":"#fef3c7",color:I.paymentStatus==="completed"?"#065f46":I.paymentStatus==="failed"?"#991b1b":I.paymentStatus==="refunded"?"#5b21b6":"#92400e",cursor:"pointer"},children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})}),n.jsx("td",{style:{padding:"12px 16px"},children:I.items.length===0?n.jsxs("div",{style:{fontSize:"13px",color:"#6b7280",fontStyle:"italic"},children:["No ",t.categoryName," items"]}):I.items.map((R,H)=>(console.log(` CategoryOrders - Rendering item ${H}:`,{name:R.name,quantity:R.quantity,price:R.price,categoryId:R.categoryId,categoryName:R.categoryName,fullItem:R}),n.jsxs("div",{style:{fontSize:"13px"},children:[R.name||R.itemName||"Unknown Item"," x ",R.quantity||1]},H)))}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>D(I),style:{padding:"5px 10px",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"View"}),O(I)&&n.jsx("button",{onClick:()=>F(I,"preparing"),style:{padding:"5px 10px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Preparing"}),W(I)&&n.jsx("button",{onClick:()=>F(I,"served"),style:{padding:"5px 10px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Served"}),P(I)&&n.jsxs("button",{onClick:()=>M(I),style:{padding:"5px 10px",backgroundColor:"#6366f1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Va,{size:12})," Print"]})]})})]},I.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"7",style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:"No orders found for your category"})})})]})}),T&&C&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("h3",{style:{margin:0},children:["Order Details - ",C.orderId]}),n.jsx("button",{onClick:()=>E(!1),style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px"},children:""})]}),n.jsxs("div",{style:{padding:"20px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Customer:"})," ",C.customer]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Type:"})," ",C.customerType]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Mobile:"})," ",C.customerMobile]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Table:"})," ",C.tableNumber]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Date:"})," ",C.date]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Branch:"})," ",C.branch]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textAlign:"center",minWidth:"60px",backgroundColor:C.status==="completed"?"#d1fae5":C.status==="preparing"?"#dbeafe":C.status==="served"?"#e0e7ff":C.status==="cancelled"?"#fee2e2":"#fef3c7",color:C.status==="completed"?"#065f46":C.status==="preparing"?"#1e40af":C.status==="served"?"#5b21b6":C.status==="cancelled"?"#991b1b":"#92400e",border:"1px solid "+(C.status==="completed"?"#10b981":C.status==="preparing"?"#3b82f6":C.status==="served"?"#8b5cf6":C.status==="cancelled"?"#ef4444":"#f59e0b")},children:C.status?C.status.charAt(0).toUpperCase()+C.status.slice(1):"Pending"})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Payment:"})," ",n.jsx("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textAlign:"center",minWidth:"60px",backgroundColor:C.paymentStatus==="completed"?"#d1fae5":C.paymentStatus==="failed"?"#fee2e2":C.paymentStatus==="refunded"?"#e0e7ff":"#fef3c7",color:C.paymentStatus==="completed"?"#065f46":C.paymentStatus==="failed"?"#991b1b":C.paymentStatus==="refunded"?"#5b21b6":"#92400e",border:"1px solid "+(C.paymentStatus==="completed"?"#10b981":C.paymentStatus==="failed"?"#ef4444":C.paymentStatus==="refunded"?"#8b5cf6":"#f59e0b")},children:C.paymentStatus?C.paymentStatus.charAt(0).toUpperCase()+C.paymentStatus.slice(1):"Pending"})]})]}),n.jsxs("h4",{style:{marginBottom:"10px"},children:["Items from ",t.categoryName,":"]}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"15px"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"#f9fafb"},children:[n.jsx("th",{style:{padding:"10px",textAlign:"left",border:"1px solid #e5e7eb"},children:"Item"}),n.jsx("th",{style:{padding:"10px",textAlign:"center",border:"1px solid #e5e7eb"},children:"Qty"}),n.jsx("th",{style:{padding:"10px",textAlign:"right",border:"1px solid #e5e7eb"},children:"Price"})]})}),n.jsx("tbody",{children:C.items.map((I,R)=>n.jsxs("tr",{children:[n.jsx("td",{style:{padding:"10px",border:"1px solid #e5e7eb"},children:I.name}),n.jsx("td",{style:{padding:"10px",textAlign:"center",border:"1px solid #e5e7eb"},children:I.quantity}),n.jsxs("td",{style:{padding:"10px",textAlign:"right",border:"1px solid #e5e7eb"},children:["",(I.price*I.quantity).toFixed(2)]})]},R))})]})]}),n.jsxs("div",{style:{padding:"16px 20px",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[O(C)&&n.jsx("button",{onClick:()=>{F(C,"preparing"),E(!1)},style:{padding:"8px 16px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Mark Preparing"}),W(C)&&n.jsx("button",{onClick:()=>{F(C,"served"),E(!1)},style:{padding:"8px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Mark Served"}),P(C)&&n.jsxs("button",{onClick:()=>M(C),style:{padding:"8px 16px",backgroundColor:"#6366f1",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Va,{size:16})," Print Bill"]})]}),n.jsx("button",{onClick:()=>E(!1),style:{padding:"8px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Close"})]})]})})]}):n.jsx("div",{className:"loading-container",children:n.jsx(la,{size:24,className:"animate-spin"})})},$he=`
  .status-badge {
    display: inline-block;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
    text-transform: capitalize;
    min-width: 60px;
    text-align: center;
  }
  
  .status-badge.pending {
    background: #fef3c7;
    color: #92400e;
    border: 1px solid #f59e0b;
  }
  
  .status-badge.preparing {
    background: #dbeafe;
    color: #1e40af;
    border: 1px solid #3b82f6;
  }
  
  .status-badge.served {
    background: #e0e7ff;
    color: #5b21b6;
    border: 1px solid #8b5cf6;
  }
  
  .status-badge.completed {
    background: #d1fae5;
    color: #065f46;
    border: 1px solid #10b981;
  }
  
  .status-badge.cancelled {
    background: #fee2e2;
    color: #991b1b;
    border: 1px solid #ef4444;
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.type="text/css",e.innerText=$he,document.head.appendChild(e)}const zhe=({user:e,onClose:t,onSave:r,branches:a,isEditMode:i})=>{const[s,l]=N.useState({name:(e==null?void 0:e.name)||"",username:(e==null?void 0:e.username)||"",password:"",branchId:(e==null?void 0:e.branchId)||"",branchName:(e==null?void 0:e.branchName)||"",isActive:(e==null?void 0:e.isActive)!==!1}),[d,u]=N.useState(!1),[h,p]=N.useState(null),[m,g]=N.useState(!1),v=b=>{const{name:y,value:T,type:E,checked:C}=b.target;if(y==="branchId"){const S=a.find(A=>A._id===T);l({...s,branchId:T,branchName:(S==null?void 0:S.name)||""})}else l({...s,[y]:E==="checkbox"?C:T});p(null)},j=async b=>{b.preventDefault(),p(null),g(!0);try{if(!i&&!s.password)throw new Error("Password is required");await r(s,e==null?void 0:e._id),t()}catch(y){p(y.message||"Failed to save receptionist")}finally{g(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:i?"Edit Receptionist":"Add Receptionist"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{className:"modal-body",children:[h&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626",padding:"10px",borderRadius:"4px",marginBottom:"15px"},children:h}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"branchId",children:"Branch"}),n.jsxs("select",{id:"branchId",name:"branchId",className:"form-select",value:s.branchId,onChange:v,disabled:m,children:[n.jsx("option",{value:"",children:"All Branches"}),a.map(b=>n.jsx("option",{value:b._id,children:b.name},b._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Receptionist Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:s.name,onChange:v,required:!0,disabled:m,placeholder:"Enter receptionist name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"username",children:["Username ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"username",name:"username",className:"form-input",value:s.username,onChange:v,required:!0,disabled:m,placeholder:"Enter username for login"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"password",children:["Password ",!i&&n.jsx("span",{className:"required",children:"*"})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("input",{type:d?"text":"password",id:"password",name:"password",className:"form-input",value:s.password,onChange:v,required:!i,disabled:m,placeholder:i?"Leave blank to keep current":"Enter password",style:{paddingRight:"40px"}}),n.jsx("button",{type:"button",onClick:()=>u(!d),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#6b7280"},children:d?n.jsx(ow,{size:18}):n.jsx(ji,{size:18})})]})]}),i&&n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"checkbox",name:"isActive",checked:s.isActive,onChange:v,disabled:m}),"Active"]})})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:m,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Saving...":i?"Update":"Add Receptionist"})]})]})]})})},Uhe=({user:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error("Error deleting:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Receptionist"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},qhe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(!1),[u,h]=N.useState(null),[p,m]=N.useState(!1),[g,v]=N.useState(null),[j,b]=N.useState(""),[y,T]=N.useState(""),[E,C]=N.useState(!1),S="https://hotelvirat.com/api/v1/hotel/receptionist-access",A="https://hotelvirat.com/api/v1/hotel/branch",k=async()=>{try{const I=await fetch(A);if(!I.ok)throw new Error("Failed to fetch branches");const R=await I.json();a(Array.isArray(R)?R:[])}catch(I){console.error("Error fetching branches:",I)}},D=async()=>{C(!0),T("");try{const I=await fetch(S);if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const R=await I.json();let H=[];R.success&&Array.isArray(R.data)?H=R.data:Array.isArray(R)?H=R:R.message&&R.message.includes("routes working")&&(H=[]),t(H)}catch(I){console.error("Fetch error:",I),T(`Failed to fetch receptionists: ${I.message}`),t([])}finally{C(!1)}};N.useEffect(()=>{k(),D()},[]);const B=()=>{h(null),d(!0)},F=I=>{h(I),d(!0)},M=I=>{v(I),m(!0)},L=async(I,R)=>{try{const H=R?`${S}/${R}`:S,V=R?"PUT":"POST",he={...I};R&&!he.password&&delete he.password;const U=await fetch(H,{method:V,headers:{"Content-Type":"application/json"},body:JSON.stringify(he)}),Y=await U.json();if(!U.ok)throw new Error(Y.message||"Failed to save");b(`Receptionist ${R?"updated":"added"} successfully`),setTimeout(()=>b(""),3e3),await D()}catch(H){throw new Error(H.message)}},O=async I=>{try{const R=await fetch(`${S}/${I}`,{method:"DELETE"}),H=await R.json();if(!R.ok)throw new Error(H.message||"Failed to delete");b("Receptionist deleted successfully"),setTimeout(()=>b(""),3e3),await D()}catch(R){T(R.message),setTimeout(()=>T(""),3e3)}},W=I=>I?new Date(I).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"N/A",P=e.filter(I=>{var R,H,V;return((R=I.name)==null?void 0:R.toLowerCase().includes(i.toLowerCase()))||((H=I.username)==null?void 0:H.toLowerCase().includes(i.toLowerCase()))||((V=I.branchName)==null?void 0:V.toLowerCase().includes(i.toLowerCase()))});return n.jsxs("div",{className:"receptionist-access-page",children:[j&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),children:""})]}),y&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:y}),n.jsx("button",{onClick:()=>T(""),style:{color:"#dc2626"},children:""})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Receptionist Access"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:B,disabled:E,children:[n.jsx(Zc,{size:16}),n.jsx("span",{children:"Add Receptionist"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by name, username or branch...",className:"search-input",value:i,onChange:I=>s(I.target.value)})]})}),n.jsx("div",{className:"data-card",children:E?n.jsx("div",{className:"empty-state",children:"Loading..."}):P.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No receptionists found. ",i?"Try a different search.":"Add a new receptionist to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Username"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Created"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:P.map(I=>{var R;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:(R=I.name)==null?void 0:R.charAt(0).toUpperCase()}),I.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(F3,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),I.username]})}),n.jsx("td",{children:I.branchName||"All Branches"}),n.jsx("td",{children:n.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:I.isActive?"#dcfce7":"#fee2e2",color:I.isActive?"#166534":"#dc2626"},children:I.isActive?"Active":"Inactive"})}),n.jsx("td",{children:W(I.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>F(I),disabled:E,children:n.jsx(ra,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>M(I),disabled:E,children:n.jsx(fa,{size:14})})]})})]},I._id)})})]})}),l&&n.jsx(zhe,{user:u,onClose:()=>d(!1),onSave:L,branches:r,isEditMode:!!u}),p&&n.jsx(Uhe,{user:g,onClose:()=>m(!1),onConfirm:O})]})},Whe="https://hotelvirat.com/api/v1/hotel",An=Mt.create({baseURL:Whe,headers:{"Content-Type":"application/json"}}),Hhe=({room:e,onClose:t,onBook:r})=>{const[a,i]=N.useState({guestName:"",guestPhone:"",guestEmail:"",guestGstNumber:"",aadhaarNumber:"",panNumber:"",checkInDate:new Date().toISOString().split("T")[0],checkOutDate:new Date(Date.now()+864e5).toISOString().split("T")[0],checkInTime:"12:00",checkOutTime:"11:00",gstType:"none",discountPercent:"",amountPaid:"",paymentMethod:"cash"}),[s,l]=N.useState(!1),[d,u]=N.useState(""),[h,p]=N.useState(!1),[m,g]=N.useState("checkIn"),[v,j]=N.useState(new Date),[b,y]=N.useState({}),[T,E]=N.useState(!1);N.useEffect(()=>{h&&e&&e._id&&allBookings.length>0&&R(e._id,v.getFullYear(),v.getMonth())},[allBookings,h,e,v]);const S=(()=>{const q=new Date(a.checkInDate),Q=new Date(a.checkOutDate),ae=Math.ceil((Q-q)/(1e3*60*60*24));return ae>0?ae:1})(),A=e.price*S,k=parseFloat(a.discountPercent)||0,D=A*k/100,B=A-D,F=a.gstType==="gst"?B*.025:0,M=a.gstType==="gst"?B*.025:0,L=a.gstType==="igst"?B*.05:0,O=F+M+L,W=B+O,P=q=>{const{name:Q,value:ae}=q.target;i({...a,[Q]:ae}),u("")},I=async(q,Q,ae)=>{try{const de=allBookings.filter(Z=>{var je;return(((je=Z.roomId)==null?void 0:je._id)||Z.roomId)===q&&Z.status!=="cancelled"}),xe={};return de.forEach(Z=>{const ge=new Date(Z.checkInDate),je=new Date(Z.checkOutDate),pe=new Date(ge);for(;pe<je;){const Je=pe.toISOString().split("T")[0],Ee=pe.getFullYear(),Ve=pe.getMonth();Ee===Q&&Ve===ae&&(xe[Je]||(xe[Je]=[]),xe[Je].push({bookingId:Z._id,guestName:Z.userName,checkIn:Z.checkInDate,checkOut:Z.checkOutDate,status:Z.status})),pe.setDate(pe.getDate()+1)}}),xe}catch(de){return console.error("Error fetching room bookings:",de),{}}},R=async(q,Q,ae)=>{if(q){E(!0);try{const de=await I(q,Q,ae),xe={},Z=new Date(Q,ae+1,0).getDate();for(let ge=1;ge<=Z;ge++){const je=`${Q}-${String(ae+1).padStart(2,"0")}-${String(ge).padStart(2,"0")}`,pe=de[je]||[];xe[je]={date:je,bookings:pe,hasBookings:pe.length>0,isFullyBooked:!1}}y(xe)}catch(de){console.error("Error fetching monthly bookings:",de)}finally{E(!1)}}},H=q=>{g(q);const Q=new Date;j(Q),p(!0),y({}),e&&e._id&&R(e._id,Q.getFullYear(),Q.getMonth())},V=q=>{const Q=new Date(v);Q.setMonth(Q.getMonth()+q),j(Q),e&&e._id&&R(e._id,Q.getFullYear(),Q.getMonth())},he=q=>{const Q=v.getFullYear(),ae=String(v.getMonth()+1).padStart(2,"0"),de=String(q).padStart(2,"0"),xe=`${Q}-${ae}-${de}`;i(m==="checkIn"?{...a,checkInDate:xe}:{...a,checkOutDate:xe}),p(!1)},U=q=>{const Q=new Date;return Q.setHours(0,0,0,0),new Date(v.getFullYear(),v.getMonth(),q)<Q},Y=q=>{const Q=v.getFullYear(),ae=String(v.getMonth()+1).padStart(2,"0"),de=String(q).padStart(2,"0"),xe=`${Q}-${ae}-${de}`,Z=b[xe];return(Z==null?void 0:Z.hasBookings)||!1},z=q=>{const Q=q.getFullYear(),ae=q.getMonth(),de=new Date(Q,ae+1,0).getDate(),xe=new Date(Q,ae,1).getDay();return{daysInMonth:de,firstDay:xe}},ee=async q=>{var Q,ae;q.preventDefault(),l(!0),u("");try{if(!((Q=a.guestName)!=null&&Q.trim()))throw new Error("Guest name is required");if(!((ae=a.guestPhone)!=null&&ae.trim()))throw new Error("Guest phone number is required");if(!a.checkInDate)throw new Error("Check-in date is required");if(!a.checkOutDate)throw new Error("Check-out date is required");if(!/^[0-9]{10}$/.test(a.guestPhone.replace(/\D/g,"")))throw new Error("Please enter a valid 10-digit phone number");const xe=new Date(a.checkInDate),Z=new Date(a.checkOutDate),ge=new Date;if(ge.setHours(0,0,0,0),xe<ge)throw new Error("Check-in date cannot be in the past");if(Z<=xe)throw new Error("Check-out date must be after check-in date");if(a.aadhaarNumber&&a.aadhaarNumber.trim()&&!/^\d{12}$/.test(a.aadhaarNumber.trim()))throw new Error("Aadhaar number must be exactly 12 digits");if(a.panNumber&&a.panNumber.trim()&&!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(a.panNumber.trim().toUpperCase()))throw new Error("PAN number must be in format: ABCDE1234F");const je=parseFloat(a.amountPaid)||0,pe=a.paymentMethod||"cash",Je={roomId:e._id,branchId:e.branchId,userName:a.guestName,userPhone:a.guestPhone,userEmail:a.guestEmail,guestGstNumber:a.guestGstNumber,aadhaarNumber:a.aadhaarNumber?a.aadhaarNumber.trim():"",panNumber:a.panNumber?a.panNumber.trim().toUpperCase():"",checkInDate:a.checkInDate,checkOutDate:a.checkOutDate,checkInTime:a.checkInTime,checkOutTime:a.checkOutTime,nights:S,baseAmount:A,discountPercent:k||0,discountAmount:D||0,gstType:a.gstType,cgst:F,sgst:M,igst:L,totalPrice:W,amountPaid:je,cashAmount:pe==="cash"?je:0,onlineAmount:pe==="online"?je:0,status:"checked-in",paymentStatus:je>=W?"paid":"pending",payments:je>0?[{amount:je,method:pe,date:new Date}]:[]};await r(Je),t()}catch(de){console.error("Booking error:",de);let xe="Failed to book room";if(de.response){const{status:Z,data:ge}=de.response;Z===400?ge.message?xe=ge.message:ge.error?xe=ge.error:typeof ge=="string"?xe=ge:xe="Invalid booking data. Please check all required fields.":Z===404?xe="Room not found. Please refresh and try again.":Z===409?xe="Room is already booked for the selected dates.":Z>=500&&(xe="Server error. Please try again later.")}else de.request?xe="Network error. Please check your connection and try again.":xe=de.message||"An unexpected error occurred";u(xe)}finally{l(!1)}};return n.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:[n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"white",position:"relative",zIndex:10},children:[n.jsxs("h3",{style:{margin:0},children:["Book Room ",e.roomNumber]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px"},children:""})]}),d&&n.jsxs("div",{style:{padding:"12px 20px",backgroundColor:"#fee2e2",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px",borderBottom:"1px solid #fecaca",position:"relative",zIndex:10},children:[n.jsx(Qt,{size:16}),n.jsx("span",{style:{fontSize:"14px",fontWeight:"500"},children:d}),n.jsx("button",{onClick:()=>u(""),style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer",color:"#dc2626",fontSize:"18px",padding:"0 4px"},children:""})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px"},children:n.jsxs("form",{onSubmit:ee,children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0fdf4",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Room Details"}),n.jsxs("p",{style:{margin:"5px 0"},children:[n.jsx("strong",{children:"Type:"})," ",e.roomType]}),n.jsxs("p",{style:{margin:"5px 0"},children:[n.jsx("strong",{children:"Floor:"})," ",e.floor]}),n.jsxs("p",{style:{margin:"5px 0"},children:[n.jsx("strong",{children:"Basic Price:"})," ",e.price,"/night ",n.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"(excl. GST)"})]})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(Qo,{size:14,style:{marginRight:"6px"}}),"Guest Name *"]}),n.jsx("input",{type:"text",name:"guestName",value:a.guestName,onChange:P,required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter guest name"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(Za,{size:14,style:{marginRight:"6px"}}),"Phone *"]}),n.jsx("input",{type:"tel",name:"guestPhone",value:a.guestPhone,onChange:P,required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter phone number"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(ys,{size:14,style:{marginRight:"6px"}}),"Email"]}),n.jsx("input",{type:"email",name:"guestEmail",value:a.guestEmail,onChange:P,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter email (optional)"})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"20px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[n.jsx("h4",{style:{margin:"0 0 8px",fontSize:"16px",color:"#334155",fontWeight:"600"},children:"Identity Documents (Optional)"}),n.jsx("p",{style:{margin:"0 0 20px",fontSize:"14px",color:"#64748b",lineHeight:"1.5"},children:"Enter Aadhaar card and/or PAN card numbers for guest verification. Both are optional but recommended for corporate bookings."}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:" Aadhaar Number"}),n.jsx("input",{type:"text",name:"aadhaarNumber",value:a.aadhaarNumber||"",onChange:P,style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"},placeholder:"Enter 12-digit Aadhaar number",maxLength:12,pattern:"[0-9]{12}"}),n.jsx("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:"12-digit number (e.g., 123456789012)"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:" PAN Number"}),n.jsx("input",{type:"text",name:"panNumber",value:a.panNumber||"",onChange:q=>{const Q=q.target.value.toUpperCase();P({target:{name:"panNumber",value:Q}})},style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",textTransform:"uppercase"},placeholder:"Enter PAN number",maxLength:10,pattern:"[A-Z]{5}[0-9]{4}[A-Z]{1}"}),n.jsx("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:"10-character format (e.g., ABCDE1234F)"})]})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(Br,{size:14,style:{marginRight:"6px"}}),"Check-in Date"]}),n.jsxs("button",{type:"button",onClick:()=>H("checkIn"),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Br,{size:16}),a.checkInDate?new Date(a.checkInDate).toLocaleDateString():"Select Date"]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Check-out Date"}),n.jsxs("button",{type:"button",onClick:()=>H("checkOut"),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Br,{size:16}),a.checkOutDate?new Date(a.checkOutDate).toLocaleDateString():"Select Date"]})]})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"GST Option"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:a.gstType==="none"?"2px solid #4f46e5":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.gstType==="none"?"#eef2ff":"white"},children:[n.jsx("input",{type:"radio",name:"gstType",value:"none",checked:a.gstType==="none",onChange:P}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Without GST"}),n.jsx("span",{style:{display:"block",fontSize:"12px",color:"#6b7280"},children:"Basic price only"})]})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:a.gstType==="gst"?"2px solid #4f46e5":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.gstType==="gst"?"#eef2ff":"white"},children:[n.jsx("input",{type:"radio",name:"gstType",value:"gst",checked:a.gstType==="gst",onChange:P}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"With GST (Within State)"}),n.jsx("span",{style:{display:"block",fontSize:"12px",color:"#6b7280"},children:"CGST 2.5% + SGST 2.5% = 5%"})]})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:a.gstType==="igst"?"2px solid #4f46e5":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.gstType==="igst"?"#eef2ff":"white"},children:[n.jsx("input",{type:"radio",name:"gstType",value:"igst",checked:a.gstType==="igst",onChange:P}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"With IGST (Out of State)"}),n.jsx("span",{style:{display:"block",fontSize:"12px",color:"#6b7280"},children:"IGST 5%"})]})]})]})]}),(a.gstType==="gst"||a.gstType==="igst")&&n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Guest GST Number"}),n.jsx("input",{type:"text",name:"guestGstNumber",value:a.guestGstNumber,onChange:P,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter guest's GST number (e.g., 22AAAAA0000A1Z5)",maxLength:15}),n.jsx("span",{style:{fontSize:"11px",color:"#6b7280"},children:"15-digit GST Identification Number"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Discount (%)"}),n.jsx("input",{type:"number",name:"discountPercent",value:a.discountPercent,onChange:P,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter discount percentage (0-100)",min:"0",max:"100",step:"0.01"}),k>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#059669"},children:["Discount Amount: ",D.toFixed(2)]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Price Summary"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[n.jsxs("span",{children:["Basic Price (",e.price," x ",S," night",S>1?"s":"",")"]}),n.jsxs("span",{children:["",A.toFixed(2)]})]}),k>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#059669",fontSize:"14px"},children:[n.jsxs("span",{children:["Discount (",k,"%)"]}),n.jsxs("span",{children:["- ",D.toFixed(2)]})]}),k>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontWeight:"500"},children:[n.jsx("span",{children:"Amount After Discount"}),n.jsxs("span",{children:["",B.toFixed(2)]})]}),a.gstType==="gst"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("span",{children:"CGST (2.5%)"}),n.jsxs("span",{children:["",F.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("span",{children:"SGST (2.5%)"}),n.jsxs("span",{children:["",M.toFixed(2)]})]})]}),a.gstType==="igst"&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("span",{children:"IGST (5%)"}),n.jsxs("span",{children:["",L.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",borderTop:"1px solid #e5e7eb",paddingTop:"10px",marginTop:"10px"},children:[n.jsx("span",{children:"Total Amount"}),n.jsxs("span",{children:["",W.toFixed(2)]})]})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Amount Paid ()"}),n.jsx("input",{type:"number",name:"amountPaid",value:a.amountPaid,onChange:P,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:`Enter amount paid (Total: ${W.toFixed(2)})`,min:"0",max:W}),a.amountPaid&&parseFloat(a.amountPaid)<W&&n.jsxs("span",{style:{fontSize:"12px",color:"#f59e0b"},children:["Balance Due: ",(W-parseFloat(a.amountPaid||0)).toFixed(2)]}),a.amountPaid&&parseFloat(a.amountPaid)>=W&&n.jsx("span",{style:{fontSize:"12px",color:"#059669"},children:" Fully Paid"})]}),a.amountPaid&&parseFloat(a.amountPaid)>0&&n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Payment Method"}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",padding:"12px",border:a.paymentMethod==="cash"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.paymentMethod==="cash"?"#f0fdf4":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:a.paymentMethod==="cash",onChange:P,style:{display:"none"}}),n.jsx("span",{style:{fontSize:"20px"},children:""}),n.jsx("span",{style:{fontWeight:"500",color:a.paymentMethod==="cash"?"#059669":"#374151"},children:"Cash"})]}),n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",padding:"12px",border:a.paymentMethod==="online"?"2px solid #3b82f6":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.paymentMethod==="online"?"#eff6ff":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:a.paymentMethod==="online",onChange:P,style:{display:"none"}}),n.jsx("span",{style:{fontSize:"20px"},children:""}),n.jsx("span",{style:{fontWeight:"500",color:a.paymentMethod==="online"?"#3b82f6":"#374151"},children:"Online"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #e5e7eb"},children:[n.jsx("button",{type:"button",onClick:t,style:{flex:1,padding:"12px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",cursor:"pointer",fontWeight:"500"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:s,style:{flex:1,padding:"12px",border:"none",borderRadius:"6px",backgroundColor:s?"#9ca3af":"#4f46e5",color:"white",cursor:s?"not-allowed":"pointer",fontWeight:"500"},children:s?"Booking...":"Confirm Booking"})]})]})})]}),h&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"20px",width:"90%",maxWidth:"400px",maxHeight:"80vh",overflow:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("button",{onClick:()=>V(-1),disabled:T,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",padding:"5px"},children:""}),n.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:v.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),n.jsx("button",{onClick:()=>V(1),disabled:T,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",padding:"5px"},children:""})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:"15px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"6px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#22c55e"}}),n.jsx("span",{style:{fontSize:"12px"},children:"Available"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#dc2626"}}),n.jsx("span",{style:{fontSize:"12px"},children:"Booked"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#9ca3af"}}),n.jsx("span",{style:{fontSize:"12px"},children:"Past"})]})]}),T&&n.jsx("div",{style:{textAlign:"center",padding:"10px",color:"#6b7280"},children:"Loading availability..."}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",marginBottom:"10px"},children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(q=>n.jsx("div",{style:{textAlign:"center",padding:"8px",fontSize:"12px",fontWeight:"600",color:"#6b7280"},children:q},q))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",marginBottom:"20px"},children:(()=>{const{daysInMonth:q,firstDay:Q}=z(v),ae=[];for(let de=0;de<Q;de++)ae.push(n.jsx("div",{style:{aspectRatio:"1",padding:"8px"}},`empty-${de}`));for(let de=1;de<=q;de++){const xe=U(de),Z=Y(de),ge=!xe;ae.push(n.jsxs("button",{onClick:()=>ge&&he(de),disabled:!ge,style:{aspectRatio:"1",border:ge?"1px solid #e5e7eb":"1px solid #fca5a5",borderRadius:"6px",backgroundColor:xe?"#f3f4f6":ge?"white":"#fee2e2",color:xe?"#9ca3af":ge?"#000":"#dc2626",cursor:ge?"pointer":"not-allowed",fontSize:"14px",fontWeight:"500",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseOver:je=>{ge&&(je.target.style.backgroundColor="#f0f9ff",je.target.style.borderColor="#3b82f6")},onMouseOut:je=>{ge&&(je.target.style.backgroundColor="white",je.target.style.borderColor="#e5e7eb")},children:[de,Z&&!xe&&n.jsx("div",{style:{position:"absolute",top:"3px",right:"3px",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#dc2626",border:"1px solid white",boxShadow:"0 1px 2px rgba(0,0,0,0.1)"}}),!Z&&!xe&&n.jsx("div",{style:{position:"absolute",top:"3px",right:"3px",width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#22c55e",opacity:.7}})]},de))}return ae})()}),n.jsx("div",{style:{textAlign:"center",fontSize:"11px",color:"#6b7280",marginBottom:"15px",padding:"8px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:" Available for booking   Already booked (unavailable)   Today  Red background = Date conflicts with existing bookings"}),n.jsx("button",{onClick:()=>p(!1),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",cursor:"pointer",fontWeight:"500"},children:"Cancel"})]})})]})},Ghe=({booking:e,onClose:t,onAddBill:r,onRemoveBill:a})=>{var j,b,y;const[i,s]=N.useState(""),[l,d]=N.useState(""),[u,h]=N.useState(!1),[p,m]=N.useState(""),g=async T=>{T.preventDefault(),m(""),h(!0);try{if(!i||parseFloat(i)<=0)throw new Error("Please enter a valid amount");if(!l.trim())throw new Error("Please enter a description");await r(e._id,{amount:parseFloat(i),description:l.trim()}),s(""),d("")}catch(E){m(E.message)}finally{h(!1)}},v=T=>new Date(T).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f59e0b",color:"white"},children:[n.jsxs("h3",{style:{margin:0},children:["Restaurant Bills - Room ",(j=e.roomId)==null?void 0:j.roomNumber]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",color:"white"},children:""})]}),n.jsxs("div",{style:{padding:"20px"},children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0fdf4",borderRadius:"8px"},children:[n.jsxs("h4",{style:{margin:"0 0 10px"},children:["Guest: ",e.userName]}),n.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#6b7280"},children:["Room ",(b=e.roomId)==null?void 0:b.roomNumber,"  ",e.userPhone]})]}),p&&n.jsx("div",{style:{padding:"10px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",marginBottom:"15px"},children:p}),n.jsxs("form",{onSubmit:g,style:{marginBottom:"30px",padding:"20px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 15px",color:"#374151"},children:"Add Restaurant Bill"}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Amount ()"}),n.jsx("input",{type:"number",value:i,onChange:T=>s(T.target.value),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter amount",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Description"}),n.jsx("input",{type:"text",value:l,onChange:T=>d(T.target.value),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"e.g., Lunch, Dinner, Room Service",required:!0})]}),n.jsx("button",{type:"submit",disabled:u,style:{padding:"10px 20px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:u?"not-allowed":"pointer",fontWeight:"500"},children:u?"Adding...":"Add Bill"})]}),n.jsxs("div",{children:[n.jsxs("h4",{style:{margin:"0 0 15px",color:"#374151"},children:["Restaurant Bills (",((y=e.restaurantBills)==null?void 0:y.length)||0,")",e.restaurantTotal>0&&n.jsxs("span",{style:{color:"#dc2626",fontWeight:"600",marginLeft:"10px"},children:["Total: ",e.restaurantTotal.toFixed(2)]})]}),e.restaurantBills&&e.restaurantBills.length>0?n.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:e.restaurantBills.map((T,E)=>n.jsxs("div",{style:{padding:"12px",backgroundColor:"white",borderRadius:"6px",border:"1px solid #e5e7eb",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontWeight:"500",color:"#374151"},children:T.description}),n.jsxs("div",{style:{fontSize:"12px",color:"#6b7280"},children:[v(T.date||T.createdAt),"  Added by ",T.addedBy||"Receptionist"]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsxs("span",{style:{fontWeight:"600",color:"#dc2626"},children:["",T.amount.toFixed(2)]}),n.jsx("button",{onClick:()=>a(e._id,T._id),style:{padding:"4px 8px",backgroundColor:"#fee2e2",color:"#dc2626",border:"1px solid #fecaca",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"Remove bill",children:"Remove"})]})]},T._id||E))}):n.jsx("p",{style:{color:"#6b7280",fontStyle:"italic"},children:"No restaurant bills added yet."})]}),n.jsx("div",{style:{marginTop:"20px",textAlign:"center"},children:n.jsx("button",{onClick:t,style:{padding:"10px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Close"})})]})]})})},Vhe=({booking:e,onClose:t,onCheckout:r,onUpdatePayment:a})=>{var D;const[i,s]=N.useState(""),[l,d]=N.useState("cash"),[u,h]=N.useState(!1),[p,m]=N.useState(""),g=e.totalPrice||0,v=e.restaurantTotal||0,j=g+v,b=e.amountPaid||0,y=e.cashAmount||0,T=e.onlineAmount||0,E=j-b,C=async()=>{const B=parseFloat(i)||0;if(B<=0){m("Please enter a valid amount");return}h(!0),m("");try{await a(e._id,b+B,l,B),s("")}catch(F){m(F.message||"Failed to update payment")}finally{h(!1)}},S=async()=>{h(!0),m("");try{await r(e._id),t()}catch(B){m(B.message||"Failed to checkout")}finally{h(!1)}},A=B=>B?new Date(B).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",k=()=>{var M,L,O;const B=window.open("","_blank"),F=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Hotel Virat - Bill</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 15px; }
          .header img { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin-bottom: 10px; }
          .header h1 { font-size: 24px; margin-bottom: 5px; }
          .header p { font-size: 12px; color: #666; }
          .header .gst { font-size: 11px; color: #333; font-weight: bold; margin-top: 5px; }
          .bill-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .bill-info p { font-size: 13px; margin: 4px 0; }
          .guest-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .guest-info h3 { font-size: 14px; margin-bottom: 8px; }
          .guest-info p { font-size: 13px; margin: 4px 0; }
          .stay-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .stay-info h3 { font-size: 14px; margin-bottom: 8px; }
          .stay-info p { font-size: 13px; margin: 4px 0; }
          .charges { margin-bottom: 15px; }
          .charges h3 { font-size: 14px; margin-bottom: 8px; }
          .charge-row { display: flex; justify-content: space-between; font-size: 13px; margin: 5px 0; }
          .charge-row.total { font-weight: bold; font-size: 16px; border-top: 2px solid #000; padding-top: 10px; margin-top: 10px; }
          .footer { text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px dashed #ccc; }
          .footer p { font-size: 12px; color: #666; margin: 3px 0; }
          @media print { body { padding: 10px; } }
        </style>
      </head>
      <body>
        <div class="header">
          <img src="${al}" alt="Hotel Virat Logo" />
          <h1>HOTEL VIRAT</h1>
          <p>Your Comfort, Our Priority</p>
          <p class="gst">GSTIN: 29AGZPV1558K2Z6</p>
        </div>
        
        <div class="bill-info">
          <p><strong>Bill No:</strong> ${((M=e._id)==null?void 0:M.slice(-8).toUpperCase())||"N/A"}</p>
          <p><strong>Date:</strong> ${new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
          <p><strong>Room No:</strong> ${((L=e.roomId)==null?void 0:L.roomNumber)||"N/A"}</p>
          <p><strong>Room Type:</strong> ${((O=e.roomId)==null?void 0:O.roomType)||"N/A"}</p>
        </div>
        
        <div class="guest-info">
          <h3>Guest Details</h3>
          <p><strong>Name:</strong> ${e.userName||"N/A"}</p>
          <p><strong>Phone:</strong> ${e.userPhone||"N/A"}</p>
          ${e.userEmail?`<p><strong>Email:</strong> ${e.userEmail}</p>`:""}
          ${e.guestGstNumber?`<p><strong>GSTIN:</strong> ${e.guestGstNumber}</p>`:""}
        </div>
        
        <div class="stay-info">
          <h3>Stay Details</h3>
          <p><strong>Check-in:</strong> ${A(e.checkInDate)} at ${e.checkInTime||"12:00"}</p>
          <p><strong>Check-out:</strong> ${A(e.checkOutDate)} at ${e.checkOutTime||"11:00"}</p>
          <p><strong>No. of Nights:</strong> ${e.nights||1}</p>
        </div>
        
        <div class="charges">
          <h3>Room Charges</h3>
          <div class="charge-row">
            <span>Room Charges (${e.nights||1} night${(e.nights||1)>1?"s":""})</span>
            <span>${(e.baseAmount||0).toFixed(2)}</span>
          </div>
          ${e.gstType==="gst"?`
            <div class="charge-row">
              <span>CGST (2.5%)</span>
              <span>${(e.cgst||0).toFixed(2)}</span>
            </div>
            <div class="charge-row">
              <span>SGST (2.5%)</span>
              <span>${(e.sgst||0).toFixed(2)}</span>
            </div>
          `:""}
          ${e.gstType==="igst"?`
            <div class="charge-row">
              <span>IGST (5%)</span>
              <span>${(e.igst||0).toFixed(2)}</span>
            </div>
          `:""}
          <div class="charge-row total">
            <span>Total Amount</span>
            <span>${g.toFixed(2)}</span>
          </div>
        </div>
        
        <div class="footer">
          <p>Thank you for staying with us!</p>
          <p>We hope to see you again soon.</p>
          <p style="margin-top: 10px; font-size: 10px;">This is a computer generated bill.</p>
        </div>
      </body>
      </html>
    `;B.document.write(F),B.document.close(),B.focus(),setTimeout(()=>{B.print()},250)};return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#fef2f2"},children:[n.jsxs("h3",{style:{margin:0},children:["Room ",(D=e.roomId)==null?void 0:D.roomNumber," - Checkout"]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px"},children:""})]}),n.jsxs("div",{style:{padding:"20px"},children:[p&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",marginBottom:"15px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:16}),p]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Guest Details"}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Name:"})," ",e.userName]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Phone:"})," ",e.userPhone]}),e.userEmail&&n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Email:"})," ",e.userEmail]}),e.guestGstNumber&&n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"GSTIN:"})," ",e.guestGstNumber]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0fdf4",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Stay Details"}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Check-in:"})," ",A(e.checkInDate)," at ",e.checkInTime]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Check-out:"})," ",A(e.checkOutDate)," at ",e.checkOutTime]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Nights:"})," ",e.nights]}),e.actualCheckInTime&&n.jsxs("p",{style:{margin:"8px 0 5px",fontSize:"13px",color:"#059669",fontWeight:"500"},children:[" ",n.jsx("strong",{children:"Actual Check-in:"})," ",new Date(e.actualCheckInTime).toLocaleString()]}),e.actualCheckOutTime&&n.jsxs("p",{style:{margin:"5px 0",fontSize:"13px",color:"#059669",fontWeight:"500"},children:[" ",n.jsx("strong",{children:"Actual Check-out:"})," ",new Date(e.actualCheckOutTime).toLocaleString()]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#fef3c7",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Payment Summary"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"14px"},children:[n.jsx("span",{children:"Room Charges:"}),n.jsxs("span",{children:["",g.toFixed(2)]})]}),v>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"14px",color:"#dc2626"},children:[n.jsx("span",{children:"Restaurant Bills:"}),n.jsxs("span",{children:["",v.toFixed(2)]})]}),e.gstType&&e.gstType!=="none"&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"14px",color:"#6b7280"},children:[n.jsxs("span",{children:["GST (",e.gstType==="gst"?"CGST+SGST":"IGST","):"]}),n.jsxs("span",{children:["",((e.cgst||0)+(e.sgst||0)+(e.igst||0)).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontWeight:"bold",borderTop:"1px solid #e5e7eb",paddingTop:"8px"},children:[n.jsx("span",{children:"Grand Total:"}),n.jsxs("span",{children:["",j.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"14px",color:"#059669"},children:[n.jsx("span",{children:"Amount Paid:"}),n.jsxs("span",{children:["",b.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",fontSize:"16px",color:E>0?"#dc2626":"#059669"},children:[n.jsx("span",{children:E>0?"Balance Due:":"Status:"}),n.jsx("span",{children:E>0?`${E.toFixed(2)}`:" Fully Paid"})]})]}),(y>0||T>0)&&n.jsxs("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#f0fdf4",borderRadius:"6px",fontSize:"13px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[n.jsx("span",{children:" Cash Received:"}),n.jsxs("span",{style:{color:"#059669",fontWeight:"500"},children:["",y.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:" Online Received:"}),n.jsxs("span",{style:{color:"#3b82f6",fontWeight:"500"},children:["",T.toFixed(2)]})]})]}),E>0&&n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Add Payment ()"}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[n.jsx("input",{type:"number",value:i,onChange:B=>s(B.target.value),style:{flex:1,padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:`Max: ${E.toFixed(2)}`,min:"0",max:E}),n.jsx("button",{onClick:C,disabled:u,style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:u?"not-allowed":"pointer"},children:u?"...":"Add"})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",padding:"10px",border:l==="cash"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:l==="cash"?"#f0fdf4":"white"},children:[n.jsx("input",{type:"radio",name:"checkoutPaymentMethod",value:"cash",checked:l==="cash",onChange:B=>d(B.target.value),style:{display:"none"}}),n.jsx("span",{children:""}),n.jsx("span",{style:{fontWeight:"500",fontSize:"14px",color:l==="cash"?"#059669":"#374151"},children:"Cash"})]}),n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",padding:"10px",border:l==="online"?"2px solid #3b82f6":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:l==="online"?"#eff6ff":"white"},children:[n.jsx("input",{type:"radio",name:"checkoutPaymentMethod",value:"online",checked:l==="online",onChange:B=>d(B.target.value),style:{display:"none"}}),n.jsx("span",{children:""}),n.jsx("span",{style:{fontWeight:"500",fontSize:"14px",color:l==="online"?"#3b82f6":"#374151"},children:"Online"})]})]}),n.jsxs("button",{onClick:()=>s(E.toString()),style:{padding:"6px 12px",backgroundColor:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:["Pay Full Balance (",E.toFixed(2),")"]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:t,style:{flex:1,minWidth:"100px",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",cursor:"pointer"},children:"Close"}),e.gstType&&e.gstType!=="none"&&n.jsxs("button",{onClick:k,style:{flex:1,minWidth:"100px",padding:"12px",border:"none",borderRadius:"6px",backgroundColor:"#3b82f6",color:"white",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[n.jsx(Va,{size:16})," Print Bill"]}),n.jsx("button",{onClick:S,disabled:u,style:{flex:1,minWidth:"100px",padding:"12px",border:"none",borderRadius:"6px",backgroundColor:E>0?"#f59e0b":"#059669",color:"white",cursor:u?"not-allowed":"pointer",fontWeight:"500"},children:u?"Processing...":E>0?`Checkout (${E.toFixed(2)} due)`:" Checkout (Paid)"})]})]})]})})},Yhe=({rooms:e,allBookings:t,onClose:r,onBulkBook:a})=>{const[i,s]=N.useState([]),[l,d]=N.useState({guestName:"",guestPhone:"",guestEmail:"",guestGstNumber:"",aadhaarNumber:"",panNumber:"",checkInDate:new Date().toISOString().split("T")[0],checkOutDate:new Date(Date.now()+864e5).toISOString().split("T")[0],checkInTime:"12:00",checkOutTime:"11:00",gstType:"none",discountPercent:"",amountPaid:"",paymentMethod:"cash"}),[u,h]=N.useState(!1),[p,m]=N.useState(""),v=(()=>{const W=new Date(l.checkInDate),P=new Date(l.checkOutDate),I=Math.ceil((P-W)/(1e3*60*60*24));return I>0?I:1})(),j=i.reduce((W,P)=>W+P.price*v,0),b=parseFloat(l.discountPercent)||0,y=j*b/100,T=j-y,E=l.gstType==="gst"?T*.025:0,C=l.gstType==="gst"?T*.025:0,S=l.gstType==="igst"?T*.05:0,A=E+C+S,k=T+A,D=W=>{const{name:P,value:I}=W.target;d({...l,[P]:I}),m("")},B=W=>{if(!M(W,l.checkInDate,l.checkOutDate)&&l.checkInDate&&l.checkOutDate){const I=new Date(l.checkInDate),R=new Date(l.checkOutDate),H=(t==null?void 0:t.filter(V=>{var z;if((((z=V.roomId)==null?void 0:z._id)||V.roomId)!==W._id||V.status==="cancelled"||V.status==="checked-out")return!1;const U=new Date(V.checkInDate),Y=new Date(V.checkOutDate);return I<Y&&R>U}))||[];if(H.length>0){const V=H[0],he=V.userName||"Unknown Guest",U=new Date(V.checkInDate).toLocaleDateString(),Y=new Date(V.checkOutDate).toLocaleDateString();window.confirm(`Room ${W.roomNumber} is already booked by ${he} (${U} - ${Y}) for the selected dates.

Click OK to view booking details or Cancel to close.`)&&alert(`Booking Details:

Guest: ${he}
Phone: ${V.userPhone||"N/A"}
Check-in: ${U}
Check-out: ${Y}
Status: ${V.status}
Total: ${V.totalPrice||0}`);return}}s(I=>I.find(H=>H._id===W._id)?I.filter(H=>H._id!==W._id):[...I,W])},F=async W=>{var P,I;W.preventDefault(),h(!0),m("");try{if(i.length===0)throw new Error("Please select at least one room");if(!((P=l.guestName)!=null&&P.trim()))throw new Error("Guest name is required");if(!((I=l.guestPhone)!=null&&I.trim()))throw new Error("Guest phone number is required");if(!/^[0-9]{10}$/.test(l.guestPhone.replace(/\D/g,"")))throw new Error("Please enter a valid 10-digit phone number");const H=new Date(l.checkInDate),V=new Date(l.checkOutDate),he=new Date;if(he.setHours(0,0,0,0),H<he)throw new Error("Check-in date cannot be in the past");if(V<=H)throw new Error("Check-out date must be after check-in date");const U=[];if(i.forEach(q=>{const Q=(t==null?void 0:t.filter(de=>{var Z;return(((Z=de.roomId)==null?void 0:Z._id)||de.roomId)===q._id&&de.status!=="cancelled"&&de.status!=="checked-out"}))||[];if(Q.some(de=>{const xe=new Date(de.checkInDate),Z=new Date(de.checkOutDate);return H<Z&&V>xe})){const de=Q.filter(xe=>{const Z=new Date(xe.checkInDate),ge=new Date(xe.checkOutDate);return H<ge&&V>Z});U.push({room:q,conflicts:de})}}),U.length>0){const q=U.map(({room:Q,conflicts:ae})=>{const de=ae.map(xe=>`${xe.userName} (${new Date(xe.checkInDate).toLocaleDateString()} - ${new Date(xe.checkOutDate).toLocaleDateString()})`).join(", ");return`Room ${Q.roomNumber}: ${de}`}).join("; ");throw new Error(`The following rooms have booking conflicts: ${q}. Please remove these rooms or select different dates.`)}const Y=parseFloat(l.amountPaid)||0,z=l.paymentMethod||"cash",ee={guestName:l.guestName,guestPhone:l.guestPhone,guestEmail:l.guestEmail,guestGstNumber:l.guestGstNumber,aadhaarNumber:l.aadhaarNumber?l.aadhaarNumber.trim():"",panNumber:l.panNumber?l.panNumber.trim().toUpperCase():"",checkInDate:l.checkInDate,checkOutDate:l.checkOutDate,checkInTime:l.checkInTime,checkOutTime:l.checkOutTime,nights:v,gstType:l.gstType,discountPercent:b||0,discountAmount:y||0,cgst:E,sgst:C,igst:S,totalAmount:k,amountPaid:Y,cashAmount:z==="cash"?Y:0,onlineAmount:z==="online"?Y:0,paymentStatus:Y>=k?"paid":"pending",selectedRooms:i.map(q=>({roomId:q._id,roomNumber:q.roomNumber,roomType:q.roomType,price:q.price,baseAmount:q.price*v}))};await a(ee),r()}catch(R){console.error("Bulk booking error:",R),m(R.message||"Failed to create bulk booking")}finally{h(!1)}},M=(W,P,I)=>{if(!P||!I)return!0;const R=new Date(P),H=new Date(I);return!((t==null?void 0:t.filter(U=>{var z;return(((z=U.roomId)==null?void 0:z._id)||U.roomId)===W._id&&U.status!=="cancelled"&&U.status!=="checked-out"}))||[]).some(U=>{const Y=new Date(U.checkInDate),z=new Date(U.checkOutDate);return R<z&&H>Y})},L=e.filter(W=>M(W,l.checkInDate,l.checkOutDate)),O=e.map(W=>({...W,isAvailable:M(W,l.checkInDate,l.checkOutDate)}));return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"95%",maxWidth:"900px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#7c3aed",color:"white"},children:[n.jsx("h3",{style:{margin:0},children:" Bulk Booking - Multiple Rooms"}),n.jsx("button",{onClick:r,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",color:"white"},children:""})]}),p&&n.jsxs("div",{style:{padding:"12px 20px",backgroundColor:"#fee2e2",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px",borderBottom:"1px solid #fecaca"},children:[n.jsx(Qt,{size:16}),n.jsx("span",{style:{fontSize:"14px",fontWeight:"500"},children:p})]}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px",display:"flex",gap:"20px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsxs("h4",{style:{margin:"0 0 15px",color:"#374151"},children:["Select Rooms (",i.length," selected)"]}),L.length===0&&l.checkInDate&&l.checkOutDate?n.jsxs("div",{style:{padding:"20px",textAlign:"center",border:"1px solid #fbbf24",borderRadius:"8px",backgroundColor:"#fef3c7",color:"#92400e"},children:[n.jsx(Qt,{size:24,style:{marginBottom:"10px"}}),n.jsx("p",{style:{margin:0,fontWeight:"500"},children:"No rooms available for selected dates"}),n.jsx("p",{style:{margin:"5px 0 0",fontSize:"14px"},children:"All rooms are booked. Click on booked rooms to see details."})]}):null,n.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"10px"},children:O.map(W=>{const P=i.find(R=>R._id===W._id),I=W.isAvailable;return n.jsxs("div",{onClick:()=>B(W),style:{padding:"12px",margin:"8px 0",border:`2px solid ${P?"#7c3aed":I?"#e5e7eb":"#fca5a5"}`,borderRadius:"8px",backgroundColor:P?"#f3f4f6":I?"white":"#fef2f2",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"all 0.2s",opacity:I?1:.7},children:[n.jsxs("div",{children:[n.jsxs("div",{style:{fontWeight:"600",color:I?"#374151":"#dc2626"},children:["Room ",W.roomNumber,!I&&n.jsx("span",{style:{fontSize:"12px",marginLeft:"8px",color:"#dc2626"},children:" BOOKED"})]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[W.roomType,"  Floor ",W.floor]})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsxs("div",{style:{fontWeight:"600",color:I?"#059669":"#6b7280"},children:["",W.price,"/night"]}),P&&n.jsx("div",{style:{fontSize:"12px",color:"#7c3aed",fontWeight:"500"},children:" Selected"}),!I&&!P&&n.jsx("div",{style:{fontSize:"12px",color:"#dc2626",fontWeight:"500"},children:"Click for details"})]})]},W._id)})})]}),n.jsx("div",{style:{flex:1},children:n.jsxs("form",{onSubmit:F,children:[n.jsx("h4",{style:{margin:"0 0 15px",color:"#374151"},children:"Guest Details"}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(Qo,{size:14,style:{marginRight:"6px"}}),"Guest Name *"]}),n.jsx("input",{type:"text",name:"guestName",value:l.guestName,onChange:D,required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter guest name"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(Za,{size:14,style:{marginRight:"6px"}}),"Phone *"]}),n.jsx("input",{type:"tel",name:"guestPhone",value:l.guestPhone,onChange:D,required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter phone number"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(ys,{size:14,style:{marginRight:"6px"}}),"Email"]}),n.jsx("input",{type:"email",name:"guestEmail",value:l.guestEmail,onChange:D,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter email (optional)"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(Br,{size:14,style:{marginRight:"6px"}}),"Check-in Date"]}),n.jsx("input",{type:"date",name:"checkInDate",value:l.checkInDate,onChange:D,required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Check-out Date"}),n.jsx("input",{type:"date",name:"checkOutDate",value:l.checkOutDate,onChange:D,required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"}})]})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"GST Option"}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[n.jsx("input",{type:"radio",name:"gstType",value:"none",checked:l.gstType==="none",onChange:D}),n.jsx("span",{style:{fontSize:"14px"},children:"No GST"})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[n.jsx("input",{type:"radio",name:"gstType",value:"gst",checked:l.gstType==="gst",onChange:D}),n.jsx("span",{style:{fontSize:"14px"},children:"GST (5%)"})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[n.jsx("input",{type:"radio",name:"gstType",value:"igst",checked:l.gstType==="igst",onChange:D}),n.jsx("span",{style:{fontSize:"14px"},children:"IGST (5%)"})]})]})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Discount (%)"}),n.jsx("input",{type:"number",name:"discountPercent",value:l.discountPercent,onChange:D,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter discount percentage",min:"0",max:"100",step:"0.01"})]}),i.length>0&&n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Booking Summary"}),n.jsx("div",{style:{fontSize:"14px",marginBottom:"8px"},children:n.jsxs("strong",{children:[i.length," Room(s)  ",v," Night(s)"]})}),i.map(W=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px",marginBottom:"4px"},children:[n.jsxs("span",{children:["Room ",W.roomNumber," (",W.roomType,")"]}),n.jsxs("span",{children:["",(W.price*v).toFixed(2)]})]},W._id)),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #e5e7eb"},children:[n.jsx("span",{children:n.jsx("strong",{children:"Subtotal"})}),n.jsx("span",{children:n.jsxs("strong",{children:["",j.toFixed(2)]})})]}),b>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px",color:"#059669"},children:[n.jsxs("span",{children:["Discount (",b,"%)"]}),n.jsxs("span",{children:["- ",y.toFixed(2)]})]}),A>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px",color:"#6b7280"},children:[n.jsx("span",{children:"GST"}),n.jsxs("span",{children:["",A.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",fontSize:"16px",marginTop:"8px",paddingTop:"8px",borderTop:"2px solid #374151"},children:[n.jsx("span",{children:"Grand Total"}),n.jsxs("span",{children:["",k.toFixed(2)]})]})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Amount Paid ()"}),n.jsx("input",{type:"number",name:"amountPaid",value:l.amountPaid,onChange:D,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:`Enter amount paid (Total: ${k.toFixed(2)})`,min:"0",max:k})]}),l.amountPaid&&parseFloat(l.amountPaid)>0&&n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Payment Method"}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",padding:"12px",border:l.paymentMethod==="cash"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:l.paymentMethod==="cash"?"#f0fdf4":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:l.paymentMethod==="cash",onChange:D,style:{display:"none"}}),n.jsx("span",{children:" Cash"})]}),n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",padding:"12px",border:l.paymentMethod==="online"?"2px solid #3b82f6":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:l.paymentMethod==="online"?"#eff6ff":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:l.paymentMethod==="online",onChange:D,style:{display:"none"}}),n.jsx("span",{children:" Online"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[n.jsx("button",{type:"button",onClick:r,style:{flex:1,padding:"12px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",cursor:"pointer",fontWeight:"500"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:u||i.length===0,style:{flex:1,padding:"12px",border:"none",borderRadius:"6px",backgroundColor:u||i.length===0?"#9ca3af":"#7c3aed",color:"white",cursor:u||i.length===0?"not-allowed":"pointer",fontWeight:"500"},children:u?"Creating...":`Book ${i.length} Room(s)`})]})]})})]})]})})},Khe=()=>{const e=nn(),[t,r]=N.useState(null),[a,i]=N.useState([]),[s,l]=N.useState([]),[d,u]=N.useState([]),[h,p]=N.useState(!0),[m,g]=N.useState(""),[v,j]=N.useState(""),[b,y]=N.useState(""),[T,E]=N.useState("all"),[C,S]=N.useState(null),[A,k]=N.useState(!1),[D,B]=N.useState(null),[F,M]=N.useState(!1),[L,O]=N.useState(!1),[W,P]=N.useState(!1),[I,R]=N.useState(!1),[H,V]=N.useState(!1),[he,U]=N.useState(!1),[Y,z]=N.useState(!1),[ee,q]=N.useState(!1),[Q,ae]=N.useState(!1),[de,xe]=N.useState(!1),[Z,ge]=N.useState("rooms"),[je,pe]=N.useState(new Date().toISOString().split("T")[0]),[Je,Ee]=N.useState("today");N.useEffect(()=>{const me=localStorage.getItem("userType"),Oe=localStorage.getItem("receptionistData");if(me!=="receptionist"||!Oe){e("/login");return}r(JSON.parse(Oe))},[e]),N.useEffect(()=>{t&&Ve()},[t]);const Ve=async()=>{p(!0),g("");try{const me=await An.get("/room"),Oe=me.data.rooms||me.data||[],Pe=await An.get("/room-booking");let st=Pe.data.bookings||Pe.data||[];st=st.map(vt=>{const St={...vt};return Object.keys(St).forEach(nt=>{const yt=St[nt];yt&&typeof yt=="object"&&(yt.data||yt.file||yt.image||yt.logo)&&(console.warn(`Removing suspicious field from booking: ${nt}`,yt),delete St[nt]),typeof yt=="string"&&yt.length>1e4&&(console.warn(`Removing large string field from booking: ${nt}`),delete St[nt])}),St});const ft=st.filter(vt=>vt.status==="checked-in");i(Oe),l(ft),u(st)}catch(me){console.error("Error fetching data:",me),g("Failed to load rooms. Please try again.")}finally{p(!1)}},le=me=>({status:"available",booking:null}),Ce=me=>{const Oe=new Date().toISOString().split("T")[0],Pe=d.find(st=>{var nt;if((((nt=st.roomId)==null?void 0:nt._id)||st.roomId)!==me._id)return!1;const vt=st.checkInDate.split("T")[0],St=st.checkOutDate.split("T")[0];return Oe>=vt&&Oe<St&&st.status==="checked-in"});if(Pe){const st=Pe.userName||"Unknown Guest",ft=new Date(Pe.checkInDate).toLocaleDateString(),vt=new Date(Pe.checkOutDate).toLocaleDateString();window.confirm(`Room ${me.roomNumber} is currently booked by ${st} (${ft} - ${vt}).

Click OK to view booking details or Cancel to close.`)&&(B(Pe),q(!0));return}S(me),k(!0)},Qe=async me=>{var Oe,Pe;try{const st=new Date(me.checkInDate),ft=new Date(me.checkOutDate),vt=d.filter(nt=>{var ht;return(((ht=nt.roomId)==null?void 0:ht._id)||nt.roomId)===me.roomId&&nt.status!=="cancelled"&&nt.status!=="checked-out"});if(vt.some(nt=>{const yt=new Date(nt.checkInDate),ht=new Date(nt.checkOutDate);return st<ht&&ft>yt})){const yt=vt.filter(ht=>{const bt=new Date(ht.checkInDate),Ft=new Date(ht.checkOutDate);return st<Ft&&ft>bt}).map(ht=>`${ht.userName} (${new Date(ht.checkInDate).toLocaleDateString()} - ${new Date(ht.checkOutDate).toLocaleDateString()})`).join(", ");throw new Error(`Room is already booked for overlapping dates by: ${yt}. Please select different dates.`)}await An.post("/room-booking/walk-in",me),j("Room booked successfully!"),setTimeout(()=>j(""),3e3),await Ve()}catch(st){throw new Error(((Pe=(Oe=st.response)==null?void 0:Oe.data)==null?void 0:Pe.message)||st.message||"Failed to book room")}},re=async(me,Oe,Pe="cash",st=0)=>{var ft,vt;try{await An.put(`/room-booking/${me}/payment`,{amountPaid:Oe,paymentMethod:Pe,paymentAmount:st}),j("Payment updated successfully!"),setTimeout(()=>j(""),3e3),await Ve();const St=s.find(nt=>nt._id===me);St&&B({...St,amountPaid:Oe})}catch(St){throw new Error(((vt=(ft=St.response)==null?void 0:ft.data)==null?void 0:vt.message)||"Failed to update payment")}},ce=async me=>{var Oe,Pe;try{await An.put(`/room-booking/${me}/status`,{status:"checked-out"}),j("Guest checked out successfully! Room is now available."),setTimeout(()=>j(""),3e3),await Ve()}catch(st){throw new Error(((Pe=(Oe=st.response)==null?void 0:Oe.data)==null?void 0:Pe.message)||"Failed to checkout")}},J=me=>{B(me),M(!0)},oe=async(me,Oe)=>{var Pe,st;try{await An.post(`/room-booking/${me}/restaurant-bill`,Oe),j("Restaurant bill added successfully!"),setTimeout(()=>j(""),3e3),await Ve();const ft=d.find(vt=>vt._id===me);ft&&B(ft)}catch(ft){throw new Error(((st=(Pe=ft.response)==null?void 0:Pe.data)==null?void 0:st.message)||"Failed to add restaurant bill")}},te=async(me,Oe)=>{var Pe,st;try{await An.delete(`/room-booking/${me}/restaurant-bill/${Oe}`),j("Restaurant bill removed successfully!"),setTimeout(()=>j(""),3e3),await Ve();const ft=d.find(vt=>vt._id===me);ft&&B(ft)}catch(ft){throw new Error(((st=(Pe=ft.response)==null?void 0:Pe.data)==null?void 0:st.message)||"Failed to remove restaurant bill")}},Se=async me=>{var Oe,Pe;try{await An.post("/room-booking/advance",me),j("Advance booking created successfully!"),setTimeout(()=>j(""),3e3),await Ve()}catch(st){throw new Error(((Pe=(Oe=st.response)==null?void 0:Oe.data)==null?void 0:Pe.message)||"Failed to create advance booking")}},Ge=async me=>{var Oe,Pe,st;try{const ft=me.selectedRooms.reduce((Ne,He)=>Ne+He.baseAmount,0),vt=me.discountPercent||0,St=ft*vt/100,nt=ft-St,yt=me.gstType==="gst"?nt*.025:0,ht=me.gstType==="gst"?nt*.025:0,bt=me.gstType==="igst"?nt*.05:0,Ft=nt+yt+ht+bt,Lt=`BULK_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Te=me.selectedRooms.map((Ne,He)=>{var G;return{roomId:Ne.roomId,branchId:(G=a.find(ie=>ie._id===Ne.roomId))==null?void 0:G.branchId,bulkBookingId:Lt,isBulkBooking:!0,bulkBookingIndex:He,totalRoomsInBulk:me.selectedRooms.length,bulkRoomDetails:me.selectedRooms.map(ie=>({roomId:ie.roomId,roomNumber:ie.roomNumber,roomType:ie.roomType,price:ie.price,baseAmount:ie.baseAmount})),userName:`BULK: ${me.guestName} (${me.selectedRooms.length} rooms)`,userPhone:me.guestPhone,userEmail:me.guestEmail||"",guestGstNumber:me.guestGstNumber||"",aadhaarNumber:me.aadhaarNumber||"",panNumber:me.panNumber||"",checkInDate:me.checkInDate,checkOutDate:me.checkOutDate,checkInTime:me.checkInTime,checkOutTime:me.checkOutTime,nights:me.nights,baseAmount:Ne.baseAmount,discountPercent:vt,discountAmount:Ne.baseAmount*vt/100,gstType:me.gstType,cgst:me.gstType==="gst"?(Ne.baseAmount-Ne.baseAmount*vt/100)*.025:0,sgst:me.gstType==="gst"?(Ne.baseAmount-Ne.baseAmount*vt/100)*.025:0,igst:me.gstType==="igst"?(Ne.baseAmount-Ne.baseAmount*vt/100)*.05:0,totalPrice:Ne.baseAmount-Ne.baseAmount*vt/100+(me.gstType==="gst"?(Ne.baseAmount-Ne.baseAmount*vt/100)*.05:0)+(me.gstType==="igst"?(Ne.baseAmount-Ne.baseAmount*vt/100)*.05:0),amountPaid:He===0&&me.amountPaid||0,cashAmount:He===0&&me.paymentMethod==="cash"&&me.amountPaid||0,onlineAmount:He===0&&me.paymentMethod==="online"&&me.amountPaid||0,status:"checked-in",paymentStatus:(me.amountPaid||0)>=Ft?"paid":"pending",payments:He===0&&(me.amountPaid||0)>0?[{amount:me.amountPaid,method:me.paymentMethod||"cash",date:new Date}]:[]}}).map(Ne=>An.post("/room-booking/walk-in",Ne));await Promise.all(Te),j(`Bulk booking created successfully! ${me.selectedRooms.length} rooms booked for ${me.guestName}`),setTimeout(()=>j(""),5e3),await Ve()}catch(ft){throw console.error("Bulk booking error details:",(Oe=ft.response)==null?void 0:Oe.data),new Error(((st=(Pe=ft.response)==null?void 0:Pe.data)==null?void 0:st.message)||ft.message||"Failed to create bulk booking")}},Xe=async(me,Oe,Pe)=>{var st,ft;try{await An.put(`/room-booking/${me}/payment`,{amountPaid:Oe,paymentMethod:Pe,paymentAmount:Oe}),j("Payment processed successfully!"),setTimeout(()=>j(""),3e3),await Ve()}catch(vt){throw new Error(((ft=(st=vt.response)==null?void 0:st.data)==null?void 0:ft.message)||"Failed to process payment")}},Ue=async me=>{var Oe,Pe;try{await An.put(`/room-booking/${me}/status`,{status:"cancelled"}),j("Booking cancelled successfully!"),setTimeout(()=>j(""),3e3),await Ve()}catch(st){throw new Error(((Pe=(Oe=st.response)==null?void 0:Oe.data)==null?void 0:Pe.message)||"Failed to cancel booking")}},dt=async(me,Oe,Pe,st)=>{var ft,vt;try{await An.put(`/room-booking/${me}/extend`,{newCheckOutDate:Oe,additionalNights:Pe,additionalAmount:st}),j("Booking extended successfully!"),setTimeout(()=>j(""),3e3),await Ve()}catch(St){throw new Error(((vt=(ft=St.response)==null?void 0:ft.data)==null?void 0:vt.message)||"Failed to extend booking")}},_e=async(me,Oe)=>{var Pe,st;try{const ft=await An.put(`/room-booking/${me}/cancel-extension`,{daysToCancel:Oe});return j(`${Oe} day(s) cancelled from extension successfully!`),setTimeout(()=>j(""),5e3),await Ve(),ft.data}catch(ft){throw new Error(((st=(Pe=ft.response)==null?void 0:Pe.data)==null?void 0:st.message)||"Failed to cancel extension")}},rt=async me=>{var Oe;try{const Pe=me[0];await An.put(`/room-booking/${Pe._id}/status`,{status:"checked-out",actualCheckOutTime:new Date().toISOString()}),await Ve();const st=Pe.totalRooms||((Oe=Pe.bulkRoomDetails)==null?void 0:Oe.length)||0;return j(`Successfully checked out bulk booking for ${Pe.userName} (${st} rooms)!`),setTimeout(()=>j(""),5e3),{success:!0}}catch(Pe){throw console.error("Error in bulk checkout:",Pe),new Error("Failed to checkout bulk booking. Please try again.")}},Ot=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userType"),localStorage.removeItem("receptionistData"),e("/login")},zt=Array.isArray(a)?a.filter(me=>{var st,ft;const Oe=((st=me.roomNumber)==null?void 0:st.toLowerCase().includes(b.toLowerCase()))||((ft=me.roomType)==null?void 0:ft.toLowerCase().includes(b.toLowerCase()));if(T==="all")return Oe;const{status:Pe}=le();return Oe&&Pe===T}):[],Bt=(me=>d.filter(Oe=>new Date(Oe.createdAt).toISOString().split("T")[0]===me))(je),ne=me=>me?new Date(me).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",$e=()=>{const me=new Date,Oe=new Date(me);Oe.setDate(Oe.getDate()-1);const Pe=new Date(me);return Pe.setDate(Pe.getDate()-2),[{label:"Today",date:me.toISOString().split("T")[0]},{label:"Yesterday",date:Oe.toISOString().split("T")[0]},{label:"2 Days Ago",date:Pe.toISOString().split("T")[0]}]},Ye=me=>{var ft,vt,St;const Oe=me.totalPrice||0,Pe=window.open("","_blank"),st=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Hotel Virat - Bill</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 15px; }
          .header img { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin-bottom: 10px; }
          .header h1 { font-size: 24px; margin-bottom: 5px; }
          .header p { font-size: 12px; color: #666; }
          .header .gst { font-size: 11px; color: #333; font-weight: bold; margin-top: 5px; }
          .bill-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .bill-info p { font-size: 13px; margin: 4px 0; }
          .guest-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .guest-info h3 { font-size: 14px; margin-bottom: 8px; }
          .guest-info p { font-size: 13px; margin: 4px 0; }
          .stay-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .stay-info h3 { font-size: 14px; margin-bottom: 8px; }
          .stay-info p { font-size: 13px; margin: 4px 0; }
          .charges { margin-bottom: 15px; }
          .charges h3 { font-size: 14px; margin-bottom: 8px; }
          .charge-row { display: flex; justify-content: space-between; font-size: 13px; margin: 5px 0; }
          .charge-row.total { font-weight: bold; font-size: 16px; border-top: 2px solid #000; padding-top: 10px; margin-top: 10px; }
          .footer { text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px dashed #ccc; }
          .footer p { font-size: 12px; color: #666; margin: 3px 0; }
          @media print { body { padding: 10px; } }
        </style>
      </head>
      <body>
        <div class="header">
          <img src="${al}" alt="Hotel Virat Logo" />
          <h1>HOTEL VIRAT</h1>
          <p>Your Comfort, Our Priority</p>
          <p class="gst">GSTIN: 29AGZPV1558K2Z6</p>
        </div>
        
        <div class="bill-info">
          <p><strong>Bill No:</strong> ${((ft=me._id)==null?void 0:ft.slice(-8).toUpperCase())||"N/A"}</p>
          <p><strong>Date:</strong> ${new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
          <p><strong>Room No:</strong> ${((vt=me.roomId)==null?void 0:vt.roomNumber)||"N/A"}</p>
          <p><strong>Room Type:</strong> ${((St=me.roomId)==null?void 0:St.roomType)||"N/A"}</p>
        </div>
        
        <div class="guest-info">
          <h3>Guest Details</h3>
          <p><strong>Name:</strong> ${me.userName||"N/A"}</p>
          <p><strong>Phone:</strong> ${me.userPhone||"N/A"}</p>
          ${me.userEmail?`<p><strong>Email:</strong> ${me.userEmail}</p>`:""}
          ${me.guestGstNumber?`<p><strong>GSTIN:</strong> ${me.guestGstNumber}</p>`:""}
        </div>
        
        <div class="stay-info">
          <h3>Stay Details</h3>
          <p><strong>Check-in:</strong> ${ne(me.checkInDate)} at ${me.checkInTime||"12:00"}</p>
          <p><strong>Check-out:</strong> ${ne(me.checkOutDate)} at ${me.checkOutTime||"11:00"}</p>
          <p><strong>No. of Nights:</strong> ${me.nights||1}</p>
        </div>
        
        <div class="charges">
          <h3>Room Charges</h3>
          <div class="charge-row">
            <span>Room Charges (${me.nights||1} night${(me.nights||1)>1?"s":""})</span>
            <span>${(me.baseAmount||0).toFixed(2)}</span>
          </div>
          ${me.gstType==="gst"?`
            <div class="charge-row">
              <span>CGST (2.5%)</span>
              <span>${(me.cgst||0).toFixed(2)}</span>
            </div>
            <div class="charge-row">
              <span>SGST (2.5%)</span>
              <span>${(me.sgst||0).toFixed(2)}</span>
            </div>
          `:""}
          ${me.gstType==="igst"?`
            <div class="charge-row">
              <span>IGST (5%)</span>
              <span>${(me.igst||0).toFixed(2)}</span>
            </div>
          `:""}
          <div class="charge-row total">
            <span>Total Amount</span>
            <span>${Oe.toFixed(2)}</span>
          </div>
        </div>
        
        <div class="footer">
          <p>Thank you for staying with us!</p>
          <p>We hope to see you again soon.</p>
          <p style="margin-top: 10px; font-size: 10px;">This is a computer generated bill.</p>
        </div>
      </body>
      </html>
    `;Pe.document.write(st),Pe.document.close(),Pe.focus(),setTimeout(()=>{Pe.print()},250)},Et=me=>{var St,nt;const Oe=me.baseAmount||0,Pe=me.bulkRoomDetails||[],st=Pe.length>0?Pe.map(yt=>`
          <div class="charge-row">
            <span>Room ${yt.roomNumber} (${yt.roomType})</span>
            <span>${(yt.baseAmount||0).toFixed(2)}</span>
          </div>
        `).join(""):`
          <div class="charge-row">
            <span>Room Charges (${me.nights||1} night${(me.nights||1)>1?"s":""})</span>
            <span>${Oe.toFixed(2)}</span>
          </div>
        `,ft=window.open("","_blank"),vt=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Hotel Virat - Bill (Without GST)</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 15px; }
          .header img { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin-bottom: 10px; }
          .header h1 { font-size: 24px; margin-bottom: 5px; }
          .header p { font-size: 12px; color: #666; }
          .bill-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .bill-info p { font-size: 13px; margin: 4px 0; }
          .guest-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .guest-info h3 { font-size: 14px; margin-bottom: 8px; }
          .guest-info p { font-size: 13px; margin: 4px 0; }
          .stay-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .stay-info h3 { font-size: 14px; margin-bottom: 8px; }
          .stay-info p { font-size: 13px; margin: 4px 0; }
          .charges { margin-bottom: 15px; }
          .charges h3 { font-size: 14px; margin-bottom: 8px; }
          .charge-row { display: flex; justify-content: space-between; font-size: 13px; margin: 5px 0; }
          .charge-row.total { font-weight: bold; font-size: 16px; border-top: 2px solid #000; padding-top: 10px; margin-top: 10px; }
          .room-summary { background: #f0f9ff; padding: 10px; border-radius: 6px; margin-bottom: 15px; border-left: 4px solid #0ea5e9; }
          .room-summary p { font-size: 12px; color: #0c4a6e; margin: 2px 0; font-weight: 500; }
          .footer { text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px dashed #ccc; }
          .footer p { font-size: 12px; color: #666; margin: 3px 0; }
          @media print { body { padding: 10px; } }
        </style>
      </head>
      <body>
        <div class="header">
          <img src="${al}" alt="Hotel Virat Logo" />
          <h1>HOTEL VIRAT</h1>
          <p>Your Comfort, Our Priority</p>
        </div>
        
        <div class="bill-info">
          <p><strong>Bill No:</strong> ${((St=me._id)==null?void 0:St.slice(-8).toUpperCase())||"N/A"}</p>
          <p><strong>Date:</strong> ${new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
          <p><strong>Booking Type:</strong> BULK BOOKING</p>
        </div>
        
        ${Pe.length>0?`
          <div class="room-summary">
            <p><strong>ROOMS BOOKED:</strong></p>
            <p>${Pe.map(yt=>`Room ${yt.roomNumber} (${yt.roomType})`).join(", ")}</p>
          </div>
        `:""}
        
        <div class="guest-info">
          <h3>Guest Details</h3>
          <p><strong>Name:</strong> ${((nt=me.userName)==null?void 0:nt.replace("BULK: ",""))||"N/A"}</p>
          <p><strong>Phone:</strong> ${me.userPhone||"N/A"}</p>
          ${me.userEmail?`<p><strong>Email:</strong> ${me.userEmail}</p>`:""}
        </div>
        
        <div class="stay-info">
          <h3>Stay Details</h3>
          <p><strong>Check-in:</strong> ${ne(me.checkInDate)} at ${me.checkInTime||"12:00"}</p>
          <p><strong>Check-out:</strong> ${ne(me.checkOutDate)} at ${me.checkOutTime||"11:00"}</p>
          <p><strong>No. of Nights:</strong> ${me.nights||1}</p>
        </div>
        
        <div class="charges">
          <h3>Room Charges Breakdown</h3>
          ${st}
          <div class="charge-row total">
            <span>Total Amount (Without GST)</span>
            <span>${Oe.toFixed(2)}</span>
          </div>
        </div>
        
        <div class="footer">
          <p>Thank you for staying with us!</p>
          <p>We hope to see you again soon.</p>
          <p style="margin-top: 10px; font-size: 10px;">This is a computer generated bill without GST.</p>
        </div>
      </body>
      </html>
    `;ft.document.write(vt),ft.document.close(),ft.focus(),setTimeout(()=>{ft.print()},250)};return t?n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,overflowY:"auto",backgroundColor:"#f3f4f6"},children:n.jsxs("div",{style:{padding:"20px",paddingBottom:"100px",maxWidth:"1400px",margin:"0 auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",padding:"15px 20px",backgroundColor:"#059669",borderRadius:"8px",color:"white"},children:[n.jsxs("div",{children:[n.jsx("h1",{style:{margin:0,fontSize:"24px"},children:"Reception Dashboard"}),n.jsxs("p",{style:{margin:"5px 0 0",opacity:.9},children:[t.name," ",t.branchName?`- ${t.branchName}`:""]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("button",{onClick:Ve,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},children:[n.jsx(Pi,{size:16})," Refresh"]}),n.jsxs("button",{onClick:Ot,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#dc2626",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},children:[n.jsx(Bp,{size:16})," Logout"]})]})]}),v&&n.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#dcfce7",color:"#166534",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Rn,{size:18}),n.jsx("span",{children:v})]}),m&&n.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:m})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[n.jsxs("div",{style:{padding:"20px",backgroundColor:"#dcfce7",borderRadius:"8px"},children:[n.jsx("h3",{style:{margin:0,color:"#166534"},children:"Available"}),n.jsx("p",{style:{margin:"10px 0 0",fontSize:"32px",fontWeight:"bold",color:"#166534"},children:a.filter(me=>le().status==="available").length})]}),n.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee2e2",borderRadius:"8px"},children:[n.jsx("h3",{style:{margin:0,color:"#dc2626"},children:"Unavailable"}),n.jsx("p",{style:{margin:"10px 0 0",fontSize:"32px",fontWeight:"bold",color:"#dc2626"},children:a.filter(me=>le().status==="unavailable").length})]}),n.jsxs("div",{style:{padding:"20px",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:[n.jsx("h3",{style:{margin:0,color:"#374151"},children:"Total Rooms"}),n.jsx("p",{style:{margin:"10px 0 0",fontSize:"32px",fontWeight:"bold",color:"#374151"},children:a.length})]})]}),n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"20px",marginBottom:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,fontSize:"20px",color:"#374151"},children:" Payment Collections"}),n.jsx("div",{style:{display:"flex",gap:"8px"},children:["today","week","month","all"].map(me=>n.jsx("button",{onClick:()=>Ee(me),style:{padding:"8px 16px",border:Je===me?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:Je===me?"#dcfce7":"white",color:Je===me?"#059669":"#6b7280",cursor:"pointer",fontSize:"14px",fontWeight:Je===me?"600":"400",textTransform:"capitalize"},children:me==="all"?"All Time":me==="week"?"This Week":me==="month"?"This Month":"Today"},me))})]}),(()=>{const me=new Date,Oe=new Date(me.getFullYear(),me.getMonth(),me.getDate()),Pe=new Date(Oe),st=Pe.getDay(),ft=Pe.getDate()-st+(st===0?-6:1);Pe.setDate(ft);const vt=new Date(me.getFullYear(),me.getMonth(),1),St=d.filter(bt=>{if(!bt.createdAt)return!1;const Ft=new Date(bt.createdAt);switch(Je){case"today":return Ft>=Oe;case"week":return Ft>=Pe;case"month":return Ft>=vt;case"all":default:return!0}}),nt=St.reduce((bt,Ft)=>bt+(Ft.cashAmount||0),0),yt=St.reduce((bt,Ft)=>bt+(Ft.onlineAmount||0),0),ht=St.reduce((bt,Ft)=>bt+(Ft.amountPaid||0),0);return n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px"},children:[n.jsxs("div",{style:{padding:"20px",backgroundColor:"#fef3c7",borderRadius:"8px",border:"2px solid #fde68a"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx("span",{style:{fontSize:"32px"},children:""}),n.jsx("h3",{style:{margin:0,color:"#92400e",fontSize:"16px"},children:"Cash Collected"})]}),n.jsxs("p",{style:{margin:0,fontSize:"32px",fontWeight:"bold",color:"#92400e"},children:["",nt.toFixed(2)]}),n.jsxs("p",{style:{margin:"8px 0 0",fontSize:"13px",color:"#92400e",opacity:.8},children:[St.filter(bt=>(bt.cashAmount||0)>0).length," transaction(s)"]})]}),n.jsxs("div",{style:{padding:"20px",backgroundColor:"#dbeafe",borderRadius:"8px",border:"2px solid #bfdbfe"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx("span",{style:{fontSize:"32px"},children:""}),n.jsx("h3",{style:{margin:0,color:"#1e40af",fontSize:"16px"},children:"Online Collected"})]}),n.jsxs("p",{style:{margin:0,fontSize:"32px",fontWeight:"bold",color:"#1e40af"},children:["",yt.toFixed(2)]}),n.jsxs("p",{style:{margin:"8px 0 0",fontSize:"13px",color:"#1e40af",opacity:.8},children:[St.filter(bt=>(bt.onlineAmount||0)>0).length," transaction(s)"]})]}),n.jsxs("div",{style:{padding:"20px",backgroundColor:"#e0e7ff",borderRadius:"8px",border:"2px solid #c7d2fe"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx("span",{style:{fontSize:"32px"},children:""}),n.jsx("h3",{style:{margin:0,color:"#4338ca",fontSize:"16px"},children:"Total Collected"})]}),n.jsxs("p",{style:{margin:0,fontSize:"32px",fontWeight:"bold",color:"#4338ca"},children:["",ht.toFixed(2)]}),n.jsxs("p",{style:{margin:"8px 0 0",fontSize:"13px",color:"#4338ca",opacity:.8},children:[St.filter(bt=>(bt.amountPaid||0)>0).length," booking(s)"]})]})]})})()]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",borderBottom:"2px solid #e5e7eb",paddingBottom:"10px"},children:[n.jsxs("button",{onClick:()=>ge("rooms"),style:{padding:"10px 20px",border:"none",borderRadius:"6px",backgroundColor:Z==="rooms"?"#059669":"#f3f4f6",color:Z==="rooms"?"white":"#374151",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Ii,{size:18})," Rooms"]}),n.jsxs("button",{onClick:()=>ge("advance"),style:{padding:"10px 20px",border:"none",borderRadius:"6px",backgroundColor:Z==="advance"?"#059669":"#f3f4f6",color:Z==="advance"?"white":"#374151",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Br,{size:18})," Advance Booking"]}),n.jsxs("button",{onClick:()=>ge("extend"),style:{padding:"10px 20px",border:"none",borderRadius:"6px",backgroundColor:Z==="extend"?"#f59e0b":"#f3f4f6",color:Z==="extend"?"white":"#374151",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Pi,{size:18})," Extend Booking"]}),n.jsxs("button",{onClick:()=>ge("history"),style:{padding:"10px 20px",border:"none",borderRadius:"6px",backgroundColor:Z==="history"?"#059669":"#f3f4f6",color:Z==="history"?"white":"#374151",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Br,{size:18})," Booking History"]})]}),Z==="advance"&&n.jsxs("div",{children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0f9ff",borderRadius:"8px",borderLeft:"4px solid #0ea5e9"},children:[n.jsx("h3",{style:{margin:"0 0 5px",fontSize:"16px"},children:"Advance Bookings (Future Check-ins)"}),n.jsx("p",{style:{margin:0,color:"#6b7280"},children:(()=>{const me=new Date;me.setHours(0,0,0,0);const Oe=d.filter(Pe=>{if(!Pe.checkInDate)return!1;const st=new Date(Pe.checkInDate);return st.setHours(0,0,0,0),st>=me&&Pe.status!=="cancelled"});return`${Oe.length} advance booking(s) found | Total Revenue: ${Oe.reduce((Pe,st)=>Pe+(st.totalPrice||0),0).toFixed(2)} | Collected: ${Oe.reduce((Pe,st)=>Pe+(st.amountPaid||0),0).toFixed(2)}`})()})]}),(()=>{const me=new Date;me.setHours(0,0,0,0);const Oe=d.filter(Pe=>{if(!Pe.checkInDate)return!1;const st=new Date(Pe.checkInDate);st.setHours(0,0,0,0);const ft=Pe.status!=="cancelled";return st>=me&&ft}).sort((Pe,st)=>new Date(Pe.checkInDate)-new Date(st.checkInDate));return Oe.length>0?n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Oe.map(Pe=>{var vt,St;const st=(Pe.totalPrice||0)-(Pe.amountPaid||0),ft=Math.ceil((new Date(Pe.checkInDate)-new Date)/(1e3*60*60*24));return n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",border:"1px solid #e5e7eb",padding:"16px",display:"flex",gap:"20px",alignItems:"flex-start",justifyContent:"space-between"},children:[n.jsxs("div",{style:{flex:"1 1 auto",minWidth:0},children:[n.jsxs("div",{style:{marginBottom:"10px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[n.jsxs("span",{style:{fontSize:"17px",fontWeight:"600",color:"#111827"},children:["Room ",((vt=Pe.roomId)==null?void 0:vt.roomNumber)||"N/A"]}),n.jsx("span",{style:{fontSize:"12px",color:"#6b7280",padding:"2px 8px",backgroundColor:"#f3f4f6",borderRadius:"4px"},children:((St=Pe.roomId)==null?void 0:St.roomType)||"N/A"})]}),n.jsx("div",{style:{fontSize:"14px",color:"#374151",fontWeight:"500"},children:Pe.userName}),n.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:[Pe.userPhone,Pe.userEmail&&`  ${Pe.userEmail}`]})]}),n.jsxs("div",{style:{fontSize:"13px",color:"#6b7280",lineHeight:"1.5"},children:[n.jsxs("div",{children:[n.jsx("strong",{style:{color:"#374151"},children:"Check-in:"})," ",ne(Pe.checkInDate)," at ",Pe.checkInTime||"12:00"]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:"#374151"},children:"Check-out:"})," ",ne(Pe.checkOutDate)," at ",Pe.checkOutTime||"11:00"]}),n.jsxs("div",{style:{marginTop:"4px",color:"#059669",fontWeight:"500",fontSize:"12px"},children:[Pe.nights," night",Pe.nights>1?"s":"","  ",ft," day",ft!==1?"s":""," until check-in"]})]}),(Pe.aadhaarNumber||Pe.panNumber)&&n.jsxs("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #f3f4f6"},children:[Pe.aadhaarNumber&&n.jsxs("span",{children:["Aadhaar: ",Pe.aadhaarNumber]}),Pe.aadhaarNumber&&Pe.panNumber&&n.jsx("span",{children:"  "}),Pe.panNumber&&n.jsxs("span",{children:["PAN: ",Pe.panNumber]})]})]}),n.jsxs("div",{style:{width:"220px",flexShrink:0,display:"flex",flexDirection:"column",gap:"10px"},children:[n.jsxs("div",{style:{padding:"10px 12px",backgroundColor:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",marginBottom:"3px"},children:[n.jsx("span",{style:{color:"#6b7280"},children:"Total"}),n.jsxs("span",{style:{fontWeight:"600",color:"#374151"},children:["",(Pe.totalPrice||0).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",marginBottom:"6px"},children:[n.jsx("span",{style:{color:"#6b7280"},children:"Paid"}),n.jsxs("span",{style:{fontWeight:"600",color:"#059669"},children:["",(Pe.amountPaid||0).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px",paddingTop:"6px",borderTop:"1px solid #e5e7eb"},children:[n.jsx("span",{style:{fontWeight:"600",color:st>0?"#dc2626":"#059669"},children:"Balance"}),n.jsxs("span",{style:{fontWeight:"700",color:st>0?"#dc2626":"#059669"},children:["",st.toFixed(2)]})]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[st>0&&n.jsx("button",{onClick:()=>{B(Pe),R(!0)},style:{padding:"8px 14px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:nt=>nt.target.style.backgroundColor="#047857",onMouseOut:nt=>nt.target.style.backgroundColor="#059669",children:"Add Payment"}),n.jsx("button",{onClick:()=>{B(Pe),V(!0)},style:{padding:"8px 14px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:nt=>nt.target.style.backgroundColor="#d97706",onMouseOut:nt=>nt.target.style.backgroundColor="#f59e0b",children:"Extend Booking"}),n.jsx("button",{onClick:()=>{var nt;window.confirm(`Cancel booking for ${Pe.userName}?

Room: ${(nt=Pe.roomId)==null?void 0:nt.roomNumber}
Check-in: ${ne(Pe.checkInDate)}`)&&Ue(Pe._id)},style:{padding:"8px 14px",backgroundColor:"white",color:"#dc2626",border:"1px solid #dc2626",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"all 0.2s"},onMouseOver:nt=>{nt.target.style.backgroundColor="#dc2626",nt.target.style.color="white"},onMouseOut:nt=>{nt.target.style.backgroundColor="white",nt.target.style.color="#dc2626"},children:"Cancel Booking"})]})]})]},Pe._id)})}):n.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280",backgroundColor:"white",borderRadius:"8px"},children:[n.jsx(Br,{size:48,style:{marginBottom:"10px",opacity:.5}}),n.jsx("p",{children:"No advance bookings found"})]})})()]}),Z==="extend"&&n.jsxs("div",{children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#fef3c7",borderRadius:"8px",borderLeft:"4px solid #f59e0b"},children:[n.jsx("h3",{style:{margin:"0 0 5px",fontSize:"16px"},children:"Current Bookings - Extend Stay"}),n.jsx("p",{style:{margin:0,color:"#6b7280"},children:(()=>{const me=d.filter(Oe=>Oe.status==="checked-in");return`${me.length} active booking(s) | Total Revenue: ${me.reduce((Oe,Pe)=>Oe+(Pe.totalPrice||0),0).toFixed(2)} | Collected: ${me.reduce((Oe,Pe)=>Oe+(Pe.amountPaid||0),0).toFixed(2)}`})()})]}),(()=>{const me=d.filter(Oe=>Oe.status==="checked-in");return me.length>0?n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:me.map(Oe=>{var vt,St;const Pe=Oe.totalPrice||0,st=Oe.amountPaid||0,ft=Pe-st;return n.jsx("div",{style:{padding:"20px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",borderLeft:"4px solid #f59e0b"},children:n.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"15px"},children:n.jsxs("div",{style:{flex:1},children:[n.jsxs("h4",{style:{margin:"0 0 10px",display:"flex",alignItems:"center",gap:"10px",fontSize:"18px"},children:[n.jsx(Ii,{size:20})," Room ",((vt=Oe.roomId)==null?void 0:vt.roomNumber)||"N/A",n.jsx("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",backgroundColor:"#dcfce7",color:"#166534"},children:"CHECKED-IN"}),Oe.extensions&&Oe.extensions.length>0&&n.jsxs("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",backgroundColor:"#fef3c7",color:"#92400e",border:"1px solid #f59e0b"},children:["EXTENDED (",Oe.extensions.length,"x)"]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[n.jsxs("div",{children:[n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#374151"},children:[n.jsx(Qo,{size:14,style:{marginRight:"6px"}}),n.jsx("strong",{children:"Guest:"})," ",Oe.userName]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#374151"},children:[n.jsx(Za,{size:14,style:{marginRight:"6px"}}),n.jsx("strong",{children:"Phone:"})," ",Oe.userPhone]}),Oe.userEmail&&n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#374151"},children:[n.jsx(ys,{size:14,style:{marginRight:"6px"}}),n.jsx("strong",{children:"Email:"})," ",Oe.userEmail]})]}),n.jsxs("div",{children:[n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#374151"},children:[n.jsx(Br,{size:14,style:{marginRight:"6px"}}),n.jsx("strong",{children:"Check-in:"})," ",ne(Oe.checkInDate)]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#374151"},children:[n.jsx(Br,{size:14,style:{marginRight:"6px"}}),n.jsx("strong",{children:"Check-out:"})," ",ne(Oe.checkOutDate)]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#374151"},children:[n.jsx("strong",{children:"Nights:"})," ",Oe.nights]})]})]}),n.jsxs("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:"6px",marginBottom:"15px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[n.jsx("span",{style:{fontSize:"14px",color:"#6b7280"},children:"Total Amount:"}),n.jsxs("span",{style:{fontSize:"14px",fontWeight:"600"},children:["",Pe.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[n.jsx("span",{style:{fontSize:"14px",color:"#059669"},children:"Amount Paid:"}),n.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",color:"#059669"},children:["",st.toFixed(2)]})]}),ft>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"8px",borderTop:"1px solid #e5e7eb"},children:[n.jsx("span",{style:{fontSize:"14px",color:"#dc2626",fontWeight:"600"},children:"Balance Due:"}),n.jsxs("span",{style:{fontSize:"14px",fontWeight:"700",color:"#dc2626"},children:["",ft.toFixed(2)]})]}),Oe.gstType&&Oe.gstType!=="none"&&n.jsxs("div",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:["GST Applied: ",Oe.gstType==="gst"?"CGST + SGST (5%)":"IGST (5%)"]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[ft>0&&n.jsx("button",{onClick:()=>{B(Oe),R(!0)},style:{padding:"10px 16px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:nt=>nt.target.style.backgroundColor="#047857",onMouseOut:nt=>nt.target.style.backgroundColor="#059669",children:"Add Payment"}),n.jsxs("button",{onClick:()=>{B(Oe),V(!0)},style:{padding:"10px 16px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"6px"},onMouseOver:nt=>nt.target.style.backgroundColor="#d97706",onMouseOut:nt=>nt.target.style.backgroundColor="#f59e0b",children:[n.jsx(Pi,{size:16})," Extend Stay"]}),(()=>{var nt;return console.log("Booking extensions check:",{bookingId:Oe._id,hasExtensions:Oe.extensions,extensionsLength:(nt=Oe.extensions)==null?void 0:nt.length,extensionsData:Oe.extensions}),Oe.extensions&&Oe.extensions.length>0})()&&n.jsxs("button",{onClick:()=>{B(Oe),U(!0)},style:{padding:"10px 16px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"6px"},onMouseOver:nt=>nt.target.style.backgroundColor="#b91c1c",onMouseOut:nt=>nt.target.style.backgroundColor="#dc2626",title:"Cancel specific days from extension",children:[n.jsx(Hn,{size:16})," Cancel Extension"]}),n.jsx("button",{onClick:()=>{B(Oe),O(!0)},style:{padding:"10px 16px",backgroundColor:"#8b5cf6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:nt=>nt.target.style.backgroundColor="#7c3aed",onMouseOut:nt=>nt.target.style.backgroundColor="#8b5cf6",children:"Restaurant Bill"}),n.jsx("button",{onClick:()=>J(Oe),style:{padding:"10px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:nt=>nt.target.style.backgroundColor="#2563eb",onMouseOut:nt=>nt.target.style.backgroundColor="#3b82f6",children:"Checkout"}),Oe.gstType&&Oe.gstType!=="none"&&n.jsxs("button",{onClick:()=>Ye(Oe),style:{padding:"10px 16px",backgroundColor:"white",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},onMouseOver:nt=>{nt.target.style.backgroundColor="#f3f4f6"},onMouseOut:nt=>{nt.target.style.backgroundColor="white"},children:[n.jsx(Va,{size:16})," Print Bill"]}),((St=Oe.userName)==null?void 0:St.startsWith("BULK:"))&&n.jsxs("button",{onClick:()=>Et(Oe),style:{padding:"10px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},onMouseOver:nt=>{nt.target.style.backgroundColor="#059669"},onMouseOut:nt=>{nt.target.style.backgroundColor="#10b981"},children:[n.jsx(Va,{size:16})," Print Bill (No GST)"]})]})]})})},Oe._id)})}):n.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280",backgroundColor:"white",borderRadius:"8px"},children:[n.jsx(Ii,{size:48,style:{marginBottom:"10px",opacity:.5}}),n.jsx("p",{children:"No active bookings found"}),n.jsx("p",{style:{fontSize:"14px",marginTop:"5px"},children:"All checked-in guests will appear here"})]})})()]}),Z==="history"&&n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap",alignItems:"center"},children:[n.jsx("div",{style:{display:"flex",gap:"8px"},children:$e().map(({label:me,date:Oe})=>n.jsx("button",{onClick:()=>pe(Oe),style:{padding:"8px 16px",border:je===Oe?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:je===Oe?"#dcfce7":"white",cursor:"pointer",fontSize:"13px",fontWeight:je===Oe?"600":"400"},children:me},Oe))}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontSize:"14px",color:"#6b7280"},children:"Or select date:"}),n.jsx("input",{type:"date",value:je,onChange:me=>pe(me.target.value),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px"}})]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0f9ff",borderRadius:"8px",borderLeft:"4px solid #0ea5e9"},children:[n.jsxs("h3",{style:{margin:"0 0 5px",fontSize:"16px"},children:["Bookings for ",ne(je)]}),n.jsxs("p",{style:{margin:0,color:"#6b7280"},children:[Bt.length," booking(s) found | Total Revenue: ",Bt.reduce((me,Oe)=>me+(Oe.totalPrice||0),0).toFixed(2)," | Collected: ",Bt.reduce((me,Oe)=>me+(Oe.amountPaid||0),0).toFixed(2)]})]}),Bt.length>0?n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Bt.map(me=>{var Oe,Pe,st;return n.jsx("div",{style:{padding:"15px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${me.status==="checked-out"?"#22c55e":me.status==="cancelled"?"#ef4444":"#f59e0b"}`},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"10px"},children:[n.jsxs("div",{children:[n.jsxs("h4",{style:{margin:"0 0 5px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Ii,{size:16})," Room ",((Oe=me.roomId)==null?void 0:Oe.roomNumber)||"N/A",n.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"500",backgroundColor:me.status==="checked-out"?"#dcfce7":me.status==="cancelled"?"#fee2e2":"#fef3c7",color:me.status==="checked-out"?"#166534":me.status==="cancelled"?"#dc2626":"#92400e"},children:(Pe=me.status)==null?void 0:Pe.toUpperCase()})]}),n.jsxs("p",{style:{margin:"3px 0",fontSize:"14px",color:"#374151"},children:[n.jsx("strong",{children:"Guest:"})," ",me.userName," | ",n.jsx("strong",{children:"Phone:"})," ",me.userPhone]}),n.jsxs("p",{style:{margin:"3px 0",fontSize:"13px",color:"#6b7280"},children:["Check-in: ",ne(me.checkInDate),"  Check-out: ",ne(me.checkOutDate)," (",me.nights," nights)"]})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsxs("p",{style:{margin:"0 0 3px",fontSize:"14px"},children:[n.jsx("strong",{children:"Total:"})," ",(me.totalPrice||0).toFixed(2)]}),n.jsxs("p",{style:{margin:"0 0 3px",fontSize:"13px",color:"#059669"},children:[n.jsx("strong",{children:"Paid:"})," ",(me.amountPaid||0).toFixed(2)]}),me.totalPrice-(me.amountPaid||0)>0&&n.jsxs("p",{style:{margin:"0",fontSize:"13px",color:"#dc2626",fontWeight:"600"},children:["Due: ",(me.totalPrice-(me.amountPaid||0)).toFixed(2)]}),me.gstType&&me.gstType!=="none"&&n.jsxs("p",{style:{margin:"3px 0 0",fontSize:"11px",color:"#6b7280"},children:["GST: ",me.gstType==="gst"?"CGST+SGST":"IGST"]}),me.gstType&&me.gstType!=="none"&&n.jsxs("button",{onClick:()=>Ye(me),style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px",marginLeft:"auto"},children:[n.jsx(Va,{size:14})," Print Bill"]}),((st=me.userName)==null?void 0:st.startsWith("BULK:"))&&n.jsxs("button",{onClick:()=>Et(me),style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px",marginLeft:"auto"},children:[n.jsx(Va,{size:14})," Print Bill (No GST)"]})]})]})},me._id)})}):n.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280",backgroundColor:"white",borderRadius:"8px"},children:[n.jsx(Br,{size:48,style:{marginBottom:"10px",opacity:.5}}),n.jsxs("p",{children:["No bookings found for ",ne(je)]})]})]}),Z==="rooms"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:"250px"},children:[n.jsx(lr,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),n.jsx("input",{type:"text",placeholder:"Search by room number or type...",value:b,onChange:me=>y(me.target.value),style:{width:"100%",padding:"10px 10px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"6px"}})]}),n.jsxs("select",{value:T,onChange:me=>E(me.target.value),style:{padding:"10px 15px",border:"1px solid #e5e7eb",borderRadius:"6px",minWidth:"150px"},children:[n.jsx("option",{value:"all",children:"All Rooms"}),n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"unavailable",children:"Unavailable"})]}),n.jsxs("button",{onClick:()=>z(!0),style:{padding:"10px 20px",backgroundColor:"#7c3aed",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},children:[n.jsx(Ii,{size:18}),"Bulk Booking"]}),n.jsxs("button",{onClick:()=>ae(!0),style:{padding:"10px 20px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},children:[n.jsx(Bp,{size:18}),"Bulk Checkout"]})]}),h?n.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Loading rooms..."}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:zt.map(me=>{var nt;const Oe=new Date,Pe=Oe.getMonth(),st=Oe.getFullYear(),ft=new Date(st,Pe+1,0).getDate(),vt=d.filter(yt=>{var Te;if((((Te=yt.roomId)==null?void 0:Te._id)||yt.roomId)!==me._id)return!1;const bt=new Date(yt.checkInDate),Ft=new Date(yt.checkOutDate),Lt=new Date(st,Pe,1),ve=new Date(st,Pe+1,0);return bt<=ve&&Ft>=Lt}),St={};return vt.forEach(yt=>{const ht=yt.checkInDate.split("T")[0],bt=yt.checkOutDate.split("T")[0],Ft=new Date(ht),Lt=new Date(bt),ve=new Date(Ft);for(;ve<Lt;){if(ve.getMonth()===Pe&&ve.getFullYear()===st){const Te=ve.getDate();St[Te]||(St[Te]=[]),St[Te].push({guestName:yt.userName,phone:yt.userPhone,checkIn:yt.checkInDate,checkOut:yt.checkOutDate,status:yt.status,bookingId:yt._id})}ve.setDate(ve.getDate()+1)}}),n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"2px solid #e5e7eb"},children:[n.jsx("div",{style:{padding:"15px",backgroundColor:"#f8fafc",borderBottom:"1px solid #e5e7eb"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Ii,{size:20})," Room ",me.roomNumber]}),n.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:n.jsx("span",{style:{padding:"4px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:"500",backgroundColor:"#22c55e",color:"white"},children:"Available"})})]})}),n.jsxs("div",{style:{padding:"15px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[n.jsxs("div",{children:[n.jsxs("p",{style:{margin:"0 0 8px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("strong",{children:"Type:"})," ",me.roomType]}),n.jsxs("p",{style:{margin:"0 0 8px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("strong",{children:"Floor:"})," ",me.floor]}),n.jsxs("p",{style:{margin:"0 0 8px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("strong",{children:"Price:"})," ",me.price,"/night"]}),n.jsxs("p",{style:{margin:"0 0 8px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("strong",{children:"Capacity:"})," ",((nt=me.capacity)==null?void 0:nt.adults)||2," Adults"]})]}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px"},children:[n.jsx(Br,{size:16}),n.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"},children:new Date(st,Pe).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",fontSize:"10px"},children:[["S","M","T","W","T","F","S"].map((yt,ht)=>n.jsx("div",{style:{textAlign:"center",fontWeight:"600",color:"#6b7280",padding:"2px"},children:yt},`day-header-${ht}`)),(()=>{const yt=new Date(st,Pe,1).getDay(),ht=[];for(let bt=0;bt<yt;bt++)ht.push(n.jsx("div",{style:{padding:"4px"}},`empty-${bt}`));for(let bt=1;bt<=ft;bt++){const Ft=bt===Oe.getDate()&&Pe===new Date().getMonth()&&st===new Date().getFullYear(),Lt=St[bt]||[],ve=Lt.length>0,Te=Lt.length>0?Lt.map(Ne=>`${Ne.guestName} (${Ne.phone})
${new Date(Ne.checkIn).toLocaleDateString()} - ${new Date(Ne.checkOut).toLocaleDateString()}
Status: ${Ne.status}`).join(`

`):"";ht.push(n.jsxs("div",{title:Te,style:{textAlign:"center",padding:"4px",borderRadius:"3px",backgroundColor:Ft?"#3b82f6":"transparent",color:Ft?"white":"#374151",fontWeight:Ft?"600":"400",position:"relative",minHeight:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:ve?"pointer":"default"},onClick:()=>{if(ve){const Ne=Lt.map(He=>`Guest: ${He.guestName}
Phone: ${He.phone}
Check-in: ${new Date(He.checkIn).toLocaleDateString()}
Check-out: ${new Date(He.checkOut).toLocaleDateString()}
Status: ${He.status.toUpperCase()}`).join(`

`);alert(`Bookings for ${bt}/${Pe+1}/${st}:

${Ne}`)}},children:[bt,ve&&n.jsx("div",{style:{position:"absolute",top:"2px",right:"2px",width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#ef4444"}}),Lt.length>1&&n.jsx("div",{style:{position:"absolute",bottom:"1px",right:"1px",fontSize:"6px",fontWeight:"bold",color:"#ef4444",backgroundColor:"white",borderRadius:"50%",width:"8px",height:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:Lt.length})]},bt))}return ht})()]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"8px",fontSize:"11px",color:"#6b7280"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#ef4444"}}),n.jsx("span",{children:"Booked (click for details)"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#3b82f6"}}),n.jsx("span",{children:"Today"})]})]})]})]}),!1,(()=>{const yt=new Date().toISOString().split("T")[0];return d.filter(ht=>{var ve;if((((ve=ht.roomId)==null?void 0:ve._id)||ht.roomId)!==me._id)return!1;const Ft=ht.checkInDate.split("T")[0],Lt=ht.checkOutDate.split("T")[0];return yt>=Ft&&yt<Lt&&ht.status!=="cancelled"}),d.filter(ht=>{var Lt;return(((Lt=ht.roomId)==null?void 0:Lt._id)||ht.roomId)!==me._id?!1:ht.checkInDate.split("T")[0]>yt&&(ht.status==="confirmed"||ht.status==="checked-in")}),n.jsxs(n.Fragment,{children:[!1,!1]})})(),(()=>{const yt=new Date().toISOString().split("T")[0],ht=d.find(bt=>{var Te;if((((Te=bt.roomId)==null?void 0:Te._id)||bt.roomId)!==me._id)return!1;const Lt=bt.checkInDate.split("T")[0],ve=bt.checkOutDate.split("T")[0];return yt>=Lt&&yt<ve&&bt.status==="checked-in"});return ht?n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>{B(ht),V(!0)},style:{flex:1,padding:"10px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Extend Stay"}),n.jsx("button",{onClick:()=>J(ht),style:{flex:1,padding:"10px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Checkout"})]}):n.jsx("button",{onClick:()=>Ce(me),style:{width:"100%",padding:"10px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Book Now"})})()]})]},me._id)})}),zt.length===0&&!h&&n.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:"No rooms found matching your criteria"})]}),A&&C&&n.jsx(Hhe,{room:C,onClose:()=>{k(!1),S(null)},onBook:Qe}),Y&&n.jsx(Yhe,{rooms:a,allBookings:d,onClose:()=>z(!1),onBulkBook:Ge}),L&&D&&n.jsx(Ghe,{booking:D,onClose:()=>{O(!1),B(null)},onAddBill:oe,onRemoveBill:te}),F&&D&&n.jsx(Vhe,{booking:D,onClose:()=>{M(!1),B(null)},onCheckout:ce,onUpdatePayment:re}),W&&n.jsx(Xhe,{onClose:()=>P(!1),onCreateBooking:Se,onPayBooking:Xe,onCancelBooking:Ue}),I&&D&&n.jsx(Qhe,{booking:D,onClose:()=>{R(!1),B(null)},onAddPayment:Xe}),H&&D&&n.jsx(Zhe,{booking:D,onClose:()=>{V(!1),B(null)},onExtend:dt}),he&&D&&n.jsx(Jhe,{booking:D,onClose:()=>{U(!1),B(null)},onCancelExtension:_e}),Q&&n.jsx(efe,{bookings:d,onClose:()=>ae(!1),onBulkCheckout:rt})]})}):n.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Loading..."})},Xhe=({onClose:e,onCreateBooking:t,onPayBooking:r,onCancelBooking:a})=>{const[i,s]=N.useState("create"),[l,d]=N.useState([]),[u,h]=N.useState(!1),[p,m]=N.useState({guestName:"",guestPhone:"",guestEmail:"",checkInDate:new Date(Date.now()+864e5).toISOString().split("T")[0],checkOutDate:new Date(Date.now()+2*864e5).toISOString().split("T")[0],roomType:"",advanceAmount:"",paymentMethod:"cash"});N.useEffect(()=>{i==="manage"&&g()},[i]);const g=async()=>{h(!0);try{const y=await An.get("/room-booking"),T=y.data.bookings||y.data||[],E=new Date;E.setHours(0,0,0,0);const C=T.filter(S=>{const A=new Date(S.checkInDate);return A.setHours(0,0,0,0),A>E&&S.status==="confirmed"});d(C)}catch(y){console.error("Error fetching future bookings:",y)}finally{h(!1)}},v=async y=>{y.preventDefault();try{const T={...p,status:"confirmed",amountPaid:parseFloat(p.advanceAmount)||0,paymentStatus:"pending"};await t(T),m({guestName:"",guestPhone:"",guestEmail:"",checkInDate:new Date(Date.now()+864e5).toISOString().split("T")[0],checkOutDate:new Date(Date.now()+2*864e5).toISOString().split("T")[0],roomType:"",advanceAmount:"",paymentMethod:"cash"}),s("manage")}catch(T){console.error("Error creating advance booking:",T)}},j=async(y,T,E)=>{try{await r(y._id,T,E),g()}catch(C){console.error("Error processing payment:",C)}},b=async y=>{if(window.confirm(`Are you sure you want to cancel booking for ${y.userName}?`))try{await a(y._id),g()}catch(T){console.error("Error cancelling booking:",T)}};return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#3b82f6",color:"white"},children:[n.jsx("h3",{style:{margin:0},children:"Advance Booking Management"}),n.jsx("button",{onClick:e,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",color:"white"},children:""})]}),n.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb"},children:[n.jsx("button",{onClick:()=>s("create"),style:{flex:1,padding:"12px",border:"none",backgroundColor:i==="create"?"#3b82f6":"#f3f4f6",color:i==="create"?"white":"#374151",cursor:"pointer",fontWeight:"500"},children:"Create New Booking"}),n.jsxs("button",{onClick:()=>s("manage"),style:{flex:1,padding:"12px",border:"none",backgroundColor:i==="manage"?"#3b82f6":"#f3f4f6",color:i==="manage"?"white":"#374151",cursor:"pointer",fontWeight:"500"},children:["Manage Bookings (",l.length,")"]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px"},children:i==="create"?n.jsxs("form",{onSubmit:v,children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Guest Name *"}),n.jsx("input",{type:"text",value:p.guestName,onChange:y=>m({...p,guestName:y.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter guest name"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Phone *"}),n.jsx("input",{type:"tel",value:p.guestPhone,onChange:y=>m({...p,guestPhone:y.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Email"}),n.jsx("input",{type:"email",value:p.guestEmail,onChange:y=>m({...p,guestEmail:y.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter email (optional)"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Room Type"}),n.jsxs("select",{value:p.roomType,onChange:y=>m({...p,roomType:y.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},children:[n.jsx("option",{value:"",children:"Any Available"}),n.jsx("option",{value:"Single",children:"Single"}),n.jsx("option",{value:"Double",children:"Double"}),n.jsx("option",{value:"Suite",children:"Suite"}),n.jsx("option",{value:"Deluxe",children:"Deluxe"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Check-in Date *"}),n.jsx("input",{type:"date",value:p.checkInDate,onChange:y=>m({...p,checkInDate:y.target.value}),required:!0,min:new Date().toISOString().split("T")[0],style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Check-out Date *"}),n.jsx("input",{type:"date",value:p.checkOutDate,onChange:y=>m({...p,checkOutDate:y.target.value}),required:!0,min:p.checkInDate,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Advance Amount ()"}),n.jsx("input",{type:"number",value:p.advanceAmount,onChange:y=>m({...p,advanceAmount:y.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter advance payment",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Payment Method"}),n.jsxs("select",{value:p.paymentMethod,onChange:y=>m({...p,paymentMethod:y.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},children:[n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"online",children:"Online"})]})]})]}),n.jsx("button",{type:"submit",style:{width:"100%",padding:"12px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500",fontSize:"16px"},children:"Create Advance Booking"})]}):n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"15px"},children:"Future Bookings"}),u?n.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."}):l.length===0?n.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:"No future bookings found"}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:l.map(y=>{var T,E,C,S;return n.jsx("div",{style:{padding:"15px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("h5",{style:{margin:"0 0 8px",color:"#1e293b"},children:y.userName}),n.jsxs("div",{style:{fontSize:"14px",color:"#64748b",marginBottom:"8px"},children:[n.jsxs("div",{children:[" ",y.userPhone]}),y.userEmail&&n.jsxs("div",{children:[" ",y.userEmail]}),n.jsxs("div",{children:[" Room: ",((T=y.roomId)==null?void 0:T.roomNumber)||"TBD"," (",((E=y.roomId)==null?void 0:E.roomType)||"Any",")"]}),n.jsxs("div",{children:[" ",new Date(y.checkInDate).toLocaleDateString()," - ",new Date(y.checkOutDate).toLocaleDateString()]}),n.jsxs("div",{children:[" Total: ",((C=y.totalPrice)==null?void 0:C.toFixed(2))||"0.00"," | Paid: ",((S=y.amountPaid)==null?void 0:S.toFixed(2))||"0.00"]}),y.totalPrice-y.amountPaid>0&&n.jsxs("div",{style:{color:"#dc2626",fontWeight:"500"},children:[" Due: ",(y.totalPrice-y.amountPaid).toFixed(2)]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[y.totalPrice-y.amountPaid>0&&n.jsx("button",{onClick:()=>{const A=prompt(`Enter payment amount (Due: ${(y.totalPrice-y.amountPaid).toFixed(2)}):`);if(A&&parseFloat(A)>0){const k=confirm("Click OK for Cash, Cancel for Online")?"cash":"online";j(y,parseFloat(A),k)}},style:{padding:"6px 12px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:" Pay"}),n.jsx("button",{onClick:()=>b(y),style:{padding:"6px 12px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:" Cancel"})]})]})},y._id)})})]})})]})})},Qhe=({booking:e,onClose:t,onAddPayment:r})=>{var b;const[a,i]=N.useState(""),[s,l]=N.useState("cash"),[d,u]=N.useState(!1),[h,p]=N.useState(""),m=e.totalPrice||0,g=e.amountPaid||0,v=m-g,j=async y=>{y.preventDefault(),p("");const T=parseFloat(a);if(!T||T<=0){p("Please enter a valid payment amount");return}if(T>v){p(`Payment amount cannot exceed balance due (${v.toFixed(2)})`);return}u(!0);try{const E=g+T;await r(e._id,E,s),t()}catch(E){p(E.message||"Failed to add payment")}finally{u(!1)}};return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"500px",padding:"0",overflow:"hidden"},children:[n.jsxs("div",{style:{padding:"16px 20px",backgroundColor:"#059669",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("h3",{style:{margin:0},children:["Add Payment - Room ",(b=e.roomId)==null?void 0:b.roomNumber]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",color:"white"},children:""})]}),h&&n.jsxs("div",{style:{padding:"12px 20px",backgroundColor:"#fee2e2",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:16}),n.jsx("span",{style:{fontSize:"14px"},children:h})]}),n.jsxs("div",{style:{padding:"20px"},children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0fdf4",borderRadius:"8px"},children:[n.jsxs("h4",{style:{margin:"0 0 10px"},children:["Guest: ",e.userName]}),n.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#6b7280"},children:["Phone: ",e.userPhone]}),n.jsxs("p",{style:{margin:"5px 0 0",fontSize:"14px",color:"#6b7280"},children:["Check-in: ",new Date(e.checkInDate).toLocaleDateString()," | Check-out: ",new Date(e.checkOutDate).toLocaleDateString()]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Payment Summary"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[n.jsx("span",{children:"Total Amount:"}),n.jsxs("span",{style:{fontWeight:"600"},children:["",m.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#059669"},children:[n.jsx("span",{children:"Already Paid:"}),n.jsxs("span",{style:{fontWeight:"600"},children:["",g.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"10px",borderTop:"1px solid #e5e7eb"},children:[n.jsx("span",{style:{fontWeight:"600",color:"#dc2626"},children:"Balance Due:"}),n.jsxs("span",{style:{fontWeight:"700",fontSize:"18px",color:"#dc2626"},children:["",v.toFixed(2)]})]})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Payment Amount () *"}),n.jsx("input",{type:"number",value:a,onChange:y=>i(y.target.value),required:!0,min:"0.01",max:v,step:"0.01",style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:`Enter amount (Max: ${v.toFixed(2)})`})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Payment Method *"}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:s==="cash"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:s==="cash"?"#dcfce7":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:s==="cash",onChange:y=>l(y.target.value)}),n.jsx("span",{style:{fontWeight:"500"},children:" Cash"})]}),n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:s==="online"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:s==="online"?"#dcfce7":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:s==="online",onChange:y=>l(y.target.value)}),n.jsx("span",{style:{fontWeight:"500"},children:" Online"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsx("button",{type:"button",onClick:t,style:{flex:1,padding:"12px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:d,style:{flex:1,padding:"12px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:d?"not-allowed":"pointer",fontWeight:"500"},children:d?"Processing...":"Add Payment"})]})]})]})]})})},Zhe=({booking:e,onClose:t,onExtend:r})=>{var T,E;const[a,i]=N.useState(1),[s,l]=N.useState(!1),[d,u]=N.useState(""),h=new Date(e.checkOutDate),p=new Date(h),m=typeof a=="string"?parseInt(a)||0:a;p.setDate(p.getDate()+m);const g=((T=e.roomId)==null?void 0:T.price)||0,v=g*m,j=e.gstType==="gst"||e.gstType==="igst"?v*.05:0,b=v+j,y=async C=>{C.preventDefault(),u("");const S=typeof a=="string"?parseInt(a):a;if(!S||S<1){u("Please select at least 1 additional night");return}l(!0);try{await r(e._id,p.toISOString().split("T")[0],S,b),t()}catch(A){u(A.message||"Failed to extend booking")}finally{l(!1)}};return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px 20px",backgroundColor:"#f59e0b",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",flexShrink:0},children:[n.jsxs("h3",{style:{margin:0},children:["Extend Stay - Room ",(E=e.roomId)==null?void 0:E.roomNumber]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",color:"white"},children:""})]}),d&&n.jsxs("div",{style:{padding:"12px 20px",backgroundColor:"#fee2e2",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[n.jsx(Qt,{size:16}),n.jsx("span",{style:{fontSize:"14px"},children:d})]}),n.jsxs("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0fdf4",borderRadius:"8px"},children:[n.jsxs("h4",{style:{margin:"0 0 10px"},children:["Guest: ",e.userName]}),n.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#6b7280"},children:["Phone: ",e.userPhone]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Current Booking"}),n.jsxs("div",{style:{fontSize:"14px",color:"#374151",marginBottom:"5px"},children:[n.jsx("strong",{children:"Check-in:"})," ",new Date(e.checkInDate).toLocaleDateString()]}),n.jsxs("div",{style:{fontSize:"14px",color:"#374151",marginBottom:"5px"},children:[n.jsx("strong",{children:"Current Check-out:"})," ",h.toLocaleDateString()]}),n.jsxs("div",{style:{fontSize:"14px",color:"#374151"},children:[n.jsx("strong",{children:"Current Nights:"})," ",e.nights]})]}),n.jsxs("form",{onSubmit:y,children:[n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Additional Nights *"}),n.jsx("input",{type:"number",value:a,onChange:C=>{const S=C.target.value;if(S===""||S===null)i("");else{const A=parseInt(S);!isNaN(A)&&A>=0&&i(A)}},onBlur:C=>{(C.target.value===""||parseInt(C.target.value)<1)&&i(1)},required:!0,min:"1",max:"30",style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"}})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#fef3c7",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px",color:"#92400e"},children:"Extended Booking Details"}),n.jsxs("div",{style:{fontSize:"14px",color:"#92400e",marginBottom:"5px"},children:[n.jsx("strong",{children:"New Check-out:"})," ",p.toLocaleDateString()]}),n.jsxs("div",{style:{fontSize:"14px",color:"#92400e",marginBottom:"5px"},children:[n.jsx("strong",{children:"Total Nights:"})," ",e.nights+m]}),n.jsxs("div",{style:{fontSize:"14px",color:"#92400e",marginBottom:"10px"},children:[n.jsx("strong",{children:"Additional Charge:"})," ",g,"  ",m," night",m>1?"s":""," = ",v.toFixed(2)]}),j>0&&n.jsxs("div",{style:{fontSize:"13px",color:"#92400e",marginBottom:"5px"},children:[n.jsxs("strong",{children:["GST (",e.gstType==="gst"?"CGST+SGST":"IGST"," 5%):"]})," ",j.toFixed(2)]}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"700",color:"#92400e",paddingTop:"10px",borderTop:"1px solid #fde68a"},children:[n.jsx("strong",{children:"Total Additional Amount:"})," ",b.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsx("button",{type:"button",onClick:t,style:{flex:1,padding:"12px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:s,style:{flex:1,padding:"12px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:s?"not-allowed":"pointer",fontWeight:"500"},children:s?"Extending...":"Extend Booking"})]})]})]})]})})},Jhe=({booking:e,onClose:t,onCancelExtension:r})=>{var T;const[a,i]=N.useState(1),[s,l]=N.useState(!1),[d,u]=N.useState(""),h=e.extensions&&e.extensions.length>0?e.extensions[e.extensions.length-1]:null;if(!h)return null;const p=h.additionalNights,m=h.additionalAmount/h.additionalNights,g=m*a,v=E=>E?new Date(E).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",j=async E=>{E.preventDefault(),l(!0),u("");try{const C=await r(e._id,a);t()}catch(C){u(C.message)}finally{l(!1)}},b=new Date(e.checkOutDate),y=new Date(b);return y.setDate(b.getDate()-a),n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"0",maxWidth:"500px",width:"90%",margin:"16px",maxHeight:"90vh",overflowY:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #e5e7eb",backgroundColor:"#fef2f2",borderRadius:"12px 12px 0 0"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",margin:0,color:"#dc2626"},children:"Cancel Extension Days"}),n.jsxs("p",{style:{fontSize:"14px",color:"#6b7280",margin:"4px 0 0"},children:["Room ",(T=e.roomId)==null?void 0:T.roomNumber," - ",e.userName]})]}),n.jsx("button",{onClick:t,style:{color:"#6b7280",backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px"},children:n.jsx(Hn,{size:24})})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{style:{padding:"20px"},children:[d&&n.jsx("div",{style:{padding:"12px",backgroundColor:"#fef2f2",color:"#dc2626",borderRadius:"8px",marginBottom:"16px",fontSize:"14px"},children:d}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#fef3c7",borderRadius:"8px",marginBottom:"20px",border:"1px solid #f59e0b"},children:[n.jsx("h3",{style:{margin:"0 0 12px",fontSize:"16px",color:"#92400e"},children:"Current Extension Details"}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Extended Nights:"})," ",h.additionalNights," night(s)"]}),n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Extension Amount:"})," ",h.additionalAmount.toFixed(2)]}),n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Current Checkout:"})," ",v(e.checkOutDate)]}),n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Rate per Day:"})," ",m.toFixed(2)]})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Days to Cancel from Extension *"}),n.jsx("select",{value:a,onChange:E=>i(parseInt(E.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px"},required:!0,children:Array.from({length:p},(E,C)=>C+1).map(E=>n.jsxs("option",{value:E,children:[E," day",E>1?"s":""," - Refund ",(m*E).toFixed(2)]},E))}),n.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:["You can cancel 1 to ",p," days from the extension"]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",marginBottom:"20px",border:"1px solid #10b981"},children:[n.jsx("h3",{style:{margin:"0 0 12px",fontSize:"16px",color:"#166534"},children:"Cancellation Summary"}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Days to Cancel:"})," ",a," night",a>1?"s":""]}),n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Refund Amount:"})," ",g.toFixed(2)]}),n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"New Checkout Date:"})," ",v(y)]}),n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Remaining Extension:"})," ",p-a," night",p-a!==1?"s":""]})]})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",padding:"20px",borderTop:"1px solid #e5e7eb",backgroundColor:"#f9fafb",borderRadius:"0 0 12px 12px"},children:[n.jsx("button",{type:"button",onClick:t,disabled:s,style:{padding:"10px 20px",backgroundColor:"white",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:s,style:{padding:"10px 20px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",opacity:s?.6:1},children:s?"Cancelling...":`Cancel ${a} Day${a>1?"s":""}`})]})]})]})})},efe=({bookings:e,onClose:t,onBulkCheckout:r})=>{var E,C;const[a,i]=N.useState(null),[s,l]=N.useState(!1),[d,u]=N.useState(""),[h,p]=N.useState("cash"),m=e.filter(S=>{var A;return((A=S.userName)==null?void 0:A.startsWith("BULK:"))&&S.status==="checked-in"}),g=()=>{var F;if(!a)return{grandTotal:0,amountPaid:0,balanceDue:0};const S=a.totalPrice||0,A=a.amountPaid||0,k=S-A,D=(F=a.userName)==null?void 0:F.match(/\((\d+) rooms?\)/);return{totalRooms:D?parseInt(D[1]):1,roomCharges:a.baseAmount||0,totalGst:(a.cgst||0)+(a.sgst||0)+(a.igst||0),restaurantBills:0,grandTotal:S,amountPaid:A,balanceDue:k}},v=g(),j=async()=>{const S=parseFloat(d)||0;if(S<=0){alert("Please enter a valid payment amount");return}if(!a){alert("Please select a bulk booking first");return}l(!0);try{const A=(a.amountPaid||0)+S;await An.put(`/room-booking/${a._id}/payment`,{amountPaid:A,paymentMethod:h,paymentAmount:S}),i({...a,amountPaid:A}),u(""),alert(`Payment of ${S.toFixed(2)} added successfully!`)}catch(A){console.error("Error adding payment:",A),alert("Failed to add payment. Please try again.")}finally{l(!1)}},b=async()=>{if(!a||v.balanceDue<=0){alert("No balance due to pay");return}l(!0);try{await An.put(`/room-booking/${a._id}/payment`,{amountPaid:v.grandTotal,paymentMethod:h,paymentAmount:v.balanceDue}),i({...a,amountPaid:v.grandTotal}),alert("Full balance paid successfully!")}catch(S){console.error("Error paying full balance:",S),alert("Failed to pay full balance. Please try again.")}finally{l(!1)}},y=async()=>{if(!a){alert("Please select a bulk booking to checkout");return}const S=g();if(window.confirm(`Checkout bulk booking for ${a.userName}?

Total Rooms: ${S.totalRooms}
Total Amount: ${S.grandTotal.toFixed(2)}
Balance Due: ${S.balanceDue.toFixed(2)}`)){l(!0);try{await r([a]),t()}catch(A){console.error("Bulk checkout error:",A),alert("Failed to checkout bulk booking. Please try again.")}finally{l(!1)}}},T=()=>{var F,M;if(!a){alert("Please select a bulk booking first");return}const S=(F=a.userName)==null?void 0:F.match(/BULK: (.+) \(\d+ rooms?\)/),A=S?S[1]:a.userName,k=(M=a.userName)==null?void 0:M.match(/\((\d+) rooms?\)/),D=k?parseInt(k[1]):1,B=window.open("","_blank");B.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Bulk Booking Bill</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          .header { text-align: center; margin-bottom: 30px; }
          .guest-info { margin-bottom: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 8px; }
          .room-details { margin-bottom: 20px; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th, td { padding: 8px; text-align: left; border-bottom: 1px solid #ddd; }
          .total-row { font-weight: bold; font-size: 16px; }
          .balance-due { color: #dc2626; font-weight: bold; }
          .room-list { margin: 10px 0; padding: 10px; background-color: #f0f9ff; border-radius: 6px; }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>HOTEL VIRAT</h1>
          <h2>BULK BOOKING BILL</h2>
          <p><strong>Bill Number:</strong> BULK-${a._id}</p>
          <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
        </div>
        
        <div class="guest-info">
          <h3>Guest Details:</h3>
          <p><strong>Name:</strong> ${A}</p>
          <p><strong>Phone:</strong> ${a.userPhone}</p>
          ${a.userEmail?`<p><strong>Email:</strong> ${a.userEmail}</p>`:""}
          ${a.guestGstNumber?`<p><strong>GST Number:</strong> ${a.guestGstNumber}</p>`:""}
        </div>
        
        <div class="room-details">
          <h3>Booking Details:</h3>
          <p><strong>Total Rooms:</strong> ${v.totalRooms}</p>
          <div class="room-list">
            <strong>Rooms:</strong> ${D} rooms (Bulk Booking)
          </div>
          <p><strong>Check-in:</strong> ${new Date(a.checkInDate).toLocaleDateString()}</p>
          <p><strong>Check-out:</strong> ${new Date(a.checkOutDate).toLocaleDateString()}</p>
          <p><strong>Nights:</strong> ${a.nights||1}</p>
        </div>
        
        <table>
          <tr><td><strong>Room Charges:</strong></td><td>${v.roomCharges.toFixed(2)}</td></tr>
          ${v.totalGst>0?`<tr><td><strong>GST:</strong></td><td>${v.totalGst.toFixed(2)}</td></tr>`:""}
          <tr><td colspan="2"><hr></td></tr>
          <tr class="total-row"><td><strong>Grand Total:</strong></td><td>${v.grandTotal.toFixed(2)}</td></tr>
          <tr><td><strong>Amount Paid:</strong></td><td>${v.amountPaid.toFixed(2)}</td></tr>
          <tr class="total-row balance-due"><td><strong>Balance Due:</strong></td><td>${v.balanceDue.toFixed(2)}</td></tr>
        </table>
        
        <div style="margin-top: 40px; text-align: center;">
          <p>Thank you for choosing Hotel Virat!</p>
          <p style="font-size: 12px;">This is a bulk booking for ${v.totalRooms} rooms.</p>
        </div>
        
        <script>
          window.onload = function() {
            window.print();
            window.onafterprint = function() {
              window.close();
            }
          }
        <\/script>
      </body>
      </html>
    `),B.document.close()};return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#dc2626",color:"white"},children:[n.jsx("h3",{style:{margin:0},children:"Bulk Checkout"}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",color:"white"},children:""})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px"},children:m.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:[n.jsx("h4",{children:"No Bulk Bookings Available"}),n.jsx("p",{children:"Only bulk bookings can be checked out using bulk checkout."}),n.jsx("p",{children:"Individual rooms should be checked out separately."})]}):n.jsxs("div",{children:[n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{margin:"0 0 15px",color:"#374151"},children:"Select Bulk Booking to Checkout:"}),n.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"8px"},children:m.map(S=>{var M,L;const A=(a==null?void 0:a._id)===S._id,k=(M=S.userName)==null?void 0:M.match(/\((\d+) rooms?\)/),D=k?parseInt(k[1]):1,B=(L=S.userName)==null?void 0:L.match(/BULK: (.+) \(\d+ rooms?\)/),F=B?B[1]:S.userName;return n.jsxs("div",{style:{padding:"15px",borderBottom:"1px solid #f3f4f6",display:"flex",alignItems:"center",gap:"12px",backgroundColor:A?"#f0f9ff":"white",cursor:"pointer"},onClick:()=>i(S),children:[n.jsx("input",{type:"radio",checked:A,onChange:()=>i(S),style:{transform:"scale(1.2)"}}),n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"4px"},children:[F," - ",D," Rooms"]}),n.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"2px"},children:[" ",S.userPhone," |  Bulk Booking (",D," rooms)"]}),n.jsxs("div",{style:{fontSize:"12px",color:"#6b7280"},children:[" Total: ",(S.totalPrice||0).toFixed(2)," | Paid: ",(S.amountPaid||0).toFixed(2)]})]})]},S._id)})})]}),a&&n.jsxs("div",{children:[n.jsxs("h4",{style:{margin:"0 0 15px",color:"#374151"},children:["Bulk Booking Details - ",((C=(E=a.userName)==null?void 0:E.match(/BULK: (.+) \(\d+ rooms?\)/))==null?void 0:C[1])||a.userName]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{children:"Total Rooms:"}),n.jsx("span",{children:v.totalRooms})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{children:"Room Charges:"}),n.jsxs("span",{children:["",v.roomCharges.toFixed(2)]})]}),v.totalGst>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{children:"GST:"}),n.jsxs("span",{children:["",v.totalGst.toFixed(2)]})]}),n.jsx("hr",{style:{margin:"10px 0"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"16px",fontWeight:"600"},children:[n.jsx("span",{children:"Grand Total:"}),n.jsxs("span",{children:["",v.grandTotal.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{children:"Amount Paid:"}),n.jsxs("span",{children:["",v.amountPaid.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"16px",fontWeight:"600",color:v.balanceDue>0?"#dc2626":"#059669"},children:[n.jsx("span",{children:"Balance Due:"}),n.jsxs("span",{children:["",v.balanceDue.toFixed(2)]})]})]}),v.balanceDue>0&&n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h5",{style:{margin:"0 0 10px"},children:"Add Payment ()"}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[n.jsx("input",{type:"number",value:d,onChange:S=>u(S.target.value),placeholder:"Enter amount",style:{flex:1,padding:"8px",border:"1px solid #e5e7eb",borderRadius:"4px"}}),n.jsx("button",{onClick:j,disabled:s||!d,style:{padding:"8px 16px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:s||!d?.6:1},children:"Add"})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",padding:"8px 12px",border:h==="cash"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"4px",cursor:"pointer",backgroundColor:h==="cash"?"#f0fdf4":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:h==="cash",onChange:S=>p(S.target.value)})," Cash"]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px",padding:"8px 12px",border:h==="online"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"4px",cursor:"pointer",backgroundColor:h==="online"?"#f0fdf4":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:h==="online",onChange:S=>p(S.target.value)})," Online"]})]}),n.jsxs("button",{onClick:b,disabled:s,style:{width:"100%",padding:"10px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"10px",opacity:s?.6:1},children:["Pay Full Balance (",v.balanceDue.toFixed(2),")"]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:t,style:{padding:"10px 20px",backgroundColor:"white",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer"},children:"Close"}),n.jsxs("button",{onClick:T,style:{padding:"10px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(Va,{size:16})," Print Bill"]}),n.jsx("button",{onClick:y,disabled:s,style:{padding:"10px 20px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",opacity:s?.6:1},children:s?"Processing...":`Checkout (${v.balanceDue.toFixed(2)} due)`})]})]})]})})]})})},Fo=Mt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),tfe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,h]=N.useState([]),[p,m]=N.useState(!0),[g,v]=N.useState(""),j=`
    .search-container {
      position: relative;
      flex: 1;
      max-width: 400px;
    }
    
    .search-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: #666;
      z-index: 1;
    }
    
    .search-input {
      width: 100%;
      padding: 10px 12px 10px 40px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      height: 38px;
    }
    
    .filter-buttons {
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    }
    
    .filter-select.compact {
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      height: 38px;
      min-width: 140px;
      background: white;
    }
    
    .legacy-filter-label {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      white-space: nowrap;
      cursor: pointer;
    }
    
    .legacy-filter-label input[type="checkbox"] {
      margin: 0;
    }
    
    .filters-bar {
      display: flex;
      gap: 16px;
      align-items: center;
      padding: 16px 20px;
      background: #f8f9fa;
      border-bottom: 1px solid #e5e7eb;
      flex-wrap: wrap;
    }
  `;N.useEffect(()=>{const de=document.createElement("style");return de.textContent=j,document.head.appendChild(de),()=>{document.head.removeChild(de)}},[]);const[b,y]=N.useState(!1),[T,E]=N.useState(null),[C,S]=N.useState(""),[A,k]=N.useState(""),[D,B]=N.useState("all"),[F,M]=N.useState("all"),[L,O]=N.useState(""),[W,P]=N.useState(!0),[I,R]=N.useState(1),[H,V]=N.useState(1),he=10;N.useEffect(()=>{(async()=>{try{const[xe,Z]=await Promise.all([Fo.get("/branch"),Fo.get("/table")]),ge=xe.data||[];let je=[];Z.data&&Z.data.success&&Array.isArray(Z.data.data)?je=Z.data.data:Array.isArray(Z.data)&&(je=Z.data),console.log(" Branches API response:",ge),console.log(" Tables API response:",je),console.log(" Available branch IDs:",ge.map(pe=>pe._id)),console.log(" Available branch names:",ge.map(pe=>`${pe._id}: ${pe.name}`)),d(ge),h(je),await U(ge,je)}catch(xe){console.error(" Error in fetchAllData:",xe),d([]),h([]),v("Failed to load data. Please refresh the page.")}finally{m(!1)}})()},[]),N.useEffect(()=>{l.length>=0&&u.length>=0&&Y()},[D,F,L]);const U=async(de=l,xe=u)=>{var Z,ge;try{if(!de||de.length===0){console.log(" Branches data is empty, fetching again...");try{de=(await Fo.get("/branch")).data||[],console.log(" Refetched branches:",de),d(de)}catch(le){console.error(" Error refetching branches:",le),de=[]}}if(!xe||xe.length===0){console.log(" Tables data is empty, fetching again...");try{const Ce=(await Fo.get("/table")).data;Ce&&Ce.success&&Array.isArray(Ce.data)?xe=Ce.data:Array.isArray(Ce)?xe=Ce:xe=[],console.log(" Refetched tables:",xe),h(xe)}catch(le){console.error(" Error refetching tables:",le),xe=[]}}const je={};D!=="all"&&(je.status=D),L&&(je.date=L),console.log("Fetching reservations with params:",je);const pe=await Fo.get("/reservation",{params:je});if(console.log(" Full reservation response:",pe),console.log(" Response status:",pe.status),console.log(" Response data:",pe.data),console.log(" Response data type:",typeof pe.data),console.log(" Response data keys:",pe.data?Object.keys(pe.data):"null"),pe.data&&pe.data.error)throw console.error(" API returned error:",pe.data.error),new Error(`API Error: ${pe.data.error}`);let Je=[];if(pe.data&&pe.data.message==="Reservation routes working")console.log(" Server returning placeholder response - treating as empty result"),Je=[];else if(pe.data&&pe.data.success&&Array.isArray(pe.data.data))console.log(" Using new format: {success, count, data}"),Je=pe.data.data;else if(Array.isArray(pe.data))console.log(" Using old format: direct array"),Je=pe.data;else if(pe.data&&pe.data.success===!1)console.log(" API returned success: false, treating as empty result"),Je=[];else throw console.error(" Unexpected response format:",pe.data),console.error(" Expected either Array or {success, count, data}"),new Error("Invalid response format");console.log("Raw reservations data:",Je),console.log("Available branches for processing:",de),console.log("Available tables for processing:",xe),console.log("Branches count:",de.length),console.log("Tables count:",xe.length);const Ee=Je.map(le=>{if(console.log("Processing reservation:",le),!le.tableId)return console.log("Legacy reservation without table:",le._id),{id:le._id,customerName:le.customerName,customerPhone:le.customerPhone,customerEmail:le.customerEmail||"",guestCount:le.guestCount,tableNumber:"N/A",tableName:"No Table Assigned",branchName:"Legacy Data",branchId:null,reservationDate:new Date(le.reservationDate).toLocaleDateString(),timeSlot:le.timeSlot,status:le.status,notes:le.notes||"",createdAt:new Date(le.createdAt).toLocaleString(),originalReservation:le,isLegacyReservation:!0};let Ce="N/A";if(le.tableId)if(typeof le.tableId=="object")Ce=le.tableId.number||"N/A";else{const J=xe.find(oe=>oe._id===le.tableId);Ce=(J==null?void 0:J.number)||"N/A"}let Qe="Unknown Branch",re=null;if(le.branchId)if(console.log(" Direct branchId found:",le.branchId),typeof le.branchId=="object")Qe=le.branchId.name||"Unknown Branch",re=le.branchId._id;else{console.log(` Looking for direct branch ID: ${le.branchId}`);const J=de.find(oe=>oe._id===le.branchId);if(J)Qe=J.name,re=J._id,console.log(` Found direct branch: ${Qe}`);else{console.log(" Direct branch not found, trying string comparison...");const oe=de.find(te=>te._id.toString()===le.branchId.toString());oe&&(Qe=oe.name,re=oe._id,console.log(` Found direct branch by string comparison: ${Qe}`))}}if(Qe==="Unknown Branch"&&le.tableId&&typeof le.tableId=="object"&&le.tableId.branchId){const J=le.tableId.branchId;if(console.log(` Looking for branch ID: ${J}`),console.log(" Available branches:",de.map(oe=>`${oe._id}:${oe.name}`)),console.log(" Exact match check:",de.find(oe=>oe._id===J)),typeof J=="object")Qe=J.name||"Unknown Branch",re=J._id;else{const oe=de.find(te=>te._id===J);if(oe)Qe=oe.name,re=oe._id,console.log(` Found branch: ${Qe}`);else{console.log(` Branch not found for ID: ${J}`),console.log(" Trying string comparison...");const te=de.find(Se=>Se._id.toString()===J.toString());te&&(Qe=te.name,re=te._id,console.log(` Found branch by string comparison: ${Qe}`))}}}if(Qe==="Unknown Branch"&&le.tableId){const J=typeof le.tableId=="object"?le.tableId._id:le.tableId,oe=xe.find(te=>te._id===J);if(oe&&oe.branchId){const te=de.find(Se=>Se._id===(oe.branchId._id||oe.branchId));te&&(Qe=te.name,re=te._id)}}console.log("Extracted info:",{tableNumber:Ce,branchName:Qe,branchId:re});const ce=new Date-new Date(le.createdAt)<24*60*60*1e3;return{id:le._id,customerName:le.customerName,customerPhone:le.customerPhone,customerEmail:le.customerEmail||"",guestCount:le.guestCount,tableNumber:Ce,tableName:`Table ${Ce}`,branchName:Qe,branchId:re,reservationDate:new Date(le.reservationDate).toLocaleDateString(),timeSlot:le.timeSlot,status:le.status,notes:le.notes||"",createdAt:new Date(le.createdAt).toLocaleString(),originalReservation:le,isNewReservation:ce}});console.log("Formatted reservations:",Ee);const Ve=Array.isArray(Ee)?Ee.sort((le,Ce)=>{const Qe=new Date(le.originalReservation.createdAt);return new Date(Ce.originalReservation.createdAt)-Qe}):[];t(Ve)}catch(je){console.error("Error fetching reservations:",je),console.error("Error details:",{message:je.message,response:(Z=je.response)==null?void 0:Z.data,status:(ge=je.response)==null?void 0:ge.status}),t([]),v("Failed to load reservations. Please refresh the page and try again.")}},Y=async()=>{m(!0),v(""),await U(),m(!1)};N.useEffect(()=>{let de=e;if(W||(de=de.filter(xe=>!xe.isLegacyReservation)),A.trim()){const xe=A.trim().toLowerCase();de=de.filter(Z=>Z.customerName.toLowerCase().includes(xe)||Z.customerPhone.includes(xe)||Z.tableName.toLowerCase().includes(xe)||Z.branchName.toLowerCase().includes(xe)||Z.status.toLowerCase().includes(xe))}F!=="all"&&(de=de.filter(xe=>xe.branchId===F)),s(de),V(Math.ceil(de.length/he)),R(1)},[e,A,F,W]),N.useEffect(()=>{const de=(I-1)*he,xe=de+he,Z=i.slice(de,xe);a(Z)},[i,I]);const z=de=>{E(de),y(!0)},ee=async(de,xe)=>{try{await Fo.put(`/reservation/${de}`,{status:xe}),S(`Reservation ${xe} successfully`),Y(),setTimeout(()=>S(""),3e3)}catch(Z){console.error("Error updating reservation:",Z),alert("Failed to update reservation status")}},q=async de=>{if(window.confirm("Are you sure you want to cancel this reservation?"))try{await Fo.put(`/reservation/${de}/cancel`),S("Reservation cancelled successfully"),Y(),setTimeout(()=>S(""),3e3)}catch(xe){console.error("Error cancelling reservation:",xe),alert("Failed to cancel reservation")}},Q=()=>{let de=`Customer Name,Phone,Email,Table,Branch,Date,Time Slot,Guests,Status,Notes,Created At
`;i.forEach(je=>{de+=`"${je.customerName}","${je.customerPhone}","${je.customerEmail}","${je.tableName}","${je.branchName}","${je.reservationDate}","${je.timeSlot}",${je.guestCount},"${je.status}","${je.notes}","${je.createdAt}"
`});const xe=new Blob([de],{type:"text/csv"}),Z=window.URL.createObjectURL(xe),ge=document.createElement("a");ge.setAttribute("hidden",""),ge.setAttribute("href",Z),ge.setAttribute("download",`reservations-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(ge),ge.click(),document.body.removeChild(ge)},ae=de=>{switch(de){case"confirmed":return"#28a745";case"reserved":return"#ffc107";case"cancelled":return"#dc3545";case"completed":return"#17a2b8";default:return"#6c757d"}};return n.jsxs("div",{className:"reservations-page",children:[C&&n.jsxs("div",{className:"success-message",children:[n.jsx(Rn,{size:16}),n.jsx("span",{children:C}),n.jsx("button",{onClick:()=>S(""),children:n.jsx(Hn,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Table Reservations"}),e.length>0&&n.jsxs("div",{style:{fontSize:"14px",color:"#666",marginTop:"4px"},children:[e.filter(de=>de.isNewReservation).length," new reservations in the last 24 hours"]})]}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-outline",onClick:Q,children:[n.jsx(ta,{size:16}),n.jsx("span",{children:"Export CSV"})]})})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(lr,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by customer name, phone, table, or branch...",className:"search-input",value:A,onChange:de=>k(de.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select compact",value:D,onChange:de=>B(de.target.value),children:[n.jsx("option",{value:"all",children:"All Reservations"}),n.jsx("option",{value:"reserved",children:"New Reservations"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{className:"filter-select compact",value:F,onChange:de=>M(de.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(de=>n.jsx("option",{value:de._id,children:de.name},de._id))]}),n.jsx("input",{type:"date",className:"filter-select compact",value:L,onChange:de=>O(de.target.value),placeholder:"Filter by date"}),n.jsxs("label",{className:"legacy-filter-label",children:[n.jsx("input",{type:"checkbox",checked:W,onChange:de=>P(de.target.checked)}),n.jsx("span",{children:"Show Legacy Data"})]})]})]}),g&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:g})]}),n.jsx("div",{className:"data-card",children:p?n.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading reservations..."})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer Details"}),n.jsx("th",{children:"Table & Branch"}),n.jsx("th",{children:"Reservation Details"}),n.jsx("th",{children:"Guests"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(de=>n.jsxs("tr",{style:{backgroundColor:de.isNewReservation?"#f0f9ff":"transparent",borderLeft:de.isNewReservation?"4px solid #0ea5e9":"none"},children:[n.jsx("td",{children:n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[n.jsx("strong",{style:{fontSize:"16px"},children:de.customerName}),de.isNewReservation&&n.jsx("span",{style:{backgroundColor:"#0ea5e9",color:"white",fontSize:"10px",fontWeight:"bold",padding:"2px 6px",borderRadius:"4px"},children:"NEW"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginTop:"4px"},children:[n.jsx(Za,{size:14}),n.jsx("span",{style:{fontSize:"14px"},children:de.customerPhone})]}),de.customerEmail&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginTop:"2px"},children:[n.jsx(ys,{size:14}),n.jsx("span",{style:{fontSize:"12px",color:"#666"},children:de.customerEmail})]})]})}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px"},children:de.tableName}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Fu,{size:14}),n.jsx("span",{style:{fontSize:"14px",color:de.isLegacyReservation?"#999":"inherit",fontStyle:de.isLegacyReservation?"italic":"normal"},children:de.branchName})]})]})}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginBottom:"4px"},children:[n.jsx(Br,{size:14}),n.jsx("span",{style:{fontSize:"14px",fontWeight:"bold"},children:de.reservationDate})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Di,{size:14}),n.jsx("span",{style:{fontSize:"14px"},children:de.timeSlot})]}),de.notes&&n.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px",fontStyle:"italic"},children:["Note: ",de.notes]})]})}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",justifyContent:"center"},children:[n.jsx(is,{size:16}),n.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:de.guestCount})]})}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>z(de),title:"View full details",children:"View Details"}),de.status==="reserved"&&n.jsx("button",{className:"action-btn edit",onClick:()=>ee(de.id,"confirmed"),title:"Confirm this reservation",children:" Confirm"}),de.status==="confirmed"&&n.jsx("button",{className:"action-btn",style:{backgroundColor:"#17a2b8",color:"white"},onClick:()=>ee(de.id,"completed"),title:"Mark as completed",children:" Complete"}),(de.status==="reserved"||de.status==="confirmed")&&n.jsx("button",{className:"action-btn delete",onClick:()=>q(de.id),title:"Cancel this reservation",children:" Cancel"}),de.status==="completed"&&n.jsx("span",{style:{color:"#28a745",fontWeight:"bold",fontSize:"14px"},children:" Completed"})]})})]},de.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"no-tables",children:"No reservations found matching your criteria"})})})]})}),H>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>R(de=>Math.max(de-1,1)),disabled:I===1||p,children:"Previous"}),n.jsx("div",{className:"pagination-pages",children:Array.from({length:Math.min(5,H)},(de,xe)=>{let Z;return H<=5||I<=3?Z=xe+1:I>=H-2?Z=H-4+xe:Z=I-2+xe,n.jsx("button",{className:`pagination-page ${I===Z?"active":""}`,onClick:()=>R(Z),disabled:p,children:Z},Z)})}),n.jsx("button",{className:"pagination-btn",onClick:()=>R(de=>Math.min(de+1,H)),disabled:I===H||p,children:"Next"})]}),b&&T&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Reservation Details"}),n.jsx("button",{className:"modal-close",onClick:()=>y(!1),children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Customer Name"}),n.jsx("div",{className:"order-detail-value",children:T.customerName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Phone Number"}),n.jsx("div",{className:"order-detail-value",children:T.customerPhone})]}),T.customerEmail&&n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Email"}),n.jsx("div",{className:"order-detail-value",children:T.customerEmail})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table"}),n.jsx("div",{className:"order-detail-value",children:T.tableName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:T.branchName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Reservation Date"}),n.jsx("div",{className:"order-detail-value",children:T.reservationDate})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Time Slot"}),n.jsx("div",{className:"order-detail-value",children:T.timeSlot})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Number of Guests"}),n.jsx("div",{className:"order-detail-value",children:T.guestCount})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:"status-badge",style:{backgroundColor:ae(T.status),color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold"},children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})})]}),T.notes&&n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Special Notes"}),n.jsx("div",{className:"order-detail-value",children:T.notes})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Created At"}),n.jsx("div",{className:"order-detail-value",children:T.createdAt})]})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:()=>y(!1),children:"Close"}),T.status==="reserved"&&n.jsx("button",{className:"btn btn-primary",onClick:()=>{ee(T.id,"confirmed"),y(!1)},children:"Confirm Reservation"})]})]})})]})},rfe="https://hotelvirat.com/api/v1/hotel";class nfe{async request(t,r={}){const a=`${rfe}${t}`,i={headers:{"Content-Type":"application/json",...r.headers},...r},s=new AbortController,l=setTimeout(()=>s.abort(),3e4);i.signal=s.signal;try{const d=await fetch(a,i);if(clearTimeout(l),d.status===429)throw console.warn(" Rate limit hit, waiting 5 seconds before retry..."),await new Promise(p=>setTimeout(p,5e3)),new Error("Rate limit exceeded. Please wait a moment and try again.");const u=d.headers.get("content-type");if(!u||!u.includes("application/json")){const p=await d.text();throw console.error(" Non-JSON response:",p.substring(0,200)),new Error(`Server returned ${d.status}: Expected JSON but got ${u}`)}const h=await d.json();if(!d.ok)throw new Error(h.message||`HTTP error! status: ${d.status}`);return h}catch(d){throw clearTimeout(l),d.name==="AbortError"?new Error("Request timed out. Please check your connection and try again."):(console.error("API request failed:",d),d)}}async sendOtp(t){return this.request("/counter-auth/login/send-otp",{method:"POST",body:JSON.stringify({mobile:t})})}async resendOtp(t){return this.request("/counter-auth/login/resend-otp",{method:"POST",body:JSON.stringify({mobile:t})})}async verifyOtp(t,r){return this.request("/counter-auth/verify-otp",{method:"POST",body:JSON.stringify({mobile:t,otp:r,isRegistration:!1})})}async getBranches(){return this.request("/branch")}async getCategories(t){return this.request(`/category?branchId=${t}`)}async getTables(t){return this.request(`/table?branchId=${t}`)}async getMenuItems(t,r=null){let a=`/menu?branchId=${t}`;return r&&(a+=`&categoryId=${r}`),this.request(a)}async createInvoice(t){return this.request("/counter-invoice/invoices",{method:"POST",body:JSON.stringify(t)})}async createOrder(t){return this.request("/counter-order/orders",{method:"POST",body:JSON.stringify(t)})}async getOrderById(t){return this.request(`/counter-order/orders/${t}`)}async getOrders(t){return this.request("/counter-order/orders")}async getOrdersByBranch(t){const r=await this.request("/counter-order/orders");let a=[];return r.success&&Array.isArray(r.data)?a=r.data:r.orders&&Array.isArray(r.orders)?a=r.orders:Array.isArray(r)&&(a=r),t?a.filter(i=>{var l,d;return(((l=i.branch)==null?void 0:l.id)||((d=i.branchId)==null?void 0:d._id)||i.branchId)===t}):a}async updateOrderStatus(t,r){return this.request(`/counter-order/orders/${t}/order-status`,{method:"PUT",body:JSON.stringify({orderStatus:r})})}async createBill(t){return this.request("/counter-bill",{method:"POST",body:JSON.stringify(t)})}async getBills(t){return this.request(`/counter-bill?branchId=${t}`)}async processPayment(t){return this.request("/counter-payment",{method:"POST",body:JSON.stringify(t)})}async generateInvoice(){const t=Date.now(),r=Math.floor(Math.random()*1e3);return{invoiceNumber:`INV-${t}-${r}`,invoiceId:`${t}${r}`,date:new Date().toLocaleDateString("en-IN"),time:new Date().toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"})}}}const pr=new nfe,afe=({message:e,type:t,onClose:r})=>(N.useEffect(()=>{const a=setTimeout(r,3e3);return()=>clearTimeout(a)},[r]),n.jsx("div",{className:`counter-toast ${t}`,children:e})),ife=()=>{const e=nn(),[t,r]=N.useState(""),[a,i]=N.useState(""),[s,l]=N.useState(!1),[d,u]=N.useState(null),[h,p]=N.useState(!1),[m,g]=N.useState(30),[v,j]=N.useState(!1),[b,y]=N.useState(!1);N.useEffect(()=>{let A;return h&&m>0?A=setTimeout(()=>{g(m-1)},1e3):m===0&&p(!1),()=>clearTimeout(A)},[h,m]);const T=(A,k="success")=>{u({message:A,type:k})},E=async A=>{if(A.preventDefault(),t.length!==10||!/^\d{10}$/.test(t)){T("Please enter a valid 10-digit mobile number","error");return}j(!0);try{const k=await pr.sendOtp(t);l(!0),p(!0),g(30),T(k.message),k.otp&&setTimeout(()=>{T(`Your OTP is ${k.otp}`,"success")},3e3)}catch(k){console.error("Error sending OTP:",k),T(k.message||"Error sending OTP","error")}finally{j(!1)}},C=async()=>{if(t.length!==10||!/^\d{10}$/.test(t)){T("Please enter a valid 10-digit mobile number","error");return}j(!0);try{const A=await pr.resendOtp(t);p(!0),g(30),T(A.message),A.otp&&setTimeout(()=>{T(`Your new OTP is ${A.otp}`,"success")},3e3)}catch(A){console.error("Error resending OTP:",A),T(A.message||"Error resending OTP","error")}finally{j(!1)}},S=async A=>{if(A.preventDefault(),!a||a.length!==6){T("Please enter a valid 6-digit OTP","error");return}y(!0);try{const k=await pr.verifyOtp(t,a),D=k.counter._id;console.log("Counter User ID:",D),localStorage.setItem("counterAuthenticated","true"),localStorage.setItem("counterUserId",D),localStorage.setItem("counterUserData",JSON.stringify(k.counter)),T(k.message),setTimeout(()=>{e("/counter/branch-selection")},1e3)}catch(k){console.error("Error verifying OTP:",k),T(k.message||"Error during login","error")}finally{y(!1)}};return n.jsxs("div",{className:"counter-container",children:[d&&n.jsx(afe,{message:d.message,type:d.type,onClose:()=>u(null)}),n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("img",{src:"/logo.png",alt:"Virat Restaurant",style:{width:"120px",height:"120px",marginBottom:"20px"},onError:A=>{A.target.style.display="none"}}),n.jsx("h1",{className:"counter-title",children:"Counter Login"}),n.jsx("p",{className:"counter-subtitle",children:"Welcome back! Please login to continue"})]}),n.jsxs("form",{className:"counter-form",onSubmit:s?S:E,children:[n.jsxs("div",{className:"counter-form-group",children:[n.jsx("label",{className:"counter-label",children:"Mobile Number"}),n.jsx("input",{type:"tel",className:"counter-input",placeholder:"Enter 10 digit number",maxLength:10,value:t,onChange:A=>r(A.target.value),disabled:s||v,required:!0})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"counter-form-group",children:[n.jsx("label",{className:"counter-label",children:"OTP"}),n.jsx("input",{type:"text",className:"counter-input",placeholder:"Enter 6 digit OTP",maxLength:6,value:a,onChange:A=>i(A.target.value),required:!0})]}),n.jsx("div",{style:{textAlign:"right",marginBottom:"20px"},children:n.jsxs("button",{type:"button",className:"counter-button-secondary",onClick:C,disabled:h||v,style:{width:"auto",padding:"8px 16px",fontSize:"0.875rem",opacity:h?.5:1},children:[h?`Resend OTP in ${m}s`:"Resend OTP",v&&n.jsx("div",{className:"counter-spinner",style:{width:"16px",height:"16px",marginLeft:"8px"}})]})})]}),n.jsx("button",{type:"submit",className:"counter-button",disabled:v||b,children:v||b?n.jsx("div",{className:"counter-spinner",style:{width:"20px",height:"20px"}}):s?"Login":"Send OTP"})]})]})]})},sfe=()=>{const e=nn(),[t,r]=N.useState([]),[a,i]=N.useState(null),[s,l]=N.useState(!0),[d,u]=N.useState(null);N.useEffect(()=>{h()},[]);const h=async()=>{try{l(!0);const v=await pr.getBranches(),j=v.branches||v.data||v||[];r(j)}catch(v){console.error("Error loading branches:",v),u("Failed to load branches. Please try again.")}finally{l(!1)}},p=v=>{i(v)},m=()=>{if(!a){alert("Please select a branch to continue");return}localStorage.setItem("selectedBranch",JSON.stringify(a)),e("/counter/category-selection",{state:{selectedBranch:a}})},g=()=>{localStorage.removeItem("counterAuthenticated"),localStorage.removeItem("counterUserId"),localStorage.removeItem("counterUserData"),localStorage.removeItem("selectedBranch"),e("/counter/login")};return s?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading branches..."})]})})}):d?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("h3",{children:"Error"}),n.jsx("p",{children:d}),n.jsx("button",{className:"counter-button",onClick:h,children:"Retry"})]})})}):n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Select Branch"}),n.jsx("p",{className:"counter-subtitle",children:"Choose your branch to continue"}),n.jsx("button",{className:"counter-button-secondary",onClick:g,style:{position:"absolute",top:"20px",right:"20px",width:"auto",padding:"8px 16px"},children:"Logout"})]}),t.length===0?n.jsx("div",{className:"counter-error",children:n.jsx("p",{children:"No branches available. Please contact administrator."})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"counter-grid",children:t.map(v=>n.jsxs("div",{className:`counter-item ${(a==null?void 0:a._id)===v._id?"selected":""}`,onClick:()=>p(v),children:[n.jsx("h3",{style:{margin:"0 0 8px 0",color:"#1a202c"},children:v.name}),n.jsx("p",{style:{margin:"0 0 8px 0",color:"#718096",fontSize:"0.875rem"},children:v.address}),n.jsxs("p",{style:{margin:"0",color:"#4a5568",fontSize:"0.875rem"},children:[" ",v.phone]}),v.email&&n.jsxs("p",{style:{margin:"4px 0 0 0",color:"#4a5568",fontSize:"0.875rem"},children:[" ",v.email]})]},v._id))}),n.jsx("div",{style:{textAlign:"center",marginTop:"32px"},children:n.jsx("button",{className:"counter-button",onClick:m,disabled:!a,style:{maxWidth:"300px"},children:"Continue to Category Selection"})})]})]})})},ofe=()=>{const e=nn(),r=Gn().state,[a,i]=N.useState([]),[s,l]=N.useState(null),[d,u]=N.useState(!0),[h,p]=N.useState(null);N.useEffect(()=>{if(!r||!r.selectedBranch){e("/counter/branch-selection");return}m()},[r,e]);const m=async()=>{try{u(!0),p(null);const y=await pr.getCategories(r.selectedBranch._id),T=[];if(y){const C=y.categories||y;Array.isArray(C)&&C.length>0&&C.forEach(S=>{const A=S.name||S.categoryName||S.title;A&&T.push({_id:S._id||S.id,name:A,description:S.description||"",image:S.image||null,itemCount:S.itemCount||0})})}const E=T.filter(C=>{const S=C.name.toLowerCase();return!0});i(E)}catch(y){console.error("Error loading categories:",y),p("Failed to load categories. Please try again.")}finally{u(!1)}},g=y=>{l(y)},v=async()=>{if(!s){alert("Please select a category to continue");return}let y;const T=s.name.toLowerCase();if(T.includes("self service")||T.includes("darshini")){const E=new Date,C=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),A=String(E.getFullYear()).slice(-2),k=`${C}-${S}-${A}`,D=`darshini-counter-${k}`;let B=parseInt(localStorage.getItem(D)||"0");B++,localStorage.setItem(D,B.toString());const F=String(B).padStart(3,"0");y=`darshini-${k}-${F}`,console.log(" Generated Self Service invoice:",y)}else if(T.includes("restaurant")){const E=new Date,C=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),A=String(E.getFullYear()).slice(-2),D=`restaurant-counter-${`${C}-${S}-${A}`}`;let B=parseInt(localStorage.getItem(D)||"0");B++,localStorage.setItem(D,B.toString()),y=B.toString(),console.log(" Generated Restaurant invoice:",y)}else if(T.includes("temple")||T.includes("meal")){const E=new Date,C=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),A=String(E.getFullYear()).slice(-2),k=`${C}-${S}-${A}`,D=`temple-counter-${k}`;let B=parseInt(localStorage.getItem(D)||"0");B++,localStorage.setItem(D,B.toString());const F=String(B).padStart(3,"0");y=`temple-${k}-${F}`,console.log(" Generated Temple Meals invoice:",y)}else y=`INV-${Date.now()}`,console.log(" Generated standard invoice:",y);e("/counter/menu",{state:{...r,selectedCategory:s,customerName:"Walk-in Customer",phoneNumber:"0000000000",invoiceNumber:y,date:new Date().toLocaleDateString("en-IN"),time:new Date().toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"}),cartItems:[]}})},j=()=>{e("/counter/branch-selection")},b=()=>{localStorage.removeItem("counterAuthenticated"),localStorage.removeItem("counterUserId"),localStorage.removeItem("counterUserData"),localStorage.removeItem("selectedBranch"),localStorage.removeItem("counterSelectedCategory"),e("/counter/login")};return r?d?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading categories..."})]})})}):h?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("h3",{children:"Error"}),n.jsx("p",{children:h}),n.jsx("button",{className:"counter-button",onClick:m,children:"Retry"})]})})}):n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Select Category"}),n.jsxs("p",{className:"counter-subtitle",children:[r.selectedBranch.name,"  Choose your dining category"]}),n.jsx("button",{className:"counter-button-secondary",onClick:b,style:{position:"absolute",top:"20px",right:"20px",width:"auto",padding:"8px 16px"},children:"Logout"})]}),a.length===0?n.jsx("div",{className:"counter-error",children:n.jsx("p",{children:"No categories available for this branch. Please contact administrator."})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"counter-grid",children:a.map(y=>n.jsxs("div",{className:`counter-item ${(s==null?void 0:s._id)===y._id?"selected":""}`,onClick:()=>g(y),style:{minHeight:"120px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"24px 16px"},children:[n.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"12px"},children:y.name.toLowerCase().includes("restaurant")?"":y.name.toLowerCase().includes("temple")?"":y.name.toLowerCase().includes("self service")?"":y.name.toLowerCase().includes("breakfast")?"":y.name.toLowerCase().includes("lunch")?"":y.name.toLowerCase().includes("dinner")?"":y.name.toLowerCase().includes("snack")?"":y.name.toLowerCase().includes("beverage")?"":y.name.toLowerCase().includes("sweet")?"":""}),n.jsx("h3",{style:{margin:"0 0 8px 0",color:"#1a202c",fontSize:"1.1rem",fontWeight:"600"},children:y.name}),y.description&&n.jsx("p",{style:{margin:"0 0 8px 0",color:"#718096",fontSize:"0.875rem",lineHeight:"1.4"},children:y.description}),y.itemCount>0&&n.jsxs("p",{style:{margin:"0",color:"#4a5568",fontSize:"0.75rem",fontWeight:"500"},children:[y.itemCount," items available"]}),(y.name.toLowerCase().includes("restaurant")||y.name.toLowerCase().includes("temple meal"))&&n.jsx("p",{style:{margin:"4px 0 0 0",color:"#f59e0b",fontSize:"0.7rem",fontWeight:"600"},children:" Table Selection Available"})]},y._id))}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"32px",gap:"16px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:j,style:{width:"auto",padding:"12px 24px"},children:" Back to Branches"}),n.jsx("button",{className:"counter-button",onClick:v,disabled:!s,style:{maxWidth:"300px",opacity:s?1:.6,cursor:s?"pointer":"not-allowed"},children:"Continue to Menu "})]})]})]})}):n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Branch data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/branch-selection"),children:"Go Back"})]})})})};class lfe{constructor(){this.printerWidth=38,this.leftMargin="  ",this.isElectron=typeof window<"u"&&window.electronAPI}formatLine(t,r="center"){const a=this.printerWidth;if(t.length>a)return this.leftMargin+t.substring(0,a);switch(r){case"center":const i=Math.floor((a-t.length)/2);return this.leftMargin+" ".repeat(Math.max(0,i))+t+" ".repeat(Math.max(0,i));case"right":return this.leftMargin+" ".repeat(Math.max(0,a-t.length))+t;default:return this.leftMargin+t}}formatTwoColumn(t,r){const a=this.printerWidth,i=r.length+1,s=a-i;return this.leftMargin+t.substring(0,s).padEnd(s)+" "+r}createSeparator(t="-"){return this.leftMargin+t.repeat(this.printerWidth)}generateThermalReceipt(t){var h,p,m,g,v,j,b,y,T,E;const r=[];r.push(this.formatLine("HOTEL VIRAT SIRI DARSHINI","center")),r.push(this.formatLine("ISKON FOOTHILLS, 149/A, R BLOCK,","center")),r.push(this.formatLine("WOC ROAD, RAJAJINAGAR BENGALURU 560010","center")),r.push(this.formatLine("GSTIN: 29AGZPV1558K2Z6","center")),r.push("");let a="SELF SERVICE";if(console.log(" Thermal printer - determining service type:",{selectedTable:t.selectedTable,tableNumber:((h=t.selectedTable)==null?void 0:h.tableNumber)||((p=t.selectedTable)==null?void 0:p.number),selectedCategory:t.selectedCategory,categoryName:(m=t.selectedCategory)==null?void 0:m.name,fullPaymentData:t}),t.selectedTable&&(t.selectedTable.tableNumber||t.selectedTable.number))a="RESTAURANT",console.log(" Service type set to RESTAURANT (has table)");else if(t.selectedCategory){const C=((g=t.selectedCategory.name)==null?void 0:g.toLowerCase())||"";C.includes("restaurant")?(a="RESTAURANT",console.log(" Service type set to RESTAURANT (category)")):C.includes("temple")||C.includes("meal")?(a="TEMPLE MEALS",console.log(" Service type set to TEMPLE MEALS")):(C.includes("darshini")||C.includes("self service"))&&(a="SELF SERVICE",console.log(" Service type set to SELF SERVICE"))}console.log(" Final service type for receipt:",a);let i="C1/as";if(console.log(" Receipt right corner logic - serviceType:",a),console.log(" Receipt right corner logic - selectedTable:",t.selectedTable),console.log(" Receipt right corner logic - tableNumber:",(v=t.selectedTable)==null?void 0:v.tableNumber),console.log(" Receipt right corner logic - number:",(j=t.selectedTable)==null?void 0:j.number),a==="RESTAURANT"){const C=((b=t.selectedTable)==null?void 0:b.tableNumber)||((y=t.selectedTable)==null?void 0:y.number);C?(i=`Table ${C}`,console.log("  Using table number for restaurant receipt:",i)):(console.log("  Restaurant service but no table number found, using default C1/as"),console.log("  selectedTable object:",JSON.stringify(t.selectedTable,null,2)))}else console.log(" Using default C1/as for receipt because service type is:",a);console.log(" Final receipt right corner text:",i),r.push(this.formatTwoColumn(a,i)),r.push(this.createSeparator("-"));let s="NaN-NaN-NaN";try{const C=t.date?new Date(t.date):new Date;if(isNaN(C.getTime())){const S=new Date,A=String(S.getDate()).padStart(2,"0"),k=String(S.getMonth()+1).padStart(2,"0"),D=S.getFullYear();s=`${A}-${k}-${D}`}else{const S=String(C.getDate()).padStart(2,"0"),A=String(C.getMonth()+1).padStart(2,"0"),k=C.getFullYear();s=`${S}-${A}-${k}`}}catch(C){console.error("Date formatting error:",C);const S=new Date,A=String(S.getDate()).padStart(2,"0"),k=String(S.getMonth()+1).padStart(2,"0"),D=S.getFullYear();s=`${A}-${k}-${D}`}let l="";try{const C=t.time?new Date(`1970-01-01 ${t.time}`):new Date;!isNaN(C.getTime())&&t.time?l=t.time:l=new Date().toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"})}catch(C){console.error("Time formatting error:",C),l=new Date().toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"})}r.push(this.formatTwoColumn(s,l)),r.push(this.leftMargin+"BILL NO: "+String(t.invoiceNumber||"001")),r.push(this.createSeparator("-")),r.push(this.formatTwoColumn("ITEM NAME","QTY  RATE  AMOUNT")),r.push(this.createSeparator("-")),t.cartItems.forEach(C=>{const S=C.name.toUpperCase(),A=parseFloat(C.quantity).toFixed(3),k=parseFloat(C.price).toFixed(2),D=parseFloat(C.price*C.quantity).toFixed(2);r.push(this.leftMargin+S);const B=`${A}  ${k}  ${D}`;r.push(this.formatLine(B,"right"))}),r.push(this.createSeparator("-"));const d=t.cartItems.reduce((C,S)=>C+S.price*S.quantity,0);if(r.push(this.formatTwoColumn("SUBTOTAL:",`${parseFloat(d).toFixed(2)}`)),t.discountAmount&&t.discountAmount>0&&(r.push(this.formatTwoColumn("DISCOUNT:",`-${parseFloat(t.discountAmount).toFixed(2)}`)),t.discountRemark||(T=t.discount)!=null&&T.remark)){const C=t.discountRemark||((E=t.discount)==null?void 0:E.remark)||"";C.length>0&&r.push(this.leftMargin+`Reason: ${C}`)}r.push(this.createSeparator("-"));const u=t.total||d-(t.discountAmount||0);return r.push(this.formatTwoColumn("GRAND TOTAL:",`${parseFloat(u).toFixed(2)}`)),r.push(this.createSeparator("-")),t.paymentMethod!=="Pending"&&r.push(this.formatTwoColumn("PAYMENT:",t.paymentMethod.toUpperCase())),r.push(this.formatLine(".. !! THANK YOU,VISIT AGAIN !!..","center")),r.push(""),r.push(""),r.join(`
`)}generateThermalBill(t){var h,p,m,g,v,j,b,y,T,E;console.log(" generateThermalBill called with data:",t);const r=[];r.push(this.formatLine("HOTEL VIRAT SIRI DARSHINI","center")),r.push(this.formatLine("ISKON FOOTHILLS, 149/A, R BLOCK,","center")),r.push(this.formatLine("WOC ROAD, RAJAJINAGAR BENGALURU 560010","center")),r.push(this.formatLine("GSTIN: 29AGZPV1558K2Z6","center")),r.push("");let a="SELF SERVICE";if(console.log(" Thermal printer bill - determining service type:",{selectedTable:t.selectedTable,tableNumber:((h=t.selectedTable)==null?void 0:h.tableNumber)||((p=t.selectedTable)==null?void 0:p.number),selectedCategory:t.selectedCategory,categoryName:(m=t.selectedCategory)==null?void 0:m.name,fullBillData:t}),t.selectedTable&&(t.selectedTable.tableNumber||t.selectedTable.number))a="RESTAURANT",console.log(" Bill service type set to RESTAURANT (has table)");else if(t.selectedCategory){const C=((g=t.selectedCategory.name)==null?void 0:g.toLowerCase())||"";C.includes("restaurant")?(a="RESTAURANT",console.log(" Bill service type set to RESTAURANT (category)")):C.includes("temple")||C.includes("meal")?(a="TEMPLE MEALS",console.log(" Bill service type set to TEMPLE MEALS")):(C.includes("darshini")||C.includes("self service"))&&(a="SELF SERVICE",console.log(" Bill service type set to SELF SERVICE"))}console.log(" Final bill service type for receipt:",a);let i="C1/as";if(console.log(" Right corner logic - serviceType:",a),console.log(" Right corner logic - selectedTable:",t.selectedTable),console.log(" Right corner logic - tableNumber:",(v=t.selectedTable)==null?void 0:v.tableNumber),console.log(" Right corner logic - number:",(j=t.selectedTable)==null?void 0:j.number),a==="RESTAURANT"){const C=((b=t.selectedTable)==null?void 0:b.tableNumber)||((y=t.selectedTable)==null?void 0:y.number);C?(i=`Table ${C}`,console.log("  Using table number for restaurant:",i)):(console.log("  Restaurant service but no table number found, using default C1/as"),console.log("  selectedTable object:",JSON.stringify(t.selectedTable,null,2)))}else console.log(" Using default C1/as because service type is:",a);console.log(" Final right corner text:",i),r.push(this.formatTwoColumn(a,i)),r.push(this.createSeparator("-")),console.log(" Processing date and time:",{originalDate:t.date,originalTime:t.time,dateType:typeof t.date,timeType:typeof t.time});let s="NaN-NaN-NaN";try{let C;if(t.date?(C=new Date(t.date),console.log(" Parsed date object:",C,"isValid:",!isNaN(C.getTime()))):(C=new Date,console.log(" Using current date as fallback")),isNaN(C.getTime())){const S=new Date,A=String(S.getDate()).padStart(2,"0"),k=String(S.getMonth()+1).padStart(2,"0"),D=S.getFullYear();s=`${A}-${k}-${D}`,console.log(" Using current date fallback:",s)}else{const S=String(C.getDate()).padStart(2,"0"),A=String(C.getMonth()+1).padStart(2,"0"),k=C.getFullYear();s=`${S}-${A}-${k}`,console.log(" Formatted date:",s)}}catch(C){console.error(" Date formatting error:",C);const S=new Date,A=String(S.getDate()).padStart(2,"0"),k=String(S.getMonth()+1).padStart(2,"0"),D=S.getFullYear();s=`${A}-${k}-${D}`,console.log(" Error fallback date:",s)}let l="";try{t.time&&typeof t.time=="string"?(l=t.time,console.log(" Using provided time:",l)):(l=new Date().toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"}),console.log(" Using current time:",l))}catch(C){console.error(" Time formatting error:",C),l=new Date().toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"}),console.log(" Error fallback time:",l)}console.log(" Final date and time for receipt:",{formattedDate:s,formattedTime:l}),r.push(this.formatTwoColumn(s,l)),r.push(this.leftMargin+"BILL NO: "+String(t.invoiceNumber||"001")),r.push(this.createSeparator("-")),r.push(this.formatTwoColumn("ITEM NAME","QTY  RATE  AMOUNT")),r.push(this.createSeparator("-")),t.cartItems.forEach(C=>{const S=C.name.toUpperCase(),A=parseFloat(C.quantity).toFixed(3),k=parseFloat(C.price).toFixed(2),D=parseFloat(C.price*C.quantity).toFixed(2);r.push(this.leftMargin+S);const B=`${A}  ${k}  ${D}`;r.push(this.formatLine(B,"right"))}),r.push(this.createSeparator("-"));const d=t.cartItems.reduce((C,S)=>C+S.price*S.quantity,0);if(r.push(this.formatTwoColumn("SUBTOTAL:",`${parseFloat(d).toFixed(2)}`)),console.log(" Discount processing:",{discountAmount:t.discountAmount,discountRemark:t.discountRemark,discount:t.discount,hasDiscount:!!(t.discountAmount&&t.discountAmount>0)}),t.discountAmount&&t.discountAmount>0){if(console.log(" Adding discount to receipt:",t.discountAmount),r.push(this.formatTwoColumn("DISCOUNT:",`-${parseFloat(t.discountAmount).toFixed(2)}`)),t.discountRemark||(T=t.discount)!=null&&T.remark){const C=t.discountRemark||((E=t.discount)==null?void 0:E.remark)||"";C.length>0&&(r.push(this.leftMargin+`Reason: ${C}`),console.log(" Added discount reason:",C))}}else console.log(" No discount to add - discountAmount:",t.discountAmount);r.push(this.createSeparator("-"));const u=t.total||d-(t.discountAmount||0);return console.log(" Total calculation:",{subtotal:d,discountAmount:t.discountAmount||0,providedTotal:t.total,calculatedTotal:u}),r.push(this.formatTwoColumn("GRAND TOTAL:",`${parseFloat(u).toFixed(2)}`)),r.push(this.createSeparator("-")),r.push(this.formatLine(".. !! THANK YOU,VISIT AGAIN !!..","center")),r.push(""),r.push(""),r.join(`
`)}generateKOT(t){const r=[];r.push(this.formatLine("*** KITCHEN ORDER TICKET ***","center")),r.push(this.createSeparator("=")),r.push(""),r.push(this.formatLine(`KOT: ${t.kotNumber}`,"center")),r.push(this.formatLine(`TABLE: ${t.tableNumber}`,"center")),r.push(""),r.push(this.createSeparator("="));const a=new Date,i=a.toLocaleDateString("en-IN"),s=a.toLocaleTimeString("en-IN",{hour12:!0});r.push(this.formatTwoColumn("Date:",i)),r.push(this.formatTwoColumn("Time:",s)),r.push(this.createSeparator("-")),r.push(this.formatTwoColumn("ITEM","QTY")),r.push(this.createSeparator("=")),t.items.forEach(d=>{const u=d.name.toUpperCase(),h=`${d.quantity}x`;r.push(this.formatTwoColumn(u,h)),r.push("")}),r.push(this.createSeparator("="));const l=t.items.reduce((d,u)=>d+u.quantity,0);return r.push(this.formatLine(`TOTAL ITEMS: ${l}`,"center")),r.push(""),r.push(this.formatLine("*** PREPARE IMMEDIATELY ***","center")),r.push(""),r.push(""),r.push(""),r.join(`
`)}async printViaElectron(t){if(!this.isElectron)throw new Error("Electron API not available");try{return await window.electronAPI.printThermal({text:t,options:{preview:!1,margin:{top:0,bottom:0,left:0,right:0},pageSize:{width:80,height:200}}})}catch(r){throw console.error("Electron thermal printing failed:",r),r}}async printViaWebSerial(t){if(!("serial"in navigator))throw new Error("Web Serial API not supported in this browser");try{const r=await navigator.serial.requestPort({filters:[{usbVendorId:1208},{usbVendorId:1305},{usbVendorId:4070}]});await r.open({baudRate:9600});const a=new TextEncoder,i=r.writable.getWriter();return await i.write(a.encode("\x1B@")),await i.write(a.encode("L\0\0")),await i.write(a.encode("\x1B!\0")),await i.write(a.encode("\x1Ba\0")),await i.write(a.encode(t)),await i.write(a.encode("VB\0")),await i.write(a.encode(`


`)),i.releaseLock(),await r.close(),{success:!0,message:"Receipt printed successfully via USB"}}catch(r){throw r.name==="NotFoundError"?new Error("No thermal printer selected. Please connect a USB thermal printer and try again."):(console.error("Web Serial printing failed:",r),new Error(`USB printing failed: ${r.message}`))}}async printViaNetwork(t,r="192.168.1.100",a=9100){try{const i="https://hotelvirat.com/api/v1/hotel",s=new AbortController,l=setTimeout(()=>s.abort(),3e3),d=await fetch(`${i}/print-thermal/network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,printerIP:r,port:a}),signal:s.signal});clearTimeout(l);const u=await d.json();if(!d.ok)throw u.error&&(u.error.includes("timeout")||u.error.includes("Connection timeout")||u.error.includes("ECONNREFUSED")||u.error.includes("EHOSTUNREACH"))?new Error(`Thermal printer not found at ${r}:${a}. Please check printer connection and IP address.`):new Error(`Network printing failed: ${u.message||d.statusText}`);return u}catch(i){throw i.name==="AbortError"?new Error(`Network printing timed out. Printer at ${r}:${a} is not responding.`):(console.error("Network thermal printing failed:",i),i)}}printViaBrowser(t){return new Promise(r=>{try{const a=window.open("","_blank","width=400,height=600");if(!a){this.printInCurrentWindowSafe(t),r({success:!0,method:"current-window"});return}const i=`
          <!DOCTYPE html>
          <html>
          <head>
            <title>Receipt</title>
            <style>
              @media print {
                @page {
                  size: 80mm auto;
                  margin: 0;
                }
                body {
                  margin: 0;
                  padding: 5mm;
                  font-family: 'Courier New', monospace;
                  font-size: 12px;
                  line-height: 1.2;
                  width: 70mm;
                }
              }
              body {
                font-family: 'Courier New', monospace;
                font-size: 12px;
                line-height: 1.2;
                margin: 0;
                padding: 10px;
                width: 300px;
                background: white;
              }
              pre {
                margin: 0;
                white-space: pre-wrap;
                word-wrap: break-word;
              }
            </style>
          </head>
          <body>
            <pre>${t}</pre>
            <script>
              window.onload = function() {
                try {
                  window.print();
                  setTimeout(function() {
                    try {
                      window.close();
                    } catch(e) {
                      console.log('Could not close print window:', e);
                    }
                  }, 1000);
                } catch(e) {
                  console.log('Print failed:', e);
                  setTimeout(function() {
                    try {
                      window.close();
                    } catch(e2) {
                      console.log('Could not close window after print failure:', e2);
                    }
                  }, 500);
                }
              }
            <\/script>
          </body>
          </html>
        `;a.document.write(i),a.document.close(),r({success:!0,method:"popup-window"})}catch(a){console.error("Browser print failed:",a),this.printInCurrentWindowSafe(t),r({success:!0,method:"current-window-fallback"})}})}printInCurrentWindowSafe(t){try{const r=document.createElement("div");r.id="thermal-print-temp-"+Date.now(),r.innerHTML=`
        <div style="display: none;">
          <style>
            @media print {
              body * { visibility: hidden; }
              #${r.id}, #${r.id} * { visibility: visible; }
              #${r.id} {
                position: absolute;
                left: 0;
                top: 0;
                width: 80mm;
                font-family: 'Courier New', monospace;
                font-size: 12px;
                line-height: 1.2;
              }
            }
          </style>
          <pre>${t}</pre>
        </div>
      `,document.body.appendChild(r),setTimeout(()=>{try{window.print()}catch(a){console.error("Print dialog failed:",a)}setTimeout(()=>{try{document.body.contains(r)&&document.body.removeChild(r)}catch(a){console.error("Cleanup failed:",a)}},2e3)},100)}catch(r){console.error("Safe print method failed:",r),console.log("Receipt content:",t)}}async printReceipt(t,r={}){const a=this.generateThermalReceipt(t);return this.executePrintWithTimeout(a,r)}async printBill(t,r={}){const a=this.generateThermalBill(t);return this.executePrintWithTimeout(a,r)}async executePrintWithTimeout(t,r={},a=5e3){return Promise.race([this.executePrint(t,r),new Promise((i,s)=>setTimeout(()=>s(new Error("Print operation timed out")),a))]).catch(i=>{console.error("Print operation failed or timed out:",i);try{return this.printViaBrowser(t)}catch(s){return console.error("Even browser fallback failed:",s),{success:!1,method:"failed",error:i.message}}})}async executePrint(t,r={}){const{method:a="auto",printerIP:i,port:s}=r;console.log("Generated thermal print text:",t);try{switch(a){case"electron":return await this.printViaElectron(t);case"serial":return await this.printViaWebSerial(t);case"network":return await this.printViaNetwork(t,i,s);case"browser":return this.printViaBrowser(t);case"auto":default:let l=null;if(this.isElectron)try{return await this.printViaElectron(t)}catch(d){l=d,console.log("Electron printing failed, trying next method:",d.message)}if(i&&i!=="192.168.1.100")try{return await this.printViaNetwork(t,i,s)}catch(d){l=d,console.log("Network printing failed, trying next method:",d.message)}return console.log("Using browser print fallback"),this.printViaBrowser(t)}}catch(l){return console.error("Print method failed:",l),console.log("All methods failed, using browser fallback"),this.printViaBrowser(t)}}async printKOT(t,r={}){const a=this.generateKOT(t);return this.executePrintWithTimeout(a,r)}}const gi=new lfe,w3=e=>{if(!e)return null;if(e.startsWith("http://")||e.startsWith("https://"))return e;const t="https://hotelvirat.com";let r=e.toString().trim().replace(/\\/g,"/"),a;if(r.startsWith("/"))a=`${t}${r}`;else if(r.startsWith("uploads/"))a=`${t}/${r}`;else{const i=r.split("/").pop();a=`${t}/uploads/menu/${i}`}return a},cfe=e=>{if(!e)return null;if(e.startsWith("https://hotelvirat.com"))return e.replace("https://hotelvirat.com","https://hotelvirat.com");if(e.startsWith("https://hotelvirat.com")||e.startsWith("http://")||e.startsWith("https://"))return e;const t="https://hotelvirat.com";let r=e.toString().trim().replace(/\\/g,"/"),a;if(r.startsWith("/"))a=`${t}${r}`;else if(r.startsWith("uploads/"))a=`${t}/${r}`;else{const i=r.split("/").pop();a=`${t}/uploads/menu/${i}`}return a},dfe=()=>{var Lt;const e=nn(),t=Gn(),r=t.state,[a,i]=N.useState("000"),s=((Lt=r==null?void 0:r.selectedCategory)==null?void 0:Lt.name)||null,[l,d]=N.useState(s||"All"),[u,h]=N.useState((r==null?void 0:r.cartItems)||[]),[p,m]=N.useState(["All"]),[g,v]=N.useState([]),[j,b]=N.useState([]),[y,T]=N.useState(!0),[E,C]=N.useState(null),[S,A]=N.useState(null),[k,D]=N.useState({}),[B,F]=N.useState([]),[M,L]=N.useState((r==null?void 0:r.selectedTable)||null),[O,W]=N.useState(!1),[P,I]=N.useState(!1),[R,H]=N.useState([]),[V,he]=N.useState(!1),[U,Y]=N.useState(null),[z,ee]=N.useState(null),[q,Q]=N.useState(0),[ae,de]=N.useState(""),[xe,Z]=N.useState(!1),[ge,je]=N.useState(null),[pe,Je]=N.useState(!1),[Ee,Ve]=N.useState(new Date().toISOString().split("T")[0]),le=ve=>{const Te=document.querySelector(`[data-kot-index="${ve}"]`);Te?(Te.scrollIntoView({behavior:"smooth",block:"center"}),console.log(" Scrolled to card index:",ve)):console.log(" Card element not found for index:",ve)},[Ce,Qe]=N.useState(!1),[re,ce]=N.useState(null),[J,oe]=N.useState("1"),[te,Se]=N.useState(""),Ge=N.useRef(null),Xe=N.useRef(null);N.useEffect(()=>{var Te;if(!r){e("/counter/branch-selection");return}if(Ue(),s&&s.toLowerCase().includes("restaurant")){console.log(" Restaurant category detected, loading tables..."),dt();const G=setInterval(()=>{console.log(" Periodic table refresh..."),dt()},3e4);return()=>{clearInterval(G)}}localStorage.getItem("refreshTablesAfterBill")==="true"&&(console.log(" Refreshing tables after bill print..."),localStorage.removeItem("refreshTablesAfterBill"),setTimeout(()=>{dt()},500)),(Te=t.state)!=null&&Te.refreshTables&&(console.log(" Navigation state refresh flag detected, refreshing tables..."),setTimeout(()=>{dt()},200))},[r,e,s,t.state]),N.useEffect(()=>{!M&&B.length>0&&Ge.current&&setTimeout(()=>{var ve;(ve=Ge.current)==null||ve.focus()},100)},[M,B]),N.useEffect(()=>{if(M&&Xe.current){const ve=()=>{if(Xe.current)return Xe.current.focus(),!0;const Te=document.querySelector('input[placeholder*="Search by name"]');return Te?(Te.focus(),!0):!1};setTimeout(()=>ve(),100),setTimeout(()=>ve(),300)}},[M]),N.useEffect(()=>{if(s&&!s.toLowerCase().includes("restaurant")){const Ne=()=>{if(Xe.current)return Xe.current.focus(),!0;const He=document.querySelector('input[placeholder*="Search by name"]');return He?(He.focus(),!0):!1};setTimeout(()=>Ne(),100),setTimeout(()=>Ne(),300),setTimeout(()=>Ne(),500),setTimeout(()=>Ne(),800)}},[s,j.length]),N.useEffect(()=>{!y&&s&&!s.toLowerCase().includes("restaurant")&&Xe.current&&setTimeout(()=>{var Ne;(Ne=Xe.current)==null||Ne.focus()},200)},[y,s]);const Ue=async()=>{try{T(!0),C(null);const[ve,Te]=await Promise.all([pr.getCategories(r.selectedBranch._id),pr.request("/menu")]),Ne=["All"];if(ve){const G=ve.categories||ve;Array.isArray(G)&&G.length>0&&G.forEach(ie=>{const X=ie.name||ie.categoryName||ie.title;X&&!Ne.includes(X)&&Ne.push(X)})}let He=[];if(Te){const G=Te.menu||Te.menuItems||Te.data||Te;Array.isArray(G)&&(He=G.map(ie=>{let X=0;if(ie.price!==void 0&&ie.price!==null)X=ie.price;else if(ie.prices&&typeof ie.prices=="object"){const fe=Object.values(ie.prices);fe.length>0&&(X=fe[0])}X=Number(X)||0;let ue=w3(ie.image);return{...ie,_id:ie._id||ie.id,name:ie.name||ie.itemName||ie.title,price:X,description:ie.description||ie.desc||"",image:ue,categoryId:ie.categoryId||ie.category||null,menuItemNumber:ie.menuItemNumber||ie.number||null}}))}m(Ne),b(He),v(He)}catch(ve){console.error("Error loading menu data:",ve),ve.message.includes("Rate limit")?C("Too many requests. Please wait a moment and refresh the page."):C("Failed to load menu data. Please try again.")}finally{T(!1)}},dt=async()=>{try{W(!0),console.log(" Loading tables for branch:",r.selectedBranch._id);const ve=await pr.request(`/table?branchId=${r.selectedBranch._id}`);console.log(" Tables API response:",ve);let Te=[];if(ve){let Ne=[];ve.success&&Array.isArray(ve.data)?Ne=ve.data:Array.isArray(ve.tables)?Ne=ve.tables:Array.isArray(ve)&&(Ne=ve),console.log(" Processed tables data:",Ne),Array.isArray(Ne)&&(Te=Ne.map(He=>{var G,ie,X,ue;return{_id:He._id||He.id,number:He.number||He.tableNumber,tableNumber:He.number||He.tableNumber,capacity:He.capacity||4,status:He.status||"available",categoryId:((G=He.categoryId)==null?void 0:G._id)||He.categoryId||null,categoryName:((ie=He.categoryId)==null?void 0:ie.name)||He.categoryName||"All Categories",branchId:((X=He.branchId)==null?void 0:X._id)||He.branchId,branchName:((ue=He.branchId)==null?void 0:ue.name)||r.selectedBranch.name,image:He.image||null}}))}if(s&&s!=="All"){const Ne=s.toLowerCase();Ne.includes("restaurant")&&(Te=Te.filter(He=>{const G=(He.categoryName||"").toLowerCase();return G==="all categories"||G.includes(Ne)||G===""||!He.categoryId}))}console.log(" Final table list:",Te),F(Te)}catch(ve){console.error("Error loading tables:",ve),C("Failed to load tables. Please try again."),F([])}finally{W(!1)}},_e=ve=>{if(console.log(" Table selected:",ve),console.log(" Table status:",ve.status),console.log(" Setting selectedTable state..."),(ve.status||"").toLowerCase()!=="available"){console.log(" Table is not available, automatically updating status..."),console.log(" Updating table status..."),Ot(ve._id,"available",!1).then(()=>Ot(ve._id,"reserved",!1)).then(()=>{const Ne={...ve,status:"reserved"};console.log(" Setting selectedTable to:",Ne),L(Ne),rt()}).catch(Ne=>{console.error(" Failed to update table status:",Ne)});return}console.log(" Table is available, marking as reserved and selecting..."),Ot(ve._id,"reserved",!1).then(()=>{const Ne={...ve,status:"reserved"};console.log(" Setting selectedTable to:",Ne),L(Ne),rt()}).catch(Ne=>{console.error(" Failed to update table status:",Ne)})},rt=()=>{const ve=()=>{if(Xe.current)return Xe.current.focus(),!0;const Te=document.querySelector('input[placeholder*="Search by name"]');return Te?(Te.focus(),!0):!1};setTimeout(()=>ve(),50),setTimeout(()=>ve(),200),setTimeout(()=>ve(),500)},Ot=async(ve,Te,Ne=!0)=>{try{return console.log(` Updating table ${ve} status to ${Te}...`),await pr.request(`/table/${ve}`,{method:"PUT",body:JSON.stringify({status:Te}),headers:{"Content-Type":"application/json"}}),console.log(" Table status updated successfully"),F(He=>He.map(G=>G._id===ve?{...G,status:Te}:G)),M&&M._id===ve&&L(He=>({...He,status:Te})),Ne&&console.log(`Table status updated to ${Te}`),!0}catch(He){throw console.error(" Error updating table status:",He),Ne&&console.log("Failed to update table status. Please try again."),He}},zt=()=>{const ve=te.trim();if(!ve)return;console.log(" Looking for table:",ve),console.log(" Available tables:",B.map(Ne=>({id:Ne._id,number:Ne.number,tableNumber:Ne.tableNumber})));const Te=B.find(Ne=>String(Ne.number)===ve||String(Ne.tableNumber)===ve);console.log(" Found table:",Te),Te?Rt(Te).then(Ne=>{Ne?(console.log(" Found existing KOT for table:",Ne),L(Te),Y(Ne.id),ee(Ne.kotNumber),Se(""),setTimeout(()=>{Xe.current&&Xe.current.focus()},100),console.log(` Ready to add items to existing KOT ${Ne.kotNumber} for Table ${ve}`)):(console.log(" No existing KOT, creating new order for table"),_e(Te),Se(""))}):console.log(` Table ${ve} not found in this branch. Available tables: ${B.map(Ne=>Ne.number||Ne.tableNumber).join(", ")}`)},Rt=async ve=>{var Te;try{const Ne=await pr.request("/counter-order/orders");let He=[];Ne&&Ne.success&&Array.isArray(Ne.orders)||Ne&&Array.isArray(Ne.orders)?He=Ne.orders:Ne&&Array.isArray(Ne.data)?He=Ne.data:Array.isArray(Ne)&&(He=Ne);const G=He.find(ie=>ie.paymentStatus==="pending"&&(String(ie.tableNumber)===String(ve.number)||String(ie.tableNumber)===String(ve.tableNumber)));return G?{id:G.id||G._id,kotNumber:G.kotNumber||G.orderId||`KOT-${(Te=G.id||G._id)==null?void 0:Te.slice(-6)}`,tableNumber:G.tableNumber,items:G.items||[]}:null}catch(Ne){return console.error(" Error checking existing KOT:",Ne),null}},Bt=()=>{if(!a.trim()||a==="000"||a===""){if(u.length>0)if(s&&s.toLowerCase().includes("restaurant")){const He=document.querySelectorAll("button"),G=Array.from(He).find(ie=>ie.textContent.includes("Save KOT"));G&&G.click()}else bt();return}const ve=a.trim();if(g.length===1){const Ne=g[0];ce(Ne),oe("1"),Qe(!0),i("000");return}if(/^\d+$/.test(ve)){const Ne=j.find(He=>String(He.menuItemNumber)===ve||String(He.number)===ve);Ne?(ce(Ne),oe("1"),Qe(!0),i("000")):alert(`No menu item found with number: ${ve}`)}else g.length===0?alert("No items found for your search"):g.length>1&&console.log(`${g.length} items found - refine your search or select from the list`)},ne=()=>{const ve=parseInt(J);if(isNaN(ve)||ve<1){alert("Please enter a valid quantity");return}const Te=u.find(Ne=>Ne._id===re._id);h(Te?u.map(Ne=>Ne._id===re._id?{...Ne,quantity:Ne.quantity+ve}:Ne):[...u,{...re,quantity:ve}]),Qe(!1),ce(null),oe("1"),i("000"),setTimeout(()=>{if(Xe.current)Xe.current.focus();else{const Ne=document.querySelector('input[placeholder*="Search by name"]');Ne&&Ne.focus()}},100)},$e=async(ve=0)=>{he(!0);try{const Te=localStorage.getItem("counterUserData"),Ne=Te?JSON.parse(Te):null;(!Ne||!Ne._id)&&console.warn(" Counter user not found in localStorage, showing all KOTs");const He=await pr.request("/counter-order/orders");let G=[];He&&He.success&&Array.isArray(He.orders)||He&&Array.isArray(He.orders)?G=He.orders:He&&Array.isArray(He.data)?G=He.data:Array.isArray(He)?G=He:G=[];const ie=G.filter(X=>{var ye,Ie,qe;const ue=X.paymentStatus==="pending"&&X.tableNumber&&X.tableId;let fe=!0;if(s&&s!=="All"){const De=s.toLowerCase();if(De.includes("temple")||De.includes("meal")){const Me=(X.orderId||X.kotNumber||"").toLowerCase(),Fe=(X.customerName||"").toLowerCase(),be=(X.branchName||((ye=X.branchId)==null?void 0:ye.name)||"").toLowerCase();fe=Me.includes("temple")||Me.includes("-tm-")||Fe.includes("temple")||be.includes("temple")||(X.items||[]).some(et=>{const ut=(et.name||"").toLowerCase();return ut.includes("temple")||ut.includes("meal")||ut.includes("prasad")||ut.includes("pooja")})}else if(De.includes("restaurant")){const Me=(X.orderId||X.kotNumber||"").toLowerCase(),Fe=(X.customerName||"").toLowerCase(),be=(X.branchName||((Ie=X.branchId)==null?void 0:Ie.name)||"").toLowerCase();fe=!(Me.includes("temple")||Me.includes("-tm-")||Fe.includes("temple")||be.includes("temple")||(X.items||[]).some(ut=>{const lt=(ut.name||"").toLowerCase();return lt.includes("temple")||lt.includes("meal")||lt.includes("prasad")||lt.includes("pooja")}))&&X.tableNumber&&X.tableId}else if(De.includes("darshini")||De.includes("self service")){const Me=(X.orderId||X.kotNumber||"").toLowerCase(),Fe=(X.customerName||"").toLowerCase(),be=(X.branchName||((qe=X.branchId)==null?void 0:qe.name)||"").toLowerCase();fe=!(Me.includes("temple")||Me.includes("-tm-")||Fe.includes("temple")||be.includes("temple")||(X.items||[]).some(ut=>{const lt=(ut.name||"").toLowerCase();return lt.includes("temple")||lt.includes("meal")||lt.includes("prasad")||lt.includes("pooja")}))&&!X.tableNumber&&!X.tableId}}return ue&&fe}).map(X=>{var ue,fe,ye;return{id:X.id||X._id,kotNumber:X.kotNumber||X.orderId||`KOT-${(ue=X.id||X._id)==null?void 0:ue.slice(-6)}`,customerName:X.customerName||((fe=X.userId)==null?void 0:fe.name)||"Walk-in Customer",tableNumber:X.tableNumber||"N/A",tableId:X.tableId,items:X.items||[],totalItems:X.items?X.items.reduce((Ie,qe)=>Ie+(qe.quantity||1),0):0,totalAmount:X.totalAmount||X.grandTotal||0,createdAt:X.createdAt||X.orderTime||new Date().toISOString(),orderStatus:X.orderStatus||X.status||"pending",paymentStatus:X.paymentStatus||"pending",branchName:X.branchName||((ye=X.branchId)==null?void 0:ye.name)||"Unknown Branch"}});ie.sort((X,ue)=>new Date(ue.createdAt)-new Date(X.createdAt)),H(ie)}catch(Te){if(console.error(" Error loading saved KOTs:",Te),Te.message.includes("timed out")&&ve<1){setTimeout(()=>$e(ve+1),2e3);return}alert("Failed to load saved KOTs. Please check your connection and try again."),H([])}finally{he(!1)}},Ye=async(ve=Ee)=>{Je(!0);try{console.log(" Loading sales report for date:",ve);const Te=await pr.request("/counter-order/orders");console.log(" Raw API response:",Te);let Ne=[];Te&&Te.success&&Array.isArray(Te.orders)||Te&&Array.isArray(Te.orders)?Ne=Te.orders:Te&&Array.isArray(Te.data)?Ne=Te.data:Array.isArray(Te)&&(Ne=Te),console.log(" Total orders found:",Ne.length),console.log(" Sample order structure:",Ne[0]),console.log(" Selected branch ID:",r.selectedBranch._id),console.log(" Pre-selected category:",s),console.log(" Sample orders for debugging:",Ne.slice(0,3).map(be=>({id:be.id||be._id,orderId:be.orderId,kotNumber:be.kotNumber,customerName:be.customerName,branchName:be.branchName,branchId:be.branchId,branch:be.branch,tableNumber:be.tableNumber,items:(be.items||[]).map(et=>et.name),createdAt:be.createdAt,status:be.status,paymentStatus:be.paymentStatus}))),console.log(" Fetching orders from /counter-order/orders endpoint for sales report"),console.log(" Current branch for filtering:",{selectedBranchId:r.selectedBranch._id,selectedBranchName:r.selectedBranch.name});const He=new Date(ve),G=new Date(He.setHours(0,0,0,0)),ie=new Date(He.setHours(23,59,59,999));console.log(" Date range:",G,"to",ie),console.log(" Selected date for filtering:",ve),console.log(" Today's date:",new Date().toISOString().split("T")[0]);const X=Ne.filter(be=>{var er,Vn,na,pn;const et=new Date(be.createdAt||be.orderTime||be.date),ut=et>=G&&et<=ie,lt=((er=be.branchId)==null?void 0:er._id)||be.branchId||((Vn=be.branch)==null?void 0:Vn.id)||((na=be.branch)==null?void 0:na._id)||be.branch,mt=r.selectedBranch._id,Tt=lt===mt;let Zt=!0;if(s&&s!=="All"){const Gr=s.toLowerCase(),Xr=(be.orderId||be.kotNumber||be.id||be._id||"").toLowerCase(),Ar=(be.customerName||"").toLowerCase(),Mn=(be.branchName||((pn=be.branchId)==null?void 0:pn.name)||"").toLowerCase(),ar=(be.items||[]).map(sn=>(sn.name||"").toLowerCase()).join(" ");if(Gr.includes("temple")||Gr.includes("meal")){const sn=Xr.includes("temple")||Xr.includes("-tm-")||Ar.includes("temple")||Mn.includes("temple")||ar.includes("temple")||ar.includes("meal")||ar.includes("prasad")||ar.includes("pooja")||(be.items||[]).some(Rr=>{const Pr=(Rr.name||"").toLowerCase();return Pr.includes("temple")||Pr.includes("meal")||Pr.includes("prasad")||Pr.includes("pooja")});console.log(" Temple Meals Filter:",{orderId:Xr,customerName:Ar,branchName:Mn,itemNames:ar,isTemple:sn,orderData:{id:be.id,_id:be._id,kotNumber:be.kotNumber},items:(be.items||[]).map(Rr=>Rr.name)}),Zt=sn}else if(Gr.includes("restaurant")){const sn=Xr.includes("temple")||Xr.includes("-tm-")||Ar.includes("temple")||Mn.includes("temple")||ar.includes("temple")||ar.includes("meal")||ar.includes("prasad")||ar.includes("pooja")||(be.items||[]).some(Rr=>{const Pr=(Rr.name||"").toLowerCase();return Pr.includes("temple")||Pr.includes("meal")||Pr.includes("prasad")||Pr.includes("pooja")});console.log(" Restaurant Filter:",{orderId:Xr,customerName:Ar,branchName:Mn,itemNames:ar,isTemple:sn,hasTable:!!(be.tableNumber&&be.tableId),shouldInclude:!sn&&be.tableNumber&&be.tableId}),Zt=!sn&&be.tableNumber&&be.tableId}else if(Gr.includes("darshini")||Gr.includes("self service")){const sn=Xr.includes("temple")||Xr.includes("-tm-")||Ar.includes("temple")||Mn.includes("temple")||ar.includes("temple")||ar.includes("meal")||ar.includes("prasad")||ar.includes("pooja")||(be.items||[]).some(Rr=>{const Pr=(Rr.name||"").toLowerCase();return Pr.includes("temple")||Pr.includes("meal")||Pr.includes("prasad")||Pr.includes("pooja")});console.log(" Self Service Filter:",{orderId:Xr,customerName:Ar,branchName:Mn,itemNames:ar,isTemple:sn,hasTable:!!(be.tableNumber&&be.tableId),shouldInclude:!sn&&!be.tableNumber&&!be.tableId,items:(be.items||[]).map(Rr=>Rr.name)}),Zt=!sn&&!be.tableNumber&&!be.tableId}}let Vt=!0;return s&&s!=="All"?s.toLowerCase().includes("restaurant")?Vt=be.status==="completed"||be.paymentStatus==="completed"||be.status==="paid"||be.paymentStatus==="paid"||be.status==="billed"||be.paymentStatus==="billed"||be.orderStatus==="completed"||be.orderStatus==="paid"||be.orderStatus==="billed":Vt=!0:Vt=be.status==="completed"||be.paymentStatus==="completed"||be.status==="paid"||be.paymentStatus==="paid"||be.status==="billed"||be.paymentStatus==="billed"||be.orderStatus==="completed"||be.orderStatus==="paid"||be.orderStatus==="billed",console.log(" Branch ID Debug:",{orderId:be.id||be._id,orderBranchId:lt,selectedBranchId:mt,branchIdRaw:be.branchId,branchRaw:be.branch,isSameBranch:Tt,orderBranchIdType:typeof lt,selectedBranchIdType:typeof mt}),ut&&Tt&&Zt&&Vt});console.log(" Filtered orders count:",X.length),console.log(" Filtered orders:",X),console.log(" Filtering Debug - showing first 5 orders:"),Ne.slice(0,5).forEach((be,et)=>{var Vn,na,pn,Gr,Xr;const ut=new Date(be.createdAt||be.orderTime||be.date),lt=ut>=G&&ut<=ie,mt=((Vn=be.branchId)==null?void 0:Vn._id)||be.branchId||((na=be.branch)==null?void 0:na.id)||((pn=be.branch)==null?void 0:pn._id)||be.branch,Tt=r.selectedBranch._id,Zt=mt===Tt;let Vt=!0;s&&s!=="All"&&(s.toLowerCase().includes("restaurant")?Vt=be.status==="completed"||be.paymentStatus==="completed"||be.status==="paid"||be.paymentStatus==="paid"||be.status==="billed"||be.paymentStatus==="billed"||be.orderStatus==="completed"||be.orderStatus==="paid"||be.orderStatus==="billed":Vt=!0);let er=!0;if(s&&s!=="All"){const Ar=s.toLowerCase(),Mn=(be.orderId||be.kotNumber||be.id||be._id||"").toLowerCase(),ar=(be.customerName||"").toLowerCase(),sn=(be.branchName||((Gr=be.branchId)==null?void 0:Gr.name)||((Xr=be.branch)==null?void 0:Xr.name)||"").toLowerCase(),Rr=(be.items||[]).map(Pr=>(Pr.name||"").toLowerCase()).join(" ");Ar.includes("temple")||Ar.includes("meal")?er=Mn.includes("temple")||Mn.includes("-tm-")||ar.includes("temple")||sn.includes("temple")||Rr.includes("temple")||Rr.includes("meal")||Rr.includes("prasad")||Rr.includes("pooja")||(be.items||[]).some(Os=>{const on=(Os.name||"").toLowerCase();return on.includes("temple")||on.includes("meal")||on.includes("prasad")||on.includes("pooja")}):Ar.includes("restaurant")?er=!(Mn.includes("temple")||Mn.includes("-tm-")||ar.includes("temple")||sn.includes("temple")||Rr.includes("temple")||Rr.includes("meal")||Rr.includes("prasad")||Rr.includes("pooja")||(be.items||[]).some(Os=>{const on=(Os.name||"").toLowerCase();return on.includes("temple")||on.includes("meal")||on.includes("prasad")||on.includes("pooja")}))&&be.tableNumber&&be.tableId:(Ar.includes("darshini")||Ar.includes("self service"))&&(er=!(Mn.includes("temple")||Mn.includes("-tm-")||ar.includes("temple")||sn.includes("temple")||Rr.includes("temple")||Rr.includes("meal")||Rr.includes("prasad")||Rr.includes("pooja")||(be.items||[]).some(Os=>{const on=(Os.name||"").toLowerCase();return on.includes("temple")||on.includes("meal")||on.includes("prasad")||on.includes("pooja")}))&&!be.tableNumber&&!be.tableId)}console.log(` Order ${et+1}:`,{id:be.id||be._id,orderDate:ut.toISOString(),dateForComparison:ut.toDateString(),selectedDate:new Date(ve).toDateString(),isInDateRange:lt,orderBranchId:mt,selectedBranchId:Tt,isSameBranch:Zt,status:be.status,paymentStatus:be.paymentStatus,orderStatus:be.orderStatus,isCompleted:Vt,categoryName:s,isSameCategory:er,tableNumber:be.tableNumber,tableId:be.tableId,shouldInclude:lt&&Zt&&Vt&&er,items:(be.items||[]).map(Ar=>Ar.name)})});const ue=X.length,fe=X.reduce((be,et)=>be+(et.totalAmount||et.grandTotal||0),0),ye=X.reduce((be,et)=>be+(et.items||[]).reduce((ut,lt)=>ut+(lt.quantity||1),0),0),Ie=X.reduce((be,et)=>be+(et.discountAmount||0),0),qe={};X.forEach(be=>{const ut=`${new Date(be.createdAt||be.orderTime).getHours()}:00`;qe[ut]||(qe[ut]={orders:0,revenue:0}),qe[ut].orders+=1,qe[ut].revenue+=be.totalAmount||be.grandTotal||0});const De={};X.forEach(be=>{(be.items||[]).forEach(et=>{const ut=et.name||"Unknown Item";De[ut]||(De[ut]={quantity:0,revenue:0}),De[ut].quantity+=et.quantity||1,De[ut].revenue+=(et.price||0)*(et.quantity||1)})});const Me=Object.entries(De).sort((be,et)=>et[1].quantity-be[1].quantity).slice(0,10).map(([be,et])=>({name:be,...et})),Fe={date:ve,category:s||"All Categories",branch:r.selectedBranch.name,summary:{totalOrders:ue,totalRevenue:fe,totalItems:ye,totalDiscount:Ie,averageOrderValue:ue>0?fe/ue:0},hourlySales:Object.entries(qe).sort((be,et)=>parseInt(be[0])-parseInt(et[0])).map(([be,et])=>({hour:be,...et})),topItems:Me,orders:X.map(be=>{let et=be.kotNumber||be.orderId||be.invoiceNumber||be.orderNumber;if(!et||et.includes("ObjectId")||et.length>20){const ut=be.items||[];if(ut.length>0){const lt=ut[0].name||"Item",mt=ut.length;let Tt=lt;Tt.length>25&&(Tt=Tt.substring(0,25)+"..."),mt===1?et=Tt:et=`${Tt} +${mt-1} more`}else et=`ORDER-${(be.id||be._id||Date.now()).toString().slice(-6)}`}return{id:be.id||be._id,orderNumber:et,time:new Date(be.createdAt||be.orderTime).toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"}),customerName:be.customerName||"Walk-in Customer",tableNumber:be.tableNumber||null,items:be.items||[],totalAmount:be.totalAmount||be.grandTotal||0,discountAmount:be.discountAmount||0,paymentMethod:be.paymentMethod||"cash"}})};console.log(" Sales report loaded:",Fe),je(Fe)}catch(Te){console.error(" Error loading sales report:",Te),alert("Failed to load sales report. Please try again."),je(null)}finally{Je(!1)}};N.useEffect(()=>{Et()},[a,l,j]),N.useEffect(()=>{const ve=Te=>{if(console.log(" Global key pressed:",Te.key,"showKOTList:",P,"savedKOTs.length:",R.length),Te.altKey&&Te.key.toLowerCase()==="k"){Te.preventDefault(),P?(console.log(" Alt+K pressed: Closing KOT list..."),I(!1),Q(0)):(console.log(" Alt+K pressed: Loading saved KOTs..."),$e(),I(!0),Q(0),de(""));return}if(P&&R.length>0){const Ne=document.activeElement;if(!(Ne&&Ne.getAttribute("tabindex")==="0")){if(console.log(" Modal not focused, handling navigation globally..."),Ne&&(Ne.tagName==="INPUT"||Ne.tagName==="TEXTAREA")){console.log(" Ignoring key press - user is typing in input field");return}if(Te.key==="ArrowDown"||Te.key==="ArrowUp"){const G=document.querySelector('[tabindex="0"]');G&&(G.focus(),console.log(" Focused modal for navigation"))}}}};return console.log(" Adding global keyboard event listener, showKOTList:",P),window.addEventListener("keydown",ve),()=>{console.log(" Removing global keyboard event listener"),window.removeEventListener("keydown",ve)}},[P,R,q,r,e]),N.useEffect(()=>{const ve=()=>{localStorage.getItem("refreshTablesAfterBill")==="true"&&(console.log(" Window focused: Refreshing tables after bill print..."),localStorage.removeItem("refreshTablesAfterBill"),dt())};return window.addEventListener("focus",ve),()=>{window.removeEventListener("focus",ve)}},[]),N.useEffect(()=>{P&&(console.log(" KOT list opened, attempting to focus modal..."),setTimeout(()=>{const ve=document.querySelector('[tabindex="0"]');ve?(ve.focus(),console.log(" Modal focused successfully")):console.log(" Modal not found for focusing"),R.length>0&&le(0)},100))},[P,R.length]);const Et=()=>{let ve=[...j];if(s&&s!=="All"?(ve=ve.filter(Te=>{var ie,X,ue,fe;const He=(((ie=Te.categoryId)==null?void 0:ie.name)||((X=Te.categoryId)==null?void 0:X.categoryName)||((ue=Te.category)==null?void 0:ue.name)||((fe=Te.category)==null?void 0:fe.categoryName)||"").toLowerCase(),G=s.toLowerCase();return He===G||He.includes(G)||G.includes(He)}),ve.length===0&&(ve=[...j])):l!=="All"&&(ve=ve.filter(Te=>{var ie,X,ue,fe;const He=(((ie=Te.categoryId)==null?void 0:ie.name)||((X=Te.categoryId)==null?void 0:X.categoryName)||((ue=Te.category)==null?void 0:ue.name)||((fe=Te.category)==null?void 0:fe.categoryName)||"").toLowerCase(),G=l.toLowerCase();return He===G||He.includes(G)||G.includes(He)})),a.trim()&&a!=="000"&&a!==""){const Te=a.toLowerCase().trim();ve=ve.filter(Ne=>{const He=(Ne.name||"").toLowerCase(),G=(Ne.description||"").toLowerCase(),ie=He.includes(Te)||G.includes(Te),X=Ne.menuItemNumber||Ne.number,ue=X&&String(X)===Te;return ie||ue})}v(ve)},me=ve=>{const Te=/^\d+$/.test(ve);if(ve==="")return"";if(Te){const Ne=ve.replace(/^0+/,"")||"0";return Ne.length>=3?Ne:Ne.padStart(3,"0")}else return ve},Oe=ve=>{const Te=me(ve);i(Te)},Pe=ve=>{ve.key==="Enter"?Bt():ve.key==="Backspace"&&a==="000"&&(ve.preventDefault(),i(""))},st=()=>{a===""&&i("000")},ft=ve=>{ce(ve),oe("1"),Qe(!0)},vt=(ve,Te)=>{D(Ne=>({...Ne,[ve]:Te}))},St=(ve,Te)=>{nt(ve,Te),D(Ne=>{const He={...Ne};return delete He[ve],He})},nt=(ve,Te)=>{let Ne=parseInt(Te);(isNaN(Ne)||Ne<0)&&(Ne=0);const He=Math.max(0,Math.min(10,Ne));if(h(G=>{const ie=G.findIndex(X=>X._id===ve);if(He===0){if(ie>=0){const X=[...G];return X.splice(ie,1),X}return G}else if(ie>=0){const X=[...G];return X[ie]={...X[ie],quantity:He},X}else{const X=j.find(ue=>ue._id===ve);return X?[...G,{...X,quantity:He}]:G}}),Ne>10){const G=j.find(ie=>ie._id===ve);A(`Maximum quantity (10) reached for ${(G==null?void 0:G.name)||"this item"}`),setTimeout(()=>A(null),3e3)}},yt=ve=>{const Te=u.find(Ne=>Ne._id===ve);return Te?Te.quantity:0},ht=()=>u.reduce((ve,Te)=>ve+(Te.price||0)*Te.quantity,0),bt=()=>{if(u.length===0){alert("Please add items to the cart first");return}e("/counter/bill-generation",{state:{...r,selectedTable:M,cartItems:u,totalAmount:ht()}})},Ft=()=>{e("/counter/category-selection",{state:r})};return r?y?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading menu..."})]})})}):E?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("h3",{children:"Error"}),n.jsx("p",{children:E}),n.jsx("button",{className:"counter-button",onClick:Ue,children:"Retry"})]})})}):n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",style:{marginBottom:"24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"counter-title",style:{fontSize:"1.5rem",margin:0},children:[r.customerName,"'s Order"]}),n.jsxs("p",{className:"counter-subtitle",style:{margin:"4px 0 0 0"},children:[r.selectedBranch.name,"  ",r.invoiceNumber,"  ",r.date,"  ",r.time]})]}),n.jsx("button",{onClick:()=>{Z(!0),Ye()},style:{background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",padding:"10px 16px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},onMouseOver:ve=>ve.target.style.background="#2563eb",onMouseOut:ve=>ve.target.style.background="#3b82f6",title:"View today's sales report and history",children:" Sales Report"})]}),S&&n.jsxs("div",{style:{marginBottom:"16px",padding:"12px 16px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626",fontSize:"0.875rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{children:""}),S]}),n.jsx("div",{style:{marginBottom:"20px"},children:n.jsx("input",{ref:Xe,type:"text",className:"counter-input",placeholder:" Search item number (e.g., 100) or name, then press Enter...",value:a,onChange:ve=>Oe(ve.target.value),onKeyDown:Pe,onFocus:st})}),s&&n.jsx("div",{style:{marginBottom:"20px",padding:"12px 16px",backgroundColor:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontSize:"1.1rem"},children:""}),n.jsxs("span",{style:{fontWeight:"600",color:"#0369a1"},children:["Showing: ",l," Menu",M&&n.jsxs("span",{style:{marginLeft:"8px",color:"#f59e0b"},children:[" Table ",M.tableNumber||M.number]})]})]})}),s&&s.toLowerCase().includes("restaurant")&&n.jsxs("div",{style:{marginBottom:"20px",padding:"16px",backgroundColor:M?"#f0fdf4":"#fef3c7",border:`2px solid ${M?"#10b981":"#f59e0b"}`,borderRadius:"8px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontSize:"1.2rem"},children:""}),n.jsx("span",{style:{fontWeight:"600",color:M?"#065f46":"#92400e"},children:M?z?`Table ${M.tableNumber||M.number} - Adding to KOT ${z}`:`Table ${M.tableNumber||M.number} Selected (New KOT)`:"Enter Table Number (Keyboard Only)"})]}),M&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontSize:"0.875rem",color:"#065f46",fontWeight:"500"},children:"Status:"}),n.jsxs("select",{value:M.status,onChange:ve=>Ot(M._id,ve.target.value),style:{padding:"6px 12px",borderRadius:"6px",border:"2px solid #10b981",backgroundColor:"white",color:"#065f46",fontWeight:"600",fontSize:"0.875rem",cursor:"pointer",outline:"none"},children:[n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"reserved",children:"Reserved"})]}),n.jsx("button",{onClick:()=>{L(null),Se("")},style:{padding:"6px 12px",borderRadius:"6px",border:"2px solid #ef4444",backgroundColor:"white",color:"#dc2626",fontWeight:"600",fontSize:"0.875rem",cursor:"pointer",outline:"none"},children:"Change Table"})]})]}),!M&&n.jsx(n.Fragment,{children:O?n.jsx("div",{style:{textAlign:"center",padding:"20px"},children:n.jsx("div",{style:{fontSize:"1rem",color:"#92400e"},children:"Loading tables..."})}):B.length===0?n.jsx("div",{style:{textAlign:"center",padding:"20px"},children:n.jsx("div",{style:{fontSize:"0.875rem",color:"#dc2626"},children:"No available tables found. Please contact staff."})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{marginBottom:"16px",fontSize:"1rem",color:"#1f2937",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontSize:"1.25rem"},children:""}),"Keyboard Workflow: Enter Table Number"]}),n.jsx("div",{style:{marginBottom:"16px"},children:n.jsx("input",{ref:Ge,type:"text",value:te,onChange:ve=>Se(ve.target.value),onKeyDown:ve=>{ve.key==="Enter"&&(ve.preventDefault(),zt())},placeholder:"Type table number (e.g., 4) and press Enter...",autoFocus:!0,style:{width:"100%",padding:"16px",fontSize:"1.5rem",border:"3px solid #f59e0b",borderRadius:"8px",textAlign:"center",fontWeight:"700",color:"#92400e",backgroundColor:"#fffbeb",outline:"none"}})}),n.jsxs("details",{style:{marginTop:"12px"},children:[n.jsx("summary",{style:{cursor:"pointer",fontSize:"0.875rem",color:"#6b7280",textAlign:"center",listStyle:"none",padding:"8px"},children:"Or click to select table"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",padding:"16px",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb",marginTop:"8px"},children:B.map(ve=>{const Te=ve.status==="available"||ve.status==="Available";return n.jsxs("button",{onClick:()=>_e(ve),style:{background:Te?"white":"#fee2e2",border:`2px solid ${Te?"#10b981":"#ef4444"}`,borderRadius:"8px",padding:"16px 20px",minWidth:"80px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",fontSize:"1rem",fontWeight:"600",color:Te?"#065f46":"#991b1b",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",outline:"none",position:"relative"},onMouseEnter:Ne=>{Ne.target.style.transform="translateY(-2px)",Ne.target.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)"},onMouseLeave:Ne=>{Ne.target.style.transform="translateY(0)",Ne.target.style.boxShadow="0 1px 2px rgba(0, 0, 0, 0.05)"},children:[n.jsx("div",{children:ve.number}),!Te&&n.jsx("div",{style:{fontSize:"0.65rem",marginTop:"4px",color:"#dc2626",fontWeight:"500"},children:ve.status.toUpperCase()})]},ve._id)})})]})]})})]}),!s&&n.jsx("div",{style:{marginBottom:"20px"},children:n.jsx("div",{className:"counter-category-scroll",children:p.map(ve=>n.jsx("button",{className:`counter-button ${l===ve?"":"counter-button-secondary"}`,onClick:()=>d(ve),style:{minWidth:"auto",padding:"8px 16px",fontSize:"0.875rem",whiteSpace:"nowrap"},children:ve},ve))})}),g.length===0?n.jsx("div",{className:"counter-error",children:n.jsx("p",{children:a?"No items found for your search":"No menu items available"})}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"12px",margin:"16px 0",maxHeight:"50vh",overflowY:"auto",paddingRight:"8px",width:"100%"},children:g.map(ve=>{const Te=yt(ve._id);return n.jsxs("div",{id:`counter-item-${ve._id}`,style:{background:"white",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"14px",cursor:"pointer",transition:"all 0.3s ease",minHeight:"110px",maxHeight:"130px",display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%"},children:[n.jsxs("div",{style:{display:"flex",gap:"12px",height:"65px"},children:[n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[n.jsxs("h3",{style:{margin:"0 0 3px 0",fontSize:"0.9rem",lineHeight:"1.2",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[ve.menuItemNumber&&n.jsx("span",{style:{color:"#f59e0b",marginRight:"6px"},children:ve.menuItemNumber}),ve.name]}),n.jsxs("p",{style:{margin:"0 0 3px 0",color:"#718096",fontSize:"0.8rem",fontWeight:"600"},children:["",ve.price.toFixed(2)]}),ve.description&&n.jsx("p",{style:{margin:"0",color:"#4a5568",fontSize:"0.7rem",lineHeight:"1.2",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ve.description})]}),n.jsx("div",{style:{width:"55px",height:"55px",flexShrink:0},children:n.jsx("img",{src:w3(ve.image)||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='55' height='55'%3E%3Crect fill='%23f3f4f6' width='55' height='55'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='9' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ENo Image%3C/text%3E%3C/svg%3E",alt:ve.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px",backgroundColor:"#f3f4f6"},onError:Ne=>{const He=cfe(ve.image);He&&Ne.target.src!==He?Ne.target.src=He:(Ne.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='55' height='55'%3E%3Crect fill='%23f3f4f6' width='55' height='55'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='9' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ENo Image%3C/text%3E%3C/svg%3E",Ne.target.onerror=null)}})})]}),n.jsx("div",{style:{marginTop:"8px"},children:Te>0?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"center"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:()=>nt(ve._id,Te-1),style:{width:"26px",height:"26px",padding:"0",fontSize:"0.95rem",minHeight:"auto",border:"1px solid #667eea",borderRadius:"6px"},children:"-"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[n.jsx("input",{type:"number",min:"0",max:"10",value:k[ve._id]!==void 0?k[ve._id]:Te,onChange:Ne=>vt(ve._id,Ne.target.value),onKeyDown:Ne=>{Ne.key==="Enter"&&Ne.target.blur()},style:{width:"40px",height:"26px",textAlign:"center",border:"1px solid #e2e8f0",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"600",padding:"0 4px",outline:"none",transition:"border-color 0.2s ease"},onFocus:Ne=>{Ne.target.select(),Ne.target.style.borderColor="#667eea"},onBlur:Ne=>{Ne.target.style.borderColor="#e2e8f0",St(ve._id,Ne.target.value)}}),Te>=10&&n.jsx("span",{style:{fontSize:"0.6rem",color:"#e53e3e",fontWeight:"500",marginTop:"1px"},children:"MAX"})]}),n.jsx("button",{className:"counter-button",onClick:()=>nt(ve._id,Te+1),disabled:Te>=10,style:{width:"26px",height:"26px",padding:"0",fontSize:"0.95rem",minHeight:"auto",borderRadius:"6px",opacity:Te>=10?.5:1,cursor:Te>=10?"not-allowed":"pointer"},title:Te>=10?"Maximum quantity reached (10)":"Add one more",children:"+"})]}):n.jsx("button",{className:"counter-button",onClick:()=>ft(ve),style:{width:"100%",padding:"6px 12px",fontSize:"0.75rem",minHeight:"auto",borderRadius:"6px"},children:"ADD"})})]},ve._id)})}),u.length>0&&n.jsxs("div",{className:"counter-cart-summary",children:[n.jsxs("div",{children:[n.jsxs("div",{style:{fontSize:"0.875rem",opacity:.9},children:[u.reduce((ve,Te)=>ve+Te.quantity,0)," Items"]}),n.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"700"},children:["",ht().toFixed(2)]})]}),s&&s.toLowerCase().includes("restaurant")?n.jsx("button",{className:"counter-button",onClick:async()=>{if(console.log(" Save KOT clicked - selectedTable:",M),console.log(" selectedTable type:",typeof M),console.log(" selectedTable keys:",M?Object.keys(M):"null"),!M){console.log(" Please select a table first!");return}try{console.log(" Saving KOT...");const ve=localStorage.getItem("counterUserData"),Te=ve?JSON.parse(ve):null;if(!Te||!Te._id){alert("User session expired. Please login again.");return}if(U){console.log(" Updating existing KOT:",z);const Ne=await pr.request(`/counter-order/orders/${U}`);console.log(" Existing order:",Ne);const He=new Map;Ne.order.items.forEach(Ie=>{const qe=Ie.menuItemId||Ie._id;He.set(qe,Ie)});const G=[],ie=[...Ne.order.items];if(u.forEach(Ie=>{const qe=Ie._id||Ie.id;if(He.has(qe)){const De=He.get(qe),Me=ie.findIndex(Fe=>(Fe.menuItemId||Fe._id)===qe);Me!==-1&&(ie[Me]={...ie[Me],quantity:ie[Me].quantity+Ie.quantity})}else G.push({menuItemId:qe,name:Ie.name,quantity:Ie.quantity,price:Ie.price})}),console.log(" New items to add:",G),console.log(" Updated existing items:",ie),G.length===0&&ie.length===Ne.order.items.length){alert(" No new items or quantity changes!");return}const X=[...ie.map(Ie=>({menuItemId:Ie.menuItemId||Ie._id,name:Ie.name,quantity:Ie.quantity,price:Ie.price})),...G],ue=X.reduce((Ie,qe)=>Ie+qe.price*qe.quantity,0),fe={items:X,subtotal:ue,tax:0,serviceCharge:0,totalAmount:ue,grandTotal:ue};if(await pr.request(`/counter-order/orders/${U}`,{method:"PUT",body:JSON.stringify(fe),headers:{"Content-Type":"application/json"}}),console.log(" Printing new items to kitchen:",G),G.length>0)try{await gi.printKOT({kotNumber:z+"-ADD",tableNumber:M.number||M.tableNumber,items:G}),console.log(" KOT printed to kitchen successfully")}catch(Ie){console.error(" Failed to print KOT:",Ie)}const ye=G.length>0?` KOT ${z} updated!

${G.length} new items added to Table ${M.number}

New items sent to kitchen`:` KOT ${z} updated!

Quantities updated for Table ${M.number}`;alert(ye),h([]),L(null),Y(null),ee(null)}else{console.log(" Creating new KOT");const Ne={customerName:r.customerName||"Walk-in Customer",phoneNumber:r.phoneNumber||"0000000000",branchId:r.selectedBranch._id,date:r.date||new Date().toLocaleDateString("en-IN"),time:r.time||new Date().toLocaleTimeString("en-IN",{hour12:!0})},He=await pr.createInvoice(Ne);console.log(" Invoice created:",He.invoice);const G=ht(),ie=`KOT-${Date.now()}`,X={userId:Te._id,customerName:r.customerName||"Walk-in Customer",phoneNumber:r.phoneNumber||"0000000000",branchId:r.selectedBranch._id,invoiceId:He.invoice.id,tableId:M._id||M.id,tableNumber:M.tableNumber||M.number,items:u.map(fe=>({menuItemId:fe._id||fe.id,name:fe.name,quantity:fe.quantity,price:fe.price})),subtotal:G,tax:0,serviceCharge:0,totalAmount:G,grandTotal:G,paymentMethod:"cash",status:"pending",kotNumber:ie,kotTime:new Date().toISOString()};console.log(" Saving KOT order:",X);const ue=await pr.createOrder(X);console.log(" KOT saved to database:",ue),console.log(" Printing KOT to kitchen:",u);try{await gi.printKOT({kotNumber:ie,tableNumber:M.number||M.tableNumber,items:u}),console.log(" KOT printed to kitchen successfully")}catch(fe){console.error(" Failed to print KOT:",fe)}console.log(` KOT ${ie} saved! Table ${M.number} - ${u.length} items. KOT sent to kitchen`),h([]),L(null)}}catch(ve){console.error(" Failed to save KOT:",ve),console.error(" Error details:",ve.message),alert(`Failed to save KOT: ${ve.message}
Please try again.`)}},style:{background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",width:"auto",padding:"12px 24px"},children:" Save KOT "}):n.jsx("button",{className:"counter-button",onClick:bt,style:{background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",width:"auto",padding:"12px 24px"},children:"Generate Bill "})]}),n.jsx("div",{style:{marginTop:"20px",textAlign:"center"},children:n.jsx("button",{className:"counter-button-secondary",onClick:Ft,style:{width:"auto",padding:"8px 16px"},children:" Back to Category Selection"})}),P&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"32px",minWidth:"700px",maxWidth:"900px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",outline:"none"},tabIndex:0,"data-kot-modal":"true",onKeyDown:ve=>{console.log(" Modal direct keydown:",ve.key,"focusedKOTIndex:",q);const Ne=(()=>{if(!ae.trim())return R;const He=ae.toLowerCase().trim();return R.filter(G=>String(G.tableNumber||"").toLowerCase().includes(He))})();if(ve.key==="ArrowDown"&&(ve.preventDefault(),console.log(" Direct ArrowDown - current:",q,"filtered total:",Ne.length),Q(He=>{const G=He<Ne.length-1?He+1:0;return console.log(" Direct - Setting focusedKOTIndex to:",G),setTimeout(()=>le(G),50),G})),ve.key==="ArrowUp"&&(ve.preventDefault(),console.log(" Direct ArrowUp - current:",q,"filtered total:",Ne.length),Q(He=>{const G=He>0?He-1:Ne.length-1;return console.log(" Direct - Setting focusedKOTIndex to:",G),setTimeout(()=>le(G),50),G})),ve.key==="Enter"){ve.preventDefault(),console.log(" Direct Enter pressed, focusedKOTIndex:",q),console.log(" Filtered KOTs length:",Ne.length),console.log(" Search query:",ae);const He=Ne[q];console.log(" Focused KOT from filtered results:",He),He&&He.paymentStatus==="pending"?(console.log(" Direct Enter: Generating bill for KOT:",He.kotNumber,"Table:",He.tableNumber),I(!1),e("/counter/bill-generation",{state:{...r,selectedTable:{_id:He.tableId,id:He.tableId,tableNumber:He.tableNumber,number:He.tableNumber,status:"reserved"},cartItems:He.items.map(G=>({_id:G.menuItemId||G._id,name:G.name,price:G.price||0,quantity:G.quantity||1})),totalAmount:He.totalAmount,isKOTOrder:!0,kotSaved:!0,kotNumber:He.kotNumber,existingOrderId:He.id,customerName:He.customerName}})):console.log(" No valid KOT found at focused index or KOT not pending")}ve.key==="Escape"&&(ve.preventDefault(),console.log(" Direct Escape pressed, closing KOT list"),I(!1),Q(0))},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[n.jsxs("h2",{style:{margin:0,fontSize:"1.5rem",color:"#ea580c",fontWeight:"600"},children:[" Saved KOTs (Kitchen Order Tickets) - Focus: ",q+1,"/",ae.trim()?R.filter(ve=>{const Te=ae.toLowerCase().trim();return String(ve.tableNumber||"").toLowerCase().includes(Te)}).length:R.length,ae.trim()&&` (filtered by "${ae}")`,(()=>{if(ae.trim()){const Te=R.filter(Ne=>{const He=ae.toLowerCase().trim();return String(Ne.tableNumber||"").toLowerCase().includes(He)})[q];if(Te)return`  Table ${Te.tableNumber}`}return""})()]}),n.jsx("button",{onClick:()=>I(!1),style:{background:"#ef4444",color:"white",border:"none",borderRadius:"8px",padding:"8px 12px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer"},children:" Close (Alt+K)"})]}),n.jsxs("div",{style:{background:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"8px",padding:"12px 16px",marginBottom:"20px",fontSize:"0.875rem",color:"#0c4a6e"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:" Keyboard Navigation:"}),n.jsx("div",{children:" Search table number   Navigate filtered results  Enter: Generate Bill  Esc: Close"}),n.jsx("div",{style:{fontSize:"0.75rem",marginTop:"4px",color:"#0369a1"},children:` Tip: Type table number (e.g., "5") to filter, then press Enter to print that table's bill`})]}),n.jsx("div",{style:{marginBottom:"20px"},children:n.jsx("input",{type:"text",placeholder:" Search by table number (e.g., 5, 10)...",value:ae,onChange:ve=>{de(ve.target.value),Q(0)},onKeyDown:ve=>{if(ve.key==="Enter"){ve.preventDefault();const Te=document.querySelector('[data-kot-modal="true"]');Te&&Te.focus()}},style:{width:"100%",padding:"12px 16px",fontSize:"1rem",border:"2px solid #d1d5db",borderRadius:"8px",outline:"none",transition:"border-color 0.2s ease"},onFocus:ve=>ve.target.style.borderColor="#3b82f6",onBlur:ve=>ve.target.style.borderColor="#d1d5db"})}),V?n.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"16px"},children:""}),"Loading saved KOTs..."]}):R.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),n.jsx("h3",{style:{margin:"0 0 8px 0",color:"#374151"},children:"No Saved KOTs Found"}),n.jsx("p",{style:{margin:"0",fontSize:"0.875rem"},children:"KOTs will appear here after they are sent to the kitchen"})]}):n.jsx("div",{style:{display:"grid",gap:"16px",maxHeight:"500px",overflowY:"auto"},children:(()=>{const ve=R.filter(Te=>{if(!ae.trim())return!0;const Ne=ae.toLowerCase().trim();return String(Te.tableNumber||"").toLowerCase().includes(Ne)});return ve.length===0&&ae.trim()?n.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"16px"},children:""}),n.jsxs("p",{children:['No KOTs found for table "',ae,'"']}),n.jsx("p",{style:{fontSize:"0.875rem",marginTop:"8px"},children:"Try searching with a different table number"})]}):ve.map((Te,Ne)=>n.jsxs("div",{"data-kot-index":Ne,style:{background:Ne===q?"#fef3c7":"#fff7ed",border:Ne===q?"3px solid #f59e0b":"2px solid #fb923c",borderRadius:"12px",padding:"20px",transition:"all 0.2s ease",boxShadow:Ne===q?"0 4px 12px rgba(245, 158, 11, 0.3)":"none"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#9a3412"},children:"KOT Number:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#ea580c"},children:Te.kotNumber})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#9a3412"},children:"Customer:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#ea580c"},children:Te.customerName})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#9a3412"},children:"Table:"}),n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#ea580c"},children:[" ",Te.tableNumber]})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#9a3412"},children:"Status:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:Te.paymentStatus==="completed"?"#10b981":"#f59e0b"},children:Te.paymentStatus==="completed"?" Paid":" Pending"})]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #fb923c",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"0.875rem",color:"#9a3412"},children:["Items (",Te.totalItems," total):"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"8px"},children:[Te.items.slice(0,6).map((He,G)=>n.jsxs("div",{style:{background:"#fed7aa",padding:"8px 12px",borderRadius:"6px",fontSize:"0.875rem",color:"#9a3412"},children:[He.quantity,"x ",He.name]},G)),Te.items.length>6&&n.jsxs("div",{style:{background:"#fed7aa",padding:"8px 12px",borderRadius:"6px",fontSize:"0.875rem",color:"#9a3412",fontStyle:"italic"},children:["+",Te.items.length-6," more items..."]})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#9a3412"},children:"Time:"}),n.jsx("p",{style:{margin:"0",fontSize:"0.875rem",color:"#78350f"},children:new Date(Te.createdAt).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]}),n.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Te.paymentStatus==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{console.log(" Loading KOT for adding items:",Te),L({_id:Te.tableId,id:Te.tableId,tableNumber:Te.tableNumber,number:Te.tableNumber,status:"reserved"}),h([]),Y(Te.id),ee(Te.kotNumber),I(!1),console.log(` Ready to add items to KOT ${Te.kotNumber}. Table ${Te.tableNumber}. Add new items and click Save KOT to update`)},style:{background:"#f59e0b",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer"},children:" Add Items"}),n.jsxs("button",{onClick:()=>{I(!1),e("/counter/bill-generation",{state:{...r,selectedTable:{_id:Te.tableId,id:Te.tableId,tableNumber:Te.tableNumber,number:Te.tableNumber,status:"reserved"},cartItems:Te.items.map(He=>({_id:He.menuItemId||He._id,name:He.name,price:He.price||0,quantity:He.quantity||1})),totalAmount:Te.totalAmount,isKOTOrder:!0,kotSaved:!0,kotNumber:Te.kotNumber,existingOrderId:Te.id,customerName:Te.customerName}})},style:{background:Ne===q?"#059669":"#10b981",color:"white",border:Ne===q?"2px solid #065f46":"none",borderRadius:"6px",padding:"6px 12px",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",boxShadow:Ne===q?"0 2px 8px rgba(5, 150, 105, 0.4)":"none"},children:[" Bill ",Ne===q?"(Enter)":""]})]})})]})]},Te.id))})()}),n.jsxs("div",{style:{marginTop:"24px",textAlign:"center"},children:[n.jsx("button",{onClick:$e,disabled:V,style:{background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"1rem",fontWeight:"600",cursor:V?"not-allowed":"pointer",opacity:V?.6:1,marginRight:"12px"},children:V?" Refreshing...":" Refresh KOTs"}),n.jsx("button",{onClick:()=>I(!1),style:{background:"#6b7280",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Close"})]})]})}),Ce&&re&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"32px",minWidth:"400px",maxWidth:"500px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[n.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"1.5rem",color:"#1f2937",fontWeight:"600"},children:"Add to Cart"}),n.jsxs("div",{style:{padding:"16px",background:"#f9fafb",borderRadius:"8px",marginBottom:"24px"},children:[n.jsxs("h3",{style:{margin:"0 0 8px 0",fontSize:"1.1rem",color:"#1f2937"},children:[re.menuItemNumber&&n.jsx("span",{style:{color:"#f59e0b",marginRight:"8px"},children:re.menuItemNumber}),re.name]}),n.jsxs("p",{style:{margin:"0",fontSize:"1rem",color:"#059669",fontWeight:"600"},children:["",re.price.toFixed(2)]})]}),n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Enter Quantity:"}),n.jsx("input",{type:"number",min:"1",value:J,onChange:ve=>oe(ve.target.value),onKeyDown:ve=>{ve.key==="Enter"?ne():ve.key==="Escape"&&(Qe(!1),ce(null))},onFocus:ve=>{ve.target.select()},autoFocus:!0,style:{width:"100%",padding:"12px",fontSize:"1.5rem",border:"3px solid #3b82f6",borderRadius:"8px",textAlign:"center",fontWeight:"700",color:"#2563eb",backgroundColor:"#eff6ff"}})]}),n.jsxs("div",{style:{display:"flex",gap:"12px"},children:[n.jsx("button",{onClick:()=>{Qe(!1),ce(null)},style:{flex:1,background:"#6b7280",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Cancel (Esc)"}),n.jsx("button",{onClick:ne,style:{flex:1,background:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Add to Cart (Enter)"})]})]})}),xe&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:n.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"24px",width:"90%",maxWidth:"1000px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",borderBottom:"2px solid #e5e7eb",paddingBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"1.75rem",color:"#1f2937",fontWeight:"700"},children:" Sales Report"}),n.jsxs("p",{style:{margin:0,color:"#6b7280",fontSize:"1rem"},children:[ge==null?void 0:ge.category," - ",ge==null?void 0:ge.branch]})]}),n.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[n.jsx("input",{type:"date",value:Ee,onChange:ve=>{Ve(ve.target.value),Ye(ve.target.value)},style:{padding:"8px 12px",border:"2px solid #d1d5db",borderRadius:"8px",fontSize:"0.875rem"}}),n.jsx("button",{onClick:()=>Z(!1),style:{background:"#6b7280",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer"},children:" Close"})]})]}),pe?n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"60px",flexDirection:"column",gap:"16px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),n.jsx("p",{style:{color:"#6b7280",fontSize:"1rem"},children:"Loading sales report..."})]}):ge?n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"32px"},children:[n.jsxs("div",{style:{background:"#f0f9ff",border:"2px solid #0ea5e9",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#0ea5e9"},children:ge.summary.totalOrders}),n.jsx("div",{style:{fontSize:"0.875rem",color:"#0369a1",fontWeight:"600"},children:"Total Orders"})]}),n.jsxs("div",{style:{background:"#f0fdf4",border:"2px solid #10b981",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[n.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#10b981"},children:["",ge.summary.totalRevenue.toFixed(2)]}),n.jsx("div",{style:{fontSize:"0.875rem",color:"#047857",fontWeight:"600"},children:"Total Revenue"})]}),n.jsxs("div",{style:{background:"#fef3c7",border:"2px solid #f59e0b",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#f59e0b"},children:ge.summary.totalItems}),n.jsx("div",{style:{fontSize:"0.875rem",color:"#92400e",fontWeight:"600"},children:"Items Sold"})]}),n.jsxs("div",{style:{background:"#fce7f3",border:"2px solid #ec4899",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[n.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#ec4899"},children:["",ge.summary.averageOrderValue.toFixed(2)]}),n.jsx("div",{style:{fontSize:"0.875rem",color:"#be185d",fontWeight:"600"},children:"Avg Order Value"})]}),ge.summary.totalDiscount>0&&n.jsxs("div",{style:{background:"#fef2f2",border:"2px solid #ef4444",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[n.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#ef4444"},children:["",ge.summary.totalDiscount.toFixed(2)]}),n.jsx("div",{style:{fontSize:"0.875rem",color:"#dc2626",fontWeight:"600"},children:"Total Discounts"})]})]}),ge.topItems.length>0&&n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"16px"},children:" Top Selling Items"}),n.jsx("div",{style:{background:"#f9fafb",borderRadius:"8px",padding:"16px"},children:ge.topItems.slice(0,5).map((ve,Te)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:Te<4?"1px solid #e5e7eb":"none"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{background:Te===0?"#fbbf24":Te===1?"#9ca3af":Te===2?"#cd7c2f":"#6b7280",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"600"},children:Te+1}),n.jsx("span",{style:{fontWeight:"500"},children:ve.name})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsxs("div",{style:{fontWeight:"600",color:"#1f2937"},children:[ve.quantity," sold"]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:["",ve.revenue.toFixed(2)]}),"                "]})]},Te))})]}),n.jsxs("div",{children:[n.jsxs("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"16px"},children:[" Recent Orders (",ge.orders.length,")"]}),n.jsx("div",{style:{background:"#f9fafb",borderRadius:"8px",maxHeight:"300px",overflow:"auto"},children:ge.orders.length===0?n.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:"No orders found for selected date and category"}):ge.orders.slice(0,20).map((ve,Te)=>n.jsxs("div",{style:{padding:"12px 16px",borderBottom:Te<Math.min(19,ge.orders.length-1)?"1px solid #e5e7eb":"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsxs("div",{style:{fontWeight:"600",color:"#1f2937"},children:[ve.orderNumber,ve.tableNumber&&` - Table ${ve.tableNumber}`]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:[ve.time,"  ",ve.customerName,"  ",ve.items.length," items"]})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsxs("div",{style:{fontWeight:"600",color:"#1f2937"},children:["",ve.totalAmount.toFixed(2)]}),ve.discountAmount>0&&n.jsxs("div",{style:{fontSize:"0.75rem",color:"#ef4444"},children:["-",ve.discountAmount.toFixed(2)," discount"]})]})]},Te))})]})]}):n.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),n.jsx("p",{children:"No sales data available for the selected date."})]})]})})]})}):n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Customer data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/branch-selection"),children:"Go Back"})]})})})},ufe=()=>{var k,D,B,F;const e=nn(),r=Gn().state,[a,i]=N.useState(!1),[s,l]=N.useState(null),[d,u]=N.useState((r==null?void 0:r.cartItems)||[]),[h,p]=N.useState(!1),[m,g]=N.useState(!1),[v,j]=N.useState(!1);if(N.useEffect(()=>{const M=async L=>{if(L.key==="Enter"){const O=document.activeElement;if(O&&(O.tagName==="INPUT"||O.tagName==="TEXTAREA")||a||m)return;await y()}if(L.key.toLowerCase()==="k"){const O=document.activeElement;if(O&&(O.tagName==="INPUT"||O.tagName==="TEXTAREA"))return;j(!v)}};return window.addEventListener("keydown",M),()=>{window.removeEventListener("keydown",M)}},[a,m,v]),!r)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Order data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/menu"),children:"Go Back"})]})})});const b=async()=>{var M,L,O,W;try{console.log(" Starting KOT save process...");const P=localStorage.getItem("counterUserData"),I=P?JSON.parse(P):null;if(!I||!I._id)throw console.error(" Counter user not found in localStorage"),new Error("User session expired. Please login again.");console.log(" Counter user found:",I._id),console.log(" Creating KOT invoice...");const R={customerName:r.customerName||"Walk-in Customer",phoneNumber:r.phoneNumber||"0000000000",branchId:r.selectedBranch._id,date:r.date||new Date().toLocaleDateString("en-IN"),time:r.time||new Date().toLocaleTimeString("en-IN",{hour12:!0})};console.log(" Invoice data:",R);const H=await pr.createInvoice(R);if(console.log(" KOT Invoice created:",H.invoice),r.selectedTable&&r.selectedTable._id)try{console.log(" Updating table status to reserved...");const Y=r.selectedTable._id||r.selectedTable.id;await pr.request(`/table/${Y}`,{method:"PUT",body:JSON.stringify({status:"reserved"})}),console.log(" Table status updated to reserved")}catch(Y){console.error(" Failed to update table status:",Y)}console.log(" Creating KOT order...");const V=d.reduce((Y,z)=>Y+z.price*z.quantity,0),he={userId:I._id,customerName:r.customerName||"Walk-in Customer",phoneNumber:r.phoneNumber||"0000000000",branchId:r.selectedBranch._id,invoiceId:H.invoice.id,tableId:((M=r.selectedTable)==null?void 0:M._id)||((L=r.selectedTable)==null?void 0:L.id)||null,tableNumber:((O=r.selectedTable)==null?void 0:O.tableNumber)||((W=r.selectedTable)==null?void 0:W.number)||null,items:d.map(Y=>({menuItemId:Y._id||Y.id||"507f1f77bcf86cd799439013",name:Y.name,quantity:Y.quantity,price:Y.price})),subtotal:V,tax:0,serviceCharge:0,totalAmount:V,grandTotal:V,paymentMethod:"pending",orderStatus:"kot_sent",paymentStatus:"pending",kotNumber:`KOT-${Date.now()}`,kotTime:new Date().toISOString()};console.log(" Saving KOT order:",he);const U=await pr.createOrder(he);return console.log(" KOT saved successfully:",U),p(!0),localStorage.setItem("currentKOT",JSON.stringify({...r,kotOrder:U,kotNumber:he.kotNumber,kotItems:d})),console.log(" KOT save process completed successfully!"),U}catch(P){throw console.error(" Failed to save KOT:",P),console.error(" Error details:",P.message,P.stack),P}},y=async()=>{var M,L;if(!a){i(!0),l(null);try{console.log(" Saving KOT to database..."),await b();const O=JSON.parse(localStorage.getItem("thermalPrinterSettings")||"{}"),W={selectedBranch:r.selectedBranch,kotNumber:`KOT-${Date.now()}`,date:r.date,time:r.time,tableNumber:((M=r.selectedTable)==null?void 0:M.tableNumber)||((L=r.selectedTable)==null?void 0:L.number)||"N/A",cartItems:d,isKOT:!0};try{const P=T(W),I="https://hotelvirat.com/api/v1/hotel",R=O.ip||"192.168.1.100",H=O.port||9100,V=new AbortController,he=setTimeout(()=>V.abort(),3e3),U=await fetch(`${I}/print-thermal/network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:P,printerIP:R,port:H}),signal:V.signal});if(clearTimeout(he),U.ok)l({type:"success",message:"KOT printed to kitchen! Table reserved. Returning to menu..."}),g(!0),setTimeout(()=>{e("/counter/menu",{state:{...r,cartItems:[],selectedTable:null,kotPrinted:!0}})},1500);else throw new Error("Kitchen printer not responding")}catch(P){console.log("Direct thermal printing failed, trying thermal printer service:",P.message);const I={method:"network",printerIP:O.ip||"192.168.1.100",port:O.port||9100},R={selectedBranch:r.selectedBranch,invoiceNumber:W.kotNumber,date:W.date,time:W.time,customerName:"KITCHEN ORDER",phoneNumber:"",cartItems:d.map(H=>({name:`${H.quantity}x ${H.name}`,price:0,quantity:1})),total:0,paymentMethod:"KOT",amountReceived:0,change:0,isKOT:!0,tableNumber:W.tableNumber};await Promise.race([gi.printBill(R,I),new Promise((H,V)=>setTimeout(()=>V(new Error("Print operation timed out")),5e3))]),l({type:"success",message:"KOT printed to kitchen! Table reserved. Returning to menu..."}),g(!0),setTimeout(()=>{e("/counter/menu",{state:{...r,cartItems:[],selectedTable:null,kotPrinted:!0}})},1500)}setTimeout(()=>l(null),3e3)}catch(O){console.error("KOT Print error:",O),l({type:"error",message:"Failed to print KOT. Please check printer connection."}),setTimeout(()=>l(null),5e3)}finally{i(!1)}}},T=M=>{const O=R=>{const H=Math.max(0,Math.floor((42-R.length)/2));return" ".repeat(H)+R},W=(R,H)=>{const V=42-H.length-1,he=R.length>V?R.substring(0,V-3)+"...":R,U=42-he.length-H.length;return he+" ".repeat(Math.max(1,U))+H};let P=`
`;P+=O("*** KITCHEN ORDER TICKET ***")+`
`,P+=O(M.selectedBranch.name||"Restaurant")+`
`,P+="=".repeat(42)+`
`,P+=W("KOT#:",M.kotNumber||"KOT-001")+`
`,P+=W("Table:",M.tableNumber||"N/A")+`
`,P+=W("Date:",M.date||new Date().toLocaleDateString())+`
`,P+=W("Time:",M.time||new Date().toLocaleTimeString())+`
`,P+="=".repeat(42)+`
`,P+=O("ITEMS TO PREPARE")+`
`,P+="-".repeat(42)+`
`,M.cartItems&&M.cartItems.length>0?M.cartItems.forEach(R=>{const H=`${R.quantity||1}x ${R.name||"Unknown Item"}`;P+=H+`
`,H.length>42&&(P+=`
`)}):P+=O("No items")+`
`,P+="-".repeat(42)+`
`;const I=M.cartItems?M.cartItems.reduce((R,H)=>R+(H.quantity||1),0):0;return P+=O(`Total Items: ${I}`)+`
`,P+="=".repeat(42)+`
`,P+=O("*** KITCHEN COPY ***")+`
`,P+=`


`,P},E=()=>{e("/counter/print-settings",{state:{returnTo:"/counter/kot-generation",orderData:r}})},C=()=>{e("/counter/menu",{state:{...r,cartItems:[],isKOTOrder:!0,existingKOT:!0}})},S=()=>{e("/counter/bill-generation",{state:{...r,cartItems:d,isKOTOrder:!0,kotSaved:!0}})},A=()=>{e("/counter/menu",{state:{...r,cartItems:d}})};return d.reduce((M,L)=>M+L.price*L.quantity,0),n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Kitchen Order Ticket (KOT)"}),n.jsx("p",{className:"counter-subtitle",children:"Send order to kitchen"})]}),n.jsxs("div",{style:{background:"#fff7ed",padding:"20px",borderRadius:"12px",marginBottom:"24px",border:"2px dashed #fb923c"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"1.5rem",color:"#ea580c"},children:" KITCHEN ORDER TICKET"}),n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#9a3412"},children:r.selectedBranch.name})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #fb923c",margin:"16px 0"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#9a3412"},children:"KOT Number:"}),n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#ea580c"},children:["KOT-",Date.now().toString().slice(-6)]})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#9a3412"},children:"Table:"}),n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#ea580c"},children:[" ",((k=r.selectedTable)==null?void 0:k.tableNumber)||((D=r.selectedTable)==null?void 0:D.number)||"N/A"]})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#9a3412"},children:"Time:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#ea580c"},children:r.time})]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #fb923c",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#ea580c"},children:"Items to Prepare"}),d.map((M,L)=>n.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:L<d.length-1?"1px solid #fed7aa":"none"},children:n.jsx("div",{style:{flex:1},children:n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#9a3412",fontSize:"1rem"},children:[M.quantity,"x ",M.name]})})},L))]}),n.jsx("hr",{style:{border:"none",borderTop:"2px solid #ea580c",margin:"16px 0"}}),n.jsxs("div",{style:{textAlign:"center",fontSize:"1.2rem",fontWeight:"700",color:"#ea580c"},children:["Total Items: ",d.reduce((M,L)=>M+L.quantity,0)]})]}),s&&n.jsx("div",{style:{background:s.type==="success"?"#f0fff4":"#fed7d7",padding:"12px",borderRadius:"8px",border:`1px solid ${s.type==="success"?"#68d391":"#fc8181"}`,marginBottom:"16px",textAlign:"center"},children:n.jsxs("div",{style:{color:s.type==="success"?"#22543d":"#742a2a",fontWeight:"600"},children:[s.type==="success"?"":""," ",s.message]})}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginTop:"24px"},children:[!m&&n.jsxs("div",{style:{textAlign:"center",padding:"20px",background:"#fef3c7",border:"2px solid #f59e0b",borderRadius:"12px"},children:[n.jsx("h3",{style:{margin:"0 0 8px 0",color:"#92400e",fontSize:"1.2rem"},children:"Press Enter to Print KOT"}),n.jsx("p",{style:{margin:"0",color:"#78350f",fontSize:"0.875rem"},children:"Or click the Print KOT button below"})]}),m&&n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",padding:"20px",background:"#f0fdf4",border:"2px solid #10b981",borderRadius:"12px"},children:[n.jsx("button",{className:"counter-button",onClick:C,style:{background:"#f59e0b",borderColor:"#f59e0b",padding:"16px 24px",fontSize:"1rem",fontWeight:"600"},children:" Add More Items"}),n.jsx("button",{className:"counter-button",onClick:S,style:{background:"#10b981",borderColor:"#10b981",padding:"16px 24px",fontSize:"1rem",fontWeight:"600"},children:" Generate Final Bill"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"12px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:A,children:" Back"}),n.jsx("button",{className:"counter-button-secondary",onClick:y,disabled:a,style:{background:m?"#9ca3af":"#ea580c",borderColor:m?"#9ca3af":"#ea580c",color:"white",opacity:a?.6:1,cursor:a?"not-allowed":"pointer"},children:a?" Printing...":m?" KOT Printed":" Print KOT"}),n.jsx("button",{className:"counter-button-secondary",onClick:E,title:"Configure printer settings",children:" Settings"}),n.jsx("button",{className:"counter-button-secondary",onClick:()=>j(!0),title:"Press K to view KOT details",children:" View KOT (K)"})]})]}),v&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"32px",minWidth:"500px",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[n.jsx("h2",{style:{margin:0,fontSize:"1.5rem",color:"#ea580c",fontWeight:"600"},children:" Kitchen Order Ticket"}),n.jsx("button",{onClick:()=>j(!1),style:{background:"#ef4444",color:"white",border:"none",borderRadius:"8px",padding:"8px 12px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer"},children:" Close (K)"})]}),n.jsxs("div",{style:{background:"#fff7ed",padding:"20px",borderRadius:"12px",border:"2px solid #fb923c"},children:[n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#9a3412"},children:"KOT Number:"}),n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#ea580c"},children:["KOT-",Date.now().toString().slice(-6)]})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#9a3412"},children:"Table:"}),n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#ea580c"},children:[" ",((B=r.selectedTable)==null?void 0:B.tableNumber)||((F=r.selectedTable)==null?void 0:F.number)||"N/A"]})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#9a3412"},children:"Time:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#ea580c"},children:r.time})]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #fb923c",margin:"16px 0"}}),n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#ea580c"},children:"Items to Prepare"}),d.map((M,L)=>n.jsx("div",{style:{padding:"8px 0",borderBottom:L<d.length-1?"1px solid #fed7aa":"none"},children:n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#9a3412",fontSize:"1rem"},children:[M.quantity,"x ",M.name]})},L)),n.jsx("hr",{style:{border:"none",borderTop:"2px solid #ea580c",margin:"16px 0"}}),n.jsxs("div",{style:{textAlign:"center",fontSize:"1.2rem",fontWeight:"700",color:"#ea580c"},children:["Total Items: ",d.reduce((M,L)=>M+L.quantity,0)]})]}),n.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"20px"},children:[n.jsx("button",{onClick:y,disabled:a,style:{background:"#ea580c",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"1rem",fontWeight:"600",cursor:a?"not-allowed":"pointer",opacity:a?.6:1},children:a?" Printing...":" Print KOT"}),n.jsx("button",{onClick:()=>j(!1),style:{background:"#6b7280",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Close"})]})]})]})})]})})},hfe=()=>{const e=nn(),r=Gn().state,[a,i]=N.useState(!1),[s,l]=N.useState(null),[d,u]=N.useState((r==null?void 0:r.cartItems)||[]),[h,p]=N.useState(!1),[m,g]=N.useState("percentage"),[v,j]=N.useState(""),[b,y]=N.useState(""),[T,E]=N.useState(null),C=async()=>{if(r.selectedTable)try{console.log(` Freeing up table after bill print: ${r.selectedTable.tableNumber||r.selectedTable.number}`),await pr.request(`/table/${r.selectedTable._id||r.selectedTable.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"available"})}),console.log(" Table status updated to available after bill print"),localStorage.setItem("refreshTablesAfterBill","true")}catch(V){console.error(" Failed to update table status after bill print:",V)}};if(N.useEffect(()=>{const V=async he=>{if(he.altKey&&he.key.toLowerCase()==="b"){he.preventDefault(),B();return}if(he.key==="Enter"){const U=document.activeElement;if(U&&(U.tagName==="INPUT"||U.tagName==="TEXTAREA")||a)return;await M(),setTimeout(()=>{S()},500)}};return window.addEventListener("keydown",V),()=>{window.removeEventListener("keydown",V)}},[a,d]),!r)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Order data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/menu"),children:"Go Back"})]})})});const S=async()=>{var U,Y,z,ee,q,Q;try{const ae=localStorage.getItem("counterUserData"),de=ae?JSON.parse(ae):null;if(!de||!de._id){console.error(" Counter user not found in localStorage"),e("/counter/menu",{state:{customerName:r.customerName,phoneNumber:r.phoneNumber,selectedBranch:r.selectedBranch,invoiceNumber:`INV-${Date.now()}`,date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),refreshTables:!0}});return}if(r.existingOrderId){console.log(" Updating existing KOT order to completed:",r.existingOrderId);try{await pr.request(`/counter-order/orders/${r.existingOrderId}/payment-status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentStatus:"completed"})}),console.log(" KOT order marked as completed")}catch(xe){console.error(" Failed to update KOT order status:",xe)}if(r.selectedTable)try{console.log(` Freeing up table: ${r.selectedTable.tableNumber||r.selectedTable.number}`),await pr.request(`/table/${r.selectedTable._id||r.selectedTable.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"available"})}),console.log(" Table freed successfully")}catch(xe){console.error(" Failed to free table:",xe)}}else{console.log(" Creating invoice...");const xe={customerName:r.customerName||"Walk-in Customer",phoneNumber:r.phoneNumber||"0000000000",branchId:r.selectedBranch._id,date:r.date||new Date().toLocaleDateString("en-IN"),time:r.time||new Date().toLocaleTimeString("en-IN",{hour12:!0})},Z=await pr.createInvoice(xe);console.log(" Invoice created:",Z.invoice),console.log(" Creating order...");const ge={userId:de._id,customerName:r.customerName||"Walk-in Customer",phoneNumber:r.phoneNumber||"0000000000",branchId:r.selectedBranch._id,invoiceId:Z.invoice.id,tableId:((U=r.selectedTable)==null?void 0:U._id)||((Y=r.selectedTable)==null?void 0:Y.id)||null,tableNumber:((z=r.selectedTable)==null?void 0:z.tableNumber)||((ee=r.selectedTable)==null?void 0:ee.number)||null,items:d.map(pe=>({menuItemId:pe._id||pe.id||"507f1f77bcf86cd799439013",name:pe.name,quantity:pe.quantity,price:pe.price})),subtotal:O,discount:T?{type:T.type,value:T.value,amount:W(),remark:T.remark}:null,discountAmount:W(),tax:0,serviceCharge:0,totalAmount:H,grandTotal:H,paymentMethod:"cash",paymentStatus:"completed",status:"completed"};console.log(" Saving web order to CounterOrder collection via /counter-order/orders endpoint:",ge),console.log(" Cart items being saved:",d.map(pe=>({_id:pe._id,id:pe.id,name:pe.name,quantity:pe.quantity,price:pe.price})));const je=await pr.createOrder(ge);if(console.log(" Web order saved to database successfully:",je),console.log(" Order should now appear in sales reports when fetching from /counter-order/orders"),r.selectedTable)try{console.log(` Freeing up table: ${r.selectedTable.tableNumber||r.selectedTable.number}`),await pr.request(`/table/${r.selectedTable._id||r.selectedTable.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"available"})}),console.log(" Table freed successfully")}catch(pe){console.error(" Failed to free table:",pe)}}}catch(ae){console.error(" Failed to save order:",ae)}let V;const he=((Q=(q=r.selectedCategory)==null?void 0:q.name)==null?void 0:Q.toLowerCase())||"";if(he.includes("self service")||he.includes("darshini")){const ae=new Date,de=String(ae.getDate()).padStart(2,"0"),xe=String(ae.getMonth()+1).padStart(2,"0"),Z=String(ae.getFullYear()).slice(-2),ge=`${de}-${xe}-${Z}`,je=`darshini-counter-${ge}`;let pe=parseInt(localStorage.getItem(je)||"0");pe++,localStorage.setItem(je,pe.toString());const Je=String(pe).padStart(3,"0");V=`darshini-${ge}-${Je}`}else if(he.includes("restaurant")){const ae=new Date,de=String(ae.getDate()).padStart(2,"0"),xe=String(ae.getMonth()+1).padStart(2,"0"),Z=String(ae.getFullYear()).slice(-2),je=`restaurant-counter-${`${de}-${xe}-${Z}`}`;let pe=parseInt(localStorage.getItem(je)||"0");pe++,localStorage.setItem(je,pe.toString()),V=pe.toString()}else if(he.includes("temple")||he.includes("meal")){const ae=new Date,de=String(ae.getDate()).padStart(2,"0"),xe=String(ae.getMonth()+1).padStart(2,"0"),Z=String(ae.getFullYear()).slice(-2),ge=`${de}-${xe}-${Z}`,je=`temple-counter-${ge}`;let pe=parseInt(localStorage.getItem(je)||"0");pe++,localStorage.setItem(je,pe.toString());const Je=String(pe).padStart(3,"0");V=`temple-${ge}-${Je}`}else V=`INV-${Date.now()}`;e("/counter/menu",{state:{customerName:"Walk-in Customer",phoneNumber:"0000000000",selectedBranch:r.selectedBranch,selectedCategory:r.selectedCategory,selectedTable:null,invoiceNumber:V,date:new Date().toLocaleDateString("en-IN"),time:new Date().toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"}),cartItems:[],refreshTables:!0}})},A=()=>{var U,Y;let V;const he=((Y=(U=r.selectedCategory)==null?void 0:U.name)==null?void 0:Y.toLowerCase())||"";if(he.includes("self service")||he.includes("darshini")){const z=new Date,ee=String(z.getDate()).padStart(2,"0"),q=String(z.getMonth()+1).padStart(2,"0"),Q=String(z.getFullYear()).slice(-2),ae=`${ee}-${q}-${Q}`,de=`darshini-counter-${ae}`;let xe=parseInt(localStorage.getItem(de)||"0");xe++,localStorage.setItem(de,xe.toString());const Z=String(xe).padStart(3,"0");V=`darshini-${ae}-${Z}`}else if(he.includes("restaurant")){const z=new Date,ee=String(z.getDate()).padStart(2,"0"),q=String(z.getMonth()+1).padStart(2,"0"),Q=String(z.getFullYear()).slice(-2),de=`restaurant-counter-${`${ee}-${q}-${Q}`}`;let xe=parseInt(localStorage.getItem(de)||"0");xe++,localStorage.setItem(de,xe.toString()),V=xe.toString()}else if(he.includes("temple")||he.includes("meal")){const z=new Date,ee=String(z.getDate()).padStart(2,"0"),q=String(z.getMonth()+1).padStart(2,"0"),Q=String(z.getFullYear()).slice(-2),ae=`${ee}-${q}-${Q}`,de=`temple-counter-${ae}`;let xe=parseInt(localStorage.getItem(de)||"0");xe++,localStorage.setItem(de,xe.toString());const Z=String(xe).padStart(3,"0");V=`temple-${ae}-${Z}`}else V=`INV-${Date.now()}`;e("/counter/menu",{state:{customerName:"Walk-in Customer",phoneNumber:"0000000000",selectedBranch:r.selectedBranch,selectedCategory:r.selectedCategory,invoiceNumber:V,date:new Date().toLocaleDateString("en-IN"),time:new Date().toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"}),cartItems:[],refreshTables:!0}})},k=V=>{const he=d.filter((U,Y)=>Y!==V);u(he),he.length===0&&e("/counter/menu",{state:{customerName:r.customerName,phoneNumber:r.phoneNumber,selectedBranch:r.selectedBranch,invoiceNumber:r.invoiceNumber,date:r.date,time:r.time,cartItems:[]}})},D=(V,he)=>{let U=parseInt(he);(isNaN(U)||U<0)&&(U=0);const Y=[...d];U===0?Y.splice(V,1):Y[V]={...Y[V],quantity:U},u(Y),Y.length===0&&e("/counter/menu",{state:{customerName:r.customerName,phoneNumber:r.phoneNumber,selectedBranch:r.selectedBranch,invoiceNumber:r.invoiceNumber,date:r.date,time:r.time,cartItems:[]}})},B=()=>{e("/counter/menu",{state:{...r,cartItems:d}})},F=async()=>{var V,he,U;if(!a){i(!0),l(null);try{const Y=JSON.parse(localStorage.getItem("thermalPrinterSettings")||"{}"),ee=d.reduce((Q,ae)=>Q+ae.price*ae.quantity,0)-W(),q={selectedBranch:r.selectedBranch,selectedTable:r.selectedTable,selectedCategory:r.selectedCategory,invoiceNumber:r.invoiceNumber,date:r.date,time:r.time,customerName:r.customerName,phoneNumber:r.phoneNumber,cartItems:d,total:ee,discountAmount:W(),discountRemark:(T==null?void 0:T.remark)||"",discount:T,paymentMethod:"Pending",amountReceived:0,change:0};console.log(" BillGeneration handlePrint - Sending printData to thermal printer:",{selectedTable:q.selectedTable,selectedCategory:q.selectedCategory,hasTable:!!((V=q.selectedTable)!=null&&V.tableNumber||(he=q.selectedTable)!=null&&he.number),categoryName:(U=q.selectedCategory)==null?void 0:U.name,discountAmount:q.discountAmount,appliedDiscount:q.discount});try{const Q=gi.generateThermalBill(q),ae="https://hotelvirat.com/api/v1/hotel",de=Y.ip||"192.168.1.100",xe=Y.port||9100,Z=new AbortController,ge=setTimeout(()=>Z.abort(),3e3),je=await fetch(`${ae}/print-thermal/network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:Q,printerIP:de,port:xe}),signal:Z.signal});if(clearTimeout(ge),je.ok)l({type:"success",message:"Bill printed to thermal printer successfully!"}),await C();else throw new Error("Thermal printer not responding")}catch(Q){console.log("Direct thermal printing failed, trying thermal printer service:",Q.message);const ae={method:"network",printerIP:Y.ip||"192.168.1.100",port:Y.port||9100},de=await Promise.race([gi.printBill(q,ae),new Promise((xe,Z)=>setTimeout(()=>Z(new Error("Print operation timed out after 5 seconds")),5e3))]);if(de&&de.method){const Z={"popup-window":"Bill printed using browser (thermal printer not found)","current-window":"Bill printed using browser (thermal printer not found)","current-window-fallback":"Bill printed using browser (thermal printer not found)",network:"Bill printed to thermal printer successfully!",usb:"Bill printed to USB thermal printer successfully!"}[de.method]||"Bill printed successfully!";l({type:"success",message:Z})}else l({type:"success",message:"Bill printed successfully!"});await C()}setTimeout(()=>l(null),3e3)}catch(Y){console.error("Print error:",Y),l({type:"error",message:Y.message||"Failed to print bill. Please try again."}),setTimeout(()=>l(null),5e3)}finally{i(!1)}}},M=async()=>{var V,he,U;if(!a){i(!0);try{const Y=JSON.parse(localStorage.getItem("thermalPrinterSettings")||"{}"),ee=d.reduce((Q,ae)=>Q+ae.price*ae.quantity,0)-W(),q={selectedBranch:r.selectedBranch,selectedTable:r.selectedTable,selectedCategory:r.selectedCategory,invoiceNumber:r.invoiceNumber,date:r.date,time:r.time,customerName:r.customerName,phoneNumber:r.phoneNumber,cartItems:d,total:ee,discountAmount:W(),discountRemark:(T==null?void 0:T.remark)||"",discount:T,paymentMethod:"Pending",amountReceived:0,change:0};console.log(" BillGeneration handleDirectPrint - Sending printData to thermal printer:",{selectedTable:q.selectedTable,selectedCategory:q.selectedCategory,hasTable:!!((V=q.selectedTable)!=null&&V.tableNumber||(he=q.selectedTable)!=null&&he.number),categoryName:(U=q.selectedCategory)==null?void 0:U.name,discountAmount:q.discountAmount,appliedDiscount:q.discount});try{const Q=gi.generateThermalBill(q),ae="https://hotelvirat.com/api/v1/hotel",de=Y.ip||"192.168.1.100",xe=Y.port||9100,Z=new AbortController,ge=setTimeout(()=>Z.abort(),2e3),je=await fetch(`${ae}/print-thermal/network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:Q,printerIP:de,port:xe}),signal:Z.signal});if(clearTimeout(ge),!je.ok)throw new Error("Thermal printer not responding");console.log(" Enter key: Bill printed to thermal printer successfully"),await C()}catch(Q){console.log(" Enter key: Direct thermal printing failed:",Q.message);const ae={method:"network",printerIP:Y.ip||"192.168.1.100",port:Y.port||9100};await Promise.race([gi.printBill(q,ae),new Promise((de,xe)=>setTimeout(()=>xe(new Error("Thermal printer service timeout")),3e3))]),console.log(" Enter key: Bill printed via thermal printer service"),await C()}}catch(Y){console.error(" Enter key: All printing methods failed:",Y)}finally{i(!1)}}},L=()=>{e("/counter/print-settings",{state:{returnTo:"/counter/bill-generation",orderData:r}})},O=d.reduce((V,he)=>V+he.price*he.quantity,0),W=()=>T?T.type==="percentage"?O*T.value/100:Math.min(T.value,O):0,P=()=>O-W(),I=()=>{const V=parseFloat(v);if(isNaN(V)||V<=0){alert("Please enter a valid discount value");return}if(m==="percentage"&&V>100){alert("Percentage discount cannot be more than 100%");return}if(m==="amount"&&V>O){alert("Discount amount cannot be more than total amount");return}if(!b.trim()){alert("Please enter a remark for the discount");return}E({type:m,value:V,remark:b.trim()}),p(!1),j(""),y("")},R=()=>{E(null)},H=P();return n.jsxs("div",{className:"counter-container",children:[n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Bill Summary"}),n.jsx("p",{className:"counter-subtitle",children:"Review your order details"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"20px",borderRadius:"12px",marginBottom:"24px",border:"2px dashed #e2e8f0"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"1.5rem",color:"#1a202c"},children:r.selectedBranch.name}),n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:r.selectedBranch.address}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#718096"},children:[" ",r.selectedBranch.phone]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:r.selectedTable?"1fr 1fr 1fr":"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Invoice No:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.invoiceNumber})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Date & Time:"}),n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:[r.date," ",r.time]})]}),r.selectedTable&&n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Table:"}),n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:[" ",r.selectedTable.tableNumber||r.selectedTable.number]})]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#1a202c"},children:"Order Items"}),d.length===0?n.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#718096",fontStyle:"italic"},children:"No items in cart"}):d.map((V,he)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:he<d.length-1?"1px solid #e2e8f0":"none"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontWeight:"500",color:"#1a202c"},children:V.name}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#718096"},children:["",V.price.toFixed(2)," each"]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginRight:"16px"},children:[n.jsx("button",{onClick:()=>D(he,V.quantity-1),style:{background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"1rem",fontWeight:"600",color:"#374151",transition:"all 0.2s"},onMouseOver:U=>{U.target.style.background="#e5e7eb",U.target.style.borderColor="#9ca3af"},onMouseOut:U=>{U.target.style.background="#f3f4f6",U.target.style.borderColor="#d1d5db"},title:"Decrease quantity",children:"-"}),n.jsx("div",{style:{minWidth:"40px",textAlign:"center",fontSize:"1rem",fontWeight:"600",color:"#1f2937",padding:"4px 8px",background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"4px"},children:V.quantity}),n.jsx("button",{onClick:()=>D(he,V.quantity+1),style:{background:"#3b82f6",border:"1px solid #3b82f6",borderRadius:"6px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"1rem",fontWeight:"600",color:"white",transition:"all 0.2s"},onMouseOver:U=>{U.target.style.background="#2563eb",U.target.style.borderColor="#2563eb"},onMouseOut:U=>{U.target.style.background="#3b82f6",U.target.style.borderColor="#3b82f6"},title:"Increase quantity",children:"+"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsxs("div",{style:{fontWeight:"600",color:"#1a202c",minWidth:"80px",textAlign:"right"},children:["",(V.price*V.quantity).toFixed(2)]}),n.jsx("button",{onClick:()=>k(he),style:{background:"#dc2626",color:"white",border:"none",borderRadius:"6px",padding:"6px 10px",fontSize:"0.75rem",cursor:"pointer",fontWeight:"500",transition:"all 0.2s"},onMouseOver:U=>U.target.style.background="#b91c1c",onMouseOut:U=>U.target.style.background="#dc2626",title:"Remove this item completely",children:" Remove"})]})]},he))]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.1rem",fontWeight:"500",color:"#4a5568",marginBottom:"8px"},children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",O.toFixed(2)]})]}),T&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1rem",color:"#e53e3e",marginBottom:"4px"},children:[n.jsxs("span",{children:["Discount (",T.type==="percentage"?`${T.value}%`:`${T.value}`,"):"]}),n.jsxs("span",{children:["-",W().toFixed(2)]})]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#718096",fontStyle:"italic",marginBottom:"8px",textAlign:"right"},children:["Reason: ",T.remark]})]}),n.jsx("hr",{style:{border:"none",borderTop:"2px solid #1a202c",margin:"12px 0"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.5rem",fontWeight:"700",color:"#1a202c"},children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",H.toFixed(2)]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px",justifyContent:"center"},children:[n.jsx("button",{onClick:()=>p(!0),style:{background:T?"#f59e0b":"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseOver:V=>{V.target.style.background=T?"#d97706":"#059669"},onMouseOut:V=>{V.target.style.background=T?"#f59e0b":"#10b981"},children:T?" Edit Discount":" Add Discount"}),T&&n.jsx("button",{onClick:R,style:{background:"#dc2626",color:"white",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseOver:V=>V.target.style.background="#b91c1c",onMouseOut:V=>V.target.style.background="#dc2626",children:" Remove Discount"})]})]}),s&&n.jsx("div",{style:{background:s.type==="success"?"#f0fff4":"#fed7d7",padding:"12px",borderRadius:"8px",border:`1px solid ${s.type==="success"?"#68d391":"#fc8181"}`,marginBottom:"16px",textAlign:"center"},children:n.jsxs("div",{style:{color:s.type==="success"?"#22543d":"#742a2a",fontWeight:"600"},children:[s.type==="success"?"":""," ",s.message]})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 2fr",gap:"12px",marginTop:"24px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:B,children:" Back"}),n.jsx("button",{className:"counter-button-secondary",onClick:A,style:{background:"#dc2626",borderColor:"#dc2626",color:"white"},title:"Cancel this order and start fresh",children:" Cancel Order"}),n.jsx("button",{className:"counter-button-secondary",onClick:F,disabled:a,style:{opacity:a?.6:1,cursor:a?"not-allowed":"pointer"},title:"Print bill to thermal printer (Press Enter)",children:a?" Printing...":" Print Bill"}),n.jsx("button",{className:"counter-button-secondary",onClick:L,title:"Configure thermal printer settings",children:" Settings"}),n.jsx("button",{className:"counter-button",onClick:S,style:{background:"#10b981",borderColor:"#10b981"},title:"Complete order and start new one",children:" Done - Take New Order"})]})]}),h&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"32px",minWidth:"450px",maxWidth:"500px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[n.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"1.5rem",color:"#1f2937",fontWeight:"600"},children:" Add Discount"}),n.jsxs("div",{style:{padding:"16px",background:"#f9fafb",borderRadius:"8px",marginBottom:"24px"},children:[n.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"0.875rem",color:"#6b7280"},children:["Current Subtotal: ",O.toFixed(2)]}),T&&n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#e53e3e"},children:["Current Discount: ",T.type==="percentage"?`${T.value}%`:`${T.value}`," (",T.remark,")"]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Discount Type:"}),n.jsxs("div",{style:{display:"flex",gap:"12px"},children:[n.jsx("button",{onClick:()=>g("percentage"),style:{flex:1,padding:"10px",border:`2px solid ${m==="percentage"?"#3b82f6":"#d1d5db"}`,borderRadius:"8px",background:m==="percentage"?"#eff6ff":"white",color:m==="percentage"?"#2563eb":"#6b7280",fontWeight:"600",cursor:"pointer"},children:" Percentage (%)"}),n.jsx("button",{onClick:()=>g("amount"),style:{flex:1,padding:"10px",border:`2px solid ${m==="amount"?"#3b82f6":"#d1d5db"}`,borderRadius:"8px",background:m==="amount"?"#eff6ff":"white",color:m==="amount"?"#2563eb":"#6b7280",fontWeight:"600",cursor:"pointer"},children:" Amount ()"})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:["Discount ",m==="percentage"?"Percentage":"Amount",":"]}),n.jsx("input",{type:"number",min:"0",max:m==="percentage"?"100":O,step:m==="percentage"?"1":"0.01",value:v,onChange:V=>j(V.target.value),placeholder:m==="percentage"?"Enter percentage (e.g., 10)":"Enter amount (e.g., 50.00)",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #d1d5db",borderRadius:"8px",textAlign:"center",fontWeight:"600"}}),v&&n.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.875rem",color:"#059669",textAlign:"center"},children:["Discount Amount: ",m==="percentage"?(O*parseFloat(v||0)/100).toFixed(2):parseFloat(v||0).toFixed(2)]})]}),n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Remark (Required):"}),n.jsx("input",{type:"text",value:b,onChange:V=>y(V.target.value),placeholder:"e.g., Dussehra Sale, Customer Loyalty, etc.",style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #d1d5db",borderRadius:"8px"}})]}),n.jsxs("div",{style:{display:"flex",gap:"12px"},children:[n.jsx("button",{onClick:()=>{p(!1),j(""),y("")},style:{flex:1,background:"#6b7280",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),n.jsx("button",{onClick:I,style:{flex:1,background:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Apply Discount"})]})]})})]})},ffe=()=>{const e=nn(),r=Gn().state,[a,i]=N.useState("cash"),[s,l]=N.useState(""),[d,u]=N.useState(!1),[h,p]=N.useState("");if(N.useEffect(()=>{if(r){const S=r.totalAmount||0,A=S*.05,k=S+A;l(k.toFixed(2))}},[r]),!r)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Order data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/bill-generation"),children:"Go Back"})]})})});const m=r.totalAmount||0,g=m*.05,v=m+g,j=a==="cash"&&s?Math.max(0,parseFloat(s)-v):0,b=S=>{i(S),l(v.toFixed(2)),p("")},y=S=>{l(S),p("")},T=()=>{if(a==="cash"){const S=parseFloat(s);if(!s||isNaN(S))return p("Amount received is required for cash payments"),!1;if(S<v)return p("Amount received is less than total amount"),!1}if(a==="card"||a==="upi"){const S=parseFloat(s);(!S||S!==v)&&l(v.toFixed(2))}return!0},E=async()=>{var S,A,k;if(T()){u(!0),p("");try{const D={customerName:r.customerName,phoneNumber:r.phoneNumber,branchId:r.selectedBranch._id,invoiceNumber:r.invoiceNumber,invoiceId:r.invoiceId,items:r.cartItems.map(R=>({menuItemId:R._id,name:R.name,price:R.price,quantity:R.quantity,total:R.price*R.quantity})),subtotal:m,tax:g,total:v,paymentMethod:a,amountReceived:a==="cash"?parseFloat(s):v,change:j,status:"completed",orderDate:new Date().toISOString(),counterUserId:localStorage.getItem("counterUserId")},B=R=>Promise.race([pr.createOrder(R),new Promise((H,V)=>setTimeout(()=>V(new Error("Order creation timed out")),1e4))]),F=R=>Promise.race([pr.createBill(R),new Promise((H,V)=>setTimeout(()=>V(new Error("Bill creation timed out")),1e4))]),M=R=>Promise.race([pr.processPayment(R),new Promise((H,V)=>setTimeout(()=>V(new Error("Payment processing timed out")),1e4))]),L=await B(D);console.log("Order created:",L);const O={orderId:((S=L.order)==null?void 0:S._id)||L._id,...D},W=await F(O);console.log("Bill created:",W);const P={orderId:((A=L.order)==null?void 0:A._id)||L._id,billId:((k=W.bill)==null?void 0:k._id)||W._id,amount:v,paymentMethod:a,amountReceived:a==="cash"?parseFloat(s):v,change:j,status:"completed",paymentDate:new Date().toISOString()},I=await M(P);console.log("Payment processed:",I),setTimeout(()=>{var R,H,V;e("/counter/payment-success",{state:{...r,orderId:((R=L.order)==null?void 0:R._id)||L._id,billId:((H=W.bill)==null?void 0:H._id)||W._id,paymentId:((V=I.payment)==null?void 0:V._id)||I._id,paymentMethod:a,amountReceived:a==="cash"?parseFloat(s):v,change:j,total:v}})},100)}catch(D){console.error("Error processing payment:",D),p(D.message||"Failed to process payment. Please try again.")}finally{u(!1)}}},C=()=>{e("/counter/bill-generation",{state:r})};return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Payment"}),n.jsx("p",{className:"counter-subtitle",children:"Process customer payment"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem"},children:"Order Summary"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",m.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{children:"Tax (5%):"}),n.jsxs("span",{children:["",g.toFixed(2)]})]}),n.jsx("hr",{style:{margin:"12px 0",border:"none",borderTop:"2px solid #1a202c"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.25rem",fontWeight:"700"},children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",v.toFixed(2)]})]})]}),n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem"},children:"Payment Method"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px"},children:[n.jsxs("button",{className:`counter-item ${a==="cash"?"selected":""}`,onClick:()=>b("cash"),style:{padding:"16px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontWeight:"600"},children:"Cash"})]}),n.jsxs("button",{className:`counter-item ${a==="card"?"selected":""}`,onClick:()=>b("card"),style:{padding:"16px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontWeight:"600"},children:"Card"})]}),n.jsxs("button",{className:`counter-item ${a==="upi"?"selected":""}`,onClick:()=>b("upi"),style:{padding:"16px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontWeight:"600"},children:"UPI"})]})]})]}),a==="cash"&&n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsxs("div",{className:"counter-form-group",children:[n.jsx("label",{className:"counter-label",children:"Amount Received * (Auto-filled)"}),n.jsx("input",{type:"number",className:"counter-input",placeholder:"Amount auto-filled with total",value:s,onChange:S=>y(S.target.value),min:v,step:"0.01"}),n.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px",fontStyle:"italic"},children:[" Amount is automatically filled with the total (",v.toFixed(2),"). You can adjust if needed."]})]}),s&&!isNaN(parseFloat(s))&&n.jsxs("div",{style:{background:j>0?"#f0fff4":"#fff5f5",padding:"12px",borderRadius:"8px",border:`1px solid ${j>0?"#68d391":"#fc8181"}`},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"4px"},children:["Change to Return: ",j.toFixed(2)]}),j<0&&n.jsx("div",{style:{color:"#e53e3e",fontSize:"0.875rem"},children:"Insufficient amount received"})]})]}),(a==="card"||a==="upi")&&n.jsxs("div",{style:{background:"#e6fffa",padding:"16px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #81e6d9"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:a==="card"?"Card Payment":"UPI Payment"}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#2d3748"},children:["Amount: ",v.toFixed(2)]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#2d3748",marginTop:"4px"},children:["Please complete the payment on the ",a==="card"?"card terminal":"UPI app"]})]}),h&&n.jsx("div",{className:"counter-error",style:{marginBottom:"24px"},children:h}),n.jsxs("div",{style:{display:"flex",gap:"16px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:C,disabled:d,style:{flex:1},children:" Back"}),n.jsx("button",{className:"counter-button",onClick:E,disabled:d,style:{flex:2},children:d?n.jsx("div",{className:"counter-spinner",style:{width:"20px",height:"20px"}}):"Complete Payment"})]})]})})};class pfe{constructor(){this.storageKey="counter_orders"}getAllOrders(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.error("Error loading orders from localStorage:",t),[]}}getOrdersByBranch(t){return this.getAllOrders().filter(a=>a.branchId===t)}saveOrder(t){try{const r=this.getAllOrders(),a={_id:`order-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,invoiceNumber:t.invoiceNumber,branchId:t.selectedBranch._id,branchName:t.selectedBranch.name,customerName:t.customerName,phoneNumber:t.phoneNumber,orderDate:new Date().toISOString(),createdAt:new Date().toISOString(),items:t.cartItems.map(i=>({name:i.name,price:i.price,quantity:i.quantity,total:i.price*i.quantity})),total:t.totalAmount||t.total||0,status:"completed",paymentMethod:t.paymentMethod||"cash",paymentStatus:"paid",date:t.date,time:t.time,amountReceived:t.amountReceived||0,change:t.change||0};return r.push(a),r.sort((i,s)=>new Date(s.orderDate)-new Date(i.orderDate)),localStorage.setItem(this.storageKey,JSON.stringify(r)),console.log(" Order saved successfully:",a.invoiceNumber),a}catch(r){throw console.error("Error saving order:",r),r}}updateOrderStatus(t,r){try{const a=this.getAllOrders(),i=a.findIndex(s=>s._id===t);if(i!==-1)return a[i].status=r,a[i].updatedAt=new Date().toISOString(),localStorage.setItem(this.storageKey,JSON.stringify(a)),a[i];throw new Error("Order not found")}catch(a){throw console.error("Error updating order status:",a),a}}deleteOrder(t){try{const a=this.getAllOrders().filter(i=>i._id!==t);return localStorage.setItem(this.storageKey,JSON.stringify(a)),!0}catch(r){throw console.error("Error deleting order:",r),r}}clearAllOrders(){try{return localStorage.removeItem(this.storageKey),console.log(" All orders cleared"),!0}catch(t){throw console.error("Error clearing orders:",t),t}}getOrderStats(t=null){const r=t?this.getOrdersByBranch(t):this.getAllOrders(),a=r.length,i=r.filter(d=>d.status==="completed").length,s=r.filter(d=>d.status==="pending").length,l=r.reduce((d,u)=>d+(u.total||0),0);return{totalOrders:a,completedOrders:i,pendingOrders:s,totalSales:l,averageOrderValue:a>0?l/a:0}}exportOrders(){const t=this.getAllOrders(),r=JSON.stringify(t,null,2),a=new Blob([r],{type:"application/json"}),i=URL.createObjectURL(a),s=document.createElement("a");s.href=i,s.download=`counter_orders_${new Date().toISOString().split("T")[0]}.json`,s.click(),URL.revokeObjectURL(i)}}const mfe=new pfe,xfe=()=>{const e=nn(),r=Gn().state,[a,i]=N.useState(!1),[s,l]=N.useState(null);if(N.useEffect(()=>{if(r)try{const g=mfe.saveOrder(r);console.log("Order saved to storage:",g.invoiceNumber)}catch(g){console.error("Failed to save order:",g)}const m=setTimeout(()=>{e("/counter/branch-selection")},1e4);return()=>clearTimeout(m)},[e,r]),!r)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Payment data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/branch-selection"),children:"New Order"})]})})});const d=()=>{e("/counter/branch-selection")},u=async()=>{if(!a){i(!0),l(null);try{const m=JSON.parse(localStorage.getItem("thermalPrinterSettings")||"{}"),g={method:m.method||"auto",printerIP:m.ip||"192.168.1.100",port:m.port||9100},v=await Promise.race([gi.printReceipt(r,g),new Promise((j,b)=>setTimeout(()=>b(new Error("Print operation timed out after 5 seconds")),5e3))]);if(v&&v.method){const b={"popup-window":"Receipt printed using browser (thermal printer not found)","current-window":"Receipt printed using browser (thermal printer not found)","current-window-fallback":"Receipt printed using browser (thermal printer not found)",network:"Receipt printed to thermal printer successfully!",usb:"Receipt printed to USB thermal printer successfully!"}[v.method]||"Receipt printed successfully!";l({type:"success",message:b})}else l({type:"success",message:"Receipt printed successfully!"});setTimeout(()=>l(null),3e3)}catch(m){console.error("Print error:",m),l({type:"error",message:m.message||"Failed to print receipt. Please try again."}),setTimeout(()=>l(null),5e3)}finally{i(!1)}}},h=()=>{e("/counter/print-settings",{state:{returnTo:"/counter/payment-success",paymentData:r}})},p=()=>{e("/counter/orders")};return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("div",{style:{fontSize:"4rem",color:"#48bb78",marginBottom:"16px",textAlign:"center"},children:""}),n.jsx("h1",{className:"counter-title",style:{color:"#48bb78"},children:"Payment Successful!"}),n.jsx("p",{className:"counter-subtitle",children:"Order has been processed successfully"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"24px",borderRadius:"12px",marginBottom:"24px",border:"2px solid #48bb78"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"1.5rem",color:"#1a202c"},children:r.selectedBranch.name}),n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:r.selectedBranch.address}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#718096"},children:[" ",r.selectedBranch.phone]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Invoice No:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.invoiceNumber})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Date & Time:"}),n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:[r.date," ",r.time]})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Customer:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.customerName})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Phone:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.phoneNumber})]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#1a202c"},children:"Items Ordered"}),r.cartItems.map((m,g)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:g<r.cartItems.length-1?"1px solid #e2e8f0":"none"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:"0",fontWeight:"500",color:"#1a202c"},children:m.name}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#718096"},children:["",m.price.toFixed(2),"  ",m.quantity]})]}),n.jsxs("div",{style:{fontWeight:"600",color:"#1a202c"},children:["",(m.price*m.quantity).toFixed(2)]})]},g))]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Subtotal:"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",(r.total-r.total*.05).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Tax (5%):"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",(r.total*.05).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Payment Method:"}),n.jsx("span",{style:{fontWeight:"500",textTransform:"capitalize"},children:r.paymentMethod})]}),r.paymentMethod==="cash"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Amount Received:"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",r.amountReceived.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Change:"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",r.change.toFixed(2)]})]})]}),n.jsx("hr",{style:{border:"none",borderTop:"2px solid #1a202c",margin:"12px 0"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.25rem",fontWeight:"700",color:"#1a202c"},children:[n.jsx("span",{children:"Total Paid:"}),n.jsxs("span",{children:["",r.total.toFixed(2)]})]})]}),n.jsxs("div",{style:{background:"#f0fff4",padding:"12px",borderRadius:"8px",border:"1px solid #68d391",textAlign:"center"},children:[n.jsx("div",{style:{color:"#22543d",fontWeight:"600"},children:" Payment Completed Successfully"}),n.jsx("div",{style:{color:"#2f855a",fontSize:"0.875rem",marginTop:"4px"},children:"Thank you for your business!"})]})]}),s&&n.jsx("div",{style:{background:s.type==="success"?"#f0fff4":"#fed7d7",padding:"12px",borderRadius:"8px",border:`1px solid ${s.type==="success"?"#68d391":"#fc8181"}`,marginBottom:"16px",textAlign:"center"},children:n.jsxs("div",{style:{color:s.type==="success"?"#22543d":"#742a2a",fontWeight:"600"},children:[s.type==="success"?"":""," ",s.message]})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"12px",marginBottom:"20px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:u,disabled:a,style:{opacity:a?.6:1,cursor:a?"not-allowed":"pointer"},title:"Print receipt to thermal printer",children:a?" Printing...":" Print Receipt"}),n.jsx("button",{className:"counter-button-secondary",onClick:h,title:"Configure thermal printer settings",children:" Print Settings"}),n.jsx("button",{className:"counter-button-secondary",onClick:p,children:" View Orders"}),n.jsx("button",{className:"counter-button",onClick:d,children:" New Order"})]}),n.jsx("div",{style:{textAlign:"center",fontSize:"0.875rem",color:"#718096",fontStyle:"italic"},children:"Automatically redirecting to new order in 10 seconds..."})]})})},gfe=()=>{const e=nn(),[t,r]=N.useState([]),[a,i]=N.useState(!0),[s,l]=N.useState(null),[d,u]=N.useState(null);N.useEffect(()=>{const j=localStorage.getItem("selectedBranch");if(j){const b=JSON.parse(j);u(b),h(b._id)}else e("/counter/branch-selection")},[e]);const h=async j=>{try{i(!0),l(null);const b=await pr.getOrders(j),T=(b.orders||b.data||b||[]).sort((E,C)=>new Date(C.orderDate||C.createdAt)-new Date(E.orderDate||E.createdAt));r(T)}catch(b){console.error("Error loading orders:",b),l("Failed to load orders. Please try again.")}finally{i(!1)}},p=()=>{e("/counter/branch-selection")},m=()=>{e("/counter/branch-selection")},g=j=>{try{const b=new Date(j);return b.toLocaleDateString("en-IN")+" "+b.toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"})}catch{return j}},v=j=>{switch(j==null?void 0:j.toLowerCase()){case"completed":return"#48bb78";case"pending":return"#ed8936";case"cancelled":return"#f56565";default:return"#718096"}};return a?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading orders..."})]})})}):s?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("h3",{children:"Error"}),n.jsx("p",{children:s}),n.jsx("button",{className:"counter-button",onClick:()=>d&&h(d._id),children:"Retry"})]})})}):n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Order History"}),n.jsxs("p",{className:"counter-subtitle",children:[d==null?void 0:d.name," - Recent Orders"]})]}),n.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"24px",justifyContent:"center"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:m,style:{flex:1,maxWidth:"200px"},children:" Back"}),n.jsx("button",{className:"counter-button",onClick:p,style:{flex:1,maxWidth:"200px"},children:" New Order"})]}),t.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#718096"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),n.jsx("h3",{style:{margin:"0 0 8px 0"},children:"No Orders Found"}),n.jsx("p",{style:{margin:"0"},children:"No orders have been placed yet."})]}):n.jsx("div",{style:{display:"grid",gap:"16px",maxHeight:"60vh",overflowY:"auto"},children:t.map((j,b)=>n.jsxs("div",{style:{background:"white",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"20px",transition:"all 0.2s"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"0 0 4px 0",fontSize:"1.1rem",color:"#1a202c"},children:j.invoiceNumber||`Order #${b+1}`}),n.jsxs("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:[j.customerName,"  ",j.phoneNumber]}),n.jsx("p",{style:{margin:"0",fontSize:"0.875rem",color:"#4a5568"},children:g(j.orderDate||j.createdAt)})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{background:v(j.status),color:"white",padding:"4px 12px",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",marginBottom:"8px"},children:j.status||"Completed"}),n.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#1a202c"},children:["",(j.total||0).toFixed(2)]})]})]}),j.items&&j.items.length>0&&n.jsxs("div",{style:{background:"#f7fafc",padding:"12px",borderRadius:"8px",marginBottom:"12px"},children:[n.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"0.875rem",color:"#4a5568",fontWeight:"600"},children:["Items (",j.items.length,")"]}),n.jsxs("div",{style:{display:"grid",gap:"4px"},children:[j.items.slice(0,3).map((y,T)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem"},children:[n.jsxs("span",{style:{color:"#2d3748"},children:[y.name,"  ",y.quantity]}),n.jsxs("span",{style:{color:"#1a202c",fontWeight:"500"},children:["",(y.total||y.price*y.quantity).toFixed(2)]})]},T)),j.items.length>3&&n.jsxs("div",{style:{fontSize:"0.75rem",color:"#718096",fontStyle:"italic"},children:["+",j.items.length-3," more items"]})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.875rem",color:"#4a5568"},children:[n.jsxs("span",{children:["Payment: ",j.paymentMethod?n.jsx("span",{style:{textTransform:"capitalize",fontWeight:"500"},children:j.paymentMethod}):"Cash"]}),j.paymentMethod==="cash"&&j.change>0&&n.jsxs("span",{children:["Change: ",j.change.toFixed(2)]})]})]},j._id||b))})]})})},yfe=()=>{const e=nn(),t=Gn(),{returnTo:r,paymentData:a,orderData:i}=t.state||{},[s,l]=N.useState({method:"auto",ip:"192.168.1.100",port:"9100",devicePath:"/dev/usb/lp0"}),[d,u]=N.useState(!1),[h,p]=N.useState([]),[m,g]=N.useState(!1),[v,j]=N.useState(null);N.useEffect(()=>{const C=localStorage.getItem("thermalPrinterSettings");C&&l({...s,...JSON.parse(C)})},[]);const b=()=>{localStorage.setItem("thermalPrinterSettings",JSON.stringify(s)),alert("Printer settings saved successfully!"),r?r==="/counter/bill-generation"&&i?e(r,{state:i}):e(r,{state:{paymentData:a}}):e("/counter/branch-selection")},y=async()=>{u(!0),p([]);try{const A=await(await fetch("https://hotelvirat.com/api/v1/hotel/print-thermal/discover")).json();A.success?(p(A.printers),A.printers.length===0&&alert("No thermal printers found on the network. Make sure your thermal printer is connected to the same network and powered on.")):alert("Failed to discover printers: "+A.message)}catch(C){console.error("Discovery error:",C),alert("Failed to discover printers. Make sure the backend server is running on port 9000.")}finally{u(!1)}},T=async()=>{g(!0),j(null);try{const C={selectedBranch:{name:"Test Restaurant",address:"123 Test Street, Test City",phone:"123-456-7890"},invoiceNumber:"TEST-"+Date.now(),date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),customerName:"Test Customer",phoneNumber:"1234567890",cartItems:[{name:"Test Item 1",price:10,quantity:2},{name:"Test Item 2",price:15.5,quantity:1}],total:35.5,paymentMethod:"cash",amountReceived:40,change:4.5};await gi.printReceipt(C,{method:s.method,printerIP:s.ip,port:parseInt(s.port)}),j({type:"success",message:"Test receipt printed successfully!"})}catch(C){console.error("Test print error:",C),j({type:"error",message:C.message})}finally{g(!1)}},E=C=>{l({...s,ip:C.ip,port:C.port.toString(),method:"network"})};return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Thermal Printer Settings"}),n.jsx("p",{className:"counter-subtitle",children:"Configure your thermal printer for receipt printing"})]}),n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("label",{className:"counter-label",children:"Print Method"}),n.jsxs("select",{className:"counter-input",value:s.method,onChange:C=>l({...s,method:C.target.value}),children:[n.jsx("option",{value:"auto",children:"Auto (Try all methods)"}),n.jsx("option",{value:"network",children:"Network Printer"}),n.jsx("option",{value:"serial",children:"USB/Serial Printer"}),n.jsx("option",{value:"browser",children:"Browser Print (Fallback)"})]})]}),(s.method==="network"||s.method==="auto")&&n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem"},children:"Network Printer Settings"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{className:"counter-label",children:"Printer IP Address"}),n.jsx("input",{type:"text",className:"counter-input",value:s.ip,onChange:C=>l({...s,ip:C.target.value}),placeholder:"192.168.1.100"}),n.jsx("p",{style:{fontSize:"0.75rem",color:"#718096",margin:"4px 0 0 0"},children:"Enter your thermal printer's IP address. Leave as default (192.168.1.100) to skip network printing and use browser fallback."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"counter-label",children:"Port"}),n.jsx("input",{type:"number",className:"counter-input",value:s.port,onChange:C=>l({...s,port:C.target.value}),placeholder:"9100"})]})]}),n.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:y,disabled:d,style:{flex:1},children:d?" Discovering...":" Discover Printers"}),n.jsx("button",{className:"counter-button-secondary",onClick:T,disabled:m,style:{flex:1},children:m?" Testing...":" Test Print"})]}),h.length>0&&n.jsxs("div",{children:[n.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"0.875rem",color:"#4a5568"},children:"Found Printers:"}),n.jsx("div",{style:{display:"grid",gap:"8px"},children:h.map((C,S)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"white",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer"},onClick:()=>E(C),children:[n.jsxs("span",{style:{fontWeight:"500"},children:[C.ip,":",C.port]}),n.jsxs("span",{style:{fontSize:"0.75rem",color:"#718096"},children:[C.responseTime,"ms"]})]},S))})]})]}),(s.method==="serial"||s.method==="auto")&&n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem"},children:"USB/Serial Printer Settings"}),n.jsxs("div",{children:[n.jsx("label",{className:"counter-label",children:"Device Path"}),n.jsx("input",{type:"text",className:"counter-input",value:s.devicePath,onChange:C=>l({...s,devicePath:C.target.value}),placeholder:"/dev/usb/lp0"}),n.jsx("p",{style:{fontSize:"0.75rem",color:"#718096",margin:"4px 0 0 0"},children:"Common paths: /dev/usb/lp0, /dev/ttyUSB0, COM1 (Windows)"})]})]}),v&&n.jsx("div",{style:{background:v.type==="success"?"#f0fff4":"#fed7d7",padding:"12px",borderRadius:"8px",border:`1px solid ${v.type==="success"?"#68d391":"#fc8181"}`,marginBottom:"24px",textAlign:"center"},children:n.jsxs("div",{style:{color:v.type==="success"?"#22543d":"#742a2a",fontWeight:"600"},children:[v.type==="success"?"":""," ",v.message]})}),n.jsxs("div",{style:{background:"#e6fffa",padding:"16px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #81e6d9"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#234e52"},children:" Setup Instructions"}),n.jsxs("ul",{style:{margin:"0",paddingLeft:"20px",color:"#2d3748",fontSize:"0.875rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Network Printer:"})," Connect your thermal printer to the same network and note its IP address"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"USB Printer:"})," Connect via USB and check device path in system settings"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Auto Mode:"})," Tries all methods automatically, recommended for most users"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Browser Fallback:"})," Uses regular browser printing with thermal-optimized formatting"]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"16px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:()=>e(r||"/counter/branch-selection",{state:r==="/counter/bill-generation"?i:{paymentData:a}}),style:{flex:1},children:" Cancel"}),n.jsx("button",{className:"counter-button",onClick:b,style:{flex:2},children:" Save Settings"})]})]})})},vfe=()=>{const[e,t]=N.useState(!1),[r,a]=N.useState(null),i=async()=>{t(!0),a(null);try{const d={selectedBranch:{name:"Hotel Virat Test",address:"123 Test Street, Test City",phone:"123-456-7890"},invoiceNumber:"TEST-"+Date.now(),date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),customerName:"Test Customer",phoneNumber:"1234567890",cartItems:[{name:"Test Item 1",price:10,quantity:2},{name:"Test Item 2",price:15.5,quantity:1}],total:35.5,paymentMethod:"cash",amountReceived:40,change:4.5};console.log(" Testing thermal printer with data:",d);const u=await gi.printReceipt(d,{method:"auto",printerIP:"192.168.1.100",port:9100});a({type:"success",message:"Test print successful!",details:u})}catch(d){console.error("Test print error:",d),a({type:"error",message:d.message,details:d})}finally{t(!1)}},s=async()=>{t(!0),a(null);try{const d={selectedBranch:{name:"Hotel Virat Test",address:"123 Test Street, Test City",phone:"123-456-7890"},invoiceNumber:"BILL-"+Date.now(),date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),customerName:"Test Customer",phoneNumber:"1234567890",cartItems:[{name:"Test Item 1",price:10,quantity:2},{name:"Test Item 2",price:15.5,quantity:1}],total:35.5};console.log(" Testing thermal bill with data:",d);const u=await gi.printBill(d,{method:"auto",printerIP:"192.168.1.100",port:9100});a({type:"success",message:"Test bill print successful!",details:u})}catch(d){console.error("Test bill error:",d),a({type:"error",message:d.message,details:d})}finally{t(!1)}},l=async()=>{t(!0),a(null);try{const d="https://hotelvirat.com/api/v1/hotel";console.log(" Testing endpoint:",`${d}/print-thermal/network`);const u=await fetch(`${d}/print-thermal/network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:"Test endpoint connection",printerIP:"192.168.1.100",port:9100})}),h=await u.json();u.ok?a({type:"success",message:"Endpoint accessible!",details:h}):a({type:"info",message:"Endpoint accessible (printer not found is expected)",details:h})}catch(d){console.error("Endpoint test error:",d),a({type:"error",message:"Endpoint not accessible: "+d.message,details:d})}finally{t(!1)}};return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Thermal Printer Test"}),n.jsx("p",{className:"counter-subtitle",children:"Test thermal printing functionality"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",marginBottom:"24px"},children:[n.jsx("button",{className:"counter-button",onClick:l,disabled:e,children:e?" Testing...":" Test Endpoint"}),n.jsx("button",{className:"counter-button",onClick:s,disabled:e,children:e?" Testing...":" Test Bill"}),n.jsx("button",{className:"counter-button",onClick:i,disabled:e,children:e?" Testing...":" Test Receipt"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem"},children:"Environment Info"}),n.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"0.875rem"},children:[n.jsx("strong",{children:"Backend URL:"})," ","https://hotelvirat.com/api/v1/hotel"]}),n.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"0.875rem"},children:[n.jsx("strong",{children:"Print Endpoint:"})," ","https://hotelvirat.com/api/v1/hotel/print-thermal/network"]}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem"},children:[n.jsx("strong",{children:"Web Serial Support:"})," ","serial"in navigator?" Supported":" Not Supported"]})]}),r&&n.jsxs("div",{style:{background:r.type==="success"?"#f0fff4":r.type==="info"?"#e6fffa":"#fed7d7",padding:"16px",borderRadius:"8px",border:`1px solid ${r.type==="success"?"#68d391":r.type==="info"?"#81e6d9":"#fc8181"}`,marginBottom:"24px"},children:[n.jsxs("div",{style:{color:r.type==="success"?"#22543d":r.type==="info"?"#234e52":"#742a2a",fontWeight:"600",marginBottom:"8px"},children:[r.type==="success"?"":r.type==="info"?"":""," ",r.message]}),r.details&&n.jsxs("details",{style:{fontSize:"0.875rem",color:"#4a5568"},children:[n.jsx("summary",{style:{cursor:"pointer",marginBottom:"8px"},children:"View Details"}),n.jsx("pre",{style:{background:"rgba(0,0,0,0.1)",padding:"8px",borderRadius:"4px",overflow:"auto",fontSize:"0.75rem"},children:JSON.stringify(r.details,null,2)})]})]}),n.jsxs("div",{style:{background:"#e6fffa",padding:"16px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #81e6d9"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#234e52"},children:" Test Instructions"}),n.jsxs("ol",{style:{margin:"0",paddingLeft:"20px",color:"#2d3748",fontSize:"0.875rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Test Endpoint:"})," Checks if backend API is accessible"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Test Bill:"})," Tests bill printing (before payment)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Test Receipt:"})," Tests receipt printing (after payment)"]})]})]}),n.jsx("div",{style:{textAlign:"center"},children:n.jsx("button",{className:"counter-button-secondary",onClick:()=>window.history.back(),children:" Back"})})]})})},bfe=()=>{var W;const e=nn(),[t,r]=N.useState(null),[a,i]=N.useState("daily"),[s,l]=N.useState(!0),[d,u]=N.useState(null),[h,p]=N.useState({daily:null,weekly:null,monthly:null,all:null}),[m,g]=N.useState([]),[v,j]=N.useState(new Date().toISOString().split("T")[0]),[b,y]=N.useState(!1),[T,E]=N.useState(!1);N.useEffect(()=>{const P=localStorage.getItem("selectedBranch");if(P){const I=JSON.parse(P);r(I),C(I._id)}else e("/counter/branch-selection")},[e]);const C=async P=>{try{l(!0),u(null);let I=[];try{const H=await pr.getOrders();let V=[];H.success&&Array.isArray(H.data)?V=H.data:H.orders&&Array.isArray(H.orders)?V=H.orders:Array.isArray(H)&&(V=H),P?I=V.filter(he=>{var Y,z;return(((Y=he.branch)==null?void 0:Y.id)||((z=he.branchId)==null?void 0:z._id)||he.branchId)===P}):I=V,console.log(" Loaded counter orders:",I.length)}catch(H){console.log(" Error loading orders from database:",H),u(`Failed to load orders: ${H.message}`);return}const R=I.map(H=>{var V,he,U;return{_id:H.id,invoiceNumber:((V=H.invoice)==null?void 0:V.invoiceNumber)||"N/A",customerName:H.customerName||"Walk-in Customer",phoneNumber:H.phoneNumber||"0000000000",orderDate:H.createdAt,createdAt:H.createdAt,items:H.items||[],total:H.grandTotal||H.totalAmount||0,subtotal:H.subtotal||H.totalAmount||0,tax:H.tax||0,serviceCharge:H.serviceCharge||0,status:H.orderStatus==="completed"?"completed":"pending",paymentMethod:H.paymentMethod||"cash",paymentStatus:H.paymentStatus||"pending",branchName:((he=H.branch)==null?void 0:he.name)||"Unknown Branch",counterUser:((U=H.userId)==null?void 0:U.name)||"Counter User",orderSource:"counter"}});if(console.log(" SalesReports - Transformed counter orders:",R.map(H=>({id:H._id,invoice:H.invoiceNumber,customer:H.customerName,date:H.createdAt,dateFormatted:new Date(H.createdAt).toISOString().split("T")[0],total:H.total,source:H.orderSource}))),g(R),!T&&R.length>0){const H=R[0],V=new Date(H.orderDate||H.createdAt).toISOString().split("T")[0];j(V),E(!0);const he=new Date(V),U=S(R,he),Y=A(R,he),z=k(R,he),ee=R.reduce((de,xe)=>de+(xe.total||0),0),q=R.filter(de=>de.status==="completed"),Q=R.filter(de=>de.status==="pending"),ae={totalOrders:R.length,completedOrders:q.length,pendingOrders:Q.length,totalSales:ee,orders:R.sort((de,xe)=>new Date(xe.orderDate||xe.createdAt)-new Date(de.orderDate||de.createdAt))};p({daily:U,weekly:Y,monthly:z,all:ae})}else{const H=new Date(v),V=S(R,H),he=A(R,H),U=k(R,H),Y=R.reduce((Q,ae)=>Q+(ae.total||0),0),z=R.filter(Q=>Q.status==="completed"),ee=R.filter(Q=>Q.status==="pending"),q={totalOrders:R.length,completedOrders:z.length,pendingOrders:ee.length,totalSales:Y,orders:R.sort((Q,ae)=>new Date(ae.orderDate||ae.createdAt)-new Date(Q.orderDate||Q.createdAt))};p({daily:V,weekly:he,monthly:U,all:q})}}catch(I){console.error("Error loading sales data:",I),u("Failed to load sales data. Please try again.")}finally{l(!1)}},S=(P,I)=>{const R=I.toISOString().split("T")[0],H=P.filter(z=>new Date(z.orderDate||z.createdAt).toISOString().split("T")[0]===R),V=H.reduce((z,ee)=>z+(ee.total||0),0),he=H.filter(z=>z.status==="completed"),U=H.filter(z=>z.status==="pending");return{totalOrders:H.length,completedOrders:he.length,pendingOrders:U.length,totalSales:V,orders:H.sort((z,ee)=>new Date(ee.orderDate||ee.createdAt)-new Date(z.orderDate||z.createdAt))}},A=(P,I)=>{const R=new Date(I),H=R.getDay();R.setDate(R.getDate()-H),R.setHours(0,0,0,0);const V=new Date(R);V.setDate(R.getDate()+6),V.setHours(23,59,59,999);const he=P.filter(ee=>{const q=new Date(ee.orderDate||ee.createdAt);return q>=R&&q<=V}),U=he.reduce((ee,q)=>ee+(q.total||0),0),Y=he.filter(ee=>ee.status==="completed"),z=he.filter(ee=>ee.status==="pending");return{totalOrders:he.length,completedOrders:Y.length,pendingOrders:z.length,totalSales:U,orders:he.sort((ee,q)=>new Date(q.orderDate||q.createdAt)-new Date(ee.orderDate||ee.createdAt)),startDate:R.toLocaleDateString("en-IN"),endDate:V.toLocaleDateString("en-IN")}},k=(P,I)=>{const R=new Date(I.getFullYear(),I.getMonth(),1);R.setHours(0,0,0,0);const H=new Date(I.getFullYear(),I.getMonth()+1,0);H.setHours(23,59,59,999);const V=P.filter(z=>{const ee=new Date(z.orderDate||z.createdAt);return ee>=R&&ee<=H}),he=V.reduce((z,ee)=>z+(ee.total||0),0),U=V.filter(z=>z.status==="completed"),Y=V.filter(z=>z.status==="pending");return{totalOrders:V.length,completedOrders:U.length,pendingOrders:Y.length,totalSales:he,orders:V.sort((z,ee)=>new Date(ee.orderDate||ee.createdAt)-new Date(z.orderDate||z.createdAt)),monthName:I.toLocaleDateString("en-IN",{month:"long",year:"numeric"})}},D=P=>{if(j(P),y(!1),t){const I=new Date(P),R=S(m,I);p(H=>({...H,daily:R}))}},B=P=>{if(i(P),y(!1),t&&m.length>0){const I=new Date;let R={};if(P==="daily"){const H=new Date(v);R.daily=S(m,H)}else if(P==="weekly")R.weekly=A(m,I);else if(P==="monthly")R.monthly=k(m,I);else if(P==="all"){const H=m.reduce((U,Y)=>U+(Y.total||0),0),V=m.filter(U=>U.status==="completed"),he=m.filter(U=>U.status==="pending");R.all={totalOrders:m.length,completedOrders:V.length,pendingOrders:he.length,totalSales:H,orders:m.sort((U,Y)=>new Date(Y.orderDate||Y.createdAt)-new Date(U.orderDate||U.createdAt))}}p(H=>({...H,...R}))}},F=()=>{e("/counter/menu")},M=P=>{try{const I=new Date(P);return I.toLocaleDateString("en-IN")+" "+I.toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"})}catch{return P}},L=P=>{switch(P==null?void 0:P.toLowerCase()){case"completed":return"#48bb78";case"pending":return"#ed8936";case"cancelled":return"#f56565";default:return"#718096"}};if(s)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading sales data..."})]})})});if(d)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("h3",{children:"Error"}),n.jsx("p",{children:d}),n.jsx("button",{className:"counter-button",onClick:()=>t&&C(t._id),children:"Retry"})]})})});const O=h[a];return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsx("div",{className:"counter-header",style:{marginBottom:"24px"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("h1",{className:"counter-title",children:" Sales & Reports"}),n.jsxs("p",{className:"counter-subtitle",children:[t==null?void 0:t.name," - Track your business performance"]}),n.jsx("div",{style:{background:m.length>0?"#e6fffa":"#fef2f2",border:`1px solid ${m.length>0?"#38b2ac":"#f87171"}`,borderRadius:"8px",padding:"8px 12px",marginTop:"8px",fontSize:"0.75rem",color:m.length>0?"#234e52":"#991b1b"},children:m.length>0?n.jsxs(n.Fragment,{children:[" Live Data: Showing ",m.length," real orders from your counter system."]}):n.jsx(n.Fragment,{children:" No Orders Yet: Place orders through the counter menu to see sales data here."})})]}),n.jsx("button",{className:"counter-button-secondary",onClick:F,style:{padding:"8px 16px"},children:" Back to Menu"})]})}),n.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"24px",borderBottom:"2px solid #e2e8f0",paddingBottom:"16px"},children:[{key:"daily",label:" Daily",icon:""},{key:"weekly",label:" Weekly",icon:""},{key:"monthly",label:" Monthly",icon:""},{key:"all",label:" All Orders",icon:""}].map(P=>n.jsx("button",{onClick:()=>B(P.key),style:{background:a===P.key?"#667eea":"white",color:a===P.key?"white":"#4a5568",border:`2px solid ${a===P.key?"#667eea":"#e2e8f0"}`,borderRadius:"12px",padding:"12px 20px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",flex:1,textAlign:"center"},children:P.label},P.key))}),a==="daily"&&n.jsxs("div",{style:{marginBottom:"24px",textAlign:"center"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#4a5568"},children:"Select Date:"}),n.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",alignItems:"center"},children:[n.jsx("input",{type:"date",value:v,onChange:P=>D(P.target.value),style:{padding:"8px 12px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"500"}}),n.jsxs("button",{onClick:()=>{const P=new Date().toISOString().split("T")[0];D(P)},style:{background:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"8px 12px",fontSize:"0.75rem",cursor:"pointer",fontWeight:"500"},title:"Set to today's date and refresh",children:[" Today (",new Date().toLocaleDateString(),")"]})]}),m.length>0&&n.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.75rem",color:"#718096"},children:[" Tip: Your orders are from ",new Date(m[m.length-1].orderDate||m[m.length-1].createdAt).toLocaleDateString()," to ",new Date(m[0].orderDate||m[0].createdAt).toLocaleDateString()]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"32px"},children:[n.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"24px",borderRadius:"16px",textAlign:"center",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"4px"},children:(O==null?void 0:O.totalOrders)||0}),n.jsx("div",{style:{fontSize:"0.875rem",opacity:.9,marginBottom:"4px"},children:"Total Orders"}),n.jsxs("div",{style:{fontSize:"0.75rem",opacity:.8},children:[(O==null?void 0:O.completedOrders)||0," completed  ",(O==null?void 0:O.pendingOrders)||0," pending"]})]}),n.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"24px",borderRadius:"16px",textAlign:"center",boxShadow:"0 8px 32px rgba(240, 147, 251, 0.3)"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"4px"},children:["",((O==null?void 0:O.totalSales)||0).toFixed(2)]}),n.jsx("div",{style:{fontSize:"0.875rem",opacity:.9},children:"Total Sales"}),n.jsx("div",{style:{fontSize:"0.75rem",opacity:.8},children:"(all orders included)"})]}),n.jsxs("div",{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",padding:"24px",borderRadius:"16px",textAlign:"center",boxShadow:"0 8px 32px rgba(79, 172, 254, 0.3)"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"4px"},children:["",((O==null?void 0:O.totalOrders)||0)>0?(((O==null?void 0:O.totalSales)||0)/((O==null?void 0:O.totalOrders)||1)).toFixed(2):"0.00"]}),n.jsx("div",{style:{fontSize:"0.875rem",opacity:.9},children:"Average Order"}),n.jsx("div",{style:{fontSize:"0.75rem",opacity:.8},children:"across all orders"})]})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"12px",marginBottom:"24px",textAlign:"center"},children:[n.jsxs("h3",{style:{margin:"0 0 8px 0",color:"#2d3748"},children:[a==="daily"&&`Daily Report - ${new Date(v).toLocaleDateString()}`,a==="weekly"&&`Weekly Report - ${O==null?void 0:O.startDate} to ${O==null?void 0:O.endDate}`,a==="monthly"&&`Monthly Report - ${O==null?void 0:O.monthName}`,a==="all"&&"All Orders - Complete History"]}),n.jsxs("p",{style:{margin:"0",color:"#718096",fontSize:"0.875rem"},children:[a==="daily"&&"View sales performance for the selected day",a==="weekly"&&"View sales performance for the current week",a==="monthly"&&"View sales performance for the current month",a==="all"&&"View all orders from your database regardless of date"]})]}),n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsxs("h3",{style:{margin:"0 0 16px 0",color:"#2d3748"},children:["Recent Orders (",((W=O==null?void 0:O.orders)==null?void 0:W.length)||0,")"]}),!(O!=null&&O.orders)||O.orders.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#718096"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),n.jsx("h4",{style:{margin:"0 0 8px 0"},children:"No Orders Found"}),n.jsxs("p",{style:{margin:"0"},children:["No orders found for the selected ",a," period."]})]}):n.jsxs("div",{style:{display:"grid",gap:"12px",maxHeight:b?"none":"400px",overflowY:b?"visible":"auto"},children:[(b?O.orders:O.orders.slice(0,10)).map((P,I)=>n.jsxs("div",{style:{background:"white",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"16px",transition:"all 0.2s"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"1rem",color:"#1a202c"},children:P.invoiceNumber||`Order #${I+1}`}),n.jsxs("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:[P.customerName,"  ",P.phoneNumber]}),n.jsx("p",{style:{margin:"0",fontSize:"0.875rem",color:"#4a5568"},children:M(P.orderDate||P.createdAt)})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{background:L(P.status),color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",marginBottom:"8px"},children:P.status||"Completed"}),n.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"700",color:"#1a202c"},children:["",(P.total||0).toFixed(2)]})]})]}),P.items&&P.items.length>0&&n.jsxs("div",{style:{background:"#f7fafc",padding:"8px 12px",borderRadius:"8px",fontSize:"0.875rem"},children:[n.jsxs("strong",{children:[P.items.length," items:"]})," ",P.items.slice(0,2).map(R=>R.name).join(", "),P.items.length>2&&` +${P.items.length-2} more`]})]},P._id||I)),O.orders.length>10&&n.jsx("div",{style:{textAlign:"center",padding:"20px",background:"#f7fafc",borderRadius:"12px",border:"2px dashed #e2e8f0"},children:b?n.jsxs("div",{children:[n.jsxs("p",{style:{margin:"0 0 12px 0",color:"#718096",fontSize:"0.875rem"},children:["Showing all ",O.orders.length," orders"]}),n.jsx("button",{onClick:()=>y(!1),style:{background:"#718096",color:"white",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:P=>P.target.style.background="#4a5568",onMouseOut:P=>P.target.style.background="#718096",children:" Show Less (Top 10 Only)"})]}):n.jsxs("div",{children:[n.jsxs("p",{style:{margin:"0 0 12px 0",color:"#718096",fontSize:"0.875rem"},children:["Showing 10 of ",O.orders.length," orders"]}),n.jsxs("button",{onClick:()=>y(!0),style:{background:"#667eea",color:"white",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:P=>P.target.style.background="#5a67d8",onMouseOut:P=>P.target.style.background="#667eea",children:[" Show All ",O.orders.length," Orders"]})]})})]})]})]})})},li=({children:e})=>localStorage.getItem("counterAuthenticated")==="true"?e:n.jsx(Pp,{to:"/counter/login",replace:!0});function jfe(){const[e,t]=N.useState(!1);return N.useEffect(()=>{console.log(" CounterApp loaded!");const r=localStorage.getItem("counterAuthenticated")==="true";t(r);const a=()=>{t(localStorage.getItem("counterAuthenticated")==="true")};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),n.jsx("div",{className:"counter-app",children:n.jsxs(xj,{children:[n.jsx(At,{path:"login",element:n.jsx(ife,{})}),n.jsx(At,{path:"branch-selection",element:n.jsx(li,{children:n.jsx(sfe,{})})}),n.jsx(At,{path:"category-selection",element:n.jsx(li,{children:n.jsx(ofe,{})})}),n.jsx(At,{path:"customer-details",element:n.jsx(Pp,{to:"/counter/branch-selection",replace:!0})}),n.jsx(At,{path:"menu",element:n.jsx(li,{children:n.jsx(dfe,{})})}),n.jsx(At,{path:"kot-generation",element:n.jsx(li,{children:n.jsx(ufe,{})})}),n.jsx(At,{path:"bill-generation",element:n.jsx(li,{children:n.jsx(hfe,{})})}),n.jsx(At,{path:"payment",element:n.jsx(li,{children:n.jsx(ffe,{})})}),n.jsx(At,{path:"payment-success",element:n.jsx(li,{children:n.jsx(xfe,{})})}),n.jsx(At,{path:"orders",element:n.jsx(li,{children:n.jsx(gfe,{})})}),n.jsx(At,{path:"print-settings",element:n.jsx(li,{children:n.jsx(yfe,{})})}),n.jsx(At,{path:"print-test",element:n.jsx(li,{children:n.jsx(vfe,{})})}),n.jsx(At,{path:"sales-reports",element:n.jsx(li,{children:n.jsx(bfe,{})})}),n.jsx(At,{path:"",element:n.jsx(Pp,{to:"login",replace:!0})})]})})}const wfe=({children:e})=>localStorage.getItem("isAuthenticated")==="true"?e:n.jsx(Pp,{to:"/login",replace:!0});function Sfe(){const[e,t]=N.useState(!1),[r,a]=N.useState(!1);return N.useEffect(()=>{const i=localStorage.getItem("isAuthenticated")==="true";a(i);const s=()=>{a(localStorage.getItem("isAuthenticated")==="true")};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]),n.jsx(kL,{children:n.jsxs(xj,{children:[n.jsx(At,{path:"/login",element:n.jsx(lae,{})}),n.jsx(At,{path:"/menu",element:n.jsx(PI,{})}),n.jsx(At,{path:"/public-menu",element:n.jsx(PI,{})}),n.jsx(At,{path:"/privacy-policy",element:n.jsx(Dae,{})}),n.jsx(At,{path:"/terms-conditions",element:n.jsx(Rae,{})}),n.jsx(At,{path:"/category-orders",element:n.jsx(Lhe,{})}),n.jsx(At,{path:"/receptionist-dashboard",element:n.jsx(Khe,{})}),n.jsx(At,{path:"/counter/*",element:n.jsx(jfe,{})}),n.jsx(At,{path:"/*",element:n.jsx(wfe,{children:n.jsxs("div",{className:"app",children:[n.jsx(d$,{collapsed:e,setCollapsed:t}),n.jsx("main",{className:`content ${e?"content-expanded":""}`,children:n.jsxs(xj,{children:[n.jsx(At,{path:"/",element:n.jsx(Dne,{})}),n.jsx(At,{path:"/orders",element:n.jsx(Bne,{})}),n.jsx(At,{path:"/products",element:n.jsx(zne,{})}),n.jsx(At,{path:"/categories",element:n.jsx(Wne,{})}),n.jsx(At,{path:"/branches",element:n.jsx(Vne,{})}),n.jsx(At,{path:"/users",element:n.jsx(Xne,{})}),n.jsx(At,{path:"/coupons",element:n.jsx(eae,{})}),n.jsx(At,{path:"/payments",element:n.jsx(rae,{})}),n.jsx(At,{path:"/help-support",element:n.jsx(nae,{})}),n.jsx(At,{path:"/about-us",element:n.jsx(aae,{})}),n.jsx(At,{path:"/terms-policies",element:n.jsx(oae,{})}),n.jsx(At,{path:"/staff-users",element:n.jsx(uae,{})}),n.jsx(At,{path:"/counter-users",element:n.jsx(pae,{})}),n.jsx(At,{path:"/staff-orders",element:n.jsx(mae,{})}),n.jsx(At,{path:"/counter-orders",element:n.jsx(xae,{})}),n.jsx(At,{path:"/tables",element:n.jsx(gae,{})}),n.jsx(At,{path:"/staff-invoices",element:n.jsx(yae,{})}),n.jsx(At,{path:"/counter-bills",element:n.jsx(vae,{})}),n.jsx(At,{path:"/staff-payment",element:n.jsx(jae,{})}),n.jsx(At,{path:"/counter-payment",element:n.jsx(Sae,{})}),n.jsx(At,{path:"/product-submissions",element:n.jsx(Nae,{})}),n.jsx(At,{path:"/qr-uploads",element:n.jsx(Tae,{})}),n.jsx(At,{path:"/purchase-users",element:n.jsx(Eae,{})}),n.jsx(At,{path:"/qr-generator",element:n.jsx(Iae,{})}),n.jsx(At,{path:"/subscription",element:n.jsx(Pae,{})}),n.jsx(At,{path:"/subscription-management",element:n.jsx(Mae,{})}),n.jsx(At,{path:"/meal-of-the-day",element:n.jsx(Bae,{})}),n.jsx(At,{path:"/rooms",element:n.jsx(_he,{})}),n.jsx(At,{path:"/room-bookings",element:n.jsx(Ihe,{})}),n.jsx(At,{path:"/room-payments",element:n.jsx(Phe,{})}),n.jsx(At,{path:"/category-access",element:n.jsx(Fhe,{})}),n.jsx(At,{path:"/receptionist-access",element:n.jsx(qhe,{})}),n.jsx(At,{path:"/reservations",element:n.jsx(tfe,{})})]})})]})})})]})})}const Nfe=N.createContext(),Tfe=[{id:1,name:"Central Branch",address:"123 Main St, City Center",phone:"123-456-7890",isActive:!0},{id:2,name:"North Branch",address:"456 North Ave, Northside",phone:"234-567-8901",isActive:!0},{id:3,name:"South Branch",address:"789 South Blvd, Southside",phone:"345-678-9012",isActive:!0},{id:4,name:"East Branch",address:"101 East Rd, Eastville",phone:"456-789-0123",isActive:!0},{id:5,name:"West Branch",address:"202 West St, Westtown",phone:"567-890-1234",isActive:!0}],Cfe=[{id:1,name:"Appetizers",branchId:1,description:"Starters and small plates",isActive:!0},{id:2,name:"Main Course",branchId:1,description:"Primary dishes",isActive:!0},{id:3,name:"Desserts",branchId:1,description:"Sweet treats",isActive:!0},{id:4,name:"Beverages",branchId:1,description:"Drinks and refreshments",isActive:!0},{id:5,name:"Breakfast",branchId:2,description:"Morning meals",isActive:!0},{id:6,name:"Lunch",branchId:2,description:"Midday meals",isActive:!0},{id:7,name:"Dinner",branchId:2,description:"Evening meals",isActive:!0},{id:8,name:"Snacks",branchId:3,description:"Light bites",isActive:!0},{id:9,name:"Soups",branchId:3,description:"Warm and comforting",isActive:!0},{id:10,name:"Salads",branchId:3,description:"Fresh and healthy",isActive:!0},{id:11,name:"Specials",branchId:4,description:"Chef's recommendations",isActive:!0},{id:12,name:"Combos",branchId:4,description:"Value meals",isActive:!0},{id:13,name:"Vegetarian",branchId:5,description:"Plant-based options",isActive:!0},{id:14,name:"Non-Vegetarian",branchId:5,description:"Meat-based dishes",isActive:!0}],Afe=[{id:1,name:"Spring Rolls",categoryId:1,branchId:1,price:120,description:"Crispy vegetable spring rolls served with sweet chili sauce",image:"https://images.unsplash.com/photo-1606505662538-0a89eb33e0d9?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8c3ByaW5nJTIwcm9sbHN8ZW58MHx8MHx8fDA%3D",isAvailable:!0},{id:2,name:"Paneer Tikka",categoryId:1,branchId:1,price:180,description:"Marinated cottage cheese grilled to perfection",image:"https://images.unsplash.com/photo-1567188040759-fb8a883dc6d8?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGFuZWVyJTIwdGlra2F8ZW58MHx8MHx8fDA%3D",isAvailable:!0},{id:3,name:"Butter Paneer",categoryId:2,branchId:1,price:250,description:"Tender PAneer in a rich buttery tomato sauce",image:"https://images.unsplash.com/photo-1603894584373-5ac82b2ae398?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YnV0dGVyJTIwY2hpY2tlbnxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:4,name:"Vegetable Biryani",categoryId:2,branchId:1,price:220,description:"Fragrant rice cooked with mixed vegetables and spices",image:"https://images.unsplash.com/photo-1589302168068-964664d93dc0?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YmlyeWFuaXxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:5,name:"Gulab Jamun",categoryId:3,branchId:1,price:100,description:"Sweet milk solids balls soaked in sugar syrup",image:"https://images.unsplash.com/photo-1605197161470-5d2a9af0ac7e?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Z3VsYWIlMjBqYW11bnxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:6,name:"Mango Lassi",categoryId:4,branchId:1,price:80,description:"Refreshing yogurt drink with mango pulp",image:"https://images.unsplash.com/photo-1626078436898-7c7f4f6dccf4?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bWFuZ28lMjBsYXNzaXxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:7,name:"Masala Dosa",categoryId:5,branchId:2,price:150,description:"Crispy rice crepe filled with spiced potatoes",image:"https://images.unsplash.com/photo-1589301760014-d929f3979dbc?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8ZG9zYXxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:8,name:"Sandwich",categoryId:6,branchId:2,price:160,description:"Grilled Potato with lettuce and mayo in toasted bread",image:"https://images.unsplash.com/photo-1521390188846-e2a3a97453a0?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Y2hpY2tlbiUyMHNhbmR3aWNofGVufDB8fDB8fHww",isAvailable:!0},{id:9,name:"Tandoori Paneer",categoryId:7,branchId:2,price:280,description:"Paneer marinated in yogurt and spices, cooked in a tandoor",image:"https://images.unsplash.com/photo-1610057099431-d73a1c9d2f2f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dGFuZG9vcmklMjBjaGlja2VufGVufDB8fDB8fHww",isAvailable:!0},{id:10,name:"Samosa",categoryId:8,branchId:3,price:40,description:"Crispy pastry filled with spiced potatoes and peas",image:"https://images.unsplash.com/photo-1601050690597-df0568f70950?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8c2Ftb3NhfGVufDB8fDB8fHww",isAvailable:!0}],Efe=({children:e})=>{const[t,r]=N.useState(Tfe),[a,i]=N.useState(Cfe),[s,l]=N.useState(Afe),[d,u]=N.useState(1),h=A=>{const k={...A,id:t.length>0?Math.max(...t.map(D=>D.id))+1:1,isActive:!0};return r([...t,k]),k},p=A=>{r(t.map(k=>k.id===A.id?A:k))},m=A=>{r(t.filter(k=>k.id!==A)),i(a.filter(k=>k.branchId!==A)),l(s.filter(k=>k.branchId!==A))},g=A=>{const k={...A,id:a.length>0?Math.max(...a.map(D=>D.id))+1:1,isActive:!0};return i([...a,k]),k},v=A=>{i(a.map(k=>k.id===A.id?A:k))},j=A=>{i(a.filter(k=>k.id!==A)),l(s.filter(k=>k.categoryId!==A))},b=A=>{const k={...A,id:s.length>0?Math.max(...s.map(D=>D.id))+1:1,isAvailable:!0};return l([...s,k]),k},y=A=>{l(s.map(k=>k.id===A.id?A:k))},T=A=>{l(s.filter(k=>k.id!==A))},E=A=>a.filter(k=>k.branchId===A),C=A=>s.filter(k=>k.categoryId===A),S=A=>s.filter(k=>k.branchId===A);return n.jsx(Nfe.Provider,{value:{branches:t,categories:a,products:s,selectedBranch:d,setSelectedBranch:u,addBranch:h,updateBranch:p,deleteBranch:m,addCategory:g,updateCategory:v,deleteCategory:j,addProduct:b,updateProduct:y,deleteProduct:T,getCategoriesByBranch:E,getProductsByCategory:C,getProductsByBranch:S},children:e})},Ofe=console.error;console.error=(...e)=>{typeof e[0]=="string"&&e[0].includes("Received `true` for a non-boolean attribute `jsx`")||Ofe.apply(console,e)};gF.createRoot(document.getElementById("root")).render(n.jsx(ke.StrictMode,{children:n.jsx(Efe,{children:n.jsx(Sfe,{})})}));
