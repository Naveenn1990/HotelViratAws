(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hg={exports:{}},Jd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA;function cF(){if(uA)return Jd;uA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:e,type:a,key:l,ref:i!==void 0?i:null,props:s}}return Jd.Fragment=t,Jd.jsx=r,Jd.jsxs=r,Jd}var fA;function dF(){return fA||(fA=1,Hg.exports=cF()),Hg.exports}var n=dF(),Gg={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA;function uF(){if(hA)return Ot;hA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,b={};function y(q,X,z){this.props=q,this.context=X,this.refs=b,this.updater=z||v}y.prototype.isReactComponent={},y.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},y.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=y.prototype;function T(q,X,z){this.props=q,this.context=X,this.refs=b,this.updater=z||v}var E=T.prototype=new C;E.constructor=T,j(E,y.prototype),E.isPureReactComponent=!0;var S=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function I(q,X,z,te,U,ee){return z=ee.ref,{$$typeof:e,type:q,key:X,ref:z!==void 0?z:null,props:ee}}function B(q,X){return I(q.type,X,void 0,void 0,void 0,q.props)}function M(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function L(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(z){return X[z]})}var F=/\/+/g;function _(q,X){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):X.toString(36)}function G(){}function P(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(G,G):(q.status="pending",q.then(function(X){q.status==="pending"&&(q.status="fulfilled",q.value=X)},function(X){q.status==="pending"&&(q.status="rejected",q.reason=X)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function D(q,X,z,te,U){var ee=typeof q;(ee==="undefined"||ee==="boolean")&&(q=null);var le=!1;if(q===null)le=!0;else switch(ee){case"bigint":case"string":case"number":le=!0;break;case"object":switch(q.$$typeof){case e:case t:le=!0;break;case p:return le=q._init,D(le(q._payload),X,z,te,U)}}if(le)return U=U(q),le=te===""?"."+_(q,0):te,S(U)?(z="",le!=null&&(z=le.replace(F,"$&/")+"/"),D(U,X,z,"",function(ie){return ie})):U!=null&&(M(U)&&(U=B(U,z+(U.key==null||q&&q.key===U.key?"":(""+U.key).replace(F,"$&/")+"/")+le)),X.push(U)),1;le=0;var ce=te===""?".":te+":";if(S(q))for(var je=0;je<q.length;je++)te=q[je],ee=ce+_(te,je),le+=D(te,X,z,ee,U);else if(je=g(q),typeof je=="function")for(q=je.call(q),je=0;!(te=q.next()).done;)te=te.value,ee=ce+_(te,je++),le+=D(te,X,z,ee,U);else if(ee==="object"){if(typeof q.then=="function")return D(P(q),X,z,te,U);throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return le}function R(q,X,z){if(q==null)return q;var te=[],U=0;return D(q,te,"","",function(ee){return X.call(z,ee,U++)}),te}function H(q){if(q._status===-1){var X=q._result;X=X(),X.then(function(z){(q._status===0||q._status===-1)&&(q._status=1,q._result=z)},function(z){(q._status===0||q._status===-1)&&(q._status=2,q._result=z)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var ne=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function me(){}return Ot.Children={map:R,forEach:function(q,X,z){R(q,function(){X.apply(this,arguments)},z)},count:function(q){var X=0;return R(q,function(){X++}),X},toArray:function(q){return R(q,function(X){return X})||[]},only:function(q){if(!M(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ot.Component=y,Ot.Fragment=r,Ot.Profiler=i,Ot.PureComponent=T,Ot.StrictMode=a,Ot.Suspense=u,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(q){return A.H.useMemoCache(q)}},Ot.cache=function(q){return function(){return q.apply(null,arguments)}},Ot.cloneElement=function(q,X,z){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var te=j({},q.props),U=q.key,ee=void 0;if(X!=null)for(le in X.ref!==void 0&&(ee=void 0),X.key!==void 0&&(U=""+X.key),X)!k.call(X,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&X.ref===void 0||(te[le]=X[le]);var le=arguments.length-2;if(le===1)te.children=z;else if(1<le){for(var ce=Array(le),je=0;je<le;je++)ce[je]=arguments[je+2];te.children=ce}return I(q.type,U,void 0,void 0,ee,te)},Ot.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Ot.createElement=function(q,X,z){var te,U={},ee=null;if(X!=null)for(te in X.key!==void 0&&(ee=""+X.key),X)k.call(X,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(U[te]=X[te]);var le=arguments.length-2;if(le===1)U.children=z;else if(1<le){for(var ce=Array(le),je=0;je<le;je++)ce[je]=arguments[je+2];U.children=ce}if(q&&q.defaultProps)for(te in le=q.defaultProps,le)U[te]===void 0&&(U[te]=le[te]);return I(q,ee,void 0,void 0,null,U)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(q){return{$$typeof:d,render:q}},Ot.isValidElement=M,Ot.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:H}},Ot.memo=function(q,X){return{$$typeof:f,type:q,compare:X===void 0?null:X}},Ot.startTransition=function(q){var X=A.T,z={};A.T=z;try{var te=q(),U=A.S;U!==null&&U(z,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(me,ne)}catch(ee){ne(ee)}finally{A.T=X}},Ot.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ot.use=function(q){return A.H.use(q)},Ot.useActionState=function(q,X,z){return A.H.useActionState(q,X,z)},Ot.useCallback=function(q,X){return A.H.useCallback(q,X)},Ot.useContext=function(q){return A.H.useContext(q)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(q,X){return A.H.useDeferredValue(q,X)},Ot.useEffect=function(q,X,z){var te=A.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(q,X)},Ot.useId=function(){return A.H.useId()},Ot.useImperativeHandle=function(q,X,z){return A.H.useImperativeHandle(q,X,z)},Ot.useInsertionEffect=function(q,X){return A.H.useInsertionEffect(q,X)},Ot.useLayoutEffect=function(q,X){return A.H.useLayoutEffect(q,X)},Ot.useMemo=function(q,X){return A.H.useMemo(q,X)},Ot.useOptimistic=function(q,X){return A.H.useOptimistic(q,X)},Ot.useReducer=function(q,X,z){return A.H.useReducer(q,X,z)},Ot.useRef=function(q){return A.H.useRef(q)},Ot.useState=function(q){return A.H.useState(q)},Ot.useSyncExternalStore=function(q,X,z){return A.H.useSyncExternalStore(q,X,z)},Ot.useTransition=function(){return A.H.useTransition()},Ot.version="19.1.0",Ot}var pA;function V2(){return pA||(pA=1,Gg.exports=uF()),Gg.exports}var N=V2();const _e=mr(N);var Vg={exports:{}},eu={},Yg={exports:{}},Xg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mA;function fF(){return mA||(mA=1,function(e){function t(R,H){var ne=R.length;R.push(H);e:for(;0<ne;){var me=ne-1>>>1,q=R[me];if(0<i(q,H))R[me]=H,R[ne]=q,ne=me;else break e}}function r(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var H=R[0],ne=R.pop();if(ne!==H){R[0]=ne;e:for(var me=0,q=R.length,X=q>>>1;me<X;){var z=2*(me+1)-1,te=R[z],U=z+1,ee=R[U];if(0>i(te,ne))U<q&&0>i(ee,te)?(R[me]=ee,R[U]=ne,me=U):(R[me]=te,R[z]=ne,me=z);else if(U<q&&0>i(ee,ne))R[me]=ee,R[U]=ne,me=U;else break e}}return H}function i(R,H){var ne=R.sortIndex-H.sortIndex;return ne!==0?ne:R.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var u=[],f=[],p=1,m=null,g=3,v=!1,j=!1,b=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function S(R){for(var H=r(f);H!==null;){if(H.callback===null)a(f);else if(H.startTime<=R)a(f),H.sortIndex=H.expirationTime,t(u,H);else break;H=r(f)}}function A(R){if(b=!1,S(R),!j)if(r(u)!==null)j=!0,k||(k=!0,_());else{var H=r(f);H!==null&&D(A,H.startTime-R)}}var k=!1,I=-1,B=5,M=-1;function L(){return y?!0:!(e.unstable_now()-M<B)}function F(){if(y=!1,k){var R=e.unstable_now();M=R;var H=!0;try{e:{j=!1,b&&(b=!1,T(I),I=-1),v=!0;var ne=g;try{t:{for(S(R),m=r(u);m!==null&&!(m.expirationTime>R&&L());){var me=m.callback;if(typeof me=="function"){m.callback=null,g=m.priorityLevel;var q=me(m.expirationTime<=R);if(R=e.unstable_now(),typeof q=="function"){m.callback=q,S(R),H=!0;break t}m===r(u)&&a(u),S(R)}else a(u);m=r(u)}if(m!==null)H=!0;else{var X=r(f);X!==null&&D(A,X.startTime-R),H=!1}}break e}finally{m=null,g=ne,v=!1}H=void 0}}finally{H?_():k=!1}}}var _;if(typeof E=="function")_=function(){E(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,P=G.port2;G.port1.onmessage=F,_=function(){P.postMessage(null)}}else _=function(){C(F,0)};function D(R,H){I=C(function(){R(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var ne=g;g=H;try{return R()}finally{g=ne}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ne=g;g=R;try{return H()}finally{g=ne}},e.unstable_scheduleCallback=function(R,H,ne){var me=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?me+ne:me):ne=me,R){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ne+q,R={id:p++,callback:H,priorityLevel:R,startTime:ne,expirationTime:q,sortIndex:-1},ne>me?(R.sortIndex=ne,t(f,R),r(u)===null&&R===r(f)&&(b?(T(I),I=-1):b=!0,D(A,ne-me))):(R.sortIndex=q,t(u,R),j||v||(j=!0,k||(k=!0,_()))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var H=g;return function(){var ne=g;g=H;try{return R.apply(this,arguments)}finally{g=ne}}}}(Xg)),Xg}var xA;function hF(){return xA||(xA=1,Yg.exports=fF()),Yg.exports}var Kg={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA;function pF(){if(gA)return Sn;gA=1;var e=V2();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Sn.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(u,f,null,p)},Sn.flushSync=function(u){var f=l.T,p=a.p;try{if(l.T=null,a.p=2,u)return u()}finally{l.T=f,a.p=p,a.d.f()}},Sn.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(u,f))},Sn.prefetchDNS=function(u){typeof u=="string"&&a.d.D(u)},Sn.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,m=d(p,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?a.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:v}):p==="script"&&a.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sn.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);a.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(u)},Sn.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=d(p,f.crossOrigin);a.d.L(u,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sn.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=d(f.as,f.crossOrigin);a.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(u)},Sn.requestFormReset=function(u){a.d.r(u)},Sn.unstable_batchedUpdates=function(u,f){return u(f)},Sn.useFormState=function(u,f,p){return l.H.useFormState(u,f,p)},Sn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Sn.version="19.1.0",Sn}var yA;function mF(){if(yA)return Kg.exports;yA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Kg.exports=pF(),Kg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA;function xF(){if(vA)return eu;vA=1;var e=hF(),t=V2(),r=mF();function a(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(s(o)!==o)throw Error(a(188))}function u(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(a(188));return c!==o?null:o}for(var h=o,x=c;;){var w=h.return;if(w===null)break;var O=w.alternate;if(O===null){if(x=w.return,x!==null){h=x;continue}break}if(w.child===O.child){for(O=w.child;O;){if(O===h)return d(w),o;if(O===x)return d(w),c;O=O.sibling}throw Error(a(188))}if(h.return!==x.return)h=w,x=O;else{for(var Y=!1,se=w.child;se;){if(se===h){Y=!0,h=w,x=O;break}if(se===x){Y=!0,x=w,h=O;break}se=se.sibling}if(!Y){for(se=O.child;se;){if(se===h){Y=!0,h=O,x=w;break}if(se===x){Y=!0,x=O,h=w;break}se=se.sibling}if(!Y)throw Error(a(189))}}if(h.alternate!==x)throw Error(a(190))}if(h.tag!==3)throw Error(a(188));return h.stateNode.current===h?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),E=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function _(o){return o===null||typeof o!="object"?null:(o=F&&o[F]||o["@@iterator"],typeof o=="function"?o:null)}var G=Symbol.for("react.client.reference");function P(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===G?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case y:return"Profiler";case b:return"StrictMode";case A:return"Suspense";case k:return"SuspenseList";case M:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case E:return(o.displayName||"Context")+".Provider";case T:return(o._context.displayName||"Context")+".Consumer";case S:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return c=o.displayName||null,c!==null?c:P(o.type)||"Memo";case B:c=o._payload,o=o._init;try{return P(o(c))}catch{}}return null}var D=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},me=[],q=-1;function X(o){return{current:o}}function z(o){0>q||(o.current=me[q],me[q]=null,q--)}function te(o,c){q++,me[q]=o.current,o.current=c}var U=X(null),ee=X(null),le=X(null),ce=X(null);function je(o,c){switch(te(le,c),te(ee,o),te(U,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?LC(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=LC(c),o=zC(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}z(U),te(U,o)}function ie(){z(U),z(ee),z(le)}function ve(o){o.memoizedState!==null&&te(ce,o);var c=U.current,h=zC(c,o.type);c!==h&&(te(ee,o),te(U,h))}function Ne(o){ee.current===o&&(z(U),z(ee)),ce.current===o&&(z(ce),Yd._currentValue=ne)}var ge=Object.prototype.hasOwnProperty,Ye=e.unstable_scheduleCallback,Te=e.unstable_cancelCallback,qe=e.unstable_shouldYield,V=e.unstable_requestPaint,fe=e.unstable_now,Ee=e.unstable_getCurrentPriorityLevel,K=e.unstable_ImmediatePriority,re=e.unstable_UserBlockingPriority,W=e.unstable_NormalPriority,Z=e.unstable_LowPriority,Q=e.unstable_IdlePriority,be=e.log,Me=e.unstable_setDisableYieldValue,Ge=null,Le=null;function ye(o){if(typeof be=="function"&&Me(o),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Ge,o)}catch{}}var de=Math.clz32?Math.clz32:ot,Se=Math.log,Qe=Math.LN2;function ot(o){return o>>>=0,o===0?32:31-(Se(o)/Qe|0)|0}var ut=256,tt=4194304;function J(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ae(o,c,h){var x=o.pendingLanes;if(x===0)return 0;var w=0,O=o.suspendedLanes,Y=o.pingedLanes;o=o.warmLanes;var se=x&134217727;return se!==0?(x=se&~O,x!==0?w=J(x):(Y&=se,Y!==0?w=J(Y):h||(h=se&~o,h!==0&&(w=J(h))))):(se=x&~O,se!==0?w=J(se):Y!==0?w=J(Y):h||(h=x&~o,h!==0&&(w=J(h)))),w===0?0:c!==0&&c!==w&&(c&O)===0&&(O=w&-w,h=c&-c,O>=h||O===32&&(h&4194048)!==0)?c:w}function ke(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function nt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rt(){var o=ut;return ut<<=1,(ut&4194048)===0&&(ut=256),o}function lt(){var o=tt;return tt<<=1,(tt&62914560)===0&&(tt=4194304),o}function jt(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Lt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ut(o,c,h,x,w,O){var Y=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var se=o.entanglements,we=o.expirationTimes,Re=o.hiddenUpdates;for(h=Y&~h;0<h;){var Xe=31-de(h),Ze=1<<Xe;se[Xe]=0,we[Xe]=-1;var Fe=Re[Xe];if(Fe!==null)for(Re[Xe]=null,Xe=0;Xe<Fe.length;Xe++){var $e=Fe[Xe];$e!==null&&($e.lane&=-536870913)}h&=~Ze}x!==0&&Zt(o,x,0),O!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=O&~(Y&~c))}function Zt(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var x=31-de(c);o.entangledLanes|=c,o.entanglements[x]=o.entanglements[x]|1073741824|h&4194090}function ln(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var x=31-de(h),w=1<<x;w&c|o[x]&c&&(o[x]|=c),h&=~w}}function Pt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function jr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ct(){var o=H.p;return o!==0?o:(o=window.event,o===void 0?32:iA(o.type))}function or(o,c){var h=H.p;try{return H.p=o,c()}finally{H.p=h}}var jn=Math.random().toString(36).slice(2),Fr="__reactFiber$"+jn,Rr="__reactProps$"+jn,$a="__reactContainer$"+jn,vs="__reactEvents$"+jn,dl="__reactListeners$"+jn,ae="__reactHandles$"+jn,pe="__reactResources$"+jn,oe="__reactMarker$"+jn;function ue(o){delete o[Fr],delete o[Rr],delete o[vs],delete o[dl],delete o[ae]}function he(o){var c=o[Fr];if(c)return c;for(var h=o.parentNode;h;){if(c=h[$a]||h[Fr]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=WC(o);o!==null;){if(h=o[Fr])return h;o=WC(o)}return c}o=h,h=o.parentNode}return null}function xe(o){if(o=o[Fr]||o[$a]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Pe(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(a(33))}function We(o){var c=o[pe];return c||(c=o[pe]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function De(o){o[oe]=!0}var Be=new Set,ze={};function et(o,c){it(o,c),it(o+"Capture",c)}function it(o,c){for(ze[o]=c,o=0;o<c.length;o++)Be.add(c[o])}var ht=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ft={};function At(o){return ge.call(ft,o)?!0:ge.call(at,o)?!1:ht.test(o)?ft[o]=!0:(at[o]=!0,!1)}function lr(o,c,h){if(At(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function cr(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function yr(o,c,h,x){if(x===null)o.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+x)}}var Ei,bs;function va(o){if(Ei===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Ei=c&&c[1]||"",bs=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ei+o+bs}var Ua=!1;function uo(o,c){if(!o||Ua)return"";Ua=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch($e){var Fe=$e}Reflect.construct(o,[],Ze)}else{try{Ze.call()}catch($e){Fe=$e}o.call(Ze.prototype)}}else{try{throw Error()}catch($e){Fe=$e}(Ze=o())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch($e){if($e&&Fe&&typeof $e.stack=="string")return[$e.stack,Fe.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=x.DetermineComponentFrameRoot(),Y=O[0],se=O[1];if(Y&&se){var we=Y.split(`
`),Re=se.split(`
`);for(w=x=0;x<we.length&&!we[x].includes("DetermineComponentFrameRoot");)x++;for(;w<Re.length&&!Re[w].includes("DetermineComponentFrameRoot");)w++;if(x===we.length||w===Re.length)for(x=we.length-1,w=Re.length-1;1<=x&&0<=w&&we[x]!==Re[w];)w--;for(;1<=x&&0<=w;x--,w--)if(we[x]!==Re[w]){if(x!==1||w!==1)do if(x--,w--,0>w||we[x]!==Re[w]){var Xe=`
`+we[x].replace(" at new "," at ");return o.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",o.displayName)),Xe}while(1<=x&&0<=w);break}}}finally{Ua=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?va(h):""}function qa(o){switch(o.tag){case 26:case 27:case 5:return va(o.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 15:return uo(o.type,!1);case 11:return uo(o.type.render,!1);case 1:return uo(o.type,!0);case 31:return va("Activity");default:return""}}function IS(o){try{var c="";do c+=qa(o),o=o.return;while(o);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function ba(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function RS(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function aM(o){var c=RS(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,O=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(Y){x=""+Y,O.call(this,Y)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(Y){x=""+Y},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Vf(o){o._valueTracker||(o._valueTracker=aM(o))}function PS(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),x="";return o&&(x=RS(o)?o.checked?"true":"false":o.value),o=x,o!==h?(c.setValue(o),!0):!1}function Yf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var iM=/[\n"\\]/g;function ja(o){return o.replace(iM,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function U0(o,c,h,x,w,O,Y,se){o.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?o.type=Y:o.removeAttribute("type"),c!=null?Y==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ba(c)):o.value!==""+ba(c)&&(o.value=""+ba(c)):Y!=="submit"&&Y!=="reset"||o.removeAttribute("value"),c!=null?q0(o,Y,ba(c)):h!=null?q0(o,Y,ba(h)):x!=null&&o.removeAttribute("value"),w==null&&O!=null&&(o.defaultChecked=!!O),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?o.name=""+ba(se):o.removeAttribute("name")}function MS(o,c,h,x,w,O,Y,se){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.type=O),c!=null||h!=null){if(!(O!=="submit"&&O!=="reset"||c!=null))return;h=h!=null?""+ba(h):"",c=c!=null?""+ba(c):h,se||c===o.value||(o.value=c),o.defaultValue=c}x=x??w,x=typeof x!="function"&&typeof x!="symbol"&&!!x,o.checked=se?o.checked:!!x,o.defaultChecked=!!x,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(o.name=Y)}function q0(o,c,h){c==="number"&&Yf(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function ul(o,c,h,x){if(o=o.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=c.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&x&&(o[h].defaultSelected=!0)}else{for(h=""+ba(h),c=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,x&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function BS(o,c,h){if(c!=null&&(c=""+ba(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+ba(h):""}function FS(o,c,h,x){if(c==null){if(x!=null){if(h!=null)throw Error(a(92));if(D(x)){if(1<x.length)throw Error(a(93));x=x[0]}h=x}h==null&&(h=""),c=h}h=ba(c),o.defaultValue=h,x=o.textContent,x===h&&x!==""&&x!==null&&(o.value=x)}function fl(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var sM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function LS(o,c,h){var x=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":x?o.setProperty(c,h):typeof h!="number"||h===0||sM.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function zS(o,c,h){if(c!=null&&typeof c!="object")throw Error(a(62));if(o=o.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?o.setProperty(x,""):x==="float"?o.cssFloat="":o[x]="");for(var w in c)x=c[w],c.hasOwnProperty(w)&&h[w]!==x&&LS(o,w,x)}else for(var O in c)c.hasOwnProperty(O)&&LS(o,O,c[O])}function W0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xf(o){return lM.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var H0=null;function G0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var hl=null,pl=null;function $S(o){var c=xe(o);if(c&&(o=c.stateNode)){var h=o[Rr]||null;e:switch(o=c.stateNode,c.type){case"input":if(U0(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ja(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var x=h[c];if(x!==o&&x.form===o.form){var w=x[Rr]||null;if(!w)throw Error(a(90));U0(x,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<h.length;c++)x=h[c],x.form===o.form&&PS(x)}break e;case"textarea":BS(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&ul(o,!!h.multiple,c,!1)}}}var V0=!1;function US(o,c,h){if(V0)return o(c,h);V0=!0;try{var x=o(c);return x}finally{if(V0=!1,(hl!==null||pl!==null)&&(Rh(),hl&&(c=hl,o=pl,pl=hl=null,$S(c),o)))for(c=0;c<o.length;c++)$S(o[c])}}function od(o,c){var h=o.stateNode;if(h===null)return null;var x=h[Rr]||null;if(x===null)return null;h=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(a(231,c,typeof h));return h}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Y0=!1;if(_i)try{var ld={};Object.defineProperty(ld,"passive",{get:function(){Y0=!0}}),window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{Y0=!1}var js=null,X0=null,Kf=null;function qS(){if(Kf)return Kf;var o,c=X0,h=c.length,x,w="value"in js?js.value:js.textContent,O=w.length;for(o=0;o<h&&c[o]===w[o];o++);var Y=h-o;for(x=1;x<=Y&&c[h-x]===w[O-x];x++);return Kf=w.slice(o,1<x?1-x:void 0)}function Qf(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Zf(){return!0}function WS(){return!1}function $n(o){function c(h,x,w,O,Y){this._reactName=h,this._targetInst=w,this.type=x,this.nativeEvent=O,this.target=Y,this.currentTarget=null;for(var se in o)o.hasOwnProperty(se)&&(h=o[se],this[se]=h?h(O):O[se]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Zf:WS,this.isPropagationStopped=WS,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Zf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Zf)},persist:function(){},isPersistent:Zf}),c}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=$n(fo),cd=p({},fo,{view:0,detail:0}),cM=$n(cd),K0,Q0,dd,eh=p({},cd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==dd&&(dd&&o.type==="mousemove"?(K0=o.screenX-dd.screenX,Q0=o.screenY-dd.screenY):Q0=K0=0,dd=o),K0)},movementY:function(o){return"movementY"in o?o.movementY:Q0}}),HS=$n(eh),dM=p({},eh,{dataTransfer:0}),uM=$n(dM),fM=p({},cd,{relatedTarget:0}),Z0=$n(fM),hM=p({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),pM=$n(hM),mM=p({},fo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),xM=$n(mM),gM=p({},fo,{data:0}),GS=$n(gM),yM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jM(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=bM[o])?!!c[o]:!1}function J0(){return jM}var wM=p({},cd,{key:function(o){if(o.key){var c=yM[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Qf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?vM[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J0,charCode:function(o){return o.type==="keypress"?Qf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Qf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),SM=$n(wM),NM=p({},eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VS=$n(NM),TM=p({},cd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J0}),CM=$n(TM),AM=p({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),EM=$n(AM),_M=p({},eh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),OM=$n(_M),kM=p({},fo,{newState:0,oldState:0}),DM=$n(kM),IM=[9,13,27,32],ex=_i&&"CompositionEvent"in window,ud=null;_i&&"documentMode"in document&&(ud=document.documentMode);var RM=_i&&"TextEvent"in window&&!ud,YS=_i&&(!ex||ud&&8<ud&&11>=ud),XS=" ",KS=!1;function QS(o,c){switch(o){case"keyup":return IM.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ml=!1;function PM(o,c){switch(o){case"compositionend":return ZS(c);case"keypress":return c.which!==32?null:(KS=!0,XS);case"textInput":return o=c.data,o===XS&&KS?null:o;default:return null}}function MM(o,c){if(ml)return o==="compositionend"||!ex&&QS(o,c)?(o=qS(),Kf=X0=js=null,ml=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return YS&&c.locale!=="ko"?null:c.data;default:return null}}var BM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JS(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!BM[o.type]:c==="textarea"}function eN(o,c,h,x){hl?pl?pl.push(x):pl=[x]:hl=x,c=zh(c,"onChange"),0<c.length&&(h=new Jf("onChange","change",null,h,x),o.push({event:h,listeners:c}))}var fd=null,hd=null;function FM(o){RC(o,0)}function th(o){var c=Pe(o);if(PS(c))return o}function tN(o,c){if(o==="change")return c}var rN=!1;if(_i){var tx;if(_i){var rx="oninput"in document;if(!rx){var nN=document.createElement("div");nN.setAttribute("oninput","return;"),rx=typeof nN.oninput=="function"}tx=rx}else tx=!1;rN=tx&&(!document.documentMode||9<document.documentMode)}function aN(){fd&&(fd.detachEvent("onpropertychange",iN),hd=fd=null)}function iN(o){if(o.propertyName==="value"&&th(hd)){var c=[];eN(c,hd,o,G0(o)),US(FM,c)}}function LM(o,c,h){o==="focusin"?(aN(),fd=c,hd=h,fd.attachEvent("onpropertychange",iN)):o==="focusout"&&aN()}function zM(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return th(hd)}function $M(o,c){if(o==="click")return th(c)}function UM(o,c){if(o==="input"||o==="change")return th(c)}function qM(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ra=typeof Object.is=="function"?Object.is:qM;function pd(o,c){if(ra(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),x=Object.keys(c);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var w=h[x];if(!ge.call(c,w)||!ra(o[w],c[w]))return!1}return!0}function sN(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function oN(o,c){var h=sN(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=c&&x>=c)return{node:h,offset:c-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=sN(h)}}function lN(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?lN(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function cN(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Yf(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Yf(o.document)}return c}function nx(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var WM=_i&&"documentMode"in document&&11>=document.documentMode,xl=null,ax=null,md=null,ix=!1;function dN(o,c,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ix||xl==null||xl!==Yf(x)||(x=xl,"selectionStart"in x&&nx(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),md&&pd(md,x)||(md=x,x=zh(ax,"onSelect"),0<x.length&&(c=new Jf("onSelect","select",null,c,h),o.push({event:c,listeners:x}),c.target=xl)))}function ho(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var gl={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionrun:ho("Transition","TransitionRun"),transitionstart:ho("Transition","TransitionStart"),transitioncancel:ho("Transition","TransitionCancel"),transitionend:ho("Transition","TransitionEnd")},sx={},uN={};_i&&(uN=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function po(o){if(sx[o])return sx[o];if(!gl[o])return o;var c=gl[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in uN)return sx[o]=c[h];return o}var fN=po("animationend"),hN=po("animationiteration"),pN=po("animationstart"),HM=po("transitionrun"),GM=po("transitionstart"),VM=po("transitioncancel"),mN=po("transitionend"),xN=new Map,ox="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ox.push("scrollEnd");function Wa(o,c){xN.set(o,c),et(c,[o])}var gN=new WeakMap;function wa(o,c){if(typeof o=="object"&&o!==null){var h=gN.get(o);return h!==void 0?h:(c={value:o,source:c,stack:IS(c)},gN.set(o,c),c)}return{value:o,source:c,stack:IS(c)}}var Sa=[],yl=0,lx=0;function rh(){for(var o=yl,c=lx=yl=0;c<o;){var h=Sa[c];Sa[c++]=null;var x=Sa[c];Sa[c++]=null;var w=Sa[c];Sa[c++]=null;var O=Sa[c];if(Sa[c++]=null,x!==null&&w!==null){var Y=x.pending;Y===null?w.next=w:(w.next=Y.next,Y.next=w),x.pending=w}O!==0&&yN(h,w,O)}}function nh(o,c,h,x){Sa[yl++]=o,Sa[yl++]=c,Sa[yl++]=h,Sa[yl++]=x,lx|=x,o.lanes|=x,o=o.alternate,o!==null&&(o.lanes|=x)}function cx(o,c,h,x){return nh(o,c,h,x),ah(o)}function vl(o,c){return nh(o,null,null,c),ah(o)}function yN(o,c,h){o.lanes|=h;var x=o.alternate;x!==null&&(x.lanes|=h);for(var w=!1,O=o.return;O!==null;)O.childLanes|=h,x=O.alternate,x!==null&&(x.childLanes|=h),O.tag===22&&(o=O.stateNode,o===null||o._visibility&1||(w=!0)),o=O,O=O.return;return o.tag===3?(O=o.stateNode,w&&c!==null&&(w=31-de(h),o=O.hiddenUpdates,x=o[w],x===null?o[w]=[c]:x.push(c),c.lane=h|536870912),O):null}function ah(o){if(50<zd)throw zd=0,mg=null,Error(a(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var bl={};function YM(o,c,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(o,c,h,x){return new YM(o,c,h,x)}function dx(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Oi(o,c){var h=o.alternate;return h===null?(h=na(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function vN(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function ih(o,c,h,x,w,O){var Y=0;if(x=o,typeof o=="function")dx(o)&&(Y=1);else if(typeof o=="string")Y=KB(o,h,U.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case M:return o=na(31,h,c,w),o.elementType=M,o.lanes=O,o;case j:return mo(h.children,w,O,c);case b:Y=8,w|=24;break;case y:return o=na(12,h,c,w|2),o.elementType=y,o.lanes=O,o;case A:return o=na(13,h,c,w),o.elementType=A,o.lanes=O,o;case k:return o=na(19,h,c,w),o.elementType=k,o.lanes=O,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:case E:Y=10;break e;case T:Y=9;break e;case S:Y=11;break e;case I:Y=14;break e;case B:Y=16,x=null;break e}Y=29,h=Error(a(130,o===null?"null":typeof o,"")),x=null}return c=na(Y,h,c,w),c.elementType=o,c.type=x,c.lanes=O,c}function mo(o,c,h,x){return o=na(7,o,x,c),o.lanes=h,o}function ux(o,c,h){return o=na(6,o,null,c),o.lanes=h,o}function fx(o,c,h){return c=na(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var jl=[],wl=0,sh=null,oh=0,Na=[],Ta=0,xo=null,ki=1,Di="";function go(o,c){jl[wl++]=oh,jl[wl++]=sh,sh=o,oh=c}function bN(o,c,h){Na[Ta++]=ki,Na[Ta++]=Di,Na[Ta++]=xo,xo=o;var x=ki;o=Di;var w=32-de(x)-1;x&=~(1<<w),h+=1;var O=32-de(c)+w;if(30<O){var Y=w-w%5;O=(x&(1<<Y)-1).toString(32),x>>=Y,w-=Y,ki=1<<32-de(c)+w|h<<w|x,Di=O+o}else ki=1<<O|h<<w|x,Di=o}function hx(o){o.return!==null&&(go(o,1),bN(o,1,0))}function px(o){for(;o===sh;)sh=jl[--wl],jl[wl]=null,oh=jl[--wl],jl[wl]=null;for(;o===xo;)xo=Na[--Ta],Na[Ta]=null,Di=Na[--Ta],Na[Ta]=null,ki=Na[--Ta],Na[Ta]=null}var kn=null,_r=null,Kt=!1,yo=null,fi=!1,mx=Error(a(519));function vo(o){var c=Error(a(418,""));throw yd(wa(c,o)),mx}function jN(o){var c=o.stateNode,h=o.type,x=o.memoizedProps;switch(c[Fr]=o,c[Rr]=x,h){case"dialog":Bt("cancel",c),Bt("close",c);break;case"iframe":case"object":case"embed":Bt("load",c);break;case"video":case"audio":for(h=0;h<Ud.length;h++)Bt(Ud[h],c);break;case"source":Bt("error",c);break;case"img":case"image":case"link":Bt("error",c),Bt("load",c);break;case"details":Bt("toggle",c);break;case"input":Bt("invalid",c),MS(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),Vf(c);break;case"select":Bt("invalid",c);break;case"textarea":Bt("invalid",c),FS(c,x.value,x.defaultValue,x.children),Vf(c)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||x.suppressHydrationWarning===!0||FC(c.textContent,h)?(x.popover!=null&&(Bt("beforetoggle",c),Bt("toggle",c)),x.onScroll!=null&&Bt("scroll",c),x.onScrollEnd!=null&&Bt("scrollend",c),x.onClick!=null&&(c.onclick=$h),c=!0):c=!1,c||vo(o)}function wN(o){for(kn=o.return;kn;)switch(kn.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:kn=kn.return}}function xd(o){if(o!==kn)return!1;if(!Kt)return wN(o),Kt=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||kg(o.type,o.memoizedProps)),h=!h),h&&_r&&vo(o),wN(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(c===0){_r=Ga(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;o=o.nextSibling}_r=null}}else c===27?(c=_r,Bs(o.type)?(o=Pg,Pg=null,_r=o):_r=c):_r=kn?Ga(o.stateNode.nextSibling):null;return!0}function gd(){_r=kn=null,Kt=!1}function SN(){var o=yo;return o!==null&&(Wn===null?Wn=o:Wn.push.apply(Wn,o),yo=null),o}function yd(o){yo===null?yo=[o]:yo.push(o)}var xx=X(null),bo=null,Ii=null;function ws(o,c,h){te(xx,c._currentValue),c._currentValue=h}function Ri(o){o._currentValue=xx.current,z(xx)}function gx(o,c,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===h)break;o=o.return}}function yx(o,c,h,x){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var O=w.dependencies;if(O!==null){var Y=w.child;O=O.firstContext;e:for(;O!==null;){var se=O;O=w;for(var we=0;we<c.length;we++)if(se.context===c[we]){O.lanes|=h,se=O.alternate,se!==null&&(se.lanes|=h),gx(O.return,h,o),x||(Y=null);break e}O=se.next}}else if(w.tag===18){if(Y=w.return,Y===null)throw Error(a(341));Y.lanes|=h,O=Y.alternate,O!==null&&(O.lanes|=h),gx(Y,h,o),Y=null}else Y=w.child;if(Y!==null)Y.return=w;else for(Y=w;Y!==null;){if(Y===o){Y=null;break}if(w=Y.sibling,w!==null){w.return=Y.return,Y=w;break}Y=Y.return}w=Y}}function vd(o,c,h,x){o=null;for(var w=c,O=!1;w!==null;){if(!O){if((w.flags&524288)!==0)O=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var Y=w.alternate;if(Y===null)throw Error(a(387));if(Y=Y.memoizedProps,Y!==null){var se=w.type;ra(w.pendingProps.value,Y.value)||(o!==null?o.push(se):o=[se])}}else if(w===ce.current){if(Y=w.alternate,Y===null)throw Error(a(387));Y.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Yd):o=[Yd])}w=w.return}o!==null&&yx(c,o,h,x),c.flags|=262144}function lh(o){for(o=o.firstContext;o!==null;){if(!ra(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function jo(o){bo=o,Ii=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function wn(o){return NN(bo,o)}function ch(o,c){return bo===null&&jo(o),NN(o,c)}function NN(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Ii===null){if(o===null)throw Error(a(308));Ii=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Ii=Ii.next=c;return h}var XM=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,x){o.push(x)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},KM=e.unstable_scheduleCallback,QM=e.unstable_NormalPriority,Gr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vx(){return{controller:new XM,data:new Map,refCount:0}}function bd(o){o.refCount--,o.refCount===0&&KM(QM,function(){o.controller.abort()})}var jd=null,bx=0,Sl=0,Nl=null;function ZM(o,c){if(jd===null){var h=jd=[];bx=0,Sl=wg(),Nl={status:"pending",value:void 0,then:function(x){h.push(x)}}}return bx++,c.then(TN,TN),c}function TN(){if(--bx===0&&jd!==null){Nl!==null&&(Nl.status="fulfilled");var o=jd;jd=null,Sl=0,Nl=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function JM(o,c){var h=[],x={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return o.then(function(){x.status="fulfilled",x.value=c;for(var w=0;w<h.length;w++)(0,h[w])(c)},function(w){for(x.status="rejected",x.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),x}var CN=R.S;R.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&ZM(o,c),CN!==null&&CN(o,c)};var wo=X(null);function jx(){var o=wo.current;return o!==null?o:vr.pooledCache}function dh(o,c){c===null?te(wo,wo.current):te(wo,c.pool)}function AN(){var o=jx();return o===null?null:{parent:Gr._currentValue,pool:o}}var wd=Error(a(460)),EN=Error(a(474)),uh=Error(a(542)),wx={then:function(){}};function _N(o){return o=o.status,o==="fulfilled"||o==="rejected"}function fh(){}function ON(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(fh,fh),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,DN(o),o;default:if(typeof c.status=="string")c.then(fh,fh);else{if(o=vr,o!==null&&100<o.shellSuspendCounter)throw Error(a(482));o=c,o.status="pending",o.then(function(x){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=x}},function(x){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,DN(o),o}throw Sd=c,wd}}var Sd=null;function kN(){if(Sd===null)throw Error(a(459));var o=Sd;return Sd=null,o}function DN(o){if(o===wd||o===uh)throw Error(a(483))}var Ss=!1;function Sx(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nx(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ns(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ts(o,c,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(tr&2)!==0){var w=x.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),x.pending=c,c=ah(o),yN(o,null,h),c}return nh(o,x,c,h),ah(o)}function Nd(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,ln(o,h)}}function Tx(o,c){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var w=null,O=null;if(h=h.firstBaseUpdate,h!==null){do{var Y={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};O===null?w=O=Y:O=O.next=Y,h=h.next}while(h!==null);O===null?w=O=c:O=O.next=c}else w=O=c;h={baseState:x.baseState,firstBaseUpdate:w,lastBaseUpdate:O,shared:x.shared,callbacks:x.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var Cx=!1;function Td(){if(Cx){var o=Nl;if(o!==null)throw o}}function Cd(o,c,h,x){Cx=!1;var w=o.updateQueue;Ss=!1;var O=w.firstBaseUpdate,Y=w.lastBaseUpdate,se=w.shared.pending;if(se!==null){w.shared.pending=null;var we=se,Re=we.next;we.next=null,Y===null?O=Re:Y.next=Re,Y=we;var Xe=o.alternate;Xe!==null&&(Xe=Xe.updateQueue,se=Xe.lastBaseUpdate,se!==Y&&(se===null?Xe.firstBaseUpdate=Re:se.next=Re,Xe.lastBaseUpdate=we))}if(O!==null){var Ze=w.baseState;Y=0,Xe=Re=we=null,se=O;do{var Fe=se.lane&-536870913,$e=Fe!==se.lane;if($e?(qt&Fe)===Fe:(x&Fe)===Fe){Fe!==0&&Fe===Sl&&(Cx=!0),Xe!==null&&(Xe=Xe.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Nt=o,bt=se;Fe=c;var fr=h;switch(bt.tag){case 1:if(Nt=bt.payload,typeof Nt=="function"){Ze=Nt.call(fr,Ze,Fe);break e}Ze=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=bt.payload,Fe=typeof Nt=="function"?Nt.call(fr,Ze,Fe):Nt,Fe==null)break e;Ze=p({},Ze,Fe);break e;case 2:Ss=!0}}Fe=se.callback,Fe!==null&&(o.flags|=64,$e&&(o.flags|=8192),$e=w.callbacks,$e===null?w.callbacks=[Fe]:$e.push(Fe))}else $e={lane:Fe,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Xe===null?(Re=Xe=$e,we=Ze):Xe=Xe.next=$e,Y|=Fe;if(se=se.next,se===null){if(se=w.shared.pending,se===null)break;$e=se,se=$e.next,$e.next=null,w.lastBaseUpdate=$e,w.shared.pending=null}}while(!0);Xe===null&&(we=Ze),w.baseState=we,w.firstBaseUpdate=Re,w.lastBaseUpdate=Xe,O===null&&(w.shared.lanes=0),Is|=Y,o.lanes=Y,o.memoizedState=Ze}}function IN(o,c){if(typeof o!="function")throw Error(a(191,o));o.call(c)}function RN(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)IN(h[o],c)}var Tl=X(null),hh=X(0);function PN(o,c){o=$i,te(hh,o),te(Tl,c),$i=o|c.baseLanes}function Ax(){te(hh,$i),te(Tl,Tl.current)}function Ex(){$i=hh.current,z(Tl),z(hh)}var Cs=0,Dt=null,dr=null,Lr=null,ph=!1,Cl=!1,So=!1,mh=0,Ad=0,Al=null,eB=0;function Pr(){throw Error(a(321))}function _x(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!ra(o[h],c[h]))return!1;return!0}function Ox(o,c,h,x,w,O){return Cs=O,Dt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,R.H=o===null||o.memoizedState===null?yT:vT,So=!1,O=h(x,w),So=!1,Cl&&(O=BN(c,h,x,w)),MN(o),O}function MN(o){R.H=jh;var c=dr!==null&&dr.next!==null;if(Cs=0,Lr=dr=Dt=null,ph=!1,Ad=0,Al=null,c)throw Error(a(300));o===null||Zr||(o=o.dependencies,o!==null&&lh(o)&&(Zr=!0))}function BN(o,c,h,x){Dt=o;var w=0;do{if(Cl&&(Al=null),Ad=0,Cl=!1,25<=w)throw Error(a(301));if(w+=1,Lr=dr=null,o.updateQueue!=null){var O=o.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}R.H=oB,O=c(h,x)}while(Cl);return O}function tB(){var o=R.H,c=o.useState()[0];return c=typeof c.then=="function"?Ed(c):c,o=o.useState()[0],(dr!==null?dr.memoizedState:null)!==o&&(Dt.flags|=1024),c}function kx(){var o=mh!==0;return mh=0,o}function Dx(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Ix(o){if(ph){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}ph=!1}Cs=0,Lr=dr=Dt=null,Cl=!1,Ad=mh=0,Al=null}function Un(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?Dt.memoizedState=Lr=o:Lr=Lr.next=o,Lr}function zr(){if(dr===null){var o=Dt.alternate;o=o!==null?o.memoizedState:null}else o=dr.next;var c=Lr===null?Dt.memoizedState:Lr.next;if(c!==null)Lr=c,dr=o;else{if(o===null)throw Dt.alternate===null?Error(a(467)):Error(a(310));dr=o,o={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Lr===null?Dt.memoizedState=Lr=o:Lr=Lr.next=o}return Lr}function Rx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ed(o){var c=Ad;return Ad+=1,Al===null&&(Al=[]),o=ON(Al,o,c),c=Dt,(Lr===null?c.memoizedState:Lr.next)===null&&(c=c.alternate,R.H=c===null||c.memoizedState===null?yT:vT),o}function xh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ed(o);if(o.$$typeof===E)return wn(o)}throw Error(a(438,String(o)))}function Px(o){var c=null,h=Dt.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var x=Dt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Rx(),Dt.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),x=0;x<o;x++)h[x]=L;return c.index++,h}function Pi(o,c){return typeof c=="function"?c(o):c}function gh(o){var c=zr();return Mx(c,dr,o)}function Mx(o,c,h){var x=o.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=h;var w=o.baseQueue,O=x.pending;if(O!==null){if(w!==null){var Y=w.next;w.next=O.next,O.next=Y}c.baseQueue=w=O,x.pending=null}if(O=o.baseState,w===null)o.memoizedState=O;else{c=w.next;var se=Y=null,we=null,Re=c,Xe=!1;do{var Ze=Re.lane&-536870913;if(Ze!==Re.lane?(qt&Ze)===Ze:(Cs&Ze)===Ze){var Fe=Re.revertLane;if(Fe===0)we!==null&&(we=we.next={lane:0,revertLane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Ze===Sl&&(Xe=!0);else if((Cs&Fe)===Fe){Re=Re.next,Fe===Sl&&(Xe=!0);continue}else Ze={lane:0,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},we===null?(se=we=Ze,Y=O):we=we.next=Ze,Dt.lanes|=Fe,Is|=Fe;Ze=Re.action,So&&h(O,Ze),O=Re.hasEagerState?Re.eagerState:h(O,Ze)}else Fe={lane:Ze,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},we===null?(se=we=Fe,Y=O):we=we.next=Fe,Dt.lanes|=Ze,Is|=Ze;Re=Re.next}while(Re!==null&&Re!==c);if(we===null?Y=O:we.next=se,!ra(O,o.memoizedState)&&(Zr=!0,Xe&&(h=Nl,h!==null)))throw h;o.memoizedState=O,o.baseState=Y,o.baseQueue=we,x.lastRenderedState=O}return w===null&&(x.lanes=0),[o.memoizedState,x.dispatch]}function Bx(o){var c=zr(),h=c.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=o;var x=h.dispatch,w=h.pending,O=c.memoizedState;if(w!==null){h.pending=null;var Y=w=w.next;do O=o(O,Y.action),Y=Y.next;while(Y!==w);ra(O,c.memoizedState)||(Zr=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),h.lastRenderedState=O}return[O,x]}function FN(o,c,h){var x=Dt,w=zr(),O=Kt;if(O){if(h===void 0)throw Error(a(407));h=h()}else h=c();var Y=!ra((dr||w).memoizedState,h);Y&&(w.memoizedState=h,Zr=!0),w=w.queue;var se=$N.bind(null,x,w,o);if(_d(2048,8,se,[o]),w.getSnapshot!==c||Y||Lr!==null&&Lr.memoizedState.tag&1){if(x.flags|=2048,El(9,yh(),zN.bind(null,x,w,h,c),null),vr===null)throw Error(a(349));O||(Cs&124)!==0||LN(x,c,h)}return h}function LN(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=Dt.updateQueue,c===null?(c=Rx(),Dt.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function zN(o,c,h,x){c.value=h,c.getSnapshot=x,UN(c)&&qN(o)}function $N(o,c,h){return h(function(){UN(c)&&qN(o)})}function UN(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!ra(o,h)}catch{return!0}}function qN(o){var c=vl(o,2);c!==null&&la(c,o,2)}function Fx(o){var c=Un();if(typeof o=="function"){var h=o;if(o=h(),So){ye(!0);try{h()}finally{ye(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:o},c}function WN(o,c,h,x){return o.baseState=h,Mx(o,dr,typeof x=="function"?x:Pi)}function rB(o,c,h,x,w){if(bh(o))throw Error(a(485));if(o=c.action,o!==null){var O={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){O.listeners.push(Y)}};R.T!==null?h(!0):O.isTransition=!1,x(O),h=c.pending,h===null?(O.next=c.pending=O,HN(c,O)):(O.next=h.next,c.pending=h.next=O)}}function HN(o,c){var h=c.action,x=c.payload,w=o.state;if(c.isTransition){var O=R.T,Y={};R.T=Y;try{var se=h(w,x),we=R.S;we!==null&&we(Y,se),GN(o,c,se)}catch(Re){Lx(o,c,Re)}finally{R.T=O}}else try{O=h(w,x),GN(o,c,O)}catch(Re){Lx(o,c,Re)}}function GN(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){VN(o,c,x)},function(x){return Lx(o,c,x)}):VN(o,c,h)}function VN(o,c,h){c.status="fulfilled",c.value=h,YN(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,HN(o,h)))}function Lx(o,c,h){var x=o.pending;if(o.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=h,YN(c),c=c.next;while(c!==x)}o.action=null}function YN(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function XN(o,c){return c}function KN(o,c){if(Kt){var h=vr.formState;if(h!==null){e:{var x=Dt;if(Kt){if(_r){t:{for(var w=_r,O=fi;w.nodeType!==8;){if(!O){w=null;break t}if(w=Ga(w.nextSibling),w===null){w=null;break t}}O=w.data,w=O==="F!"||O==="F"?w:null}if(w){_r=Ga(w.nextSibling),x=w.data==="F!";break e}}vo(x)}x=!1}x&&(c=h[0])}}return h=Un(),h.memoizedState=h.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XN,lastRenderedState:c},h.queue=x,h=mT.bind(null,Dt,x),x.dispatch=h,x=Fx(!1),O=Wx.bind(null,Dt,!1,x.queue),x=Un(),w={state:c,dispatch:null,action:o,pending:null},x.queue=w,h=rB.bind(null,Dt,w,O,h),w.dispatch=h,x.memoizedState=o,[c,h,!1]}function QN(o){var c=zr();return ZN(c,dr,o)}function ZN(o,c,h){if(c=Mx(o,c,XN)[0],o=gh(Pi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=Ed(c)}catch(Y){throw Y===wd?uh:Y}else x=c;c=zr();var w=c.queue,O=w.dispatch;return h!==c.memoizedState&&(Dt.flags|=2048,El(9,yh(),nB.bind(null,w,h),null)),[x,O,o]}function nB(o,c){o.action=c}function JN(o){var c=zr(),h=dr;if(h!==null)return ZN(c,h,o);zr(),c=c.memoizedState,h=zr();var x=h.queue.dispatch;return h.memoizedState=o,[c,x,!1]}function El(o,c,h,x){return o={tag:o,create:h,deps:x,inst:c,next:null},c=Dt.updateQueue,c===null&&(c=Rx(),Dt.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,c.lastEffect=o),o}function yh(){return{destroy:void 0,resource:void 0}}function eT(){return zr().memoizedState}function vh(o,c,h,x){var w=Un();x=x===void 0?null:x,Dt.flags|=o,w.memoizedState=El(1|c,yh(),h,x)}function _d(o,c,h,x){var w=zr();x=x===void 0?null:x;var O=w.memoizedState.inst;dr!==null&&x!==null&&_x(x,dr.memoizedState.deps)?w.memoizedState=El(c,O,h,x):(Dt.flags|=o,w.memoizedState=El(1|c,O,h,x))}function tT(o,c){vh(8390656,8,o,c)}function rT(o,c){_d(2048,8,o,c)}function nT(o,c){return _d(4,2,o,c)}function aT(o,c){return _d(4,4,o,c)}function iT(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function sT(o,c,h){h=h!=null?h.concat([o]):null,_d(4,4,iT.bind(null,c,o),h)}function zx(){}function oT(o,c){var h=zr();c=c===void 0?null:c;var x=h.memoizedState;return c!==null&&_x(c,x[1])?x[0]:(h.memoizedState=[o,c],o)}function lT(o,c){var h=zr();c=c===void 0?null:c;var x=h.memoizedState;if(c!==null&&_x(c,x[1]))return x[0];if(x=o(),So){ye(!0);try{o()}finally{ye(!1)}}return h.memoizedState=[x,c],x}function $x(o,c,h){return h===void 0||(Cs&1073741824)!==0?o.memoizedState=c:(o.memoizedState=h,o=uC(),Dt.lanes|=o,Is|=o,h)}function cT(o,c,h,x){return ra(h,c)?h:Tl.current!==null?(o=$x(o,h,x),ra(o,c)||(Zr=!0),o):(Cs&42)===0?(Zr=!0,o.memoizedState=h):(o=uC(),Dt.lanes|=o,Is|=o,c)}function dT(o,c,h,x,w){var O=H.p;H.p=O!==0&&8>O?O:8;var Y=R.T,se={};R.T=se,Wx(o,!1,c,h);try{var we=w(),Re=R.S;if(Re!==null&&Re(se,we),we!==null&&typeof we=="object"&&typeof we.then=="function"){var Xe=JM(we,x);Od(o,c,Xe,oa(o))}else Od(o,c,x,oa(o))}catch(Ze){Od(o,c,{then:function(){},status:"rejected",reason:Ze},oa())}finally{H.p=O,R.T=Y}}function aB(){}function Ux(o,c,h,x){if(o.tag!==5)throw Error(a(476));var w=uT(o).queue;dT(o,w,c,ne,h===null?aB:function(){return fT(o),h(x)})}function uT(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ne},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function fT(o){var c=uT(o).next.queue;Od(o,c,{},oa())}function qx(){return wn(Yd)}function hT(){return zr().memoizedState}function pT(){return zr().memoizedState}function iB(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=oa();o=Ns(h);var x=Ts(c,o,h);x!==null&&(la(x,c,h),Nd(x,c,h)),c={cache:vx()},o.payload=c;return}c=c.return}}function sB(o,c,h){var x=oa();h={lane:x,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},bh(o)?xT(c,h):(h=cx(o,c,h,x),h!==null&&(la(h,o,x),gT(h,c,x)))}function mT(o,c,h){var x=oa();Od(o,c,h,x)}function Od(o,c,h,x){var w={lane:x,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(bh(o))xT(c,w);else{var O=o.alternate;if(o.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var Y=c.lastRenderedState,se=O(Y,h);if(w.hasEagerState=!0,w.eagerState=se,ra(se,Y))return nh(o,c,w,0),vr===null&&rh(),!1}catch{}finally{}if(h=cx(o,c,w,x),h!==null)return la(h,o,x),gT(h,c,x),!0}return!1}function Wx(o,c,h,x){if(x={lane:2,revertLane:wg(),action:x,hasEagerState:!1,eagerState:null,next:null},bh(o)){if(c)throw Error(a(479))}else c=cx(o,h,x,2),c!==null&&la(c,o,2)}function bh(o){var c=o.alternate;return o===Dt||c!==null&&c===Dt}function xT(o,c){Cl=ph=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function gT(o,c,h){if((h&4194048)!==0){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,ln(o,h)}}var jh={readContext:wn,use:xh,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useLayoutEffect:Pr,useInsertionEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useSyncExternalStore:Pr,useId:Pr,useHostTransitionStatus:Pr,useFormState:Pr,useActionState:Pr,useOptimistic:Pr,useMemoCache:Pr,useCacheRefresh:Pr},yT={readContext:wn,use:xh,useCallback:function(o,c){return Un().memoizedState=[o,c===void 0?null:c],o},useContext:wn,useEffect:tT,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,vh(4194308,4,iT.bind(null,c,o),h)},useLayoutEffect:function(o,c){return vh(4194308,4,o,c)},useInsertionEffect:function(o,c){vh(4,2,o,c)},useMemo:function(o,c){var h=Un();c=c===void 0?null:c;var x=o();if(So){ye(!0);try{o()}finally{ye(!1)}}return h.memoizedState=[x,c],x},useReducer:function(o,c,h){var x=Un();if(h!==void 0){var w=h(c);if(So){ye(!0);try{h(c)}finally{ye(!1)}}}else w=c;return x.memoizedState=x.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},x.queue=o,o=o.dispatch=sB.bind(null,Dt,o),[x.memoizedState,o]},useRef:function(o){var c=Un();return o={current:o},c.memoizedState=o},useState:function(o){o=Fx(o);var c=o.queue,h=mT.bind(null,Dt,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:zx,useDeferredValue:function(o,c){var h=Un();return $x(h,o,c)},useTransition:function(){var o=Fx(!1);return o=dT.bind(null,Dt,o.queue,!0,!1),Un().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var x=Dt,w=Un();if(Kt){if(h===void 0)throw Error(a(407));h=h()}else{if(h=c(),vr===null)throw Error(a(349));(qt&124)!==0||LN(x,c,h)}w.memoizedState=h;var O={value:h,getSnapshot:c};return w.queue=O,tT($N.bind(null,x,O,o),[o]),x.flags|=2048,El(9,yh(),zN.bind(null,x,O,h,c),null),h},useId:function(){var o=Un(),c=vr.identifierPrefix;if(Kt){var h=Di,x=ki;h=(x&~(1<<32-de(x)-1)).toString(32)+h,c=""+c+"R"+h,h=mh++,0<h&&(c+="H"+h.toString(32)),c+=""}else h=eB++,c=""+c+"r"+h.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:qx,useFormState:KN,useActionState:KN,useOptimistic:function(o){var c=Un();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=Wx.bind(null,Dt,!0,h),h.dispatch=c,[o,c]},useMemoCache:Px,useCacheRefresh:function(){return Un().memoizedState=iB.bind(null,Dt)}},vT={readContext:wn,use:xh,useCallback:oT,useContext:wn,useEffect:rT,useImperativeHandle:sT,useInsertionEffect:nT,useLayoutEffect:aT,useMemo:lT,useReducer:gh,useRef:eT,useState:function(){return gh(Pi)},useDebugValue:zx,useDeferredValue:function(o,c){var h=zr();return cT(h,dr.memoizedState,o,c)},useTransition:function(){var o=gh(Pi)[0],c=zr().memoizedState;return[typeof o=="boolean"?o:Ed(o),c]},useSyncExternalStore:FN,useId:hT,useHostTransitionStatus:qx,useFormState:QN,useActionState:QN,useOptimistic:function(o,c){var h=zr();return WN(h,dr,o,c)},useMemoCache:Px,useCacheRefresh:pT},oB={readContext:wn,use:xh,useCallback:oT,useContext:wn,useEffect:rT,useImperativeHandle:sT,useInsertionEffect:nT,useLayoutEffect:aT,useMemo:lT,useReducer:Bx,useRef:eT,useState:function(){return Bx(Pi)},useDebugValue:zx,useDeferredValue:function(o,c){var h=zr();return dr===null?$x(h,o,c):cT(h,dr.memoizedState,o,c)},useTransition:function(){var o=Bx(Pi)[0],c=zr().memoizedState;return[typeof o=="boolean"?o:Ed(o),c]},useSyncExternalStore:FN,useId:hT,useHostTransitionStatus:qx,useFormState:JN,useActionState:JN,useOptimistic:function(o,c){var h=zr();return dr!==null?WN(h,dr,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Px,useCacheRefresh:pT},_l=null,kd=0;function wh(o){var c=kd;return kd+=1,_l===null&&(_l=[]),ON(_l,o,c)}function Dd(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Sh(o,c){throw c.$$typeof===m?Error(a(525)):(o=Object.prototype.toString.call(c),Error(a(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function bT(o){var c=o._init;return c(o._payload)}function jT(o){function c(Oe,Ce){if(o){var Ie=Oe.deletions;Ie===null?(Oe.deletions=[Ce],Oe.flags|=16):Ie.push(Ce)}}function h(Oe,Ce){if(!o)return null;for(;Ce!==null;)c(Oe,Ce),Ce=Ce.sibling;return null}function x(Oe){for(var Ce=new Map;Oe!==null;)Oe.key!==null?Ce.set(Oe.key,Oe):Ce.set(Oe.index,Oe),Oe=Oe.sibling;return Ce}function w(Oe,Ce){return Oe=Oi(Oe,Ce),Oe.index=0,Oe.sibling=null,Oe}function O(Oe,Ce,Ie){return Oe.index=Ie,o?(Ie=Oe.alternate,Ie!==null?(Ie=Ie.index,Ie<Ce?(Oe.flags|=67108866,Ce):Ie):(Oe.flags|=67108866,Ce)):(Oe.flags|=1048576,Ce)}function Y(Oe){return o&&Oe.alternate===null&&(Oe.flags|=67108866),Oe}function se(Oe,Ce,Ie,Ke){return Ce===null||Ce.tag!==6?(Ce=ux(Ie,Oe.mode,Ke),Ce.return=Oe,Ce):(Ce=w(Ce,Ie),Ce.return=Oe,Ce)}function we(Oe,Ce,Ie,Ke){var mt=Ie.type;return mt===j?Xe(Oe,Ce,Ie.props.children,Ke,Ie.key):Ce!==null&&(Ce.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===B&&bT(mt)===Ce.type)?(Ce=w(Ce,Ie.props),Dd(Ce,Ie),Ce.return=Oe,Ce):(Ce=ih(Ie.type,Ie.key,Ie.props,null,Oe.mode,Ke),Dd(Ce,Ie),Ce.return=Oe,Ce)}function Re(Oe,Ce,Ie,Ke){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Ie.containerInfo||Ce.stateNode.implementation!==Ie.implementation?(Ce=fx(Ie,Oe.mode,Ke),Ce.return=Oe,Ce):(Ce=w(Ce,Ie.children||[]),Ce.return=Oe,Ce)}function Xe(Oe,Ce,Ie,Ke,mt){return Ce===null||Ce.tag!==7?(Ce=mo(Ie,Oe.mode,Ke,mt),Ce.return=Oe,Ce):(Ce=w(Ce,Ie),Ce.return=Oe,Ce)}function Ze(Oe,Ce,Ie){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=ux(""+Ce,Oe.mode,Ie),Ce.return=Oe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case g:return Ie=ih(Ce.type,Ce.key,Ce.props,null,Oe.mode,Ie),Dd(Ie,Ce),Ie.return=Oe,Ie;case v:return Ce=fx(Ce,Oe.mode,Ie),Ce.return=Oe,Ce;case B:var Ke=Ce._init;return Ce=Ke(Ce._payload),Ze(Oe,Ce,Ie)}if(D(Ce)||_(Ce))return Ce=mo(Ce,Oe.mode,Ie,null),Ce.return=Oe,Ce;if(typeof Ce.then=="function")return Ze(Oe,wh(Ce),Ie);if(Ce.$$typeof===E)return Ze(Oe,ch(Oe,Ce),Ie);Sh(Oe,Ce)}return null}function Fe(Oe,Ce,Ie,Ke){var mt=Ce!==null?Ce.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return mt!==null?null:se(Oe,Ce,""+Ie,Ke);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case g:return Ie.key===mt?we(Oe,Ce,Ie,Ke):null;case v:return Ie.key===mt?Re(Oe,Ce,Ie,Ke):null;case B:return mt=Ie._init,Ie=mt(Ie._payload),Fe(Oe,Ce,Ie,Ke)}if(D(Ie)||_(Ie))return mt!==null?null:Xe(Oe,Ce,Ie,Ke,null);if(typeof Ie.then=="function")return Fe(Oe,Ce,wh(Ie),Ke);if(Ie.$$typeof===E)return Fe(Oe,Ce,ch(Oe,Ie),Ke);Sh(Oe,Ie)}return null}function $e(Oe,Ce,Ie,Ke,mt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Oe=Oe.get(Ie)||null,se(Ce,Oe,""+Ke,mt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case g:return Oe=Oe.get(Ke.key===null?Ie:Ke.key)||null,we(Ce,Oe,Ke,mt);case v:return Oe=Oe.get(Ke.key===null?Ie:Ke.key)||null,Re(Ce,Oe,Ke,mt);case B:var Rt=Ke._init;return Ke=Rt(Ke._payload),$e(Oe,Ce,Ie,Ke,mt)}if(D(Ke)||_(Ke))return Oe=Oe.get(Ie)||null,Xe(Ce,Oe,Ke,mt,null);if(typeof Ke.then=="function")return $e(Oe,Ce,Ie,wh(Ke),mt);if(Ke.$$typeof===E)return $e(Oe,Ce,Ie,ch(Ce,Ke),mt);Sh(Ce,Ke)}return null}function Nt(Oe,Ce,Ie,Ke){for(var mt=null,Rt=null,gt=Ce,wt=Ce=0,en=null;gt!==null&&wt<Ie.length;wt++){gt.index>wt?(en=gt,gt=null):en=gt.sibling;var Ht=Fe(Oe,gt,Ie[wt],Ke);if(Ht===null){gt===null&&(gt=en);break}o&&gt&&Ht.alternate===null&&c(Oe,gt),Ce=O(Ht,Ce,wt),Rt===null?mt=Ht:Rt.sibling=Ht,Rt=Ht,gt=en}if(wt===Ie.length)return h(Oe,gt),Kt&&go(Oe,wt),mt;if(gt===null){for(;wt<Ie.length;wt++)gt=Ze(Oe,Ie[wt],Ke),gt!==null&&(Ce=O(gt,Ce,wt),Rt===null?mt=gt:Rt.sibling=gt,Rt=gt);return Kt&&go(Oe,wt),mt}for(gt=x(gt);wt<Ie.length;wt++)en=$e(gt,Oe,wt,Ie[wt],Ke),en!==null&&(o&&en.alternate!==null&&gt.delete(en.key===null?wt:en.key),Ce=O(en,Ce,wt),Rt===null?mt=en:Rt.sibling=en,Rt=en);return o&&gt.forEach(function(Us){return c(Oe,Us)}),Kt&&go(Oe,wt),mt}function bt(Oe,Ce,Ie,Ke){if(Ie==null)throw Error(a(151));for(var mt=null,Rt=null,gt=Ce,wt=Ce=0,en=null,Ht=Ie.next();gt!==null&&!Ht.done;wt++,Ht=Ie.next()){gt.index>wt?(en=gt,gt=null):en=gt.sibling;var Us=Fe(Oe,gt,Ht.value,Ke);if(Us===null){gt===null&&(gt=en);break}o&&gt&&Us.alternate===null&&c(Oe,gt),Ce=O(Us,Ce,wt),Rt===null?mt=Us:Rt.sibling=Us,Rt=Us,gt=en}if(Ht.done)return h(Oe,gt),Kt&&go(Oe,wt),mt;if(gt===null){for(;!Ht.done;wt++,Ht=Ie.next())Ht=Ze(Oe,Ht.value,Ke),Ht!==null&&(Ce=O(Ht,Ce,wt),Rt===null?mt=Ht:Rt.sibling=Ht,Rt=Ht);return Kt&&go(Oe,wt),mt}for(gt=x(gt);!Ht.done;wt++,Ht=Ie.next())Ht=$e(gt,Oe,wt,Ht.value,Ke),Ht!==null&&(o&&Ht.alternate!==null&&gt.delete(Ht.key===null?wt:Ht.key),Ce=O(Ht,Ce,wt),Rt===null?mt=Ht:Rt.sibling=Ht,Rt=Ht);return o&&gt.forEach(function(lF){return c(Oe,lF)}),Kt&&go(Oe,wt),mt}function fr(Oe,Ce,Ie,Ke){if(typeof Ie=="object"&&Ie!==null&&Ie.type===j&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case g:e:{for(var mt=Ie.key;Ce!==null;){if(Ce.key===mt){if(mt=Ie.type,mt===j){if(Ce.tag===7){h(Oe,Ce.sibling),Ke=w(Ce,Ie.props.children),Ke.return=Oe,Oe=Ke;break e}}else if(Ce.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===B&&bT(mt)===Ce.type){h(Oe,Ce.sibling),Ke=w(Ce,Ie.props),Dd(Ke,Ie),Ke.return=Oe,Oe=Ke;break e}h(Oe,Ce);break}else c(Oe,Ce);Ce=Ce.sibling}Ie.type===j?(Ke=mo(Ie.props.children,Oe.mode,Ke,Ie.key),Ke.return=Oe,Oe=Ke):(Ke=ih(Ie.type,Ie.key,Ie.props,null,Oe.mode,Ke),Dd(Ke,Ie),Ke.return=Oe,Oe=Ke)}return Y(Oe);case v:e:{for(mt=Ie.key;Ce!==null;){if(Ce.key===mt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Ie.containerInfo&&Ce.stateNode.implementation===Ie.implementation){h(Oe,Ce.sibling),Ke=w(Ce,Ie.children||[]),Ke.return=Oe,Oe=Ke;break e}else{h(Oe,Ce);break}else c(Oe,Ce);Ce=Ce.sibling}Ke=fx(Ie,Oe.mode,Ke),Ke.return=Oe,Oe=Ke}return Y(Oe);case B:return mt=Ie._init,Ie=mt(Ie._payload),fr(Oe,Ce,Ie,Ke)}if(D(Ie))return Nt(Oe,Ce,Ie,Ke);if(_(Ie)){if(mt=_(Ie),typeof mt!="function")throw Error(a(150));return Ie=mt.call(Ie),bt(Oe,Ce,Ie,Ke)}if(typeof Ie.then=="function")return fr(Oe,Ce,wh(Ie),Ke);if(Ie.$$typeof===E)return fr(Oe,Ce,ch(Oe,Ie),Ke);Sh(Oe,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,Ce!==null&&Ce.tag===6?(h(Oe,Ce.sibling),Ke=w(Ce,Ie),Ke.return=Oe,Oe=Ke):(h(Oe,Ce),Ke=ux(Ie,Oe.mode,Ke),Ke.return=Oe,Oe=Ke),Y(Oe)):h(Oe,Ce)}return function(Oe,Ce,Ie,Ke){try{kd=0;var mt=fr(Oe,Ce,Ie,Ke);return _l=null,mt}catch(gt){if(gt===wd||gt===uh)throw gt;var Rt=na(29,gt,null,Oe.mode);return Rt.lanes=Ke,Rt.return=Oe,Rt}finally{}}}var Ol=jT(!0),wT=jT(!1),Ca=X(null),hi=null;function As(o){var c=o.alternate;te(Vr,Vr.current&1),te(Ca,o),hi===null&&(c===null||Tl.current!==null||c.memoizedState!==null)&&(hi=o)}function ST(o){if(o.tag===22){if(te(Vr,Vr.current),te(Ca,o),hi===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(hi=o)}}else Es()}function Es(){te(Vr,Vr.current),te(Ca,Ca.current)}function Mi(o){z(Ca),hi===o&&(hi=null),z(Vr)}var Vr=X(0);function Nh(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Rg(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Hx(o,c,h,x){c=o.memoizedState,h=h(x,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Gx={enqueueSetState:function(o,c,h){o=o._reactInternals;var x=oa(),w=Ns(x);w.payload=c,h!=null&&(w.callback=h),c=Ts(o,w,x),c!==null&&(la(c,o,x),Nd(c,o,x))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var x=oa(),w=Ns(x);w.tag=1,w.payload=c,h!=null&&(w.callback=h),c=Ts(o,w,x),c!==null&&(la(c,o,x),Nd(c,o,x))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=oa(),x=Ns(h);x.tag=2,c!=null&&(x.callback=c),c=Ts(o,x,h),c!==null&&(la(c,o,h),Nd(c,o,h))}};function NT(o,c,h,x,w,O,Y){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,O,Y):c.prototype&&c.prototype.isPureReactComponent?!pd(h,x)||!pd(w,O):!0}function TT(o,c,h,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,x),c.state!==o&&Gx.enqueueReplaceState(c,c.state,null)}function No(o,c){var h=c;if("ref"in c){h={};for(var x in c)x!=="ref"&&(h[x]=c[x])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var w in o)h[w]===void 0&&(h[w]=o[w])}return h}var Th=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function CT(o){Th(o)}function AT(o){console.error(o)}function ET(o){Th(o)}function Ch(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function _T(o,c,h){try{var x=o.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Vx(o,c,h){return h=Ns(h),h.tag=3,h.payload={element:null},h.callback=function(){Ch(o,c)},h}function OT(o){return o=Ns(o),o.tag=3,o}function kT(o,c,h,x){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var O=x.value;o.payload=function(){return w(O)},o.callback=function(){_T(c,h,x)}}var Y=h.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(o.callback=function(){_T(c,h,x),typeof w!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var se=x.stack;this.componentDidCatch(x.value,{componentStack:se!==null?se:""})})}function lB(o,c,h,x,w){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=h.alternate,c!==null&&vd(c,h,w,!0),h=Ca.current,h!==null){switch(h.tag){case 13:return hi===null?gg():h.alternate===null&&Or===0&&(Or=3),h.flags&=-257,h.flags|=65536,h.lanes=w,x===wx?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([x]):c.add(x),vg(o,x,w)),!1;case 22:return h.flags|=65536,x===wx?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([x]):h.add(x)),vg(o,x,w)),!1}throw Error(a(435,h.tag))}return vg(o,x,w),gg(),!1}if(Kt)return c=Ca.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,x!==mx&&(o=Error(a(422),{cause:x}),yd(wa(o,h)))):(x!==mx&&(c=Error(a(423),{cause:x}),yd(wa(c,h))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,x=wa(x,h),w=Vx(o.stateNode,x,w),Tx(o,w),Or!==4&&(Or=2)),!1;var O=Error(a(520),{cause:x});if(O=wa(O,h),Ld===null?Ld=[O]:Ld.push(O),Or!==4&&(Or=2),c===null)return!0;x=wa(x,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=w&-w,h.lanes|=o,o=Vx(h.stateNode,x,o),Tx(h,o),!1;case 1:if(c=h.type,O=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Rs===null||!Rs.has(O))))return h.flags|=65536,w&=-w,h.lanes|=w,w=OT(w),kT(w,o,h,x),Tx(h,w),!1}h=h.return}while(h!==null);return!1}var DT=Error(a(461)),Zr=!1;function cn(o,c,h,x){c.child=o===null?wT(c,null,h,x):Ol(c,o.child,h,x)}function IT(o,c,h,x,w){h=h.render;var O=c.ref;if("ref"in x){var Y={};for(var se in x)se!=="ref"&&(Y[se]=x[se])}else Y=x;return jo(c),x=Ox(o,c,h,Y,O,w),se=kx(),o!==null&&!Zr?(Dx(o,c,w),Bi(o,c,w)):(Kt&&se&&hx(c),c.flags|=1,cn(o,c,x,w),c.child)}function RT(o,c,h,x,w){if(o===null){var O=h.type;return typeof O=="function"&&!dx(O)&&O.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=O,PT(o,c,O,x,w)):(o=ih(h.type,null,x,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(O=o.child,!tg(o,w)){var Y=O.memoizedProps;if(h=h.compare,h=h!==null?h:pd,h(Y,x)&&o.ref===c.ref)return Bi(o,c,w)}return c.flags|=1,o=Oi(O,x),o.ref=c.ref,o.return=c,c.child=o}function PT(o,c,h,x,w){if(o!==null){var O=o.memoizedProps;if(pd(O,x)&&o.ref===c.ref)if(Zr=!1,c.pendingProps=x=O,tg(o,w))(o.flags&131072)!==0&&(Zr=!0);else return c.lanes=o.lanes,Bi(o,c,w)}return Yx(o,c,h,x,w)}function MT(o,c,h){var x=c.pendingProps,w=x.children,O=o!==null?o.memoizedState:null;if(x.mode==="hidden"){if((c.flags&128)!==0){if(x=O!==null?O.baseLanes|h:h,o!==null){for(w=c.child=o.child,O=0;w!==null;)O=O|w.lanes|w.childLanes,w=w.sibling;c.childLanes=O&~x}else c.childLanes=0,c.child=null;return BT(o,c,x,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&dh(c,O!==null?O.cachePool:null),O!==null?PN(c,O):Ax(),ST(c);else return c.lanes=c.childLanes=536870912,BT(o,c,O!==null?O.baseLanes|h:h,h)}else O!==null?(dh(c,O.cachePool),PN(c,O),Es(),c.memoizedState=null):(o!==null&&dh(c,null),Ax(),Es());return cn(o,c,w,h),c.child}function BT(o,c,h,x){var w=jx();return w=w===null?null:{parent:Gr._currentValue,pool:w},c.memoizedState={baseLanes:h,cachePool:w},o!==null&&dh(c,null),Ax(),ST(c),o!==null&&vd(o,c,x,!0),null}function Ah(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(a(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function Yx(o,c,h,x,w){return jo(c),h=Ox(o,c,h,x,void 0,w),x=kx(),o!==null&&!Zr?(Dx(o,c,w),Bi(o,c,w)):(Kt&&x&&hx(c),c.flags|=1,cn(o,c,h,w),c.child)}function FT(o,c,h,x,w,O){return jo(c),c.updateQueue=null,h=BN(c,x,h,w),MN(o),x=kx(),o!==null&&!Zr?(Dx(o,c,O),Bi(o,c,O)):(Kt&&x&&hx(c),c.flags|=1,cn(o,c,h,O),c.child)}function LT(o,c,h,x,w){if(jo(c),c.stateNode===null){var O=bl,Y=h.contextType;typeof Y=="object"&&Y!==null&&(O=wn(Y)),O=new h(x,O),c.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Gx,c.stateNode=O,O._reactInternals=c,O=c.stateNode,O.props=x,O.state=c.memoizedState,O.refs={},Sx(c),Y=h.contextType,O.context=typeof Y=="object"&&Y!==null?wn(Y):bl,O.state=c.memoizedState,Y=h.getDerivedStateFromProps,typeof Y=="function"&&(Hx(c,h,Y,x),O.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(Y=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),Y!==O.state&&Gx.enqueueReplaceState(O,O.state,null),Cd(c,x,O,w),Td(),O.state=c.memoizedState),typeof O.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(o===null){O=c.stateNode;var se=c.memoizedProps,we=No(h,se);O.props=we;var Re=O.context,Xe=h.contextType;Y=bl,typeof Xe=="object"&&Xe!==null&&(Y=wn(Xe));var Ze=h.getDerivedStateFromProps;Xe=typeof Ze=="function"||typeof O.getSnapshotBeforeUpdate=="function",se=c.pendingProps!==se,Xe||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(se||Re!==Y)&&TT(c,O,x,Y),Ss=!1;var Fe=c.memoizedState;O.state=Fe,Cd(c,x,O,w),Td(),Re=c.memoizedState,se||Fe!==Re||Ss?(typeof Ze=="function"&&(Hx(c,h,Ze,x),Re=c.memoizedState),(we=Ss||NT(c,h,we,x,Fe,Re,Y))?(Xe||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(c.flags|=4194308)):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=Re),O.props=x,O.state=Re,O.context=Y,x=we):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{O=c.stateNode,Nx(o,c),Y=c.memoizedProps,Xe=No(h,Y),O.props=Xe,Ze=c.pendingProps,Fe=O.context,Re=h.contextType,we=bl,typeof Re=="object"&&Re!==null&&(we=wn(Re)),se=h.getDerivedStateFromProps,(Re=typeof se=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Y!==Ze||Fe!==we)&&TT(c,O,x,we),Ss=!1,Fe=c.memoizedState,O.state=Fe,Cd(c,x,O,w),Td();var $e=c.memoizedState;Y!==Ze||Fe!==$e||Ss||o!==null&&o.dependencies!==null&&lh(o.dependencies)?(typeof se=="function"&&(Hx(c,h,se,x),$e=c.memoizedState),(Xe=Ss||NT(c,h,Xe,x,Fe,$e,we)||o!==null&&o.dependencies!==null&&lh(o.dependencies))?(Re||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,$e,we),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,$e,we)),typeof O.componentDidUpdate=="function"&&(c.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof O.componentDidUpdate!="function"||Y===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Y===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=$e),O.props=x,O.state=$e,O.context=we,x=Xe):(typeof O.componentDidUpdate!="function"||Y===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Y===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=1024),x=!1)}return O=x,Ah(o,c),x=(c.flags&128)!==0,O||x?(O=c.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:O.render(),c.flags|=1,o!==null&&x?(c.child=Ol(c,o.child,null,w),c.child=Ol(c,null,h,w)):cn(o,c,h,w),c.memoizedState=O.state,o=c.child):o=Bi(o,c,w),o}function zT(o,c,h,x){return gd(),c.flags|=256,cn(o,c,h,x),c.child}var Xx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kx(o){return{baseLanes:o,cachePool:AN()}}function Qx(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Aa),o}function $T(o,c,h){var x=c.pendingProps,w=!1,O=(c.flags&128)!==0,Y;if((Y=O)||(Y=o!==null&&o.memoizedState===null?!1:(Vr.current&2)!==0),Y&&(w=!0,c.flags&=-129),Y=(c.flags&32)!==0,c.flags&=-33,o===null){if(Kt){if(w?As(c):Es(),Kt){var se=_r,we;if(we=se){e:{for(we=se,se=fi;we.nodeType!==8;){if(!se){se=null;break e}if(we=Ga(we.nextSibling),we===null){se=null;break e}}se=we}se!==null?(c.memoizedState={dehydrated:se,treeContext:xo!==null?{id:ki,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},we=na(18,null,null,0),we.stateNode=se,we.return=c,c.child=we,kn=c,_r=null,we=!0):we=!1}we||vo(c)}if(se=c.memoizedState,se!==null&&(se=se.dehydrated,se!==null))return Rg(se)?c.lanes=32:c.lanes=536870912,null;Mi(c)}return se=x.children,x=x.fallback,w?(Es(),w=c.mode,se=Eh({mode:"hidden",children:se},w),x=mo(x,w,h,null),se.return=c,x.return=c,se.sibling=x,c.child=se,w=c.child,w.memoizedState=Kx(h),w.childLanes=Qx(o,Y,h),c.memoizedState=Xx,x):(As(c),Zx(c,se))}if(we=o.memoizedState,we!==null&&(se=we.dehydrated,se!==null)){if(O)c.flags&256?(As(c),c.flags&=-257,c=Jx(o,c,h)):c.memoizedState!==null?(Es(),c.child=o.child,c.flags|=128,c=null):(Es(),w=x.fallback,se=c.mode,x=Eh({mode:"visible",children:x.children},se),w=mo(w,se,h,null),w.flags|=2,x.return=c,w.return=c,x.sibling=w,c.child=x,Ol(c,o.child,null,h),x=c.child,x.memoizedState=Kx(h),x.childLanes=Qx(o,Y,h),c.memoizedState=Xx,c=w);else if(As(c),Rg(se)){if(Y=se.nextSibling&&se.nextSibling.dataset,Y)var Re=Y.dgst;Y=Re,x=Error(a(419)),x.stack="",x.digest=Y,yd({value:x,source:null,stack:null}),c=Jx(o,c,h)}else if(Zr||vd(o,c,h,!1),Y=(h&o.childLanes)!==0,Zr||Y){if(Y=vr,Y!==null&&(x=h&-h,x=(x&42)!==0?1:Pt(x),x=(x&(Y.suspendedLanes|h))!==0?0:x,x!==0&&x!==we.retryLane))throw we.retryLane=x,vl(o,x),la(Y,o,x),DT;se.data==="$?"||gg(),c=Jx(o,c,h)}else se.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=we.treeContext,_r=Ga(se.nextSibling),kn=c,Kt=!0,yo=null,fi=!1,o!==null&&(Na[Ta++]=ki,Na[Ta++]=Di,Na[Ta++]=xo,ki=o.id,Di=o.overflow,xo=c),c=Zx(c,x.children),c.flags|=4096);return c}return w?(Es(),w=x.fallback,se=c.mode,we=o.child,Re=we.sibling,x=Oi(we,{mode:"hidden",children:x.children}),x.subtreeFlags=we.subtreeFlags&65011712,Re!==null?w=Oi(Re,w):(w=mo(w,se,h,null),w.flags|=2),w.return=c,x.return=c,x.sibling=w,c.child=x,x=w,w=c.child,se=o.child.memoizedState,se===null?se=Kx(h):(we=se.cachePool,we!==null?(Re=Gr._currentValue,we=we.parent!==Re?{parent:Re,pool:Re}:we):we=AN(),se={baseLanes:se.baseLanes|h,cachePool:we}),w.memoizedState=se,w.childLanes=Qx(o,Y,h),c.memoizedState=Xx,x):(As(c),h=o.child,o=h.sibling,h=Oi(h,{mode:"visible",children:x.children}),h.return=c,h.sibling=null,o!==null&&(Y=c.deletions,Y===null?(c.deletions=[o],c.flags|=16):Y.push(o)),c.child=h,c.memoizedState=null,h)}function Zx(o,c){return c=Eh({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Eh(o,c){return o=na(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Jx(o,c,h){return Ol(c,o.child,null,h),o=Zx(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function UT(o,c,h){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),gx(o.return,c,h)}function eg(o,c,h,x,w){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:w}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=h,O.tailMode=w)}function qT(o,c,h){var x=c.pendingProps,w=x.revealOrder,O=x.tail;if(cn(o,c,x.children,h),x=Vr.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&UT(o,h,c);else if(o.tag===19)UT(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}switch(te(Vr,x),w){case"forwards":for(h=c.child,w=null;h!==null;)o=h.alternate,o!==null&&Nh(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),eg(c,!1,w,h,O);break;case"backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&Nh(o)===null){c.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}eg(c,!0,h,null,O);break;case"together":eg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Bi(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),Is|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(vd(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(a(153));if(c.child!==null){for(o=c.child,h=Oi(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Oi(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function tg(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&lh(o)))}function cB(o,c,h){switch(c.tag){case 3:je(c,c.stateNode.containerInfo),ws(c,Gr,o.memoizedState.cache),gd();break;case 27:case 5:ve(c);break;case 4:je(c,c.stateNode.containerInfo);break;case 10:ws(c,c.type,c.memoizedProps.value);break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(As(c),c.flags|=128,null):(h&c.child.childLanes)!==0?$T(o,c,h):(As(c),o=Bi(o,c,h),o!==null?o.sibling:null);As(c);break;case 19:var w=(o.flags&128)!==0;if(x=(h&c.childLanes)!==0,x||(vd(o,c,h,!1),x=(h&c.childLanes)!==0),w){if(x)return qT(o,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),te(Vr,Vr.current),x)break;return null;case 22:case 23:return c.lanes=0,MT(o,c,h);case 24:ws(c,Gr,o.memoizedState.cache)}return Bi(o,c,h)}function WT(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Zr=!0;else{if(!tg(o,h)&&(c.flags&128)===0)return Zr=!1,cB(o,c,h);Zr=(o.flags&131072)!==0}else Zr=!1,Kt&&(c.flags&1048576)!==0&&bN(c,oh,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var x=c.elementType,w=x._init;if(x=w(x._payload),c.type=x,typeof x=="function")dx(x)?(o=No(x,o),c.tag=1,c=LT(null,c,x,o,h)):(c.tag=0,c=Yx(null,c,x,o,h));else{if(x!=null){if(w=x.$$typeof,w===S){c.tag=11,c=IT(null,c,x,o,h);break e}else if(w===I){c.tag=14,c=RT(null,c,x,o,h);break e}}throw c=P(x)||x,Error(a(306,c,""))}}return c;case 0:return Yx(o,c,c.type,c.pendingProps,h);case 1:return x=c.type,w=No(x,c.pendingProps),LT(o,c,x,w,h);case 3:e:{if(je(c,c.stateNode.containerInfo),o===null)throw Error(a(387));x=c.pendingProps;var O=c.memoizedState;w=O.element,Nx(o,c),Cd(c,x,null,h);var Y=c.memoizedState;if(x=Y.cache,ws(c,Gr,x),x!==O.cache&&yx(c,[Gr],h,!0),Td(),x=Y.element,O.isDehydrated)if(O={element:x,isDehydrated:!1,cache:Y.cache},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){c=zT(o,c,x,h);break e}else if(x!==w){w=wa(Error(a(424)),c),yd(w),c=zT(o,c,x,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(_r=Ga(o.firstChild),kn=c,Kt=!0,yo=null,fi=!0,h=wT(c,null,x,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(gd(),x===w){c=Bi(o,c,h);break e}cn(o,c,x,h)}c=c.child}return c;case 26:return Ah(o,c),o===null?(h=YC(c.type,null,c.pendingProps,null))?c.memoizedState=h:Kt||(h=c.type,o=c.pendingProps,x=Uh(le.current).createElement(h),x[Fr]=c,x[Rr]=o,un(x,h,o),De(x),c.stateNode=x):c.memoizedState=YC(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return ve(c),o===null&&Kt&&(x=c.stateNode=HC(c.type,c.pendingProps,le.current),kn=c,fi=!0,w=_r,Bs(c.type)?(Pg=w,_r=Ga(x.firstChild)):_r=w),cn(o,c,c.pendingProps.children,h),Ah(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Kt&&((w=x=_r)&&(x=BB(x,c.type,c.pendingProps,fi),x!==null?(c.stateNode=x,kn=c,_r=Ga(x.firstChild),fi=!1,w=!0):w=!1),w||vo(c)),ve(c),w=c.type,O=c.pendingProps,Y=o!==null?o.memoizedProps:null,x=O.children,kg(w,O)?x=null:Y!==null&&kg(w,Y)&&(c.flags|=32),c.memoizedState!==null&&(w=Ox(o,c,tB,null,null,h),Yd._currentValue=w),Ah(o,c),cn(o,c,x,h),c.child;case 6:return o===null&&Kt&&((o=h=_r)&&(h=FB(h,c.pendingProps,fi),h!==null?(c.stateNode=h,kn=c,_r=null,o=!0):o=!1),o||vo(c)),null;case 13:return $T(o,c,h);case 4:return je(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=Ol(c,null,x,h):cn(o,c,x,h),c.child;case 11:return IT(o,c,c.type,c.pendingProps,h);case 7:return cn(o,c,c.pendingProps,h),c.child;case 8:return cn(o,c,c.pendingProps.children,h),c.child;case 12:return cn(o,c,c.pendingProps.children,h),c.child;case 10:return x=c.pendingProps,ws(c,c.type,x.value),cn(o,c,x.children,h),c.child;case 9:return w=c.type._context,x=c.pendingProps.children,jo(c),w=wn(w),x=x(w),c.flags|=1,cn(o,c,x,h),c.child;case 14:return RT(o,c,c.type,c.pendingProps,h);case 15:return PT(o,c,c.type,c.pendingProps,h);case 19:return qT(o,c,h);case 31:return x=c.pendingProps,h=c.mode,x={mode:x.mode,children:x.children},o===null?(h=Eh(x,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=Oi(o.child,x),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return MT(o,c,h);case 24:return jo(c),x=wn(Gr),o===null?(w=jx(),w===null&&(w=vr,O=vx(),w.pooledCache=O,O.refCount++,O!==null&&(w.pooledCacheLanes|=h),w=O),c.memoizedState={parent:x,cache:w},Sx(c),ws(c,Gr,w)):((o.lanes&h)!==0&&(Nx(o,c),Cd(c,null,null,h),Td()),w=o.memoizedState,O=c.memoizedState,w.parent!==x?(w={parent:x,cache:x},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),ws(c,Gr,x)):(x=O.cache,ws(c,Gr,x),x!==w.cache&&yx(c,[Gr],h,!0))),cn(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(a(156,c.tag))}function Fi(o){o.flags|=4}function HT(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!JC(c)){if(c=Ca.current,c!==null&&((qt&4194048)===qt?hi!==null:(qt&62914560)!==qt&&(qt&536870912)===0||c!==hi))throw Sd=wx,EN;o.flags|=8192}}function _h(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?lt():536870912,o.lanes|=c,Rl|=c)}function Id(o,c){if(!Kt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Er(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(c)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,x|=w.subtreeFlags&65011712,x|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,x|=w.subtreeFlags,x|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=x,o.childLanes=h,c}function dB(o,c,h){var x=c.pendingProps;switch(px(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(c),null;case 1:return Er(c),null;case 3:return h=c.stateNode,x=null,o!==null&&(x=o.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),Ri(Gr),ie(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(xd(c)?Fi(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,SN())),Er(c),null;case 26:return h=c.memoizedState,o===null?(Fi(c),h!==null?(Er(c),HT(c,h)):(Er(c),c.flags&=-16777217)):h?h!==o.memoizedState?(Fi(c),Er(c),HT(c,h)):(Er(c),c.flags&=-16777217):(o.memoizedProps!==x&&Fi(c),Er(c),c.flags&=-16777217),null;case 27:Ne(c),h=le.current;var w=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==x&&Fi(c);else{if(!x){if(c.stateNode===null)throw Error(a(166));return Er(c),null}o=U.current,xd(c)?jN(c):(o=HC(w,x,h),c.stateNode=o,Fi(c))}return Er(c),null;case 5:if(Ne(c),h=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==x&&Fi(c);else{if(!x){if(c.stateNode===null)throw Error(a(166));return Er(c),null}if(o=U.current,xd(c))jN(c);else{switch(w=Uh(le.current),o){case 1:o=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=w.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof x.is=="string"?w.createElement("select",{is:x.is}):w.createElement("select"),x.multiple?o.multiple=!0:x.size&&(o.size=x.size);break;default:o=typeof x.is=="string"?w.createElement(h,{is:x.is}):w.createElement(h)}}o[Fr]=c,o[Rr]=x;e:for(w=c.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===c)break e;for(;w.sibling===null;){if(w.return===null||w.return===c)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}c.stateNode=o;e:switch(un(o,h,x),h){case"button":case"input":case"select":case"textarea":o=!!x.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Fi(c)}}return Er(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==x&&Fi(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(a(166));if(o=le.current,xd(c)){if(o=c.stateNode,h=c.memoizedProps,x=null,w=kn,w!==null)switch(w.tag){case 27:case 5:x=w.memoizedProps}o[Fr]=c,o=!!(o.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||FC(o.nodeValue,h)),o||vo(c)}else o=Uh(o).createTextNode(x),o[Fr]=c,c.stateNode=o}return Er(c),null;case 13:if(x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=xd(c),x!==null&&x.dehydrated!==null){if(o===null){if(!w)throw Error(a(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(a(317));w[Fr]=c}else gd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Er(c),w=!1}else w=SN(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Mi(c),c):(Mi(c),null)}if(Mi(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=x!==null,o=o!==null&&o.memoizedState!==null,h){x=c.child,w=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(w=x.alternate.memoizedState.cachePool.pool);var O=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(O=x.memoizedState.cachePool.pool),O!==w&&(x.flags|=2048)}return h!==o&&h&&(c.child.flags|=8192),_h(c,c.updateQueue),Er(c),null;case 4:return ie(),o===null&&Cg(c.stateNode.containerInfo),Er(c),null;case 10:return Ri(c.type),Er(c),null;case 19:if(z(Vr),w=c.memoizedState,w===null)return Er(c),null;if(x=(c.flags&128)!==0,O=w.rendering,O===null)if(x)Id(w,!1);else{if(Or!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(O=Nh(o),O!==null){for(c.flags|=128,Id(w,!1),o=O.updateQueue,c.updateQueue=o,_h(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)vN(h,o),h=h.sibling;return te(Vr,Vr.current&1|2),c.child}o=o.sibling}w.tail!==null&&fe()>Dh&&(c.flags|=128,x=!0,Id(w,!1),c.lanes=4194304)}else{if(!x)if(o=Nh(O),o!==null){if(c.flags|=128,x=!0,o=o.updateQueue,c.updateQueue=o,_h(c,o),Id(w,!0),w.tail===null&&w.tailMode==="hidden"&&!O.alternate&&!Kt)return Er(c),null}else 2*fe()-w.renderingStartTime>Dh&&h!==536870912&&(c.flags|=128,x=!0,Id(w,!1),c.lanes=4194304);w.isBackwards?(O.sibling=c.child,c.child=O):(o=w.last,o!==null?o.sibling=O:c.child=O,w.last=O)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=fe(),c.sibling=null,o=Vr.current,te(Vr,x?o&1|2:o&1),c):(Er(c),null);case 22:case 23:return Mi(c),Ex(),x=c.memoizedState!==null,o!==null?o.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(h&536870912)!==0&&(c.flags&128)===0&&(Er(c),c.subtreeFlags&6&&(c.flags|=8192)):Er(c),h=c.updateQueue,h!==null&&_h(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==h&&(c.flags|=2048),o!==null&&z(wo),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Ri(Gr),Er(c),null;case 25:return null;case 30:return null}throw Error(a(156,c.tag))}function uB(o,c){switch(px(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ri(Gr),ie(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ne(c),null;case 13:if(Mi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(a(340));gd()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return z(Vr),null;case 4:return ie(),null;case 10:return Ri(c.type),null;case 22:case 23:return Mi(c),Ex(),o!==null&&z(wo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Ri(Gr),null;case 25:return null;default:return null}}function GT(o,c){switch(px(c),c.tag){case 3:Ri(Gr),ie();break;case 26:case 27:case 5:Ne(c);break;case 4:ie();break;case 13:Mi(c);break;case 19:z(Vr);break;case 10:Ri(c.type);break;case 22:case 23:Mi(c),Ex(),o!==null&&z(wo);break;case 24:Ri(Gr)}}function Rd(o,c){try{var h=c.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var w=x.next;h=w;do{if((h.tag&o)===o){x=void 0;var O=h.create,Y=h.inst;x=O(),Y.destroy=x}h=h.next}while(h!==w)}}catch(se){xr(c,c.return,se)}}function _s(o,c,h){try{var x=c.updateQueue,w=x!==null?x.lastEffect:null;if(w!==null){var O=w.next;x=O;do{if((x.tag&o)===o){var Y=x.inst,se=Y.destroy;if(se!==void 0){Y.destroy=void 0,w=c;var we=h,Re=se;try{Re()}catch(Xe){xr(w,we,Xe)}}}x=x.next}while(x!==O)}}catch(Xe){xr(c,c.return,Xe)}}function VT(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{RN(c,h)}catch(x){xr(o,o.return,x)}}}function YT(o,c,h){h.props=No(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(x){xr(o,c,x)}}function Pd(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var x=o.stateNode;break;case 30:x=o.stateNode;break;default:x=o.stateNode}typeof h=="function"?o.refCleanup=h(x):h.current=x}}catch(w){xr(o,c,w)}}function pi(o,c){var h=o.ref,x=o.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(w){xr(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){xr(o,c,w)}else h.current=null}function XT(o){var c=o.type,h=o.memoizedProps,x=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(w){xr(o,o.return,w)}}function rg(o,c,h){try{var x=o.stateNode;DB(x,o.type,h,c),x[Rr]=c}catch(w){xr(o,o.return,w)}}function KT(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Bs(o.type)||o.tag===4}function ng(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||KT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Bs(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ag(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=$h));else if(x!==4&&(x===27&&Bs(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(ag(o,c,h),o=o.sibling;o!==null;)ag(o,c,h),o=o.sibling}function Oh(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(x!==4&&(x===27&&Bs(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(Oh(o,c,h),o=o.sibling;o!==null;)Oh(o,c,h),o=o.sibling}function QT(o){var c=o.stateNode,h=o.memoizedProps;try{for(var x=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);un(c,x,h),c[Fr]=o,c[Rr]=h}catch(O){xr(o,o.return,O)}}var Li=!1,Mr=!1,ig=!1,ZT=typeof WeakSet=="function"?WeakSet:Set,Jr=null;function fB(o,c){if(o=o.containerInfo,_g=Yh,o=cN(o),nx(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var w=x.anchorOffset,O=x.focusNode;x=x.focusOffset;try{h.nodeType,O.nodeType}catch{h=null;break e}var Y=0,se=-1,we=-1,Re=0,Xe=0,Ze=o,Fe=null;t:for(;;){for(var $e;Ze!==h||w!==0&&Ze.nodeType!==3||(se=Y+w),Ze!==O||x!==0&&Ze.nodeType!==3||(we=Y+x),Ze.nodeType===3&&(Y+=Ze.nodeValue.length),($e=Ze.firstChild)!==null;)Fe=Ze,Ze=$e;for(;;){if(Ze===o)break t;if(Fe===h&&++Re===w&&(se=Y),Fe===O&&++Xe===x&&(we=Y),($e=Ze.nextSibling)!==null)break;Ze=Fe,Fe=Ze.parentNode}Ze=$e}h=se===-1||we===-1?null:{start:se,end:we}}else h=null}h=h||{start:0,end:0}}else h=null;for(Og={focusedElem:o,selectionRange:h},Yh=!1,Jr=c;Jr!==null;)if(c=Jr,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Jr=o;else for(;Jr!==null;){switch(c=Jr,O=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&O!==null){o=void 0,h=c,w=O.memoizedProps,O=O.memoizedState,x=h.stateNode;try{var Nt=No(h.type,w,h.elementType===h.type);o=x.getSnapshotBeforeUpdate(Nt,O),x.__reactInternalSnapshotBeforeUpdate=o}catch(bt){xr(h,h.return,bt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)Ig(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Ig(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(a(163))}if(o=c.sibling,o!==null){o.return=c.return,Jr=o;break}Jr=c.return}}function JT(o,c,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:Os(o,h),x&4&&Rd(5,h);break;case 1:if(Os(o,h),x&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(Y){xr(h,h.return,Y)}else{var w=No(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(Y){xr(h,h.return,Y)}}x&64&&VT(h),x&512&&Pd(h,h.return);break;case 3:if(Os(o,h),x&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{RN(o,c)}catch(Y){xr(h,h.return,Y)}}break;case 27:c===null&&x&4&&QT(h);case 26:case 5:Os(o,h),c===null&&x&4&&XT(h),x&512&&Pd(h,h.return);break;case 12:Os(o,h);break;case 13:Os(o,h),x&4&&rC(o,h),x&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=jB.bind(null,h),LB(o,h))));break;case 22:if(x=h.memoizedState!==null||Li,!x){c=c!==null&&c.memoizedState!==null||Mr,w=Li;var O=Mr;Li=x,(Mr=c)&&!O?ks(o,h,(h.subtreeFlags&8772)!==0):Os(o,h),Li=w,Mr=O}break;case 30:break;default:Os(o,h)}}function eC(o){var c=o.alternate;c!==null&&(o.alternate=null,eC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ue(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Nr=null,qn=!1;function zi(o,c,h){for(h=h.child;h!==null;)tC(o,c,h),h=h.sibling}function tC(o,c,h){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Ge,h)}catch{}switch(h.tag){case 26:Mr||pi(h,c),zi(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Mr||pi(h,c);var x=Nr,w=qn;Bs(h.type)&&(Nr=h.stateNode,qn=!1),zi(o,c,h),Wd(h.stateNode),Nr=x,qn=w;break;case 5:Mr||pi(h,c);case 6:if(x=Nr,w=qn,Nr=null,zi(o,c,h),Nr=x,qn=w,Nr!==null)if(qn)try{(Nr.nodeType===9?Nr.body:Nr.nodeName==="HTML"?Nr.ownerDocument.body:Nr).removeChild(h.stateNode)}catch(O){xr(h,c,O)}else try{Nr.removeChild(h.stateNode)}catch(O){xr(h,c,O)}break;case 18:Nr!==null&&(qn?(o=Nr,qC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Zd(o)):qC(Nr,h.stateNode));break;case 4:x=Nr,w=qn,Nr=h.stateNode.containerInfo,qn=!0,zi(o,c,h),Nr=x,qn=w;break;case 0:case 11:case 14:case 15:Mr||_s(2,h,c),Mr||_s(4,h,c),zi(o,c,h);break;case 1:Mr||(pi(h,c),x=h.stateNode,typeof x.componentWillUnmount=="function"&&YT(h,c,x)),zi(o,c,h);break;case 21:zi(o,c,h);break;case 22:Mr=(x=Mr)||h.memoizedState!==null,zi(o,c,h),Mr=x;break;default:zi(o,c,h)}}function rC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Zd(o)}catch(h){xr(c,c.return,h)}}function hB(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new ZT),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new ZT),c;default:throw Error(a(435,o.tag))}}function sg(o,c){var h=hB(o);c.forEach(function(x){var w=wB.bind(null,o,x);h.has(x)||(h.add(x),x.then(w,w))})}function aa(o,c){var h=c.deletions;if(h!==null)for(var x=0;x<h.length;x++){var w=h[x],O=o,Y=c,se=Y;e:for(;se!==null;){switch(se.tag){case 27:if(Bs(se.type)){Nr=se.stateNode,qn=!1;break e}break;case 5:Nr=se.stateNode,qn=!1;break e;case 3:case 4:Nr=se.stateNode.containerInfo,qn=!0;break e}se=se.return}if(Nr===null)throw Error(a(160));tC(O,Y,w),Nr=null,qn=!1,O=w.alternate,O!==null&&(O.return=null),w.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)nC(c,o),c=c.sibling}var Ha=null;function nC(o,c){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:aa(c,o),ia(o),x&4&&(_s(3,o,o.return),Rd(3,o),_s(5,o,o.return));break;case 1:aa(c,o),ia(o),x&512&&(Mr||h===null||pi(h,h.return)),x&64&&Li&&(o=o.updateQueue,o!==null&&(x=o.callbacks,x!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var w=Ha;if(aa(c,o),ia(o),x&512&&(Mr||h===null||pi(h,h.return)),x&4){var O=h!==null?h.memoizedState:null;if(x=o.memoizedState,h===null)if(x===null)if(o.stateNode===null){e:{x=o.type,h=o.memoizedProps,w=w.ownerDocument||w;t:switch(x){case"title":O=w.getElementsByTagName("title")[0],(!O||O[oe]||O[Fr]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=w.createElement(x),w.head.insertBefore(O,w.querySelector("head > title"))),un(O,x,h),O[Fr]=o,De(O),x=O;break e;case"link":var Y=QC("link","href",w).get(x+(h.href||""));if(Y){for(var se=0;se<Y.length;se++)if(O=Y[se],O.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&O.getAttribute("rel")===(h.rel==null?null:h.rel)&&O.getAttribute("title")===(h.title==null?null:h.title)&&O.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){Y.splice(se,1);break t}}O=w.createElement(x),un(O,x,h),w.head.appendChild(O);break;case"meta":if(Y=QC("meta","content",w).get(x+(h.content||""))){for(se=0;se<Y.length;se++)if(O=Y[se],O.getAttribute("content")===(h.content==null?null:""+h.content)&&O.getAttribute("name")===(h.name==null?null:h.name)&&O.getAttribute("property")===(h.property==null?null:h.property)&&O.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&O.getAttribute("charset")===(h.charSet==null?null:h.charSet)){Y.splice(se,1);break t}}O=w.createElement(x),un(O,x,h),w.head.appendChild(O);break;default:throw Error(a(468,x))}O[Fr]=o,De(O),x=O}o.stateNode=x}else ZC(w,o.type,o.stateNode);else o.stateNode=KC(w,x,o.memoizedProps);else O!==x?(O===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):O.count--,x===null?ZC(w,o.type,o.stateNode):KC(w,x,o.memoizedProps)):x===null&&o.stateNode!==null&&rg(o,o.memoizedProps,h.memoizedProps)}break;case 27:aa(c,o),ia(o),x&512&&(Mr||h===null||pi(h,h.return)),h!==null&&x&4&&rg(o,o.memoizedProps,h.memoizedProps);break;case 5:if(aa(c,o),ia(o),x&512&&(Mr||h===null||pi(h,h.return)),o.flags&32){w=o.stateNode;try{fl(w,"")}catch($e){xr(o,o.return,$e)}}x&4&&o.stateNode!=null&&(w=o.memoizedProps,rg(o,w,h!==null?h.memoizedProps:w)),x&1024&&(ig=!0);break;case 6:if(aa(c,o),ia(o),x&4){if(o.stateNode===null)throw Error(a(162));x=o.memoizedProps,h=o.stateNode;try{h.nodeValue=x}catch($e){xr(o,o.return,$e)}}break;case 3:if(Hh=null,w=Ha,Ha=qh(c.containerInfo),aa(c,o),Ha=w,ia(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{Zd(c.containerInfo)}catch($e){xr(o,o.return,$e)}ig&&(ig=!1,aC(o));break;case 4:x=Ha,Ha=qh(o.stateNode.containerInfo),aa(c,o),ia(o),Ha=x;break;case 12:aa(c,o),ia(o);break;case 13:aa(c,o),ia(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(fg=fe()),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,sg(o,x)));break;case 22:w=o.memoizedState!==null;var we=h!==null&&h.memoizedState!==null,Re=Li,Xe=Mr;if(Li=Re||w,Mr=Xe||we,aa(c,o),Mr=Xe,Li=Re,ia(o),x&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(h===null||we||Li||Mr||To(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){we=h=c;try{if(O=we.stateNode,w)Y=O.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{se=we.stateNode;var Ze=we.memoizedProps.style,Fe=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null;se.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch($e){xr(we,we.return,$e)}}}else if(c.tag===6){if(h===null){we=c;try{we.stateNode.nodeValue=w?"":we.memoizedProps}catch($e){xr(we,we.return,$e)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=o.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,sg(o,h))));break;case 19:aa(c,o),ia(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,sg(o,x)));break;case 30:break;case 21:break;default:aa(c,o),ia(o)}}function ia(o){var c=o.flags;if(c&2){try{for(var h,x=o.return;x!==null;){if(KT(x)){h=x;break}x=x.return}if(h==null)throw Error(a(160));switch(h.tag){case 27:var w=h.stateNode,O=ng(o);Oh(o,O,w);break;case 5:var Y=h.stateNode;h.flags&32&&(fl(Y,""),h.flags&=-33);var se=ng(o);Oh(o,se,Y);break;case 3:case 4:var we=h.stateNode.containerInfo,Re=ng(o);ag(o,Re,we);break;default:throw Error(a(161))}}catch(Xe){xr(o,o.return,Xe)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function aC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;aC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Os(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)JT(o,c.alternate,c),c=c.sibling}function To(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:_s(4,c,c.return),To(c);break;case 1:pi(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&YT(c,c.return,h),To(c);break;case 27:Wd(c.stateNode);case 26:case 5:pi(c,c.return),To(c);break;case 22:c.memoizedState===null&&To(c);break;case 30:To(c);break;default:To(c)}o=o.sibling}}function ks(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,w=o,O=c,Y=O.flags;switch(O.tag){case 0:case 11:case 15:ks(w,O,h),Rd(4,O);break;case 1:if(ks(w,O,h),x=O,w=x.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Re){xr(x,x.return,Re)}if(x=O,w=x.updateQueue,w!==null){var se=x.stateNode;try{var we=w.shared.hiddenCallbacks;if(we!==null)for(w.shared.hiddenCallbacks=null,w=0;w<we.length;w++)IN(we[w],se)}catch(Re){xr(x,x.return,Re)}}h&&Y&64&&VT(O),Pd(O,O.return);break;case 27:QT(O);case 26:case 5:ks(w,O,h),h&&x===null&&Y&4&&XT(O),Pd(O,O.return);break;case 12:ks(w,O,h);break;case 13:ks(w,O,h),h&&Y&4&&rC(w,O);break;case 22:O.memoizedState===null&&ks(w,O,h),Pd(O,O.return);break;case 30:break;default:ks(w,O,h)}c=c.sibling}}function og(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&bd(h))}function lg(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&bd(o))}function mi(o,c,h,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)iC(o,c,h,x),c=c.sibling}function iC(o,c,h,x){var w=c.flags;switch(c.tag){case 0:case 11:case 15:mi(o,c,h,x),w&2048&&Rd(9,c);break;case 1:mi(o,c,h,x);break;case 3:mi(o,c,h,x),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&bd(o)));break;case 12:if(w&2048){mi(o,c,h,x),o=c.stateNode;try{var O=c.memoizedProps,Y=O.id,se=O.onPostCommit;typeof se=="function"&&se(Y,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(we){xr(c,c.return,we)}}else mi(o,c,h,x);break;case 13:mi(o,c,h,x);break;case 23:break;case 22:O=c.stateNode,Y=c.alternate,c.memoizedState!==null?O._visibility&2?mi(o,c,h,x):Md(o,c):O._visibility&2?mi(o,c,h,x):(O._visibility|=2,kl(o,c,h,x,(c.subtreeFlags&10256)!==0)),w&2048&&og(Y,c);break;case 24:mi(o,c,h,x),w&2048&&lg(c.alternate,c);break;default:mi(o,c,h,x)}}function kl(o,c,h,x,w){for(w=w&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var O=o,Y=c,se=h,we=x,Re=Y.flags;switch(Y.tag){case 0:case 11:case 15:kl(O,Y,se,we,w),Rd(8,Y);break;case 23:break;case 22:var Xe=Y.stateNode;Y.memoizedState!==null?Xe._visibility&2?kl(O,Y,se,we,w):Md(O,Y):(Xe._visibility|=2,kl(O,Y,se,we,w)),w&&Re&2048&&og(Y.alternate,Y);break;case 24:kl(O,Y,se,we,w),w&&Re&2048&&lg(Y.alternate,Y);break;default:kl(O,Y,se,we,w)}c=c.sibling}}function Md(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,x=c,w=x.flags;switch(x.tag){case 22:Md(h,x),w&2048&&og(x.alternate,x);break;case 24:Md(h,x),w&2048&&lg(x.alternate,x);break;default:Md(h,x)}c=c.sibling}}var Bd=8192;function Dl(o){if(o.subtreeFlags&Bd)for(o=o.child;o!==null;)sC(o),o=o.sibling}function sC(o){switch(o.tag){case 26:Dl(o),o.flags&Bd&&o.memoizedState!==null&&ZB(Ha,o.memoizedState,o.memoizedProps);break;case 5:Dl(o);break;case 3:case 4:var c=Ha;Ha=qh(o.stateNode.containerInfo),Dl(o),Ha=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Bd,Bd=16777216,Dl(o),Bd=c):Dl(o));break;default:Dl(o)}}function oC(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Fd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var x=c[h];Jr=x,cC(x,o)}oC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)lC(o),o=o.sibling}function lC(o){switch(o.tag){case 0:case 11:case 15:Fd(o),o.flags&2048&&_s(9,o,o.return);break;case 3:Fd(o);break;case 12:Fd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,kh(o)):Fd(o);break;default:Fd(o)}}function kh(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var x=c[h];Jr=x,cC(x,o)}oC(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:_s(8,c,c.return),kh(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,kh(c));break;default:kh(c)}o=o.sibling}}function cC(o,c){for(;Jr!==null;){var h=Jr;switch(h.tag){case 0:case 11:case 15:_s(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:bd(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,Jr=x;else e:for(h=o;Jr!==null;){x=Jr;var w=x.sibling,O=x.return;if(eC(x),x===h){Jr=null;break e}if(w!==null){w.return=O,Jr=w;break e}Jr=O}}}var pB={getCacheForType:function(o){var c=wn(Gr),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h}},mB=typeof WeakMap=="function"?WeakMap:Map,tr=0,vr=null,Mt=null,qt=0,rr=0,sa=null,Ds=!1,Il=!1,cg=!1,$i=0,Or=0,Is=0,Co=0,dg=0,Aa=0,Rl=0,Ld=null,Wn=null,ug=!1,fg=0,Dh=1/0,Ih=null,Rs=null,dn=0,Ps=null,Pl=null,Ml=0,hg=0,pg=null,dC=null,zd=0,mg=null;function oa(){if((tr&2)!==0&&qt!==0)return qt&-qt;if(R.T!==null){var o=Sl;return o!==0?o:wg()}return Ct()}function uC(){Aa===0&&(Aa=(qt&536870912)===0||Kt?rt():536870912);var o=Ca.current;return o!==null&&(o.flags|=32),Aa}function la(o,c,h){(o===vr&&(rr===2||rr===9)||o.cancelPendingCommit!==null)&&(Bl(o,0),Ms(o,qt,Aa,!1)),Lt(o,h),((tr&2)===0||o!==vr)&&(o===vr&&((tr&2)===0&&(Co|=h),Or===4&&Ms(o,qt,Aa,!1)),xi(o))}function fC(o,c,h){if((tr&6)!==0)throw Error(a(327));var x=!h&&(c&124)===0&&(c&o.expiredLanes)===0||ke(o,c),w=x?yB(o,c):yg(o,c,!0),O=x;do{if(w===0){Il&&!x&&Ms(o,c,0,!1);break}else{if(h=o.current.alternate,O&&!xB(h)){w=yg(o,c,!1),O=!1;continue}if(w===2){if(O=c,o.errorRecoveryDisabledLanes&O)var Y=0;else Y=o.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){c=Y;e:{var se=o;w=Ld;var we=se.current.memoizedState.isDehydrated;if(we&&(Bl(se,Y).flags|=256),Y=yg(se,Y,!1),Y!==2){if(cg&&!we){se.errorRecoveryDisabledLanes|=O,Co|=O,w=4;break e}O=Wn,Wn=w,O!==null&&(Wn===null?Wn=O:Wn.push.apply(Wn,O))}w=Y}if(O=!1,w!==2)continue}}if(w===1){Bl(o,0),Ms(o,c,0,!0);break}e:{switch(x=o,O=w,O){case 0:case 1:throw Error(a(345));case 4:if((c&4194048)!==c)break;case 6:Ms(x,c,Aa,!Ds);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((c&62914560)===c&&(w=fg+300-fe(),10<w)){if(Ms(x,c,Aa,!Ds),Ae(x,0,!0)!==0)break e;x.timeoutHandle=$C(hC.bind(null,x,h,Wn,Ih,ug,c,Aa,Co,Rl,Ds,O,2,-0,0),w);break e}hC(x,h,Wn,Ih,ug,c,Aa,Co,Rl,Ds,O,0,-0,0)}}break}while(!0);xi(o)}function hC(o,c,h,x,w,O,Y,se,we,Re,Xe,Ze,Fe,$e){if(o.timeoutHandle=-1,Ze=c.subtreeFlags,(Ze&8192||(Ze&16785408)===16785408)&&(Vd={stylesheets:null,count:0,unsuspend:QB},sC(c),Ze=JB(),Ze!==null)){o.cancelPendingCommit=Ze(bC.bind(null,o,c,O,h,x,w,Y,se,we,Xe,1,Fe,$e)),Ms(o,O,Y,!Re);return}bC(o,c,O,h,x,w,Y,se,we)}function xB(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var w=h[x],O=w.getSnapshot;w=w.value;try{if(!ra(O(),w))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ms(o,c,h,x){c&=~dg,c&=~Co,o.suspendedLanes|=c,o.pingedLanes&=~c,x&&(o.warmLanes|=c),x=o.expirationTimes;for(var w=c;0<w;){var O=31-de(w),Y=1<<O;x[O]=-1,w&=~Y}h!==0&&Zt(o,h,c)}function Rh(){return(tr&6)===0?($d(0),!1):!0}function xg(){if(Mt!==null){if(rr===0)var o=Mt.return;else o=Mt,Ii=bo=null,Ix(o),_l=null,kd=0,o=Mt;for(;o!==null;)GT(o.alternate,o),o=o.return;Mt=null}}function Bl(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,RB(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),xg(),vr=o,Mt=h=Oi(o.current,null),qt=c,rr=0,sa=null,Ds=!1,Il=ke(o,c),cg=!1,Rl=Aa=dg=Co=Is=Or=0,Wn=Ld=null,ug=!1,(c&8)!==0&&(c|=c&32);var x=o.entangledLanes;if(x!==0)for(o=o.entanglements,x&=c;0<x;){var w=31-de(x),O=1<<w;c|=o[w],x&=~O}return $i=c,rh(),h}function pC(o,c){Dt=null,R.H=jh,c===wd||c===uh?(c=kN(),rr=3):c===EN?(c=kN(),rr=4):rr=c===DT?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,sa=c,Mt===null&&(Or=1,Ch(o,wa(c,o.current)))}function mC(){var o=R.H;return R.H=jh,o===null?jh:o}function xC(){var o=R.A;return R.A=pB,o}function gg(){Or=4,Ds||(qt&4194048)!==qt&&Ca.current!==null||(Il=!0),(Is&134217727)===0&&(Co&134217727)===0||vr===null||Ms(vr,qt,Aa,!1)}function yg(o,c,h){var x=tr;tr|=2;var w=mC(),O=xC();(vr!==o||qt!==c)&&(Ih=null,Bl(o,c)),c=!1;var Y=Or;e:do try{if(rr!==0&&Mt!==null){var se=Mt,we=sa;switch(rr){case 8:xg(),Y=6;break e;case 3:case 2:case 9:case 6:Ca.current===null&&(c=!0);var Re=rr;if(rr=0,sa=null,Fl(o,se,we,Re),h&&Il){Y=0;break e}break;default:Re=rr,rr=0,sa=null,Fl(o,se,we,Re)}}gB(),Y=Or;break}catch(Xe){pC(o,Xe)}while(!0);return c&&o.shellSuspendCounter++,Ii=bo=null,tr=x,R.H=w,R.A=O,Mt===null&&(vr=null,qt=0,rh()),Y}function gB(){for(;Mt!==null;)gC(Mt)}function yB(o,c){var h=tr;tr|=2;var x=mC(),w=xC();vr!==o||qt!==c?(Ih=null,Dh=fe()+500,Bl(o,c)):Il=ke(o,c);e:do try{if(rr!==0&&Mt!==null){c=Mt;var O=sa;t:switch(rr){case 1:rr=0,sa=null,Fl(o,c,O,1);break;case 2:case 9:if(_N(O)){rr=0,sa=null,yC(c);break}c=function(){rr!==2&&rr!==9||vr!==o||(rr=7),xi(o)},O.then(c,c);break e;case 3:rr=7;break e;case 4:rr=5;break e;case 7:_N(O)?(rr=0,sa=null,yC(c)):(rr=0,sa=null,Fl(o,c,O,7));break;case 5:var Y=null;switch(Mt.tag){case 26:Y=Mt.memoizedState;case 5:case 27:var se=Mt;if(!Y||JC(Y)){rr=0,sa=null;var we=se.sibling;if(we!==null)Mt=we;else{var Re=se.return;Re!==null?(Mt=Re,Ph(Re)):Mt=null}break t}}rr=0,sa=null,Fl(o,c,O,5);break;case 6:rr=0,sa=null,Fl(o,c,O,6);break;case 8:xg(),Or=6;break e;default:throw Error(a(462))}}vB();break}catch(Xe){pC(o,Xe)}while(!0);return Ii=bo=null,R.H=x,R.A=w,tr=h,Mt!==null?0:(vr=null,qt=0,rh(),Or)}function vB(){for(;Mt!==null&&!qe();)gC(Mt)}function gC(o){var c=WT(o.alternate,o,$i);o.memoizedProps=o.pendingProps,c===null?Ph(o):Mt=c}function yC(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=FT(h,c,c.pendingProps,c.type,void 0,qt);break;case 11:c=FT(h,c,c.pendingProps,c.type.render,c.ref,qt);break;case 5:Ix(c);default:GT(h,c),c=Mt=vN(c,$i),c=WT(h,c,$i)}o.memoizedProps=o.pendingProps,c===null?Ph(o):Mt=c}function Fl(o,c,h,x){Ii=bo=null,Ix(c),_l=null,kd=0;var w=c.return;try{if(lB(o,w,c,h,qt)){Or=1,Ch(o,wa(h,o.current)),Mt=null;return}}catch(O){if(w!==null)throw Mt=w,O;Or=1,Ch(o,wa(h,o.current)),Mt=null;return}c.flags&32768?(Kt||x===1?o=!0:Il||(qt&536870912)!==0?o=!1:(Ds=o=!0,(x===2||x===9||x===3||x===6)&&(x=Ca.current,x!==null&&x.tag===13&&(x.flags|=16384))),vC(c,o)):Ph(c)}function Ph(o){var c=o;do{if((c.flags&32768)!==0){vC(c,Ds);return}o=c.return;var h=dB(c.alternate,c,$i);if(h!==null){Mt=h;return}if(c=c.sibling,c!==null){Mt=c;return}Mt=c=o}while(c!==null);Or===0&&(Or=5)}function vC(o,c){do{var h=uB(o.alternate,o);if(h!==null){h.flags&=32767,Mt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){Mt=o;return}Mt=o=h}while(o!==null);Or=6,Mt=null}function bC(o,c,h,x,w,O,Y,se,we){o.cancelPendingCommit=null;do Mh();while(dn!==0);if((tr&6)!==0)throw Error(a(327));if(c!==null){if(c===o.current)throw Error(a(177));if(O=c.lanes|c.childLanes,O|=lx,Ut(o,h,O,Y,se,we),o===vr&&(Mt=vr=null,qt=0),Pl=c,Ps=o,Ml=h,hg=O,pg=w,dC=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,SB(W,function(){return TC(),null})):(o.callbackNode=null,o.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=R.T,R.T=null,w=H.p,H.p=2,Y=tr,tr|=4;try{fB(o,c,h)}finally{tr=Y,H.p=w,R.T=x}}dn=1,jC(),wC(),SC()}}function jC(){if(dn===1){dn=0;var o=Ps,c=Pl,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=R.T,R.T=null;var x=H.p;H.p=2;var w=tr;tr|=4;try{nC(c,o);var O=Og,Y=cN(o.containerInfo),se=O.focusedElem,we=O.selectionRange;if(Y!==se&&se&&se.ownerDocument&&lN(se.ownerDocument.documentElement,se)){if(we!==null&&nx(se)){var Re=we.start,Xe=we.end;if(Xe===void 0&&(Xe=Re),"selectionStart"in se)se.selectionStart=Re,se.selectionEnd=Math.min(Xe,se.value.length);else{var Ze=se.ownerDocument||document,Fe=Ze&&Ze.defaultView||window;if(Fe.getSelection){var $e=Fe.getSelection(),Nt=se.textContent.length,bt=Math.min(we.start,Nt),fr=we.end===void 0?bt:Math.min(we.end,Nt);!$e.extend&&bt>fr&&(Y=fr,fr=bt,bt=Y);var Oe=oN(se,bt),Ce=oN(se,fr);if(Oe&&Ce&&($e.rangeCount!==1||$e.anchorNode!==Oe.node||$e.anchorOffset!==Oe.offset||$e.focusNode!==Ce.node||$e.focusOffset!==Ce.offset)){var Ie=Ze.createRange();Ie.setStart(Oe.node,Oe.offset),$e.removeAllRanges(),bt>fr?($e.addRange(Ie),$e.extend(Ce.node,Ce.offset)):(Ie.setEnd(Ce.node,Ce.offset),$e.addRange(Ie))}}}}for(Ze=[],$e=se;$e=$e.parentNode;)$e.nodeType===1&&Ze.push({element:$e,left:$e.scrollLeft,top:$e.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<Ze.length;se++){var Ke=Ze[se];Ke.element.scrollLeft=Ke.left,Ke.element.scrollTop=Ke.top}}Yh=!!_g,Og=_g=null}finally{tr=w,H.p=x,R.T=h}}o.current=c,dn=2}}function wC(){if(dn===2){dn=0;var o=Ps,c=Pl,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=R.T,R.T=null;var x=H.p;H.p=2;var w=tr;tr|=4;try{JT(o,c.alternate,c)}finally{tr=w,H.p=x,R.T=h}}dn=3}}function SC(){if(dn===4||dn===3){dn=0,V();var o=Ps,c=Pl,h=Ml,x=dC;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?dn=5:(dn=0,Pl=Ps=null,NC(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Rs=null),jr(h),c=c.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Ge,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=R.T,w=H.p,H.p=2,R.T=null;try{for(var O=o.onRecoverableError,Y=0;Y<x.length;Y++){var se=x[Y];O(se.value,{componentStack:se.stack})}}finally{R.T=c,H.p=w}}(Ml&3)!==0&&Mh(),xi(o),w=o.pendingLanes,(h&4194090)!==0&&(w&42)!==0?o===mg?zd++:(zd=0,mg=o):zd=0,$d(0)}}function NC(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,bd(c)))}function Mh(o){return jC(),wC(),SC(),TC()}function TC(){if(dn!==5)return!1;var o=Ps,c=hg;hg=0;var h=jr(Ml),x=R.T,w=H.p;try{H.p=32>h?32:h,R.T=null,h=pg,pg=null;var O=Ps,Y=Ml;if(dn=0,Pl=Ps=null,Ml=0,(tr&6)!==0)throw Error(a(331));var se=tr;if(tr|=4,lC(O.current),iC(O,O.current,Y,h),tr=se,$d(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Ge,O)}catch{}return!0}finally{H.p=w,R.T=x,NC(o,c)}}function CC(o,c,h){c=wa(h,c),c=Vx(o.stateNode,c,2),o=Ts(o,c,2),o!==null&&(Lt(o,2),xi(o))}function xr(o,c,h){if(o.tag===3)CC(o,o,h);else for(;c!==null;){if(c.tag===3){CC(c,o,h);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Rs===null||!Rs.has(x))){o=wa(h,o),h=OT(2),x=Ts(c,h,2),x!==null&&(kT(h,x,c,o),Lt(x,2),xi(x));break}}c=c.return}}function vg(o,c,h){var x=o.pingCache;if(x===null){x=o.pingCache=new mB;var w=new Set;x.set(c,w)}else w=x.get(c),w===void 0&&(w=new Set,x.set(c,w));w.has(h)||(cg=!0,w.add(h),o=bB.bind(null,o,c,h),c.then(o,o))}function bB(o,c,h){var x=o.pingCache;x!==null&&x.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,vr===o&&(qt&h)===h&&(Or===4||Or===3&&(qt&62914560)===qt&&300>fe()-fg?(tr&2)===0&&Bl(o,0):dg|=h,Rl===qt&&(Rl=0)),xi(o)}function AC(o,c){c===0&&(c=lt()),o=vl(o,c),o!==null&&(Lt(o,c),xi(o))}function jB(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),AC(o,h)}function wB(o,c){var h=0;switch(o.tag){case 13:var x=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:x=o.stateNode;break;case 22:x=o.stateNode._retryCache;break;default:throw Error(a(314))}x!==null&&x.delete(c),AC(o,h)}function SB(o,c){return Ye(o,c)}var Bh=null,Ll=null,bg=!1,Fh=!1,jg=!1,Ao=0;function xi(o){o!==Ll&&o.next===null&&(Ll===null?Bh=Ll=o:Ll=Ll.next=o),Fh=!0,bg||(bg=!0,TB())}function $d(o,c){if(!jg&&Fh){jg=!0;do for(var h=!1,x=Bh;x!==null;){if(o!==0){var w=x.pendingLanes;if(w===0)var O=0;else{var Y=x.suspendedLanes,se=x.pingedLanes;O=(1<<31-de(42|o)+1)-1,O&=w&~(Y&~se),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(h=!0,kC(x,O))}else O=qt,O=Ae(x,x===vr?O:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(O&3)===0||ke(x,O)||(h=!0,kC(x,O));x=x.next}while(h);jg=!1}}function NB(){EC()}function EC(){Fh=bg=!1;var o=0;Ao!==0&&(IB()&&(o=Ao),Ao=0);for(var c=fe(),h=null,x=Bh;x!==null;){var w=x.next,O=_C(x,c);O===0?(x.next=null,h===null?Bh=w:h.next=w,w===null&&(Ll=h)):(h=x,(o!==0||(O&3)!==0)&&(Fh=!0)),x=w}$d(o)}function _C(o,c){for(var h=o.suspendedLanes,x=o.pingedLanes,w=o.expirationTimes,O=o.pendingLanes&-62914561;0<O;){var Y=31-de(O),se=1<<Y,we=w[Y];we===-1?((se&h)===0||(se&x)!==0)&&(w[Y]=nt(se,c)):we<=c&&(o.expiredLanes|=se),O&=~se}if(c=vr,h=qt,h=Ae(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x=o.callbackNode,h===0||o===c&&(rr===2||rr===9)||o.cancelPendingCommit!==null)return x!==null&&x!==null&&Te(x),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||ke(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(x!==null&&Te(x),jr(h)){case 2:case 8:h=re;break;case 32:h=W;break;case 268435456:h=Q;break;default:h=W}return x=OC.bind(null,o),h=Ye(h,x),o.callbackPriority=c,o.callbackNode=h,c}return x!==null&&x!==null&&Te(x),o.callbackPriority=2,o.callbackNode=null,2}function OC(o,c){if(dn!==0&&dn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Mh()&&o.callbackNode!==h)return null;var x=qt;return x=Ae(o,o===vr?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x===0?null:(fC(o,x,c),_C(o,fe()),o.callbackNode!=null&&o.callbackNode===h?OC.bind(null,o):null)}function kC(o,c){if(Mh())return null;fC(o,c,!0)}function TB(){PB(function(){(tr&6)!==0?Ye(K,NB):EC()})}function wg(){return Ao===0&&(Ao=rt()),Ao}function DC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Xf(""+o)}function IC(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function CB(o,c,h,x,w){if(c==="submit"&&h&&h.stateNode===w){var O=DC((w[Rr]||null).action),Y=x.submitter;Y&&(c=(c=Y[Rr]||null)?DC(c.formAction):Y.getAttribute("formAction"),c!==null&&(O=c,Y=null));var se=new Jf("action","action",null,x,w);o.push({event:se,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Ao!==0){var we=Y?IC(w,Y):new FormData(w);Ux(h,{pending:!0,data:we,method:w.method,action:O},null,we)}}else typeof O=="function"&&(se.preventDefault(),we=Y?IC(w,Y):new FormData(w),Ux(h,{pending:!0,data:we,method:w.method,action:O},O,we))},currentTarget:w}]})}}for(var Sg=0;Sg<ox.length;Sg++){var Ng=ox[Sg],AB=Ng.toLowerCase(),EB=Ng[0].toUpperCase()+Ng.slice(1);Wa(AB,"on"+EB)}Wa(fN,"onAnimationEnd"),Wa(hN,"onAnimationIteration"),Wa(pN,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(HM,"onTransitionRun"),Wa(GM,"onTransitionStart"),Wa(VM,"onTransitionCancel"),Wa(mN,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_B=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ud));function RC(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],w=x.event;x=x.listeners;e:{var O=void 0;if(c)for(var Y=x.length-1;0<=Y;Y--){var se=x[Y],we=se.instance,Re=se.currentTarget;if(se=se.listener,we!==O&&w.isPropagationStopped())break e;O=se,w.currentTarget=Re;try{O(w)}catch(Xe){Th(Xe)}w.currentTarget=null,O=we}else for(Y=0;Y<x.length;Y++){if(se=x[Y],we=se.instance,Re=se.currentTarget,se=se.listener,we!==O&&w.isPropagationStopped())break e;O=se,w.currentTarget=Re;try{O(w)}catch(Xe){Th(Xe)}w.currentTarget=null,O=we}}}}function Bt(o,c){var h=c[vs];h===void 0&&(h=c[vs]=new Set);var x=o+"__bubble";h.has(x)||(PC(c,o,2,!1),h.add(x))}function Tg(o,c,h){var x=0;c&&(x|=4),PC(h,o,x,c)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function Cg(o){if(!o[Lh]){o[Lh]=!0,Be.forEach(function(h){h!=="selectionchange"&&(_B.has(h)||Tg(h,!1,o),Tg(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Lh]||(c[Lh]=!0,Tg("selectionchange",!1,c))}}function PC(o,c,h,x){switch(iA(c)){case 2:var w=rF;break;case 8:w=nF;break;default:w=zg}h=w.bind(null,c,h,o),w=void 0,!Y0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),x?w!==void 0?o.addEventListener(c,h,{capture:!0,passive:w}):o.addEventListener(c,h,!0):w!==void 0?o.addEventListener(c,h,{passive:w}):o.addEventListener(c,h,!1)}function Ag(o,c,h,x,w){var O=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var Y=x.tag;if(Y===3||Y===4){var se=x.stateNode.containerInfo;if(se===w)break;if(Y===4)for(Y=x.return;Y!==null;){var we=Y.tag;if((we===3||we===4)&&Y.stateNode.containerInfo===w)return;Y=Y.return}for(;se!==null;){if(Y=he(se),Y===null)return;if(we=Y.tag,we===5||we===6||we===26||we===27){x=O=Y;continue e}se=se.parentNode}}x=x.return}US(function(){var Re=O,Xe=G0(h),Ze=[];e:{var Fe=xN.get(o);if(Fe!==void 0){var $e=Jf,Nt=o;switch(o){case"keypress":if(Qf(h)===0)break e;case"keydown":case"keyup":$e=SM;break;case"focusin":Nt="focus",$e=Z0;break;case"focusout":Nt="blur",$e=Z0;break;case"beforeblur":case"afterblur":$e=Z0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=HS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=uM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=CM;break;case fN:case hN:case pN:$e=pM;break;case mN:$e=EM;break;case"scroll":case"scrollend":$e=cM;break;case"wheel":$e=OM;break;case"copy":case"cut":case"paste":$e=xM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=VS;break;case"toggle":case"beforetoggle":$e=DM}var bt=(c&4)!==0,fr=!bt&&(o==="scroll"||o==="scrollend"),Oe=bt?Fe!==null?Fe+"Capture":null:Fe;bt=[];for(var Ce=Re,Ie;Ce!==null;){var Ke=Ce;if(Ie=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Ie===null||Oe===null||(Ke=od(Ce,Oe),Ke!=null&&bt.push(qd(Ce,Ke,Ie))),fr)break;Ce=Ce.return}0<bt.length&&(Fe=new $e(Fe,Nt,null,h,Xe),Ze.push({event:Fe,listeners:bt}))}}if((c&7)===0){e:{if(Fe=o==="mouseover"||o==="pointerover",$e=o==="mouseout"||o==="pointerout",Fe&&h!==H0&&(Nt=h.relatedTarget||h.fromElement)&&(he(Nt)||Nt[$a]))break e;if(($e||Fe)&&(Fe=Xe.window===Xe?Xe:(Fe=Xe.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,$e?(Nt=h.relatedTarget||h.toElement,$e=Re,Nt=Nt?he(Nt):null,Nt!==null&&(fr=s(Nt),bt=Nt.tag,Nt!==fr||bt!==5&&bt!==27&&bt!==6)&&(Nt=null)):($e=null,Nt=Re),$e!==Nt)){if(bt=HS,Ke="onMouseLeave",Oe="onMouseEnter",Ce="mouse",(o==="pointerout"||o==="pointerover")&&(bt=VS,Ke="onPointerLeave",Oe="onPointerEnter",Ce="pointer"),fr=$e==null?Fe:Pe($e),Ie=Nt==null?Fe:Pe(Nt),Fe=new bt(Ke,Ce+"leave",$e,h,Xe),Fe.target=fr,Fe.relatedTarget=Ie,Ke=null,he(Xe)===Re&&(bt=new bt(Oe,Ce+"enter",Nt,h,Xe),bt.target=Ie,bt.relatedTarget=fr,Ke=bt),fr=Ke,$e&&Nt)t:{for(bt=$e,Oe=Nt,Ce=0,Ie=bt;Ie;Ie=zl(Ie))Ce++;for(Ie=0,Ke=Oe;Ke;Ke=zl(Ke))Ie++;for(;0<Ce-Ie;)bt=zl(bt),Ce--;for(;0<Ie-Ce;)Oe=zl(Oe),Ie--;for(;Ce--;){if(bt===Oe||Oe!==null&&bt===Oe.alternate)break t;bt=zl(bt),Oe=zl(Oe)}bt=null}else bt=null;$e!==null&&MC(Ze,Fe,$e,bt,!1),Nt!==null&&fr!==null&&MC(Ze,fr,Nt,bt,!0)}}e:{if(Fe=Re?Pe(Re):window,$e=Fe.nodeName&&Fe.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Fe.type==="file")var mt=tN;else if(JS(Fe))if(rN)mt=UM;else{mt=zM;var Rt=LM}else $e=Fe.nodeName,!$e||$e.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?Re&&W0(Re.elementType)&&(mt=tN):mt=$M;if(mt&&(mt=mt(o,Re))){eN(Ze,mt,h,Xe);break e}Rt&&Rt(o,Fe,Re),o==="focusout"&&Re&&Fe.type==="number"&&Re.memoizedProps.value!=null&&q0(Fe,"number",Fe.value)}switch(Rt=Re?Pe(Re):window,o){case"focusin":(JS(Rt)||Rt.contentEditable==="true")&&(xl=Rt,ax=Re,md=null);break;case"focusout":md=ax=xl=null;break;case"mousedown":ix=!0;break;case"contextmenu":case"mouseup":case"dragend":ix=!1,dN(Ze,h,Xe);break;case"selectionchange":if(WM)break;case"keydown":case"keyup":dN(Ze,h,Xe)}var gt;if(ex)e:{switch(o){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else ml?QS(o,h)&&(wt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(wt="onCompositionStart");wt&&(YS&&h.locale!=="ko"&&(ml||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ml&&(gt=qS()):(js=Xe,X0="value"in js?js.value:js.textContent,ml=!0)),Rt=zh(Re,wt),0<Rt.length&&(wt=new GS(wt,o,null,h,Xe),Ze.push({event:wt,listeners:Rt}),gt?wt.data=gt:(gt=ZS(h),gt!==null&&(wt.data=gt)))),(gt=RM?PM(o,h):MM(o,h))&&(wt=zh(Re,"onBeforeInput"),0<wt.length&&(Rt=new GS("onBeforeInput","beforeinput",null,h,Xe),Ze.push({event:Rt,listeners:wt}),Rt.data=gt)),CB(Ze,o,Re,h,Xe)}RC(Ze,c)})}function qd(o,c,h){return{instance:o,listener:c,currentTarget:h}}function zh(o,c){for(var h=c+"Capture",x=[];o!==null;){var w=o,O=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||O===null||(w=od(o,h),w!=null&&x.unshift(qd(o,w,O)),w=od(o,c),w!=null&&x.push(qd(o,w,O))),o.tag===3)return x;o=o.return}return[]}function zl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function MC(o,c,h,x,w){for(var O=c._reactName,Y=[];h!==null&&h!==x;){var se=h,we=se.alternate,Re=se.stateNode;if(se=se.tag,we!==null&&we===x)break;se!==5&&se!==26&&se!==27||Re===null||(we=Re,w?(Re=od(h,O),Re!=null&&Y.unshift(qd(h,Re,we))):w||(Re=od(h,O),Re!=null&&Y.push(qd(h,Re,we)))),h=h.return}Y.length!==0&&o.push({event:c,listeners:Y})}var OB=/\r\n?/g,kB=/\u0000|\uFFFD/g;function BC(o){return(typeof o=="string"?o:""+o).replace(OB,`
`).replace(kB,"")}function FC(o,c){return c=BC(c),BC(o)===c}function $h(){}function ur(o,c,h,x,w,O){switch(h){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||fl(o,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&fl(o,""+x);break;case"className":cr(o,"class",x);break;case"tabIndex":cr(o,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(o,h,x);break;case"style":zS(o,x,O);break;case"data":if(c!=="object"){cr(o,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(h);break}x=Xf(""+x),o.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(h==="formAction"?(c!=="input"&&ur(o,c,"name",w.name,w,null),ur(o,c,"formEncType",w.formEncType,w,null),ur(o,c,"formMethod",w.formMethod,w,null),ur(o,c,"formTarget",w.formTarget,w,null)):(ur(o,c,"encType",w.encType,w,null),ur(o,c,"method",w.method,w,null),ur(o,c,"target",w.target,w,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(h);break}x=Xf(""+x),o.setAttribute(h,x);break;case"onClick":x!=null&&(o.onclick=$h);break;case"onScroll":x!=null&&Bt("scroll",o);break;case"onScrollEnd":x!=null&&Bt("scrollend",o);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(h=x.__html,h!=null){if(w.children!=null)throw Error(a(60));o.innerHTML=h}}break;case"multiple":o.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":o.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){o.removeAttribute("xlink:href");break}h=Xf(""+x),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(h,""+x):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":x===!0?o.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(h,x):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?o.setAttribute(h,x):o.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?o.removeAttribute(h):o.setAttribute(h,x);break;case"popover":Bt("beforetoggle",o),Bt("toggle",o),lr(o,"popover",x);break;case"xlinkActuate":yr(o,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":yr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":yr(o,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":yr(o,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":yr(o,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":yr(o,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":yr(o,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":yr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":yr(o,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":lr(o,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=oM.get(h)||h,lr(o,h,x))}}function Eg(o,c,h,x,w,O){switch(h){case"style":zS(o,x,O);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(a(61));if(h=x.__html,h!=null){if(w.children!=null)throw Error(a(60));o.innerHTML=h}}break;case"children":typeof x=="string"?fl(o,x):(typeof x=="number"||typeof x=="bigint")&&fl(o,""+x);break;case"onScroll":x!=null&&Bt("scroll",o);break;case"onScrollEnd":x!=null&&Bt("scrollend",o);break;case"onClick":x!=null&&(o.onclick=$h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ze.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),c=h.slice(2,w?h.length-7:void 0),O=o[Rr]||null,O=O!=null?O[h]:null,typeof O=="function"&&o.removeEventListener(c,O,w),typeof x=="function")){typeof O!="function"&&O!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,x,w);break e}h in o?o[h]=x:x===!0?o.setAttribute(h,""):lr(o,h,x)}}}function un(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",o),Bt("load",o);var x=!1,w=!1,O;for(O in h)if(h.hasOwnProperty(O)){var Y=h[O];if(Y!=null)switch(O){case"src":x=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,c));default:ur(o,c,O,Y,h,null)}}w&&ur(o,c,"srcSet",h.srcSet,h,null),x&&ur(o,c,"src",h.src,h,null);return;case"input":Bt("invalid",o);var se=O=Y=w=null,we=null,Re=null;for(x in h)if(h.hasOwnProperty(x)){var Xe=h[x];if(Xe!=null)switch(x){case"name":w=Xe;break;case"type":Y=Xe;break;case"checked":we=Xe;break;case"defaultChecked":Re=Xe;break;case"value":O=Xe;break;case"defaultValue":se=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(a(137,c));break;default:ur(o,c,x,Xe,h,null)}}MS(o,O,se,we,Re,Y,w,!1),Vf(o);return;case"select":Bt("invalid",o),x=Y=O=null;for(w in h)if(h.hasOwnProperty(w)&&(se=h[w],se!=null))switch(w){case"value":O=se;break;case"defaultValue":Y=se;break;case"multiple":x=se;default:ur(o,c,w,se,h,null)}c=O,h=Y,o.multiple=!!x,c!=null?ul(o,!!x,c,!1):h!=null&&ul(o,!!x,h,!0);return;case"textarea":Bt("invalid",o),O=w=x=null;for(Y in h)if(h.hasOwnProperty(Y)&&(se=h[Y],se!=null))switch(Y){case"value":x=se;break;case"defaultValue":w=se;break;case"children":O=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(91));break;default:ur(o,c,Y,se,h,null)}FS(o,x,w,O),Vf(o);return;case"option":for(we in h)if(h.hasOwnProperty(we)&&(x=h[we],x!=null))switch(we){case"selected":o.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:ur(o,c,we,x,h,null)}return;case"dialog":Bt("beforetoggle",o),Bt("toggle",o),Bt("cancel",o),Bt("close",o);break;case"iframe":case"object":Bt("load",o);break;case"video":case"audio":for(x=0;x<Ud.length;x++)Bt(Ud[x],o);break;case"image":Bt("error",o),Bt("load",o);break;case"details":Bt("toggle",o);break;case"embed":case"source":case"link":Bt("error",o),Bt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in h)if(h.hasOwnProperty(Re)&&(x=h[Re],x!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,c));default:ur(o,c,Re,x,h,null)}return;default:if(W0(c)){for(Xe in h)h.hasOwnProperty(Xe)&&(x=h[Xe],x!==void 0&&Eg(o,c,Xe,x,h,void 0));return}}for(se in h)h.hasOwnProperty(se)&&(x=h[se],x!=null&&ur(o,c,se,x,h,null))}function DB(o,c,h,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,O=null,Y=null,se=null,we=null,Re=null,Xe=null;for($e in h){var Ze=h[$e];if(h.hasOwnProperty($e)&&Ze!=null)switch($e){case"checked":break;case"value":break;case"defaultValue":we=Ze;default:x.hasOwnProperty($e)||ur(o,c,$e,null,x,Ze)}}for(var Fe in x){var $e=x[Fe];if(Ze=h[Fe],x.hasOwnProperty(Fe)&&($e!=null||Ze!=null))switch(Fe){case"type":O=$e;break;case"name":w=$e;break;case"checked":Re=$e;break;case"defaultChecked":Xe=$e;break;case"value":Y=$e;break;case"defaultValue":se=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(a(137,c));break;default:$e!==Ze&&ur(o,c,Fe,$e,x,Ze)}}U0(o,Y,se,we,Re,Xe,O,w);return;case"select":$e=Y=se=Fe=null;for(O in h)if(we=h[O],h.hasOwnProperty(O)&&we!=null)switch(O){case"value":break;case"multiple":$e=we;default:x.hasOwnProperty(O)||ur(o,c,O,null,x,we)}for(w in x)if(O=x[w],we=h[w],x.hasOwnProperty(w)&&(O!=null||we!=null))switch(w){case"value":Fe=O;break;case"defaultValue":se=O;break;case"multiple":Y=O;default:O!==we&&ur(o,c,w,O,x,we)}c=se,h=Y,x=$e,Fe!=null?ul(o,!!h,Fe,!1):!!x!=!!h&&(c!=null?ul(o,!!h,c,!0):ul(o,!!h,h?[]:"",!1));return;case"textarea":$e=Fe=null;for(se in h)if(w=h[se],h.hasOwnProperty(se)&&w!=null&&!x.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:ur(o,c,se,null,x,w)}for(Y in x)if(w=x[Y],O=h[Y],x.hasOwnProperty(Y)&&(w!=null||O!=null))switch(Y){case"value":Fe=w;break;case"defaultValue":$e=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:w!==O&&ur(o,c,Y,w,x,O)}BS(o,Fe,$e);return;case"option":for(var Nt in h)if(Fe=h[Nt],h.hasOwnProperty(Nt)&&Fe!=null&&!x.hasOwnProperty(Nt))switch(Nt){case"selected":o.selected=!1;break;default:ur(o,c,Nt,null,x,Fe)}for(we in x)if(Fe=x[we],$e=h[we],x.hasOwnProperty(we)&&Fe!==$e&&(Fe!=null||$e!=null))switch(we){case"selected":o.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:ur(o,c,we,Fe,x,$e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in h)Fe=h[bt],h.hasOwnProperty(bt)&&Fe!=null&&!x.hasOwnProperty(bt)&&ur(o,c,bt,null,x,Fe);for(Re in x)if(Fe=x[Re],$e=h[Re],x.hasOwnProperty(Re)&&Fe!==$e&&(Fe!=null||$e!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(a(137,c));break;default:ur(o,c,Re,Fe,x,$e)}return;default:if(W0(c)){for(var fr in h)Fe=h[fr],h.hasOwnProperty(fr)&&Fe!==void 0&&!x.hasOwnProperty(fr)&&Eg(o,c,fr,void 0,x,Fe);for(Xe in x)Fe=x[Xe],$e=h[Xe],!x.hasOwnProperty(Xe)||Fe===$e||Fe===void 0&&$e===void 0||Eg(o,c,Xe,Fe,x,$e);return}}for(var Oe in h)Fe=h[Oe],h.hasOwnProperty(Oe)&&Fe!=null&&!x.hasOwnProperty(Oe)&&ur(o,c,Oe,null,x,Fe);for(Ze in x)Fe=x[Ze],$e=h[Ze],!x.hasOwnProperty(Ze)||Fe===$e||Fe==null&&$e==null||ur(o,c,Ze,Fe,x,$e)}var _g=null,Og=null;function Uh(o){return o.nodeType===9?o:o.ownerDocument}function LC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zC(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function kg(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Dg=null;function IB(){var o=window.event;return o&&o.type==="popstate"?o===Dg?!1:(Dg=o,!0):(Dg=null,!1)}var $C=typeof setTimeout=="function"?setTimeout:void 0,RB=typeof clearTimeout=="function"?clearTimeout:void 0,UC=typeof Promise=="function"?Promise:void 0,PB=typeof queueMicrotask=="function"?queueMicrotask:typeof UC<"u"?function(o){return UC.resolve(null).then(o).catch(MB)}:$C;function MB(o){setTimeout(function(){throw o})}function Bs(o){return o==="head"}function qC(o,c){var h=c,x=0,w=0;do{var O=h.nextSibling;if(o.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"){if(0<x&&8>x){h=x;var Y=o.ownerDocument;if(h&1&&Wd(Y.documentElement),h&2&&Wd(Y.body),h&4)for(h=Y.head,Wd(h),Y=h.firstChild;Y;){var se=Y.nextSibling,we=Y.nodeName;Y[oe]||we==="SCRIPT"||we==="STYLE"||we==="LINK"&&Y.rel.toLowerCase()==="stylesheet"||h.removeChild(Y),Y=se}}if(w===0){o.removeChild(O),Zd(c);return}w--}else h==="$"||h==="$?"||h==="$!"?w++:x=h.charCodeAt(0)-48;else x=0;h=O}while(h);Zd(c)}function Ig(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Ig(h),ue(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function BB(o,c,h,x){for(;o.nodeType===1;){var w=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(x){if(!o[oe])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(O=o.getAttribute("rel"),O==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(O!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(O=o.getAttribute("src"),(O!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&O&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var O=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===O)return o}else return o;if(o=Ga(o.nextSibling),o===null)break}return null}function FB(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Ga(o.nextSibling),o===null))return null;return o}function Rg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function LB(o,c){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")c();else{var x=function(){c(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),o._reactRetry=x}}function Ga(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var Pg=null;function WC(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}function HC(o,c,h){switch(c=Uh(h),o){case"html":if(o=c.documentElement,!o)throw Error(a(452));return o;case"head":if(o=c.head,!o)throw Error(a(453));return o;case"body":if(o=c.body,!o)throw Error(a(454));return o;default:throw Error(a(451))}}function Wd(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);ue(o)}var Ea=new Map,GC=new Set;function qh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ui=H.d;H.d={f:zB,r:$B,D:UB,C:qB,L:WB,m:HB,X:VB,S:GB,M:YB};function zB(){var o=Ui.f(),c=Rh();return o||c}function $B(o){var c=xe(o);c!==null&&c.tag===5&&c.type==="form"?fT(c):Ui.r(o)}var $l=typeof document>"u"?null:document;function VC(o,c,h){var x=$l;if(x&&typeof c=="string"&&c){var w=ja(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),GC.has(w)||(GC.add(w),o={rel:o,crossOrigin:h,href:c},x.querySelector(w)===null&&(c=x.createElement("link"),un(c,"link",o),De(c),x.head.appendChild(c)))}}function UB(o){Ui.D(o),VC("dns-prefetch",o,null)}function qB(o,c){Ui.C(o,c),VC("preconnect",o,c)}function WB(o,c,h){Ui.L(o,c,h);var x=$l;if(x&&o&&c){var w='link[rel="preload"][as="'+ja(c)+'"]';c==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+ja(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+ja(h.imageSizes)+'"]')):w+='[href="'+ja(o)+'"]';var O=w;switch(c){case"style":O=Ul(o);break;case"script":O=ql(o)}Ea.has(O)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),Ea.set(O,o),x.querySelector(w)!==null||c==="style"&&x.querySelector(Hd(O))||c==="script"&&x.querySelector(Gd(O))||(c=x.createElement("link"),un(c,"link",o),De(c),x.head.appendChild(c)))}}function HB(o,c){Ui.m(o,c);var h=$l;if(h&&o){var x=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+ja(x)+'"][href="'+ja(o)+'"]',O=w;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=ql(o)}if(!Ea.has(O)&&(o=p({rel:"modulepreload",href:o},c),Ea.set(O,o),h.querySelector(w)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Gd(O)))return}x=h.createElement("link"),un(x,"link",o),De(x),h.head.appendChild(x)}}}function GB(o,c,h){Ui.S(o,c,h);var x=$l;if(x&&o){var w=We(x).hoistableStyles,O=Ul(o);c=c||"default";var Y=w.get(O);if(!Y){var se={loading:0,preload:null};if(Y=x.querySelector(Hd(O)))se.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=Ea.get(O))&&Mg(o,h);var we=Y=x.createElement("link");De(we),un(we,"link",o),we._p=new Promise(function(Re,Xe){we.onload=Re,we.onerror=Xe}),we.addEventListener("load",function(){se.loading|=1}),we.addEventListener("error",function(){se.loading|=2}),se.loading|=4,Wh(Y,c,x)}Y={type:"stylesheet",instance:Y,count:1,state:se},w.set(O,Y)}}}function VB(o,c){Ui.X(o,c);var h=$l;if(h&&o){var x=We(h).hoistableScripts,w=ql(o),O=x.get(w);O||(O=h.querySelector(Gd(w)),O||(o=p({src:o,async:!0},c),(c=Ea.get(w))&&Bg(o,c),O=h.createElement("script"),De(O),un(O,"link",o),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(w,O))}}function YB(o,c){Ui.M(o,c);var h=$l;if(h&&o){var x=We(h).hoistableScripts,w=ql(o),O=x.get(w);O||(O=h.querySelector(Gd(w)),O||(o=p({src:o,async:!0,type:"module"},c),(c=Ea.get(w))&&Bg(o,c),O=h.createElement("script"),De(O),un(O,"link",o),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(w,O))}}function YC(o,c,h,x){var w=(w=le.current)?qh(w):null;if(!w)throw Error(a(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Ul(h.href),h=We(w).hoistableStyles,x=h.get(c),x||(x={type:"style",instance:null,count:0,state:null},h.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Ul(h.href);var O=We(w).hoistableStyles,Y=O.get(o);if(Y||(w=w.ownerDocument||w,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(o,Y),(O=w.querySelector(Hd(o)))&&!O._p&&(Y.instance=O,Y.state.loading=5),Ea.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ea.set(o,h),O||XB(w,o,h,Y.state))),c&&x===null)throw Error(a(528,""));return Y}if(c&&x!==null)throw Error(a(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=ql(h),h=We(w).hoistableScripts,x=h.get(c),x||(x={type:"script",instance:null,count:0,state:null},h.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,o))}}function Ul(o){return'href="'+ja(o)+'"'}function Hd(o){return'link[rel="stylesheet"]['+o+"]"}function XC(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function XB(o,c,h,x){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=o.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),un(c,"link",h),De(c),o.head.appendChild(c))}function ql(o){return'[src="'+ja(o)+'"]'}function Gd(o){return"script[async]"+o}function KC(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var x=o.querySelector('style[data-href~="'+ja(h.href)+'"]');if(x)return c.instance=x,De(x),x;var w=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(o.ownerDocument||o).createElement("style"),De(x),un(x,"style",w),Wh(x,h.precedence,o),c.instance=x;case"stylesheet":w=Ul(h.href);var O=o.querySelector(Hd(w));if(O)return c.state.loading|=4,c.instance=O,De(O),O;x=XC(h),(w=Ea.get(w))&&Mg(x,w),O=(o.ownerDocument||o).createElement("link"),De(O);var Y=O;return Y._p=new Promise(function(se,we){Y.onload=se,Y.onerror=we}),un(O,"link",x),c.state.loading|=4,Wh(O,h.precedence,o),c.instance=O;case"script":return O=ql(h.src),(w=o.querySelector(Gd(O)))?(c.instance=w,De(w),w):(x=h,(w=Ea.get(O))&&(x=p({},h),Bg(x,w)),o=o.ownerDocument||o,w=o.createElement("script"),De(w),un(w,"link",x),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(a(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,Wh(x,h.precedence,o));return c.instance}function Wh(o,c,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=x.length?x[x.length-1]:null,O=w,Y=0;Y<x.length;Y++){var se=x[Y];if(se.dataset.precedence===c)O=se;else if(O!==w)break}O?O.parentNode.insertBefore(o,O.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function Mg(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Bg(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Hh=null;function QC(o,c,h){if(Hh===null){var x=new Map,w=Hh=new Map;w.set(h,x)}else w=Hh,x=w.get(h),x||(x=new Map,w.set(h,x));if(x.has(o))return x;for(x.set(o,null),h=h.getElementsByTagName(o),w=0;w<h.length;w++){var O=h[w];if(!(O[oe]||O[Fr]||o==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=O.getAttribute(c)||"";Y=o+Y;var se=x.get(Y);se?se.push(O):x.set(Y,[O])}}return x}function ZC(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function KB(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function JC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Vd=null;function QB(){}function ZB(o,c,h){if(Vd===null)throw Error(a(475));var x=Vd;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var w=Ul(h.href),O=o.querySelector(Hd(w));if(O){o=O._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(x.count++,x=Gh.bind(x),o.then(x,x)),c.state.loading|=4,c.instance=O,De(O);return}O=o.ownerDocument||o,h=XC(h),(w=Ea.get(w))&&Mg(h,w),O=O.createElement("link"),De(O);var Y=O;Y._p=new Promise(function(se,we){Y.onload=se,Y.onerror=we}),un(O,"link",h),c.instance=O}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(x.count++,c=Gh.bind(x),o.addEventListener("load",c),o.addEventListener("error",c))}}function JB(){if(Vd===null)throw Error(a(475));var o=Vd;return o.stylesheets&&o.count===0&&Fg(o,o.stylesheets),0<o.count?function(c){var h=setTimeout(function(){if(o.stylesheets&&Fg(o,o.stylesheets),o.unsuspend){var x=o.unsuspend;o.unsuspend=null,x()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(h)}}:null}function Gh(){if(this.count--,this.count===0){if(this.stylesheets)Fg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Vh=null;function Fg(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Vh=new Map,c.forEach(eF,o),Vh=null,Gh.call(o))}function eF(o,c){if(!(c.state.loading&4)){var h=Vh.get(o);if(h)var x=h.get(null);else{h=new Map,Vh.set(o,h);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<w.length;O++){var Y=w[O];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(h.set(Y.dataset.precedence,Y),x=Y)}x&&h.set(null,x)}w=c.instance,Y=w.getAttribute("data-precedence"),O=h.get(Y)||x,O===x&&h.set(null,w),h.set(Y,w),this.count++,x=Gh.bind(this),w.addEventListener("load",x),w.addEventListener("error",x),O?O.parentNode.insertBefore(w,O.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var Yd={$$typeof:E,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function tF(o,c,h,x,w,O,Y,se){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.hiddenUpdates=jt(null),this.identifierPrefix=x,this.onUncaughtError=w,this.onCaughtError=O,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function eA(o,c,h,x,w,O,Y,se,we,Re,Xe,Ze){return o=new tF(o,c,h,Y,se,we,Re,Ze),c=1,O===!0&&(c|=24),O=na(3,null,null,c),o.current=O,O.stateNode=o,c=vx(),c.refCount++,o.pooledCache=c,c.refCount++,O.memoizedState={element:x,isDehydrated:h,cache:c},Sx(O),o}function tA(o){return o?(o=bl,o):bl}function rA(o,c,h,x,w,O){w=tA(w),x.context===null?x.context=w:x.pendingContext=w,x=Ns(c),x.payload={element:h},O=O===void 0?null:O,O!==null&&(x.callback=O),h=Ts(o,x,c),h!==null&&(la(h,o,c),Nd(h,o,c))}function nA(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Lg(o,c){nA(o,c),(o=o.alternate)&&nA(o,c)}function aA(o){if(o.tag===13){var c=vl(o,67108864);c!==null&&la(c,o,67108864),Lg(o,67108864)}}var Yh=!0;function rF(o,c,h,x){var w=R.T;R.T=null;var O=H.p;try{H.p=2,zg(o,c,h,x)}finally{H.p=O,R.T=w}}function nF(o,c,h,x){var w=R.T;R.T=null;var O=H.p;try{H.p=8,zg(o,c,h,x)}finally{H.p=O,R.T=w}}function zg(o,c,h,x){if(Yh){var w=$g(x);if(w===null)Ag(o,c,x,Xh,h),sA(o,x);else if(iF(w,o,c,h,x))x.stopPropagation();else if(sA(o,x),c&4&&-1<aF.indexOf(o)){for(;w!==null;){var O=xe(w);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var Y=J(O.pendingLanes);if(Y!==0){var se=O;for(se.pendingLanes|=2,se.entangledLanes|=2;Y;){var we=1<<31-de(Y);se.entanglements[1]|=we,Y&=~we}xi(O),(tr&6)===0&&(Dh=fe()+500,$d(0))}}break;case 13:se=vl(O,2),se!==null&&la(se,O,2),Rh(),Lg(O,2)}if(O=$g(x),O===null&&Ag(o,c,x,Xh,h),O===w)break;w=O}w!==null&&x.stopPropagation()}else Ag(o,c,x,null,h)}}function $g(o){return o=G0(o),Ug(o)}var Xh=null;function Ug(o){if(Xh=null,o=he(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=l(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Xh=o,null}function iA(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case K:return 2;case re:return 8;case W:case Z:return 32;case Q:return 268435456;default:return 32}default:return 32}}var qg=!1,Fs=null,Ls=null,zs=null,Xd=new Map,Kd=new Map,$s=[],aF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sA(o,c){switch(o){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Xd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kd.delete(c.pointerId)}}function Qd(o,c,h,x,w,O){return o===null||o.nativeEvent!==O?(o={blockedOn:c,domEventName:h,eventSystemFlags:x,nativeEvent:O,targetContainers:[w]},c!==null&&(c=xe(c),c!==null&&aA(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function iF(o,c,h,x,w){switch(c){case"focusin":return Fs=Qd(Fs,o,c,h,x,w),!0;case"dragenter":return Ls=Qd(Ls,o,c,h,x,w),!0;case"mouseover":return zs=Qd(zs,o,c,h,x,w),!0;case"pointerover":var O=w.pointerId;return Xd.set(O,Qd(Xd.get(O)||null,o,c,h,x,w)),!0;case"gotpointercapture":return O=w.pointerId,Kd.set(O,Qd(Kd.get(O)||null,o,c,h,x,w)),!0}return!1}function oA(o){var c=he(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=l(h),c!==null){o.blockedOn=c,or(o.priority,function(){if(h.tag===13){var x=oa();x=Pt(x);var w=vl(h,x);w!==null&&la(w,h,x),Lg(h,x)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Kh(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=$g(o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);H0=x,h.target.dispatchEvent(x),H0=null}else return c=xe(h),c!==null&&aA(c),o.blockedOn=h,!1;c.shift()}return!0}function lA(o,c,h){Kh(o)&&h.delete(c)}function sF(){qg=!1,Fs!==null&&Kh(Fs)&&(Fs=null),Ls!==null&&Kh(Ls)&&(Ls=null),zs!==null&&Kh(zs)&&(zs=null),Xd.forEach(lA),Kd.forEach(lA)}function Qh(o,c){o.blockedOn===c&&(o.blockedOn=null,qg||(qg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sF)))}var Zh=null;function cA(o){Zh!==o&&(Zh=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Zh===o&&(Zh=null);for(var c=0;c<o.length;c+=3){var h=o[c],x=o[c+1],w=o[c+2];if(typeof x!="function"){if(Ug(x||h)===null)continue;break}var O=xe(h);O!==null&&(o.splice(c,3),c-=3,Ux(O,{pending:!0,data:w,method:h.method,action:x},x,w))}}))}function Zd(o){function c(we){return Qh(we,o)}Fs!==null&&Qh(Fs,o),Ls!==null&&Qh(Ls,o),zs!==null&&Qh(zs,o),Xd.forEach(c),Kd.forEach(c);for(var h=0;h<$s.length;h++){var x=$s[h];x.blockedOn===o&&(x.blockedOn=null)}for(;0<$s.length&&(h=$s[0],h.blockedOn===null);)oA(h),h.blockedOn===null&&$s.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var w=h[x],O=h[x+1],Y=w[Rr]||null;if(typeof O=="function")Y||cA(h);else if(Y){var se=null;if(O&&O.hasAttribute("formAction")){if(w=O,Y=O[Rr]||null)se=Y.formAction;else if(Ug(w)!==null)continue}else se=Y.action;typeof se=="function"?h[x+1]=se:(h.splice(x,3),x-=3),cA(h)}}}function Wg(o){this._internalRoot=o}Jh.prototype.render=Wg.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(a(409));var h=c.current,x=oa();rA(h,x,o,c,null,null)},Jh.prototype.unmount=Wg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;rA(o.current,2,null,o,null,null),Rh(),c[$a]=null}};function Jh(o){this._internalRoot=o}Jh.prototype.unstable_scheduleHydration=function(o){if(o){var c=Ct();o={blockedOn:null,target:o,priority:c};for(var h=0;h<$s.length&&c!==0&&c<$s[h].priority;h++);$s.splice(h,0,o),h===0&&oA(o)}};var dA=t.version;if(dA!=="19.1.0")throw Error(a(527,dA,"19.1.0"));H.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(a(188)):(o=Object.keys(o).join(","),Error(a(268,o)));return o=u(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var oF={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ep.isDisabled&&ep.supportsFiber)try{Ge=ep.inject(oF),Le=ep}catch{}}return eu.createRoot=function(o,c){if(!i(o))throw Error(a(299));var h=!1,x="",w=CT,O=AT,Y=ET,se=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(Y=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(se=c.unstable_transitionCallbacks)),c=eA(o,1,!1,null,null,h,x,w,O,Y,se,null),o[$a]=c.current,Cg(o),new Wg(c)},eu.hydrateRoot=function(o,c,h){if(!i(o))throw Error(a(299));var x=!1,w="",O=CT,Y=AT,se=ET,we=null,Re=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(O=h.onUncaughtError),h.onCaughtError!==void 0&&(Y=h.onCaughtError),h.onRecoverableError!==void 0&&(se=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(we=h.unstable_transitionCallbacks),h.formState!==void 0&&(Re=h.formState)),c=eA(o,1,!0,c,h??null,x,w,O,Y,se,we,Re),c.context=tA(null),h=c.current,x=oa(),x=Pt(x),w=Ns(x),w.callback=null,Ts(h,w,x),h=x,c.current.lanes=h,Lt(c,h),xi(c),o[$a]=c.current,Cg(o),new Jh(c)},eu.version="19.1.0",eu}var bA;function gF(){if(bA)return Vg.exports;bA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vg.exports=xF(),Vg.exports}var yF=gF();const vF=mr(yF);var tu={},jA;function bF(){if(jA)return tu;jA=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.parse=l,tu.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function l(g,v){const j=new s,b=g.length;if(b<2)return j;const y=(v==null?void 0:v.decode)||p;let C=0;do{const T=g.indexOf("=",C);if(T===-1)break;const E=g.indexOf(";",C),S=E===-1?b:E;if(T>S){C=g.lastIndexOf(";",T-1)+1;continue}const A=d(g,C,T),k=u(g,T,A),I=g.slice(A,k);if(j[I]===void 0){let B=d(g,T+1,S),M=u(g,S,B);const L=y(g.slice(B,M));j[I]=L}C=S+1}while(C<b);return j}function d(g,v,j){do{const b=g.charCodeAt(v);if(b!==32&&b!==9)return v}while(++v<j);return j}function u(g,v,j){for(;v>j;){const b=g.charCodeAt(--v);if(b!==32&&b!==9)return v+1}return j}function f(g,v,j){const b=(j==null?void 0:j.encode)||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const y=b(v);if(!t.test(y))throw new TypeError(`argument val is invalid: ${v}`);let C=g+"="+y;if(!j)return C;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);C+="; Max-Age="+j.maxAge}if(j.domain){if(!r.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);C+="; Domain="+j.domain}if(j.path){if(!a.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);C+="; Path="+j.path}if(j.expires){if(!m(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);C+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(C+="; HttpOnly"),j.secure&&(C+="; Secure"),j.partitioned&&(C+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return C}function p(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function m(g){return i.call(g)==="[object Date]"}return tu}bF();var wA="popstate";function jF(e={}){function t(a,i){let{pathname:s,search:l,hash:d}=a.location;return dj("",{pathname:s,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:Du(i)}return SF(t,r,null,e)}function Ar(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function si(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wF(){return Math.random().toString(36).substring(2,10)}function SA(e,t){return{usr:e.state,key:e.key,idx:t}}function dj(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Uc(t):t,state:r,key:t&&t.key||a||wF()}}function Du({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function SF(e,t,r,a={}){let{window:i=document.defaultView,v5Compat:s=!1}=a,l=i.history,d="POP",u=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){d="POP";let y=p(),C=y==null?null:y-f;f=y,u&&u({action:d,location:b.location,delta:C})}function g(y,C){d="PUSH";let T=dj(b.location,y,C);f=p()+1;let E=SA(T,f),S=b.createHref(T);try{l.pushState(E,"",S)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(S)}s&&u&&u({action:d,location:b.location,delta:1})}function v(y,C){d="REPLACE";let T=dj(b.location,y,C);f=p();let E=SA(T,f),S=b.createHref(T);l.replaceState(E,"",S),s&&u&&u({action:d,location:b.location,delta:0})}function j(y){return NF(y)}let b={get action(){return d},get location(){return e(i,l)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(wA,m),u=y,()=>{i.removeEventListener(wA,m),u=null}},createHref(y){return t(i,y)},createURL:j,encodeLocation(y){let C=j(y);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:v,go(y){return l.go(y)}};return b}function NF(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ar(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Du(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function ND(e,t,r="/"){return TF(e,t,r,!1)}function TF(e,t,r,a){let i=typeof t=="string"?Uc(t):t,s=os(i.pathname||"/",r);if(s==null)return null;let l=TD(e);CF(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let f=BF(s);d=PF(l[u],f,a)}return d}function TD(e,t=[],r=[],a=""){let i=(s,l,d)=>{let u={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};u.relativePath.startsWith("/")&&(Ar(u.relativePath.startsWith(a),`Absolute route path "${u.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(a.length));let f=Ji([a,u.relativePath]),p=r.concat(u);s.children&&s.children.length>0&&(Ar(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),TD(s.children,t,p,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:IF(f,s.index),routesMeta:p})};return e.forEach((s,l)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))i(s,l);else for(let u of CD(s.path))i(s,l,u)}),t}function CD(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(a.length===0)return i?[s,""]:[s];let l=CD(a.join("/")),d=[];return d.push(...l.map(u=>u===""?s:[s,u].join("/"))),i&&d.push(...l),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function CF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:RF(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var AF=/^:[\w-]+$/,EF=3,_F=2,OF=1,kF=10,DF=-2,NA=e=>e==="*";function IF(e,t){let r=e.split("/"),a=r.length;return r.some(NA)&&(a+=DF),t&&(a+=_F),r.filter(i=>!NA(i)).reduce((i,s)=>i+(AF.test(s)?EF:s===""?OF:kF),a)}function RF(e,t){return e.length===t.length&&e.slice(0,-1).every((a,i)=>a===t[i])?e[e.length-1]-t[t.length-1]:0}function PF(e,t,r=!1){let{routesMeta:a}=e,i={},s="/",l=[];for(let d=0;d<a.length;++d){let u=a[d],f=d===a.length-1,p=s==="/"?t:t.slice(s.length)||"/",m=kp({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),g=u.route;if(!m&&f&&r&&!a[a.length-1].route.index&&(m=kp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Ji([s,m.pathname]),pathnameBase:$F(Ji([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Ji([s,m.pathnameBase]))}return l}function kp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=MF(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((f,{paramName:p,isOptional:m},g)=>{if(p==="*"){let j=d[g]||"";l=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const v=d[g];return m&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:e}}function MF(e,t=!1,r=!0){si(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(a.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function BF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return si(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function FF(e,t="/"){let{pathname:r,search:a="",hash:i=""}=typeof e=="string"?Uc(e):e;return{pathname:r?r.startsWith("/")?r:LF(r,t):t,search:UF(a),hash:qF(i)}}function LF(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Qg(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Y2(e){let t=zF(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function X2(e,t,r,a=!1){let i;typeof e=="string"?i=Uc(e):(i={...e},Ar(!i.pathname||!i.pathname.includes("?"),Qg("?","pathname","search",i)),Ar(!i.pathname||!i.pathname.includes("#"),Qg("#","pathname","hash",i)),Ar(!i.search||!i.search.includes("#"),Qg("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,d;if(l==null)d=r;else{let m=t.length-1;if(!a&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}d=m>=0?t[m]:"/"}let u=FF(i,d),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var Ji=e=>e.join("/").replace(/\/\/+/g,"/"),$F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),UF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var AD=["POST","PUT","PATCH","DELETE"];new Set(AD);var HF=["GET",...AD];new Set(HF);var qc=N.createContext(null);qc.displayName="DataRouter";var Ym=N.createContext(null);Ym.displayName="DataRouterState";var ED=N.createContext({isTransitioning:!1});ED.displayName="ViewTransition";var GF=N.createContext(new Map);GF.displayName="Fetchers";var VF=N.createContext(null);VF.displayName="Await";var li=N.createContext(null);li.displayName="Navigation";var Tf=N.createContext(null);Tf.displayName="Location";var Ci=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var K2=N.createContext(null);K2.displayName="RouteError";function YF(e,{relative:t}={}){Ar(Wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=N.useContext(li),{hash:i,pathname:s,search:l}=Cf(e,{relative:t}),d=s;return r!=="/"&&(d=s==="/"?r:Ji([r,s])),a.createHref({pathname:d,search:l,hash:i})}function Wc(){return N.useContext(Tf)!=null}function ea(){return Ar(Wc(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Tf).location}var _D="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OD(e){N.useContext(li).static||N.useLayoutEffect(e)}function sn(){let{isDataRoute:e}=N.useContext(Ci);return e?oL():XF()}function XF(){Ar(Wc(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(qc),{basename:t,navigator:r}=N.useContext(li),{matches:a}=N.useContext(Ci),{pathname:i}=ea(),s=JSON.stringify(Y2(a)),l=N.useRef(!1);return OD(()=>{l.current=!0}),N.useCallback((u,f={})=>{if(si(l.current,_D),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=X2(u,JSON.parse(s),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ji([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,s,i,e])}N.createContext(null);function Cf(e,{relative:t}={}){let{matches:r}=N.useContext(Ci),{pathname:a}=ea(),i=JSON.stringify(Y2(r));return N.useMemo(()=>X2(e,JSON.parse(i),a,t==="path"),[e,i,a,t])}function KF(e,t){return kD(e,t)}function kD(e,t,r,a){var C;Ar(Wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(li),{matches:s}=N.useContext(Ci),l=s[s.length-1],d=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let T=p&&p.path||"";DD(u,!p||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let m=ea(),g;if(t){let T=typeof t=="string"?Uc(t):t;Ar(f==="/"||((C=T.pathname)==null?void 0:C.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),g=T}else g=m;let v=g.pathname||"/",j=v;if(f!=="/"){let T=f.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let b=ND(e,{pathname:j});si(p||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),si(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=tL(b&&b.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:Ji([f,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Ji([f,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,r,a);return t&&y?N.createElement(Tf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},y):y}function QF(){let e=sL(),t=WF(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:i},r):null,l)}var ZF=N.createElement(QF,null),JF=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(Ci.Provider,{value:this.props.routeContext},N.createElement(K2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eL({routeContext:e,match:t,children:r}){let a=N.useContext(qc);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Ci.Provider,{value:e},r)}function tL(e,t=[],r=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let u=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Ar(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,d=-1;if(r)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:p,errors:m}=r,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,f,p)=>{let m,g=!1,v=null,j=null;r&&(m=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||ZF,l&&(d<0&&p===0?(DD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,j=null):d===p&&(g=!0,j=f.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,p+1)),y=()=>{let C;return m?C=v:g?C=j:f.route.Component?C=N.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=u,N.createElement(eL,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:C})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement(JF,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}function Q2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rL(e){let t=N.useContext(qc);return Ar(t,Q2(e)),t}function nL(e){let t=N.useContext(Ym);return Ar(t,Q2(e)),t}function aL(e){let t=N.useContext(Ci);return Ar(t,Q2(e)),t}function Z2(e){let t=aL(e),r=t.matches[t.matches.length-1];return Ar(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function iL(){return Z2("useRouteId")}function sL(){var a;let e=N.useContext(K2),t=nL("useRouteError"),r=Z2("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function oL(){let{router:e}=rL("useNavigate"),t=Z2("useNavigate"),r=N.useRef(!1);return OD(()=>{r.current=!0}),N.useCallback(async(i,s={})=>{si(r.current,_D),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var TA={};function DD(e,t,r){!t&&!TA[e]&&(TA[e]=!0,si(!1,r))}N.memo(lL);function lL({routes:e,future:t,state:r}){return kD(e,void 0,r,t)}function Dp({to:e,replace:t,state:r,relative:a}){Ar(Wc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(li);si(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(Ci),{pathname:l}=ea(),d=sn(),u=X2(e,Y2(s),l,a==="path"),f=JSON.stringify(u);return N.useEffect(()=>{d(JSON.parse(f),{replace:t,state:r,relative:a})},[d,f,a,t,r]),null}function yt(e){Ar(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cL({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:i,static:s=!1}){Ar(!Wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof r=="string"&&(r=Uc(r));let{pathname:u="/",search:f="",hash:p="",state:m=null,key:g="default"}=r,v=N.useMemo(()=>{let j=os(u,l);return j==null?null:{location:{pathname:j,search:f,hash:p,state:m,key:g},navigationType:a}},[l,u,f,p,m,g,a]);return si(v!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(li.Provider,{value:d},N.createElement(Tf.Provider,{children:t,value:v}))}function uj({children:e,location:t}){return KF(fj(e),t)}function fj(e,t=[]){let r=[];return N.Children.forEach(e,(a,i)=>{if(!N.isValidElement(a))return;let s=[...t,i];if(a.type===N.Fragment){r.push.apply(r,fj(a.props.children,s));return}Ar(a.type===yt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ar(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=fj(a.props.children,s)),r.push(l)}),r}var Np="get",Tp="application/x-www-form-urlencoded";function Xm(e){return e!=null&&typeof e.tagName=="string"}function dL(e){return Xm(e)&&e.tagName.toLowerCase()==="button"}function uL(e){return Xm(e)&&e.tagName.toLowerCase()==="form"}function fL(e){return Xm(e)&&e.tagName.toLowerCase()==="input"}function hL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pL(e,t){return e.button===0&&(!t||t==="_self")&&!hL(e)}var rp=null;function mL(){if(rp===null)try{new FormData(document.createElement("form"),0),rp=!1}catch{rp=!0}return rp}var xL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zg(e){return e!=null&&!xL.has(e)?(si(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tp}"`),null):e}function gL(e,t){let r,a,i,s,l;if(uL(e)){let d=e.getAttribute("action");a=d?os(d,t):null,r=e.getAttribute("method")||Np,i=Zg(e.getAttribute("enctype"))||Tp,s=new FormData(e)}else if(dL(e)||fL(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||d.getAttribute("action");if(a=u?os(u,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||Np,i=Zg(e.getAttribute("formenctype"))||Zg(d.getAttribute("enctype"))||Tp,s=new FormData(d,e),!mL()){let{name:f,type:p,value:m}=e;if(p==="image"){let g=f?`${f}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else f&&s.append(f,m)}}else{if(Xm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Np,a=null,i=Tp,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:s,body:l}}function J2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function yL(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function bL(e,t,r){let a=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await yL(s,r);return l.links?l.links():[]}return[]}));return NL(a.flat(1).filter(vL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function CA(e,t,r,a,i,s){let l=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,d=(u,f)=>{var p;return r[f].pathname!==u.pathname||((p=r[f].route.path)==null?void 0:p.endsWith("*"))&&r[f].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,f)=>l(u,f)||d(u,f)):s==="data"?t.filter((u,f)=>{var m;let p=a.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(l(u,f)||d(u,f))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function jL(e,t,{includeHydrateFallback:r}={}){return wL(e.map(a=>{let i=t.routes[a.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function wL(e){return[...new Set(e)]}function SL(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function NL(e,t){let r=new Set;return new Set(t),e.reduce((a,i)=>{let s=JSON.stringify(SL(i));return r.has(s)||(r.add(s),a.push({key:s,link:i})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var TL=new Set([100,101,204,205]);function CL(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&os(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function ID(){let e=N.useContext(qc);return J2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function AL(){let e=N.useContext(Ym);return J2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ew=N.createContext(void 0);ew.displayName="FrameworkContext";function RD(){let e=N.useContext(ew);return J2(e,"You must render this element inside a <HydratedRouter> element"),e}function EL(e,t){let r=N.useContext(ew),[a,i]=N.useState(!1),[s,l]=N.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,g=N.useRef(null);N.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let b=C=>{C.forEach(T=>{l(T.isIntersecting)})},y=new IntersectionObserver(b,{threshold:.5});return g.current&&y.observe(g.current),()=>{y.disconnect()}}},[e]),N.useEffect(()=>{if(a){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[a]);let v=()=>{i(!0)},j=()=>{i(!1),l(!1)};return r?e!=="intent"?[s,g,{}]:[s,g,{onFocus:ru(d,v),onBlur:ru(u,j),onMouseEnter:ru(f,v),onMouseLeave:ru(p,j),onTouchStart:ru(m,v)}]:[!1,g,{}]}function ru(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function _L({page:e,...t}){let{router:r}=ID(),a=N.useMemo(()=>ND(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?N.createElement(kL,{page:e,matches:a,...t}):null}function OL(e){let{manifest:t,routeModules:r}=RD(),[a,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return bL(e,t,r).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,r]),a}function kL({page:e,matches:t,...r}){let a=ea(),{manifest:i,routeModules:s}=RD(),{basename:l}=ID(),{loaderData:d,matches:u}=AL(),f=N.useMemo(()=>CA(e,t,u,i,a,"data"),[e,t,u,i,a]),p=N.useMemo(()=>CA(e,t,u,i,a,"assets"),[e,t,u,i,a]),m=N.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,b=!1;if(t.forEach(C=>{var E;let T=i.routes[C.route.id];!T||!T.hasLoader||(!f.some(S=>S.route.id===C.route.id)&&C.route.id in d&&((E=s[C.route.id])!=null&&E.shouldRevalidate)||T.hasClientLoader?b=!0:j.add(C.route.id))}),j.size===0)return[];let y=CL(e,l);return b&&j.size>0&&y.searchParams.set("_routes",t.filter(C=>j.has(C.route.id)).map(C=>C.route.id).join(",")),[y.pathname+y.search]},[l,d,a,i,f,t,e,s]),g=N.useMemo(()=>jL(p,i),[p,i]),v=OL(p);return N.createElement(N.Fragment,null,m.map(j=>N.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),g.map(j=>N.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),v.map(({key:j,link:b})=>N.createElement("link",{key:j,...b})))}function DL(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var PD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PD&&(window.__reactRouterVersion="7.6.2")}catch{}function IL({basename:e,children:t,window:r}){let a=N.useRef();a.current==null&&(a.current=jF({window:r,v5Compat:!0}));let i=a.current,[s,l]=N.useState({action:i.action,location:i.location}),d=N.useCallback(u=>{N.startTransition(()=>l(u))},[l]);return N.useLayoutEffect(()=>i.listen(d),[i,d]),N.createElement(cL,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var MD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tw=N.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:i,reloadDocument:s,replace:l,state:d,target:u,to:f,preventScrollReset:p,viewTransition:m,...g},v){let{basename:j}=N.useContext(li),b=typeof f=="string"&&MD.test(f),y,C=!1;if(typeof f=="string"&&b&&(y=f,PD))try{let M=new URL(window.location.href),L=f.startsWith("//")?new URL(M.protocol+f):new URL(f),F=os(L.pathname,j);L.origin===M.origin&&F!=null?f=F+L.search+L.hash:C=!0}catch{si(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=YF(f,{relative:i}),[E,S,A]=EL(a,g),k=BL(f,{replace:l,state:d,target:u,preventScrollReset:p,relative:i,viewTransition:m});function I(M){t&&t(M),M.defaultPrevented||k(M)}let B=N.createElement("a",{...g,...A,href:y||T,onClick:C||s?t:I,ref:DL(v,S),target:u,"data-discover":!b&&r==="render"?"true":void 0});return E&&!b?N.createElement(N.Fragment,null,B,N.createElement(_L,{page:T})):B});tw.displayName="Link";var RL=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:i=!1,style:s,to:l,viewTransition:d,children:u,...f},p){let m=Cf(l,{relative:f.relative}),g=ea(),v=N.useContext(Ym),{navigator:j,basename:b}=N.useContext(li),y=v!=null&&UL(m)&&d===!0,C=j.encodeLocation?j.encodeLocation(m).pathname:m.pathname,T=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(T=T.toLowerCase(),E=E?E.toLowerCase():null,C=C.toLowerCase()),E&&b&&(E=os(E,b)||E);const S=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let A=T===C||!i&&T.startsWith(C)&&T.charAt(S)==="/",k=E!=null&&(E===C||!i&&E.startsWith(C)&&E.charAt(C.length)==="/"),I={isActive:A,isPending:k,isTransitioning:y},B=A?t:void 0,M;typeof a=="function"?M=a(I):M=[a,A?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(I):s;return N.createElement(tw,{...f,"aria-current":B,className:M,ref:p,style:L,to:l,viewTransition:d},typeof u=="function"?u(I):u)});RL.displayName="NavLink";var PL=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:i,state:s,method:l=Np,action:d,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:m,...g},v)=>{let j=zL(),b=$L(d,{relative:f}),y=l.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&MD.test(d),T=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let S=E.nativeEvent.submitter,A=(S==null?void 0:S.getAttribute("formmethod"))||l;j(S||E.currentTarget,{fetcherKey:t,method:A,navigate:r,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:m})};return N.createElement("form",{ref:v,method:y,action:b,onSubmit:a?u:T,...g,"data-discover":!C&&e==="render"?"true":void 0})});PL.displayName="Form";function ML(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BD(e){let t=N.useContext(qc);return Ar(t,ML(e)),t}function BL(e,{target:t,replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:l}={}){let d=sn(),u=ea(),f=Cf(e,{relative:s});return N.useCallback(p=>{if(pL(p,t)){p.preventDefault();let m=r!==void 0?r:Du(u)===Du(f);d(e,{replace:m,state:a,preventScrollReset:i,relative:s,viewTransition:l})}},[u,d,f,r,a,t,e,i,s,l])}var FL=0,LL=()=>`__${String(++FL)}__`;function zL(){let{router:e}=BD("useSubmit"),{basename:t}=N.useContext(li),r=iL();return N.useCallback(async(a,i={})=>{let{action:s,method:l,encType:d,formData:u,body:f}=gL(a,t);if(i.navigate===!1){let p=i.fetcherKey||LL();await e.fetch(p,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function $L(e,{relative:t}={}){let{basename:r}=N.useContext(li),a=N.useContext(Ci);Ar(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s={...Cf(e||".",{relative:t})},l=ea();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),u=d.getAll("index");if(u.some(p=>p==="")){d.delete("index"),u.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ji([r,s.pathname])),Du(s)}function UL(e,t={}){let r=N.useContext(ED);Ar(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=BD("useViewTransitionState"),i=Cf(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=os(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=os(r.nextLocation.pathname,a)||r.nextLocation.pathname;return kp(i.pathname,l)!=null||kp(i.pathname,s)!=null}[...TL];/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),AA=e=>{const t=WL(e);return t.charAt(0).toUpperCase()+t.slice(1)},FD=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),HL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:s,iconNode:l,...d},u)=>N.createElement("svg",{ref:u,...GL,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:FD("lucide",i),...!s&&!HL(d)&&{"aria-hidden":"true"},...d},[...l.map(([f,p])=>N.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(e,t)=>{const r=N.forwardRef(({className:a,...i},s)=>N.createElement(VL,{ref:s,iconNode:t,className:FD(`lucide-${qL(AA(e))}`,`lucide-${e}`,a),...i}));return r.displayName=AA(e),r};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Zs=xt("arrow-down",YL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Js=xt("arrow-up",XL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],QL=xt("award",KL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],JL=xt("banknote",ZL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],Hi=xt("bed",e7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tr=xt("calendar",t7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ac=xt("chart-column",r7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vn=xt("check",n7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Af=xt("chevron-left",a7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ef=xt("chevron-right",i7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$t=xt("circle-alert",s7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gi=xt("circle-check-big",o7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c7=xt("circle-help",l7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Cp=xt("circle-x",d7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],bi=xt("clock",u7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Bn=xt("credit-card",f7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],hj=xt("dollar-sign",h7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ln=xt("download",p7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rw=xt("eye-off",m7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ci=xt("eye",x7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],pc=xt("file-text",g7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ip=xt("funnel",y7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],EA=xt("heart",v7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Jo=xt("image",b7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],es=xt("indian-rupee",j7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],S7=xt("info",w7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],_A=xt("key-round",N7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],LD=xt("key",T7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],A7=xt("layout-dashboard",C7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Gn=xt("loader",E7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],O7=xt("lock",_7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],nw=xt("log-out",k7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],eo=xt("mail",D7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Iu=xt("map-pin",I7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M5 12h14",key:"1ays0h"}]],OA=xt("minus",R7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kA=xt("package",P7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],oi=xt("phone",M7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pa=xt("plus",B7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ls=xt("printer",F7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Vi=xt("qr-code",L7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],mc=xt("receipt",z7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ai=xt("refresh-cw",$7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],q7=xt("rotate-cw",U7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zD=xt("save",W7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yt=xt("search",H7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],V7=xt("shopping-bag",G7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],bu=xt("shopping-cart",Y7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zn=xt("square-pen",X7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],pj=xt("store",K7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Z7=xt("table",Q7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],ez=xt("tags",J7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],rz=xt("ticket",tz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Qn=xt("trash-2",nz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Rp=xt("trending-up",az);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Gs=xt("upload",iz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Hc=xt("user-plus",sz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xc=xt("user",oz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yi=xt("users",lz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ru=xt("wallet",cz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],On=xt("x",dz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],fz=xt("zoom-in",uz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],pz=xt("zoom-out",hz),mz=({collapsed:e,setCollapsed:t})=>{const r=ea(),a=sn(),[i,s]=N.useState(r.pathname),[l,d]=N.useState(null);N.useEffect(()=>{s(r.pathname);const p=localStorage.getItem("userData");p&&d(JSON.parse(p))},[r.pathname]);const u=[{path:"/",name:"Dashboard",icon:n.jsx(A7,{size:20})},{path:"/branches",name:"Branches",icon:n.jsx(pj,{size:20})},{path:"/rooms",name:"Rooms",icon:n.jsx(Hi,{size:20})},{path:"/room-bookings",name:"Room Bookings",icon:n.jsx(Tr,{size:20})},{path:"/room-payments",name:"Room Payments",icon:n.jsx(Bn,{size:20})},{path:"/categories",name:"Categories",icon:n.jsx(ez,{size:20})},{path:"/products",name:"Menu",icon:n.jsx(kA,{size:20})},{path:"/subscription-management",name:"Subscription Orders",icon:n.jsx(ai,{size:20})},{path:"/meal-of-the-day",name:"Meal of the Day",icon:n.jsx(QL,{size:20})},{path:"/qr-generator",name:"Menu QrGenerator",icon:n.jsx(kA,{size:20})},{path:"/tables",name:"Tables",icon:n.jsx(Z7,{size:20})},{path:"/reservations",name:"Table Reservations",icon:n.jsx(Tr,{size:20})},{path:"/orders",name:"Online Orders",icon:n.jsx(bu,{size:20})},{path:"/staff-orders",name:"Staff Orders",icon:n.jsx(bu,{size:20})},{path:"/counter-orders",name:"Counter Orders",icon:n.jsx(bu,{size:20})},{path:"/product-submissions",name:"Purchase Orders",icon:n.jsx(mc,{size:20})},{path:"/qr-uploads",name:"QR Uploads",icon:n.jsx(mc,{size:20})},{path:"/users",name:"Users",icon:n.jsx(Yi,{size:20})},{path:"/staff-users",name:"Staff Users",icon:n.jsx(Yi,{size:20})},{path:"/counter-users",name:"Counter Users",icon:n.jsx(Yi,{size:20})},{path:"/purchase-users",name:"Purchase Users",icon:n.jsx(Yi,{size:20})},{path:"/category-access",name:"Category Access",icon:n.jsx(_A,{size:20})},{path:"/receptionist-access",name:"Receptionist Access",icon:n.jsx(_A,{size:20})},{path:"/coupons",name:"Coupons",icon:n.jsx(rz,{size:20})},{path:"/help-support",name:"Help & Support",icon:n.jsx(c7,{size:20})},{path:"/about-us",name:"About Us",icon:n.jsx(S7,{size:20})},{path:"/terms-policies",name:"Terms & Policies",icon:n.jsx(pc,{size:20})}],f=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userData"),localStorage.removeItem("authToken"),a("/login")};return n.jsxs("aside",{className:`sidebar ${e?"sidebar-collapsed":""}`,children:[n.jsxs("div",{className:"sidebar-header",children:[!e&&n.jsxs("div",{className:"logo",children:[n.jsx("div",{className:"logo-icon",children:n.jsx(pj,{size:24})}),n.jsx("h2",{children:"Hotel Virat"})]}),n.jsx("button",{className:"collapse-btn",onClick:()=>t(!e),children:e?n.jsx(Ef,{size:20}):n.jsx(Af,{size:20})})]}),n.jsx("nav",{className:"sidebar-nav",children:n.jsx("ul",{children:u.map(p=>n.jsx("li",{children:n.jsxs(tw,{to:p.path,className:`nav-link ${i===p.path?"active":""}`,onClick:()=>s(p.path),children:[n.jsx("span",{className:"icon",children:p.icon}),!e&&n.jsx("span",{className:"text",children:p.name})]})},p.path))})}),n.jsxs("div",{className:"sidebar-footer",children:[e?n.jsx("div",{className:"avatar-small",children:n.jsx("img",{src:(l==null?void 0:l.profileImage)||`https://ui-avatars.com/api/?name=${(l==null?void 0:l.name)||"Admin"}&background=f0f0f0&color=333`,alt:(l==null?void 0:l.name)||"Admin"})}):n.jsxs("div",{className:"user-info",children:[n.jsx("div",{className:"avatar",children:n.jsx("img",{src:(l==null?void 0:l.profileImage)||`https://ui-avatars.com/api/?name=${(l==null?void 0:l.name)||"Admin"}&background=f0f0f0&color=333`,alt:(l==null?void 0:l.name)||"Admin"})}),n.jsxs("div",{className:"user-details",children:[n.jsx("h4",{children:(l==null?void 0:l.name)||"Admin"}),n.jsx("p",{children:(l==null?void 0:l.email)||""})]})]}),n.jsxs("button",{className:"logout-btn",onClick:f,children:[n.jsx(nw,{size:18}),!e&&n.jsx("span",{children:"Logout"})]})]})]})};function $D(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=$D(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Vt(){for(var e,t,r=0,a="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=$D(e))&&(a&&(a+=" "),a+=t);return a}var Jg,DA;function ta(){if(DA)return Jg;DA=1;var e=Array.isArray;return Jg=e,Jg}var ey,IA;function UD(){if(IA)return ey;IA=1;var e=typeof tp=="object"&&tp&&tp.Object===Object&&tp;return ey=e,ey}var ty,RA;function Ai(){if(RA)return ty;RA=1;var e=UD(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return ty=r,ty}var ry,PA;function _f(){if(PA)return ry;PA=1;var e=Ai(),t=e.Symbol;return ry=t,ry}var ny,MA;function xz(){if(MA)return ny;MA=1;var e=_f(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,i=e?e.toStringTag:void 0;function s(l){var d=r.call(l,i),u=l[i];try{l[i]=void 0;var f=!0}catch{}var p=a.call(l);return f&&(d?l[i]=u:delete l[i]),p}return ny=s,ny}var ay,BA;function gz(){if(BA)return ay;BA=1;var e=Object.prototype,t=e.toString;function r(a){return t.call(a)}return ay=r,ay}var iy,FA;function ms(){if(FA)return iy;FA=1;var e=_f(),t=xz(),r=gz(),a="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function l(d){return d==null?d===void 0?i:a:s&&s in Object(d)?t(d):r(d)}return iy=l,iy}var sy,LA;function xs(){if(LA)return sy;LA=1;function e(t){return t!=null&&typeof t=="object"}return sy=e,sy}var oy,zA;function Gc(){if(zA)return oy;zA=1;var e=ms(),t=xs(),r="[object Symbol]";function a(i){return typeof i=="symbol"||t(i)&&e(i)==r}return oy=a,oy}var ly,$A;function aw(){if($A)return ly;$A=1;var e=ta(),t=Gc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(s,l){if(e(s))return!1;var d=typeof s;return d=="number"||d=="symbol"||d=="boolean"||s==null||t(s)?!0:a.test(s)||!r.test(s)||l!=null&&s in Object(l)}return ly=i,ly}var cy,UA;function ao(){if(UA)return cy;UA=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return cy=e,cy}var dy,qA;function iw(){if(qA)return dy;qA=1;var e=ms(),t=ao(),r="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(d){if(!t(d))return!1;var u=e(d);return u==a||u==i||u==r||u==s}return dy=l,dy}var uy,WA;function yz(){if(WA)return uy;WA=1;var e=Ai(),t=e["__core-js_shared__"];return uy=t,uy}var fy,HA;function vz(){if(HA)return fy;HA=1;var e=yz(),t=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function r(a){return!!t&&t in a}return fy=r,fy}var hy,GA;function qD(){if(GA)return hy;GA=1;var e=Function.prototype,t=e.toString;function r(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return hy=r,hy}var py,VA;function bz(){if(VA)return py;VA=1;var e=iw(),t=vz(),r=ao(),a=qD(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,u=l.toString,f=d.hasOwnProperty,p=RegExp("^"+u.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||t(g))return!1;var v=e(g)?p:s;return v.test(a(g))}return py=m,py}var my,YA;function jz(){if(YA)return my;YA=1;function e(t,r){return t==null?void 0:t[r]}return my=e,my}var xy,XA;function el(){if(XA)return xy;XA=1;var e=bz(),t=jz();function r(a,i){var s=t(a,i);return e(s)?s:void 0}return xy=r,xy}var gy,KA;function Km(){if(KA)return gy;KA=1;var e=el(),t=e(Object,"create");return gy=t,gy}var yy,QA;function wz(){if(QA)return yy;QA=1;var e=Km();function t(){this.__data__=e?e(null):{},this.size=0}return yy=t,yy}var vy,ZA;function Sz(){if(ZA)return vy;ZA=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return vy=e,vy}var by,JA;function Nz(){if(JA)return by;JA=1;var e=Km(),t="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function i(s){var l=this.__data__;if(e){var d=l[s];return d===t?void 0:d}return a.call(l,s)?l[s]:void 0}return by=i,by}var jy,eE;function Tz(){if(eE)return jy;eE=1;var e=Km(),t=Object.prototype,r=t.hasOwnProperty;function a(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return jy=a,jy}var wy,tE;function Cz(){if(tE)return wy;tE=1;var e=Km(),t="__lodash_hash_undefined__";function r(a,i){var s=this.__data__;return this.size+=this.has(a)?0:1,s[a]=e&&i===void 0?t:i,this}return wy=r,wy}var Sy,rE;function Az(){if(rE)return Sy;rE=1;var e=wz(),t=Sz(),r=Nz(),a=Tz(),i=Cz();function s(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var f=l[d];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,Sy=s,Sy}var Ny,nE;function Ez(){if(nE)return Ny;nE=1;function e(){this.__data__=[],this.size=0}return Ny=e,Ny}var Ty,aE;function sw(){if(aE)return Ty;aE=1;function e(t,r){return t===r||t!==t&&r!==r}return Ty=e,Ty}var Cy,iE;function Qm(){if(iE)return Cy;iE=1;var e=sw();function t(r,a){for(var i=r.length;i--;)if(e(r[i][0],a))return i;return-1}return Cy=t,Cy}var Ay,sE;function _z(){if(sE)return Ay;sE=1;var e=Qm(),t=Array.prototype,r=t.splice;function a(i){var s=this.__data__,l=e(s,i);if(l<0)return!1;var d=s.length-1;return l==d?s.pop():r.call(s,l,1),--this.size,!0}return Ay=a,Ay}var Ey,oE;function Oz(){if(oE)return Ey;oE=1;var e=Qm();function t(r){var a=this.__data__,i=e(a,r);return i<0?void 0:a[i][1]}return Ey=t,Ey}var _y,lE;function kz(){if(lE)return _y;lE=1;var e=Qm();function t(r){return e(this.__data__,r)>-1}return _y=t,_y}var Oy,cE;function Dz(){if(cE)return Oy;cE=1;var e=Qm();function t(r,a){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,a])):i[s][1]=a,this}return Oy=t,Oy}var ky,dE;function Zm(){if(dE)return ky;dE=1;var e=Ez(),t=_z(),r=Oz(),a=kz(),i=Dz();function s(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var f=l[d];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,ky=s,ky}var Dy,uE;function ow(){if(uE)return Dy;uE=1;var e=el(),t=Ai(),r=e(t,"Map");return Dy=r,Dy}var Iy,fE;function Iz(){if(fE)return Iy;fE=1;var e=Az(),t=Zm(),r=ow();function a(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Iy=a,Iy}var Ry,hE;function Rz(){if(hE)return Ry;hE=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Ry=e,Ry}var Py,pE;function Jm(){if(pE)return Py;pE=1;var e=Rz();function t(r,a){var i=r.__data__;return e(a)?i[typeof a=="string"?"string":"hash"]:i.map}return Py=t,Py}var My,mE;function Pz(){if(mE)return My;mE=1;var e=Jm();function t(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return My=t,My}var By,xE;function Mz(){if(xE)return By;xE=1;var e=Jm();function t(r){return e(this,r).get(r)}return By=t,By}var Fy,gE;function Bz(){if(gE)return Fy;gE=1;var e=Jm();function t(r){return e(this,r).has(r)}return Fy=t,Fy}var Ly,yE;function Fz(){if(yE)return Ly;yE=1;var e=Jm();function t(r,a){var i=e(this,r),s=i.size;return i.set(r,a),this.size+=i.size==s?0:1,this}return Ly=t,Ly}var zy,vE;function lw(){if(vE)return zy;vE=1;var e=Iz(),t=Pz(),r=Mz(),a=Bz(),i=Fz();function s(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var f=l[d];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,zy=s,zy}var $y,bE;function WD(){if(bE)return $y;bE=1;var e=lw(),t="Expected a function";function r(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var l=arguments,d=i?i.apply(this,l):l[0],u=s.cache;if(u.has(d))return u.get(d);var f=a.apply(this,l);return s.cache=u.set(d,f)||u,f};return s.cache=new(r.Cache||e),s}return r.Cache=e,$y=r,$y}var Uy,jE;function Lz(){if(jE)return Uy;jE=1;var e=WD(),t=500;function r(a){var i=e(a,function(l){return s.size===t&&s.clear(),l}),s=i.cache;return i}return Uy=r,Uy}var qy,wE;function zz(){if(wE)return qy;wE=1;var e=Lz(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(l,d,u,f){s.push(u?f.replace(r,"$1"):d||l)}),s});return qy=a,qy}var Wy,SE;function cw(){if(SE)return Wy;SE=1;function e(t,r){for(var a=-1,i=t==null?0:t.length,s=Array(i);++a<i;)s[a]=r(t[a],a,t);return s}return Wy=e,Wy}var Hy,NE;function $z(){if(NE)return Hy;NE=1;var e=_f(),t=cw(),r=ta(),a=Gc(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function l(d){if(typeof d=="string")return d;if(r(d))return t(d,l)+"";if(a(d))return s?s.call(d):"";var u=d+"";return u=="0"&&1/d==-1/0?"-0":u}return Hy=l,Hy}var Gy,TE;function HD(){if(TE)return Gy;TE=1;var e=$z();function t(r){return r==null?"":e(r)}return Gy=t,Gy}var Vy,CE;function GD(){if(CE)return Vy;CE=1;var e=ta(),t=aw(),r=zz(),a=HD();function i(s,l){return e(s)?s:t(s,l)?[s]:r(a(s))}return Vy=i,Vy}var Yy,AE;function e0(){if(AE)return Yy;AE=1;var e=Gc();function t(r){if(typeof r=="string"||e(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return Yy=t,Yy}var Xy,EE;function dw(){if(EE)return Xy;EE=1;var e=GD(),t=e0();function r(a,i){i=e(i,a);for(var s=0,l=i.length;a!=null&&s<l;)a=a[t(i[s++])];return s&&s==l?a:void 0}return Xy=r,Xy}var Ky,_E;function VD(){if(_E)return Ky;_E=1;var e=dw();function t(r,a,i){var s=r==null?void 0:e(r,a);return s===void 0?i:s}return Ky=t,Ky}var Uz=VD();const Ma=mr(Uz);var Qy,OE;function qz(){if(OE)return Qy;OE=1;function e(t){return t==null}return Qy=e,Qy}var Wz=qz();const Ft=mr(Wz);var Zy,kE;function Hz(){if(kE)return Zy;kE=1;var e=ms(),t=ta(),r=xs(),a="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==a}return Zy=i,Zy}var Gz=Hz();const Wo=mr(Gz);var Vz=iw();const It=mr(Vz);var Yz=ao();const Vc=mr(Yz);var Jy={exports:{}},Jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function Xz(){if(DE)return Jt;DE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var C=y.$$typeof;switch(C){case e:switch(y=y.type,y){case r:case i:case a:case f:case p:return y;default:switch(y=y&&y.$$typeof,y){case d:case l:case u:case g:case m:case s:return y;default:return C}}case t:return C}}}return Jt.ContextConsumer=l,Jt.ContextProvider=s,Jt.Element=e,Jt.ForwardRef=u,Jt.Fragment=r,Jt.Lazy=g,Jt.Memo=m,Jt.Portal=t,Jt.Profiler=i,Jt.StrictMode=a,Jt.Suspense=f,Jt.SuspenseList=p,Jt.isAsyncMode=function(){return!1},Jt.isConcurrentMode=function(){return!1},Jt.isContextConsumer=function(y){return b(y)===l},Jt.isContextProvider=function(y){return b(y)===s},Jt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Jt.isForwardRef=function(y){return b(y)===u},Jt.isFragment=function(y){return b(y)===r},Jt.isLazy=function(y){return b(y)===g},Jt.isMemo=function(y){return b(y)===m},Jt.isPortal=function(y){return b(y)===t},Jt.isProfiler=function(y){return b(y)===i},Jt.isStrictMode=function(y){return b(y)===a},Jt.isSuspense=function(y){return b(y)===f},Jt.isSuspenseList=function(y){return b(y)===p},Jt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===a||y===f||y===p||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===m||y.$$typeof===s||y.$$typeof===l||y.$$typeof===u||y.$$typeof===j||y.getModuleId!==void 0)},Jt.typeOf=b,Jt}var IE;function Kz(){return IE||(IE=1,Jy.exports=Xz()),Jy.exports}var Qz=Kz(),ev,RE;function YD(){if(RE)return ev;RE=1;var e=ms(),t=xs(),r="[object Number]";function a(i){return typeof i=="number"||t(i)&&e(i)==r}return ev=a,ev}var tv,PE;function Zz(){if(PE)return tv;PE=1;var e=YD();function t(r){return e(r)&&r!=+r}return tv=t,tv}var Jz=Zz();const Of=mr(Jz);var e$=YD();const t$=mr(e$);var ri=function(t){return t===0?0:t>0?1:-1},Po=function(t){return Wo(t)&&t.indexOf("%")===t.length-1},dt=function(t){return t$(t)&&!Of(t)},Kr=function(t){return dt(t)||Wo(t)},r$=0,kf=function(t){var r=++r$;return"".concat(t||"").concat(r)},Ho=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!dt(t)&&!Wo(t))return a;var s;if(Po(t)){var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Of(s)&&(s=a),i&&s>r&&(s=r),s},Hs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},n$=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},i=0;i<r;i++)if(!a[t[i]])a[t[i]]=!0;else return!0;return!1},Ja=function(t,r){return dt(t)&&dt(r)?function(a){return t+a*(r-t)}:function(){return r}};function Pp(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Ma(a,t))===r})}var a$=function(t,r){return dt(t)&&dt(r)?t-r:Wo(t)&&Wo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ic(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function mj(e){"@babel/helpers - typeof";return mj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mj(e)}var i$=["viewBox","children"],s$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ME=["points","pathLength"],rv={svg:i$,polygon:ME,polyline:ME},uw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mp=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!Vc(a))return null;var i={};return Object.keys(a).forEach(function(s){uw.includes(s)&&(i[s]=r||function(l){return a[s](a,l)})}),i},o$=function(t,r,a){return function(i){return t(r,a,i),null}},Bp=function(t,r,a){if(!Vc(t)||mj(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var l=t[s];uw.includes(s)&&typeof l=="function"&&(i||(i={}),i[s]=o$(l,r,a))}),i},l$=["children"],c$=["children"];function BE(e,t){if(e==null)return{};var r=d$(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function d$(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function xj(e){"@babel/helpers - typeof";return xj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xj(e)}var FE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ts=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},LE=null,nv=null,fw=function e(t){if(t===LE&&Array.isArray(nv))return nv;var r=[];return N.Children.forEach(t,function(a){Ft(a)||(Qz.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),nv=r,LE=t,r};function Ba(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(i){return ts(i)}):a=[ts(t)],fw(e).forEach(function(i){var s=Ma(i,"type.displayName")||Ma(i,"type.name");a.indexOf(s)!==-1&&r.push(i)}),r}function fa(e,t){var r=Ba(e,t);return r&&r[0]}var zE=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,i=r.height;return!(!dt(a)||a<=0||!dt(i)||i<=0)},u$=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],f$=function(t){return t&&t.type&&Wo(t.type)&&u$.indexOf(t.type)>=0},h$=function(t){return t&&xj(t)==="object"&&"clipDot"in t},p$=function(t,r,a,i){var s,l=(s=rv==null?void 0:rv[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!It(t)&&(i&&l.includes(r)||s$.includes(r))||a&&uw.includes(r)},zt=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(N.isValidElement(t)&&(i=t.props),!Vc(i))return null;var s={};return Object.keys(i).forEach(function(l){var d;p$((d=i)===null||d===void 0?void 0:d[l],l,r,a)&&(s[l]=i[l])}),s},gj=function e(t,r){if(t===r)return!0;var a=N.Children.count(t);if(a!==N.Children.count(r))return!1;if(a===0)return!0;if(a===1)return $E(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<a;i++){var s=t[i],l=r[i];if(Array.isArray(s)||Array.isArray(l)){if(!e(s,l))return!1}else if(!$E(s,l))return!1}return!0},$E=function(t,r){if(Ft(t)&&Ft(r))return!0;if(!Ft(t)&&!Ft(r)){var a=t.props||{},i=a.children,s=BE(a,l$),l=r.props||{},d=l.children,u=BE(l,c$);return i&&d?ic(s,u)&&gj(i,d):!i&&!d?ic(s,u):!1}return!1},UE=function(t,r){var a=[],i={};return fw(t).forEach(function(s,l){if(f$(s))a.push(s);else if(s){var d=ts(s.type),u=r[d]||{},f=u.handler,p=u.once;if(f&&(!p||!i[d])){var m=f(s,d,l);a.push(m),i[d]=!0}}}),a},m$=function(t){var r=t&&t.type;return r&&FE[r]?FE[r]:null},x$=function(t,r){return fw(r).indexOf(t)},g$=["children","width","height","viewBox","className","style","title","desc"];function yj(){return yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yj.apply(this,arguments)}function y$(e,t){if(e==null)return{};var r=v$(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function v$(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function vj(e){var t=e.children,r=e.width,a=e.height,i=e.viewBox,s=e.className,l=e.style,d=e.title,u=e.desc,f=y$(e,g$),p=i||{width:r,height:a,x:0,y:0},m=Vt("recharts-surface",s);return _e.createElement("svg",yj({},zt(f,!0,"svg"),{className:m,width:r,height:a,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),_e.createElement("title",null,d),_e.createElement("desc",null,u),t)}var b$=["children","className"];function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bj.apply(this,arguments)}function j$(e,t){if(e==null)return{};var r=w$(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function w$(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Br=_e.forwardRef(function(e,t){var r=e.children,a=e.className,i=j$(e,b$),s=Vt("recharts-layer",a);return _e.createElement("g",bj({className:s},zt(i,!0),{ref:t}),r)}),rs=function(t,r){for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s]},av,qE;function S$(){if(qE)return av;qE=1;function e(t,r,a){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),a=a>s?s:a,a<0&&(a+=s),s=r>a?0:a-r>>>0,r>>>=0;for(var l=Array(s);++i<s;)l[i]=t[i+r];return l}return av=e,av}var iv,WE;function N$(){if(WE)return iv;WE=1;var e=S$();function t(r,a,i){var s=r.length;return i=i===void 0?s:i,!a&&i>=s?r:e(r,a,i)}return iv=t,iv}var sv,HE;function XD(){if(HE)return sv;HE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=t+r+a,s="\\ufe0e\\ufe0f",l="\\u200d",d=RegExp("["+l+e+i+s+"]");function u(f){return d.test(f)}return sv=u,sv}var ov,GE;function T$(){if(GE)return ov;GE=1;function e(t){return t.split("")}return ov=e,ov}var lv,VE;function C$(){if(VE)return lv;VE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=t+r+a,s="\\ufe0e\\ufe0f",l="["+e+"]",d="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+d+"|"+u+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",j=f+"?",b="["+s+"]?",y="(?:"+v+"(?:"+[p,m,g].join("|")+")"+b+j+")*",C=b+j+y,T="(?:"+[p+d+"?",d,m,g,l].join("|")+")",E=RegExp(u+"(?="+u+")|"+T+C,"g");function S(A){return A.match(E)||[]}return lv=S,lv}var cv,YE;function A$(){if(YE)return cv;YE=1;var e=T$(),t=XD(),r=C$();function a(i){return t(i)?r(i):e(i)}return cv=a,cv}var dv,XE;function E$(){if(XE)return dv;XE=1;var e=N$(),t=XD(),r=A$(),a=HD();function i(s){return function(l){l=a(l);var d=t(l)?r(l):void 0,u=d?d[0]:l.charAt(0),f=d?e(d,1).join(""):l.slice(1);return u[s]()+f}}return dv=i,dv}var uv,KE;function _$(){if(KE)return uv;KE=1;var e=E$(),t=e("toUpperCase");return uv=t,uv}var O$=_$();const t0=mr(O$);function br(e){return function(){return e}}const KD=Math.cos,Fp=Math.sin,di=Math.sqrt,Lp=Math.PI,r0=2*Lp,jj=Math.PI,wj=2*jj,Do=1e-6,k$=wj-Do;function QD(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function D$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QD;const r=10**t;return function(a){this._+=a[0];for(let i=1,s=a.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+a[i]}}class I${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?QD:D$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,i){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+i}`}bezierCurveTo(t,r,a,i,s,l){this._append`C${+t},${+r},${+a},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,a,i,s){if(t=+t,r=+r,a=+a,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,u=a-t,f=i-r,p=l-t,m=d-r,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>Do)if(!(Math.abs(m*u-f*p)>Do)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=a-l,j=i-d,b=u*u+f*f,y=v*v+j*j,C=Math.sqrt(b),T=Math.sqrt(g),E=s*Math.tan((jj-Math.acos((b+g-y)/(2*C*T)))/2),S=E/T,A=E/C;Math.abs(S-1)>Do&&this._append`L${t+S*p},${r+S*m}`,this._append`A${s},${s},0,0,${+(m*v>p*j)},${this._x1=t+A*u},${this._y1=r+A*f}`}}arc(t,r,a,i,s,l){if(t=+t,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(i),u=a*Math.sin(i),f=t+d,p=r+u,m=1^l,g=l?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Do||Math.abs(this._y1-p)>Do)&&this._append`L${f},${p}`,a&&(g<0&&(g=g%wj+wj),g>k$?this._append`A${a},${a},0,1,${m},${t-d},${r-u}A${a},${a},0,1,${m},${this._x1=f},${this._y1=p}`:g>Do&&this._append`A${a},${a},0,${+(g>=jj)},${m},${this._x1=t+a*Math.cos(s)},${this._y1=r+a*Math.sin(s)}`)}rect(t,r,a,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+i}h${-a}Z`}toString(){return this._}}function hw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new I$(t)}function pw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZD(e){this._context=e}ZD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function n0(e){return new ZD(e)}function JD(e){return e[0]}function eI(e){return e[1]}function tI(e,t){var r=br(!0),a=null,i=n0,s=null,l=hw(d);e=typeof e=="function"?e:e===void 0?JD:br(e),t=typeof t=="function"?t:t===void 0?eI:br(t);function d(u){var f,p=(u=pw(u)).length,m,g=!1,v;for(a==null&&(s=i(v=l())),f=0;f<=p;++f)!(f<p&&r(m=u[f],f,u))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(m,f,u),+t(m,f,u));if(v)return s=null,v+""||null}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:br(+u),d):e},d.y=function(u){return arguments.length?(t=typeof u=="function"?u:br(+u),d):t},d.defined=function(u){return arguments.length?(r=typeof u=="function"?u:br(!!u),d):r},d.curve=function(u){return arguments.length?(i=u,a!=null&&(s=i(a)),d):i},d.context=function(u){return arguments.length?(u==null?a=s=null:s=i(a=u),d):a},d}function np(e,t,r){var a=null,i=br(!0),s=null,l=n0,d=null,u=hw(f);e=typeof e=="function"?e:e===void 0?JD:br(+e),t=typeof t=="function"?t:br(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?eI:br(+r);function f(m){var g,v,j,b=(m=pw(m)).length,y,C=!1,T,E=new Array(b),S=new Array(b);for(s==null&&(d=l(T=u())),g=0;g<=b;++g){if(!(g<b&&i(y=m[g],g,m))===C)if(C=!C)v=g,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=g-1;j>=v;--j)d.point(E[j],S[j]);d.lineEnd(),d.areaEnd()}C&&(E[g]=+e(y,g,m),S[g]=+t(y,g,m),d.point(a?+a(y,g,m):E[g],r?+r(y,g,m):S[g]))}if(T)return d=null,T+""||null}function p(){return tI().defined(i).curve(l).context(s)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:br(+m),a=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:br(+m),f):e},f.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:br(+m),f):a},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:br(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:br(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:br(+m),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(a).y(t)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:br(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,s!=null&&(d=l(s)),f):l},f.context=function(m){return arguments.length?(m==null?s=d=null:d=l(s=m),f):s},f}class rI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function R$(e){return new rI(e,!0)}function P$(e){return new rI(e,!1)}const mw={draw(e,t){const r=di(t/Lp);e.moveTo(r,0),e.arc(0,0,r,0,r0)}},M$={draw(e,t){const r=di(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nI=di(1/3),B$=nI*2,F$={draw(e,t){const r=di(t/B$),a=r*nI;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},L$={draw(e,t){const r=di(t),a=-r/2;e.rect(a,a,r,r)}},z$=.8908130915292852,aI=Fp(Lp/10)/Fp(7*Lp/10),$$=Fp(r0/10)*aI,U$=-KD(r0/10)*aI,q$={draw(e,t){const r=di(t*z$),a=$$*r,i=U$*r;e.moveTo(0,-r),e.lineTo(a,i);for(let s=1;s<5;++s){const l=r0*s/5,d=KD(l),u=Fp(l);e.lineTo(u*r,-d*r),e.lineTo(d*a-u*i,u*a+d*i)}e.closePath()}},fv=di(3),W$={draw(e,t){const r=-di(t/(fv*3));e.moveTo(0,r*2),e.lineTo(-fv*r,-r),e.lineTo(fv*r,-r),e.closePath()}},_a=-.5,Oa=di(3)/2,Sj=1/di(12),H$=(Sj/2+1)*3,G$={draw(e,t){const r=di(t/H$),a=r/2,i=r*Sj,s=a,l=r*Sj+r,d=-s,u=l;e.moveTo(a,i),e.lineTo(s,l),e.lineTo(d,u),e.lineTo(_a*a-Oa*i,Oa*a+_a*i),e.lineTo(_a*s-Oa*l,Oa*s+_a*l),e.lineTo(_a*d-Oa*u,Oa*d+_a*u),e.lineTo(_a*a+Oa*i,_a*i-Oa*a),e.lineTo(_a*s+Oa*l,_a*l-Oa*s),e.lineTo(_a*d+Oa*u,_a*u-Oa*d),e.closePath()}};function V$(e,t){let r=null,a=hw(i);e=typeof e=="function"?e:br(e||mw),t=typeof t=="function"?t:br(t===void 0?64:+t);function i(){let s;if(r||(r=s=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:br(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:br(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function zp(){}function $p(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iI(e){this._context=e}iI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$p(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y$(e){return new iI(e)}function sI(e){this._context=e}sI.prototype={areaStart:zp,areaEnd:zp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X$(e){return new sI(e)}function oI(e){this._context=e}oI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:$p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K$(e){return new oI(e)}function lI(e){this._context=e}lI.prototype={areaStart:zp,areaEnd:zp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Q$(e){return new lI(e)}function QE(e){return e<0?-1:1}function ZE(e,t,r){var a=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(a||i<0&&-0),l=(r-e._y1)/(i||a<0&&-0),d=(s*i+l*a)/(a+i);return(QE(s)+QE(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function JE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function hv(e,t,r){var a=e._x0,i=e._y0,s=e._x1,l=e._y1,d=(s-a)/3;e._context.bezierCurveTo(a+d,i+d*t,s-d,l-d*r,s,l)}function Up(e){this._context=e}Up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hv(this,this._t0,JE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hv(this,JE(this,r=ZE(this,e,t)),r);break;default:hv(this,this._t0,r=ZE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function cI(e){this._context=new dI(e)}(cI.prototype=Object.create(Up.prototype)).point=function(e,t){Up.prototype.point.call(this,t,e)};function dI(e){this._context=e}dI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,i,s){this._context.bezierCurveTo(t,e,a,r,s,i)}};function Z$(e){return new Up(e)}function J$(e){return new cI(e)}function uI(e){this._context=e}uI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=e_(e),i=e_(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(a[0][s],i[0][s],a[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function e_(e){var t,r=e.length-1,a,i=new Array(r),s=new Array(r),l=new Array(r);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=i[t]/s[t-1],s[t]-=a,l[t]-=a*l[t-1];for(i[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function e9(e){return new uI(e)}function a0(e,t){this._context=e,this._t=t}a0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function t9(e){return new a0(e,.5)}function r9(e){return new a0(e,0)}function n9(e){return new a0(e,1)}function gc(e,t){if((l=e.length)>1)for(var r=1,a,i,s=e[t[0]],l,d=s.length;r<l;++r)for(i=s,s=e[t[r]],a=0;a<d;++a)s[a][1]+=s[a][0]=isNaN(i[a][1])?i[a][0]:i[a][1]}function Nj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function a9(e,t){return e[t]}function i9(e){const t=[];return t.key=e,t}function s9(){var e=br([]),t=Nj,r=gc,a=a9;function i(s){var l=Array.from(e.apply(this,arguments),i9),d,u=l.length,f=-1,p;for(const m of s)for(d=0,++f;d<u;++d)(l[d][f]=[0,+a(m,l[d].key,f,s)]).data=m;for(d=0,p=pw(t(l));d<u;++d)l[p[d]].index=d;return r(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:br(Array.from(s)),i):e},i.value=function(s){return arguments.length?(a=typeof s=="function"?s:br(+s),i):a},i.order=function(s){return arguments.length?(t=s==null?Nj:typeof s=="function"?s:br(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??gc,i):r},i}function o9(e,t){if((a=e.length)>0){for(var r,a,i=0,s=e[0].length,l;i<s;++i){for(l=r=0;r<a;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<a;++r)e[r][i][1]/=l}gc(e,t)}}function l9(e,t){if((i=e.length)>0){for(var r=0,a=e[t[0]],i,s=a.length;r<s;++r){for(var l=0,d=0;l<i;++l)d+=e[l][r][1]||0;a[r][1]+=a[r][0]=-d/2}gc(e,t)}}function c9(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,a=1,i,s,l;a<s;++a){for(var d=0,u=0,f=0;d<l;++d){for(var p=e[t[d]],m=p[a][1]||0,g=p[a-1][1]||0,v=(m-g)/2,j=0;j<d;++j){var b=e[t[j]],y=b[a][1]||0,C=b[a-1][1]||0;v+=y-C}u+=m,f+=v*m}i[a-1][1]+=i[a-1][0]=r,u&&(r-=f/u)}i[a-1][1]+=i[a-1][0]=r,gc(e,t)}}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}var d9=["type","size","sizeType"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tj.apply(this,arguments)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(a){u9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function u9(e,t,r){return t=f9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9(e){var t=h9(e,"string");return Pu(t)=="symbol"?t:t+""}function h9(e,t){if(Pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Pu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p9(e,t){if(e==null)return{};var r=m9(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function m9(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var fI={symbolCircle:mw,symbolCross:M$,symbolDiamond:F$,symbolSquare:L$,symbolStar:q$,symbolTriangle:W$,symbolWye:G$},x9=Math.PI/180,g9=function(t){var r="symbol".concat(t0(t));return fI[r]||mw},y9=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*x9;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},v9=function(t,r){fI["symbol".concat(t0(t))]=r},xw=function(t){var r=t.type,a=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,l=t.sizeType,d=l===void 0?"area":l,u=p9(t,d9),f=r_(r_({},u),{},{type:a,size:s,sizeType:d}),p=function(){var y=g9(a),C=V$().type(y).size(y9(s,d,a));return C()},m=f.className,g=f.cx,v=f.cy,j=zt(f,!0);return g===+g&&v===+v&&s===+s?_e.createElement("path",Tj({},j,{className:Vt("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(v,")"),d:p()})):null};xw.registerSymbol=v9;function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cj.apply(this,arguments)}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function b9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(a){Mu(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function j9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w9(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,pI(a.key),a)}}function S9(e,t,r){return t&&w9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N9(e,t,r){return t=qp(t),T9(e,hI()?Reflect.construct(t,r||[],qp(e).constructor):t.apply(e,r))}function T9(e,t){if(t&&(yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C9(e)}function C9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hI=function(){return!!e})()}function qp(e){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(e)}function A9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aj(e,t)}function Aj(e,t){return Aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Aj(e,t)}function Mu(e,t,r){return t=pI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pI(e){var t=E9(e,"string");return yc(t)=="symbol"?t:t+""}function E9(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(yc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ka=32,gw=function(e){function t(){return j9(this,t),N9(this,t,arguments)}return A9(t,e),S9(t,[{key:"renderIcon",value:function(a){var i=this.props.inactiveColor,s=ka/2,l=ka/6,d=ka/3,u=a.inactive?i:a.color;if(a.type==="plainline")return _e.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:s,x2:ka,y2:s,className:"recharts-legend-icon"});if(a.type==="line")return _e.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(d,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*d,",").concat(s,`
            H`).concat(ka,"M").concat(2*d,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(d,",").concat(s),className:"recharts-legend-icon"});if(a.type==="rect")return _e.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ka/8,"h").concat(ka,"v").concat(ka*3/4,"h").concat(-ka,"z"),className:"recharts-legend-icon"});if(_e.isValidElement(a.legendIcon)){var f=b9({},a);return delete f.legendIcon,_e.cloneElement(a.legendIcon,f)}return _e.createElement(xw,{fill:u,cx:s,cy:s,size:ka,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,i=this.props,s=i.payload,l=i.iconSize,d=i.layout,u=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:ka,height:ka},m={display:d==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,j){var b=v.formatter||u,y=Vt(Mu(Mu({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var C=It(v.value)?null:v.value;rs(!It(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=v.inactive?f:v.color;return _e.createElement("li",Cj({className:y,style:m,key:"legend-item-".concat(j)},Bp(a.props,v,j)),_e.createElement(vj,{width:l,height:l,viewBox:p,style:g},a.renderIcon(v)),_e.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},b?b(C,v,j):C))})}},{key:"render",value:function(){var a=this.props,i=a.payload,s=a.layout,l=a.align;if(!i||!i.length)return null;var d={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return _e.createElement("ul",{className:"recharts-default-legend",style:d},this.renderItems())}}])}(N.PureComponent);Mu(gw,"displayName","Legend");Mu(gw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pv,a_;function _9(){if(a_)return pv;a_=1;var e=Zm();function t(){this.__data__=new e,this.size=0}return pv=t,pv}var mv,i_;function O9(){if(i_)return mv;i_=1;function e(t){var r=this.__data__,a=r.delete(t);return this.size=r.size,a}return mv=e,mv}var xv,s_;function k9(){if(s_)return xv;s_=1;function e(t){return this.__data__.get(t)}return xv=e,xv}var gv,o_;function D9(){if(o_)return gv;o_=1;function e(t){return this.__data__.has(t)}return gv=e,gv}var yv,l_;function I9(){if(l_)return yv;l_=1;var e=Zm(),t=ow(),r=lw(),a=200;function i(s,l){var d=this.__data__;if(d instanceof e){var u=d.__data__;if(!t||u.length<a-1)return u.push([s,l]),this.size=++d.size,this;d=this.__data__=new r(u)}return d.set(s,l),this.size=d.size,this}return yv=i,yv}var vv,c_;function mI(){if(c_)return vv;c_=1;var e=Zm(),t=_9(),r=O9(),a=k9(),i=D9(),s=I9();function l(d){var u=this.__data__=new e(d);this.size=u.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,vv=l,vv}var bv,d_;function R9(){if(d_)return bv;d_=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return bv=t,bv}var jv,u_;function P9(){if(u_)return jv;u_=1;function e(t){return this.__data__.has(t)}return jv=e,jv}var wv,f_;function xI(){if(f_)return wv;f_=1;var e=lw(),t=R9(),r=P9();function a(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new e;++s<l;)this.add(i[s])}return a.prototype.add=a.prototype.push=t,a.prototype.has=r,wv=a,wv}var Sv,h_;function gI(){if(h_)return Sv;h_=1;function e(t,r){for(var a=-1,i=t==null?0:t.length;++a<i;)if(r(t[a],a,t))return!0;return!1}return Sv=e,Sv}var Nv,p_;function yI(){if(p_)return Nv;p_=1;function e(t,r){return t.has(r)}return Nv=e,Nv}var Tv,m_;function vI(){if(m_)return Tv;m_=1;var e=xI(),t=gI(),r=yI(),a=1,i=2;function s(l,d,u,f,p,m){var g=u&a,v=l.length,j=d.length;if(v!=j&&!(g&&j>v))return!1;var b=m.get(l),y=m.get(d);if(b&&y)return b==d&&y==l;var C=-1,T=!0,E=u&i?new e:void 0;for(m.set(l,d),m.set(d,l);++C<v;){var S=l[C],A=d[C];if(f)var k=g?f(A,S,C,d,l,m):f(S,A,C,l,d,m);if(k!==void 0){if(k)continue;T=!1;break}if(E){if(!t(d,function(I,B){if(!r(E,B)&&(S===I||p(S,I,u,f,m)))return E.push(B)})){T=!1;break}}else if(!(S===A||p(S,A,u,f,m))){T=!1;break}}return m.delete(l),m.delete(d),T}return Tv=s,Tv}var Cv,x_;function M9(){if(x_)return Cv;x_=1;var e=Ai(),t=e.Uint8Array;return Cv=t,Cv}var Av,g_;function B9(){if(g_)return Av;g_=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(i,s){a[++r]=[s,i]}),a}return Av=e,Av}var Ev,y_;function yw(){if(y_)return Ev;y_=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(i){a[++r]=i}),a}return Ev=e,Ev}var _v,v_;function F9(){if(v_)return _v;v_=1;var e=_f(),t=M9(),r=sw(),a=vI(),i=B9(),s=yw(),l=1,d=2,u="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",v="[object RegExp]",j="[object Set]",b="[object String]",y="[object Symbol]",C="[object ArrayBuffer]",T="[object DataView]",E=e?e.prototype:void 0,S=E?E.valueOf:void 0;function A(k,I,B,M,L,F,_){switch(B){case T:if(k.byteLength!=I.byteLength||k.byteOffset!=I.byteOffset)return!1;k=k.buffer,I=I.buffer;case C:return!(k.byteLength!=I.byteLength||!F(new t(k),new t(I)));case u:case f:case g:return r(+k,+I);case p:return k.name==I.name&&k.message==I.message;case v:case b:return k==I+"";case m:var G=i;case j:var P=M&l;if(G||(G=s),k.size!=I.size&&!P)return!1;var D=_.get(k);if(D)return D==I;M|=d,_.set(k,I);var R=a(G(k),G(I),M,L,F,_);return _.delete(k),R;case y:if(S)return S.call(k)==S.call(I)}return!1}return _v=A,_v}var Ov,b_;function bI(){if(b_)return Ov;b_=1;function e(t,r){for(var a=-1,i=r.length,s=t.length;++a<i;)t[s+a]=r[a];return t}return Ov=e,Ov}var kv,j_;function L9(){if(j_)return kv;j_=1;var e=bI(),t=ta();function r(a,i,s){var l=i(a);return t(a)?l:e(l,s(a))}return kv=r,kv}var Dv,w_;function z9(){if(w_)return Dv;w_=1;function e(t,r){for(var a=-1,i=t==null?0:t.length,s=0,l=[];++a<i;){var d=t[a];r(d,a,t)&&(l[s++]=d)}return l}return Dv=e,Dv}var Iv,S_;function $9(){if(S_)return Iv;S_=1;function e(){return[]}return Iv=e,Iv}var Rv,N_;function U9(){if(N_)return Rv;N_=1;var e=z9(),t=$9(),r=Object.prototype,a=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(d){return a.call(l,d)}))}:t;return Rv=s,Rv}var Pv,T_;function q9(){if(T_)return Pv;T_=1;function e(t,r){for(var a=-1,i=Array(t);++a<t;)i[a]=r(a);return i}return Pv=e,Pv}var Mv,C_;function W9(){if(C_)return Mv;C_=1;var e=ms(),t=xs(),r="[object Arguments]";function a(i){return t(i)&&e(i)==r}return Mv=a,Mv}var Bv,A_;function vw(){if(A_)return Bv;A_=1;var e=W9(),t=xs(),r=Object.prototype,a=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(l){return t(l)&&a.call(l,"callee")&&!i.call(l,"callee")};return Bv=s,Bv}var xu={exports:{}},Fv,E_;function H9(){if(E_)return Fv;E_=1;function e(){return!1}return Fv=e,Fv}xu.exports;var __;function jI(){return __||(__=1,function(e,t){var r=Ai(),a=H9(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,l=s&&s.exports===i,d=l?r.Buffer:void 0,u=d?d.isBuffer:void 0,f=u||a;e.exports=f}(xu,xu.exports)),xu.exports}var Lv,O_;function bw(){if(O_)return Lv;O_=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(a,i){var s=typeof a;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<i}return Lv=r,Lv}var zv,k_;function jw(){if(k_)return zv;k_=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return zv=t,zv}var $v,D_;function G9(){if(D_)return $v;D_=1;var e=ms(),t=jw(),r=xs(),a="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",d="[object Error]",u="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",v="[object Set]",j="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",C="[object DataView]",T="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",A="[object Int16Array]",k="[object Int32Array]",I="[object Uint8Array]",B="[object Uint8ClampedArray]",M="[object Uint16Array]",L="[object Uint32Array]",F={};F[T]=F[E]=F[S]=F[A]=F[k]=F[I]=F[B]=F[M]=F[L]=!0,F[a]=F[i]=F[y]=F[s]=F[C]=F[l]=F[d]=F[u]=F[f]=F[p]=F[m]=F[g]=F[v]=F[j]=F[b]=!1;function _(G){return r(G)&&t(G.length)&&!!F[e(G)]}return $v=_,$v}var Uv,I_;function wI(){if(I_)return Uv;I_=1;function e(t){return function(r){return t(r)}}return Uv=e,Uv}var gu={exports:{}};gu.exports;var R_;function V9(){return R_||(R_=1,function(e,t){var r=UD(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s&&r.process,d=function(){try{var u=i&&i.require&&i.require("util").types;return u||l&&l.binding&&l.binding("util")}catch{}}();e.exports=d}(gu,gu.exports)),gu.exports}var qv,P_;function SI(){if(P_)return qv;P_=1;var e=G9(),t=wI(),r=V9(),a=r&&r.isTypedArray,i=a?t(a):e;return qv=i,qv}var Wv,M_;function Y9(){if(M_)return Wv;M_=1;var e=q9(),t=vw(),r=ta(),a=jI(),i=bw(),s=SI(),l=Object.prototype,d=l.hasOwnProperty;function u(f,p){var m=r(f),g=!m&&t(f),v=!m&&!g&&a(f),j=!m&&!g&&!v&&s(f),b=m||g||v||j,y=b?e(f.length,String):[],C=y.length;for(var T in f)(p||d.call(f,T))&&!(b&&(T=="length"||v&&(T=="offset"||T=="parent")||j&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,C)))&&y.push(T);return y}return Wv=u,Wv}var Hv,B_;function X9(){if(B_)return Hv;B_=1;var e=Object.prototype;function t(r){var a=r&&r.constructor,i=typeof a=="function"&&a.prototype||e;return r===i}return Hv=t,Hv}var Gv,F_;function NI(){if(F_)return Gv;F_=1;function e(t,r){return function(a){return t(r(a))}}return Gv=e,Gv}var Vv,L_;function K9(){if(L_)return Vv;L_=1;var e=NI(),t=e(Object.keys,Object);return Vv=t,Vv}var Yv,z_;function Q9(){if(z_)return Yv;z_=1;var e=X9(),t=K9(),r=Object.prototype,a=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var l=[];for(var d in Object(s))a.call(s,d)&&d!="constructor"&&l.push(d);return l}return Yv=i,Yv}var Xv,$_;function Df(){if($_)return Xv;$_=1;var e=iw(),t=jw();function r(a){return a!=null&&t(a.length)&&!e(a)}return Xv=r,Xv}var Kv,U_;function i0(){if(U_)return Kv;U_=1;var e=Y9(),t=Q9(),r=Df();function a(i){return r(i)?e(i):t(i)}return Kv=a,Kv}var Qv,q_;function Z9(){if(q_)return Qv;q_=1;var e=L9(),t=U9(),r=i0();function a(i){return e(i,r,t)}return Qv=a,Qv}var Zv,W_;function J9(){if(W_)return Zv;W_=1;var e=Z9(),t=1,r=Object.prototype,a=r.hasOwnProperty;function i(s,l,d,u,f,p){var m=d&t,g=e(s),v=g.length,j=e(l),b=j.length;if(v!=b&&!m)return!1;for(var y=v;y--;){var C=g[y];if(!(m?C in l:a.call(l,C)))return!1}var T=p.get(s),E=p.get(l);if(T&&E)return T==l&&E==s;var S=!0;p.set(s,l),p.set(l,s);for(var A=m;++y<v;){C=g[y];var k=s[C],I=l[C];if(u)var B=m?u(I,k,C,l,s,p):u(k,I,C,s,l,p);if(!(B===void 0?k===I||f(k,I,d,u,p):B)){S=!1;break}A||(A=C=="constructor")}if(S&&!A){var M=s.constructor,L=l.constructor;M!=L&&"constructor"in s&&"constructor"in l&&!(typeof M=="function"&&M instanceof M&&typeof L=="function"&&L instanceof L)&&(S=!1)}return p.delete(s),p.delete(l),S}return Zv=i,Zv}var Jv,H_;function eU(){if(H_)return Jv;H_=1;var e=el(),t=Ai(),r=e(t,"DataView");return Jv=r,Jv}var eb,G_;function tU(){if(G_)return eb;G_=1;var e=el(),t=Ai(),r=e(t,"Promise");return eb=r,eb}var tb,V_;function TI(){if(V_)return tb;V_=1;var e=el(),t=Ai(),r=e(t,"Set");return tb=r,tb}var rb,Y_;function rU(){if(Y_)return rb;Y_=1;var e=el(),t=Ai(),r=e(t,"WeakMap");return rb=r,rb}var nb,X_;function nU(){if(X_)return nb;X_=1;var e=eU(),t=ow(),r=tU(),a=TI(),i=rU(),s=ms(),l=qD(),d="[object Map]",u="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",v=l(e),j=l(t),b=l(r),y=l(a),C=l(i),T=s;return(e&&T(new e(new ArrayBuffer(1)))!=g||t&&T(new t)!=d||r&&T(r.resolve())!=f||a&&T(new a)!=p||i&&T(new i)!=m)&&(T=function(E){var S=s(E),A=S==u?E.constructor:void 0,k=A?l(A):"";if(k)switch(k){case v:return g;case j:return d;case b:return f;case y:return p;case C:return m}return S}),nb=T,nb}var ab,K_;function aU(){if(K_)return ab;K_=1;var e=mI(),t=vI(),r=F9(),a=J9(),i=nU(),s=ta(),l=jI(),d=SI(),u=1,f="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function j(b,y,C,T,E,S){var A=s(b),k=s(y),I=A?p:i(b),B=k?p:i(y);I=I==f?m:I,B=B==f?m:B;var M=I==m,L=B==m,F=I==B;if(F&&l(b)){if(!l(y))return!1;A=!0,M=!1}if(F&&!M)return S||(S=new e),A||d(b)?t(b,y,C,T,E,S):r(b,y,I,C,T,E,S);if(!(C&u)){var _=M&&v.call(b,"__wrapped__"),G=L&&v.call(y,"__wrapped__");if(_||G){var P=_?b.value():b,D=G?y.value():y;return S||(S=new e),E(P,D,C,T,S)}}return F?(S||(S=new e),a(b,y,C,T,E,S)):!1}return ab=j,ab}var ib,Q_;function ww(){if(Q_)return ib;Q_=1;var e=aU(),t=xs();function r(a,i,s,l,d){return a===i?!0:a==null||i==null||!t(a)&&!t(i)?a!==a&&i!==i:e(a,i,s,l,r,d)}return ib=r,ib}var sb,Z_;function iU(){if(Z_)return sb;Z_=1;var e=mI(),t=ww(),r=1,a=2;function i(s,l,d,u){var f=d.length,p=f,m=!u;if(s==null)return!p;for(s=Object(s);f--;){var g=d[f];if(m&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++f<p;){g=d[f];var v=g[0],j=s[v],b=g[1];if(m&&g[2]){if(j===void 0&&!(v in s))return!1}else{var y=new e;if(u)var C=u(j,b,v,s,l,y);if(!(C===void 0?t(b,j,r|a,u,y):C))return!1}}return!0}return sb=i,sb}var ob,J_;function CI(){if(J_)return ob;J_=1;var e=ao();function t(r){return r===r&&!e(r)}return ob=t,ob}var lb,eO;function sU(){if(eO)return lb;eO=1;var e=CI(),t=i0();function r(a){for(var i=t(a),s=i.length;s--;){var l=i[s],d=a[l];i[s]=[l,d,e(d)]}return i}return lb=r,lb}var cb,tO;function AI(){if(tO)return cb;tO=1;function e(t,r){return function(a){return a==null?!1:a[t]===r&&(r!==void 0||t in Object(a))}}return cb=e,cb}var db,rO;function oU(){if(rO)return db;rO=1;var e=iU(),t=sU(),r=AI();function a(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(l){return l===i||e(l,i,s)}}return db=a,db}var ub,nO;function lU(){if(nO)return ub;nO=1;function e(t,r){return t!=null&&r in Object(t)}return ub=e,ub}var fb,aO;function cU(){if(aO)return fb;aO=1;var e=GD(),t=vw(),r=ta(),a=bw(),i=jw(),s=e0();function l(d,u,f){u=e(u,d);for(var p=-1,m=u.length,g=!1;++p<m;){var v=s(u[p]);if(!(g=d!=null&&f(d,v)))break;d=d[v]}return g||++p!=m?g:(m=d==null?0:d.length,!!m&&i(m)&&a(v,m)&&(r(d)||t(d)))}return fb=l,fb}var hb,iO;function dU(){if(iO)return hb;iO=1;var e=lU(),t=cU();function r(a,i){return a!=null&&t(a,i,e)}return hb=r,hb}var pb,sO;function uU(){if(sO)return pb;sO=1;var e=ww(),t=VD(),r=dU(),a=aw(),i=CI(),s=AI(),l=e0(),d=1,u=2;function f(p,m){return a(p)&&i(m)?s(l(p),m):function(g){var v=t(g,p);return v===void 0&&v===m?r(g,p):e(m,v,d|u)}}return pb=f,pb}var mb,oO;function Yc(){if(oO)return mb;oO=1;function e(t){return t}return mb=e,mb}var xb,lO;function fU(){if(lO)return xb;lO=1;function e(t){return function(r){return r==null?void 0:r[t]}}return xb=e,xb}var gb,cO;function hU(){if(cO)return gb;cO=1;var e=dw();function t(r){return function(a){return e(a,r)}}return gb=t,gb}var yb,dO;function pU(){if(dO)return yb;dO=1;var e=fU(),t=hU(),r=aw(),a=e0();function i(s){return r(s)?e(a(s)):t(s)}return yb=i,yb}var vb,uO;function io(){if(uO)return vb;uO=1;var e=oU(),t=uU(),r=Yc(),a=ta(),i=pU();function s(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?a(l)?t(l[0],l[1]):e(l):i(l)}return vb=s,vb}var bb,fO;function EI(){if(fO)return bb;fO=1;function e(t,r,a,i){for(var s=t.length,l=a+(i?1:-1);i?l--:++l<s;)if(r(t[l],l,t))return l;return-1}return bb=e,bb}var jb,hO;function mU(){if(hO)return jb;hO=1;function e(t){return t!==t}return jb=e,jb}var wb,pO;function xU(){if(pO)return wb;pO=1;function e(t,r,a){for(var i=a-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return wb=e,wb}var Sb,mO;function gU(){if(mO)return Sb;mO=1;var e=EI(),t=mU(),r=xU();function a(i,s,l){return s===s?r(i,s,l):e(i,t,l)}return Sb=a,Sb}var Nb,xO;function yU(){if(xO)return Nb;xO=1;var e=gU();function t(r,a){var i=r==null?0:r.length;return!!i&&e(r,a,0)>-1}return Nb=t,Nb}var Tb,gO;function vU(){if(gO)return Tb;gO=1;function e(t,r,a){for(var i=-1,s=t==null?0:t.length;++i<s;)if(a(r,t[i]))return!0;return!1}return Tb=e,Tb}var Cb,yO;function bU(){if(yO)return Cb;yO=1;function e(){}return Cb=e,Cb}var Ab,vO;function jU(){if(vO)return Ab;vO=1;var e=TI(),t=bU(),r=yw(),a=1/0,i=e&&1/r(new e([,-0]))[1]==a?function(s){return new e(s)}:t;return Ab=i,Ab}var Eb,bO;function wU(){if(bO)return Eb;bO=1;var e=xI(),t=yU(),r=vU(),a=yI(),i=jU(),s=yw(),l=200;function d(u,f,p){var m=-1,g=t,v=u.length,j=!0,b=[],y=b;if(p)j=!1,g=r;else if(v>=l){var C=f?null:i(u);if(C)return s(C);j=!1,g=a,y=new e}else y=f?[]:b;e:for(;++m<v;){var T=u[m],E=f?f(T):T;if(T=p||T!==0?T:0,j&&E===E){for(var S=y.length;S--;)if(y[S]===E)continue e;f&&y.push(E),b.push(T)}else g(y,E,p)||(y!==b&&y.push(E),b.push(T))}return b}return Eb=d,Eb}var _b,jO;function SU(){if(jO)return _b;jO=1;var e=io(),t=wU();function r(a,i){return a&&a.length?t(a,e(i,2)):[]}return _b=r,_b}var NU=SU();const wO=mr(NU);function _I(e,t,r){return t===!0?wO(e,r):It(t)?wO(e,t):e}function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}var TU=["ref"];function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(a){s0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function CU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NO(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,kI(a.key),a)}}function AU(e,t,r){return t&&NO(e.prototype,t),r&&NO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EU(e,t,r){return t=Wp(t),_U(e,OI()?Reflect.construct(t,r||[],Wp(e).constructor):t.apply(e,r))}function _U(e,t){if(t&&(vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OU(e)}function OU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OI=function(){return!!e})()}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(e)}function kU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ej(e,t)}function Ej(e,t){return Ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Ej(e,t)}function s0(e,t,r){return t=kI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kI(e){var t=DU(e,"string");return vc(t)=="symbol"?t:t+""}function DU(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(vc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IU(e,t){if(e==null)return{};var r=RU(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function RU(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function PU(e){return e.value}function MU(e,t){if(_e.isValidElement(e))return _e.cloneElement(e,t);if(typeof e=="function")return _e.createElement(e,t);t.ref;var r=IU(t,TU);return _e.createElement(gw,r)}var TO=1,sc=function(e){function t(){var r;CU(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=EU(this,t,[].concat(i)),s0(r,"lastBoundingBox",{width:-1,height:-1}),r}return kU(t,e),AU(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>TO||Math.abs(i.height-this.lastBoundingBox.height)>TO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,a&&a(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var i=this.props,s=i.layout,l=i.align,d=i.verticalAlign,u=i.margin,f=i.chartWidth,p=i.chartHeight,m,g;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();m={left:((f||0)-v.width)/2}}else m=l==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(d==="middle"){var j=this.getBBoxSnapshot();g={top:((p||0)-j.height)/2}}else g=d==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return qi(qi({},m),g)}},{key:"render",value:function(){var a=this,i=this.props,s=i.content,l=i.width,d=i.height,u=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,m=qi(qi({position:"absolute",width:l||"auto",height:d||"auto"},this.getDefaultPosition(u)),u);return _e.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){a.wrapperNode=v}},MU(s,qi(qi({},this.props),{},{payload:_I(p,f,PU)})))}}],[{key:"getWithHeight",value:function(a,i){var s=qi(qi({},this.defaultProps),a.props),l=s.layout;return l==="vertical"&&dt(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||i}:null}}])}(N.PureComponent);s0(sc,"displayName","Legend");s0(sc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ob,CO;function BU(){if(CO)return Ob;CO=1;var e=_f(),t=vw(),r=ta(),a=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(a&&s&&s[a])}return Ob=i,Ob}var kb,AO;function DI(){if(AO)return kb;AO=1;var e=bI(),t=BU();function r(a,i,s,l,d){var u=-1,f=a.length;for(s||(s=t),d||(d=[]);++u<f;){var p=a[u];i>0&&s(p)?i>1?r(p,i-1,s,l,d):e(d,p):l||(d[d.length]=p)}return d}return kb=r,kb}var Db,EO;function FU(){if(EO)return Db;EO=1;function e(t){return function(r,a,i){for(var s=-1,l=Object(r),d=i(r),u=d.length;u--;){var f=d[t?u:++s];if(a(l[f],f,l)===!1)break}return r}}return Db=e,Db}var Ib,_O;function LU(){if(_O)return Ib;_O=1;var e=FU(),t=e();return Ib=t,Ib}var Rb,OO;function II(){if(OO)return Rb;OO=1;var e=LU(),t=i0();function r(a,i){return a&&e(a,i,t)}return Rb=r,Rb}var Pb,kO;function zU(){if(kO)return Pb;kO=1;var e=Df();function t(r,a){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var l=i.length,d=a?l:-1,u=Object(i);(a?d--:++d<l)&&s(u[d],d,u)!==!1;);return i}}return Pb=t,Pb}var Mb,DO;function Sw(){if(DO)return Mb;DO=1;var e=II(),t=zU(),r=t(e);return Mb=r,Mb}var Bb,IO;function RI(){if(IO)return Bb;IO=1;var e=Sw(),t=Df();function r(a,i){var s=-1,l=t(a)?Array(a.length):[];return e(a,function(d,u,f){l[++s]=i(d,u,f)}),l}return Bb=r,Bb}var Fb,RO;function $U(){if(RO)return Fb;RO=1;function e(t,r){var a=t.length;for(t.sort(r);a--;)t[a]=t[a].value;return t}return Fb=e,Fb}var Lb,PO;function UU(){if(PO)return Lb;PO=1;var e=Gc();function t(r,a){if(r!==a){var i=r!==void 0,s=r===null,l=r===r,d=e(r),u=a!==void 0,f=a===null,p=a===a,m=e(a);if(!f&&!m&&!d&&r>a||d&&u&&p&&!f&&!m||s&&u&&p||!i&&p||!l)return 1;if(!s&&!d&&!m&&r<a||m&&i&&l&&!s&&!d||f&&i&&l||!u&&l||!p)return-1}return 0}return Lb=t,Lb}var zb,MO;function qU(){if(MO)return zb;MO=1;var e=UU();function t(r,a,i){for(var s=-1,l=r.criteria,d=a.criteria,u=l.length,f=i.length;++s<u;){var p=e(l[s],d[s]);if(p){if(s>=f)return p;var m=i[s];return p*(m=="desc"?-1:1)}}return r.index-a.index}return zb=t,zb}var $b,BO;function WU(){if(BO)return $b;BO=1;var e=cw(),t=dw(),r=io(),a=RI(),i=$U(),s=wI(),l=qU(),d=Yc(),u=ta();function f(p,m,g){m.length?m=e(m,function(b){return u(b)?function(y){return t(y,b.length===1?b[0]:b)}:b}):m=[d];var v=-1;m=e(m,s(r));var j=a(p,function(b,y,C){var T=e(m,function(E){return E(b)});return{criteria:T,index:++v,value:b}});return i(j,function(b,y){return l(b,y,g)})}return $b=f,$b}var Ub,FO;function HU(){if(FO)return Ub;FO=1;function e(t,r,a){switch(a.length){case 0:return t.call(r);case 1:return t.call(r,a[0]);case 2:return t.call(r,a[0],a[1]);case 3:return t.call(r,a[0],a[1],a[2])}return t.apply(r,a)}return Ub=e,Ub}var qb,LO;function GU(){if(LO)return qb;LO=1;var e=HU(),t=Math.max;function r(a,i,s){return i=t(i===void 0?a.length-1:i,0),function(){for(var l=arguments,d=-1,u=t(l.length-i,0),f=Array(u);++d<u;)f[d]=l[i+d];d=-1;for(var p=Array(i+1);++d<i;)p[d]=l[d];return p[i]=s(f),e(a,this,p)}}return qb=r,qb}var Wb,zO;function VU(){if(zO)return Wb;zO=1;function e(t){return function(){return t}}return Wb=e,Wb}var Hb,$O;function PI(){if($O)return Hb;$O=1;var e=el(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Hb=t,Hb}var Gb,UO;function YU(){if(UO)return Gb;UO=1;var e=VU(),t=PI(),r=Yc(),a=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return Gb=a,Gb}var Vb,qO;function XU(){if(qO)return Vb;qO=1;var e=800,t=16,r=Date.now;function a(i){var s=0,l=0;return function(){var d=r(),u=t-(d-l);if(l=d,u>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Vb=a,Vb}var Yb,WO;function KU(){if(WO)return Yb;WO=1;var e=YU(),t=XU(),r=t(e);return Yb=r,Yb}var Xb,HO;function QU(){if(HO)return Xb;HO=1;var e=Yc(),t=GU(),r=KU();function a(i,s){return r(t(i,s,e),i+"")}return Xb=a,Xb}var Kb,GO;function o0(){if(GO)return Kb;GO=1;var e=sw(),t=Df(),r=bw(),a=ao();function i(s,l,d){if(!a(d))return!1;var u=typeof l;return(u=="number"?t(d)&&r(l,d.length):u=="string"&&l in d)?e(d[l],s):!1}return Kb=i,Kb}var Qb,VO;function ZU(){if(VO)return Qb;VO=1;var e=DI(),t=WU(),r=QU(),a=o0(),i=r(function(s,l){if(s==null)return[];var d=l.length;return d>1&&a(s,l[0],l[1])?l=[]:d>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),t(s,e(l,1),[])});return Qb=i,Qb}var JU=ZU();const Nw=mr(JU);function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_j.apply(this,arguments)}function eq(e,t){return aq(e)||nq(e,t)||rq(e,t)||tq()}function tq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(e,t){if(e){if(typeof e=="string")return YO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YO(e,t)}}function YO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function nq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function aq(e){if(Array.isArray(e))return e}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Zb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(a){iq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iq(e,t,r){return t=sq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sq(e){var t=oq(e,"string");return Bu(t)=="symbol"?t:t+""}function oq(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Bu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lq(e){return Array.isArray(e)&&Kr(e[0])&&Kr(e[1])?e.join(" ~ "):e}var cq=function(t){var r=t.separator,a=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,l=t.itemStyle,d=l===void 0?{}:l,u=t.labelStyle,f=u===void 0?{}:u,p=t.payload,m=t.formatter,g=t.itemSorter,v=t.wrapperClassName,j=t.labelClassName,b=t.label,y=t.labelFormatter,C=t.accessibilityLayer,T=C===void 0?!1:C,E=function(){if(p&&p.length){var _={padding:0,margin:0},G=(g?Nw(p,g):p).map(function(P,D){if(P.type==="none")return null;var R=Zb({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},d),H=P.formatter||m||lq,ne=P.value,me=P.name,q=ne,X=me;if(H&&q!=null&&X!=null){var z=H(ne,me,P,D,p);if(Array.isArray(z)){var te=eq(z,2);q=te[0],X=te[1]}else q=z}return _e.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:R},Kr(X)?_e.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Kr(X)?_e.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,_e.createElement("span",{className:"recharts-tooltip-item-value"},q),_e.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return _e.createElement("ul",{className:"recharts-tooltip-item-list",style:_},G)}return null},S=Zb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=Zb({margin:0},f),k=!Ft(b),I=k?b:"",B=Vt("recharts-default-tooltip",v),M=Vt("recharts-tooltip-label",j);k&&y&&p!==void 0&&p!==null&&(I=y(b,p));var L=T?{role:"status","aria-live":"assertive"}:{};return _e.createElement("div",_j({className:B,style:S},L),_e.createElement("p",{className:M,style:A},_e.isValidElement(I)?I:"".concat(I)),E())};function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function ap(e,t,r){return t=dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dq(e){var t=uq(e,"string");return Fu(t)=="symbol"?t:t+""}function uq(e,t){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Fu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nu="recharts-tooltip-wrapper",fq={visibility:"hidden"};function hq(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return Vt(nu,ap(ap(ap(ap({},"".concat(nu,"-right"),dt(r)&&t&&dt(t.x)&&r>=t.x),"".concat(nu,"-left"),dt(r)&&t&&dt(t.x)&&r<t.x),"".concat(nu,"-bottom"),dt(a)&&t&&dt(t.y)&&a>=t.y),"".concat(nu,"-top"),dt(a)&&t&&dt(t.y)&&a<t.y))}function KO(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,i=e.offsetTopLeft,s=e.position,l=e.reverseDirection,d=e.tooltipDimension,u=e.viewBox,f=e.viewBoxDimension;if(s&&dt(s[a]))return s[a];var p=r[a]-d-i,m=r[a]+i;if(t[a])return l[a]?p:m;if(l[a]){var g=p,v=u[a];return g<v?Math.max(m,u[a]):Math.max(p,u[a])}var j=m+d,b=u[a]+f;return j>b?Math.max(p,u[a]):Math.max(m,u[a])}function pq(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mq(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipBox,d=e.useTranslate3d,u=e.viewBox,f,p,m;return l.height>0&&l.width>0&&r?(p=KO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=KO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),f=pq({translateX:p,translateY:m,useTranslate3d:d})):f=fq,{cssProperties:f,cssClasses:hq({translateX:p,translateY:m,coordinate:r})}}function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function ZO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(a){kj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gq(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,BI(a.key),a)}}function yq(e,t,r){return t&&gq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vq(e,t,r){return t=Hp(t),bq(e,MI()?Reflect.construct(t,r||[],Hp(e).constructor):t.apply(e,r))}function bq(e,t){if(t&&(bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jq(e)}function jq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MI=function(){return!!e})()}function Hp(e){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(e)}function wq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oj(e,t)}function Oj(e,t){return Oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Oj(e,t)}function kj(e,t,r){return t=BI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BI(e){var t=Sq(e,"string");return bc(t)=="symbol"?t:t+""}function Sq(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(bc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JO=1,Nq=function(e){function t(){var r;xq(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=vq(this,t,[].concat(i)),kj(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),kj(r,"handleKeyDown",function(l){if(l.key==="Escape"){var d,u,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&d!==void 0?d:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return wq(t,e),yq(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>JO||Math.abs(a.height-this.state.lastBoundingBox.height)>JO)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,d=i.animationDuration,u=i.animationEasing,f=i.children,p=i.coordinate,m=i.hasPayload,g=i.isAnimationActive,v=i.offset,j=i.position,b=i.reverseDirection,y=i.useTranslate3d,C=i.viewBox,T=i.wrapperStyle,E=mq({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:v,position:j,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:C}),S=E.cssClasses,A=E.cssProperties,k=ZO(ZO({transition:g&&s?"transform ".concat(d,"ms ").concat(u):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},T);return _e.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(B){a.wrapperNode=B}},f)}}])}(N.PureComponent),Tq=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xc={isSsr:Tq()};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function t4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(a){Tw(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Cq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aq(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,LI(a.key),a)}}function Eq(e,t,r){return t&&Aq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _q(e,t,r){return t=Gp(t),Oq(e,FI()?Reflect.construct(t,r||[],Gp(e).constructor):t.apply(e,r))}function Oq(e,t){if(t&&(jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kq(e)}function kq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FI=function(){return!!e})()}function Gp(e){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gp(e)}function Dq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dj(e,t)}function Dj(e,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Dj(e,t)}function Tw(e,t,r){return t=LI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LI(e){var t=Iq(e,"string");return jc(t)=="symbol"?t:t+""}function Iq(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(jc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rq(e){return e.dataKey}function Pq(e,t){return _e.isValidElement(e)?_e.cloneElement(e,t):typeof e=="function"?_e.createElement(e,t):_e.createElement(cq,t)}var Ka=function(e){function t(){return Cq(this,t),_q(this,t,arguments)}return Dq(t,e),Eq(t,[{key:"render",value:function(){var a=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,d=i.animationDuration,u=i.animationEasing,f=i.content,p=i.coordinate,m=i.filterNull,g=i.isAnimationActive,v=i.offset,j=i.payload,b=i.payloadUniqBy,y=i.position,C=i.reverseDirection,T=i.useTranslate3d,E=i.viewBox,S=i.wrapperStyle,A=j??[];m&&A.length&&(A=_I(j.filter(function(I){return I.value!=null&&(I.hide!==!0||a.props.includeHidden)}),b,Rq));var k=A.length>0;return _e.createElement(Nq,{allowEscapeViewBox:l,animationDuration:d,animationEasing:u,isAnimationActive:g,active:s,coordinate:p,hasPayload:k,offset:v,position:y,reverseDirection:C,useTranslate3d:T,viewBox:E,wrapperStyle:S},Pq(f,t4(t4({},this.props),{},{payload:A})))}}])}(N.PureComponent);Tw(Ka,"displayName","Tooltip");Tw(Ka,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Jb,r4;function Mq(){if(r4)return Jb;r4=1;var e=Ai(),t=function(){return e.Date.now()};return Jb=t,Jb}var e1,n4;function Bq(){if(n4)return e1;n4=1;var e=/\s/;function t(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return e1=t,e1}var t1,a4;function Fq(){if(a4)return t1;a4=1;var e=Bq(),t=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return t1=r,t1}var r1,i4;function zI(){if(i4)return r1;i4=1;var e=Fq(),t=ao(),r=Gc(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return a;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=s.test(f);return m||l.test(f)?d(f.slice(2),m?2:8):i.test(f)?a:+f}return r1=u,r1}var n1,s4;function Lq(){if(s4)return n1;s4=1;var e=ao(),t=Mq(),r=zI(),a="Expected a function",i=Math.max,s=Math.min;function l(d,u,f){var p,m,g,v,j,b,y=0,C=!1,T=!1,E=!0;if(typeof d!="function")throw new TypeError(a);u=r(u)||0,e(f)&&(C=!!f.leading,T="maxWait"in f,g=T?i(r(f.maxWait)||0,u):g,E="trailing"in f?!!f.trailing:E);function S(G){var P=p,D=m;return p=m=void 0,y=G,v=d.apply(D,P),v}function A(G){return y=G,j=setTimeout(B,u),C?S(G):v}function k(G){var P=G-b,D=G-y,R=u-P;return T?s(R,g-D):R}function I(G){var P=G-b,D=G-y;return b===void 0||P>=u||P<0||T&&D>=g}function B(){var G=t();if(I(G))return M(G);j=setTimeout(B,k(G))}function M(G){return j=void 0,E&&p?S(G):(p=m=void 0,v)}function L(){j!==void 0&&clearTimeout(j),y=0,p=b=m=j=void 0}function F(){return j===void 0?v:M(t())}function _(){var G=t(),P=I(G);if(p=arguments,m=this,b=G,P){if(j===void 0)return A(b);if(T)return clearTimeout(j),j=setTimeout(B,u),S(b)}return j===void 0&&(j=setTimeout(B,u)),v}return _.cancel=L,_.flush=F,_}return n1=l,n1}var a1,o4;function zq(){if(o4)return a1;o4=1;var e=Lq(),t=ao(),r="Expected a function";function a(i,s,l){var d=!0,u=!0;if(typeof i!="function")throw new TypeError(r);return t(l)&&(d="leading"in l?!!l.leading:d,u="trailing"in l?!!l.trailing:u),e(i,s,{leading:d,maxWait:s,trailing:u})}return a1=a,a1}var $q=zq();const $I=mr($q);function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function l4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(r),!0).forEach(function(a){Uq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Uq(e,t,r){return t=qq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qq(e){var t=Wq(e,"string");return Lu(t)=="symbol"?t:t+""}function Wq(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Lu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hq(e,t){return Xq(e)||Yq(e,t)||Vq(e,t)||Gq()}function Gq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vq(e,t){if(e){if(typeof e=="string")return c4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c4(e,t)}}function c4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Yq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function Xq(e){if(Array.isArray(e))return e}var d4=N.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,i=a===void 0?{width:-1,height:-1}:a,s=e.width,l=s===void 0?"100%":s,d=e.height,u=d===void 0?"100%":d,f=e.minWidth,p=f===void 0?0:f,m=e.minHeight,g=e.maxHeight,v=e.children,j=e.debounce,b=j===void 0?0:j,y=e.id,C=e.className,T=e.onResize,E=e.style,S=E===void 0?{}:E,A=N.useRef(null),k=N.useRef();k.current=T,N.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var I=N.useState({containerWidth:i.width,containerHeight:i.height}),B=Hq(I,2),M=B[0],L=B[1],F=N.useCallback(function(G,P){L(function(D){var R=Math.round(G),H=Math.round(P);return D.containerWidth===R&&D.containerHeight===H?D:{containerWidth:R,containerHeight:H}})},[]);N.useEffect(function(){var G=function(me){var q,X=me[0].contentRect,z=X.width,te=X.height;F(z,te),(q=k.current)===null||q===void 0||q.call(k,z,te)};b>0&&(G=$I(G,b,{trailing:!0,leading:!1}));var P=new ResizeObserver(G),D=A.current.getBoundingClientRect(),R=D.width,H=D.height;return F(R,H),P.observe(A.current),function(){P.disconnect()}},[F,b]);var _=N.useMemo(function(){var G=M.containerWidth,P=M.containerHeight;if(G<0||P<0)return null;rs(Po(l)||Po(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,u),rs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Po(l)?G:l,R=Po(u)?P:u;r&&r>0&&(D?R=D/r:R&&(D=R*r),g&&R>g&&(R=g)),rs(D>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,R,l,u,p,m,r);var H=!Array.isArray(v)&&ts(v.type).endsWith("Chart");return _e.Children.map(v,function(ne){return _e.isValidElement(ne)?N.cloneElement(ne,ip({width:D,height:R},H?{style:ip({height:"100%",width:"100%",maxHeight:R,maxWidth:D},ne.props.style)}:{})):ne})},[r,v,u,g,m,p,M,l]);return _e.createElement("div",{id:y?"".concat(y):void 0,className:Vt("recharts-responsive-container",C),style:ip(ip({},S),{},{width:l,height:u,minWidth:p,minHeight:m,maxHeight:g}),ref:A},_)}),UI=function(t){return null};UI.displayName="Cell";function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(a){Kq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Kq(e,t,r){return t=Qq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=Zq(e,"string");return zu(t)=="symbol"?t:t+""}function Zq(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(zu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wl={widthCache:{},cacheCount:0},Jq=2e3,eW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},f4="recharts_measurement_span";function tW(e){var t=Ij({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ju=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Xc.isSsr)return{width:0,height:0};var a=tW(r),i=JSON.stringify({text:t,copyStyle:a});if(Wl.widthCache[i])return Wl.widthCache[i];try{var s=document.getElementById(f4);s||(s=document.createElement("span"),s.setAttribute("id",f4),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=Ij(Ij({},eW),a);Object.assign(s.style,l),s.textContent="".concat(t);var d=s.getBoundingClientRect(),u={width:d.width,height:d.height};return Wl.widthCache[i]=u,++Wl.cacheCount>Jq&&(Wl.cacheCount=0,Wl.widthCache={}),u}catch{return{width:0,height:0}}},rW=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function Vp(e,t){return sW(e)||iW(e,t)||aW(e,t)||nW()}function nW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aW(e,t){if(e){if(typeof e=="string")return h4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h4(e,t)}}function h4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function iW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function sW(e){if(Array.isArray(e))return e}function oW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p4(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cW(a.key),a)}}function lW(e,t,r){return t&&p4(e.prototype,t),r&&p4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cW(e){var t=dW(e,"string");return $u(t)=="symbol"?t:t+""}function dW(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if($u(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var m4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hW=Object.keys(qI),ec="NaN";function pW(e,t){return e*qI[t]}var sp=function(){function e(t,r){oW(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!uW.test(r)&&(this.num=NaN,this.unit=""),hW.includes(r)&&(this.num=pW(t,r),this.unit="px")}return lW(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,i=(a=fW.exec(r))!==null&&a!==void 0?a:[],s=Vp(i,3),l=s[1],d=s[2];return new e(parseFloat(l),d??"")}}])}();function WI(e){if(e.includes(ec))return ec;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=m4.exec(t))!==null&&r!==void 0?r:[],i=Vp(a,4),s=i[1],l=i[2],d=i[3],u=sp.parse(s??""),f=sp.parse(d??""),p=l==="*"?u.multiply(f):u.divide(f);if(p.isNaN())return ec;t=t.replace(m4,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,g=(m=x4.exec(t))!==null&&m!==void 0?m:[],v=Vp(g,4),j=v[1],b=v[2],y=v[3],C=sp.parse(j??""),T=sp.parse(y??""),E=b==="+"?C.add(T):C.subtract(T);if(E.isNaN())return ec;t=t.replace(x4,E.toString())}return t}var g4=/\(([^()]*)\)/;function mW(e){for(var t=e;t.includes("(");){var r=g4.exec(t),a=Vp(r,2),i=a[1];t=t.replace(g4,WI(i))}return t}function xW(e){var t=e.replace(/\s+/g,"");return t=mW(t),t=WI(t),t}function gW(e){try{return xW(e)}catch{return ec}}function i1(e){var t=gW(e.slice(5,-1));return t===ec?"":t}var yW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vW=["dx","dy","angle","className","breakAll"];function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Rj.apply(this,arguments)}function y4(e,t){if(e==null)return{};var r=bW(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function bW(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function v4(e,t){return NW(e)||SW(e,t)||wW(e,t)||jW()}function jW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wW(e,t){if(e){if(typeof e=="string")return b4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b4(e,t)}}function b4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function SW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function NW(e){if(Array.isArray(e))return e}var HI=/[ \f\n\r\t\v\u2028\u2029]+/,GI=function(t){var r=t.children,a=t.breakAll,i=t.style;try{var s=[];Ft(r)||(a?s=r.toString().split(""):s=r.toString().split(HI));var l=s.map(function(u){return{word:u,width:ju(u,i).width}}),d=a?0:ju("",i).width;return{wordsWithComputedWidth:l,spaceWidth:d}}catch{return null}},TW=function(t,r,a,i,s){var l=t.maxLines,d=t.children,u=t.style,f=t.breakAll,p=dt(l),m=d,g=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(R,H){var ne=H.word,me=H.width,q=R[R.length-1];if(q&&(i==null||s||q.width+me+a<Number(i)))q.words.push(ne),q.width+=me+a;else{var X={words:[ne],width:me};R.push(X)}return R},[])},v=g(r),j=function(D){return D.reduce(function(R,H){return R.width>H.width?R:H})};if(!p)return v;for(var b="",y=function(D){var R=m.slice(0,D),H=GI({breakAll:f,style:u,children:R+b}).wordsWithComputedWidth,ne=g(H),me=ne.length>l||j(ne).width>Number(i);return[me,ne]},C=0,T=m.length-1,E=0,S;C<=T&&E<=m.length-1;){var A=Math.floor((C+T)/2),k=A-1,I=y(k),B=v4(I,2),M=B[0],L=B[1],F=y(A),_=v4(F,1),G=_[0];if(!M&&!G&&(C=A+1),M&&G&&(T=A-1),!M&&G){S=L;break}E++}return S||v},j4=function(t){var r=Ft(t)?[]:t.toString().split(HI);return[{words:r}]},CW=function(t){var r=t.width,a=t.scaleToFit,i=t.children,s=t.style,l=t.breakAll,d=t.maxLines;if((r||a)&&!Xc.isSsr){var u,f,p=GI({breakAll:l,children:i,style:s});if(p){var m=p.wordsWithComputedWidth,g=p.spaceWidth;u=m,f=g}else return j4(i);return TW({breakAll:l,children:i,maxLines:d,style:s},u,f,r,a)}return j4(i)},w4="#808080",Yp=function(t){var r=t.x,a=r===void 0?0:r,i=t.y,s=i===void 0?0:i,l=t.lineHeight,d=l===void 0?"1em":l,u=t.capHeight,f=u===void 0?"0.71em":u,p=t.scaleToFit,m=p===void 0?!1:p,g=t.textAnchor,v=g===void 0?"start":g,j=t.verticalAnchor,b=j===void 0?"end":j,y=t.fill,C=y===void 0?w4:y,T=y4(t,yW),E=N.useMemo(function(){return CW({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:m,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,m,T.style,T.width]),S=T.dx,A=T.dy,k=T.angle,I=T.className,B=T.breakAll,M=y4(T,vW);if(!Kr(a)||!Kr(s))return null;var L=a+(dt(S)?S:0),F=s+(dt(A)?A:0),_;switch(b){case"start":_=i1("calc(".concat(f,")"));break;case"middle":_=i1("calc(".concat((E.length-1)/2," * -").concat(d," + (").concat(f," / 2))"));break;default:_=i1("calc(".concat(E.length-1," * -").concat(d,")"));break}var G=[];if(m){var P=E[0].width,D=T.width;G.push("scale(".concat((dt(D)?D/P:1)/P,")"))}return k&&G.push("rotate(".concat(k,", ").concat(L,", ").concat(F,")")),G.length&&(M.transform=G.join(" ")),_e.createElement("text",Rj({},zt(M,!0),{x:L,y:F,className:Vt("recharts-text",I),textAnchor:v,fill:C.includes("url")?w4:C}),E.map(function(R,H){var ne=R.words.join(B?"":" ");return _e.createElement("tspan",{x:L,dy:H===0?_:d,key:"".concat(ne,"-").concat(H)},ne)}))};function Ks(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function AW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cw(e){let t,r,a;e.length!==2?(t=Ks,r=(d,u)=>Ks(e(d),u),a=(d,u)=>e(d)-u):(t=e===Ks||e===AW?e:EW,r=e,a=e);function i(d,u,f=0,p=d.length){if(f<p){if(t(u,u)!==0)return p;do{const m=f+p>>>1;r(d[m],u)<0?f=m+1:p=m}while(f<p)}return f}function s(d,u,f=0,p=d.length){if(f<p){if(t(u,u)!==0)return p;do{const m=f+p>>>1;r(d[m],u)<=0?f=m+1:p=m}while(f<p)}return f}function l(d,u,f=0,p=d.length){const m=i(d,u,f,p-1);return m>f&&a(d[m-1],u)>-a(d[m],u)?m-1:m}return{left:i,center:l,right:s}}function EW(){return 0}function VI(e){return e===null?NaN:+e}function*_W(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const OW=Cw(Ks),If=OW.right;Cw(VI).center;class S4 extends Map{constructor(t,r=IW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,i]of t)this.set(a,i)}get(t){return super.get(N4(this,t))}has(t){return super.has(N4(this,t))}set(t,r){return super.set(kW(this,t),r)}delete(t){return super.delete(DW(this,t))}}function N4({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function kW({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function DW({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function IW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RW(e=Ks){if(e===Ks)return YI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function YI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const PW=Math.sqrt(50),MW=Math.sqrt(10),BW=Math.sqrt(2);function Xp(e,t,r){const a=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(a)),s=a/Math.pow(10,i),l=s>=PW?10:s>=MW?5:s>=BW?2:1;let d,u,f;return i<0?(f=Math.pow(10,-i)/l,d=Math.round(e*f),u=Math.round(t*f),d/f<e&&++d,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*l,d=Math.round(e/f),u=Math.round(t/f),d*f<e&&++d,u*f>t&&--u),u<d&&.5<=r&&r<2?Xp(e,t,r*2):[d,u,f]}function Pj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[i,s,l]=a?Xp(t,e,r):Xp(e,t,r);if(!(s>=i))return[];const d=s-i+1,u=new Array(d);if(a)if(l<0)for(let f=0;f<d;++f)u[f]=(s-f)/-l;else for(let f=0;f<d;++f)u[f]=(s-f)*l;else if(l<0)for(let f=0;f<d;++f)u[f]=(i+f)/-l;else for(let f=0;f<d;++f)u[f]=(i+f)*l;return u}function Mj(e,t,r){return t=+t,e=+e,r=+r,Xp(e,t,r)[2]}function Bj(e,t,r){t=+t,e=+e,r=+r;const a=t<e,i=a?Mj(t,e,r):Mj(e,t,r);return(a?-1:1)*(i<0?1/-i:i)}function T4(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function C4(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function XI(e,t,r=0,a=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(i=i===void 0?YI:RW(i);a>r;){if(a-r>600){const u=a-r+1,f=t-r+1,p=Math.log(u),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(u-m)/u)*(f-u/2<0?-1:1),v=Math.max(r,Math.floor(t-f*m/u+g)),j=Math.min(a,Math.floor(t+(u-f)*m/u+g));XI(e,t,v,j,i)}const s=e[t];let l=r,d=a;for(au(e,r,t),i(e[a],s)>0&&au(e,r,a);l<d;){for(au(e,l,d),++l,--d;i(e[l],s)<0;)++l;for(;i(e[d],s)>0;)--d}i(e[r],s)===0?au(e,r,d):(++d,au(e,d,a)),d<=t&&(r=d+1),t<=d&&(a=d-1)}return e}function au(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function FW(e,t,r){if(e=Float64Array.from(_W(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return C4(e);if(t>=1)return T4(e);var a,i=(a-1)*t,s=Math.floor(i),l=T4(XI(e,s).subarray(0,s+1)),d=C4(e.subarray(s+1));return l+(d-l)*(i-s)}}function LW(e,t,r=VI){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,i=(a-1)*t,s=Math.floor(i),l=+r(e[s],s,e),d=+r(e[s+1],s+1,e);return l+(d-l)*(i-s)}}function zW(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var a=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++a<i;)s[a]=e+a*r;return s}function La(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function gs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fj=Symbol("implicit");function Aw(){var e=new S4,t=[],r=[],a=Fj;function i(s){let l=e.get(s);if(l===void 0){if(a!==Fj)return a;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new S4;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return Aw(t,r).unknown(a)},La.apply(i,arguments),i}function Uu(){var e=Aw().unknown(void 0),t=e.domain,r=e.range,a=0,i=1,s,l,d=!1,u=0,f=0,p=.5;delete e.unknown;function m(){var g=t().length,v=i<a,j=v?i:a,b=v?a:i;s=(b-j)/Math.max(1,g-u+f*2),d&&(s=Math.floor(s)),j+=(b-j-s*(g-u))*p,l=s*(1-u),d&&(j=Math.round(j),l=Math.round(l));var y=zW(g).map(function(C){return j+s*C});return r(v?y.reverse():y)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([a,i]=g,a=+a,i=+i,m()):[a,i]},e.rangeRound=function(g){return[a,i]=g,a=+a,i=+i,d=!0,m()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(g){return arguments.length?(d=!!g,m()):d},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},e.copy=function(){return Uu(t(),[a,i]).round(d).paddingInner(u).paddingOuter(f).align(p)},La.apply(m(),arguments)}function KI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KI(t())},e}function wu(){return KI(Uu.apply(null,arguments).paddingInner(1))}function Ew(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function QI(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Rf(){}var qu=.7,Kp=1/qu,oc="\\s*([+-]?\\d+)\\s*",Wu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$W=/^#([0-9a-f]{3,8})$/,UW=new RegExp(`^rgb\\(${oc},${oc},${oc}\\)$`),qW=new RegExp(`^rgb\\(${wi},${wi},${wi}\\)$`),WW=new RegExp(`^rgba\\(${oc},${oc},${oc},${Wu}\\)$`),HW=new RegExp(`^rgba\\(${wi},${wi},${wi},${Wu}\\)$`),GW=new RegExp(`^hsl\\(${Wu},${wi},${wi}\\)$`),VW=new RegExp(`^hsla\\(${Wu},${wi},${wi},${Wu}\\)$`),A4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ew(Rf,Hu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:E4,formatHex:E4,formatHex8:YW,formatHsl:XW,formatRgb:_4,toString:_4});function E4(){return this.rgb().formatHex()}function YW(){return this.rgb().formatHex8()}function XW(){return ZI(this).formatHsl()}function _4(){return this.rgb().formatRgb()}function Hu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$W.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?O4(t):r===3?new Vn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?op(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?op(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UW.exec(e))?new Vn(t[1],t[2],t[3],1):(t=qW.exec(e))?new Vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WW.exec(e))?op(t[1],t[2],t[3],t[4]):(t=HW.exec(e))?op(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GW.exec(e))?I4(t[1],t[2]/100,t[3]/100,1):(t=VW.exec(e))?I4(t[1],t[2]/100,t[3]/100,t[4]):A4.hasOwnProperty(e)?O4(A4[e]):e==="transparent"?new Vn(NaN,NaN,NaN,0):null}function O4(e){return new Vn(e>>16&255,e>>8&255,e&255,1)}function op(e,t,r,a){return a<=0&&(e=t=r=NaN),new Vn(e,t,r,a)}function KW(e){return e instanceof Rf||(e=Hu(e)),e?(e=e.rgb(),new Vn(e.r,e.g,e.b,e.opacity)):new Vn}function Lj(e,t,r,a){return arguments.length===1?KW(e):new Vn(e,t,r,a??1)}function Vn(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}Ew(Vn,Lj,QI(Rf,{brighter(e){return e=e==null?Kp:Math.pow(Kp,e),new Vn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qu:Math.pow(qu,e),new Vn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vn(zo(this.r),zo(this.g),zo(this.b),Qp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k4,formatHex:k4,formatHex8:QW,formatRgb:D4,toString:D4}));function k4(){return`#${Mo(this.r)}${Mo(this.g)}${Mo(this.b)}`}function QW(){return`#${Mo(this.r)}${Mo(this.g)}${Mo(this.b)}${Mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function D4(){const e=Qp(this.opacity);return`${e===1?"rgb(":"rgba("}${zo(this.r)}, ${zo(this.g)}, ${zo(this.b)}${e===1?")":`, ${e})`}`}function Qp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mo(e){return e=zo(e),(e<16?"0":"")+e.toString(16)}function I4(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ei(e,t,r,a)}function ZI(e){if(e instanceof ei)return new ei(e.h,e.s,e.l,e.opacity);if(e instanceof Rf||(e=Hu(e)),!e)return new ei;if(e instanceof ei)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,i=Math.min(t,r,a),s=Math.max(t,r,a),l=NaN,d=s-i,u=(s+i)/2;return d?(t===s?l=(r-a)/d+(r<a)*6:r===s?l=(a-t)/d+2:l=(t-r)/d+4,d/=u<.5?s+i:2-s-i,l*=60):d=u>0&&u<1?0:l,new ei(l,d,u,e.opacity)}function ZW(e,t,r,a){return arguments.length===1?ZI(e):new ei(e,t,r,a??1)}function ei(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}Ew(ei,ZW,QI(Rf,{brighter(e){return e=e==null?Kp:Math.pow(Kp,e),new ei(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qu:Math.pow(qu,e),new ei(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,i=2*r-a;return new Vn(s1(e>=240?e-240:e+120,i,a),s1(e,i,a),s1(e<120?e+240:e-120,i,a),this.opacity)},clamp(){return new ei(R4(this.h),lp(this.s),lp(this.l),Qp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qp(this.opacity);return`${e===1?"hsl(":"hsla("}${R4(this.h)}, ${lp(this.s)*100}%, ${lp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R4(e){return e=(e||0)%360,e<0?e+360:e}function lp(e){return Math.max(0,Math.min(1,e||0))}function s1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _w=e=>()=>e;function JW(e,t){return function(r){return e+r*t}}function eH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function tH(e){return(e=+e)==1?JI:function(t,r){return r-t?eH(t,r,e):_w(isNaN(t)?r:t)}}function JI(e,t){var r=t-e;return r?JW(e,r):_w(isNaN(e)?t:e)}const P4=function e(t){var r=tH(t);function a(i,s){var l=r((i=Lj(i)).r,(s=Lj(s)).r),d=r(i.g,s.g),u=r(i.b,s.b),f=JI(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=u(p),i.opacity=f(p),i+""}}return a.gamma=e,a}(1);function rH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),i;return function(s){for(i=0;i<r;++i)a[i]=e[i]*(1-s)+t[i]*s;return a}}function nH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aH(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),s=new Array(r),l;for(l=0;l<a;++l)i[l]=Kc(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(d){for(l=0;l<a;++l)s[l]=i[l](d);return s}}function iH(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function Zp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function sH(e,t){var r={},a={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Kc(e[i],t[i]):a[i]=t[i];return function(s){for(i in r)a[i]=r[i](s);return a}}var zj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o1=new RegExp(zj.source,"g");function oH(e){return function(){return e}}function lH(e){return function(t){return e(t)+""}}function cH(e,t){var r=zj.lastIndex=o1.lastIndex=0,a,i,s,l=-1,d=[],u=[];for(e=e+"",t=t+"";(a=zj.exec(e))&&(i=o1.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),d[l]?d[l]+=s:d[++l]=s),(a=a[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,u.push({i:l,x:Zp(a,i)})),r=o1.lastIndex;return r<t.length&&(s=t.slice(r),d[l]?d[l]+=s:d[++l]=s),d.length<2?u[0]?lH(u[0].x):oH(t):(t=u.length,function(f){for(var p=0,m;p<t;++p)d[(m=u[p]).i]=m.x(f);return d.join("")})}function Kc(e,t){var r=typeof t,a;return t==null||r==="boolean"?_w(t):(r==="number"?Zp:r==="string"?(a=Hu(t))?(t=a,P4):cH:t instanceof Hu?P4:t instanceof Date?iH:nH(t)?rH:Array.isArray(t)?aH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sH:Zp)(e,t)}function Ow(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function dH(e,t){t===void 0&&(t=e,e=Kc);for(var r=0,a=t.length-1,i=t[0],s=new Array(a<0?0:a);r<a;)s[r]=e(i,i=t[++r]);return function(l){var d=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return s[d](l-d)}}function uH(e){return function(){return e}}function Jp(e){return+e}var M4=[0,1];function Pn(e){return e}function $j(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uH(isNaN(t)?NaN:.5)}function fH(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function hH(e,t,r){var a=e[0],i=e[1],s=t[0],l=t[1];return i<a?(a=$j(i,a),s=r(l,s)):(a=$j(a,i),s=r(s,l)),function(d){return s(a(d))}}function pH(e,t,r){var a=Math.min(e.length,t.length)-1,i=new Array(a),s=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)i[l]=$j(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(d){var u=If(e,d,1,a)-1;return s[u](i[u](d))}}function Pf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function l0(){var e=M4,t=M4,r=Kc,a,i,s,l=Pn,d,u,f;function p(){var g=Math.min(e.length,t.length);return l!==Pn&&(l=fH(e[0],e[g-1])),d=g>2?pH:hH,u=f=null,m}function m(g){return g==null||isNaN(g=+g)?s:(u||(u=d(e.map(a),t,r)))(a(l(g)))}return m.invert=function(g){return l(i((f||(f=d(t,e.map(a),Zp)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,Jp),p()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=Ow,p()},m.clamp=function(g){return arguments.length?(l=g?!0:Pn,p()):l!==Pn},m.interpolate=function(g){return arguments.length?(r=g,p()):r},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,v){return a=g,i=v,p()}}function kw(){return l0()(Pn,Pn)}function mH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function em(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function wc(e){return e=em(Math.abs(e)),e?e[1]:NaN}function xH(e,t){return function(r,a){for(var i=r.length,s=[],l=0,d=e[0],u=0;i>0&&d>0&&(u+d+1>a&&(d=Math.max(1,a-u)),s.push(r.substring(i-=d,i+d)),!((u+=d+1)>a));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function gH(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var yH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gu(e){if(!(t=yH.exec(e)))throw new Error("invalid format: "+e);var t;return new Dw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gu.prototype=Dw.prototype;function Dw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Dw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vH(e){e:for(var t=e.length,r=1,a=-1,i;r<t;++r)switch(e[r]){case".":a=i=r;break;case"0":a===0&&(a=r),i=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(i+1):e}var eR;function bH(e,t){var r=em(e,t);if(!r)return e+"";var a=r[0],i=r[1],s=i-(eR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=a.length;return s===l?a:s>l?a+new Array(s-l+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+em(e,Math.max(0,t+s-1))[0]}function B4(e,t){var r=em(e,t);if(!r)return e+"";var a=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}const F4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>B4(e*100,t),r:B4,s:bH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function L4(e){return e}var z4=Array.prototype.map,$4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jH(e){var t=e.grouping===void 0||e.thousands===void 0?L4:xH(z4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?L4:gH(z4.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(m){m=Gu(m);var g=m.fill,v=m.align,j=m.sign,b=m.symbol,y=m.zero,C=m.width,T=m.comma,E=m.precision,S=m.trim,A=m.type;A==="n"?(T=!0,A="g"):F4[A]||(E===void 0&&(E=12),S=!0,A="g"),(y||g==="0"&&v==="=")&&(y=!0,g="0",v="=");var k=b==="$"?r:b==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",I=b==="$"?a:/[%p]/.test(A)?l:"",B=F4[A],M=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function L(F){var _=k,G=I,P,D,R;if(A==="c")G=B(F)+G,F="";else{F=+F;var H=F<0||1/F<0;if(F=isNaN(F)?u:B(Math.abs(F),E),S&&(F=vH(F)),H&&+F==0&&j!=="+"&&(H=!1),_=(H?j==="("?j:d:j==="-"||j==="("?"":j)+_,G=(A==="s"?$4[8+eR/3]:"")+G+(H&&j==="("?")":""),M){for(P=-1,D=F.length;++P<D;)if(R=F.charCodeAt(P),48>R||R>57){G=(R===46?i+F.slice(P+1):F.slice(P))+G,F=F.slice(0,P);break}}}T&&!y&&(F=t(F,1/0));var ne=_.length+F.length+G.length,me=ne<C?new Array(C-ne+1).join(g):"";switch(T&&y&&(F=t(me+F,me.length?C-G.length:1/0),me=""),v){case"<":F=_+F+G+me;break;case"=":F=_+me+F+G;break;case"^":F=me.slice(0,ne=me.length>>1)+_+F+G+me.slice(ne);break;default:F=me+_+F+G;break}return s(F)}return L.toString=function(){return m+""},L}function p(m,g){var v=f((m=Gu(m),m.type="f",m)),j=Math.max(-8,Math.min(8,Math.floor(wc(g)/3)))*3,b=Math.pow(10,-j),y=$4[8+j/3];return function(C){return v(b*C)+y}}return{format:f,formatPrefix:p}}var cp,Iw,tR;wH({thousands:",",grouping:[3],currency:["$",""]});function wH(e){return cp=jH(e),Iw=cp.format,tR=cp.formatPrefix,cp}function SH(e){return Math.max(0,-wc(Math.abs(e)))}function NH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wc(t)/3)))*3-wc(Math.abs(e)))}function TH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wc(t)-wc(e))+1}function rR(e,t,r,a){var i=Bj(e,t,r),s;switch(a=Gu(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(s=NH(i,l))&&(a.precision=s),tR(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(s=TH(i,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=s-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(s=SH(i))&&(a.precision=s-(a.type==="%")*2);break}}return Iw(a)}function so(e){var t=e.domain;return e.ticks=function(r){var a=t();return Pj(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var i=t();return rR(i[0],i[i.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),i=0,s=a.length-1,l=a[i],d=a[s],u,f,p=10;for(d<l&&(f=l,l=d,d=f,f=i,i=s,s=f);p-- >0;){if(f=Mj(l,d,r),f===u)return a[i]=l,a[s]=d,t(a);if(f>0)l=Math.floor(l/f)*f,d=Math.ceil(d/f)*f;else if(f<0)l=Math.ceil(l*f)/f,d=Math.floor(d*f)/f;else break;u=f}return e},e}function tm(){var e=kw();return e.copy=function(){return Pf(e,tm())},La.apply(e,arguments),so(e)}function nR(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Jp),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return nR(e).unknown(t)},e=arguments.length?Array.from(e,Jp):[0,1],so(r)}function aR(e,t){e=e.slice();var r=0,a=e.length-1,i=e[r],s=e[a],l;return s<i&&(l=r,r=a,a=l,l=i,i=s,s=l),e[r]=t.floor(i),e[a]=t.ceil(s),e}function U4(e){return Math.log(e)}function q4(e){return Math.exp(e)}function CH(e){return-Math.log(-e)}function AH(e){return-Math.exp(-e)}function EH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _H(e){return e===10?EH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function OH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function W4(e){return(t,r)=>-e(-t,r)}function Rw(e){const t=e(U4,q4),r=t.domain;let a=10,i,s;function l(){return i=OH(a),s=_H(a),r()[0]<0?(i=W4(i),s=W4(s),e(CH,AH)):e(U4,q4),t}return t.base=function(d){return arguments.length?(a=+d,l()):a},t.domain=function(d){return arguments.length?(r(d),l()):r()},t.ticks=d=>{const u=r();let f=u[0],p=u[u.length-1];const m=p<f;m&&([f,p]=[p,f]);let g=i(f),v=i(p),j,b;const y=d==null?10:+d;let C=[];if(!(a%1)&&v-g<y){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(j=1;j<a;++j)if(b=g<0?j/s(-g):j*s(g),!(b<f)){if(b>p)break;C.push(b)}}else for(;g<=v;++g)for(j=a-1;j>=1;--j)if(b=g>0?j/s(-g):j*s(g),!(b<f)){if(b>p)break;C.push(b)}C.length*2<y&&(C=Pj(f,p,y))}else C=Pj(g,v,Math.min(v-g,y)).map(s);return m?C.reverse():C},t.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=Gu(u)).precision==null&&(u.trim=!0),u=Iw(u)),d===1/0)return u;const f=Math.max(1,a*d/t.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*a<a-.5&&(m*=a),m<=f?u(p):""}},t.nice=()=>r(aR(r(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),t}function iR(){const e=Rw(l0()).domain([1,10]);return e.copy=()=>Pf(e,iR()).base(e.base()),La.apply(e,arguments),e}function H4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function G4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Pw(e){var t=1,r=e(H4(t),G4(t));return r.constant=function(a){return arguments.length?e(H4(t=+a),G4(t)):t},so(r)}function sR(){var e=Pw(l0());return e.copy=function(){return Pf(e,sR()).constant(e.constant())},La.apply(e,arguments)}function V4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function DH(e){return e<0?-e*e:e*e}function Mw(e){var t=e(Pn,Pn),r=1;function a(){return r===1?e(Pn,Pn):r===.5?e(kH,DH):e(V4(r),V4(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,a()):r},so(t)}function Bw(){var e=Mw(l0());return e.copy=function(){return Pf(e,Bw()).exponent(e.exponent())},La.apply(e,arguments),e}function IH(){return Bw.apply(null,arguments).exponent(.5)}function Y4(e){return Math.sign(e)*e*e}function RH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oR(){var e=kw(),t=[0,1],r=!1,a;function i(s){var l=RH(e(s));return isNaN(l)?a:r?Math.round(l):l}return i.invert=function(s){return e.invert(Y4(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Jp)).map(Y4)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return oR(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},La.apply(i,arguments),so(i)}function lR(){var e=[],t=[],r=[],a;function i(){var l=0,d=Math.max(1,t.length);for(r=new Array(d-1);++l<d;)r[l-1]=LW(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?a:t[If(r,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Ks),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.quantiles=function(){return r.slice()},s.copy=function(){return lR().domain(e).range(t).unknown(a)},La.apply(s,arguments)}function cR(){var e=0,t=1,r=1,a=[.5],i=[0,1],s;function l(u){return u!=null&&u<=u?i[If(a,u,0,r)]:s}function d(){var u=-1;for(a=new Array(r);++u<r;)a[u]=((u+1)*t-(u-r)*e)/(r+1);return l}return l.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,d()):[e,t]},l.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,d()):i.slice()},l.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,a[0]]:f>=r?[a[r-1],t]:[a[f-1],a[f]]},l.unknown=function(u){return arguments.length&&(s=u),l},l.thresholds=function(){return a.slice()},l.copy=function(){return cR().domain([e,t]).range(i).unknown(s)},La.apply(so(l),arguments)}function dR(){var e=[.5],t=[0,1],r,a=1;function i(s){return s!=null&&s<=s?t[If(e,s,0,a)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),a=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),a=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return dR().domain(e).range(t).unknown(r)},La.apply(i,arguments)}const l1=new Date,c1=new Date;function Qr(e,t,r,a){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),d=i.ceil(s);return s-l<d-s?l:d},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,d)=>{const u=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return u;let f;do u.push(f=new Date(+s)),t(s,d),e(s);while(f<s&&s<l);return u},i.filter=s=>Qr(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),r&&(i.count=(s,l)=>(l1.setTime(+s),c1.setTime(+l),e(l1),e(c1),Math.floor(r(l1,c1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(a?l=>a(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const rm=Qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rm);rm.range;const Xi=1e3,Ra=Xi*60,Ki=Ra*60,cs=Ki*24,Fw=cs*7,X4=cs*30,d1=cs*365,Bo=Qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getUTCSeconds());Bo.range;const Lw=Qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xi)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getMinutes());Lw.range;const zw=Qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getUTCMinutes());zw.range;const $w=Qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xi-e.getMinutes()*Ra)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getHours());$w.range;const Uw=Qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCHours());Uw.range;const Mf=Qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ra)/cs,e=>e.getDate()-1);Mf.range;const c0=Qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cs,e=>e.getUTCDate()-1);c0.range;const uR=Qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cs,e=>Math.floor(e/cs));uR.range;function tl(e){return Qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ra)/Fw)}const d0=tl(0),nm=tl(1),PH=tl(2),MH=tl(3),Sc=tl(4),BH=tl(5),FH=tl(6);d0.range;nm.range;PH.range;MH.range;Sc.range;BH.range;FH.range;function rl(e){return Qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Fw)}const u0=rl(0),am=rl(1),LH=rl(2),zH=rl(3),Nc=rl(4),$H=rl(5),UH=rl(6);u0.range;am.range;LH.range;zH.range;Nc.range;$H.range;UH.range;const qw=Qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qw.range;const Ww=Qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ww.range;const ds=Qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ds.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ds.range;const us=Qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());us.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});us.range;function fR(e,t,r,a,i,s){const l=[[Bo,1,Xi],[Bo,5,5*Xi],[Bo,15,15*Xi],[Bo,30,30*Xi],[s,1,Ra],[s,5,5*Ra],[s,15,15*Ra],[s,30,30*Ra],[i,1,Ki],[i,3,3*Ki],[i,6,6*Ki],[i,12,12*Ki],[a,1,cs],[a,2,2*cs],[r,1,Fw],[t,1,X4],[t,3,3*X4],[e,1,d1]];function d(f,p,m){const g=p<f;g&&([f,p]=[p,f]);const v=m&&typeof m.range=="function"?m:u(f,p,m),j=v?v.range(f,+p+1):[];return g?j.reverse():j}function u(f,p,m){const g=Math.abs(p-f)/m,v=Cw(([,,y])=>y).right(l,g);if(v===l.length)return e.every(Bj(f/d1,p/d1,m));if(v===0)return rm.every(Math.max(Bj(f,p,m),1));const[j,b]=l[g/l[v-1][2]<l[v][2]/g?v-1:v];return j.every(b)}return[d,u]}const[qH,WH]=fR(us,Ww,u0,uR,Uw,zw),[HH,GH]=fR(ds,qw,d0,Mf,$w,Lw);function u1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function f1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function iu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function VH(e){var t=e.dateTime,r=e.date,a=e.time,i=e.periods,s=e.days,l=e.shortDays,d=e.months,u=e.shortMonths,f=su(i),p=ou(i),m=su(s),g=ou(s),v=su(l),j=ou(l),b=su(d),y=ou(d),C=su(u),T=ou(u),E={a:H,A:ne,b:me,B:q,c:null,d:t6,e:t6,f:xG,g:CG,G:EG,H:hG,I:pG,j:mG,L:hR,m:gG,M:yG,p:X,q:z,Q:a6,s:i6,S:vG,u:bG,U:jG,V:wG,w:SG,W:NG,x:null,X:null,y:TG,Y:AG,Z:_G,"%":n6},S={a:te,A:U,b:ee,B:le,c:null,d:r6,e:r6,f:IG,g:qG,G:HG,H:OG,I:kG,j:DG,L:mR,m:RG,M:PG,p:ce,q:je,Q:a6,s:i6,S:MG,u:BG,U:FG,V:LG,w:zG,W:$G,x:null,X:null,y:UG,Y:WG,Z:GG,"%":n6},A={a:L,A:F,b:_,B:G,c:P,d:J4,e:J4,f:cG,g:Z4,G:Q4,H:e6,I:e6,j:iG,L:lG,m:aG,M:sG,p:M,q:nG,Q:uG,s:fG,S:oG,u:ZH,U:JH,V:eG,w:QH,W:tG,x:D,X:R,y:Z4,Y:Q4,Z:rG,"%":dG};E.x=k(r,E),E.X=k(a,E),E.c=k(t,E),S.x=k(r,S),S.X=k(a,S),S.c=k(t,S);function k(ie,ve){return function(Ne){var ge=[],Ye=-1,Te=0,qe=ie.length,V,fe,Ee;for(Ne instanceof Date||(Ne=new Date(+Ne));++Ye<qe;)ie.charCodeAt(Ye)===37&&(ge.push(ie.slice(Te,Ye)),(fe=K4[V=ie.charAt(++Ye)])!=null?V=ie.charAt(++Ye):fe=V==="e"?" ":"0",(Ee=ve[V])&&(V=Ee(Ne,fe)),ge.push(V),Te=Ye+1);return ge.push(ie.slice(Te,Ye)),ge.join("")}}function I(ie,ve){return function(Ne){var ge=iu(1900,void 0,1),Ye=B(ge,ie,Ne+="",0),Te,qe;if(Ye!=Ne.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(ve&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Te=f1(iu(ge.y,0,1)),qe=Te.getUTCDay(),Te=qe>4||qe===0?am.ceil(Te):am(Te),Te=c0.offset(Te,(ge.V-1)*7),ge.y=Te.getUTCFullYear(),ge.m=Te.getUTCMonth(),ge.d=Te.getUTCDate()+(ge.w+6)%7):(Te=u1(iu(ge.y,0,1)),qe=Te.getDay(),Te=qe>4||qe===0?nm.ceil(Te):nm(Te),Te=Mf.offset(Te,(ge.V-1)*7),ge.y=Te.getFullYear(),ge.m=Te.getMonth(),ge.d=Te.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),qe="Z"in ge?f1(iu(ge.y,0,1)).getUTCDay():u1(iu(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(qe+5)%7:ge.w+ge.U*7-(qe+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,f1(ge)):u1(ge)}}function B(ie,ve,Ne,ge){for(var Ye=0,Te=ve.length,qe=Ne.length,V,fe;Ye<Te;){if(ge>=qe)return-1;if(V=ve.charCodeAt(Ye++),V===37){if(V=ve.charAt(Ye++),fe=A[V in K4?ve.charAt(Ye++):V],!fe||(ge=fe(ie,Ne,ge))<0)return-1}else if(V!=Ne.charCodeAt(ge++))return-1}return ge}function M(ie,ve,Ne){var ge=f.exec(ve.slice(Ne));return ge?(ie.p=p.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function L(ie,ve,Ne){var ge=v.exec(ve.slice(Ne));return ge?(ie.w=j.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function F(ie,ve,Ne){var ge=m.exec(ve.slice(Ne));return ge?(ie.w=g.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function _(ie,ve,Ne){var ge=C.exec(ve.slice(Ne));return ge?(ie.m=T.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function G(ie,ve,Ne){var ge=b.exec(ve.slice(Ne));return ge?(ie.m=y.get(ge[0].toLowerCase()),Ne+ge[0].length):-1}function P(ie,ve,Ne){return B(ie,t,ve,Ne)}function D(ie,ve,Ne){return B(ie,r,ve,Ne)}function R(ie,ve,Ne){return B(ie,a,ve,Ne)}function H(ie){return l[ie.getDay()]}function ne(ie){return s[ie.getDay()]}function me(ie){return u[ie.getMonth()]}function q(ie){return d[ie.getMonth()]}function X(ie){return i[+(ie.getHours()>=12)]}function z(ie){return 1+~~(ie.getMonth()/3)}function te(ie){return l[ie.getUTCDay()]}function U(ie){return s[ie.getUTCDay()]}function ee(ie){return u[ie.getUTCMonth()]}function le(ie){return d[ie.getUTCMonth()]}function ce(ie){return i[+(ie.getUTCHours()>=12)]}function je(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ve=k(ie+="",E);return ve.toString=function(){return ie},ve},parse:function(ie){var ve=I(ie+="",!1);return ve.toString=function(){return ie},ve},utcFormat:function(ie){var ve=k(ie+="",S);return ve.toString=function(){return ie},ve},utcParse:function(ie){var ve=I(ie+="",!0);return ve.toString=function(){return ie},ve}}}var K4={"-":"",_:" ",0:"0"},on=/^\s*\d+/,YH=/^%/,XH=/[\\^$*+?|[\]().{}]/g;function Xt(e,t,r){var a=e<0?"-":"",i=(a?-e:e)+"",s=i.length;return a+(s<r?new Array(r-s+1).join(t)+i:i)}function KH(e){return e.replace(XH,"\\$&")}function su(e){return new RegExp("^(?:"+e.map(KH).join("|")+")","i")}function ou(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function QH(e,t,r){var a=on.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function ZH(e,t,r){var a=on.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function JH(e,t,r){var a=on.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function eG(e,t,r){var a=on.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function tG(e,t,r){var a=on.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function Q4(e,t,r){var a=on.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function Z4(e,t,r){var a=on.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function rG(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function nG(e,t,r){var a=on.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function aG(e,t,r){var a=on.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function J4(e,t,r){var a=on.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function iG(e,t,r){var a=on.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function e6(e,t,r){var a=on.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function sG(e,t,r){var a=on.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function oG(e,t,r){var a=on.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function lG(e,t,r){var a=on.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function cG(e,t,r){var a=on.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function dG(e,t,r){var a=YH.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function uG(e,t,r){var a=on.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function fG(e,t,r){var a=on.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function t6(e,t){return Xt(e.getDate(),t,2)}function hG(e,t){return Xt(e.getHours(),t,2)}function pG(e,t){return Xt(e.getHours()%12||12,t,2)}function mG(e,t){return Xt(1+Mf.count(ds(e),e),t,3)}function hR(e,t){return Xt(e.getMilliseconds(),t,3)}function xG(e,t){return hR(e,t)+"000"}function gG(e,t){return Xt(e.getMonth()+1,t,2)}function yG(e,t){return Xt(e.getMinutes(),t,2)}function vG(e,t){return Xt(e.getSeconds(),t,2)}function bG(e){var t=e.getDay();return t===0?7:t}function jG(e,t){return Xt(d0.count(ds(e)-1,e),t,2)}function pR(e){var t=e.getDay();return t>=4||t===0?Sc(e):Sc.ceil(e)}function wG(e,t){return e=pR(e),Xt(Sc.count(ds(e),e)+(ds(e).getDay()===4),t,2)}function SG(e){return e.getDay()}function NG(e,t){return Xt(nm.count(ds(e)-1,e),t,2)}function TG(e,t){return Xt(e.getFullYear()%100,t,2)}function CG(e,t){return e=pR(e),Xt(e.getFullYear()%100,t,2)}function AG(e,t){return Xt(e.getFullYear()%1e4,t,4)}function EG(e,t){var r=e.getDay();return e=r>=4||r===0?Sc(e):Sc.ceil(e),Xt(e.getFullYear()%1e4,t,4)}function _G(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xt(t/60|0,"0",2)+Xt(t%60,"0",2)}function r6(e,t){return Xt(e.getUTCDate(),t,2)}function OG(e,t){return Xt(e.getUTCHours(),t,2)}function kG(e,t){return Xt(e.getUTCHours()%12||12,t,2)}function DG(e,t){return Xt(1+c0.count(us(e),e),t,3)}function mR(e,t){return Xt(e.getUTCMilliseconds(),t,3)}function IG(e,t){return mR(e,t)+"000"}function RG(e,t){return Xt(e.getUTCMonth()+1,t,2)}function PG(e,t){return Xt(e.getUTCMinutes(),t,2)}function MG(e,t){return Xt(e.getUTCSeconds(),t,2)}function BG(e){var t=e.getUTCDay();return t===0?7:t}function FG(e,t){return Xt(u0.count(us(e)-1,e),t,2)}function xR(e){var t=e.getUTCDay();return t>=4||t===0?Nc(e):Nc.ceil(e)}function LG(e,t){return e=xR(e),Xt(Nc.count(us(e),e)+(us(e).getUTCDay()===4),t,2)}function zG(e){return e.getUTCDay()}function $G(e,t){return Xt(am.count(us(e)-1,e),t,2)}function UG(e,t){return Xt(e.getUTCFullYear()%100,t,2)}function qG(e,t){return e=xR(e),Xt(e.getUTCFullYear()%100,t,2)}function WG(e,t){return Xt(e.getUTCFullYear()%1e4,t,4)}function HG(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Nc(e):Nc.ceil(e),Xt(e.getUTCFullYear()%1e4,t,4)}function GG(){return"+0000"}function n6(){return"%"}function a6(e){return+e}function i6(e){return Math.floor(+e/1e3)}var Hl,gR,yR;VG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VG(e){return Hl=VH(e),gR=Hl.format,Hl.parse,yR=Hl.utcFormat,Hl.utcParse,Hl}function YG(e){return new Date(e)}function XG(e){return e instanceof Date?+e:+new Date(+e)}function Hw(e,t,r,a,i,s,l,d,u,f){var p=kw(),m=p.invert,g=p.domain,v=f(".%L"),j=f(":%S"),b=f("%I:%M"),y=f("%I %p"),C=f("%a %d"),T=f("%b %d"),E=f("%B"),S=f("%Y");function A(k){return(u(k)<k?v:d(k)<k?j:l(k)<k?b:s(k)<k?y:a(k)<k?i(k)<k?C:T:r(k)<k?E:S)(k)}return p.invert=function(k){return new Date(m(k))},p.domain=function(k){return arguments.length?g(Array.from(k,XG)):g().map(YG)},p.ticks=function(k){var I=g();return e(I[0],I[I.length-1],k??10)},p.tickFormat=function(k,I){return I==null?A:f(I)},p.nice=function(k){var I=g();return(!k||typeof k.range!="function")&&(k=t(I[0],I[I.length-1],k??10)),k?g(aR(I,k)):p},p.copy=function(){return Pf(p,Hw(e,t,r,a,i,s,l,d,u,f))},p}function KG(){return La.apply(Hw(HH,GH,ds,qw,d0,Mf,$w,Lw,Bo,gR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QG(){return La.apply(Hw(qH,WH,us,Ww,u0,c0,Uw,zw,Bo,yR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function f0(){var e=0,t=1,r,a,i,s,l=Pn,d=!1,u;function f(m){return m==null||isNaN(m=+m)?u:l(i===0?.5:(m=(s(m)-r)*i,d?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=s(e=+e),a=s(t=+t),i=r===a?0:1/(a-r),f):[e,t]},f.clamp=function(m){return arguments.length?(d=!!m,f):d},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(g){var v,j;return arguments.length?([v,j]=g,l=m(v,j),f):[l(0),l(1)]}}return f.range=p(Kc),f.rangeRound=p(Ow),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return s=m,r=m(e),a=m(t),i=r===a?0:1/(a-r),f}}function oo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vR(){var e=so(f0()(Pn));return e.copy=function(){return oo(e,vR())},gs.apply(e,arguments)}function bR(){var e=Rw(f0()).domain([1,10]);return e.copy=function(){return oo(e,bR()).base(e.base())},gs.apply(e,arguments)}function jR(){var e=Pw(f0());return e.copy=function(){return oo(e,jR()).constant(e.constant())},gs.apply(e,arguments)}function Gw(){var e=Mw(f0());return e.copy=function(){return oo(e,Gw()).exponent(e.exponent())},gs.apply(e,arguments)}function ZG(){return Gw.apply(null,arguments).exponent(.5)}function wR(){var e=[],t=Pn;function r(a){if(a!=null&&!isNaN(a=+a))return t((If(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let i of a)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ks),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,i)=>t(i/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(i,s)=>FW(e,s/a))},r.copy=function(){return wR(t).domain(e)},gs.apply(r,arguments)}function h0(){var e=0,t=.5,r=1,a=1,i,s,l,d,u,f=Pn,p,m=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+p(b))-s)*(a*b<a*s?d:u),f(m?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,t,r]=b,i=p(e=+e),s=p(t=+t),l=p(r=+r),d=i===s?0:.5/(s-i),u=s===l?0:.5/(l-s),a=s<i?-1:1,v):[e,t,r]},v.clamp=function(b){return arguments.length?(m=!!b,v):m},v.interpolator=function(b){return arguments.length?(f=b,v):f};function j(b){return function(y){var C,T,E;return arguments.length?([C,T,E]=y,f=dH(b,[C,T,E]),v):[f(0),f(.5),f(1)]}}return v.range=j(Kc),v.rangeRound=j(Ow),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return p=b,i=b(e),s=b(t),l=b(r),d=i===s?0:.5/(s-i),u=s===l?0:.5/(l-s),a=s<i?-1:1,v}}function SR(){var e=so(h0()(Pn));return e.copy=function(){return oo(e,SR())},gs.apply(e,arguments)}function NR(){var e=Rw(h0()).domain([.1,1,10]);return e.copy=function(){return oo(e,NR()).base(e.base())},gs.apply(e,arguments)}function TR(){var e=Pw(h0());return e.copy=function(){return oo(e,TR()).constant(e.constant())},gs.apply(e,arguments)}function Vw(){var e=Mw(h0());return e.copy=function(){return oo(e,Vw()).exponent(e.exponent())},gs.apply(e,arguments)}function JG(){return Vw.apply(null,arguments).exponent(.5)}const s6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Uu,scaleDiverging:SR,scaleDivergingLog:NR,scaleDivergingPow:Vw,scaleDivergingSqrt:JG,scaleDivergingSymlog:TR,scaleIdentity:nR,scaleImplicit:Fj,scaleLinear:tm,scaleLog:iR,scaleOrdinal:Aw,scalePoint:wu,scalePow:Bw,scaleQuantile:lR,scaleQuantize:cR,scaleRadial:oR,scaleSequential:vR,scaleSequentialLog:bR,scaleSequentialPow:Gw,scaleSequentialQuantile:wR,scaleSequentialSqrt:ZG,scaleSequentialSymlog:jR,scaleSqrt:IH,scaleSymlog:sR,scaleThreshold:dR,scaleTime:KG,scaleUtc:QG,tickFormat:rR},Symbol.toStringTag,{value:"Module"}));var h1,o6;function CR(){if(o6)return h1;o6=1;var e=Gc();function t(r,a,i){for(var s=-1,l=r.length;++s<l;){var d=r[s],u=a(d);if(u!=null&&(f===void 0?u===u&&!e(u):i(u,f)))var f=u,p=d}return p}return h1=t,h1}var p1,l6;function eV(){if(l6)return p1;l6=1;function e(t,r){return t>r}return p1=e,p1}var m1,c6;function tV(){if(c6)return m1;c6=1;var e=CR(),t=eV(),r=Yc();function a(i){return i&&i.length?e(i,r,t):void 0}return m1=a,m1}var rV=tV();const p0=mr(rV);var x1,d6;function nV(){if(d6)return x1;d6=1;function e(t,r){return t<r}return x1=e,x1}var g1,u6;function aV(){if(u6)return g1;u6=1;var e=CR(),t=nV(),r=Yc();function a(i){return i&&i.length?e(i,r,t):void 0}return g1=a,g1}var iV=aV();const m0=mr(iV);var y1,f6;function sV(){if(f6)return y1;f6=1;var e=cw(),t=io(),r=RI(),a=ta();function i(s,l){var d=a(s)?e:r;return d(s,t(l,3))}return y1=i,y1}var v1,h6;function oV(){if(h6)return v1;h6=1;var e=DI(),t=sV();function r(a,i){return e(t(a,i),1)}return v1=r,v1}var lV=oV();const cV=mr(lV);var b1,p6;function dV(){if(p6)return b1;p6=1;var e=ww();function t(r,a){return e(r,a)}return b1=t,b1}var uV=dV();const x0=mr(uV);var Qc=1e9,fV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xw,Cr=!0,Fa="[DecimalError] ",$o=Fa+"Invalid argument: ",Yw=Fa+"Exponent out of range: ",Zc=Math.floor,Io=Math.pow,hV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xa,tn=1e7,wr=7,AR=9007199254740991,im=Zc(AR/wr),pt={};pt.absoluteValue=pt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};pt.comparedTo=pt.cmp=function(e){var t,r,a,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(a=s.d.length,i=e.d.length,t=0,r=a<i?a:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return a===i?0:a>i^s.s<0?1:-1};pt.decimalPlaces=pt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*wr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};pt.dividedBy=pt.div=function(e){return ns(this,new this.constructor(e))};pt.dividedToIntegerBy=pt.idiv=function(e){var t=this,r=t.constructor;return gr(ns(t,new r(e),0,1),r.precision)};pt.equals=pt.eq=function(e){return!this.cmp(e)};pt.exponent=function(){return qr(this)};pt.greaterThan=pt.gt=function(e){return this.cmp(e)>0};pt.greaterThanOrEqualTo=pt.gte=function(e){return this.cmp(e)>=0};pt.isInteger=pt.isint=function(){return this.e>this.d.length-2};pt.isNegative=pt.isneg=function(){return this.s<0};pt.isPositive=pt.ispos=function(){return this.s>0};pt.isZero=function(){return this.s===0};pt.lessThan=pt.lt=function(e){return this.cmp(e)<0};pt.lessThanOrEqualTo=pt.lte=function(e){return this.cmp(e)<1};pt.logarithm=pt.log=function(e){var t,r=this,a=r.constructor,i=a.precision,s=i+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(xa))throw Error(Fa+"NaN");if(r.s<1)throw Error(Fa+(r.s?"NaN":"-Infinity"));return r.eq(xa)?new a(0):(Cr=!1,t=ns(Vu(r,s),Vu(e,s),s),Cr=!0,gr(t,i))};pt.minus=pt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OR(t,e):ER(t,(e.s=-e.s,e))};pt.modulo=pt.mod=function(e){var t,r=this,a=r.constructor,i=a.precision;if(e=new a(e),!e.s)throw Error(Fa+"NaN");return r.s?(Cr=!1,t=ns(r,e,0,1).times(e),Cr=!0,r.minus(t)):gr(new a(r),i)};pt.naturalExponential=pt.exp=function(){return _R(this)};pt.naturalLogarithm=pt.ln=function(){return Vu(this)};pt.negated=pt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};pt.plus=pt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ER(t,e):OR(t,(e.s=-e.s,e))};pt.precision=pt.sd=function(e){var t,r,a,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($o+e);if(t=qr(i)+1,a=i.d.length-1,r=a*wr+1,a=i.d[a],a){for(;a%10==0;a/=10)r--;for(a=i.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};pt.squareRoot=pt.sqrt=function(){var e,t,r,a,i,s,l,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(Fa+"NaN")}for(e=qr(d),Cr=!1,i=Math.sqrt(+d),i==0||i==1/0?(t=ji(d.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Zc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(i.toString()),r=u.precision,i=l=r+3;;)if(s=a,a=s.plus(ns(d,s,l+2)).times(.5),ji(s.d).slice(0,l)===(t=ji(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(gr(s,r+1,0),s.times(s).eq(d)){a=s;break}}else if(t!="9999")break;l+=4}return Cr=!0,gr(a,r)};pt.times=pt.mul=function(e){var t,r,a,i,s,l,d,u,f,p=this,m=p.constructor,g=p.d,v=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,r=p.e+e.e,u=g.length,f=v.length,u<f&&(s=g,g=v,v=s,l=u,u=f,f=l),s=[],l=u+f,a=l;a--;)s.push(0);for(a=f;--a>=0;){for(t=0,i=u+a;i>a;)d=s[i]+v[a]*g[i-a-1]+t,s[i--]=d%tn|0,t=d/tn|0;s[i]=(s[i]+t)%tn|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Cr?gr(e,m.precision):e};pt.toDecimalPlaces=pt.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Ni(e,0,Qc),t===void 0?t=a.rounding:Ni(t,0,8),gr(r,e+qr(r)+1,t))};pt.toExponential=function(e,t){var r,a=this,i=a.constructor;return e===void 0?r=Go(a,!0):(Ni(e,0,Qc),t===void 0?t=i.rounding:Ni(t,0,8),a=gr(new i(a),e+1,t),r=Go(a,!0,e+1)),r};pt.toFixed=function(e,t){var r,a,i=this,s=i.constructor;return e===void 0?Go(i):(Ni(e,0,Qc),t===void 0?t=s.rounding:Ni(t,0,8),a=gr(new s(i),e+qr(i)+1,t),r=Go(a.abs(),!1,e+qr(a)+1),i.isneg()&&!i.isZero()?"-"+r:r)};pt.toInteger=pt.toint=function(){var e=this,t=e.constructor;return gr(new t(e),qr(e)+1,t.rounding)};pt.toNumber=function(){return+this};pt.toPower=pt.pow=function(e){var t,r,a,i,s,l,d=this,u=d.constructor,f=12,p=+(e=new u(e));if(!e.s)return new u(xa);if(d=new u(d),!d.s){if(e.s<1)throw Error(Fa+"Infinity");return d}if(d.eq(xa))return d;if(a=u.precision,e.eq(xa))return gr(d,a);if(t=e.e,r=e.d.length-1,l=t>=r,s=d.s,l){if((r=p<0?-p:p)<=AR){for(i=new u(xa),t=Math.ceil(a/wr+4),Cr=!1;r%2&&(i=i.times(d),x6(i.d,t)),r=Zc(r/2),r!==0;)d=d.times(d),x6(d.d,t);return Cr=!0,e.s<0?new u(xa).div(i):gr(i,a)}}else if(s<0)throw Error(Fa+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,Cr=!1,i=e.times(Vu(d,a+f)),Cr=!0,i=_R(i),i.s=s,i};pt.toPrecision=function(e,t){var r,a,i=this,s=i.constructor;return e===void 0?(r=qr(i),a=Go(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ni(e,1,Qc),t===void 0?t=s.rounding:Ni(t,0,8),i=gr(new s(i),e,t),r=qr(i),a=Go(i,e<=r||r<=s.toExpNeg,e)),a};pt.toSignificantDigits=pt.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Ni(e,1,Qc),t===void 0?t=a.rounding:Ni(t,0,8)),gr(new a(r),e,t)};pt.toString=pt.valueOf=pt.val=pt.toJSON=pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=qr(e),r=e.constructor;return Go(e,t<=r.toExpNeg||t>=r.toExpPos)};function ER(e,t){var r,a,i,s,l,d,u,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Cr?gr(t,m):t;if(u=e.d,f=t.d,l=e.e,i=t.e,u=u.slice(),s=l-i,s){for(s<0?(a=u,s=-s,d=f.length):(a=f,i=l,d=u.length),l=Math.ceil(m/wr),d=l>d?l+1:d+1,s>d&&(s=d,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for(d=u.length,s=f.length,d-s<0&&(s=d,a=f,f=u,u=a),r=0;s;)r=(u[--s]=u[s]+f[s]+r)/tn|0,u[s]%=tn;for(r&&(u.unshift(r),++i),d=u.length;u[--d]==0;)u.pop();return t.d=u,t.e=i,Cr?gr(t,m):t}function Ni(e,t,r){if(e!==~~e||e<t||e>r)throw Error($o+e)}function ji(e){var t,r,a,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)a=e[t]+"",r=wr-a.length,r&&(s+=Ws(r)),s+=a;l=e[t],a=l+"",r=wr-a.length,r&&(s+=Ws(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var ns=function(){function e(a,i){var s,l=0,d=a.length;for(a=a.slice();d--;)s=a[d]*i+l,a[d]=s%tn|0,l=s/tn|0;return l&&a.unshift(l),a}function t(a,i,s,l){var d,u;if(s!=l)u=s>l?1:-1;else for(d=u=0;d<s;d++)if(a[d]!=i[d]){u=a[d]>i[d]?1:-1;break}return u}function r(a,i,s){for(var l=0;s--;)a[s]-=l,l=a[s]<i[s]?1:0,a[s]=l*tn+a[s]-i[s];for(;!a[0]&&a.length>1;)a.shift()}return function(a,i,s,l){var d,u,f,p,m,g,v,j,b,y,C,T,E,S,A,k,I,B,M=a.constructor,L=a.s==i.s?1:-1,F=a.d,_=i.d;if(!a.s)return new M(a);if(!i.s)throw Error(Fa+"Division by zero");for(u=a.e-i.e,I=_.length,A=F.length,v=new M(L),j=v.d=[],f=0;_[f]==(F[f]||0);)++f;if(_[f]>(F[f]||0)&&--u,s==null?T=s=M.precision:l?T=s+(qr(a)-qr(i))+1:T=s,T<0)return new M(0);if(T=T/wr+2|0,f=0,I==1)for(p=0,_=_[0],T++;(f<A||p)&&T--;f++)E=p*tn+(F[f]||0),j[f]=E/_|0,p=E%_|0;else{for(p=tn/(_[0]+1)|0,p>1&&(_=e(_,p),F=e(F,p),I=_.length,A=F.length),S=I,b=F.slice(0,I),y=b.length;y<I;)b[y++]=0;B=_.slice(),B.unshift(0),k=_[0],_[1]>=tn/2&&++k;do p=0,d=t(_,b,I,y),d<0?(C=b[0],I!=y&&(C=C*tn+(b[1]||0)),p=C/k|0,p>1?(p>=tn&&(p=tn-1),m=e(_,p),g=m.length,y=b.length,d=t(m,b,g,y),d==1&&(p--,r(m,I<g?B:_,g))):(p==0&&(d=p=1),m=_.slice()),g=m.length,g<y&&m.unshift(0),r(b,m,y),d==-1&&(y=b.length,d=t(_,b,I,y),d<1&&(p++,r(b,I<y?B:_,y))),y=b.length):d===0&&(p++,b=[0]),j[f++]=p,d&&b[0]?b[y++]=F[S]||0:(b=[F[S]],y=1);while((S++<A||b[0]!==void 0)&&T--)}return j[0]||j.shift(),v.e=u,gr(v,l?s+qr(v)+1:s)}}();function _R(e,t){var r,a,i,s,l,d,u=0,f=0,p=e.constructor,m=p.precision;if(qr(e)>16)throw Error(Yw+qr(e));if(!e.s)return new p(xa);for(Cr=!1,d=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(a=Math.log(Io(2,f))/Math.LN10*2+5|0,d+=a,r=i=s=new p(xa),p.precision=d;;){if(i=gr(i.times(e),d),r=r.times(++u),l=s.plus(ns(i,r,d)),ji(l.d).slice(0,d)===ji(s.d).slice(0,d)){for(;f--;)s=gr(s.times(s),d);return p.precision=m,t==null?(Cr=!0,gr(s,m)):s}s=l}}function qr(e){for(var t=e.e*wr,r=e.d[0];r>=10;r/=10)t++;return t}function j1(e,t,r){if(t>e.LN10.sd())throw Cr=!0,r&&(e.precision=r),Error(Fa+"LN10 precision limit exceeded");return gr(new e(e.LN10),t)}function Ws(e){for(var t="";e--;)t+="0";return t}function Vu(e,t){var r,a,i,s,l,d,u,f,p,m=1,g=10,v=e,j=v.d,b=v.constructor,y=b.precision;if(v.s<1)throw Error(Fa+(v.s?"NaN":"-Infinity"));if(v.eq(xa))return new b(0);if(t==null?(Cr=!1,f=y):f=t,v.eq(10))return t==null&&(Cr=!0),j1(b,f);if(f+=g,b.precision=f,r=ji(j),a=r.charAt(0),s=qr(v),Math.abs(s)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)v=v.times(e),r=ji(v.d),a=r.charAt(0),m++;s=qr(v),a>1?(v=new b("0."+r),s++):v=new b(a+"."+r.slice(1))}else return u=j1(b,f+2,y).times(s+""),v=Vu(new b(a+"."+r.slice(1)),f-g).plus(u),b.precision=y,t==null?(Cr=!0,gr(v,y)):v;for(d=l=v=ns(v.minus(xa),v.plus(xa),f),p=gr(v.times(v),f),i=3;;){if(l=gr(l.times(p),f),u=d.plus(ns(l,new b(i),f)),ji(u.d).slice(0,f)===ji(d.d).slice(0,f))return d=d.times(2),s!==0&&(d=d.plus(j1(b,f+2,y).times(s+""))),d=ns(d,new b(m),f),b.precision=y,t==null?(Cr=!0,gr(d,y)):d;d=u,i+=2}}function m6(e,t){var r,a,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(a,i),t){if(i-=a,r=r-a-1,e.e=Zc(r/wr),e.d=[],a=(r+1)%wr,r<0&&(a+=wr),a<i){for(a&&e.d.push(+t.slice(0,a)),i-=wr;a<i;)e.d.push(+t.slice(a,a+=wr));t=t.slice(a),a=wr-t.length}else a-=i;for(;a--;)t+="0";if(e.d.push(+t),Cr&&(e.e>im||e.e<-im))throw Error(Yw+r)}else e.s=0,e.e=0,e.d=[0];return e}function gr(e,t,r){var a,i,s,l,d,u,f,p,m=e.d;for(l=1,s=m[0];s>=10;s/=10)l++;if(a=t-l,a<0)a+=wr,i=t,f=m[p=0];else{if(p=Math.ceil((a+1)/wr),s=m.length,p>=s)return e;for(f=s=m[p],l=1;s>=10;s/=10)l++;a%=wr,i=a-wr+l}if(r!==void 0&&(s=Io(10,l-i-1),d=f/s%10|0,u=t<0||m[p+1]!==void 0||f%s,u=r<4?(d||u)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||u||r==6&&(a>0?i>0?f/Io(10,l-i):0:m[p-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(s=qr(e),m.length=1,t=t-s-1,m[0]=Io(10,(wr-t%wr)%wr),e.e=Zc(-t/wr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=p,s=1,p--):(m.length=p+1,s=Io(10,wr-a),m[p]=i>0?(f/Io(10,l-i)%Io(10,i)|0)*s:0),u)for(;;)if(p==0){(m[0]+=s)==tn&&(m[0]=1,++e.e);break}else{if(m[p]+=s,m[p]!=tn)break;m[p--]=0,s=1}for(a=m.length;m[--a]===0;)m.pop();if(Cr&&(e.e>im||e.e<-im))throw Error(Yw+qr(e));return e}function OR(e,t){var r,a,i,s,l,d,u,f,p,m,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Cr?gr(t,v):t;if(u=e.d,m=t.d,a=t.e,f=e.e,u=u.slice(),l=f-a,l){for(p=l<0,p?(r=u,l=-l,d=m.length):(r=m,a=f,d=u.length),i=Math.max(Math.ceil(v/wr),d)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=u.length,d=m.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(u[i]!=m[i]){p=u[i]<m[i];break}l=0}for(p&&(r=u,u=m,m=r,t.s=-t.s),d=u.length,i=m.length-d;i>0;--i)u[d++]=0;for(i=m.length;i>l;){if(u[--i]<m[i]){for(s=i;s&&u[--s]===0;)u[s]=tn-1;--u[s],u[i]+=tn}u[i]-=m[i]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,Cr?gr(t,v):t):new g(0)}function Go(e,t,r){var a,i=qr(e),s=ji(e.d),l=s.length;return t?(r&&(a=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ws(a):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ws(-i-1)+s,r&&(a=r-l)>0&&(s+=Ws(a))):i>=l?(s+=Ws(i+1-l),r&&(a=r-i-1)>0&&(s=s+"."+Ws(a))):((a=i+1)<l&&(s=s.slice(0,a)+"."+s.slice(a)),r&&(a=r-l)>0&&(i+1===l&&(s+="."),s+=Ws(a))),e.s<0?"-"+s:s}function x6(e,t){if(e.length>t)return e.length=t,!0}function kR(e){var t,r,a;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error($o+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return m6(l,s.toString())}else if(typeof s!="string")throw Error($o+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,hV.test(s))m6(l,s);else throw Error($o+s)}if(i.prototype=pt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=kR,i.config=i.set=pV,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return i.config(e),i}function pV(e){if(!e||typeof e!="object")throw Error(Fa+"Object expected");var t,r,a,i=["precision",1,Qc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((a=e[r=i[t]])!==void 0)if(Zc(a)===a&&a>=i[t+1]&&a<=i[t+2])this[r]=a;else throw Error($o+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error($o+r+": "+a);return this}var Xw=kR(fV);xa=new Xw(1);const hr=Xw;function mV(e){return vV(e)||yV(e)||gV(e)||xV()}function xV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gV(e,t){if(e){if(typeof e=="string")return Uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uj(e,t)}}function yV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function vV(e){if(Array.isArray(e))return Uj(e)}function Uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var bV=function(t){return t},DR={},IR=function(t){return t===DR},g6=function(t){return function r(){return arguments.length===0||arguments.length===1&&IR(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},jV=function e(t,r){return t===1?r:g6(function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var l=i.filter(function(d){return d!==DR}).length;return l>=t?r.apply(void 0,i):e(t-l,g6(function(){for(var d=arguments.length,u=new Array(d),f=0;f<d;f++)u[f]=arguments[f];var p=i.map(function(m){return IR(m)?u.shift():m});return r.apply(void 0,mV(p).concat(u))}))})},g0=function(t){return jV(t.length,t)},qj=function(t,r){for(var a=[],i=t;i<r;++i)a[i-t]=i;return a},wV=g0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),SV=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return bV;var i=r.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce(function(d,u){return u(d)},s.apply(void 0,arguments))}},Wj=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},RR=function(t){var r=null,a=null;return function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return r&&s.every(function(d,u){return d===r[u]})||(r=s,a=t.apply(void 0,s)),a}};function NV(e){var t;return e===0?t=1:t=Math.floor(new hr(e).abs().log(10).toNumber())+1,t}function TV(e,t,r){for(var a=new hr(e),i=0,s=[];a.lt(t)&&i<1e5;)s.push(a.toNumber()),a=a.add(r),i++;return s}var CV=g0(function(e,t,r){var a=+e,i=+t;return a+r*(i-a)}),AV=g0(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),EV=g0(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const y0={rangeStep:TV,getDigitCount:NV,interpolateNumber:CV,uninterpolateNumber:AV,uninterpolateTruncation:EV};function Hj(e){return kV(e)||OV(e)||PR(e)||_V()}function _V(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kV(e){if(Array.isArray(e))return Gj(e)}function Yu(e,t){return RV(e)||IV(e,t)||PR(e,t)||DV()}function DV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PR(e,t){if(e){if(typeof e=="string")return Gj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gj(e,t)}}function Gj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function IV(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,i=!1,s=void 0;try{for(var l=e[Symbol.iterator](),d;!(a=(d=l.next()).done)&&(r.push(d.value),!(t&&r.length===t));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&l.return!=null&&l.return()}finally{if(i)throw s}}return r}}function RV(e){if(Array.isArray(e))return e}function MR(e){var t=Yu(e,2),r=t[0],a=t[1],i=r,s=a;return r>a&&(i=a,s=r),[i,s]}function BR(e,t,r){if(e.lte(0))return new hr(0);var a=y0.getDigitCount(e.toNumber()),i=new hr(10).pow(a),s=e.div(i),l=a!==1?.05:.1,d=new hr(Math.ceil(s.div(l).toNumber())).add(r).mul(l),u=d.mul(i);return t?u:new hr(Math.ceil(u))}function PV(e,t,r){var a=1,i=new hr(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(a=new hr(10).pow(y0.getDigitCount(e)-1),i=new hr(Math.floor(i.div(a).toNumber())).mul(a)):s>1&&(i=new hr(Math.floor(e)))}else e===0?i=new hr(Math.floor((t-1)/2)):r||(i=new hr(Math.floor(e)));var l=Math.floor((t-1)/2),d=SV(wV(function(u){return i.add(new hr(u-l).mul(a)).toNumber()}),qj);return d(0,t)}function FR(e,t,r,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var s=BR(new hr(t).sub(e).div(r-1),a,i),l;e<=0&&t>=0?l=new hr(0):(l=new hr(e).add(t).div(2),l=l.sub(new hr(l).mod(s)));var d=Math.ceil(l.sub(e).div(s).toNumber()),u=Math.ceil(new hr(t).sub(l).div(s).toNumber()),f=d+u+1;return f>r?FR(e,t,r,a,i+1):(f<r&&(u=t>0?u+(r-f):u,d=t>0?d:d+(r-f)),{step:s,tickMin:l.sub(new hr(d).mul(s)),tickMax:l.add(new hr(u).mul(s))})}function MV(e){var t=Yu(e,2),r=t[0],a=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),d=MR([r,a]),u=Yu(d,2),f=u[0],p=u[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(Hj(qj(0,i-1).map(function(){return 1/0}))):[].concat(Hj(qj(0,i-1).map(function(){return-1/0})),[p]);return r>a?Wj(m):m}if(f===p)return PV(f,i,s);var g=FR(f,p,l,s),v=g.step,j=g.tickMin,b=g.tickMax,y=y0.rangeStep(j,b.add(new hr(.1).mul(v)),v);return r>a?Wj(y):y}function BV(e,t){var r=Yu(e,2),a=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=MR([a,i]),d=Yu(l,2),u=d[0],f=d[1];if(u===-1/0||f===1/0)return[a,i];if(u===f)return[u];var p=Math.max(t,2),m=BR(new hr(f).sub(u).div(p-1),s,0),g=[].concat(Hj(y0.rangeStep(new hr(u),new hr(f).sub(new hr(.99).mul(m)),m)),[f]);return a>i?Wj(g):g}var FV=RR(MV),LV=RR(BV),zV="Invariant failed";function Vo(e,t){throw new Error(zV)}var $V=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sm.apply(this,arguments)}function UV(e,t){return GV(e)||HV(e,t)||WV(e,t)||qV()}function qV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(e,t){if(e){if(typeof e=="string")return y6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y6(e,t)}}function y6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function HV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function GV(e){if(Array.isArray(e))return e}function VV(e,t){if(e==null)return{};var r=YV(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function YV(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function XV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KV(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$R(a.key),a)}}function QV(e,t,r){return t&&KV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZV(e,t,r){return t=om(t),JV(e,LR()?Reflect.construct(t,r||[],om(e).constructor):t.apply(e,r))}function JV(e,t){if(t&&(Tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eY(e)}function eY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LR=function(){return!!e})()}function om(e){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},om(e)}function tY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vj(e,t)}function Vj(e,t){return Vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Vj(e,t)}function zR(e,t,r){return t=$R(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $R(e){var t=rY(e,"string");return Tc(t)=="symbol"?t:t+""}function rY(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Tc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bf=function(e){function t(){return XV(this,t),ZV(this,t,arguments)}return tY(t,e),QV(t,[{key:"render",value:function(){var a=this.props,i=a.offset,s=a.layout,l=a.width,d=a.dataKey,u=a.data,f=a.dataPointFormatter,p=a.xAxis,m=a.yAxis,g=VV(a,$V),v=zt(g,!1);this.props.direction==="x"&&p.type!=="number"&&Vo();var j=u.map(function(b){var y=f(b,d),C=y.x,T=y.y,E=y.value,S=y.errorVal;if(!S)return null;var A=[],k,I;if(Array.isArray(S)){var B=UV(S,2);k=B[0],I=B[1]}else k=I=S;if(s==="vertical"){var M=p.scale,L=T+i,F=L+l,_=L-l,G=M(E-k),P=M(E+I);A.push({x1:P,y1:F,x2:P,y2:_}),A.push({x1:G,y1:L,x2:P,y2:L}),A.push({x1:G,y1:F,x2:G,y2:_})}else if(s==="horizontal"){var D=m.scale,R=C+i,H=R-l,ne=R+l,me=D(E-k),q=D(E+I);A.push({x1:H,y1:q,x2:ne,y2:q}),A.push({x1:R,y1:me,x2:R,y2:q}),A.push({x1:H,y1:me,x2:ne,y2:me})}return _e.createElement(Br,sm({className:"recharts-errorBar",key:"bar-".concat(A.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},v),A.map(function(X){return _e.createElement("line",sm({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return _e.createElement(Br,{className:"recharts-errorBars"},j)}}])}(_e.Component);zR(Bf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});zR(Bf,"displayName","ErrorBar");function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function v6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(r),!0).forEach(function(a){nY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nY(e,t,r){return t=aY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aY(e){var t=iY(e,"string");return Xu(t)=="symbol"?t:t+""}function iY(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Xu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UR=function(t){var r=t.children,a=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,l=fa(r,sc);if(!l)return null;var d=sc.defaultProps,u=d!==void 0?Eo(Eo({},d),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:s==="children"?f=(a||[]).reduce(function(p,m){var g=m.item,v=m.props,j=v.sectors||v.data||[];return p.concat(j.map(function(b){return{type:l.props.iconType||g.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(a||[]).map(function(p){var m=p.item,g=m.type.defaultProps,v=g!==void 0?Eo(Eo({},g),m.props):{},j=v.dataKey,b=v.name,y=v.legendType,C=v.hide;return{inactive:C,dataKey:j,type:u.iconType||y||"square",color:Kw(m),value:b||j,payload:v}}),Eo(Eo(Eo({},u),sc.getWithHeight(l,i)),{},{payload:f,item:l})};function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function b6(e){return cY(e)||lY(e)||oY(e)||sY()}function sY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oY(e,t){if(e){if(typeof e=="string")return Yj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yj(e,t)}}function lY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cY(e){if(Array.isArray(e))return Yj(e)}function Yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function j6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j6(Object(r),!0).forEach(function(a){lc(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lc(e,t,r){return t=dY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dY(e){var t=uY(e,"string");return Ku(t)=="symbol"?t:t+""}function uY(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ku(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ga(e,t,r){return Ft(e)||Ft(t)?r:Kr(t)?Ma(e,t,r):It(t)?t(e):r}function Su(e,t,r,a){var i=cV(e,function(d){return ga(d,t)});if(r==="number"){var s=i.filter(function(d){return dt(d)||parseFloat(d)});return s.length?[m0(s),p0(s)]:[1/0,-1/0]}var l=a?i.filter(function(d){return!Ft(d)}):i;return l.map(function(d){return Kr(d)||d instanceof Date?d:""})}var fY=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=-1,d=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(d<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,f=0;f<d;f++){var p=f>0?i[f-1].coordinate:i[d-1].coordinate,m=i[f].coordinate,g=f>=d-1?i[0].coordinate:i[f+1].coordinate,v=void 0;if(ri(m-p)!==ri(g-m)){var j=[];if(ri(g-m)===ri(u[1]-u[0])){v=g;var b=m+u[1]-u[0];j[0]=Math.min(b,(b+p)/2),j[1]=Math.max(b,(b+p)/2)}else{v=p;var y=g+u[1]-u[0];j[0]=Math.min(m,(y+m)/2),j[1]=Math.max(m,(y+m)/2)}var C=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>C[0]&&t<=C[1]||t>=j[0]&&t<=j[1]){l=i[f].index;break}}else{var T=Math.min(p,g),E=Math.max(p,g);if(t>(T+m)/2&&t<=(E+m)/2){l=i[f].index;break}}}else for(var S=0;S<d;S++)if(S===0&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<d-1&&t>(a[S].coordinate+a[S-1].coordinate)/2&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S===d-1&&t>(a[S].coordinate+a[S-1].coordinate)/2){l=a[S].index;break}return l},Kw=function(t){var r,a=t,i=a.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?kr(kr({},t.type.defaultProps),t.props):t.props,l=s.stroke,d=s.fill,u;switch(i){case"Line":u=l;break;case"Area":case"Radar":u=l&&l!=="none"?l:d;break;default:u=d;break}return u},hY=function(t){var r=t.barSize,a=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var l={},d=Object.keys(s),u=0,f=d.length;u<f;u++)for(var p=s[d[u]].stackGroups,m=Object.keys(p),g=0,v=m.length;g<v;g++){var j=p[m[g]],b=j.items,y=j.cateAxisId,C=b.filter(function(I){return ts(I.type).indexOf("Bar")>=0});if(C&&C.length){var T=C[0].type.defaultProps,E=T!==void 0?kr(kr({},T),C[0].props):C[0].props,S=E.barSize,A=E[y];l[A]||(l[A]=[]);var k=Ft(S)?r:S;l[A].push({item:C[0],stackList:C.slice(1),barSize:Ft(k)?void 0:Ho(k,a,0)})}}return l},pY=function(t){var r=t.barGap,a=t.barCategoryGap,i=t.bandSize,s=t.sizeList,l=s===void 0?[]:s,d=t.maxBarSize,u=l.length;if(u<1)return null;var f=Ho(r,i,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var g=!1,v=i/u,j=l.reduce(function(S,A){return S+A.barSize||0},0);j+=(u-1)*f,j>=i&&(j-=(u-1)*f,f=0),j>=i&&v>0&&(g=!0,v*=.9,j=u*v);var b=(i-j)/2>>0,y={offset:b-f,size:0};p=l.reduce(function(S,A){var k={item:A.item,position:{offset:y.offset+y.size+f,size:g?v:A.barSize}},I=[].concat(b6(S),[k]);return y=I[I.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(B){I.push({item:B,position:y})}),I},m)}else{var C=Ho(a,i,0,!0);i-2*C-(u-1)*f<=0&&(f=0);var T=(i-2*C-(u-1)*f)/u;T>1&&(T>>=0);var E=d===+d?Math.min(T,d):T;p=l.reduce(function(S,A,k){var I=[].concat(b6(S),[{item:A.item,position:{offset:C+(T+f)*k+(T-E)/2,size:E}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(B){I.push({item:B,position:I[I.length-1].position})}),I},m)}return p},mY=function(t,r,a,i){var s=a.children,l=a.width,d=a.margin,u=l-(d.left||0)-(d.right||0),f=UR({children:s,legendWidth:u});if(f){var p=i||{},m=p.width,g=p.height,v=f.align,j=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&j==="middle")&&v!=="center"&&dt(t[v]))return kr(kr({},t),{},lc({},v,t[v]+(m||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&j!=="middle"&&dt(t[j]))return kr(kr({},t),{},lc({},j,t[j]+(g||0)))}return t},xY=function(t,r,a){return Ft(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},qR=function(t,r,a,i,s){var l=r.props.children,d=Ba(l,Bf).filter(function(f){return xY(i,s,f.props.direction)});if(d&&d.length){var u=d.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var m=ga(p,a);if(Ft(m))return f;var g=Array.isArray(m)?[m0(m),p0(m)]:[m,m],v=u.reduce(function(j,b){var y=ga(p,b,0),C=g[0]-Math.abs(Array.isArray(y)?y[0]:y),T=g[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(C,j[0]),Math.max(T,j[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},gY=function(t,r,a,i,s){var l=r.map(function(d){return qR(t,d,a,s,i)}).filter(function(d){return!Ft(d)});return l&&l.length?l.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]):null},WR=function(t,r,a,i,s){var l=r.map(function(u){var f=u.props.dataKey;return a==="number"&&f&&qR(t,u,f,i)||Su(t,f,a,s)});if(a==="number")return l.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);var d={};return l.reduce(function(u,f){for(var p=0,m=f.length;p<m;p++)d[f[p]]||(d[f[p]]=!0,u.push(f[p]));return u},[])},HR=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},GR=function(t,r,a,i){if(i)return t.map(function(u){return u.coordinate});var s,l,d=t.map(function(u){return u.coordinate===r&&(s=!0),u.coordinate===a&&(l=!0),u.coordinate});return s||d.push(r),l||d.push(a),d},Qi=function(t,r,a){if(!t)return null;var i=t.scale,s=t.duplicateDomain,l=t.type,d=t.range,u=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||a)&&l==="category"&&i.bandwidth?i.bandwidth()/u:0;if(f=t.axisType==="angleAxis"&&(d==null?void 0:d.length)>=2?ri(d[0]-d[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var g=s?s.indexOf(m):m;return{coordinate:i(g)+f,value:m,offset:f}});return p.filter(function(m){return!Of(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,g){return{coordinate:i(m)+f,value:m,index:g,offset:f}}):i.ticks&&!a?i.ticks(t.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,g){return{coordinate:i(m)+f,value:s?s[m]:m,index:g,offset:f}})},w1=new WeakMap,dp=function(t,r){if(typeof r!="function")return t;w1.has(t)||w1.set(t,new WeakMap);var a=w1.get(t);if(a.has(r))return a.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,i),i},yY=function(t,r,a){var i=t.scale,s=t.type,l=t.layout,d=t.axisType;if(i==="auto")return l==="radial"&&d==="radiusAxis"?{scale:Uu(),realScaleType:"band"}:l==="radial"&&d==="angleAxis"?{scale:tm(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:wu(),realScaleType:"point"}:s==="category"?{scale:Uu(),realScaleType:"band"}:{scale:tm(),realScaleType:"linear"};if(Wo(i)){var u="scale".concat(t0(i));return{scale:(s6[u]||wu)(),realScaleType:s6[u]?u:"point"}}return It(i)?{scale:i}:{scale:wu(),realScaleType:"point"}},w6=1e-4,vY=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,i=t.range(),s=Math.min(i[0],i[1])-w6,l=Math.max(i[0],i[1])+w6,d=t(r[0]),u=t(r[a-1]);(d<s||d>l||u<s||u>l)&&t.domain([r[0],r[a-1]])}},bY=function(t,r){if(!t)return null;for(var a=0,i=t.length;a<i;a++)if(t[a].item===r)return t[a].position;return null},jY=function(t,r){if(!r||r.length!==2||!dt(r[0])||!dt(r[1]))return t;var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!dt(t[0])||t[0]<a)&&(s[0]=a),(!dt(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<a&&(s[1]=a),s},wY=function(t){var r=t.length;if(!(r<=0))for(var a=0,i=t[0].length;a<i;++a)for(var s=0,l=0,d=0;d<r;++d){var u=Of(t[d][a][1])?t[d][a][0]:t[d][a][1];u>=0?(t[d][a][0]=s,t[d][a][1]=s+u,s=t[d][a][1]):(t[d][a][0]=l,t[d][a][1]=l+u,l=t[d][a][1])}},SY=function(t){var r=t.length;if(!(r<=0))for(var a=0,i=t[0].length;a<i;++a)for(var s=0,l=0;l<r;++l){var d=Of(t[l][a][1])?t[l][a][0]:t[l][a][1];d>=0?(t[l][a][0]=s,t[l][a][1]=s+d,s=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},NY={sign:wY,expand:o9,none:gc,silhouette:l9,wiggle:c9,positive:SY},TY=function(t,r,a){var i=r.map(function(d){return d.props.dataKey}),s=NY[a],l=s9().keys(i).value(function(d,u){return+ga(d,u,0)}).order(Nj).offset(s);return l(t)},CY=function(t,r,a,i,s,l){if(!t)return null;var d=l?r.reverse():r,u={},f=d.reduce(function(m,g){var v,j=(v=g.type)!==null&&v!==void 0&&v.defaultProps?kr(kr({},g.type.defaultProps),g.props):g.props,b=j.stackId,y=j.hide;if(y)return m;var C=j[a],T=m[C]||{hasStack:!1,stackGroups:{}};if(Kr(b)){var E=T.stackGroups[b]||{numericAxisId:a,cateAxisId:i,items:[]};E.items.push(g),T.hasStack=!0,T.stackGroups[b]=E}else T.stackGroups[kf("_stackId_")]={numericAxisId:a,cateAxisId:i,items:[g]};return kr(kr({},m),{},lc({},C,T))},u),p={};return Object.keys(f).reduce(function(m,g){var v=f[g];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,y){var C=v.stackGroups[y];return kr(kr({},b),{},lc({},y,{numericAxisId:a,cateAxisId:i,items:C.items,stackedData:TY(t,C.items,s)}))},j)}return kr(kr({},m),{},lc({},g,v))},p)},AY=function(t,r){var a=r.realScaleType,i=r.type,s=r.tickCount,l=r.originalDomain,d=r.allowDecimals,u=a||r.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=FV(f,s,d);return t.domain([m0(p),p0(p)]),{niceTicks:p}}if(s&&i==="number"){var m=t.domain(),g=LV(m,s,d);return{niceTicks:g}}return null};function S6(e){var t=e.axis,r=e.ticks,a=e.bandSize,i=e.entry,s=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ft(i[t.dataKey])){var d=Pp(r,"value",i[t.dataKey]);if(d)return d.coordinate+a/2}return r[s]?r[s].coordinate+a/2:null}var u=ga(i,Ft(l)?t.dataKey:l);return Ft(u)?null:t.scale(u)}var N6=function(t){var r=t.axis,a=t.ticks,i=t.offset,s=t.bandSize,l=t.entry,d=t.index;if(r.type==="category")return a[d]?a[d].coordinate+i:null;var u=ga(l,r.dataKey,r.domain[d]);return Ft(u)?null:r.scale(u)-s/2+i},EY=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var i=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return i<=0&&s>=0?0:s<0?s:i}return a[0]},_Y=function(t,r){var a,i=(a=t.type)!==null&&a!==void 0&&a.defaultProps?kr(kr({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(Kr(s)){var l=r[s];if(l){var d=l.items.indexOf(t);return d>=0?l.stackedData[d]:null}}return null},OY=function(t){return t.reduce(function(r,a){return[m0(a.concat([r[0]]).filter(dt)),p0(a.concat([r[1]]).filter(dt))]},[1/0,-1/0])},VR=function(t,r,a){return Object.keys(t).reduce(function(i,s){var l=t[s],d=l.stackedData,u=d.reduce(function(f,p){var m=OY(p.slice(r,a+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},T6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xj=function(t,r,a){if(It(t))return t(r,a);if(!Array.isArray(t))return r;var i=[];if(dt(t[0]))i[0]=a?t[0]:Math.min(t[0],r[0]);else if(T6.test(t[0])){var s=+T6.exec(t[0])[1];i[0]=r[0]-s}else It(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(dt(t[1]))i[1]=a?t[1]:Math.max(t[1],r[1]);else if(C6.test(t[1])){var l=+C6.exec(t[1])[1];i[1]=r[1]+l}else It(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},lm=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!a||i>0)return i}if(t&&r&&r.length>=2){for(var s=Nw(r,function(m){return m.coordinate}),l=1/0,d=1,u=s.length;d<u;d++){var f=s[d],p=s[d-1];l=Math.min((f.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},A6=function(t,r,a){return!t||!t.length||x0(t,Ma(a,"type.defaultProps.domain"))?r:t},YR=function(t,r){var a=t.type.defaultProps?kr(kr({},t.type.defaultProps),t.props):t.props,i=a.dataKey,s=a.name,l=a.unit,d=a.formatter,u=a.tooltipType,f=a.chartType,p=a.hide;return kr(kr({},zt(t,!1)),{},{dataKey:i,unit:l,formatter:d,name:s||i,color:Kw(t),value:ga(r,i),type:u,payload:r,chartType:f,hide:p})};function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function E6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function _6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E6(Object(r),!0).forEach(function(a){kY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kY(e,t,r){return t=DY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=IY(e,"string");return Qu(t)=="symbol"?t:t+""}function IY(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Qu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cm=Math.PI/180,RY=function(t){return t*180/Math.PI},gn=function(t,r,a,i){return{x:t+Math.cos(-cm*i)*a,y:r+Math.sin(-cm*i)*a}},PY=function(t,r){var a=t.x,i=t.y,s=r.x,l=r.y;return Math.sqrt(Math.pow(a-s,2)+Math.pow(i-l,2))},MY=function(t,r){var a=t.x,i=t.y,s=r.cx,l=r.cy,d=PY({x:a,y:i},{x:s,y:l});if(d<=0)return{radius:d};var u=(a-s)/d,f=Math.acos(u);return i>l&&(f=2*Math.PI-f),{radius:d,angle:RY(f),angleInRadian:f}},BY=function(t){var r=t.startAngle,a=t.endAngle,i=Math.floor(r/360),s=Math.floor(a/360),l=Math.min(i,s);return{startAngle:r-l*360,endAngle:a-l*360}},FY=function(t,r){var a=r.startAngle,i=r.endAngle,s=Math.floor(a/360),l=Math.floor(i/360),d=Math.min(s,l);return t+d*360},O6=function(t,r){var a=t.x,i=t.y,s=MY({x:a,y:i},r),l=s.radius,d=s.angle,u=r.innerRadius,f=r.outerRadius;if(l<u||l>f)return!1;if(l===0)return!0;var p=BY(r),m=p.startAngle,g=p.endAngle,v=d,j;if(m<=g){for(;v>g;)v-=360;for(;v<m;)v+=360;j=v>=m&&v<=g}else{for(;v>m;)v-=360;for(;v<g;)v+=360;j=v>=g&&v<=m}return j?_6(_6({},r),{},{radius:l,angle:FY(v,r)}):null};function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}var LY=["offset"];function zY(e){return WY(e)||qY(e)||UY(e)||$Y()}function $Y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UY(e,t){if(e){if(typeof e=="string")return Kj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kj(e,t)}}function qY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WY(e){if(Array.isArray(e))return Kj(e)}function Kj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function HY(e,t){if(e==null)return{};var r=GY(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function GY(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function k6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k6(Object(r),!0).forEach(function(a){VY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VY(e,t,r){return t=YY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YY(e){var t=XY(e,"string");return Zu(t)=="symbol"?t:t+""}function XY(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Zu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ju.apply(this,arguments)}var KY=function(t){var r=t.value,a=t.formatter,i=Ft(t.children)?r:t.children;return It(a)?a(i):i},QY=function(t,r){var a=ri(r-t),i=Math.min(Math.abs(r-t),360);return a*i},ZY=function(t,r,a){var i=t.position,s=t.viewBox,l=t.offset,d=t.className,u=s,f=u.cx,p=u.cy,m=u.innerRadius,g=u.outerRadius,v=u.startAngle,j=u.endAngle,b=u.clockWise,y=(m+g)/2,C=QY(v,j),T=C>=0?1:-1,E,S;i==="insideStart"?(E=v+T*l,S=b):i==="insideEnd"?(E=j-T*l,S=!b):i==="end"&&(E=j+T*l,S=b),S=C<=0?S:!S;var A=gn(f,p,y,E),k=gn(f,p,y,E+(S?1:-1)*359),I="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),B=Ft(t.id)?kf("recharts-radial-line-"):t.id;return _e.createElement("text",Ju({},a,{dominantBaseline:"central",className:Vt("recharts-radial-bar-label",d)}),_e.createElement("defs",null,_e.createElement("path",{id:B,d:I})),_e.createElement("textPath",{xlinkHref:"#".concat(B)},r))},JY=function(t){var r=t.viewBox,a=t.offset,i=t.position,s=r,l=s.cx,d=s.cy,u=s.innerRadius,f=s.outerRadius,p=s.startAngle,m=s.endAngle,g=(p+m)/2;if(i==="outside"){var v=gn(l,d,f+a,g),j=v.x,b=v.y;return{x:j,y:b,textAnchor:j>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"end"};var y=(u+f)/2,C=gn(l,d,y,g),T=C.x,E=C.y;return{x:T,y:E,textAnchor:"middle",verticalAnchor:"middle"}},eX=function(t){var r=t.viewBox,a=t.parentViewBox,i=t.offset,s=t.position,l=r,d=l.x,u=l.y,f=l.width,p=l.height,m=p>=0?1:-1,g=m*i,v=m>0?"end":"start",j=m>0?"start":"end",b=f>=0?1:-1,y=b*i,C=b>0?"end":"start",T=b>0?"start":"end";if(s==="top"){var E={x:d+f/2,y:u-m*i,textAnchor:"middle",verticalAnchor:v};return Yr(Yr({},E),a?{height:Math.max(u-a.y,0),width:f}:{})}if(s==="bottom"){var S={x:d+f/2,y:u+p+g,textAnchor:"middle",verticalAnchor:j};return Yr(Yr({},S),a?{height:Math.max(a.y+a.height-(u+p),0),width:f}:{})}if(s==="left"){var A={x:d-y,y:u+p/2,textAnchor:C,verticalAnchor:"middle"};return Yr(Yr({},A),a?{width:Math.max(A.x-a.x,0),height:p}:{})}if(s==="right"){var k={x:d+f+y,y:u+p/2,textAnchor:T,verticalAnchor:"middle"};return Yr(Yr({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:p}:{})}var I=a?{width:f,height:p}:{};return s==="insideLeft"?Yr({x:d+y,y:u+p/2,textAnchor:T,verticalAnchor:"middle"},I):s==="insideRight"?Yr({x:d+f-y,y:u+p/2,textAnchor:C,verticalAnchor:"middle"},I):s==="insideTop"?Yr({x:d+f/2,y:u+g,textAnchor:"middle",verticalAnchor:j},I):s==="insideBottom"?Yr({x:d+f/2,y:u+p-g,textAnchor:"middle",verticalAnchor:v},I):s==="insideTopLeft"?Yr({x:d+y,y:u+g,textAnchor:T,verticalAnchor:j},I):s==="insideTopRight"?Yr({x:d+f-y,y:u+g,textAnchor:C,verticalAnchor:j},I):s==="insideBottomLeft"?Yr({x:d+y,y:u+p-g,textAnchor:T,verticalAnchor:v},I):s==="insideBottomRight"?Yr({x:d+f-y,y:u+p-g,textAnchor:C,verticalAnchor:v},I):Vc(s)&&(dt(s.x)||Po(s.x))&&(dt(s.y)||Po(s.y))?Yr({x:d+Ho(s.x,f),y:u+Ho(s.y,p),textAnchor:"end",verticalAnchor:"end"},I):Yr({x:d+f/2,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},I)},tX=function(t){return"cx"in t&&dt(t.cx)};function Tn(e){var t=e.offset,r=t===void 0?5:t,a=HY(e,LY),i=Yr({offset:r},a),s=i.viewBox,l=i.position,d=i.value,u=i.children,f=i.content,p=i.className,m=p===void 0?"":p,g=i.textBreakAll;if(!s||Ft(d)&&Ft(u)&&!N.isValidElement(f)&&!It(f))return null;if(N.isValidElement(f))return N.cloneElement(f,i);var v;if(It(f)){if(v=N.createElement(f,i),N.isValidElement(v))return v}else v=KY(i);var j=tX(s),b=zt(i,!0);if(j&&(l==="insideStart"||l==="insideEnd"||l==="end"))return ZY(i,v,b);var y=j?JY(i):eX(i);return _e.createElement(Yp,Ju({className:Vt("recharts-label",m)},b,y,{breakAll:g}),v)}Tn.displayName="Label";var XR=function(t){var r=t.cx,a=t.cy,i=t.angle,s=t.startAngle,l=t.endAngle,d=t.r,u=t.radius,f=t.innerRadius,p=t.outerRadius,m=t.x,g=t.y,v=t.top,j=t.left,b=t.width,y=t.height,C=t.clockWise,T=t.labelViewBox;if(T)return T;if(dt(b)&&dt(y)){if(dt(m)&&dt(g))return{x:m,y:g,width:b,height:y};if(dt(v)&&dt(j))return{x:v,y:j,width:b,height:y}}return dt(m)&&dt(g)?{x:m,y:g,width:0,height:0}:dt(r)&&dt(a)?{cx:r,cy:a,startAngle:s||i||0,endAngle:l||i||0,innerRadius:f||0,outerRadius:p||u||d||0,clockWise:C}:t.viewBox?t.viewBox:{}},rX=function(t,r){return t?t===!0?_e.createElement(Tn,{key:"label-implicit",viewBox:r}):Kr(t)?_e.createElement(Tn,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===Tn?N.cloneElement(t,{key:"label-implicit",viewBox:r}):_e.createElement(Tn,{key:"label-implicit",content:t,viewBox:r}):It(t)?_e.createElement(Tn,{key:"label-implicit",content:t,viewBox:r}):Vc(t)?_e.createElement(Tn,Ju({viewBox:r},t,{key:"label-implicit"})):null:null},nX=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var i=t.children,s=XR(t),l=Ba(i,Tn).map(function(u,f){return N.cloneElement(u,{viewBox:r||s,key:"label-".concat(f)})});if(!a)return l;var d=rX(t.label,r||s);return[d].concat(zY(l))};Tn.parseViewBox=XR;Tn.renderCallByParent=nX;var S1,D6;function aX(){if(D6)return S1;D6=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return S1=e,S1}var iX=aX();const sX=mr(iX);function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}var oX=["valueAccessor"],lX=["data","dataKey","clockWise","id","textBreakAll"];function cX(e){return hX(e)||fX(e)||uX(e)||dX()}function dX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uX(e,t){if(e){if(typeof e=="string")return Qj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qj(e,t)}}function fX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hX(e){if(Array.isArray(e))return Qj(e)}function Qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dm.apply(this,arguments)}function I6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function R6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I6(Object(r),!0).forEach(function(a){pX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pX(e,t,r){return t=mX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mX(e){var t=xX(e,"string");return ef(t)=="symbol"?t:t+""}function xX(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ef(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P6(e,t){if(e==null)return{};var r=gX(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gX(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var yX=function(t){return Array.isArray(t.value)?sX(t.value):t.value};function Qs(e){var t=e.valueAccessor,r=t===void 0?yX:t,a=P6(e,oX),i=a.data,s=a.dataKey,l=a.clockWise,d=a.id,u=a.textBreakAll,f=P6(a,lX);return!i||!i.length?null:_e.createElement(Br,{className:"recharts-label-list"},i.map(function(p,m){var g=Ft(s)?r(p,m):ga(p&&p.payload,s),v=Ft(d)?{}:{id:"".concat(d,"-").concat(m)};return _e.createElement(Tn,dm({},zt(p,!0),f,v,{parentViewBox:p.parentViewBox,value:g,textBreakAll:u,viewBox:Tn.parseViewBox(Ft(l)?p:R6(R6({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}Qs.displayName="LabelList";function vX(e,t){return e?e===!0?_e.createElement(Qs,{key:"labelList-implicit",data:t}):_e.isValidElement(e)||It(e)?_e.createElement(Qs,{key:"labelList-implicit",data:t,content:e}):Vc(e)?_e.createElement(Qs,dm({data:t},e,{key:"labelList-implicit"})):null:null}function bX(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=Ba(a,Qs).map(function(l,d){return N.cloneElement(l,{data:t,key:"labelList-".concat(d)})});if(!r)return i;var s=vX(e.label,t);return[s].concat(cX(i))}Qs.renderCallByParent=bX;function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zj.apply(this,arguments)}function M6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function B6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M6(Object(r),!0).forEach(function(a){jX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jX(e,t,r){return t=wX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wX(e){var t=SX(e,"string");return tf(t)=="symbol"?t:t+""}function SX(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(tf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NX=function(t,r){var a=ri(r-t),i=Math.min(Math.abs(r-t),359.999);return a*i},up=function(t){var r=t.cx,a=t.cy,i=t.radius,s=t.angle,l=t.sign,d=t.isExternal,u=t.cornerRadius,f=t.cornerIsExternal,p=u*(d?1:-1)+i,m=Math.asin(u/p)/cm,g=f?s:s+l*m,v=gn(r,a,p,g),j=gn(r,a,i,g),b=f?s-l*m:s,y=gn(r,a,p*Math.cos(m*cm),b);return{center:v,circleTangency:j,lineTangency:y,theta:m}},KR=function(t){var r=t.cx,a=t.cy,i=t.innerRadius,s=t.outerRadius,l=t.startAngle,d=t.endAngle,u=NX(l,d),f=l+u,p=gn(r,a,s,l),m=gn(r,a,s,f),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(l>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var v=gn(r,a,i,l),j=gn(r,a,i,f);g+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(a," Z");return g},TX=function(t){var r=t.cx,a=t.cy,i=t.innerRadius,s=t.outerRadius,l=t.cornerRadius,d=t.forceCornerRadius,u=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,m=ri(p-f),g=up({cx:r,cy:a,radius:s,angle:f,sign:m,cornerRadius:l,cornerIsExternal:u}),v=g.circleTangency,j=g.lineTangency,b=g.theta,y=up({cx:r,cy:a,radius:s,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:u}),C=y.circleTangency,T=y.lineTangency,E=y.theta,S=u?Math.abs(f-p):Math.abs(f-p)-b-E;if(S<0)return d?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):KR({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p});var A="M ".concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var k=up({cx:r,cy:a,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),I=k.circleTangency,B=k.lineTangency,M=k.theta,L=up({cx:r,cy:a,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),F=L.circleTangency,_=L.lineTangency,G=L.theta,P=u?Math.abs(f-p):Math.abs(f-p)-M-G;if(P<0&&l===0)return"".concat(A,"L").concat(r,",").concat(a,"Z");A+="L".concat(_.x,",").concat(_.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(m>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(B.x,",").concat(B.y,"Z")}else A+="L".concat(r,",").concat(a,"Z");return A},CX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QR=function(t){var r=B6(B6({},CX),t),a=r.cx,i=r.cy,s=r.innerRadius,l=r.outerRadius,d=r.cornerRadius,u=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,g=r.className;if(l<s||p===m)return null;var v=Vt("recharts-sector",g),j=l-s,b=Ho(d,j,0,!0),y;return b>0&&Math.abs(p-m)<360?y=TX({cx:a,cy:i,innerRadius:s,outerRadius:l,cornerRadius:Math.min(b,j/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:p,endAngle:m}):y=KR({cx:a,cy:i,innerRadius:s,outerRadius:l,startAngle:p,endAngle:m}),_e.createElement("path",Zj({},zt(r,!0),{className:v,d:y,role:"img"}))};function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jj.apply(this,arguments)}function F6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function L6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F6(Object(r),!0).forEach(function(a){AX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function AX(e,t,r){return t=EX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EX(e){var t=_X(e,"string");return rf(t)=="symbol"?t:t+""}function _X(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(rf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z6={curveBasisClosed:X$,curveBasisOpen:K$,curveBasis:Y$,curveBumpX:R$,curveBumpY:P$,curveLinearClosed:Q$,curveLinear:n0,curveMonotoneX:Z$,curveMonotoneY:J$,curveNatural:e9,curveStep:t9,curveStepAfter:n9,curveStepBefore:r9},fp=function(t){return t.x===+t.x&&t.y===+t.y},lu=function(t){return t.x},cu=function(t){return t.y},OX=function(t,r){if(It(t))return t;var a="curve".concat(t0(t));return(a==="curveMonotone"||a==="curveBump")&&r?z6["".concat(a).concat(r==="vertical"?"Y":"X")]:z6[a]||n0},kX=function(t){var r=t.type,a=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,l=t.baseLine,d=t.layout,u=t.connectNulls,f=u===void 0?!1:u,p=OX(a,d),m=f?s.filter(function(b){return fp(b)}):s,g;if(Array.isArray(l)){var v=f?l.filter(function(b){return fp(b)}):l,j=m.map(function(b,y){return L6(L6({},b),{},{base:v[y]})});return d==="vertical"?g=np().y(cu).x1(lu).x0(function(b){return b.base.x}):g=np().x(lu).y1(cu).y0(function(b){return b.base.y}),g.defined(fp).curve(p),g(j)}return d==="vertical"&&dt(l)?g=np().y(cu).x1(lu).x0(l):dt(l)?g=np().x(lu).y1(cu).y0(l):g=tI().x(lu).y(cu),g.defined(fp).curve(p),g(m)},e2=function(t){var r=t.className,a=t.points,i=t.path,s=t.pathRef;if((!a||!a.length)&&!i)return null;var l=a&&a.length?kX(t):i;return _e.createElement("path",Jj({},zt(t,!1),Mp(t),{className:Vt("recharts-curve",r),d:l,ref:s}))},N1={exports:{}},T1,$6;function DX(){if($6)return T1;$6=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return T1=e,T1}var C1,U6;function IX(){if(U6)return C1;U6=1;var e=DX();function t(){}function r(){}return r.resetWarningCache=t,C1=function(){function a(l,d,u,f,p,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}a.isRequired=a;function i(){return a}var s={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},C1}var q6;function RX(){return q6||(q6=1,N1.exports=IX()()),N1.exports}var PX=RX();const er=mr(PX);var MX=Object.getOwnPropertyNames,BX=Object.getOwnPropertySymbols,FX=Object.prototype.hasOwnProperty;function W6(e,t){return function(a,i,s){return e(a,i,s)&&t(a,i,s)}}function hp(e){return function(r,a,i){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,i);var s=i.cache,l=s.get(r),d=s.get(a);if(l&&d)return l===a&&d===r;s.set(r,a),s.set(a,r);var u=e(r,a,i);return s.delete(r),s.delete(a),u}}function H6(e){return MX(e).concat(BX(e))}var LX=Object.hasOwn||function(e,t){return FX.call(e,t)};function nl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var zX="__v",$X="__o",UX="_owner",G6=Object.getOwnPropertyDescriptor,V6=Object.keys;function qX(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function WX(e,t){return nl(e.getTime(),t.getTime())}function HX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function GX(e,t){return e===t}function Y6(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var i=new Array(a),s=e.entries(),l,d,u=0;(l=s.next())&&!l.done;){for(var f=t.entries(),p=!1,m=0;(d=f.next())&&!d.done;){if(i[m]){m++;continue}var g=l.value,v=d.value;if(r.equals(g[0],v[0],u,m,e,t,r)&&r.equals(g[1],v[1],g[0],v[0],e,t,r)){p=i[m]=!0;break}m++}if(!p)return!1;u++}return!0}var VX=nl;function YX(e,t,r){var a=V6(e),i=a.length;if(V6(t).length!==i)return!1;for(;i-- >0;)if(!ZR(e,t,r,a[i]))return!1;return!0}function du(e,t,r){var a=H6(e),i=a.length;if(H6(t).length!==i)return!1;for(var s,l,d;i-- >0;)if(s=a[i],!ZR(e,t,r,s)||(l=G6(e,s),d=G6(t,s),(l||d)&&(!l||!d||l.configurable!==d.configurable||l.enumerable!==d.enumerable||l.writable!==d.writable)))return!1;return!0}function XX(e,t){return nl(e.valueOf(),t.valueOf())}function KX(e,t){return e.source===t.source&&e.flags===t.flags}function X6(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var i=new Array(a),s=e.values(),l,d;(l=s.next())&&!l.done;){for(var u=t.values(),f=!1,p=0;(d=u.next())&&!d.done;){if(!i[p]&&r.equals(l.value,d.value,l.value,d.value,e,t,r)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function QX(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function ZX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ZR(e,t,r,a){return(a===UX||a===$X||a===zX)&&(e.$$typeof||t.$$typeof)?!0:LX(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var JX="[object Arguments]",eK="[object Boolean]",tK="[object Date]",rK="[object Error]",nK="[object Map]",aK="[object Number]",iK="[object Object]",sK="[object RegExp]",oK="[object Set]",lK="[object String]",cK="[object URL]",dK=Array.isArray,K6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Q6=Object.assign,uK=Object.prototype.toString.call.bind(Object.prototype.toString);function fK(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,l=e.areNumbersEqual,d=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,p=e.areSetsEqual,m=e.areTypedArraysEqual,g=e.areUrlsEqual;return function(j,b,y){if(j===b)return!0;if(j==null||b==null)return!1;var C=typeof j;if(C!==typeof b)return!1;if(C!=="object")return C==="number"?l(j,b,y):C==="function"?i(j,b,y):!1;var T=j.constructor;if(T!==b.constructor)return!1;if(T===Object)return d(j,b,y);if(dK(j))return t(j,b,y);if(K6!=null&&K6(j))return m(j,b,y);if(T===Date)return r(j,b,y);if(T===RegExp)return f(j,b,y);if(T===Map)return s(j,b,y);if(T===Set)return p(j,b,y);var E=uK(j);return E===tK?r(j,b,y):E===sK?f(j,b,y):E===nK?s(j,b,y):E===oK?p(j,b,y):E===iK?typeof j.then!="function"&&typeof b.then!="function"&&d(j,b,y):E===cK?g(j,b,y):E===rK?a(j,b,y):E===JX?d(j,b,y):E===eK||E===aK||E===lK?u(j,b,y):!1}}function hK(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,i={areArraysEqual:a?du:qX,areDatesEqual:WX,areErrorsEqual:HX,areFunctionsEqual:GX,areMapsEqual:a?W6(Y6,du):Y6,areNumbersEqual:VX,areObjectsEqual:a?du:YX,arePrimitiveWrappersEqual:XX,areRegExpsEqual:KX,areSetsEqual:a?W6(X6,du):X6,areTypedArraysEqual:a?du:QX,areUrlsEqual:ZX};if(r&&(i=Q6({},i,r(i))),t){var s=hp(i.areArraysEqual),l=hp(i.areMapsEqual),d=hp(i.areObjectsEqual),u=hp(i.areSetsEqual);i=Q6({},i,{areArraysEqual:s,areMapsEqual:l,areObjectsEqual:d,areSetsEqual:u})}return i}function pK(e){return function(t,r,a,i,s,l,d){return e(t,r,d)}}function mK(e){var t=e.circular,r=e.comparator,a=e.createState,i=e.equals,s=e.strict;if(a)return function(u,f){var p=a(),m=p.cache,g=m===void 0?t?new WeakMap:void 0:m,v=p.meta;return r(u,f,{cache:g,equals:i,meta:v,strict:s})};if(t)return function(u,f){return r(u,f,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var l={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,f){return r(u,f,l)}}var xK=lo();lo({strict:!0});lo({circular:!0});lo({circular:!0,strict:!0});lo({createInternalComparator:function(){return nl}});lo({strict:!0,createInternalComparator:function(){return nl}});lo({circular:!0,createInternalComparator:function(){return nl}});lo({circular:!0,createInternalComparator:function(){return nl},strict:!0});function lo(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,i=e.createState,s=e.strict,l=s===void 0?!1:s,d=hK(e),u=fK(d),f=a?a(u):pK(u);return mK({circular:r,comparator:u,createState:i,equals:f,strict:l})}function gK(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Z6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):gK(i)};requestAnimationFrame(a)}function t2(e){"@babel/helpers - typeof";return t2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t2(e)}function yK(e){return wK(e)||jK(e)||bK(e)||vK()}function vK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bK(e,t){if(e){if(typeof e=="string")return J6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J6(e,t)}}function J6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function jK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wK(e){if(Array.isArray(e))return e}function SK(){var e={},t=function(){return null},r=!1,a=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,d=yK(l),u=d[0],f=d.slice(1);if(typeof u=="number"){Z6(i.bind(null,f),u);return}i(u),Z6(i.bind(null,f));return}t2(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,a(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(a){JR(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function JR(e,t,r){return t=NK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=TK(e,"string");return nf(t)==="symbol"?t:String(t)}function TK(e,t){if(nf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(nf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CK=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,i){return a.filter(function(s){return i.includes(s)})})},AK=function(t){return t},EK=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Nu=function(t,r){return Object.keys(r).reduce(function(a,i){return tk(tk({},a),{},JR({},i,t(i,r[i])))},{})},rk=function(t,r,a){return t.map(function(i){return"".concat(EK(i)," ").concat(r,"ms ").concat(a)}).join(",")};function _K(e,t){return DK(e)||kK(e,t)||eP(e,t)||OK()}function OK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function DK(e){if(Array.isArray(e))return e}function IK(e){return MK(e)||PK(e)||eP(e)||RK()}function RK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eP(e,t){if(e){if(typeof e=="string")return r2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r2(e,t)}}function PK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MK(e){if(Array.isArray(e))return r2(e)}function r2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var um=1e-4,tP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},rP=function(t,r){return t.map(function(a,i){return a*Math.pow(r,i)}).reduce(function(a,i){return a+i})},nk=function(t,r){return function(a){var i=tP(t,r);return rP(i,a)}},BK=function(t,r){return function(a){var i=tP(t,r),s=[].concat(IK(i.map(function(l,d){return l*d}).slice(1)),[0]);return rP(s,a)}},ak=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=r[0],s=r[1],l=r[2],d=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,l=1,d=1;break;case"ease":i=.25,s=.1,l=.25,d=1;break;case"ease-in":i=.42,s=0,l=1,d=1;break;case"ease-out":i=.42,s=0,l=.58,d=1;break;case"ease-in-out":i=0,s=0,l=.58,d=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var f=u[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),p=_K(f,4);i=p[0],s=p[1],l=p[2],d=p[3]}}}var m=nk(i,l),g=nk(s,d),v=BK(i,l),j=function(C){return C>1?1:C<0?0:C},b=function(C){for(var T=C>1?1:C,E=T,S=0;S<8;++S){var A=m(E)-T,k=v(E);if(Math.abs(A-T)<um||k<um)return g(E);E=j(E-A/k)}return g(E)};return b.isStepper=!1,b},FK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,l=t.dt,d=l===void 0?17:l,u=function(p,m,g){var v=-(p-m)*a,j=g*s,b=g+(v-j)*d/1e3,y=g*d/1e3+p;return Math.abs(y-m)<um&&Math.abs(b)<um?[m,0]:[y,b]};return u.isStepper=!0,u.dt=d,u},LK=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ak(i);case"spring":return FK();default:if(i.split("(")[0]==="cubic-bezier")return ak(i)}return typeof i=="function"?i:null};function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function ik(e){return UK(e)||$K(e)||nP(e)||zK()}function zK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $K(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UK(e){if(Array.isArray(e))return a2(e)}function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(a){n2(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function n2(e,t,r){return t=qK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=WK(e,"string");return af(t)==="symbol"?t:String(t)}function WK(e,t){if(af(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(af(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HK(e,t){return YK(e)||VK(e,t)||nP(e,t)||GK()}function GK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nP(e,t){if(e){if(typeof e=="string")return a2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(e,t)}}function a2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function VK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function YK(e){if(Array.isArray(e))return e}var fm=function(t,r,a){return t+(r-t)*a},i2=function(t){var r=t.from,a=t.to;return r!==a},XK=function e(t,r,a){var i=Nu(function(s,l){if(i2(l)){var d=t(l.from,l.to,l.velocity),u=HK(d,2),f=u[0],p=u[1];return hn(hn({},l),{},{from:f,velocity:p})}return l},r);return a<1?Nu(function(s,l){return i2(l)?hn(hn({},l),{},{velocity:fm(l.velocity,i[s].velocity,a),from:fm(l.from,i[s].from,a)}):l},r):e(t,i,a-1)};const KK=function(e,t,r,a,i){var s=CK(e,t),l=s.reduce(function(y,C){return hn(hn({},y),{},n2({},C,[e[C],t[C]]))},{}),d=s.reduce(function(y,C){return hn(hn({},y),{},n2({},C,{from:e[C],velocity:0,to:t[C]}))},{}),u=-1,f,p,m=function(){return null},g=function(){return Nu(function(C,T){return T.from},d)},v=function(){return!Object.values(d).filter(i2).length},j=function(C){f||(f=C);var T=C-f,E=T/r.dt;d=XK(r,d,E),i(hn(hn(hn({},e),t),g())),f=C,v()||(u=requestAnimationFrame(m))},b=function(C){p||(p=C);var T=(C-p)/a,E=Nu(function(A,k){return fm.apply(void 0,ik(k).concat([r(T)]))},l);if(i(hn(hn(hn({},e),t),E)),T<1)u=requestAnimationFrame(m);else{var S=Nu(function(A,k){return fm.apply(void 0,ik(k).concat([r(1)]))},l);i(hn(hn(hn({},e),t),S))}};return m=r.isStepper?j:b,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}};function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}var QK=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ZK(e,t){if(e==null)return{};var r=JK(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function JK(e,t){if(e==null)return{};var r={},a=Object.keys(e),i,s;for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function A1(e){return nQ(e)||rQ(e)||tQ(e)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(e,t){if(e){if(typeof e=="string")return s2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s2(e,t)}}function rQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nQ(e){if(Array.isArray(e))return s2(e)}function s2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(a){yu(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yu(e,t,r){return t=aP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iQ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aP(a.key),a)}}function sQ(e,t,r){return t&&iQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aP(e){var t=oQ(e,"string");return Cc(t)==="symbol"?t:String(t)}function oQ(e,t){if(Cc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Cc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o2(e,t)}function o2(e,t){return o2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},o2(e,t)}function cQ(e){var t=dQ();return function(){var a=hm(e),i;if(t){var s=hm(this).constructor;i=Reflect.construct(a,arguments,s)}else i=a.apply(this,arguments);return l2(this,i)}}function l2(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c2(e)}function c2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hm(e){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(e)}var fs=function(e){lQ(r,e);var t=cQ(r);function r(a,i){var s;aQ(this,r),s=t.call(this,a,i);var l=s.props,d=l.isActive,u=l.attributeName,f=l.from,p=l.to,m=l.steps,g=l.children,v=l.duration;if(s.handleStyleChange=s.handleStyleChange.bind(c2(s)),s.changeStyle=s.changeStyle.bind(c2(s)),!d||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:p}),l2(s);if(m&&m.length)s.state={style:m[0].style};else if(f){if(typeof g=="function")return s.state={style:f},l2(s);s.state={style:u?yu({},u,f):f}}else s.state={style:{}};return s}return sQ(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,l=i.canBegin;this.mounted=!0,!(!s||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isActive,d=s.canBegin,u=s.attributeName,f=s.shouldReAnimate,p=s.to,m=s.from,g=this.state.style;if(d){if(!l){var v={style:u?yu({},u,p):p};this.state&&g&&(u&&g[u]!==p||!u&&g!==p)&&this.setState(v);return}if(!(xK(i.to,p)&&i.canBegin&&i.isActive)){var j=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=j||f?m:i.to;if(this.state&&g){var y={style:u?yu({},u,b):b};(u&&g[u]!==b||!u&&g!==b)&&this.setState(y)}this.runAnimation(Va(Va({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,l=i.from,d=i.to,u=i.duration,f=i.easing,p=i.begin,m=i.onAnimationEnd,g=i.onAnimationStart,v=KK(l,d,LK(f),u,this.changeStyle),j=function(){s.stopJSAnimation=v()};this.manager.start([g,p,j,u,m])}},{key:"runStepAnimation",value:function(i){var s=this,l=i.steps,d=i.begin,u=i.onAnimationStart,f=l[0],p=f.style,m=f.duration,g=m===void 0?0:m,v=function(b,y,C){if(C===0)return b;var T=y.duration,E=y.easing,S=E===void 0?"ease":E,A=y.style,k=y.properties,I=y.onAnimationEnd,B=C>0?l[C-1]:y,M=k||Object.keys(A);if(typeof S=="function"||S==="spring")return[].concat(A1(b),[s.runJSAnimation.bind(s,{from:B.style,to:A,duration:T,easing:S}),T]);var L=rk(M,T,S),F=Va(Va(Va({},B.style),A),{},{transition:L});return[].concat(A1(b),[F,T,I]).filter(AK)};return this.manager.start([u].concat(A1(l.reduce(v,[p,Math.max(g,d)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=SK());var s=i.begin,l=i.duration,d=i.attributeName,u=i.to,f=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,g=i.steps,v=i.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var b=d?yu({},d,u):u,y=rk(Object.keys(b),l,f);j.start([p,s,Va(Va({},b),{},{transition:y}),l,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var d=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=ZK(i,QK),f=N.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!d||f===0||l<=0)return s;var m=function(v){var j=v.props,b=j.style,y=b===void 0?{}:b,C=j.className,T=N.cloneElement(v,Va(Va({},u),{},{style:Va(Va({},y),p),className:C}));return T};return f===1?m(N.Children.only(s)):_e.createElement("div",null,N.Children.map(s,function(g){return m(g)}))}}]),r}(N.PureComponent);fs.displayName="Animate";fs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fs.propTypes={from:er.oneOfType([er.object,er.string]),to:er.oneOfType([er.object,er.string]),attributeName:er.string,duration:er.number,begin:er.number,easing:er.oneOfType([er.string,er.func]),steps:er.arrayOf(er.shape({duration:er.number.isRequired,style:er.object.isRequired,easing:er.oneOfType([er.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),er.func]),properties:er.arrayOf("string"),onAnimationEnd:er.func})),children:er.oneOfType([er.node,er.func]),isActive:er.bool,canBegin:er.bool,onAnimationEnd:er.func,shouldReAnimate:er.bool,onAnimationStart:er.func,onAnimationReStart:er.func};function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pm.apply(this,arguments)}function uQ(e,t){return mQ(e)||pQ(e,t)||hQ(e,t)||fQ()}function fQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hQ(e,t){if(e){if(typeof e=="string")return lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(e,t)}}function lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function pQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function mQ(e){if(Array.isArray(e))return e}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function dk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(a){xQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xQ(e,t,r){return t=gQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=yQ(e,"string");return sf(t)=="symbol"?t:t+""}function yQ(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(sf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uk=function(t,r,a,i,s){var l=Math.min(Math.abs(a)/2,Math.abs(i)/2),d=i>=0?1:-1,u=a>=0?1:-1,f=i>=0&&a>=0||i<0&&a<0?1:0,p;if(l>0&&s instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=s[g]>l?l:s[g];p="M".concat(t,",").concat(r+d*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+u*m[0],",").concat(r)),p+="L ".concat(t+a-u*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+a,",").concat(r+d*m[1])),p+="L ".concat(t+a,",").concat(r+i-d*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+a-u*m[2],",").concat(r+i)),p+="L ".concat(t+u*m[3],",").concat(r+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+i-d*m[3])),p+="Z"}else if(l>0&&s===+s&&s>0){var j=Math.min(l,s);p="M ".concat(t,",").concat(r+d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+u*j,",").concat(r,`
            L `).concat(t+a-u*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+a,",").concat(r+d*j,`
            L `).concat(t+a,",").concat(r+i-d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+a-u*j,",").concat(r+i,`
            L `).concat(t+u*j,",").concat(r+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t,",").concat(r+i-d*j," Z")}else p="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(i," h ").concat(-a," Z");return p},vQ=function(t,r){if(!t||!r)return!1;var a=t.x,i=t.y,s=r.x,l=r.y,d=r.width,u=r.height;if(Math.abs(d)>0&&Math.abs(u)>0){var f=Math.min(s,s+d),p=Math.max(s,s+d),m=Math.min(l,l+u),g=Math.max(l,l+u);return a>=f&&a<=p&&i>=m&&i<=g}return!1},bQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qw=function(t){var r=dk(dk({},bQ),t),a=N.useRef(),i=N.useState(-1),s=uQ(i,2),l=s[0],d=s[1];N.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&d(S)}catch{}},[]);var u=r.x,f=r.y,p=r.width,m=r.height,g=r.radius,v=r.className,j=r.animationEasing,b=r.animationDuration,y=r.animationBegin,C=r.isAnimationActive,T=r.isUpdateAnimationActive;if(u!==+u||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var E=Vt("recharts-rectangle",v);return T?_e.createElement(fs,{canBegin:l>0,from:{width:p,height:m,x:u,y:f},to:{width:p,height:m,x:u,y:f},duration:b,animationEasing:j,isActive:T},function(S){var A=S.width,k=S.height,I=S.x,B=S.y;return _e.createElement(fs,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:C,easing:j},_e.createElement("path",pm({},zt(r,!0),{className:E,d:uk(I,B,A,k,g),ref:a})))}):_e.createElement("path",pm({},zt(r,!0),{className:E,d:uk(u,f,p,m,g)}))};function d2(){return d2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d2.apply(this,arguments)}var Zw=function(t){var r=t.cx,a=t.cy,i=t.r,s=t.className,l=Vt("recharts-dot",s);return r===+r&&a===+a&&i===+i?_e.createElement("circle",d2({},zt(t,!1),Mp(t),{className:l,cx:r,cy:a,r:i})):null};function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}var jQ=["x","y","top","left","width","height","className"];function u2(){return u2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u2.apply(this,arguments)}function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function wQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(a){SQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SQ(e,t,r){return t=NQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NQ(e){var t=TQ(e,"string");return of(t)=="symbol"?t:t+""}function TQ(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(of(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CQ(e,t){if(e==null)return{};var r=AQ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function AQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var EQ=function(t,r,a,i,s,l){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(a)},_Q=function(t){var r=t.x,a=r===void 0?0:r,i=t.y,s=i===void 0?0:i,l=t.top,d=l===void 0?0:l,u=t.left,f=u===void 0?0:u,p=t.width,m=p===void 0?0:p,g=t.height,v=g===void 0?0:g,j=t.className,b=CQ(t,jQ),y=wQ({x:a,y:s,top:d,left:f,width:m,height:v},b);return!dt(a)||!dt(s)||!dt(m)||!dt(v)||!dt(d)||!dt(f)?null:_e.createElement("path",u2({},zt(y,!0),{className:Vt("recharts-cross",j),d:EQ(a,s,m,v,d,f)}))},E1,hk;function OQ(){if(hk)return E1;hk=1;var e=NI(),t=e(Object.getPrototypeOf,Object);return E1=t,E1}var _1,pk;function kQ(){if(pk)return _1;pk=1;var e=ms(),t=OQ(),r=xs(),a="[object Object]",i=Function.prototype,s=Object.prototype,l=i.toString,d=s.hasOwnProperty,u=l.call(Object);function f(p){if(!r(p)||e(p)!=a)return!1;var m=t(p);if(m===null)return!0;var g=d.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==u}return _1=f,_1}var DQ=kQ();const IQ=mr(DQ);var O1,mk;function RQ(){if(mk)return O1;mk=1;var e=ms(),t=xs(),r="[object Boolean]";function a(i){return i===!0||i===!1||t(i)&&e(i)==r}return O1=a,O1}var PQ=RQ();const MQ=mr(PQ);function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mm.apply(this,arguments)}function BQ(e,t){return $Q(e)||zQ(e,t)||LQ(e,t)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LQ(e,t){if(e){if(typeof e=="string")return xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(e,t)}}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function zQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function $Q(e){if(Array.isArray(e))return e}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(a){UQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UQ(e,t,r){return t=qQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=WQ(e,"string");return lf(t)=="symbol"?t:t+""}function WQ(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(lf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vk=function(t,r,a,i,s){var l=a-i,d;return d="M ".concat(t,",").concat(r),d+="L ".concat(t+a,",").concat(r),d+="L ".concat(t+a-l/2,",").concat(r+s),d+="L ".concat(t+a-l/2-i,",").concat(r+s),d+="L ".concat(t,",").concat(r," Z"),d},HQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GQ=function(t){var r=yk(yk({},HQ),t),a=N.useRef(),i=N.useState(-1),s=BQ(i,2),l=s[0],d=s[1];N.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var E=a.current.getTotalLength();E&&d(E)}catch{}},[]);var u=r.x,f=r.y,p=r.upperWidth,m=r.lowerWidth,g=r.height,v=r.className,j=r.animationEasing,b=r.animationDuration,y=r.animationBegin,C=r.isUpdateAnimationActive;if(u!==+u||f!==+f||p!==+p||m!==+m||g!==+g||p===0&&m===0||g===0)return null;var T=Vt("recharts-trapezoid",v);return C?_e.createElement(fs,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:u,y:f},to:{upperWidth:p,lowerWidth:m,height:g,x:u,y:f},duration:b,animationEasing:j,isActive:C},function(E){var S=E.upperWidth,A=E.lowerWidth,k=E.height,I=E.x,B=E.y;return _e.createElement(fs,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:j},_e.createElement("path",mm({},zt(r,!0),{className:T,d:vk(I,B,S,A,k),ref:a})))}):_e.createElement("g",null,_e.createElement("path",mm({},zt(r,!0),{className:T,d:vk(u,f,p,m,g)})))},VQ=["option","shapeType","propTransformer","activeClassName","isActive"];function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function YQ(e,t){if(e==null)return{};var r=XQ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function XQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(a){KQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function KQ(e,t,r){return t=QQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QQ(e){var t=ZQ(e,"string");return cf(t)=="symbol"?t:t+""}function ZQ(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(cf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JQ(e,t){return xm(xm({},t),e)}function eZ(e,t){return e==="symbols"}function jk(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return _e.createElement(Qw,r);case"trapezoid":return _e.createElement(GQ,r);case"sector":return _e.createElement(QR,r);case"symbols":if(eZ(t))return _e.createElement(xw,r);break;default:return null}}function tZ(e){return N.isValidElement(e)?e.props:e}function rZ(e){var t=e.option,r=e.shapeType,a=e.propTransformer,i=a===void 0?JQ:a,s=e.activeClassName,l=s===void 0?"recharts-active-shape":s,d=e.isActive,u=YQ(e,VQ),f;if(N.isValidElement(t))f=N.cloneElement(t,xm(xm({},u),tZ(t)));else if(It(t))f=t(u);else if(IQ(t)&&!MQ(t)){var p=i(t,u);f=_e.createElement(jk,{shapeType:r,elementProps:p})}else{var m=u;f=_e.createElement(jk,{shapeType:r,elementProps:m})}return d?_e.createElement(Br,{className:l},f):f}function v0(e,t){return t!=null&&"trapezoids"in e.props}function b0(e,t){return t!=null&&"sectors"in e.props}function df(e,t){return t!=null&&"points"in e.props}function nZ(e,t){var r,a,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return i&&s}function aZ(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function iZ(e,t){var r=e.x===t.x,a=e.y===t.y,i=e.z===t.z;return r&&a&&i}function sZ(e,t){var r;return v0(e,t)?r=nZ:b0(e,t)?r=aZ:df(e,t)&&(r=iZ),r}function oZ(e,t){var r;return v0(e,t)?r="trapezoids":b0(e,t)?r="sectors":df(e,t)&&(r="points"),r}function lZ(e,t){if(v0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(b0(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return df(e,t)?t.payload:{}}function cZ(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,i=oZ(r,t),s=lZ(r,t),l=a.filter(function(u,f){var p=x0(s,u),m=r.props[i].filter(function(j){var b=sZ(r,t);return b(j,t)}),g=r.props[i].indexOf(m[m.length-1]),v=f===g;return p&&v}),d=a.indexOf(l[l.length-1]);return d}var k1,wk;function dZ(){if(wk)return k1;wk=1;var e=Math.ceil,t=Math.max;function r(a,i,s,l){for(var d=-1,u=t(e((i-a)/(s||1)),0),f=Array(u);u--;)f[l?u:++d]=a,a+=s;return f}return k1=r,k1}var D1,Sk;function iP(){if(Sk)return D1;Sk=1;var e=zI(),t=1/0,r=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return D1=a,D1}var I1,Nk;function uZ(){if(Nk)return I1;Nk=1;var e=dZ(),t=o0(),r=iP();function a(i){return function(s,l,d){return d&&typeof d!="number"&&t(s,l,d)&&(l=d=void 0),s=r(s),l===void 0?(l=s,s=0):l=r(l),d=d===void 0?s<l?1:-1:r(d),e(s,l,d,i)}}return I1=a,I1}var R1,Tk;function fZ(){if(Tk)return R1;Tk=1;var e=uZ(),t=e();return R1=t,R1}var hZ=fZ();const gm=mr(hZ);function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Ak(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(a){sP(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sP(e,t,r){return t=pZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pZ(e){var t=mZ(e,"string");return uf(t)=="symbol"?t:t+""}function mZ(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(uf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xZ=["Webkit","Moz","O","ms"],gZ=function(t,r){var a=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=xZ.reduce(function(s,l){return Ak(Ak({},s),{},sP({},l+a,r))},{});return i[t]=r,i};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ym.apply(this,arguments)}function Ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function P1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(r),!0).forEach(function(a){da(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ek(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _k(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lP(a.key),a)}}function vZ(e,t,r){return t&&_k(e.prototype,t),r&&_k(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bZ(e,t,r){return t=vm(t),jZ(e,oP()?Reflect.construct(t,r||[],vm(e).constructor):t.apply(e,r))}function jZ(e,t){if(t&&(Ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wZ(e)}function wZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oP=function(){return!!e})()}function vm(e){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(e)}function SZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f2(e,t)}function f2(e,t){return f2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},f2(e,t)}function da(e,t,r){return t=lP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lP(e){var t=NZ(e,"string");return Ac(t)=="symbol"?t:t+""}function NZ(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ac(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TZ=function(t){var r=t.data,a=t.startIndex,i=t.endIndex,s=t.x,l=t.width,d=t.travellerWidth;if(!r||!r.length)return{};var u=r.length,f=wu().domain(gm(0,u)).range([s,s+l-d]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(a),endX:f(i),scale:f,scaleValues:p}},Ok=function(t){return t.changedTouches&&!!t.changedTouches.length},Ec=function(e){function t(r){var a;return yZ(this,t),a=bZ(this,t,[r]),da(a,"handleDrag",function(i){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(i):a.state.isSlideMoving&&a.handleSlideDrag(i)}),da(a,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&a.handleDrag(i.changedTouches[0])}),da(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=a.props,s=i.endIndex,l=i.onDragEnd,d=i.startIndex;l==null||l({endIndex:s,startIndex:d})}),a.detachDragEndListener()}),da(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),da(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),da(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),da(a,"handleSlideDragStart",function(i){var s=Ok(i)?i.changedTouches[0]:i;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return SZ(t,e),vZ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var i=a.startX,s=a.endX,l=this.state.scaleValues,d=this.props,u=d.gap,f=d.data,p=f.length-1,m=Math.min(i,s),g=Math.max(i,s),v=t.getIndexInRange(l,m),j=t.getIndexInRange(l,g);return{startIndex:v-v%u,endIndex:j===p?p:j-j%u}}},{key:"getTextOfTick",value:function(a){var i=this.props,s=i.data,l=i.tickFormatter,d=i.dataKey,u=ga(s[a],d,a);return It(l)?l(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var i=this.state,s=i.slideMoveStartX,l=i.startX,d=i.endX,u=this.props,f=u.x,p=u.width,m=u.travellerWidth,g=u.startIndex,v=u.endIndex,j=u.onChange,b=a.pageX-s;b>0?b=Math.min(b,f+p-m-d,f+p-m-l):b<0&&(b=Math.max(b,f-l,f-d));var y=this.getIndex({startX:l+b,endX:d+b});(y.startIndex!==g||y.endIndex!==v)&&j&&j(y),this.setState({startX:l+b,endX:d+b,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,i){var s=Ok(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var i=this.state,s=i.brushMoveStartX,l=i.movingTravellerId,d=i.endX,u=i.startX,f=this.state[l],p=this.props,m=p.x,g=p.width,v=p.travellerWidth,j=p.onChange,b=p.gap,y=p.data,C={startX:this.state.startX,endX:this.state.endX},T=a.pageX-s;T>0?T=Math.min(T,m+g-v-f):T<0&&(T=Math.max(T,m-f)),C[l]=f+T;var E=this.getIndex(C),S=E.startIndex,A=E.endIndex,k=function(){var B=y.length-1;return l==="startX"&&(d>u?S%b===0:A%b===0)||d<u&&A===B||l==="endX"&&(d>u?A%b===0:S%b===0)||d>u&&A===B};this.setState(da(da({},l,f+T),"brushMoveStartX",a.pageX),function(){j&&k()&&j(E)})}},{key:"handleTravellerMoveKeyboard",value:function(a,i){var s=this,l=this.state,d=l.scaleValues,u=l.startX,f=l.endX,p=this.state[i],m=d.indexOf(p);if(m!==-1){var g=m+a;if(!(g===-1||g>=d.length)){var v=d[g];i==="startX"&&v>=f||i==="endX"&&v<=u||this.setState(da({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,i=a.x,s=a.y,l=a.width,d=a.height,u=a.fill,f=a.stroke;return _e.createElement("rect",{stroke:f,fill:u,x:i,y:s,width:l,height:d})}},{key:"renderPanorama",value:function(){var a=this.props,i=a.x,s=a.y,l=a.width,d=a.height,u=a.data,f=a.children,p=a.padding,m=N.Children.only(f);return m?_e.cloneElement(m,{x:i,y:s,width:l,height:d,margin:p,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,i){var s,l,d=this,u=this.props,f=u.y,p=u.travellerWidth,m=u.height,g=u.traveller,v=u.ariaLabel,j=u.data,b=u.startIndex,y=u.endIndex,C=Math.max(a,this.props.x),T=P1(P1({},zt(this.props,!1)),{},{x:C,y:f,width:p,height:m}),E=v||"Min value: ".concat((s=j[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((l=j[y])===null||l===void 0?void 0:l.name);return _e.createElement(Br,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),d.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){d.setState({isTravellerFocused:!0})},onBlur:function(){d.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,T))}},{key:"renderSlide",value:function(a,i){var s=this.props,l=s.y,d=s.height,u=s.stroke,f=s.travellerWidth,p=Math.min(a,i)+f,m=Math.max(Math.abs(i-a)-f,0);return _e.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:p,y:l,width:m,height:d})}},{key:"renderText",value:function(){var a=this.props,i=a.startIndex,s=a.endIndex,l=a.y,d=a.height,u=a.travellerWidth,f=a.stroke,p=this.state,m=p.startX,g=p.endX,v=5,j={pointerEvents:"none",fill:f};return _e.createElement(Br,{className:"recharts-brush-texts"},_e.createElement(Yp,ym({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-v,y:l+d/2},j),this.getTextOfTick(i)),_e.createElement(Yp,ym({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+u+v,y:l+d/2},j),this.getTextOfTick(s)))}},{key:"render",value:function(){var a=this.props,i=a.data,s=a.className,l=a.children,d=a.x,u=a.y,f=a.width,p=a.height,m=a.alwaysShowText,g=this.state,v=g.startX,j=g.endX,b=g.isTextActive,y=g.isSlideMoving,C=g.isTravellerMoving,T=g.isTravellerFocused;if(!i||!i.length||!dt(d)||!dt(u)||!dt(f)||!dt(p)||f<=0||p<=0)return null;var E=Vt("recharts-brush",s),S=_e.Children.count(l)===1,A=gZ("userSelect","none");return _e.createElement(Br,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(b||y||C||T||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var i=a.x,s=a.y,l=a.width,d=a.height,u=a.stroke,f=Math.floor(s+d/2)-1;return _e.createElement(_e.Fragment,null,_e.createElement("rect",{x:i,y:s,width:l,height:d,fill:u,stroke:"none"}),_e.createElement("line",{x1:i+1,y1:f,x2:i+l-1,y2:f,fill:"none",stroke:"#fff"}),_e.createElement("line",{x1:i+1,y1:f+2,x2:i+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,i){var s;return _e.isValidElement(a)?s=_e.cloneElement(a,i):It(a)?s=a(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(a,i){var s=a.data,l=a.width,d=a.x,u=a.travellerWidth,f=a.updateId,p=a.startIndex,m=a.endIndex;if(s!==i.prevData||f!==i.prevUpdateId)return P1({prevData:s,prevTravellerWidth:u,prevUpdateId:f,prevX:d,prevWidth:l},s&&s.length?TZ({data:s,width:l,x:d,travellerWidth:u,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||d!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([d,d+l-u]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:f,prevX:d,prevWidth:l,startX:i.scale(a.startIndex),endX:i.scale(a.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(a,i){for(var s=a.length,l=0,d=s-1;d-l>1;){var u=Math.floor((l+d)/2);a[u]>i?d=u:l=u}return i>=a[d]?d:l}}])}(N.PureComponent);da(Ec,"displayName","Brush");da(Ec,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var M1,kk;function CZ(){if(kk)return M1;kk=1;var e=Sw();function t(r,a){var i;return e(r,function(s,l,d){return i=a(s,l,d),!i}),!!i}return M1=t,M1}var B1,Dk;function AZ(){if(Dk)return B1;Dk=1;var e=gI(),t=io(),r=CZ(),a=ta(),i=o0();function s(l,d,u){var f=a(l)?e:r;return u&&i(l,d,u)&&(d=void 0),f(l,t(d,3))}return B1=s,B1}var EZ=AZ();const _Z=mr(EZ);var Si=function(t,r){var a=t.alwaysShow,i=t.ifOverflow;return a&&(i="extendDomain"),i===r},F1,Ik;function OZ(){if(Ik)return F1;Ik=1;var e=PI();function t(r,a,i){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[a]=i}return F1=t,F1}var L1,Rk;function kZ(){if(Rk)return L1;Rk=1;var e=OZ(),t=II(),r=io();function a(i,s){var l={};return s=r(s,3),t(i,function(d,u,f){e(l,u,s(d,u,f))}),l}return L1=a,L1}var DZ=kZ();const IZ=mr(DZ);var z1,Pk;function RZ(){if(Pk)return z1;Pk=1;function e(t,r){for(var a=-1,i=t==null?0:t.length;++a<i;)if(!r(t[a],a,t))return!1;return!0}return z1=e,z1}var $1,Mk;function PZ(){if(Mk)return $1;Mk=1;var e=Sw();function t(r,a){var i=!0;return e(r,function(s,l,d){return i=!!a(s,l,d),i}),i}return $1=t,$1}var U1,Bk;function MZ(){if(Bk)return U1;Bk=1;var e=RZ(),t=PZ(),r=io(),a=ta(),i=o0();function s(l,d,u){var f=a(l)?e:t;return u&&i(l,d,u)&&(d=void 0),f(l,r(d,3))}return U1=s,U1}var BZ=MZ();const cP=mr(BZ);var FZ=["x","y"];function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h2.apply(this,arguments)}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(a){LZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function LZ(e,t,r){return t=zZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zZ(e){var t=$Z(e,"string");return ff(t)=="symbol"?t:t+""}function $Z(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ff(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UZ(e,t){if(e==null)return{};var r=qZ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qZ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function WZ(e,t){var r=e.x,a=e.y,i=UZ(e,FZ),s="".concat(r),l=parseInt(s,10),d="".concat(a),u=parseInt(d,10),f="".concat(t.height||i.height),p=parseInt(f,10),m="".concat(t.width||i.width),g=parseInt(m,10);return uu(uu(uu(uu(uu({},t),i),l?{x:l}:{}),u?{y:u}:{}),{},{height:p,width:g,name:t.name,radius:t.radius})}function Lk(e){return _e.createElement(rZ,h2({shapeType:"rectangle",propTransformer:WZ,activeClassName:"recharts-active-bar"},e))}var HZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,i){if(typeof t=="number")return t;var s=typeof a=="number";return s?t(a,i):(s||Vo(),r)}},GZ=["value","background"],dP;function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function VZ(e,t){if(e==null)return{};var r=YZ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function YZ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bm.apply(this,arguments)}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(a){Vs(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function XZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $k(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fP(a.key),a)}}function KZ(e,t,r){return t&&$k(e.prototype,t),r&&$k(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QZ(e,t,r){return t=jm(t),ZZ(e,uP()?Reflect.construct(t,r||[],jm(e).constructor):t.apply(e,r))}function ZZ(e,t){if(t&&(_c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JZ(e)}function JZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uP=function(){return!!e})()}function jm(e){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jm(e)}function eJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p2(e,t)}function p2(e,t){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},p2(e,t)}function Vs(e,t,r){return t=fP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fP(e){var t=tJ(e,"string");return _c(t)=="symbol"?t:t+""}function tJ(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(_c(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var al=function(e){function t(){var r;XZ(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=QZ(this,t,[].concat(i)),Vs(r,"state",{isAnimationFinished:!1}),Vs(r,"id",kf("recharts-bar-")),Vs(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Vs(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return eJ(t,e),KZ(t,[{key:"renderRectanglesStatically",value:function(a){var i=this,s=this.props,l=s.shape,d=s.dataKey,u=s.activeIndex,f=s.activeBar,p=zt(this.props,!1);return a&&a.map(function(m,g){var v=g===u,j=v?f:l,b=Ur(Ur(Ur({},p),m),{},{isActive:v,option:j,index:g,dataKey:d,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return _e.createElement(Br,bm({className:"recharts-bar-rectangle"},Bp(i.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),_e.createElement(Lk,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,i=this.props,s=i.data,l=i.layout,d=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,p=i.animationEasing,m=i.animationId,g=this.state.prevData;return _e.createElement(fs,{begin:u,duration:f,isActive:d,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,b=s.map(function(y,C){var T=g&&g[C];if(T){var E=Ja(T.x,y.x),S=Ja(T.y,y.y),A=Ja(T.width,y.width),k=Ja(T.height,y.height);return Ur(Ur({},y),{},{x:E(j),y:S(j),width:A(j),height:k(j)})}if(l==="horizontal"){var I=Ja(0,y.height),B=I(j);return Ur(Ur({},y),{},{y:y.y+y.height-B,height:B})}var M=Ja(0,y.width),L=M(j);return Ur(Ur({},y),{},{width:L})});return _e.createElement(Br,null,a.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var a=this.props,i=a.data,s=a.isAnimationActive,l=this.state.prevData;return s&&i&&i.length&&(!l||!x0(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var a=this,i=this.props,s=i.data,l=i.dataKey,d=i.activeIndex,u=zt(this.props.background,!1);return s.map(function(f,p){f.value;var m=f.background,g=VZ(f,GZ);if(!m)return null;var v=Ur(Ur(Ur(Ur(Ur({},g),{},{fill:"#eee"},m),u),Bp(a.props,f,p)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return _e.createElement(Lk,bm({key:"background-bar-".concat(p),option:a.props.background,isActive:p===d},v))})}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.data,d=s.xAxis,u=s.yAxis,f=s.layout,p=s.children,m=Ba(p,Bf);if(!m)return null;var g=f==="vertical"?l[0].height/2:l[0].width/2,v=function(y,C){var T=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:T,errorVal:ga(y,C)}},j={clipPath:a?"url(#clipPath-".concat(i,")"):null};return _e.createElement(Br,j,m.map(function(b){return _e.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:l,xAxis:d,yAxis:u,layout:f,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var a=this.props,i=a.hide,s=a.data,l=a.className,d=a.xAxis,u=a.yAxis,f=a.left,p=a.top,m=a.width,g=a.height,v=a.isAnimationActive,j=a.background,b=a.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,C=Vt("recharts-bar",l),T=d&&d.allowDataOverflow,E=u&&u.allowDataOverflow,S=T||E,A=Ft(b)?this.id:b;return _e.createElement(Br,{className:C},T||E?_e.createElement("defs",null,_e.createElement("clipPath",{id:"clipPath-".concat(A)},_e.createElement("rect",{x:T?f:f-m/2,y:E?p:p-g/2,width:T?m:m*2,height:E?g:g*2}))):null,_e.createElement(Br,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(A,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,A),(!v||y)&&Qs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:i.curData}:a.data!==i.curData?{curData:a.data}:null}}])}(N.PureComponent);dP=al;Vs(al,"displayName","Bar");Vs(al,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vs(al,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,i=e.bandSize,s=e.xAxis,l=e.yAxis,d=e.xAxisTicks,u=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,m=e.displayedData,g=e.offset,v=bY(a,r);if(!v)return null;var j=t.layout,b=r.type.defaultProps,y=b!==void 0?Ur(Ur({},b),r.props):r.props,C=y.dataKey,T=y.children,E=y.minPointSize,S=j==="horizontal"?l:s,A=f?S.scale.domain():null,k=EY({numericAxis:S}),I=Ba(T,UI),B=m.map(function(M,L){var F,_,G,P,D,R;f?F=jY(f[p+L],A):(F=ga(M,C),Array.isArray(F)||(F=[k,F]));var H=HZ(E,dP.defaultProps.minPointSize)(F[1],L);if(j==="horizontal"){var ne,me=[l.scale(F[0]),l.scale(F[1])],q=me[0],X=me[1];_=N6({axis:s,ticks:d,bandSize:i,offset:v.offset,entry:M,index:L}),G=(ne=X??q)!==null&&ne!==void 0?ne:void 0,P=v.size;var z=q-X;if(D=Number.isNaN(z)?0:z,R={x:_,y:l.y,width:P,height:l.height},Math.abs(H)>0&&Math.abs(D)<Math.abs(H)){var te=ri(D||H)*(Math.abs(H)-Math.abs(D));G-=te,D+=te}}else{var U=[s.scale(F[0]),s.scale(F[1])],ee=U[0],le=U[1];if(_=ee,G=N6({axis:l,ticks:u,bandSize:i,offset:v.offset,entry:M,index:L}),P=le-ee,D=v.size,R={x:s.x,y:G,width:s.width,height:D},Math.abs(H)>0&&Math.abs(P)<Math.abs(H)){var ce=ri(P||H)*(Math.abs(H)-Math.abs(P));P+=ce}}return Ur(Ur(Ur({},M),{},{x:_,y:G,width:P,height:D,value:f?F:F[1],payload:M,background:R},I&&I[L]&&I[L].props),{},{tooltipPayload:[YR(r,M)],tooltipPosition:{x:_+P/2,y:G+D/2}})});return Ur({data:B,layout:j},g)});function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function rJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uk(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,hP(a.key),a)}}function nJ(e,t,r){return t&&Uk(e.prototype,t),r&&Uk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(a){j0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function j0(e,t,r){return t=hP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hP(e){var t=aJ(e,"string");return hf(t)=="symbol"?t:t+""}function aJ(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(hf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pP=function(t,r,a,i,s){var l=t.width,d=t.height,u=t.layout,f=t.children,p=Object.keys(r),m={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:d-a.bottom,bottomMirror:d-a.bottom},g=!!fa(f,al);return p.reduce(function(v,j){var b=r[j],y=b.orientation,C=b.domain,T=b.padding,E=T===void 0?{}:T,S=b.mirror,A=b.reversed,k="".concat(y).concat(S?"Mirror":""),I,B,M,L,F;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var _=C[1]-C[0],G=1/0,P=b.categoricalDomain.sort(a$);if(P.forEach(function(U,ee){ee>0&&(G=Math.min((U||0)-(P[ee-1]||0),G))}),Number.isFinite(G)){var D=G/_,R=b.layout==="vertical"?a.height:a.width;if(b.padding==="gap"&&(I=D*R/2),b.padding==="no-gap"){var H=Ho(t.barCategoryGap,D*R),ne=D*R/2;I=ne-H-(ne-H)/R*H}}}i==="xAxis"?B=[a.left+(E.left||0)+(I||0),a.left+a.width-(E.right||0)-(I||0)]:i==="yAxis"?B=u==="horizontal"?[a.top+a.height-(E.bottom||0),a.top+(E.top||0)]:[a.top+(E.top||0)+(I||0),a.top+a.height-(E.bottom||0)-(I||0)]:B=b.range,A&&(B=[B[1],B[0]]);var me=yY(b,s,g),q=me.scale,X=me.realScaleType;q.domain(C).range(B),vY(q);var z=AY(q,Qa(Qa({},b),{},{realScaleType:X}));i==="xAxis"?(F=y==="top"&&!S||y==="bottom"&&S,M=a.left,L=m[k]-F*b.height):i==="yAxis"&&(F=y==="left"&&!S||y==="right"&&S,M=m[k]-F*b.width,L=a.top);var te=Qa(Qa(Qa({},b),z),{},{realScaleType:X,x:M,y:L,scale:q,width:i==="xAxis"?a.width:b.width,height:i==="yAxis"?a.height:b.height});return te.bandSize=lm(te,z),!b.hide&&i==="xAxis"?m[k]+=(F?-1:1)*te.height:b.hide||(m[k]+=(F?-1:1)*te.width),Qa(Qa({},v),{},j0({},j,te))},{})},mP=function(t,r){var a=t.x,i=t.y,s=r.x,l=r.y;return{x:Math.min(a,s),y:Math.min(i,l),width:Math.abs(s-a),height:Math.abs(l-i)}},iJ=function(t){var r=t.x1,a=t.y1,i=t.x2,s=t.y2;return mP({x:r,y:a},{x:i,y:s})},xP=function(){function e(t){rJ(this,e),this.scale=t}return nJ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,s=a.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var d=this.bandwidth?this.bandwidth():0;return this.scale(r)+d}default:return this.scale(r)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),i=a[0],s=a[a.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();j0(xP,"EPS",1e-4);var Jw=function(t){var r=Object.keys(t).reduce(function(a,i){return Qa(Qa({},a),{},j0({},i,xP.create(t[i])))},{});return Qa(Qa({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.bandAware,d=s.position;return IZ(i,function(u,f){return r[f].apply(u,{bandAware:l,position:d})})},isInRange:function(i){return cP(i,function(s,l){return r[l].isInRange(s)})}})};function sJ(e){return(e%180+180)%180}var oJ=function(t){var r=t.width,a=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=sJ(i),l=s*Math.PI/180,d=Math.atan(a/r),u=l>d&&l<Math.PI-d?a/Math.sin(l):r/Math.cos(l);return Math.abs(u)},q1,Wk;function lJ(){if(Wk)return q1;Wk=1;var e=io(),t=Df(),r=i0();function a(i){return function(s,l,d){var u=Object(s);if(!t(s)){var f=e(l,3);s=r(s),l=function(m){return f(u[m],m,u)}}var p=i(s,l,d);return p>-1?u[f?s[p]:p]:void 0}}return q1=a,q1}var W1,Hk;function cJ(){if(Hk)return W1;Hk=1;var e=iP();function t(r){var a=e(r),i=a%1;return a===a?i?a-i:a:0}return W1=t,W1}var H1,Gk;function dJ(){if(Gk)return H1;Gk=1;var e=EI(),t=io(),r=cJ(),a=Math.max;function i(s,l,d){var u=s==null?0:s.length;if(!u)return-1;var f=d==null?0:r(d);return f<0&&(f=a(u+f,0)),e(s,t(l,3),f)}return H1=i,H1}var G1,Vk;function uJ(){if(Vk)return G1;Vk=1;var e=lJ(),t=dJ(),r=e(t);return G1=r,G1}var fJ=uJ();const hJ=mr(fJ);var pJ=WD();const mJ=mr(pJ);var xJ=mJ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),eS=N.createContext(void 0),tS=N.createContext(void 0),gP=N.createContext(void 0),yP=N.createContext({}),vP=N.createContext(void 0),bP=N.createContext(0),jP=N.createContext(0),Yk=function(t){var r=t.state,a=r.xAxisMap,i=r.yAxisMap,s=r.offset,l=t.clipPathId,d=t.children,u=t.width,f=t.height,p=xJ(s);return _e.createElement(eS.Provider,{value:a},_e.createElement(tS.Provider,{value:i},_e.createElement(yP.Provider,{value:s},_e.createElement(gP.Provider,{value:p},_e.createElement(vP.Provider,{value:l},_e.createElement(bP.Provider,{value:f},_e.createElement(jP.Provider,{value:u},d)))))))},gJ=function(){return N.useContext(vP)},wP=function(t){var r=N.useContext(eS);r==null&&Vo();var a=r[t];return a==null&&Vo(),a},yJ=function(){var t=N.useContext(eS);return Hs(t)},vJ=function(){var t=N.useContext(tS),r=hJ(t,function(a){return cP(a.domain,Number.isFinite)});return r||Hs(t)},SP=function(t){var r=N.useContext(tS);r==null&&Vo();var a=r[t];return a==null&&Vo(),a},bJ=function(){var t=N.useContext(gP);return t},jJ=function(){return N.useContext(yP)},rS=function(){return N.useContext(jP)},nS=function(){return N.useContext(bP)};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function wJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SJ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,TP(a.key),a)}}function NJ(e,t,r){return t&&SJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TJ(e,t,r){return t=wm(t),CJ(e,NP()?Reflect.construct(t,r||[],wm(e).constructor):t.apply(e,r))}function CJ(e,t){if(t&&(Oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AJ(e)}function AJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NP=function(){return!!e})()}function wm(e){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wm(e)}function EJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m2(e,t)}function m2(e,t){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},m2(e,t)}function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Kk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(a){aS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function aS(e,t,r){return t=TP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TP(e){var t=_J(e,"string");return Oc(t)=="symbol"?t:t+""}function _J(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Oc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function OJ(e,t){return RJ(e)||IJ(e,t)||DJ(e,t)||kJ()}function kJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DJ(e,t){if(e){if(typeof e=="string")return Qk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qk(e,t)}}function Qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function IJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function RJ(e){if(Array.isArray(e))return e}function x2(){return x2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},x2.apply(this,arguments)}var PJ=function(t,r){var a;return _e.isValidElement(t)?a=_e.cloneElement(t,r):It(t)?a=t(r):a=_e.createElement("line",x2({},r,{className:"recharts-reference-line-line"})),a},MJ=function(t,r,a,i,s,l,d,u,f){var p=s.x,m=s.y,g=s.width,v=s.height;if(a){var j=f.y,b=t.y.apply(j,{position:l});if(Si(f,"discard")&&!t.y.isInRange(b))return null;var y=[{x:p+g,y:b},{x:p,y:b}];return u==="left"?y.reverse():y}if(r){var C=f.x,T=t.x.apply(C,{position:l});if(Si(f,"discard")&&!t.x.isInRange(T))return null;var E=[{x:T,y:m+v},{x:T,y:m}];return d==="top"?E.reverse():E}if(i){var S=f.segment,A=S.map(function(k){return t.apply(k,{position:l})});return Si(f,"discard")&&_Z(A,function(k){return!t.isInRange(k)})?null:A}return null};function BJ(e){var t=e.x,r=e.y,a=e.segment,i=e.xAxisId,s=e.yAxisId,l=e.shape,d=e.className,u=e.alwaysShow,f=gJ(),p=wP(i),m=SP(s),g=bJ();if(!f||!g)return null;rs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Jw({x:p.scale,y:m.scale}),j=Kr(t),b=Kr(r),y=a&&a.length===2,C=MJ(v,j,b,y,g,e.position,p.orientation,m.orientation,e);if(!C)return null;var T=OJ(C,2),E=T[0],S=E.x,A=E.y,k=T[1],I=k.x,B=k.y,M=Si(e,"hidden")?"url(#".concat(f,")"):void 0,L=Kk(Kk({clipPath:M},zt(e,!0)),{},{x1:S,y1:A,x2:I,y2:B});return _e.createElement(Br,{className:Vt("recharts-reference-line",d)},PJ(l,L),Tn.renderCallByParent(e,iJ({x1:S,y1:A,x2:I,y2:B})))}var iS=function(e){function t(){return wJ(this,t),TJ(this,t,arguments)}return EJ(t,e),NJ(t,[{key:"render",value:function(){return _e.createElement(BJ,this.props)}}])}(_e.Component);aS(iS,"displayName","ReferenceLine");aS(iS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function g2(){return g2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},g2.apply(this,arguments)}function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function Zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Jk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(r),!0).forEach(function(a){w0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function FJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LJ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AP(a.key),a)}}function zJ(e,t,r){return t&&LJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $J(e,t,r){return t=Sm(t),UJ(e,CP()?Reflect.construct(t,r||[],Sm(e).constructor):t.apply(e,r))}function UJ(e,t){if(t&&(kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qJ(e)}function qJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CP=function(){return!!e})()}function Sm(e){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(e)}function WJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y2(e,t)}function y2(e,t){return y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},y2(e,t)}function w0(e,t,r){return t=AP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AP(e){var t=HJ(e,"string");return kc(t)=="symbol"?t:t+""}function HJ(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(kc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GJ=function(t){var r=t.x,a=t.y,i=t.xAxis,s=t.yAxis,l=Jw({x:i.scale,y:s.scale}),d=l.apply({x:r,y:a},{bandAware:!0});return Si(t,"discard")&&!l.isInRange(d)?null:d},S0=function(e){function t(){return FJ(this,t),$J(this,t,arguments)}return WJ(t,e),zJ(t,[{key:"render",value:function(){var a=this.props,i=a.x,s=a.y,l=a.r,d=a.alwaysShow,u=a.clipPathId,f=Kr(i),p=Kr(s);if(rs(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=GJ(this.props);if(!m)return null;var g=m.x,v=m.y,j=this.props,b=j.shape,y=j.className,C=Si(this.props,"hidden")?"url(#".concat(u,")"):void 0,T=Jk(Jk({clipPath:C},zt(this.props,!0)),{},{cx:g,cy:v});return _e.createElement(Br,{className:Vt("recharts-reference-dot",y)},t.renderDot(b,T),Tn.renderCallByParent(this.props,{x:g-l,y:v-l,width:2*l,height:2*l}))}}])}(_e.Component);w0(S0,"displayName","ReferenceDot");w0(S0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});w0(S0,"renderDot",function(e,t){var r;return _e.isValidElement(e)?r=_e.cloneElement(e,t):It(e)?r=e(t):r=_e.createElement(Zw,g2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function v2(){return v2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v2.apply(this,arguments)}function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function e3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function t3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(r),!0).forEach(function(a){N0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YJ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_P(a.key),a)}}function XJ(e,t,r){return t&&YJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KJ(e,t,r){return t=Nm(t),QJ(e,EP()?Reflect.construct(t,r||[],Nm(e).constructor):t.apply(e,r))}function QJ(e,t){if(t&&(Dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZJ(e)}function ZJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!e})()}function Nm(e){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nm(e)}function JJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b2(e,t)}function b2(e,t){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},b2(e,t)}function N0(e,t,r){return t=_P(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _P(e){var t=eee(e,"string");return Dc(t)=="symbol"?t:t+""}function eee(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Dc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tee=function(t,r,a,i,s){var l=s.x1,d=s.x2,u=s.y1,f=s.y2,p=s.xAxis,m=s.yAxis;if(!p||!m)return null;var g=Jw({x:p.scale,y:m.scale}),v={x:t?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:a?g.y.apply(u,{position:"start"}):g.y.rangeMin},j={x:r?g.x.apply(d,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return Si(s,"discard")&&(!g.isInRange(v)||!g.isInRange(j))?null:mP(v,j)},T0=function(e){function t(){return VJ(this,t),KJ(this,t,arguments)}return JJ(t,e),XJ(t,[{key:"render",value:function(){var a=this.props,i=a.x1,s=a.x2,l=a.y1,d=a.y2,u=a.className,f=a.alwaysShow,p=a.clipPathId;rs(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Kr(i),g=Kr(s),v=Kr(l),j=Kr(d),b=this.props.shape;if(!m&&!g&&!v&&!j&&!b)return null;var y=tee(m,g,v,j,this.props);if(!y&&!b)return null;var C=Si(this.props,"hidden")?"url(#".concat(p,")"):void 0;return _e.createElement(Br,{className:Vt("recharts-reference-area",u)},t.renderRect(b,t3(t3({clipPath:C},zt(this.props,!0)),y)),Tn.renderCallByParent(this.props,y))}}])}(_e.Component);N0(T0,"displayName","ReferenceArea");N0(T0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});N0(T0,"renderRect",function(e,t){var r;return _e.isValidElement(e)?r=_e.cloneElement(e,t):It(e)?r=e(t):r=_e.createElement(Qw,v2({},t,{className:"recharts-reference-area-rect"})),r});function OP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],i=0;i<e.length;i+=t)a.push(e[i]);return a}function ree(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return oJ(a,r)}function nee(e,t,r){var a=r==="width",i=e.x,s=e.y,l=e.width,d=e.height;return t===1?{start:a?i:s,end:a?i+l:s+d}:{start:a?i+l:s+d,end:a?i:s}}function Tm(e,t,r,a,i){if(e*t<e*a||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-a)>=0&&e*(t+e*s/2-i)<=0}function aee(e,t){return OP(e,t+1)}function iee(e,t,r,a,i){for(var s=(a||[]).slice(),l=t.start,d=t.end,u=0,f=1,p=l,m=function(){var j=a==null?void 0:a[u];if(j===void 0)return{v:OP(a,f)};var b=u,y,C=function(){return y===void 0&&(y=r(j,b)),y},T=j.coordinate,E=u===0||Tm(e,T,C,p,d);E||(u=0,p=l,f+=1),E&&(p=T+e*(C()/2+i),u+=f)},g;f<=s.length;)if(g=m(),g)return g.v;return[]}function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function r3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(r),!0).forEach(function(a){see(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function see(e,t,r){return t=oee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oee(e){var t=lee(e,"string");return pf(t)=="symbol"?t:t+""}function lee(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(pf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cee(e,t,r,a,i){for(var s=(a||[]).slice(),l=s.length,d=t.start,u=t.end,f=function(g){var v=s[g],j,b=function(){return j===void 0&&(j=r(v,g)),j};if(g===l-1){var y=e*(v.coordinate+e*b()/2-u);s[g]=v=Nn(Nn({},v),{},{tickCoord:y>0?v.coordinate-y*e:v.coordinate})}else s[g]=v=Nn(Nn({},v),{},{tickCoord:v.coordinate});var C=Tm(e,v.tickCoord,b,d,u);C&&(u=v.tickCoord-e*(b()/2+i),s[g]=Nn(Nn({},v),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return s}function dee(e,t,r,a,i,s){var l=(a||[]).slice(),d=l.length,u=t.start,f=t.end;if(s){var p=a[d-1],m=r(p,d-1),g=e*(p.coordinate+e*m/2-f);l[d-1]=p=Nn(Nn({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate});var v=Tm(e,p.tickCoord,function(){return m},u,f);v&&(f=p.tickCoord-e*(m/2+i),l[d-1]=Nn(Nn({},p),{},{isShow:!0}))}for(var j=s?d-1:d,b=function(T){var E=l[T],S,A=function(){return S===void 0&&(S=r(E,T)),S};if(T===0){var k=e*(E.coordinate-e*A()/2-u);l[T]=E=Nn(Nn({},E),{},{tickCoord:k<0?E.coordinate-k*e:E.coordinate})}else l[T]=E=Nn(Nn({},E),{},{tickCoord:E.coordinate});var I=Tm(e,E.tickCoord,A,u,f);I&&(u=E.tickCoord+e*(A()/2+i),l[T]=Nn(Nn({},E),{},{isShow:!0}))},y=0;y<j;y++)b(y);return l}function sS(e,t,r){var a=e.tick,i=e.ticks,s=e.viewBox,l=e.minTickGap,d=e.orientation,u=e.interval,f=e.tickFormatter,p=e.unit,m=e.angle;if(!i||!i.length||!a)return[];if(dt(u)||Xc.isSsr)return aee(i,typeof u=="number"&&dt(u)?u:0);var g=[],v=d==="top"||d==="bottom"?"width":"height",j=p&&v==="width"?ju(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(E,S){var A=It(f)?f(E.value,S):E.value;return v==="width"?ree(ju(A,{fontSize:t,letterSpacing:r}),j,m):ju(A,{fontSize:t,letterSpacing:r})[v]},y=i.length>=2?ri(i[1].coordinate-i[0].coordinate):1,C=nee(s,y,v);return u==="equidistantPreserveStart"?iee(y,C,b,i,l):(u==="preserveStart"||u==="preserveStartEnd"?g=dee(y,C,b,i,l,u==="preserveStartEnd"):g=cee(y,C,b,i,l),g.filter(function(T){return T.isShow}))}var uee=["viewBox"],fee=["viewBox"],hee=["ticks"];function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tc.apply(this,arguments)}function n3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(r),!0).forEach(function(a){oS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function V1(e,t){if(e==null)return{};var r=pee(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function pee(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function mee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a3(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,DP(a.key),a)}}function xee(e,t,r){return t&&a3(e.prototype,t),r&&a3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gee(e,t,r){return t=Cm(t),yee(e,kP()?Reflect.construct(t,r||[],Cm(e).constructor):t.apply(e,r))}function yee(e,t){if(t&&(Ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vee(e)}function vee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kP=function(){return!!e})()}function Cm(e){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(e)}function bee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j2(e,t)}function j2(e,t){return j2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},j2(e,t)}function oS(e,t,r){return t=DP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DP(e){var t=jee(e,"string");return Ic(t)=="symbol"?t:t+""}function jee(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ic(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jc=function(e){function t(r){var a;return mee(this,t),a=gee(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return bee(t,e),xee(t,[{key:"shouldComponentUpdate",value:function(a,i){var s=a.viewBox,l=V1(a,uee),d=this.props,u=d.viewBox,f=V1(d,fee);return!ic(s,u)||!ic(l,f)||!ic(i,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var i=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var i=this.props,s=i.x,l=i.y,d=i.width,u=i.height,f=i.orientation,p=i.tickSize,m=i.mirror,g=i.tickMargin,v,j,b,y,C,T,E=m?-1:1,S=a.tickSize||p,A=dt(a.tickCoord)?a.tickCoord:a.coordinate;switch(f){case"top":v=j=a.coordinate,y=l+ +!m*u,b=y-E*S,T=b-E*g,C=A;break;case"left":b=y=a.coordinate,j=s+ +!m*d,v=j-E*S,C=v-E*g,T=A;break;case"right":b=y=a.coordinate,j=s+ +m*d,v=j+E*S,C=v+E*g,T=A;break;default:v=j=a.coordinate,y=l+ +m*u,b=y+E*S,T=b+E*g,C=A;break}return{line:{x1:v,y1:b,x2:j,y2:y},tick:{x:C,y:T}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,l;switch(i){case"left":l=s?"start":"end";break;case"right":l=s?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=s?"start":"end";break;default:l=s?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.x,s=a.y,l=a.width,d=a.height,u=a.orientation,f=a.mirror,p=a.axisLine,m=Dn(Dn(Dn({},zt(this.props,!1)),zt(p,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!f||u==="bottom"&&f);m=Dn(Dn({},m),{},{x1:i,y1:s+g*d,x2:i+l,y2:s+g*d})}else{var v=+(u==="left"&&!f||u==="right"&&f);m=Dn(Dn({},m),{},{x1:i+v*l,y1:s,x2:i+v*l,y2:s+d})}return _e.createElement("line",tc({},m,{className:Vt("recharts-cartesian-axis-line",Ma(p,"className"))}))}},{key:"renderTicks",value:function(a,i,s){var l=this,d=this.props,u=d.tickLine,f=d.stroke,p=d.tick,m=d.tickFormatter,g=d.unit,v=sS(Dn(Dn({},this.props),{},{ticks:a}),i,s),j=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=zt(this.props,!1),C=zt(p,!1),T=Dn(Dn({},y),{},{fill:"none"},zt(u,!1)),E=v.map(function(S,A){var k=l.getTickLineCoord(S),I=k.line,B=k.tick,M=Dn(Dn(Dn(Dn({textAnchor:j,verticalAnchor:b},y),{},{stroke:"none",fill:f},C),B),{},{index:A,payload:S,visibleTicksCount:v.length,tickFormatter:m});return _e.createElement(Br,tc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Bp(l.props,S,A)),u&&_e.createElement("line",tc({},T,I,{className:Vt("recharts-cartesian-axis-tick-line",Ma(u,"className"))})),p&&t.renderTickItem(p,M,"".concat(It(m)?m(S.value,A):S.value).concat(g||"")))});return _e.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var a=this,i=this.props,s=i.axisLine,l=i.width,d=i.height,u=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var m=this.props,g=m.ticks,v=V1(m,hee),j=g;return It(u)&&(j=g&&g.length>0?u(this.props):u(v)),l<=0||d<=0||!j||!j.length?null:_e.createElement(Br,{className:Vt("recharts-cartesian-axis",f),ref:function(y){a.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),Tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,i,s){var l;return _e.isValidElement(a)?l=_e.cloneElement(a,i):It(a)?l=a(i):l=_e.createElement(Yp,tc({},i,{className:"recharts-cartesian-axis-tick-value"}),s),l}}])}(N.Component);oS(Jc,"displayName","CartesianAxis");oS(Jc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wee=["x1","y1","x2","y2","key"],See=["offset"];function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}function i3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(r),!0).forEach(function(a){Nee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Nee(e,t,r){return t=Tee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tee(e){var t=Cee(e,"string");return Yo(t)=="symbol"?t:t+""}function Cee(e,t){if(Yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Yo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fo.apply(this,arguments)}function s3(e,t){if(e==null)return{};var r=Aee(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Aee(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Eee=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,i=t.x,s=t.y,l=t.width,d=t.height,u=t.ry;return _e.createElement("rect",{x:i,y:s,ry:u,width:l,height:d,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function IP(e,t){var r;if(_e.isValidElement(e))r=_e.cloneElement(e,t);else if(It(e))r=e(t);else{var a=t.x1,i=t.y1,s=t.x2,l=t.y2,d=t.key,u=s3(t,wee),f=zt(u,!1);f.offset;var p=s3(f,See);r=_e.createElement("line",Fo({},p,{x1:a,y1:i,x2:s,y2:l,fill:"none",key:d}))}return r}function _ee(e){var t=e.x,r=e.width,a=e.horizontal,i=a===void 0?!0:a,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(d,u){var f=Cn(Cn({},e),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return IP(i,f)});return _e.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Oee(e){var t=e.y,r=e.height,a=e.vertical,i=a===void 0?!0:a,s=e.verticalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(d,u){var f=Cn(Cn({},e),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return IP(i,f)});return _e.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function kee(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,i=e.y,s=e.width,l=e.height,d=e.horizontalPoints,u=e.horizontal,f=u===void 0?!0:u;if(!f||!t||!t.length)return null;var p=d.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==p[0]&&p.unshift(0);var m=p.map(function(g,v){var j=!p[v+1],b=j?i+l-g:p[v+1]-g;if(b<=0)return null;var y=v%t.length;return _e.createElement("rect",{key:"react-".concat(v),y:g,x:a,height:b,width:s,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _e.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Dee(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,i=e.fillOpacity,s=e.x,l=e.y,d=e.width,u=e.height,f=e.verticalPoints;if(!r||!a||!a.length)return null;var p=f.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==p[0]&&p.unshift(0);var m=p.map(function(g,v){var j=!p[v+1],b=j?s+d-g:p[v+1]-g;if(b<=0)return null;var y=v%a.length;return _e.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:b,height:u,stroke:"none",fill:a[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return _e.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Iee=function(t,r){var a=t.xAxis,i=t.width,s=t.height,l=t.offset;return GR(sS(Cn(Cn(Cn({},Jc.defaultProps),a),{},{ticks:Qi(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.left,l.left+l.width,r)},Ree=function(t,r){var a=t.yAxis,i=t.width,s=t.height,l=t.offset;return GR(sS(Cn(Cn(Cn({},Jc.defaultProps),a),{},{ticks:Qi(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.top,l.top+l.height,r)},Gl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function w2(e){var t,r,a,i,s,l,d=rS(),u=nS(),f=jJ(),p=Cn(Cn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Gl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Gl.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:Gl.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Gl.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Gl.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Gl.verticalFill,x:dt(e.x)?e.x:f.left,y:dt(e.y)?e.y:f.top,width:dt(e.width)?e.width:f.width,height:dt(e.height)?e.height:f.height}),m=p.x,g=p.y,v=p.width,j=p.height,b=p.syncWithTicks,y=p.horizontalValues,C=p.verticalValues,T=yJ(),E=vJ();if(!dt(v)||v<=0||!dt(j)||j<=0||!dt(m)||m!==+m||!dt(g)||g!==+g)return null;var S=p.verticalCoordinatesGenerator||Iee,A=p.horizontalCoordinatesGenerator||Ree,k=p.horizontalPoints,I=p.verticalPoints;if((!k||!k.length)&&It(A)){var B=y&&y.length,M=A({yAxis:E?Cn(Cn({},E),{},{ticks:B?y:E.ticks}):void 0,width:d,height:u,offset:f},B?!0:b);rs(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yo(M),"]")),Array.isArray(M)&&(k=M)}if((!I||!I.length)&&It(S)){var L=C&&C.length,F=S({xAxis:T?Cn(Cn({},T),{},{ticks:L?C:T.ticks}):void 0,width:d,height:u,offset:f},L?!0:b);rs(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yo(F),"]")),Array.isArray(F)&&(I=F)}return _e.createElement("g",{className:"recharts-cartesian-grid"},_e.createElement(Eee,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),_e.createElement(_ee,Fo({},p,{offset:f,horizontalPoints:k,xAxis:T,yAxis:E})),_e.createElement(Oee,Fo({},p,{offset:f,verticalPoints:I,xAxis:T,yAxis:E})),_e.createElement(kee,Fo({},p,{horizontalPoints:k})),_e.createElement(Dee,Fo({},p,{verticalPoints:I})))}w2.displayName="CartesianGrid";var Pee=["type","layout","connectNulls","ref"],Mee=["key"];function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function o3(e,t){if(e==null)return{};var r=Bee(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Bee(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tu.apply(this,arguments)}function l3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(r),!0).forEach(function(a){Za(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vl(e){return $ee(e)||zee(e)||Lee(e)||Fee()}function Fee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lee(e,t){if(e){if(typeof e=="string")return S2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S2(e,t)}}function zee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ee(e){if(Array.isArray(e))return S2(e)}function S2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Uee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c3(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,PP(a.key),a)}}function qee(e,t,r){return t&&c3(e.prototype,t),r&&c3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wee(e,t,r){return t=Am(t),Hee(e,RP()?Reflect.construct(t,r||[],Am(e).constructor):t.apply(e,r))}function Hee(e,t){if(t&&(Rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gee(e)}function Gee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RP=function(){return!!e})()}function Am(e){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(e)}function Vee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N2(e,t)}function N2(e,t){return N2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},N2(e,t)}function Za(e,t,r){return t=PP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PP(e){var t=Yee(e,"string");return Rc(t)=="symbol"?t:t+""}function Yee(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Rc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ff=function(e){function t(){var r;Uee(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=Wee(this,t,[].concat(i)),Za(r,"state",{isAnimationFinished:!0,totalLength:0}),Za(r,"generateSimpleStrokeDasharray",function(l,d){return"".concat(d,"px ").concat(l-d,"px")}),Za(r,"getStrokeDasharray",function(l,d,u){var f=u.reduce(function(C,T){return C+T});if(!f)return r.generateSimpleStrokeDasharray(d,l);for(var p=Math.floor(l/f),m=l%f,g=d-l,v=[],j=0,b=0;j<u.length;b+=u[j],++j)if(b+u[j]>m){v=[].concat(Vl(u.slice(0,j)),[m-b]);break}var y=v.length%2===0?[0,g]:[g];return[].concat(Vl(t.repeat(u,p)),Vl(v),y).map(function(C){return"".concat(C,"px")}).join(", ")}),Za(r,"id",kf("recharts-line-")),Za(r,"pathRef",function(l){r.mainCurve=l}),Za(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Za(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Vee(t,e),qee(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,d=s.xAxis,u=s.yAxis,f=s.layout,p=s.children,m=Ba(p,Bf);if(!m)return null;var g=function(b,y){return{x:b.x,y:b.y,value:b.value,errorVal:ga(b.payload,y)}},v={clipPath:a?"url(#clipPath-".concat(i,")"):null};return _e.createElement(Br,v,m.map(function(j){return _e.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:l,xAxis:d,yAxis:u,layout:f,dataPointFormatter:g})}))}},{key:"renderDots",value:function(a,i,s){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var d=this.props,u=d.dot,f=d.points,p=d.dataKey,m=zt(this.props,!1),g=zt(u,!0),v=f.map(function(b,y){var C=ca(ca(ca({key:"dot-".concat(y),r:3},m),g),{},{index:y,cx:b.x,cy:b.y,value:b.value,dataKey:p,payload:b.payload,points:f});return t.renderDotItem(u,C)}),j={clipPath:a?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return _e.createElement(Br,Tu({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(a,i,s,l){var d=this.props,u=d.type,f=d.layout,p=d.connectNulls;d.ref;var m=o3(d,Pee),g=ca(ca(ca({},zt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:a},l),{},{type:u,layout:f,connectNulls:p});return _e.createElement(e2,Tu({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,i){var s=this,l=this.props,d=l.points,u=l.strokeDasharray,f=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,g=l.animationEasing,v=l.animationId,j=l.animateNewValues,b=l.width,y=l.height,C=this.state,T=C.prevPoints,E=C.totalLength;return _e.createElement(fs,{begin:p,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var A=S.t;if(T){var k=T.length/d.length,I=d.map(function(_,G){var P=Math.floor(G*k);if(T[P]){var D=T[P],R=Ja(D.x,_.x),H=Ja(D.y,_.y);return ca(ca({},_),{},{x:R(A),y:H(A)})}if(j){var ne=Ja(b*2,_.x),me=Ja(y/2,_.y);return ca(ca({},_),{},{x:ne(A),y:me(A)})}return ca(ca({},_),{},{x:_.x,y:_.y})});return s.renderCurveStatically(I,a,i)}var B=Ja(0,E),M=B(A),L;if(u){var F="".concat(u).split(/[,\s]+/gim).map(function(_){return parseFloat(_)});L=s.getStrokeDasharray(M,E,F)}else L=s.generateSimpleStrokeDasharray(E,M);return s.renderCurveStatically(d,a,i,{strokeDasharray:L})})}},{key:"renderCurve",value:function(a,i){var s=this.props,l=s.points,d=s.isAnimationActive,u=this.state,f=u.prevPoints,p=u.totalLength;return d&&l&&l.length&&(!f&&p>0||!x0(f,l))?this.renderCurveWithAnimation(a,i):this.renderCurveStatically(l,a,i)}},{key:"render",value:function(){var a,i=this.props,s=i.hide,l=i.dot,d=i.points,u=i.className,f=i.xAxis,p=i.yAxis,m=i.top,g=i.left,v=i.width,j=i.height,b=i.isAnimationActive,y=i.id;if(s||!d||!d.length)return null;var C=this.state.isAnimationFinished,T=d.length===1,E=Vt("recharts-line",u),S=f&&f.allowDataOverflow,A=p&&p.allowDataOverflow,k=S||A,I=Ft(y)?this.id:y,B=(a=zt(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},M=B.r,L=M===void 0?3:M,F=B.strokeWidth,_=F===void 0?2:F,G=h$(l)?l:{},P=G.clipDot,D=P===void 0?!0:P,R=L*2+_;return _e.createElement(Br,{className:E},S||A?_e.createElement("defs",null,_e.createElement("clipPath",{id:"clipPath-".concat(I)},_e.createElement("rect",{x:S?g:g-v/2,y:A?m:m-j/2,width:S?v:v*2,height:A?j:j*2})),!D&&_e.createElement("clipPath",{id:"clipPath-dots-".concat(I)},_e.createElement("rect",{x:g-R/2,y:m-R/2,width:v+R,height:j+R}))):null,!T&&this.renderCurve(k,I),this.renderErrorBar(k,I),(T||l)&&this.renderDots(k,D,I),(!b||C)&&Qs.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:i.curPoints}:a.points!==i.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,i){for(var s=a.length%2!==0?[].concat(Vl(a),[0]):a,l=[],d=0;d<i;++d)l=[].concat(Vl(l),Vl(s));return l}},{key:"renderDotItem",value:function(a,i){var s;if(_e.isValidElement(a))s=_e.cloneElement(a,i);else if(It(a))s=a(i);else{var l=i.key,d=o3(i,Mee),u=Vt("recharts-line-dot",typeof a!="boolean"?a.className:"");s=_e.createElement(Zw,Tu({key:l},d,{className:u}))}return s}}])}(N.PureComponent);Za(Ff,"displayName","Line");Za(Ff,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Xc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Za(Ff,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,l=e.dataKey,d=e.bandSize,u=e.displayedData,f=e.offset,p=t.layout,m=u.map(function(g,v){var j=ga(g,l);return p==="horizontal"?{x:S6({axis:r,ticks:i,bandSize:d,entry:g,index:v}),y:Ft(j)?null:a.scale(j),value:j,payload:g}:{x:Ft(j)?null:r.scale(j),y:S6({axis:a,ticks:s,bandSize:d,entry:g,index:v}),value:j,payload:g}});return ca({points:m,layout:p},f)});function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function Xee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kee(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,FP(a.key),a)}}function Qee(e,t,r){return t&&Kee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zee(e,t,r){return t=Em(t),Jee(e,MP()?Reflect.construct(t,r||[],Em(e).constructor):t.apply(e,r))}function Jee(e,t){if(t&&(Pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ete(e)}function ete(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MP=function(){return!!e})()}function Em(e){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(e)}function tte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T2(e,t)}function T2(e,t){return T2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},T2(e,t)}function BP(e,t,r){return t=FP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FP(e){var t=rte(e,"string");return Pc(t)=="symbol"?t:t+""}function rte(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Pc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function C2(){return C2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},C2.apply(this,arguments)}function nte(e){var t=e.xAxisId,r=rS(),a=nS(),i=wP(t);return i==null?null:_e.createElement(Jc,C2({},i,{className:Vt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return Qi(l,!0)}}))}var Mc=function(e){function t(){return Xee(this,t),Zee(this,t,arguments)}return tte(t,e),Qee(t,[{key:"render",value:function(){return _e.createElement(nte,this.props)}}])}(_e.Component);BP(Mc,"displayName","XAxis");BP(Mc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function ate(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ite(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$P(a.key),a)}}function ste(e,t,r){return t&&ite(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ote(e,t,r){return t=_m(t),lte(e,LP()?Reflect.construct(t,r||[],_m(e).constructor):t.apply(e,r))}function lte(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cte(e)}function cte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!e})()}function _m(e){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(e)}function dte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A2(e,t)}function A2(e,t){return A2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},A2(e,t)}function zP(e,t,r){return t=$P(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $P(e){var t=ute(e,"string");return Bc(t)=="symbol"?t:t+""}function ute(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Bc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},E2.apply(this,arguments)}var fte=function(t){var r=t.yAxisId,a=rS(),i=nS(),s=SP(r);return s==null?null:_e.createElement(Jc,E2({},s,{className:Vt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:a,height:i},ticksGenerator:function(d){return Qi(d,!0)}}))},Fc=function(e){function t(){return ate(this,t),ote(this,t,arguments)}return dte(t,e),ste(t,[{key:"render",value:function(){return _e.createElement(fte,this.props)}}])}(_e.Component);zP(Fc,"displayName","YAxis");zP(Fc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function d3(e){return xte(e)||mte(e)||pte(e)||hte()}function hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pte(e,t){if(e){if(typeof e=="string")return _2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _2(e,t)}}function mte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xte(e){if(Array.isArray(e))return _2(e)}function _2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var O2=function(t,r,a,i,s){var l=Ba(t,iS),d=Ba(t,S0),u=[].concat(d3(l),d3(d)),f=Ba(t,T0),p="".concat(i,"Id"),m=i[0],g=r;if(u.length&&(g=u.reduce(function(b,y){if(y.props[p]===a&&Si(y.props,"extendDomain")&&dt(y.props[m])){var C=y.props[m];return[Math.min(b[0],C),Math.max(b[1],C)]}return b},g)),f.length){var v="".concat(m,"1"),j="".concat(m,"2");g=f.reduce(function(b,y){if(y.props[p]===a&&Si(y.props,"extendDomain")&&dt(y.props[v])&&dt(y.props[j])){var C=y.props[v],T=y.props[j];return[Math.min(b[0],C,T),Math.max(b[1],C,T)]}return b},g)}return s&&s.length&&(g=s.reduce(function(b,y){return dt(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},g)),g},Y1={exports:{}},u3;function gte(){return u3||(u3=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function i(u,f,p){this.fn=u,this.context=f,this.once=p||!1}function s(u,f,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new i(p,m||u,g),j=r?r+f:f;return u._events[j]?u._events[j].fn?u._events[j]=[u._events[j],v]:u._events[j].push(v):(u._events[j]=v,u._eventsCount++),u}function l(u,f){--u._eventsCount===0?u._events=new a:delete u._events[f]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},d.prototype.listeners=function(f){var p=r?r+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,v=m.length,j=new Array(v);g<v;g++)j[g]=m[g].fn;return j},d.prototype.listenerCount=function(f){var p=r?r+f:f,m=this._events[p];return m?m.fn?1:m.length:0},d.prototype.emit=function(f,p,m,g,v,j){var b=r?r+f:f;if(!this._events[b])return!1;var y=this._events[b],C=arguments.length,T,E;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),C){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,p),!0;case 3:return y.fn.call(y.context,p,m),!0;case 4:return y.fn.call(y.context,p,m,g),!0;case 5:return y.fn.call(y.context,p,m,g,v),!0;case 6:return y.fn.call(y.context,p,m,g,v,j),!0}for(E=1,T=new Array(C-1);E<C;E++)T[E-1]=arguments[E];y.fn.apply(y.context,T)}else{var S=y.length,A;for(E=0;E<S;E++)switch(y[E].once&&this.removeListener(f,y[E].fn,void 0,!0),C){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,p);break;case 3:y[E].fn.call(y[E].context,p,m);break;case 4:y[E].fn.call(y[E].context,p,m,g);break;default:if(!T)for(A=1,T=new Array(C-1);A<C;A++)T[A-1]=arguments[A];y[E].fn.apply(y[E].context,T)}}return!0},d.prototype.on=function(f,p,m){return s(this,f,p,m,!1)},d.prototype.once=function(f,p,m){return s(this,f,p,m,!0)},d.prototype.removeListener=function(f,p,m,g){var v=r?r+f:f;if(!this._events[v])return this;if(!p)return l(this,v),this;var j=this._events[v];if(j.fn)j.fn===p&&(!g||j.once)&&(!m||j.context===m)&&l(this,v);else{for(var b=0,y=[],C=j.length;b<C;b++)(j[b].fn!==p||g&&!j[b].once||m&&j[b].context!==m)&&y.push(j[b]);y.length?this._events[v]=y.length===1?y[0]:y:l(this,v)}return this},d.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&l(this,p)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d}(Y1)),Y1.exports}var yte=gte();const vte=mr(yte);var X1=new vte,K1="recharts.syncMouseEvents";function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function bte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jte(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,UP(a.key),a)}}function wte(e,t,r){return t&&jte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q1(e,t,r){return t=UP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UP(e){var t=Ste(e,"string");return mf(t)=="symbol"?t:t+""}function Ste(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(mf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nte=function(){function e(){bte(this,e),Q1(this,"activeIndex",0),Q1(this,"coordinateList",[]),Q1(this,"layout","horizontal")}return wte(e,[{key:"setDetails",value:function(r){var a,i=r.coordinateList,s=i===void 0?null:i,l=r.container,d=l===void 0?null:l,u=r.layout,f=u===void 0?null:u,p=r.offset,m=p===void 0?null:p,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(a=s??this.coordinateList)!==null&&a!==void 0?a:[],this.container=d??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,l=i.y,d=i.height,u=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((a=window)===null||a===void 0?void 0:a.scrollY)||0,m=s+u+f,g=l+this.offset.top+d/2+p;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])}();function Tte(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],i=e==null?void 0:e[1];if(a&&i&&dt(a)&&dt(i))return!0}return!1}function Cte(e,t,r,a){var i=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function qP(e){var t=e.cx,r=e.cy,a=e.radius,i=e.startAngle,s=e.endAngle,l=gn(t,r,a,i),d=gn(t,r,a,s);return{points:[l,d],cx:t,cy:r,radius:a,startAngle:i,endAngle:s}}function Ate(e,t,r){var a,i,s,l;if(e==="horizontal")a=t.x,s=a,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,a=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var d=t.cx,u=t.cy,f=t.innerRadius,p=t.outerRadius,m=t.angle,g=gn(d,u,f,m),v=gn(d,u,p,m);a=g.x,i=g.y,s=v.x,l=v.y}else return qP(t);return[{x:a,y:i},{x:s,y:l}]}function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function f3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function pp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(r),!0).forEach(function(a){Ete(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ete(e,t,r){return t=_te(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=Ote(e,"string");return xf(t)=="symbol"?t:t+""}function Ote(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(xf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kte(e){var t,r,a=e.element,i=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,d=e.activePayload,u=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,g=e.chartName,v=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!v||!s||!l||g!=="ScatterChart"&&i!=="axis")return null;var j,b=e2;if(g==="ScatterChart")j=l,b=_Q;else if(g==="BarChart")j=Cte(m,l,u,p),b=Qw;else if(m==="radial"){var y=qP(l),C=y.cx,T=y.cy,E=y.radius,S=y.startAngle,A=y.endAngle;j={cx:C,cy:T,startAngle:S,endAngle:A,innerRadius:E,outerRadius:E},b=QR}else j={points:Ate(m,l,u)},b=e2;var k=pp(pp(pp(pp({stroke:"#ccc",pointerEvents:"none"},u),j),zt(v,!1)),{},{payload:d,payloadIndex:f,className:Vt("recharts-tooltip-cursor",v.className)});return N.isValidElement(v)?N.cloneElement(v,k):N.createElement(b,k)}var Dte=["item"],Ite=["children","className","width","height","style","compact","title","desc"];function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rc.apply(this,arguments)}function h3(e,t){return Mte(e)||Pte(e,t)||HP(e,t)||Rte()}function Rte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function Mte(e){if(Array.isArray(e))return e}function p3(e,t){if(e==null)return{};var r=Bte(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Bte(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Fte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lte(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,GP(a.key),a)}}function zte(e,t,r){return t&&Lte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $te(e,t,r){return t=Om(t),Ute(e,WP()?Reflect.construct(t,r||[],Om(e).constructor):t.apply(e,r))}function Ute(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qte(e)}function qte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WP=function(){return!!e})()}function Om(e){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(e)}function Wte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k2(e,t)}function k2(e,t){return k2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},k2(e,t)}function zc(e){return Vte(e)||Gte(e)||HP(e)||Hte()}function Hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HP(e,t){if(e){if(typeof e=="string")return D2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D2(e,t)}}function Gte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vte(e){if(Array.isArray(e))return D2(e)}function D2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function m3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(r),!0).forEach(function(a){St(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function St(e,t,r){return t=GP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GP(e){var t=Yte(e,"string");return Lc(t)=="symbol"?t:t+""}function Yte(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Lc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xte={xAxis:["bottom","top"],yAxis:["left","right"]},Kte={width:"100%",height:"100%"},VP={x:0,y:0};function mp(e){return e}var Qte=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Zte=function(t,r,a,i){var s=r.find(function(p){return p&&p.index===a});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var l=s.coordinate,d=i.radius;return Ve(Ve(Ve({},i),gn(i.cx,i.cy,d,l)),{},{angle:l,radius:d})}var u=s.coordinate,f=i.angle;return Ve(Ve(Ve({},i),gn(i.cx,i.cy,u,f)),{},{angle:f,radius:u})}return VP},C0=function(t,r){var a=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,l=(a??[]).reduce(function(d,u){var f=u.props.data;return f&&f.length?[].concat(zc(d),zc(f)):d},[]);return l.length>0?l:t&&t.length&&dt(i)&&dt(s)?t.slice(i,s+1):[]};function YP(e){return e==="number"?[0,"auto"]:void 0}var I2=function(t,r,a,i){var s=t.graphicalItems,l=t.tooltipAxis,d=C0(r,t);return a<0||!s||!s.length||a>=d.length?null:s.reduce(function(u,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var v=m===void 0?d:m;g=Pp(v,l.dataKey,i)}else g=m&&m[a]||d[a];return g?[].concat(zc(u),[YR(f,g)]):u},[])},x3=function(t,r,a,i){var s=i||{x:t.chartX,y:t.chartY},l=Qte(s,a),d=t.orderedTooltipTicks,u=t.tooltipAxis,f=t.tooltipTicks,p=fY(l,d,f,u);if(p>=0&&f){var m=f[p]&&f[p].value,g=I2(t,r,p,m),v=Zte(a,d,p,s);return{activeTooltipIndex:p,activeLabel:m,activePayload:g,activeCoordinate:v}}return null},Jte=function(t,r){var a=r.axes,i=r.graphicalItems,s=r.axisType,l=r.axisIdKey,d=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,g=t.stackOffset,v=HR(p,s);return a.reduce(function(j,b){var y,C=b.type.defaultProps!==void 0?Ve(Ve({},b.type.defaultProps),b.props):b.props,T=C.type,E=C.dataKey,S=C.allowDataOverflow,A=C.allowDuplicatedCategory,k=C.scale,I=C.ticks,B=C.includeHidden,M=C[l];if(j[M])return j;var L=C0(t.data,{graphicalItems:i.filter(function(z){var te,U=l in z.props?z.props[l]:(te=z.type.defaultProps)===null||te===void 0?void 0:te[l];return U===M}),dataStartIndex:u,dataEndIndex:f}),F=L.length,_,G,P;Tte(C.domain,S,T)&&(_=Xj(C.domain,null,S),v&&(T==="number"||k!=="auto")&&(P=Su(L,E,"category")));var D=YP(T);if(!_||_.length===0){var R,H=(R=C.domain)!==null&&R!==void 0?R:D;if(E){if(_=Su(L,E,T),T==="category"&&v){var ne=n$(_);A&&ne?(G=_,_=gm(0,F)):A||(_=A6(H,_,b).reduce(function(z,te){return z.indexOf(te)>=0?z:[].concat(zc(z),[te])},[]))}else if(T==="category")A?_=_.filter(function(z){return z!==""&&!Ft(z)}):_=A6(H,_,b).reduce(function(z,te){return z.indexOf(te)>=0||te===""||Ft(te)?z:[].concat(zc(z),[te])},[]);else if(T==="number"){var me=gY(L,i.filter(function(z){var te,U,ee=l in z.props?z.props[l]:(te=z.type.defaultProps)===null||te===void 0?void 0:te[l],le="hide"in z.props?z.props.hide:(U=z.type.defaultProps)===null||U===void 0?void 0:U.hide;return ee===M&&(B||!le)}),E,s,p);me&&(_=me)}v&&(T==="number"||k!=="auto")&&(P=Su(L,E,"category"))}else v?_=gm(0,F):d&&d[M]&&d[M].hasStack&&T==="number"?_=g==="expand"?[0,1]:VR(d[M].stackGroups,u,f):_=WR(L,i.filter(function(z){var te=l in z.props?z.props[l]:z.type.defaultProps[l],U="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return te===M&&(B||!U)}),T,p,!0);if(T==="number")_=O2(m,_,M,s,I),H&&(_=Xj(H,_,S));else if(T==="category"&&H){var q=H,X=_.every(function(z){return q.indexOf(z)>=0});X&&(_=q)}}return Ve(Ve({},j),{},St({},M,Ve(Ve({},C),{},{axisType:s,domain:_,categoricalDomain:P,duplicateDomain:G,originalDomain:(y=C.domain)!==null&&y!==void 0?y:D,isCategorical:v,layout:p})))},{})},ere=function(t,r){var a=r.graphicalItems,i=r.Axis,s=r.axisType,l=r.axisIdKey,d=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,g=C0(t.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:f}),v=g.length,j=HR(p,s),b=-1;return a.reduce(function(y,C){var T=C.type.defaultProps!==void 0?Ve(Ve({},C.type.defaultProps),C.props):C.props,E=T[l],S=YP("number");if(!y[E]){b++;var A;return j?A=gm(0,v):d&&d[E]&&d[E].hasStack?(A=VR(d[E].stackGroups,u,f),A=O2(m,A,E,s)):(A=Xj(S,WR(g,a.filter(function(k){var I,B,M=l in k.props?k.props[l]:(I=k.type.defaultProps)===null||I===void 0?void 0:I[l],L="hide"in k.props?k.props.hide:(B=k.type.defaultProps)===null||B===void 0?void 0:B.hide;return M===E&&!L}),"number",p),i.defaultProps.allowDataOverflow),A=O2(m,A,E,s)),Ve(Ve({},y),{},St({},E,Ve(Ve({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ma(Xte,"".concat(s,".").concat(b%2),null),domain:A,originalDomain:S,isCategorical:j,layout:p})))}return y},{})},tre=function(t,r){var a=r.axisType,i=a===void 0?"xAxis":a,s=r.AxisComp,l=r.graphicalItems,d=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,p=t.children,m="".concat(i,"Id"),g=Ba(p,s),v={};return g&&g.length?v=Jte(t,{axes:g,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:d,dataStartIndex:u,dataEndIndex:f}):l&&l.length&&(v=ere(t,{Axis:s,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:d,dataStartIndex:u,dataEndIndex:f})),v},rre=function(t){var r=Hs(t),a=Qi(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:Nw(a,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:lm(r,a)}},g3=function(t){var r=t.children,a=t.defaultShowTooltip,i=fa(r,Ec),s=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},nre=function(t){return!t||!t.length?!1:t.some(function(r){var a=ts(r&&r.type);return a&&a.indexOf("Bar")>=0})},y3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},are=function(t,r){var a=t.props,i=t.graphicalItems,s=t.xAxisMap,l=s===void 0?{}:s,d=t.yAxisMap,u=d===void 0?{}:d,f=a.width,p=a.height,m=a.children,g=a.margin||{},v=fa(m,Ec),j=fa(m,sc),b=Object.keys(u).reduce(function(A,k){var I=u[k],B=I.orientation;return!I.mirror&&!I.hide?Ve(Ve({},A),{},St({},B,A[B]+I.width)):A},{left:g.left||0,right:g.right||0}),y=Object.keys(l).reduce(function(A,k){var I=l[k],B=I.orientation;return!I.mirror&&!I.hide?Ve(Ve({},A),{},St({},B,Ma(A,"".concat(B))+I.height)):A},{top:g.top||0,bottom:g.bottom||0}),C=Ve(Ve({},y),b),T=C.bottom;v&&(C.bottom+=v.props.height||Ec.defaultProps.height),j&&r&&(C=mY(C,i,a,r));var E=f-C.left-C.right,S=p-C.top-C.bottom;return Ve(Ve({brushBottom:T},C),{},{width:Math.max(E,0),height:Math.max(S,0)})},ire=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},XP=function(t){var r=t.chartName,a=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,l=t.validateTooltipEventTypes,d=l===void 0?["axis"]:l,u=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,g=function(C,T){var E=T.graphicalItems,S=T.stackGroups,A=T.offset,k=T.updateId,I=T.dataStartIndex,B=T.dataEndIndex,M=C.barSize,L=C.layout,F=C.barGap,_=C.barCategoryGap,G=C.maxBarSize,P=y3(L),D=P.numericAxisName,R=P.cateAxisName,H=nre(E),ne=[];return E.forEach(function(me,q){var X=C0(C.data,{graphicalItems:[me],dataStartIndex:I,dataEndIndex:B}),z=me.type.defaultProps!==void 0?Ve(Ve({},me.type.defaultProps),me.props):me.props,te=z.dataKey,U=z.maxBarSize,ee=z["".concat(D,"Id")],le=z["".concat(R,"Id")],ce={},je=u.reduce(function(W,Z){var Q=T["".concat(Z.axisType,"Map")],be=z["".concat(Z.axisType,"Id")];Q&&Q[be]||Z.axisType==="zAxis"||Vo();var Me=Q[be];return Ve(Ve({},W),{},St(St({},Z.axisType,Me),"".concat(Z.axisType,"Ticks"),Qi(Me)))},ce),ie=je[R],ve=je["".concat(R,"Ticks")],Ne=S&&S[ee]&&S[ee].hasStack&&_Y(me,S[ee].stackGroups),ge=ts(me.type).indexOf("Bar")>=0,Ye=lm(ie,ve),Te=[],qe=H&&hY({barSize:M,stackGroups:S,totalSize:ire(je,R)});if(ge){var V,fe,Ee=Ft(U)?G:U,K=(V=(fe=lm(ie,ve,!0))!==null&&fe!==void 0?fe:Ee)!==null&&V!==void 0?V:0;Te=pY({barGap:F,barCategoryGap:_,bandSize:K!==Ye?K:Ye,sizeList:qe[le],maxBarSize:Ee}),K!==Ye&&(Te=Te.map(function(W){return Ve(Ve({},W),{},{position:Ve(Ve({},W.position),{},{offset:W.position.offset-K/2})})}))}var re=me&&me.type&&me.type.getComposedData;re&&ne.push({props:Ve(Ve({},re(Ve(Ve({},je),{},{displayedData:X,props:C,dataKey:te,item:me,bandSize:Ye,barPosition:Te,offset:A,stackedData:Ne,layout:L,dataStartIndex:I,dataEndIndex:B}))),{},St(St(St({key:me.key||"item-".concat(q)},D,je[D]),R,je[R]),"animationId",k)),childIndex:x$(me,C.children),item:me})}),ne},v=function(C,T){var E=C.props,S=C.dataStartIndex,A=C.dataEndIndex,k=C.updateId;if(!zE({props:E}))return null;var I=E.children,B=E.layout,M=E.stackOffset,L=E.data,F=E.reverseStackOrder,_=y3(B),G=_.numericAxisName,P=_.cateAxisName,D=Ba(I,a),R=CY(L,D,"".concat(G,"Id"),"".concat(P,"Id"),M,F),H=u.reduce(function(z,te){var U="".concat(te.axisType,"Map");return Ve(Ve({},z),{},St({},U,tre(E,Ve(Ve({},te),{},{graphicalItems:D,stackGroups:te.axisType===G&&R,dataStartIndex:S,dataEndIndex:A}))))},{}),ne=are(Ve(Ve({},H),{},{props:E,graphicalItems:D}),T==null?void 0:T.legendBBox);Object.keys(H).forEach(function(z){H[z]=p(E,H[z],ne,z.replace("Map",""),r)});var me=H["".concat(P,"Map")],q=rre(me),X=g(E,Ve(Ve({},H),{},{dataStartIndex:S,dataEndIndex:A,updateId:k,graphicalItems:D,stackGroups:R,offset:ne}));return Ve(Ve({formattedGraphicalItems:X,graphicalItems:D,offset:ne,stackGroups:R},q),H)},j=function(y){function C(T){var E,S,A;return Fte(this,C),A=$te(this,C,[T]),St(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),St(A,"accessibilityManager",new Nte),St(A,"handleLegendBBoxUpdate",function(k){if(k){var I=A.state,B=I.dataStartIndex,M=I.dataEndIndex,L=I.updateId;A.setState(Ve({legendBBox:k},v({props:A.props,dataStartIndex:B,dataEndIndex:M,updateId:L},Ve(Ve({},A.state),{},{legendBBox:k}))))}}),St(A,"handleReceiveSyncEvent",function(k,I,B){if(A.props.syncId===k){if(B===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(I)}}),St(A,"handleBrushChange",function(k){var I=k.startIndex,B=k.endIndex;if(I!==A.state.dataStartIndex||B!==A.state.dataEndIndex){var M=A.state.updateId;A.setState(function(){return Ve({dataStartIndex:I,dataEndIndex:B},v({props:A.props,dataStartIndex:I,dataEndIndex:B,updateId:M},A.state))}),A.triggerSyncEvent({dataStartIndex:I,dataEndIndex:B})}}),St(A,"handleMouseEnter",function(k){var I=A.getMouseInfo(k);if(I){var B=Ve(Ve({},I),{},{isTooltipActive:!0});A.setState(B),A.triggerSyncEvent(B);var M=A.props.onMouseEnter;It(M)&&M(B,k)}}),St(A,"triggeredAfterMouseMove",function(k){var I=A.getMouseInfo(k),B=I?Ve(Ve({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(B),A.triggerSyncEvent(B);var M=A.props.onMouseMove;It(M)&&M(B,k)}),St(A,"handleItemMouseEnter",function(k){A.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),St(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),St(A,"handleMouseMove",function(k){k.persist(),A.throttleTriggeredAfterMouseMove(k)}),St(A,"handleMouseLeave",function(k){A.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};A.setState(I),A.triggerSyncEvent(I);var B=A.props.onMouseLeave;It(B)&&B(I,k)}),St(A,"handleOuterEvent",function(k){var I=m$(k),B=Ma(A.props,"".concat(I));if(I&&It(B)){var M,L;/.*touch.*/i.test(I)?L=A.getMouseInfo(k.changedTouches[0]):L=A.getMouseInfo(k),B((M=L)!==null&&M!==void 0?M:{},k)}}),St(A,"handleClick",function(k){var I=A.getMouseInfo(k);if(I){var B=Ve(Ve({},I),{},{isTooltipActive:!0});A.setState(B),A.triggerSyncEvent(B);var M=A.props.onClick;It(M)&&M(B,k)}}),St(A,"handleMouseDown",function(k){var I=A.props.onMouseDown;if(It(I)){var B=A.getMouseInfo(k);I(B,k)}}),St(A,"handleMouseUp",function(k){var I=A.props.onMouseUp;if(It(I)){var B=A.getMouseInfo(k);I(B,k)}}),St(A,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),St(A,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&A.handleMouseDown(k.changedTouches[0])}),St(A,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&A.handleMouseUp(k.changedTouches[0])}),St(A,"handleDoubleClick",function(k){var I=A.props.onDoubleClick;if(It(I)){var B=A.getMouseInfo(k);I(B,k)}}),St(A,"handleContextMenu",function(k){var I=A.props.onContextMenu;if(It(I)){var B=A.getMouseInfo(k);I(B,k)}}),St(A,"triggerSyncEvent",function(k){A.props.syncId!==void 0&&X1.emit(K1,A.props.syncId,k,A.eventEmitterSymbol)}),St(A,"applySyncEvent",function(k){var I=A.props,B=I.layout,M=I.syncMethod,L=A.state.updateId,F=k.dataStartIndex,_=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)A.setState(Ve({dataStartIndex:F,dataEndIndex:_},v({props:A.props,dataStartIndex:F,dataEndIndex:_,updateId:L},A.state)));else if(k.activeTooltipIndex!==void 0){var G=k.chartX,P=k.chartY,D=k.activeTooltipIndex,R=A.state,H=R.offset,ne=R.tooltipTicks;if(!H)return;if(typeof M=="function")D=M(ne,k);else if(M==="value"){D=-1;for(var me=0;me<ne.length;me++)if(ne[me].value===k.activeLabel){D=me;break}}var q=Ve(Ve({},H),{},{x:H.left,y:H.top}),X=Math.min(G,q.x+q.width),z=Math.min(P,q.y+q.height),te=ne[D]&&ne[D].value,U=I2(A.state,A.props.data,D),ee=ne[D]?{x:B==="horizontal"?ne[D].coordinate:X,y:B==="horizontal"?z:ne[D].coordinate}:VP;A.setState(Ve(Ve({},k),{},{activeLabel:te,activeCoordinate:ee,activePayload:U,activeTooltipIndex:D}))}else A.setState(k)}),St(A,"renderCursor",function(k){var I,B=A.state,M=B.isTooltipActive,L=B.activeCoordinate,F=B.activePayload,_=B.offset,G=B.activeTooltipIndex,P=B.tooltipAxisBandSize,D=A.getTooltipEventType(),R=(I=k.props.active)!==null&&I!==void 0?I:M,H=A.props.layout,ne=k.key||"_recharts-cursor";return _e.createElement(kte,{key:ne,activeCoordinate:L,activePayload:F,activeTooltipIndex:G,chartName:r,element:k,isActive:R,layout:H,offset:_,tooltipAxisBandSize:P,tooltipEventType:D})}),St(A,"renderPolarAxis",function(k,I,B){var M=Ma(k,"type.axisType"),L=Ma(A.state,"".concat(M,"Map")),F=k.type.defaultProps,_=F!==void 0?Ve(Ve({},F),k.props):k.props,G=L&&L[_["".concat(M,"Id")]];return N.cloneElement(k,Ve(Ve({},G),{},{className:Vt(M,G.className),key:k.key||"".concat(I,"-").concat(B),ticks:Qi(G,!0)}))}),St(A,"renderPolarGrid",function(k){var I=k.props,B=I.radialLines,M=I.polarAngles,L=I.polarRadius,F=A.state,_=F.radiusAxisMap,G=F.angleAxisMap,P=Hs(_),D=Hs(G),R=D.cx,H=D.cy,ne=D.innerRadius,me=D.outerRadius;return N.cloneElement(k,{polarAngles:Array.isArray(M)?M:Qi(D,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(L)?L:Qi(P,!0).map(function(q){return q.coordinate}),cx:R,cy:H,innerRadius:ne,outerRadius:me,key:k.key||"polar-grid",radialLines:B})}),St(A,"renderLegend",function(){var k=A.state.formattedGraphicalItems,I=A.props,B=I.children,M=I.width,L=I.height,F=A.props.margin||{},_=M-(F.left||0)-(F.right||0),G=UR({children:B,formattedGraphicalItems:k,legendWidth:_,legendContent:f});if(!G)return null;var P=G.item,D=p3(G,Dte);return N.cloneElement(P,Ve(Ve({},D),{},{chartWidth:M,chartHeight:L,margin:F,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),St(A,"renderTooltip",function(){var k,I=A.props,B=I.children,M=I.accessibilityLayer,L=fa(B,Ka);if(!L)return null;var F=A.state,_=F.isTooltipActive,G=F.activeCoordinate,P=F.activePayload,D=F.activeLabel,R=F.offset,H=(k=L.props.active)!==null&&k!==void 0?k:_;return N.cloneElement(L,{viewBox:Ve(Ve({},R),{},{x:R.left,y:R.top}),active:H,label:D,payload:H?P:[],coordinate:G,accessibilityLayer:M})}),St(A,"renderBrush",function(k){var I=A.props,B=I.margin,M=I.data,L=A.state,F=L.offset,_=L.dataStartIndex,G=L.dataEndIndex,P=L.updateId;return N.cloneElement(k,{key:k.key||"_recharts-brush",onChange:dp(A.handleBrushChange,k.props.onChange),data:M,x:dt(k.props.x)?k.props.x:F.left,y:dt(k.props.y)?k.props.y:F.top+F.height+F.brushBottom-(B.bottom||0),width:dt(k.props.width)?k.props.width:F.width,startIndex:_,endIndex:G,updateId:"brush-".concat(P)})}),St(A,"renderReferenceElement",function(k,I,B){if(!k)return null;var M=A,L=M.clipPathId,F=A.state,_=F.xAxisMap,G=F.yAxisMap,P=F.offset,D=k.type.defaultProps||{},R=k.props,H=R.xAxisId,ne=H===void 0?D.xAxisId:H,me=R.yAxisId,q=me===void 0?D.yAxisId:me;return N.cloneElement(k,{key:k.key||"".concat(I,"-").concat(B),xAxis:_[ne],yAxis:G[q],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:L})}),St(A,"renderActivePoints",function(k){var I=k.item,B=k.activePoint,M=k.basePoint,L=k.childIndex,F=k.isRange,_=[],G=I.props.key,P=I.item.type.defaultProps!==void 0?Ve(Ve({},I.item.type.defaultProps),I.item.props):I.item.props,D=P.activeDot,R=P.dataKey,H=Ve(Ve({index:L,dataKey:R,cx:B.x,cy:B.y,r:4,fill:Kw(I.item),strokeWidth:2,stroke:"#fff",payload:B.payload,value:B.value},zt(D,!1)),Mp(D));return _.push(C.renderActiveDot(D,H,"".concat(G,"-activePoint-").concat(L))),M?_.push(C.renderActiveDot(D,Ve(Ve({},H),{},{cx:M.x,cy:M.y}),"".concat(G,"-basePoint-").concat(L))):F&&_.push(null),_}),St(A,"renderGraphicChild",function(k,I,B){var M=A.filterFormatItem(k,I,B);if(!M)return null;var L=A.getTooltipEventType(),F=A.state,_=F.isTooltipActive,G=F.tooltipAxis,P=F.activeTooltipIndex,D=F.activeLabel,R=A.props.children,H=fa(R,Ka),ne=M.props,me=ne.points,q=ne.isRange,X=ne.baseLine,z=M.item.type.defaultProps!==void 0?Ve(Ve({},M.item.type.defaultProps),M.item.props):M.item.props,te=z.activeDot,U=z.hide,ee=z.activeBar,le=z.activeShape,ce=!!(!U&&_&&H&&(te||ee||le)),je={};L!=="axis"&&H&&H.props.trigger==="click"?je={onClick:dp(A.handleItemMouseEnter,k.props.onClick)}:L!=="axis"&&(je={onMouseLeave:dp(A.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:dp(A.handleItemMouseEnter,k.props.onMouseEnter)});var ie=N.cloneElement(k,Ve(Ve({},M.props),je));function ve(Z){return typeof G.dataKey=="function"?G.dataKey(Z.payload):null}if(ce)if(P>=0){var Ne,ge;if(G.dataKey&&!G.allowDuplicatedCategory){var Ye=typeof G.dataKey=="function"?ve:"payload.".concat(G.dataKey.toString());Ne=Pp(me,Ye,D),ge=q&&X&&Pp(X,Ye,D)}else Ne=me==null?void 0:me[P],ge=q&&X&&X[P];if(le||ee){var Te=k.props.activeIndex!==void 0?k.props.activeIndex:P;return[N.cloneElement(k,Ve(Ve(Ve({},M.props),je),{},{activeIndex:Te})),null,null]}if(!Ft(Ne))return[ie].concat(zc(A.renderActivePoints({item:M,activePoint:Ne,basePoint:ge,childIndex:P,isRange:q})))}else{var qe,V=(qe=A.getItemByXY(A.state.activeCoordinate))!==null&&qe!==void 0?qe:{graphicalItem:ie},fe=V.graphicalItem,Ee=fe.item,K=Ee===void 0?k:Ee,re=fe.childIndex,W=Ve(Ve(Ve({},M.props),je),{},{activeIndex:re});return[N.cloneElement(K,W),null,null]}return q?[ie,null,null]:[ie,null]}),St(A,"renderCustomized",function(k,I,B){return N.cloneElement(k,Ve(Ve({key:"recharts-customized-".concat(B)},A.props),A.state))}),St(A,"renderMap",{CartesianGrid:{handler:mp,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:mp},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:mp},YAxis:{handler:mp},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((E=T.id)!==null&&E!==void 0?E:kf("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=$I(A.triggeredAfterMouseMove,(S=T.throttleDelay)!==null&&S!==void 0?S:1e3/60),A.state={},A}return Wte(C,y),zte(C,[{key:"componentDidMount",value:function(){var E,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,S=E.children,A=E.data,k=E.height,I=E.layout,B=fa(S,Ka);if(B){var M=B.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,F=I2(this.state,A,M,L),_=this.state.tooltipTicks[M].coordinate,G=(this.state.offset.top+k)/2,P=I==="horizontal",D=P?{x:_,y:G}:{y:_,x:G},R=this.state.formattedGraphicalItems.find(function(ne){var me=ne.item;return me.type.name==="Scatter"});R&&(D=Ve(Ve({},D),R.props.points[M].tooltipPosition),F=R.props.points[M].tooltipPayload);var H={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:L,activePayload:F,activeCoordinate:D};this.setState(H),this.renderCursor(B),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var A,k;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(E){gj([fa(E.children,Ka)],[fa(this.props.children,Ka)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=fa(this.props.children,Ka);if(E&&typeof E.props.shared=="boolean"){var S=E.props.shared?"axis":"item";return d.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var S=this.container,A=S.getBoundingClientRect(),k=rW(A),I={chartX:Math.round(E.pageX-k.left),chartY:Math.round(E.pageY-k.top)},B=A.width/S.offsetWidth||1,M=this.inRange(I.chartX,I.chartY,B);if(!M)return null;var L=this.state,F=L.xAxisMap,_=L.yAxisMap,G=this.getTooltipEventType(),P=x3(this.state,this.props.data,this.props.layout,M);if(G!=="axis"&&F&&_){var D=Hs(F).scale,R=Hs(_).scale,H=D&&D.invert?D.invert(I.chartX):null,ne=R&&R.invert?R.invert(I.chartY):null;return Ve(Ve({},I),{},{xValue:H,yValue:ne},P)}return P?Ve(Ve({},I),P):null}},{key:"inRange",value:function(E,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,I=E/A,B=S/A;if(k==="horizontal"||k==="vertical"){var M=this.state.offset,L=I>=M.left&&I<=M.left+M.width&&B>=M.top&&B<=M.top+M.height;return L?{x:I,y:B}:null}var F=this.state,_=F.angleAxisMap,G=F.radiusAxisMap;if(_&&G){var P=Hs(_);return O6({x:I,y:B},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,S=this.getTooltipEventType(),A=fa(E,Ka),k={};A&&S==="axis"&&(A.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Mp(this.props,this.handleOuterEvent);return Ve(Ve({},I),k)}},{key:"addListener",value:function(){X1.on(K1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){X1.removeListener(K1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,S,A){for(var k=this.state.formattedGraphicalItems,I=0,B=k.length;I<B;I++){var M=k[I];if(M.item===E||M.props.key===E.key||S===ts(M.item.type)&&A===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,S=this.state.offset,A=S.left,k=S.top,I=S.height,B=S.width;return _e.createElement("defs",null,_e.createElement("clipPath",{id:E},_e.createElement("rect",{x:A,y:k,height:I,width:B})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(S,A){var k=h3(A,2),I=k[0],B=k[1];return Ve(Ve({},S),{},St({},I,B.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(S,A){var k=h3(A,2),I=k[0],B=k[1];return Ve(Ve({},S),{},St({},I,B.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[E])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(E){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[E])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(E){var S=this.state,A=S.formattedGraphicalItems,k=S.activeItem;if(A&&A.length)for(var I=0,B=A.length;I<B;I++){var M=A[I],L=M.props,F=M.item,_=F.type.defaultProps!==void 0?Ve(Ve({},F.type.defaultProps),F.props):F.props,G=ts(F.type);if(G==="Bar"){var P=(L.data||[]).find(function(ne){return vQ(E,ne)});if(P)return{graphicalItem:M,payload:P}}else if(G==="RadialBar"){var D=(L.data||[]).find(function(ne){return O6(E,ne)});if(D)return{graphicalItem:M,payload:D}}else if(v0(M,k)||b0(M,k)||df(M,k)){var R=cZ({graphicalItem:M,activeTooltipItem:k,itemData:_.data}),H=_.activeIndex===void 0?R:_.activeIndex;return{graphicalItem:Ve(Ve({},M),{},{childIndex:H}),payload:df(M,k)?_.data[R]:M.props.data[R]}}}return null}},{key:"render",value:function(){var E=this;if(!zE(this))return null;var S=this.props,A=S.children,k=S.className,I=S.width,B=S.height,M=S.style,L=S.compact,F=S.title,_=S.desc,G=p3(S,Ite),P=zt(G,!1);if(L)return _e.createElement(Yk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},_e.createElement(vj,rc({},P,{width:I,height:B,title:F,desc:_}),this.renderClipPath(),UE(A,this.renderMap)));if(this.props.accessibilityLayer){var D,R;P.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,P.role=(R=this.props.role)!==null&&R!==void 0?R:"application",P.onKeyDown=function(ne){E.accessibilityManager.keyboardEvent(ne)},P.onFocus=function(){E.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return _e.createElement(Yk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},_e.createElement("div",rc({className:Vt("recharts-wrapper",k),style:Ve({position:"relative",cursor:"default",width:I,height:B},M)},H,{ref:function(me){E.container=me}}),_e.createElement(vj,rc({},P,{width:I,height:B,title:F,desc:_,style:Kte}),this.renderClipPath(),UE(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);St(j,"displayName",r),St(j,"defaultProps",Ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),St(j,"getDerivedStateFromProps",function(y,C){var T=y.dataKey,E=y.data,S=y.children,A=y.width,k=y.height,I=y.layout,B=y.stackOffset,M=y.margin,L=C.dataStartIndex,F=C.dataEndIndex;if(C.updateId===void 0){var _=g3(y);return Ve(Ve(Ve({},_),{},{updateId:0},v(Ve(Ve({props:y},_),{},{updateId:0}),C)),{},{prevDataKey:T,prevData:E,prevWidth:A,prevHeight:k,prevLayout:I,prevStackOffset:B,prevMargin:M,prevChildren:S})}if(T!==C.prevDataKey||E!==C.prevData||A!==C.prevWidth||k!==C.prevHeight||I!==C.prevLayout||B!==C.prevStackOffset||!ic(M,C.prevMargin)){var G=g3(y),P={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},D=Ve(Ve({},x3(C,E,I)),{},{updateId:C.updateId+1}),R=Ve(Ve(Ve({},G),P),D);return Ve(Ve(Ve({},R),v(Ve({props:y},R),C)),{},{prevDataKey:T,prevData:E,prevWidth:A,prevHeight:k,prevLayout:I,prevStackOffset:B,prevMargin:M,prevChildren:S})}if(!gj(S,C.prevChildren)){var H,ne,me,q,X=fa(S,Ec),z=X&&(H=(ne=X.props)===null||ne===void 0?void 0:ne.startIndex)!==null&&H!==void 0?H:L,te=X&&(me=(q=X.props)===null||q===void 0?void 0:q.endIndex)!==null&&me!==void 0?me:F,U=z!==L||te!==F,ee=!Ft(E),le=ee&&!U?C.updateId:C.updateId+1;return Ve(Ve({updateId:le},v(Ve(Ve({props:y},C),{},{updateId:le,dataStartIndex:z,dataEndIndex:te}),C)),{},{prevChildren:S,dataStartIndex:z,dataEndIndex:te})}return null}),St(j,"renderActiveDot",function(y,C,T){var E;return N.isValidElement(y)?E=N.cloneElement(y,C):It(y)?E=y(C):E=_e.createElement(Zw,C),_e.createElement(Br,{className:"recharts-active-dot",key:T},E)});var b=N.forwardRef(function(C,T){return _e.createElement(j,rc({},C,{ref:T}))});return b.displayName=j.displayName,b},sre=XP({chartName:"LineChart",GraphicalChild:Ff,axisComponents:[{axisType:"xAxis",AxisComp:Mc},{axisType:"yAxis",AxisComp:Fc}],formatAxisMap:pP}),ore=XP({chartName:"BarChart",GraphicalChild:al,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Mc},{axisType:"yAxis",AxisComp:Fc}],formatAxisMap:pP});function KP(e,t){return function(){return e.apply(t,arguments)}}const{toString:lre}=Object.prototype,{getPrototypeOf:lS}=Object,{iterator:A0,toStringTag:QP}=Symbol,E0=(e=>t=>{const r=lre.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ui=e=>(e=e.toLowerCase(),t=>E0(t)===e),_0=e=>t=>typeof t===e,{isArray:ed}=Array,gf=_0("undefined");function cre(e){return e!==null&&!gf(e)&&e.constructor!==null&&!gf(e.constructor)&&Yn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ZP=ui("ArrayBuffer");function dre(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ZP(e.buffer),t}const ure=_0("string"),Yn=_0("function"),JP=_0("number"),O0=e=>e!==null&&typeof e=="object",fre=e=>e===!0||e===!1,Ap=e=>{if(E0(e)!=="object")return!1;const t=lS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(QP in e)&&!(A0 in e)},hre=ui("Date"),pre=ui("File"),mre=ui("Blob"),xre=ui("FileList"),gre=e=>O0(e)&&Yn(e.pipe),yre=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Yn(e.append)&&((t=E0(e))==="formdata"||t==="object"&&Yn(e.toString)&&e.toString()==="[object FormData]"))},vre=ui("URLSearchParams"),[bre,jre,wre,Sre]=["ReadableStream","Request","Response","Headers"].map(ui),Nre=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lf(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,i;if(typeof e!="object"&&(e=[e]),ed(e))for(a=0,i=e.length;a<i;a++)t.call(null,e[a],a,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;let d;for(a=0;a<l;a++)d=s[a],t.call(null,e[d],d,e)}}function e8(e,t){t=t.toLowerCase();const r=Object.keys(e);let a=r.length,i;for(;a-- >0;)if(i=r[a],t===i.toLowerCase())return i;return null}const Lo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,t8=e=>!gf(e)&&e!==Lo;function R2(){const{caseless:e}=t8(this)&&this||{},t={},r=(a,i)=>{const s=e&&e8(t,i)||i;Ap(t[s])&&Ap(a)?t[s]=R2(t[s],a):Ap(a)?t[s]=R2({},a):ed(a)?t[s]=a.slice():t[s]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Lf(arguments[a],r);return t}const Tre=(e,t,r,{allOwnKeys:a}={})=>(Lf(t,(i,s)=>{r&&Yn(i)?e[s]=KP(i,r):e[s]=i},{allOwnKeys:a}),e),Cre=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Are=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Ere=(e,t,r,a)=>{let i,s,l;const d={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)l=i[s],(!a||a(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=r!==!1&&lS(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},_re=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},Ore=e=>{if(!e)return null;if(ed(e))return e;let t=e.length;if(!JP(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},kre=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&lS(Uint8Array)),Dre=(e,t)=>{const a=(e&&e[A0]).call(e);let i;for(;(i=a.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Ire=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},Rre=ui("HTMLFormElement"),Pre=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,i){return a.toUpperCase()+i}),v3=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Mre=ui("RegExp"),r8=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Lf(r,(i,s)=>{let l;(l=t(i,s,e))!==!1&&(a[s]=l||i)}),Object.defineProperties(e,a)},Bre=e=>{r8(e,(t,r)=>{if(Yn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Yn(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Fre=(e,t)=>{const r={},a=i=>{i.forEach(s=>{r[s]=!0})};return ed(e)?a(e):a(String(e).split(t)),r},Lre=()=>{},zre=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function $re(e){return!!(e&&Yn(e.append)&&e[QP]==="FormData"&&e[A0])}const Ure=e=>{const t=new Array(10),r=(a,i)=>{if(O0(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[i]=a;const s=ed(a)?[]:{};return Lf(a,(l,d)=>{const u=r(l,i+1);!gf(u)&&(s[d]=u)}),t[i]=void 0,s}}return a};return r(e,0)},qre=ui("AsyncFunction"),Wre=e=>e&&(O0(e)||Yn(e))&&Yn(e.then)&&Yn(e.catch),n8=((e,t)=>e?setImmediate:t?((r,a)=>(Lo.addEventListener("message",({source:i,data:s})=>{i===Lo&&s===r&&a.length&&a.shift()()},!1),i=>{a.push(i),Lo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Yn(Lo.postMessage)),Hre=typeof queueMicrotask<"u"?queueMicrotask.bind(Lo):typeof process<"u"&&process.nextTick||n8,Gre=e=>e!=null&&Yn(e[A0]),Ue={isArray:ed,isArrayBuffer:ZP,isBuffer:cre,isFormData:yre,isArrayBufferView:dre,isString:ure,isNumber:JP,isBoolean:fre,isObject:O0,isPlainObject:Ap,isReadableStream:bre,isRequest:jre,isResponse:wre,isHeaders:Sre,isUndefined:gf,isDate:hre,isFile:pre,isBlob:mre,isRegExp:Mre,isFunction:Yn,isStream:gre,isURLSearchParams:vre,isTypedArray:kre,isFileList:xre,forEach:Lf,merge:R2,extend:Tre,trim:Nre,stripBOM:Cre,inherits:Are,toFlatObject:Ere,kindOf:E0,kindOfTest:ui,endsWith:_re,toArray:Ore,forEachEntry:Dre,matchAll:Ire,isHTMLForm:Rre,hasOwnProperty:v3,hasOwnProp:v3,reduceDescriptors:r8,freezeMethods:Bre,toObjectSet:Fre,toCamelCase:Pre,noop:Lre,toFiniteNumber:zre,findKey:e8,global:Lo,isContextDefined:t8,isSpecCompliantForm:$re,toJSONObject:Ure,isAsyncFn:qre,isThenable:Wre,setImmediate:n8,asap:Hre,isIterable:Gre};function _t(e,t,r,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}Ue.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ue.toJSONObject(this.config),code:this.code,status:this.status}}});const a8=_t.prototype,i8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{i8[e]={value:e}});Object.defineProperties(_t,i8);Object.defineProperty(a8,"isAxiosError",{value:!0});_t.from=(e,t,r,a,i,s)=>{const l=Object.create(a8);return Ue.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError"),_t.call(l,e.message,t,r,a,i),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const Vre=null;function P2(e){return Ue.isPlainObject(e)||Ue.isArray(e)}function s8(e){return Ue.endsWith(e,"[]")?e.slice(0,-2):e}function b3(e,t,r){return e?e.concat(t).map(function(i,s){return i=s8(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function Yre(e){return Ue.isArray(e)&&!e.some(P2)}const Xre=Ue.toFlatObject(Ue,{},null,function(t){return/^is[A-Z]/.test(t)});function k0(e,t,r){if(!Ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ue.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!Ue.isUndefined(y[b])});const a=r.metaTokens,i=r.visitor||p,s=r.dots,l=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Ue.isSpecCompliantForm(t);if(!Ue.isFunction(i))throw new TypeError("visitor must be a function");function f(j){if(j===null)return"";if(Ue.isDate(j))return j.toISOString();if(Ue.isBoolean(j))return j.toString();if(!u&&Ue.isBlob(j))throw new _t("Blob is not supported. Use a Buffer instead.");return Ue.isArrayBuffer(j)||Ue.isTypedArray(j)?u&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function p(j,b,y){let C=j;if(j&&!y&&typeof j=="object"){if(Ue.endsWith(b,"{}"))b=a?b:b.slice(0,-2),j=JSON.stringify(j);else if(Ue.isArray(j)&&Yre(j)||(Ue.isFileList(j)||Ue.endsWith(b,"[]"))&&(C=Ue.toArray(j)))return b=s8(b),C.forEach(function(E,S){!(Ue.isUndefined(E)||E===null)&&t.append(l===!0?b3([b],S,s):l===null?b:b+"[]",f(E))}),!1}return P2(j)?!0:(t.append(b3(y,b,s),f(j)),!1)}const m=[],g=Object.assign(Xre,{defaultVisitor:p,convertValue:f,isVisitable:P2});function v(j,b){if(!Ue.isUndefined(j)){if(m.indexOf(j)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(j),Ue.forEach(j,function(C,T){(!(Ue.isUndefined(C)||C===null)&&i.call(t,C,Ue.isString(T)?T.trim():T,b,g))===!0&&v(C,b?b.concat(T):[T])}),m.pop()}}if(!Ue.isObject(e))throw new TypeError("data must be an object");return v(e),t}function j3(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function cS(e,t){this._pairs=[],e&&k0(e,this,t)}const o8=cS.prototype;o8.append=function(t,r){this._pairs.push([t,r])};o8.toString=function(t){const r=t?function(a){return t.call(this,a,j3)}:j3;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Kre(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function l8(e,t,r){if(!t)return e;const a=r&&r.encode||Kre;Ue.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=Ue.isURLSearchParams(t)?t.toString():new cS(t,r).toString(a),s){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class w3{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ue.forEach(this.handlers,function(a){a!==null&&t(a)})}}const c8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qre=typeof URLSearchParams<"u"?URLSearchParams:cS,Zre=typeof FormData<"u"?FormData:null,Jre=typeof Blob<"u"?Blob:null,ene={isBrowser:!0,classes:{URLSearchParams:Qre,FormData:Zre,Blob:Jre},protocols:["http","https","file","blob","url","data"]},dS=typeof window<"u"&&typeof document<"u",M2=typeof navigator=="object"&&navigator||void 0,tne=dS&&(!M2||["ReactNative","NativeScript","NS"].indexOf(M2.product)<0),rne=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nne=dS&&window.location.href||"http://localhost",ane=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dS,hasStandardBrowserEnv:tne,hasStandardBrowserWebWorkerEnv:rne,navigator:M2,origin:nne},Symbol.toStringTag,{value:"Module"})),An={...ane,...ene};function ine(e,t){return k0(e,new An.classes.URLSearchParams,Object.assign({visitor:function(r,a,i,s){return An.isNode&&Ue.isBuffer(r)?(this.append(a,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function sne(e){return Ue.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function one(e){const t={},r=Object.keys(e);let a;const i=r.length;let s;for(a=0;a<i;a++)s=r[a],t[s]=e[s];return t}function d8(e){function t(r,a,i,s){let l=r[s++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),u=s>=r.length;return l=!l&&Ue.isArray(i)?i.length:l,u?(Ue.hasOwnProp(i,l)?i[l]=[i[l],a]:i[l]=a,!d):((!i[l]||!Ue.isObject(i[l]))&&(i[l]=[]),t(r,a,i[l],s)&&Ue.isArray(i[l])&&(i[l]=one(i[l])),!d)}if(Ue.isFormData(e)&&Ue.isFunction(e.entries)){const r={};return Ue.forEachEntry(e,(a,i)=>{t(sne(a),i,r,0)}),r}return null}function lne(e,t,r){if(Ue.isString(e))try{return(t||JSON.parse)(e),Ue.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const zf={transitional:c8,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",i=a.indexOf("application/json")>-1,s=Ue.isObject(t);if(s&&Ue.isHTMLForm(t)&&(t=new FormData(t)),Ue.isFormData(t))return i?JSON.stringify(d8(t)):t;if(Ue.isArrayBuffer(t)||Ue.isBuffer(t)||Ue.isStream(t)||Ue.isFile(t)||Ue.isBlob(t)||Ue.isReadableStream(t))return t;if(Ue.isArrayBufferView(t))return t.buffer;if(Ue.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(s){if(a.indexOf("application/x-www-form-urlencoded")>-1)return ine(t,this.formSerializer).toString();if((d=Ue.isFileList(t))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return k0(d?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),lne(t)):t}],transformResponse:[function(t){const r=this.transitional||zf.transitional,a=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ue.isResponse(t)||Ue.isReadableStream(t))return t;if(t&&Ue.isString(t)&&(a&&!this.responseType||i)){const l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(d){if(l)throw d.name==="SyntaxError"?_t.from(d,_t.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:An.classes.FormData,Blob:An.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ue.forEach(["delete","get","head","post","put","patch"],e=>{zf.headers[e]={}});const cne=Ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dne=e=>{const t={};let r,a,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),a=l.substring(i+1).trim(),!(!r||t[r]&&cne[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},S3=Symbol("internals");function fu(e){return e&&String(e).trim().toLowerCase()}function Ep(e){return e===!1||e==null?e:Ue.isArray(e)?e.map(Ep):String(e)}function une(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const fne=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Z1(e,t,r,a,i){if(Ue.isFunction(a))return a.call(this,t,r);if(i&&(t=r),!!Ue.isString(t)){if(Ue.isString(a))return t.indexOf(a)!==-1;if(Ue.isRegExp(a))return a.test(t)}}function hne(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function pne(e,t){const r=Ue.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(i,s,l){return this[a].call(this,t,i,s,l)},configurable:!0})})}let Xn=class{constructor(t){t&&this.set(t)}set(t,r,a){const i=this;function s(d,u,f){const p=fu(u);if(!p)throw new Error("header name must be a non-empty string");const m=Ue.findKey(i,p);(!m||i[m]===void 0||f===!0||f===void 0&&i[m]!==!1)&&(i[m||u]=Ep(d))}const l=(d,u)=>Ue.forEach(d,(f,p)=>s(f,p,u));if(Ue.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(Ue.isString(t)&&(t=t.trim())&&!fne(t))l(dne(t),r);else if(Ue.isObject(t)&&Ue.isIterable(t)){let d={},u,f;for(const p of t){if(!Ue.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[f=p[0]]=(u=d[f])?Ue.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}l(d,r)}else t!=null&&s(r,t,a);return this}get(t,r){if(t=fu(t),t){const a=Ue.findKey(this,t);if(a){const i=this[a];if(!r)return i;if(r===!0)return une(i);if(Ue.isFunction(r))return r.call(this,i,a);if(Ue.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=fu(t),t){const a=Ue.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||Z1(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let i=!1;function s(l){if(l=fu(l),l){const d=Ue.findKey(a,l);d&&(!r||Z1(a,a[d],d,r))&&(delete a[d],i=!0)}}return Ue.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let a=r.length,i=!1;for(;a--;){const s=r[a];(!t||Z1(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,a={};return Ue.forEach(this,(i,s)=>{const l=Ue.findKey(a,s);if(l){r[l]=Ep(i),delete r[s];return}const d=t?hne(s):String(s).trim();d!==s&&delete r[s],r[d]=Ep(i),a[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ue.forEach(this,(a,i)=>{a!=null&&a!==!1&&(r[i]=t&&Ue.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(i=>a.set(i)),a}static accessor(t){const a=(this[S3]=this[S3]={accessors:{}}).accessors,i=this.prototype;function s(l){const d=fu(l);a[d]||(pne(i,l),a[d]=!0)}return Ue.isArray(t)?t.forEach(s):s(t),this}};Xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ue.reduceDescriptors(Xn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});Ue.freezeMethods(Xn);function J1(e,t){const r=this||zf,a=t||r,i=Xn.from(a.headers);let s=a.data;return Ue.forEach(e,function(d){s=d.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function u8(e){return!!(e&&e.__CANCEL__)}function td(e,t,r){_t.call(this,e??"canceled",_t.ERR_CANCELED,t,r),this.name="CanceledError"}Ue.inherits(td,_t,{__CANCEL__:!0});function f8(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new _t("Request failed with status code "+r.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function mne(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function xne(e,t){e=e||10;const r=new Array(e),a=new Array(e);let i=0,s=0,l;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),p=a[s];l||(l=f),r[i]=u,a[i]=f;let m=s,g=0;for(;m!==i;)g+=r[m++],m=m%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),f-l<t)return;const v=p&&f-p;return v?Math.round(g*1e3/v):void 0}}function gne(e,t){let r=0,a=1e3/t,i,s;const l=(f,p=Date.now())=>{r=p,i=null,s&&(clearTimeout(s),s=null),e.apply(null,f)};return[(...f)=>{const p=Date.now(),m=p-r;m>=a?l(f,p):(i=f,s||(s=setTimeout(()=>{s=null,l(i)},a-m)))},()=>i&&l(i)]}const km=(e,t,r=3)=>{let a=0;const i=xne(50,250);return gne(s=>{const l=s.loaded,d=s.lengthComputable?s.total:void 0,u=l-a,f=i(u),p=l<=d;a=l;const m={loaded:l,total:d,progress:d?l/d:void 0,bytes:u,rate:f||void 0,estimated:f&&d&&p?(d-l)/f:void 0,event:s,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(m)},r)},N3=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},T3=e=>(...t)=>Ue.asap(()=>e(...t)),yne=An.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,An.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(An.origin),An.navigator&&/(msie|trident)/i.test(An.navigator.userAgent)):()=>!0,vne=An.hasStandardBrowserEnv?{write(e,t,r,a,i,s){const l=[e+"="+encodeURIComponent(t)];Ue.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),Ue.isString(a)&&l.push("path="+a),Ue.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bne(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function jne(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function h8(e,t,r){let a=!bne(t);return e&&(a||r==!1)?jne(e,t):t}const C3=e=>e instanceof Xn?{...e}:e;function Xo(e,t){t=t||{};const r={};function a(f,p,m,g){return Ue.isPlainObject(f)&&Ue.isPlainObject(p)?Ue.merge.call({caseless:g},f,p):Ue.isPlainObject(p)?Ue.merge({},p):Ue.isArray(p)?p.slice():p}function i(f,p,m,g){if(Ue.isUndefined(p)){if(!Ue.isUndefined(f))return a(void 0,f,m,g)}else return a(f,p,m,g)}function s(f,p){if(!Ue.isUndefined(p))return a(void 0,p)}function l(f,p){if(Ue.isUndefined(p)){if(!Ue.isUndefined(f))return a(void 0,f)}else return a(void 0,p)}function d(f,p,m){if(m in t)return a(f,p);if(m in e)return a(void 0,f)}const u={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(f,p,m)=>i(C3(f),C3(p),m,!0)};return Ue.forEach(Object.keys(Object.assign({},e,t)),function(p){const m=u[p]||i,g=m(e[p],t[p],p);Ue.isUndefined(g)&&m!==d||(r[p]=g)}),r}const p8=e=>{const t=Xo({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:d}=t;t.headers=l=Xn.from(l),t.url=l8(h8(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let u;if(Ue.isFormData(r)){if(An.hasStandardBrowserEnv||An.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[f,...p]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...p].join("; "))}}if(An.hasStandardBrowserEnv&&(a&&Ue.isFunction(a)&&(a=a(t)),a||a!==!1&&yne(t.url))){const f=i&&s&&vne.read(s);f&&l.set(i,f)}return t},wne=typeof XMLHttpRequest<"u",Sne=wne&&function(e){return new Promise(function(r,a){const i=p8(e);let s=i.data;const l=Xn.from(i.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:f}=i,p,m,g,v,j;function b(){v&&v(),j&&j(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function C(){if(!y)return;const E=Xn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),A={data:!d||d==="text"||d==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:E,config:e,request:y};f8(function(I){r(I),b()},function(I){a(I),b()},A),y=null}"onloadend"in y?y.onloadend=C:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(C)},y.onabort=function(){y&&(a(new _t("Request aborted",_t.ECONNABORTED,e,y)),y=null)},y.onerror=function(){a(new _t("Network Error",_t.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||c8;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),a(new _t(S,A.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,e,y)),y=null},s===void 0&&l.setContentType(null),"setRequestHeader"in y&&Ue.forEach(l.toJSON(),function(S,A){y.setRequestHeader(A,S)}),Ue.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),d&&d!=="json"&&(y.responseType=i.responseType),f&&([g,j]=km(f,!0),y.addEventListener("progress",g)),u&&y.upload&&([m,v]=km(u),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(p=E=>{y&&(a(!E||E.type?new td(null,e,y):E),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const T=mne(i.url);if(T&&An.protocols.indexOf(T)===-1){a(new _t("Unsupported protocol "+T+":",_t.ERR_BAD_REQUEST,e));return}y.send(s||null)})},Nne=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,i;const s=function(f){if(!i){i=!0,d();const p=f instanceof Error?f:this.reason;a.abort(p instanceof _t?p:new td(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,s(new _t(`timeout ${t} of ms exceeded`,_t.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),e=null)};e.forEach(f=>f.addEventListener("abort",s));const{signal:u}=a;return u.unsubscribe=()=>Ue.asap(d),u}},Tne=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,i;for(;a<r;)i=a+t,yield e.slice(a,i),a=i},Cne=async function*(e,t){for await(const r of Ane(e))yield*Tne(r,t)},Ane=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},A3=(e,t,r,a)=>{const i=Cne(e,t);let s=0,l,d=u=>{l||(l=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:f,value:p}=await i.next();if(f){d(),u.close();return}let m=p.byteLength;if(r){let g=s+=m;r(g)}u.enqueue(new Uint8Array(p))}catch(f){throw d(f),f}},cancel(u){return d(u),i.return()}},{highWaterMark:2})},D0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",m8=D0&&typeof ReadableStream=="function",Ene=D0&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),x8=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_ne=m8&&x8(()=>{let e=!1;const t=new Request(An.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),E3=64*1024,B2=m8&&x8(()=>Ue.isReadableStream(new Response("").body)),Dm={stream:B2&&(e=>e.body)};D0&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Dm[t]&&(Dm[t]=Ue.isFunction(e[t])?r=>r[t]():(r,a)=>{throw new _t(`Response type '${t}' is not supported`,_t.ERR_NOT_SUPPORT,a)})})})(new Response);const One=async e=>{if(e==null)return 0;if(Ue.isBlob(e))return e.size;if(Ue.isSpecCompliantForm(e))return(await new Request(An.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ue.isArrayBufferView(e)||Ue.isArrayBuffer(e))return e.byteLength;if(Ue.isURLSearchParams(e)&&(e=e+""),Ue.isString(e))return(await Ene(e)).byteLength},kne=async(e,t)=>{const r=Ue.toFiniteNumber(e.getContentLength());return r??One(t)},Dne=D0&&(async e=>{let{url:t,method:r,data:a,signal:i,cancelToken:s,timeout:l,onDownloadProgress:d,onUploadProgress:u,responseType:f,headers:p,withCredentials:m="same-origin",fetchOptions:g}=p8(e);f=f?(f+"").toLowerCase():"text";let v=Nne([i,s&&s.toAbortSignal()],l),j;const b=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let y;try{if(u&&_ne&&r!=="get"&&r!=="head"&&(y=await kne(p,a))!==0){let A=new Request(t,{method:"POST",body:a,duplex:"half"}),k;if(Ue.isFormData(a)&&(k=A.headers.get("content-type"))&&p.setContentType(k),A.body){const[I,B]=N3(y,km(T3(u)));a=A3(A.body,E3,I,B)}}Ue.isString(m)||(m=m?"include":"omit");const C="credentials"in Request.prototype;j=new Request(t,{...g,signal:v,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:a,duplex:"half",credentials:C?m:void 0});let T=await fetch(j,g);const E=B2&&(f==="stream"||f==="response");if(B2&&(d||E&&b)){const A={};["status","statusText","headers"].forEach(M=>{A[M]=T[M]});const k=Ue.toFiniteNumber(T.headers.get("content-length")),[I,B]=d&&N3(k,km(T3(d),!0))||[];T=new Response(A3(T.body,E3,I,()=>{B&&B(),b&&b()}),A)}f=f||"text";let S=await Dm[Ue.findKey(Dm,f)||"text"](T,e);return!E&&b&&b(),await new Promise((A,k)=>{f8(A,k,{data:S,headers:Xn.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:j})})}catch(C){throw b&&b(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new _t("Network Error",_t.ERR_NETWORK,e,j),{cause:C.cause||C}):_t.from(C,C&&C.code,e,j)}}),F2={http:Vre,xhr:Sne,fetch:Dne};Ue.forEach(F2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const _3=e=>`- ${e}`,Ine=e=>Ue.isFunction(e)||e===null||e===!1,g8={getAdapter:e=>{e=Ue.isArray(e)?e:[e];const{length:t}=e;let r,a;const i={};for(let s=0;s<t;s++){r=e[s];let l;if(a=r,!Ine(r)&&(a=F2[(l=String(r)).toLowerCase()],a===void 0))throw new _t(`Unknown adapter '${l}'`);if(a)break;i[l||"#"+s]=a}if(!a){const s=Object.entries(i).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=t?s.length>1?`since :
`+s.map(_3).join(`
`):" "+_3(s[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:F2};function ej(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new td(null,e)}function O3(e){return ej(e),e.headers=Xn.from(e.headers),e.data=J1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),g8.getAdapter(e.adapter||zf.adapter)(e).then(function(a){return ej(e),a.data=J1.call(e,e.transformResponse,a),a.headers=Xn.from(a.headers),a},function(a){return u8(a)||(ej(e),a&&a.response&&(a.response.data=J1.call(e,e.transformResponse,a.response),a.response.headers=Xn.from(a.response.headers))),Promise.reject(a)})}const y8="1.10.0",I0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{I0[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const k3={};I0.transitional=function(t,r,a){function i(s,l){return"[Axios v"+y8+"] Transitional option '"+s+"'"+l+(a?". "+a:"")}return(s,l,d)=>{if(t===!1)throw new _t(i(l," has been removed"+(r?" in "+r:"")),_t.ERR_DEPRECATED);return r&&!k3[l]&&(k3[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,l,d):!0}};I0.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function Rne(e,t,r){if(typeof e!="object")throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let i=a.length;for(;i-- >0;){const s=a[i],l=t[s];if(l){const d=e[s],u=d===void 0||l(d,s,e);if(u!==!0)throw new _t("option "+s+" must be "+u,_t.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new _t("Unknown option "+s,_t.ERR_BAD_OPTION)}}const _p={assertOptions:Rne,validators:I0},gi=_p.validators;let Uo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new w3,response:new w3}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?s&&!String(a.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+s):a.stack=s}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Xo(this.defaults,r);const{transitional:a,paramsSerializer:i,headers:s}=r;a!==void 0&&_p.assertOptions(a,{silentJSONParsing:gi.transitional(gi.boolean),forcedJSONParsing:gi.transitional(gi.boolean),clarifyTimeoutError:gi.transitional(gi.boolean)},!1),i!=null&&(Ue.isFunction(i)?r.paramsSerializer={serialize:i}:_p.assertOptions(i,{encode:gi.function,serialize:gi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),_p.assertOptions(r,{baseUrl:gi.spelling("baseURL"),withXsrfToken:gi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=s&&Ue.merge(s.common,s[r.method]);s&&Ue.forEach(["delete","get","head","post","put","patch","common"],j=>{delete s[j]}),r.headers=Xn.concat(l,s);const d=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(u=u&&b.synchronous,d.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let p,m=0,g;if(!u){const j=[O3.bind(this),void 0];for(j.unshift.apply(j,d),j.push.apply(j,f),g=j.length,p=Promise.resolve(r);m<g;)p=p.then(j[m++],j[m++]);return p}g=d.length;let v=r;for(m=0;m<g;){const j=d[m++],b=d[m++];try{v=j(v)}catch(y){b.call(this,y);break}}try{p=O3.call(this,v)}catch(j){return Promise.reject(j)}for(m=0,g=f.length;m<g;)p=p.then(f[m++],f[m++]);return p}getUri(t){t=Xo(this.defaults,t);const r=h8(t.baseURL,t.url,t.allowAbsoluteUrls);return l8(r,t.params,t.paramsSerializer)}};Ue.forEach(["delete","get","head","options"],function(t){Uo.prototype[t]=function(r,a){return this.request(Xo(a||{},{method:t,url:r,data:(a||{}).data}))}});Ue.forEach(["post","put","patch"],function(t){function r(a){return function(s,l,d){return this.request(Xo(d||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Uo.prototype[t]=r(),Uo.prototype[t+"Form"]=r(!0)});let Pne=class v8{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const a=this;this.promise.then(i=>{if(!a._listeners)return;let s=a._listeners.length;for(;s-- >0;)a._listeners[s](i);a._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(d=>{a.subscribe(d),s=d}).then(i);return l.cancel=function(){a.unsubscribe(s)},l},t(function(s,l,d){a.reason||(a.reason=new td(s,l,d),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new v8(function(i){t=i}),cancel:t}}};function Mne(e){return function(r){return e.apply(null,r)}}function Bne(e){return Ue.isObject(e)&&e.isAxiosError===!0}const L2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(L2).forEach(([e,t])=>{L2[t]=e});function b8(e){const t=new Uo(e),r=KP(Uo.prototype.request,t);return Ue.extend(r,Uo.prototype,t,{allOwnKeys:!0}),Ue.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return b8(Xo(e,i))},r}const Tt=b8(zf);Tt.Axios=Uo;Tt.CanceledError=td;Tt.CancelToken=Pne;Tt.isCancel=u8;Tt.VERSION=y8;Tt.toFormData=k0;Tt.AxiosError=_t;Tt.Cancel=Tt.CanceledError;Tt.all=function(t){return Promise.all(t)};Tt.spread=Mne;Tt.isAxiosError=Bne;Tt.mergeConfig=Xo;Tt.AxiosHeaders=Xn;Tt.formToJSON=e=>d8(Ue.isHTMLForm(e)?new FormData(e):e);Tt.getAdapter=g8.getAdapter;Tt.HttpStatusCode=L2;Tt.default=Tt;const{Axios:Bhe,AxiosError:Fhe,CanceledError:Lhe,isCancel:zhe,CancelToken:$he,VERSION:Uhe,all:qhe,Cancel:Whe,isAxiosError:Hhe,spread:Ghe,toFormData:Vhe,AxiosHeaders:Yhe,HttpStatusCode:Xhe,formToJSON:Khe,getAdapter:Qhe,mergeConfig:Zhe}=Tt,hu=Tt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),Fne=()=>{const[e,t]=N.useState(!0),[r,a]=N.useState(""),[i,s]=N.useState("overview"),[l,d]=N.useState({totalOrders:0,totalRevenue:0,counterOrders:0,staffOrders:0,guestOrders:0,regularOrders:0,counterRevenue:0,staffRevenue:0,guestRevenue:0,regularRevenue:0,totalUsers:0,todayOrders:0,todayRevenue:0}),[u,f]=N.useState([]),[p,m]=N.useState([]),[g,v]=N.useState([]),[j,b]=N.useState([]),[y,C]=N.useState([]),[T,E]=N.useState([]),[S,A]=N.useState(""),[k,I]=N.useState("all"),[B,M]=N.useState("all"),[L,F]=N.useState("all"),[_,G]=N.useState("date"),[P,D]=N.useState("desc"),[R,H]=N.useState(1),[ne,me]=N.useState(1),q=10,[X,z]=N.useState(null),[te,U]=N.useState(!1);N.useEffect(()=>{ee()},[]),N.useEffect(()=>{je()},[g,j,S,k,B,L,_,P,i]),N.useEffect(()=>{ie()},[y,R]);const ee=async()=>{var Te;t(!0),a("");try{const[qe,V,fe,Ee]=await Promise.allSettled([hu.get("/counter-order/orders"),hu.get("/staff-order"),hu.get("/user-auth"),hu.get("/branch")]),K=await hu.get("/order",{params:{limit:1e3,sortBy:"createdAt",sortOrder:"desc"}}),re=qe.status==="fulfilled"?qe.value.data:{orders:[]},W=V.status==="fulfilled"?V.value.data:{orders:[]},Z=fe.status==="fulfilled"?fe.value.data:[],Q=Ee.status==="fulfilled"?Ee.value.data:[],be=((Te=re.orders)==null?void 0:Te.map(de=>{var Se,Qe,ot;return{id:de.id,type:"counter",orderId:((Se=de.invoice)==null?void 0:Se.invoiceNumber)||de.id,customer:de.customerName||"Unknown Customer",staff:((Qe=de.userId)==null?void 0:Qe.name)||"Unknown Counter User",date:new Date(de.createdAt),dateString:new Date(de.createdAt).toLocaleDateString(),branch:((ot=de.branch)==null?void 0:ot.name)||"Unknown Branch",amount:de.grandTotal||de.totalAmount||0,status:de.orderStatus||"pending",paymentStatus:de.paymentStatus||"pending",paymentMethod:de.paymentMethod||"cash",items:de.items||[],subtotal:de.subtotal||0,tax:de.tax||0,serviceCharge:de.serviceCharge||0,isGuestOrder:!0,originalOrder:de}}))||[],Me=[],Le=(K.data.orders||K.data.data||[]).map(de=>{var Se,Qe;return{id:de._id,type:"online",orderId:de.orderNumber,customer:de.name,staff:((Se=de.userId)==null?void 0:Se.name)||"Online Order",date:new Date(de.createdAt),dateString:new Date(de.createdAt).toLocaleDateString(),branch:((Qe=de.branchId)==null?void 0:Qe.name)||"Online",amount:de.total||0,status:de.status||"pending",paymentStatus:de.paymentStatus||"completed",paymentMethod:de.paymentMethod||"online",items:de.items||[],subtotal:de.subtotal||0,tax:de.tax||0,serviceCharge:0,discount:de.discount||0,deliveryFee:de.deliveryFee||0,phone:de.phone||"",email:de.email||"",deliveryOption:de.deliveryOption||"delivery",deliveryAddress:de.deliveryAddress||"",specialInstructions:de.specialInstructions||"",isGuestOrder:!0,originalOrder:de}}),ye=[...be,...Me,...Le];v(ye),b(ye),le(ye,Z.users||Z||[],null),ce(ye)}catch(qe){console.error("Error fetching dashboard data:",qe),a("Failed to load dashboard data. Please refresh the page and try again.")}finally{t(!1)}},le=(Te,qe,V)=>{const fe=new Date().toDateString(),Ee=Array.isArray(Te)?Te:[],K=Array.isArray(qe)?qe:[],re=Ee.filter(de=>de.type==="counter"),W=Ee.filter(de=>de.type==="Staff Order"),Z=Ee.filter(de=>de.type==="Guest Order"),Q=Ee.filter(de=>de.type==="online"),be=Ee.filter(de=>de.date&&de.date.toDateString()===fe),Me=re.length+W.length+Z.length+Q.length,Ge=re.reduce((de,Se)=>de+(Se.amount||0),0)+W.reduce((de,Se)=>de+(Se.amount||0),0)+Z.reduce((de,Se)=>de+(Se.amount||0),0)+Q.reduce((de,Se)=>de+(Se.amount||0),0),Le=be.reduce((de,Se)=>de+(Se.amount||0),0),ye={totalOrders:Me,totalRevenue:Ge,counterOrders:re.length,staffOrders:W.length,guestOrders:Z.length,regularOrders:Q.length,counterRevenue:re.reduce((de,Se)=>de+(Se.amount||0),0),staffRevenue:W.reduce((de,Se)=>de+(Se.amount||0),0),guestRevenue:Z.reduce((de,Se)=>de+(Se.amount||0),0),regularRevenue:Q.reduce((de,Se)=>de+(Se.amount||0),0),totalUsers:K.length,todayOrders:be.length,todayRevenue:Le};d(ye)},ce=Te=>{const qe=Array.isArray(Te)?Te:[],V={},fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];qe.forEach(re=>{if(re.date&&re.date.getMonth){const W=fe[re.date.getMonth()];V[W]||(V[W]={month:W,revenue:0,orders:0}),V[W].revenue+=re.amount||0,V[W].orders+=1}});const Ee=Object.values(V);m(Ee);const K=[{name:"Counter Orders",revenue:qe.filter(re=>re.type==="counter").reduce((re,W)=>re+(W.amount||0),0),orders:qe.filter(re=>re.type==="counter").length},{name:"Staff Orders",revenue:qe.filter(re=>re.type==="Staff Order").reduce((re,W)=>re+(W.amount||0),0),orders:qe.filter(re=>re.type==="Staff Order").length},{name:"Guest Orders",revenue:qe.filter(re=>re.type==="Guest Order").reduce((re,W)=>re+(W.amount||0),0),orders:qe.filter(re=>re.type==="Guest Order").length},{name:"Online Orders",revenue:qe.filter(re=>re.type==="online").reduce((re,W)=>re+(W.amount||0),0),orders:qe.filter(re=>re.type==="online").length}];f(K)},je=()=>{let Te=i==="orders"?g:j;if(S.trim()){const qe=S.toLowerCase();Te=Te.filter(V=>V.orderId.toLowerCase().includes(qe)||V.customer.toLowerCase().includes(qe)||V.staff.toLowerCase().includes(qe)||V.branch.toLowerCase().includes(qe))}if(B!=="all"&&(Te=Te.filter(qe=>qe.type===B)),L!=="all"&&(Te=Te.filter(qe=>qe.status===L)),k!=="all"){const qe=new Date,V=new Date;switch(k){case"today":Te=Te.filter(fe=>fe.date.toDateString()===qe.toDateString());break;case"week":V.setDate(qe.getDate()-7),Te=Te.filter(fe=>fe.date>=V);break;case"month":V.setMonth(qe.getMonth()-1),Te=Te.filter(fe=>fe.date>=V);break}}Te.sort((qe,V)=>_==="date"?P==="asc"?qe.date-V.date:V.date-qe.date:_==="amount"?P==="asc"?qe.amount-V.amount:V.amount-qe.amount:0),C(Te),me(Math.ceil(Te.length/q)),H(1)},ie=()=>{const Te=(R-1)*q,qe=Te+q;E(y.slice(Te,qe))},ve=Te=>{_===Te?D(P==="asc"?"desc":"asc"):(G(Te),D("desc"))},Ne=Te=>{z(Te),U(!0)},ge=Te=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(Te),Ye=Te=>{switch(Te==null?void 0:Te.toLowerCase()){case"card":return n.jsx(Bn,{size:16});case"upi":return n.jsx(Ru,{size:16});case"online":return n.jsx(Bn,{size:16});default:return n.jsx(es,{size:16})}};return e?n.jsxs("div",{className:"dashboard-loading",children:[n.jsx(Gn,{size:32,className:"animate-spin"}),n.jsx("p",{children:"Loading dashboard..."})]}):n.jsxs("div",{className:"comprehensive-dashboard",children:[r&&n.jsx("div",{className:"error-banner",children:n.jsx("span",{children:r})}),n.jsx("div",{className:"dashboard-header",children:n.jsx("h1",{children:"Dashboard"})}),n.jsxs("div",{className:"tab-navigation",children:[n.jsx("button",{className:`tab-btn ${i==="overview"?"active":""}`,onClick:()=>s("overview"),children:"Overview"}),n.jsx("button",{className:`tab-btn ${i==="orders"?"active":""}`,onClick:()=>s("orders"),children:"All Orders"}),n.jsx("button",{className:`tab-btn ${i==="payments"?"active":""}`,onClick:()=>s("payments"),children:"All Payments"})]}),i==="overview"&&n.jsxs("div",{className:"overview-content",children:[n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card primary",children:[n.jsx("div",{className:"stat-icon",children:n.jsx(V7,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:l.totalOrders.toLocaleString()}),n.jsx("p",{children:"Total Orders"}),n.jsx("div",{className:"stat-breakdown",children:n.jsxs("span",{children:["Today: ",l.todayOrders]})})]})]}),n.jsxs("div",{className:"stat-card success",children:[n.jsx("div",{className:"stat-icon",children:n.jsx(es,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:ge(l.totalRevenue)}),n.jsx("p",{children:"Total Revenue"}),n.jsx("div",{className:"stat-breakdown",children:n.jsxs("span",{children:["Today: ",ge(l.todayRevenue)]})})]})]}),n.jsxs("div",{className:"stat-card info",children:[n.jsx("div",{className:"stat-icon",children:n.jsx(Yi,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:l.totalUsers.toLocaleString()}),n.jsx("p",{children:"Total Users"})]})]})]}),n.jsxs("div",{className:"breakdown-grid",children:[n.jsxs("div",{className:"breakdown-card",children:[n.jsx("h3",{children:"Counter Orders"}),n.jsxs("div",{className:"breakdown-stats",children:[n.jsx("div",{className:"breakdown-number",children:l.counterOrders}),n.jsx("div",{className:"breakdown-revenue",children:ge(l.counterRevenue)})]})]}),n.jsxs("div",{className:"breakdown-card",children:[n.jsx("h3",{children:"Staff Orders"}),n.jsxs("div",{className:"breakdown-stats",children:[n.jsx("div",{className:"breakdown-number",children:l.staffOrders}),n.jsx("div",{className:"breakdown-revenue",children:ge(l.staffRevenue)})]})]}),n.jsxs("div",{className:"breakdown-card",children:[n.jsx("h3",{children:"Guest Orders"}),n.jsxs("div",{className:"breakdown-stats",children:[n.jsx("div",{className:"breakdown-number",children:l.guestOrders}),n.jsx("div",{className:"breakdown-revenue",children:ge(l.guestRevenue)})]})]}),n.jsxs("div",{className:"breakdown-card",children:[n.jsx("h3",{children:"Online Orders"}),n.jsxs("div",{className:"breakdown-stats",children:[n.jsx("div",{className:"breakdown-number",children:l.regularOrders}),n.jsx("div",{className:"breakdown-revenue",children:ge(l.regularRevenue)})]})]})]}),n.jsxs("div",{className:"charts-grid",children:[n.jsxs("div",{className:"chart-card",children:[n.jsx("div",{className:"chart-header",children:n.jsx("h3",{children:"Monthly Revenue Trend"})}),n.jsx("div",{className:"chart-container",children:n.jsx(d4,{width:"100%",height:300,children:n.jsxs(sre,{data:p,children:[n.jsx(w2,{strokeDasharray:"3 3"}),n.jsx(Mc,{dataKey:"month"}),n.jsx(Fc,{}),n.jsx(Ka,{formatter:Te=>[ge(Te),"Revenue"]}),n.jsx(Ff,{type:"monotone",dataKey:"revenue",stroke:"#FF7E47",strokeWidth:2})]})})})]}),n.jsxs("div",{className:"chart-card",children:[n.jsx("div",{className:"chart-header",children:n.jsx("h3",{children:"Revenue by Type"})}),n.jsx("div",{className:"chart-container",children:n.jsx(d4,{width:"100%",height:300,children:n.jsxs(ore,{data:u,children:[n.jsx(w2,{strokeDasharray:"3 3"}),n.jsx(Mc,{dataKey:"name"}),n.jsx(Fc,{}),n.jsx(Ka,{formatter:Te=>[ge(Te),"Revenue"]}),n.jsx(al,{dataKey:"revenue",fill:"#FF7E47"})]})})})]})]})]}),(i==="orders"||i==="payments")&&n.jsxs("div",{className:"data-content",children:[n.jsxs("div",{className:"filters-section",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by order ID, customer, or branch...",className:"search-input",value:S,onChange:Te=>A(Te.target.value)})]}),n.jsxs("div",{className:"filter-controls",children:[n.jsxs("select",{className:"filter-select",value:B,onChange:Te=>M(Te.target.value),children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"counter",children:"Counter"}),n.jsx("option",{value:"Staff Order",children:"Staff"}),n.jsx("option",{value:"Guest Order",children:"Guest"}),n.jsx("option",{value:"online",children:"Online"})]}),n.jsxs("select",{className:"filter-select",value:L,onChange:Te=>F(Te.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{className:"filter-select",value:k,onChange:Te=>I(Te.target.value),children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"})]})]})]}),n.jsx("div",{className:"data-table-container",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Order By"}),n.jsx("th",{className:"sortable-header",onClick:()=>ve("date"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Date"}),_==="date"&&(P==="asc"?n.jsx(Js,{size:16}):n.jsx(Zs,{size:16}))]})}),n.jsx("th",{children:"Branch"}),n.jsx("th",{className:"sortable-header",onClick:()=>ve("amount"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Amount"}),_==="amount"&&(P==="asc"?n.jsx(Js,{size:16}):n.jsx(Zs,{size:16}))]})}),i==="orders"&&n.jsx("th",{children:"Status"}),i==="payments"&&n.jsx("th",{children:"Payment Method"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:T.length>0?T.map(Te=>n.jsxs("tr",{children:[n.jsx("td",{children:Te.orderId}),n.jsx("td",{children:Te.type==="Staff Order"||Te.type==="Guest Order"?Te.type:Te.type.charAt(0).toUpperCase()+Te.type.slice(1)+" Order"}),n.jsx("td",{children:Te.customer}),n.jsx("td",{children:Te.dateString}),n.jsx("td",{children:Te.branch}),n.jsxs("td",{children:["",Te.amount.toFixed(2)]}),i==="orders"&&n.jsx("td",{children:n.jsx("span",{className:`status-badge ${Te.status}`,children:Te.status.charAt(0).toUpperCase()+Te.status.slice(1)})}),i==="payments"&&n.jsx("td",{children:n.jsxs("div",{className:"payment-method",children:[Ye(Te.paymentMethod),n.jsx("span",{children:Te.paymentMethod.charAt(0).toUpperCase()+Te.paymentMethod.slice(1)})]})}),n.jsx("td",{children:n.jsxs("button",{className:"action-btn view",onClick:()=>Ne(Te),children:[n.jsx(ci,{size:16}),"View"]})})]},`${Te.type}-${Te.id}`)):n.jsx("tr",{children:n.jsxs("td",{colSpan:"8",className:"no-data",children:["No ",i," found matching your criteria"]})})})]})}),ne>1&&n.jsxs("div",{className:"pagination",children:[n.jsxs("button",{className:"pagination-btn",onClick:()=>H(Te=>Math.max(Te-1,1)),disabled:R===1,children:[n.jsx(Af,{size:16}),"Previous"]}),n.jsx("div",{className:"pagination-pages",children:Array.from({length:Math.min(5,ne)},(Te,qe)=>{let V;return ne<=5||R<=3?V=qe+1:R>=ne-2?V=ne-4+qe:V=R-2+qe,n.jsx("button",{className:`pagination-page ${R===V?"active":""}`,onClick:()=>H(V),children:V},V)})}),n.jsxs("button",{className:"pagination-btn",onClick:()=>H(Te=>Math.min(Te+1,ne)),disabled:R===ne,children:["Next",n.jsx(Ef,{size:16})]})]})]}),te&&X&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:[X.type==="Staff Order"||X.type==="Guest Order"?X.type:X.type.charAt(0).toUpperCase()+X.type.slice(1)," ",i==="orders"?"Order":"Payment"," Details"]}),n.jsx("button",{className:"modal-close",onClick:()=>U(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"details-grid",children:[n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Basic Information"}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Order ID:"}),n.jsx("span",{className:"detail-value",children:X.orderId})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Type:"}),n.jsx("span",{className:"detail-value",children:X.type})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Customer:"}),n.jsx("span",{className:"detail-value",children:X.customer})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Date:"}),n.jsx("span",{className:"detail-value",children:X.date.toLocaleString()})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Branch:"}),n.jsx("span",{className:"detail-value",children:X.branch})]}),X.tableNumber&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Table:"}),n.jsx("span",{className:"detail-value",children:X.tableNumber})]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Payment Information"}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Subtotal:"}),n.jsxs("span",{className:"detail-value",children:["",X.subtotal.toFixed(2)]})]}),X.discount>0&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Discount:"}),n.jsxs("span",{className:"detail-value",style:{color:"#22c55e"},children:["-",X.discount.toFixed(2)]})]}),X.tax>0&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Tax:"}),n.jsxs("span",{className:"detail-value",children:["",X.tax.toFixed(2)]})]}),X.type!=="online"&&X.serviceCharge>0&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Service Charge:"}),n.jsxs("span",{className:"detail-value",children:["",X.serviceCharge.toFixed(2)]})]}),X.deliveryFee>0&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Delivery Fee:"}),n.jsxs("span",{className:"detail-value",children:["",X.deliveryFee.toFixed(2)]})]}),n.jsxs("div",{className:"detail-row total",children:[n.jsx("span",{className:"detail-label",children:"Total Amount:"}),n.jsxs("span",{className:"detail-value",children:["",X.amount.toFixed(2)]})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Payment Method:"}),n.jsx("span",{className:"detail-value",children:n.jsxs("div",{className:"payment-method",children:[Ye(X.paymentMethod),X.paymentMethod]})})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Payment Status:"}),n.jsx("span",{className:"detail-value",children:n.jsx("span",{className:`status-badge ${X.paymentStatus}`,children:X.paymentStatus})})]}),X.type==="online"&&X.phone&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Phone:"}),n.jsx("span",{className:"detail-value",children:X.phone})]}),X.type==="online"&&X.email&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Email:"}),n.jsx("span",{className:"detail-value",children:X.email})]}),X.type==="online"&&X.deliveryAddress&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Delivery Address:"}),n.jsx("span",{className:"detail-value",children:X.deliveryAddress})]})]})]}),X.items&&X.items.length>0&&n.jsxs("div",{className:"items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsxs("table",{className:"items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:X.items.map((Te,qe)=>n.jsxs("tr",{children:[n.jsx("td",{children:Te.name}),n.jsx("td",{children:Te.quantity}),n.jsxs("td",{children:["",Te.price.toFixed(2)]}),n.jsxs("td",{children:["",(Te.quantity*Te.price).toFixed(2)]})]},qe))})]})]})]}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:()=>U(!1),children:"Close"})})]})}),n.jsx("style",{jsx:!0,children:`
        .comprehensive-dashboard {
          padding: 20px;
          max-width: 1400px;
          margin: 0 auto;
        }

        .dashboard-loading {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 400px;
          gap: 16px;
        }

        .error-banner {
          background-color: #fee2e2;
          color: #dc2626;
          padding: 12px 16px;
          border-radius: 8px;
          margin-bottom: 20px;
        }

        .dashboard-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 24px;
        }

        .dashboard-header h1 {
          font-size: 28px;
          font-weight: 700;
          color: #1f2937;
          margin: 0;
        }

        .btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 16px;
          border-radius: 6px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
        }

        .btn-outline {
          background: white;
          border: 1px solid #d1d5db;
          color: #374151;
        }

        .btn-outline:hover {
          background: #f9fafb;
        }

        .tab-navigation {
          display: flex;
          gap: 4px;
          margin-bottom: 24px;
          border-bottom: 1px solid #e5e7eb;
        }

        .tab-btn {
          padding: 12px 24px;
          background: none;
          border: none;
          font-weight: 500;
          color: #6b7280;
          cursor: pointer;
          border-bottom: 2px solid transparent;
          transition: all 0.2s;
        }

        .tab-btn.active {
          color: #ff7e47;
          border-bottom-color: #ff7e47;
        }

        .tab-btn:hover {
          color: #374151;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
          margin-bottom: 32px;
        }

        .stat-card {
          background: white;
          padding: 24px;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .stat-icon {
          width: 48px;
          height: 48px;
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
        }

        .stat-card.primary .stat-icon { background: #3b82f6; }
        .stat-card.success .stat-icon { background: #10b981; }
        .stat-card.info .stat-icon { background: #6366f1; }

        .stat-content h3 {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
          color: #1f2937;
        }

        .stat-content p {
          font-size: 14px;
          color: #6b7280;
          margin: 0 0 8px 0;
        }

        .stat-breakdown {
          font-size: 12px;
          color: #9ca3af;
        }

        .breakdown-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
          margin-bottom: 32px;
        }

        .breakdown-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          text-align: center;
        }

        .breakdown-card h3 {
          font-size: 16px;
          font-weight: 600;
          margin: 0 0 12px 0;
          color: #374151;
        }

        .breakdown-number {
          font-size: 24px;
          font-weight: 700;
          color: #1f2937;
        }

        .breakdown-revenue {
          font-size: 14px;
          color: #10b981;
          font-weight: 500;
        }

        .charts-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
          gap: 24px;
          margin-bottom: 32px;
        }

        .chart-card {
          background: white;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          overflow: hidden;
        }

        .chart-header {
          padding: 20px 24px 0 24px;
        }

        .chart-header h3 {
          font-size: 18px;
          font-weight: 600;
          margin: 0;
          color: #1f2937;
        }

        .chart-container {
          padding: 20px;
        }

        .filters-section {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          margin-bottom: 20px;
          display: flex;
          gap: 16px;
          flex-wrap: wrap;
          align-items: center;
        }

        .search-container {
          position: relative;
          flex: 1;
          min-width: 300px;
        }

        .search-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
        }

        .search-input {
          width: 100%;
          padding: 10px 12px 10px 40px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
        }

        .filter-controls {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
        }

        .filter-select {
          padding: 8px 12px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
          background: white;
        }

        .data-table-container {
          background: white;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          overflow: hidden;
          margin-bottom: 20px;
        }

        .data-table {
          width: 100%;
          border-collapse: collapse;
        }

        .data-table th {
          background: #f9fafb;
          padding: 12px;
          text-align: left;
          font-weight: 600;
          color: #374151;
          border-bottom: 1px solid #e5e7eb;
        }

        .data-table td {
          padding: 12px;
          border-bottom: 1px solid #f3f4f6;
        }

        .sortable-header {
          cursor: pointer;
          user-select: none;
        }

        .sort-header {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .status-badge {
          display: inline-block;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          font-weight: 500;
        }

        .status-badge.pending { background: #fef3c7; color: #92400e; }
        .status-badge.processing { background: #dbeafe; color: #1e40af; }
        .status-badge.completed { background: #d1fae5; color: #065f46; }
        .status-badge.cancelled { background: #fee2e2; color: #991b1b; }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .action-btn {
          display: flex;
          align-items: center;
          gap: 4px;
          padding: 6px 12px;
          background: #f3f4f6;
          border: none;
          border-radius: 4px;
          font-size: 12px;
          cursor: pointer;
          transition: background 0.2s;
        }

        .action-btn:hover {
          background: #e5e7eb;
        }

        .action-btn.view {
          background: #dbeafe;
          color: #1e40af;
        }

        .action-btn.view:hover {
          background: #bfdbfe;
        }

        .no-data {
          text-align: center;
          padding: 40px;
          color: #6b7280;
        }

        .pagination {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 8px;
          margin-top: 20px;
        }

        .pagination-btn {
          display: flex;
          align-items: center;
          gap: 4px;
          padding: 8px 12px;
          background: white;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          cursor: pointer;
          transition: background 0.2s;
        }

        .pagination-btn:hover:not(:disabled) {
          background: #f9fafb;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-pages {
          display: flex;
          gap: 4px;
        }

        .pagination-page {
          padding: 8px 12px;
          background: white;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .pagination-page:hover {
          background: #f9fafb;
        }

        .pagination-page.active {
          background: #ff7e47;
          color: white;
          border-color: #ff7e47;
        }

        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
        }

        .modal {
          background: white;
          border-radius: 12px;
          max-width: 800px;
          width: 90%;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 24px;
          border-bottom: 1px solid #e5e7eb;
        }

        .modal-header h3 {
          margin: 0;
          font-size: 18px;
          font-weight: 600;
        }

        .modal-close {
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #6b7280;
        }

        .modal-body {
          padding: 24px;
          overflow-y: auto;
        }

        .details-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 24px;
          margin-bottom: 24px;
        }

        .detail-section h4 {
          margin: 0 0 16px 0;
          font-size: 16px;
          font-weight: 600;
          color: #1f2937;
        }

        .detail-row {
          display: flex;
          margin-bottom: 8px;
        }

        .detail-row.total {
          font-weight: 600;
          border-top: 1px solid #e5e7eb;
          padding-top: 8px;
          margin-top: 8px;
        }

        .detail-label {
          width: 140px;
          color: #6b7280;
          font-weight: 500;
        }

        .detail-value {
          flex: 1;
          color: #1f2937;
        }

        .items-section {
          margin-top: 24px;
        }

        .items-section h4 {
          margin: 0 0 16px 0;
          font-size: 16px;
          font-weight: 600;
          color: #1f2937;
        }

        .items-table {
          width: 100%;
          border-collapse: collapse;
          border: 1px solid #e5e7eb;
          border-radius: 6px;
          overflow: hidden;
        }

        .items-table th {
          background: #f9fafb;
          padding: 12px;
          text-align: left;
          font-weight: 600;
          color: #374151;
        }

        .items-table td {
          padding: 12px;
          border-top: 1px solid #f3f4f6;
        }

        .modal-footer {
          padding: 16px 24px;
          border-top: 1px solid #e5e7eb;
          display: flex;
          justify-content: flex-end;
        }

        @media (max-width: 768px) {
          .comprehensive-dashboard {
            padding: 16px;
          }

          .dashboard-header {
            flex-direction: column;
            gap: 16px;
            align-items: flex-start;
          }

          .filters-section {
            flex-direction: column;
            align-items: stretch;
          }

          .search-container {
            min-width: auto;
          }

          .filter-controls {
            justify-content: stretch;
          }

          .filter-select {
            flex: 1;
          }

          .details-grid {
            grid-template-columns: 1fr;
          }

          .charts-grid {
            grid-template-columns: 1fr;
          }

          .data-table {
            font-size: 14px;
          }

          .data-table th,
          .data-table td {
            padding: 8px;
          }
        }

        .animate-spin {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
      `})]})},Lne=async e=>{const t=e.headers.get("content-type");if(!t||!t.includes("application/json")){const r=await e.text();throw new Error(`Expected JSON but received ${t||"unknown content type"}. Response: ${r.substring(0,200)}`)}try{return await e.json()}catch(r){throw new Error(`Failed to parse JSON: ${r.message}`)}},zne=async(e,t={})=>{try{const r=await fetch(e,t);if(!r.ok){const a=r.headers.get("content-type");if(a&&a.includes("application/json")){const s=await r.json();throw console.error("Backend error response:",s),new Error(s.message||`HTTP ${r.status}: ${r.statusText}`)}const i=await r.text();throw console.error("Backend error text:",i),new Error(`HTTP ${r.status}: ${i.substring(0,200)}`)}return await Lne(r)}catch(r){throw r.message.includes("Failed to fetch")?new Error(`Network error: Unable to reach ${e}. Please check your connection.`):r}},$ne=()=>{const e="https://hotelvirat.com/api/v1/hotel",t="https://hotelviratbackend.onrender.com/api/v1/hotel";return console.log(" Using backends:",{primary:e,secondary:t,mode:"production"}),[e,t]},Wt=async(e,t={},r=!1)=>{var l;const a=$ne(),[i]=a,s=t.method||"GET";(s==="POST"||s==="PUT")&&t.body&&!((l=t.headers)!=null&&l["Content-Type"])&&(t.body instanceof FormData||(t.headers={...t.headers,"Content-Type":"application/json"}));try{const d=`${i}${e}`;console.log(` ${s} ${d}`),console.log(` Endpoint: "${e}"`),console.log(` Primary URL: "${i}"`);const u=await zne(d,t),f=u.menuItem||u.category||u.data||u;return console.log(` ${s} successful`),f}catch(d){throw console.error(` ${s} failed:`,d.message),d.message.includes("400")&&(console.error("400 Bad Request - likely validation error"),console.error("Full error:",d)),d}},Une=()=>{var E;const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState("all"),[l,d]=N.useState("all"),[u,f]=N.useState(null),[p,m]=N.useState(null);N.useEffect(()=>{JSON.parse(localStorage.getItem("user")||"{}");const S=localStorage.getItem("categoryAccess");console.log(" Orders Component Loaded - Build Version: 2026-01-05-v2"),console.log("User category access:",S),m(S),g();const A=setInterval(g,3e4);return()=>clearInterval(A)},[]);const g=async()=>{try{console.log(" Fetching orders from mobile app only...");const S=_=>{var R,H,ne;const G=((R=_.categoryName)==null?void 0:R.toLowerCase().trim())||"";if(G){if(G.includes("temple")||G.includes("meal"))return"temple";if(G.includes("self")||G.includes("service"))return"self-service";if(G.includes("restaurant"))return"restaurant"}const P=(_.orderId||_.orderNumber||_._id||"").toLowerCase();if(P.includes("-tm-")||P.includes("temple"))return"temple";if(P.includes("-ss-")||P.includes("counter"))return"self-service";if(P.includes("-res-"))return"restaurant";if(_.items&&Array.isArray(_.items)&&_.items.length>0){const me={"692fe2788b36a58df247e06f":"restaurant","692fe2978b36a58df247e072":"self-service","692fe2ae8b36a58df247e075":"temple"},q=_.items.map(X=>{var te;const z=typeof X.categoryId=="string"?X.categoryId:((te=X.categoryId)==null?void 0:te._id)||X.categoryId;return me[z]}).filter(Boolean);if(q.length>0){const X={};return q.forEach(te=>{X[te]=(X[te]||0)+1}),Object.keys(X).reduce((te,U)=>X[te]>X[U]?te:U)}}const D=((H=_.tableNumber)==null?void 0:H.toString().toLowerCase())||"";return D.includes("counter")||D.includes("self")?"self-service":(console.log(" No clear category found, defaulting to restaurant for order:",{orderId:_.orderId||_.orderNumber||_._id,categoryName:_.categoryName,hasItems:!!((ne=_.items)!=null&&ne.length),tableNumber:_.tableNumber}),"restaurant")},A=await Wt("/order",{},!0).catch(_=>(console.log("Mobile app order endpoint failed:",_.message),[]));let k=[];const I=A;k=Array.isArray(I)?I:I.orders||[],console.log(` Mobile app orders found: ${k.length}`),k=k.map(_=>{var D,R;let G="Restaurant";const P=(_.orderId||_.orderNumber||_._id||"").toLowerCase();if(P.includes("-tm-")||P.includes("temple")?G="Temple Meals":P.includes("-ss-")||P.includes("counter")?G="Self Service":P.includes("-res-")&&(G="Restaurant"),_.items&&_.items.length>0){const H=_.items.map(ne=>ne.categoryId).filter(Boolean);if(H.length>0){const ne={};H.forEach(X=>{ne[X]=(ne[X]||0)+1});const me=Object.keys(ne).reduce((X,z)=>ne[X]>ne[z]?X:z),q={"692fe2788b36a58df247e06f":"Restaurant","692fe2978b36a58df247e072":"Self Service","692fe2ae8b36a58df247e075":"Temple Meals"};q[me]&&(G=q[me])}}return{..._,customerName:_.name||_.customerName||"Mobile User",customerMobile:_.phone||_.customerMobile||_.customerPhone,customerPhone:_.phone||_.customerPhone||_.customerMobile,tableNumber:_.tableNumber||"Mobile Order",branchName:((D=_.branchId)==null?void 0:D.name)||_.branchName||"Hotel Virat",grandTotal:_.total||_.grandTotal||_.totalAmount,totalAmount:_.total||_.totalAmount||_.grandTotal,status:_.status||"pending",items:_.items||[],subtotal:_.subtotal||_.total||0,tax:_.tax||0,serviceCharge:_.serviceCharge||0,deliveryFee:_.deliveryFee||0,deliveryOption:_.deliveryOption||"delivery",deliveryAddress:_.deliveryAddress||"",paymentMethod:_.paymentMethod||"cash",specialInstructions:_.specialInstructions||"",couponCode:_.couponCode||"",discount:_.discount||0,categoryName:_.categoryName||G,orderType:S({..._,categoryName:_.categoryName||G})}}),console.log(" Mobile Orders by Type:",{restaurant:k.filter(_=>_.orderType==="restaurant").length,selfService:k.filter(_=>_.orderType==="self-service").length,temple:k.filter(_=>_.orderType==="temple").length});const B=k;console.log(` Total mobile app orders: ${B.length}`),console.log(" Final Order Type Distribution:",{restaurant:B.filter(_=>_.orderType==="restaurant").length,selfService:B.filter(_=>_.orderType==="self-service").length,temple:B.filter(_=>_.orderType==="temple").length,undefined:B.filter(_=>!_.orderType).length});const M=localStorage.getItem("categoryAccess");let L=B;M&&M!=="All"&&(L=B.filter(_=>_.categoryName===M),console.log(` Filtered ${B.length} orders to ${L.length} for category: ${M}`));const F=Array.isArray(L)?L.sort((_,G)=>{const P=new Date(_.createdAt||_.orderTime||_.updatedAt||0),D=new Date(G.createdAt||G.orderTime||G.updatedAt||0),R=D-P;return(L.indexOf(_)<3||L.indexOf(G)<3)&&console.log(" Sorting Debug:",{orderA:_.orderId||_.orderNumber||_._id,dateA:P.toISOString(),orderB:G.orderId||G.orderNumber||G._id,dateB:D.toISOString(),result:R>0?"B is newer":"A is newer"}),R}):[];console.log(" Final sorted orders (first 5):",F.slice(0,5).map(_=>({orderId:_.orderId||_.orderNumber||_._id,orderType:_.orderType,createdAt:_.createdAt,status:_.status}))),t(F),console.log(` Orders loaded successfully: ${F.length} orders`)}catch(S){console.error(" Error fetching orders:",S),t([])}finally{a(!1)}},v=async(S,A)=>{try{console.log(` Updating order ${S} status to ${A}`);const[k,I]=await Promise.allSettled([Wt(`/staff-order/${S}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:A})}).catch(L=>(console.log("Staff order update failed:",L.message),null)),Wt(`/order/${S}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:A})}).catch(L=>(console.log("Regular order update failed:",L.message),null))]),B=k.status==="fulfilled"&&k.value,M=I.status==="fulfilled"&&I.value;if(B||M)console.log(` Order ${S} status updated successfully`),await g(),f(null);else throw new Error("Failed to update order in both endpoints")}catch(k){console.error(" Error updating order:",k),alert("Failed to update order status. Please try again.")}},j=S=>{switch(S){case"temple":return"";case"self-service":return"";case"restaurant":return"";default:return""}},b=S=>{switch(S){case"temple":return"Temple Meals";case"self-service":return"Self Service";case"restaurant":return"Restaurant Order";default:return"Order"}},y=e.filter(S=>(e.indexOf(S)<5&&console.log(" Order Filter Debug:",{orderId:S.orderId||S.orderNumber||S._id,orderType:S.orderType,orderTypeTab:l,willShow:l==="all"||S.orderType===l}),l!=="all"&&S.orderType!==l?!1:i==="all"?!0:S.status===i)),C=S=>{switch(S){case"pending":return"#f59e0b";case"confirmed":return"#3b82f6";case"preparing":return"#8b5cf6";case"out for delivery":return"#06b6d4";case"delivered":return"#10b981";case"cancelled":return"#ef4444";default:return"#6b7280"}},T=S=>{switch(S){case"pending":return n.jsx(bi,{size:20});case"confirmed":return n.jsx(Gi,{size:20});case"preparing":return n.jsx(bi,{size:20});case"out for delivery":return n.jsx(bi,{size:20});case"delivered":return n.jsx(Gi,{size:20});case"cancelled":return n.jsx(Cp,{size:20});default:return n.jsx(bi,{size:20})}};return n.jsxs("div",{style:vt.container,children:[n.jsxs("div",{style:vt.header,children:[n.jsxs("div",{children:[n.jsx("h1",{style:vt.title,children:"Mobile App Orders"}),n.jsx("p",{style:{margin:"5px 0 0",opacity:.7,fontSize:"14px"},children:"Orders placed from the Hotel Virat mobile app"}),p&&p!=="All"&&n.jsxs("p",{style:vt.categoryBadge,children:["Showing: ",p," orders only"]})]}),n.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:n.jsx("button",{onClick:g,style:vt.refreshBtn,children:"Refresh"})})]}),n.jsx("div",{style:vt.orderTypeTabs,children:[{key:"all",label:"All Orders",icon:""},{key:"restaurant",label:"Restaurant Orders",icon:""},{key:"temple",label:"Temple Meals",icon:""},{key:"self-service",label:"Self Service",icon:""}].map(S=>{const A=e.filter(k=>S.key==="all"||k.orderType===S.key).length;return console.log(` Tab ${S.key} count: ${A}`),n.jsxs("button",{onClick:()=>{console.log(` Switching to tab: ${S.key}`),d(S.key)},style:{...vt.orderTypeTab,...l===S.key?vt.orderTypeTabActive:{}},children:[n.jsx("span",{style:{marginRight:"8px"},children:S.icon}),S.label,n.jsxs("span",{style:{marginLeft:"8px",fontSize:"12px",opacity:.8},children:["(",A,")"]})]},S.key)})}),n.jsx("div",{style:vt.filterTabs,children:["all","pending","confirmed","preparing","out for delivery","delivered","cancelled"].map(S=>{const A=e.filter(I=>l==="all"||I.orderType===l),k=S==="all"?A.length:A.filter(I=>I.status===S).length;return n.jsxs("button",{onClick:()=>s(S),style:{...vt.filterTab,...i===S?vt.filterTabActive:{}},children:[S==="out for delivery"?"Out for Delivery":S.charAt(0).toUpperCase()+S.slice(1),n.jsxs("span",{style:{marginLeft:"6px"},children:["(",k,")"]})]},S)})}),r?n.jsx("div",{style:vt.loading,children:"Loading orders..."}):y.length===0?n.jsx("div",{style:vt.empty,children:"No orders found"}):n.jsx("div",{style:vt.ordersList,children:y.map(S=>{var A;return n.jsxs("div",{style:vt.orderCard,children:[n.jsxs("div",{style:vt.orderHeader,children:[n.jsxs("div",{children:[n.jsxs("h3",{style:vt.orderTitle,children:[j(S.orderType)," ",S.tableNumber==="Mobile Order"?"Mobile Order":`Table ${S.tableNumber}`]}),n.jsx("p",{style:vt.orderTime,children:new Date(S.createdAt||S.orderTime||S.updatedAt).toLocaleString()}),n.jsx("p",{style:vt.orderTypeLabel,children:b(S.orderType)})]}),n.jsxs("div",{style:{...vt.statusBadge,backgroundColor:C(S.status)},children:[T(S.status),n.jsx("span",{children:S.status})]})]}),n.jsxs("div",{style:vt.orderDetails,children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Customer:"})," ",S.customerName||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",S.customerMobile||S.customerPhone||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Branch:"})," ",S.branchName||"Hotel Virat"]}),S.deliveryOption&&n.jsxs("p",{children:[n.jsx("strong",{children:"Type:"})," ",S.deliveryOption==="delivery"?" Delivery":" Pickup"]}),S.deliveryAddress&&n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",S.deliveryAddress]}),S.paymentMethod&&n.jsxs("p",{children:[n.jsx("strong",{children:"Payment:"})," ",S.paymentMethod.toUpperCase()]}),S.categoryName&&n.jsxs("p",{children:[n.jsx("strong",{children:"Category:"})," ",S.categoryName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Items:"})," ",((A=S.items)==null?void 0:A.length)||0]}),S.couponCode&&n.jsxs("p",{children:[n.jsx("strong",{children:"Coupon:"})," ",S.couponCode," (-",S.discount||0,")"]}),n.jsxs("p",{style:vt.orderTotal,children:[n.jsx("strong",{children:"Total:"})," ",(S.grandTotal||S.totalAmount||S.total||0).toFixed(2)]})]}),n.jsxs("div",{style:vt.orderActions,children:[n.jsxs("button",{onClick:()=>f(S),style:vt.viewBtn,children:[n.jsx(ci,{size:16}),"View Details"]}),S.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>v(S._id,"delivered"),style:vt.completeBtn,children:"Complete"}),n.jsx("button",{onClick:()=>v(S._id,"cancelled"),style:vt.cancelBtn,children:"Cancel"})]})]})]},S._id)})}),u&&n.jsx("div",{style:vt.modalOverlay,onClick:()=>f(null),children:n.jsxs("div",{style:vt.modal,onClick:S=>S.stopPropagation(),children:[n.jsxs("div",{style:vt.modalHeader,children:[n.jsx("h2",{children:"Order Details"}),n.jsx("button",{onClick:()=>f(null),style:vt.closeBtn,children:""})]}),n.jsxs("div",{style:vt.modalBody,children:[n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Order Type:"}),n.jsx("span",{children:u.tableNumber==="Mobile Order"?" Mobile App Order":` Table ${u.tableNumber}`})]}),n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Customer:"}),n.jsx("span",{children:u.customerName||"N/A"})]}),n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Phone:"}),n.jsx("span",{children:u.customerMobile||u.customerPhone||"N/A"})]}),n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Status:"}),n.jsx("span",{style:{color:C(u.status),fontWeight:"bold"},children:u.status})]}),u.deliveryOption&&n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Delivery Type:"}),n.jsx("span",{children:u.deliveryOption==="delivery"?" Delivery":" Pickup"})]}),u.deliveryAddress&&n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Delivery Address:"}),n.jsx("span",{children:u.deliveryAddress})]}),u.paymentMethod&&n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Payment Method:"}),n.jsx("span",{children:u.paymentMethod.toUpperCase()})]}),u.couponCode&&n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Coupon Applied:"}),n.jsx("span",{children:u.couponCode})]}),u.specialInstructions&&n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Special Instructions:"}),n.jsx("span",{children:u.specialInstructions})]}),u.notes&&n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Notes:"}),n.jsx("span",{children:u.notes})]}),n.jsx("h3",{style:vt.itemsTitle,children:"Items:"}),(E=u.items)==null?void 0:E.map((S,A)=>n.jsxs("div",{style:vt.itemRow,children:[n.jsxs("div",{children:[n.jsx("div",{style:vt.itemName,children:S.name}),n.jsxs("div",{style:vt.itemQty,children:[S.quantity||S.count||1,"  ",S.price]})]}),n.jsxs("div",{style:vt.itemPrice,children:["",((S.price||0)*(S.quantity||S.count||1)).toFixed(2)]})]},A)),n.jsxs("div",{style:vt.totalRow,children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",(u.subtotal||u.totalAmount||u.total||0).toFixed(2)]})]}),u.discount>0&&n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{style:{color:"#10b981"},children:["-",u.discount.toFixed(2)]})]}),u.deliveryFee>0&&n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Delivery Fee:"}),n.jsxs("span",{children:["",u.deliveryFee.toFixed(2)]})]}),u.tax>0&&n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Tax (5%):"}),n.jsxs("span",{children:["",u.tax.toFixed(2)]})]}),u.serviceCharge>0&&n.jsxs("div",{style:vt.detailRow,children:[n.jsx("span",{children:"Service Charge (10%):"}),n.jsxs("span",{children:["",u.serviceCharge.toFixed(2)]})]}),n.jsxs("div",{style:vt.totalRow,children:[n.jsx("span",{children:"Grand Total:"}),n.jsxs("span",{children:["",(u.grandTotal||u.totalAmount||u.total||0).toFixed(2)]})]})]})]})})]})},vt={container:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},title:{fontSize:"28px",fontWeight:"bold",margin:0},categoryBadge:{display:"inline-block",marginTop:"8px",padding:"6px 12px",backgroundColor:"#10b981",color:"white",borderRadius:"6px",fontSize:"14px",fontWeight:"600"},refreshBtn:{padding:"10px 20px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},orderTypeTabs:{display:"flex",gap:"8px",marginBottom:"16px",flexWrap:"wrap",borderBottom:"2px solid #f3f4f6",paddingBottom:"16px"},orderTypeTab:{display:"flex",alignItems:"center",padding:"10px 16px",backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",fontWeight:"500",fontSize:"14px",whiteSpace:"nowrap",transition:"all 0.2s ease"},orderTypeTabActive:{backgroundColor:"#3b82f6",color:"white",borderColor:"#3b82f6"},orderTypeLabel:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},filterTabs:{display:"flex",gap:"8px",marginBottom:"24px",flexWrap:"wrap"},filterTab:{padding:"8px 16px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"500",fontSize:"14px",whiteSpace:"nowrap"},filterTabActive:{backgroundColor:"#10b981",color:"white"},loading:{textAlign:"center",padding:"40px",color:"#6b7280"},empty:{textAlign:"center",padding:"40px",color:"#6b7280"},ordersList:{display:"grid",gap:"16px"},orderCard:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px"},orderHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},orderTitle:{fontSize:"20px",fontWeight:"bold",margin:"0 0 4px 0"},orderTime:{fontSize:"14px",color:"#6b7280",margin:0},statusBadge:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"20px",color:"white",fontSize:"14px",fontWeight:"600"},orderDetails:{marginBottom:"16px",fontSize:"14px",lineHeight:"1.8"},orderTotal:{fontSize:"18px",color:"#10b981",marginTop:"8px"},orderActions:{display:"flex",gap:"8px",flexWrap:"wrap"},viewBtn:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},completeBtn:{padding:"8px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},cancelBtn:{padding:"8px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{backgroundColor:"white",borderRadius:"12px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #e5e7eb"},closeBtn:{background:"none",border:"none",fontSize:"32px",cursor:"pointer",color:"#6b7280",lineHeight:1},modalBody:{padding:"20px",overflowY:"auto"},detailRow:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #f3f4f6"},itemsTitle:{marginTop:"20px",marginBottom:"12px",fontSize:"18px",fontWeight:"bold"},itemRow:{display:"flex",justifyContent:"space-between",padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",marginBottom:"8px"},itemName:{fontWeight:"600",marginBottom:"4px"},itemQty:{fontSize:"14px",color:"#6b7280"},itemPrice:{fontWeight:"bold",color:"#10b981"},totalRow:{display:"flex",justifyContent:"space-between",marginTop:"20px",padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",fontSize:"20px",fontWeight:"bold",color:"#10b981"}},Op=e=>{if(!e)return null;if(e.startsWith("http://")||e.startsWith("https://"))return e;const t="https://hotelvirat.com/api/v1/hotel".replace("/api/v1/hotel","")||"https://hotelvirat.com";let r=e.toString().trim().replace(/\\/g,"/"),a;if(r.startsWith("/"))a=`${t}${r}`;else if(r.startsWith("uploads/"))a=`${t}/${r}`;else{const i=r.split("/").pop();a=`${t}/uploads/menu/${i}`}return a},qne=e=>{if(!e)return null;if(e.startsWith("http://localhost"))return e.replace("https://hotelvirat.com","https://hotelvirat.com");if(e.startsWith("https://hotelvirat.com")||e.startsWith("http://")||e.startsWith("https://"))return e;const t="https://hotelvirat.com";let r=e.toString().trim().replace(/\\/g,"/"),a;if(r.startsWith("/"))a=`${t}${r}`;else if(r.startsWith("uploads/"))a=`${t}/${r}`;else{const i=r.split("/").pop();a=`${t}/uploads/menu/${i}`}return a},Wne=({product:e,onClose:t,onSave:r,branches:a,categories:i,selectedBranch:s})=>{var F,_,G;const l=!!e,d=["Small","Medium","Large"],[u,f]=N.useState({menuItemNumber:(e==null?void 0:e.menuItemNumber)||"",name:(e==null?void 0:e.name)||"",branchId:typeof(e==null?void 0:e.branchId)=="object"?((F=e==null?void 0:e.branchId)==null?void 0:F._id)||s:(e==null?void 0:e.branchId)||s,categoryId:typeof(e==null?void 0:e.categoryId)=="object"?((_=e==null?void 0:e.categoryId)==null?void 0:_._id)||"":(e==null?void 0:e.categoryId)||"",subcategoryId:typeof(e==null?void 0:e.subcategoryId)=="object"?((G=e==null?void 0:e.subcategoryId)==null?void 0:G._id)||"":(e==null?void 0:e.subcategoryId)||"",quantities:(e==null?void 0:e.quantities)||[],prices:(e==null?void 0:e.prices)||{},image:null,subscriptionEnabled:(e==null?void 0:e.subscriptionEnabled)||!1,subscriptionPlans:(e==null?void 0:e.subscriptionPlans)||[],subscriptionAmount:(e==null?void 0:e.subscriptionAmount)||0,subscriptionDiscount:(e==null?void 0:e.subscriptionDiscount)||0,subscriptionDuration:(e==null?void 0:e.subscriptionDuration)||"3days",subscription3DaysDiscount:(e==null?void 0:e.subscription3DaysDiscount)||5,subscription1WeekDiscount:(e==null?void 0:e.subscription1WeekDiscount)||10,subscription1MonthDiscount:(e==null?void 0:e.subscription1MonthDiscount)||15,subscription3DaysPrice:(e==null?void 0:e.subscription3DaysPrice)||100,subscription1WeekPrice:(e==null?void 0:e.subscription1WeekPrice)||250,subscription1MonthPrice:(e==null?void 0:e.subscription1MonthPrice)||500}),[p,m]=N.useState([]),[g,v]=N.useState([]),[j,b]=N.useState([]),[y,C]=N.useState(null),[T,E]=N.useState(!1),[S,A]=N.useState("");N.useEffect(()=>{(async()=>{try{const D=await Wt("/subcategory");v(D||[])}catch(D){console.error("Error fetching subcategories:",D)}})()},[]),N.useEffect(()=>{var P,D,R;e&&f({name:e.name||"",branchId:typeof e.branchId=="object"?((P=e.branchId)==null?void 0:P._id)||s:e.branchId||s,categoryId:typeof e.categoryId=="object"?((D=e.categoryId)==null?void 0:D._id)||"":e.categoryId||"",subcategoryId:typeof e.subcategoryId=="object"?((R=e.subcategoryId)==null?void 0:R._id)||"":e.subcategoryId||"",quantities:e.quantities||[],prices:e.prices||{},image:null,subscriptionEnabled:e.subscriptionEnabled||!1,subscriptionPlans:e.subscriptionPlans||[],subscriptionAmount:e.subscriptionAmount||0,subscriptionDiscount:e.subscriptionDiscount||0,subscriptionDuration:e.subscriptionDuration||"3days",subscription3DaysDiscount:e.subscription3DaysDiscount||5,subscription1WeekDiscount:e.subscription1WeekDiscount||10,subscription1MonthDiscount:e.subscription1MonthDiscount||15,subscription3DaysPrice:e.subscription3DaysPrice||100,subscription1WeekPrice:e.subscription1WeekPrice||250,subscription1MonthPrice:e.subscription1MonthPrice||500})},[e,s]),N.useEffect(()=>{if(e!=null&&e.image){const P=Op(e.image);C(P)}else C(null)},[e]),N.useEffect(()=>{if(console.log(" Categories changed or branch changed:",{totalCategories:i.length,selectedBranchId:u.branchId,categories:i.map(P=>{var D;return{name:P.name,branchId:P.branchId,branchObjId:(D=P.branch)==null?void 0:D.id,_id:P._id}})}),i.length>0&&u.branchId){const P=i.filter(D=>{var ne;const R=D.branchId||((ne=D.branch)==null?void 0:ne.id),H=R===u.branchId;return console.log(`Category "${D.name}": branchId=${R}, matches=${H}`),H});console.log(` Filtered ${P.length} categories for branch ${u.branchId}`),m(P),u.categoryId&&(P.some(R=>R._id===u.categoryId)||f(R=>({...R,categoryId:""})))}else console.log(" No branch selected, showing all categories"),m(i)},[u.branchId,i]),N.useEffect(()=>{if(g.length>0&&u.categoryId){const P=g.filter(D=>{var H;return(((H=D.categoryId)==null?void 0:H._id)||D.categoryId)===u.categoryId});b(P),u.subcategoryId&&(P.some(R=>R._id===u.subcategoryId)||f(R=>({...R,subcategoryId:""})))}else b([]),f(P=>({...P,subcategoryId:""}))},[u.categoryId,g]);const k=P=>{const{name:D,value:R}=P.target;f({...u,[D]:R})},I=P=>{const D=P.target.value;f(R=>{const H=R.quantities.includes(D)?R.quantities.filter(me=>me!==D):[...R.quantities,D],ne={...R.prices};return H.includes(D)||delete ne[D],{...R,quantities:H,prices:ne}})},B=P=>{const{name:D,value:R}=P.target;f(H=>({...H,prices:{...H.prices,[D]:parseFloat(R)||""}}))},M=P=>{const D=P.target.files[0];if(D){if(D.size>5*1024*1024){A("Image size must be less than 5MB");return}if(!D.type.startsWith("image/")){A("Please select a valid image file");return}f(R=>({...R,image:D})),A("")}},L=async P=>{if(P.preventDefault(),E(!0),A(""),u.quantities.length===0){A("Please select at least one quantity"),E(!1);return}for(const D of u.quantities)if(!u.prices[D]||u.prices[D]<=0){A(`Please enter a valid price for ${D}`),E(!1);return}try{await r(u),t()}catch(D){A(D.message||"Failed to save product. Please try again.")}finally{E(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:[n.jsx(Pa,{size:20,style:{marginRight:"8px"}}),e?"Edit Item":"Add Item"]}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:L,children:[n.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[S&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:16}),n.jsx("span",{children:S})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"branchId",children:"Branch *"}),n.jsxs("select",{id:"branchId",name:"branchId",className:"form-select",value:u.branchId,onChange:k,required:!0,disabled:l,style:l?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{},children:[n.jsx("option",{value:"",children:"Select Branch"}),a.map(P=>n.jsx("option",{value:P._id,children:P.name},P._id))]}),l&&n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:"Branch cannot be changed after creation"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"categoryId",children:"Category *"}),n.jsxs("select",{id:"categoryId",name:"categoryId",className:"form-select",value:u.categoryId,onChange:k,required:!0,children:[n.jsx("option",{value:"",children:"Select Category"}),p.map(P=>n.jsx("option",{value:P._id,children:P.name},P._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"subcategoryId",children:"Subcategory (Optional)"}),n.jsxs("select",{id:"subcategoryId",name:"subcategoryId",className:"form-select",value:u.subcategoryId,onChange:k,disabled:!u.categoryId,style:u.categoryId?{}:{backgroundColor:"#f3f4f6",cursor:"not-allowed"},children:[n.jsx("option",{value:"",children:"Select Subcategory (Optional)"}),j.map(P=>n.jsx("option",{value:P._id,children:P.name},P._id))]}),!u.categoryId&&n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:"Please select a category first"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Menu Item Number (Optional - for quick access)"}),n.jsx("input",{type:"number",min:"1",value:u.menuItemNumber||"",onChange:P=>f({...u,menuItemNumber:parseInt(P.target.value)||null}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},placeholder:"Enter a unique number (e.g., 1, 2, 3...)"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"name",children:"Item Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:u.name,onChange:k,required:!0,placeholder:"Enter item name (e.g., Pizza, Sandwich, Pasta)"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Quantities *"}),n.jsx("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:d.map(P=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"checkbox",name:"quantities",value:P,checked:u.quantities.includes(P),onChange:I,style:{width:"16px",height:"16px"}}),n.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:P})]},P))})]}),u.quantities.length>0&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Prices *"}),u.quantities.map(P=>n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("label",{style:{display:"block",fontSize:"14px",color:"#6b7280",marginBottom:"4px"},children:["Price for ",P]}),n.jsx("input",{type:"number",name:P,value:u.prices[P]||"",onChange:B,className:"form-input",required:!0,min:"0",step:"0.01",placeholder:`Enter price for ${P}`})]},P))]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Menu Item Image"}),(e==null?void 0:e.image)&&!u.image&&n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:"Current Image:"}),n.jsx("img",{src:Op(e.image),alt:"Current menu item",style:{width:"100%",height:"192px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"},onError:P=>{console.error("Failed to load existing image:",Op(e.image)),P.target.style.display="none"}})]}),n.jsx("input",{type:"file",name:"image",onChange:M,accept:"image/*",className:"form-input",style:{padding:"8px"}}),u.image&&n.jsx("div",{style:{marginTop:"12px"},children:u.image instanceof File?n.jsxs("div",{children:[n.jsx("img",{src:URL.createObjectURL(u.image),alt:"Preview",style:{width:"100%",height:"192px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"}}),n.jsxs("p",{style:{marginTop:"8px",fontSize:"12px",color:"#10b981"},children:[" New image selected: ",u.image.name]})]}):n.jsx("p",{style:{marginTop:"8px",fontSize:"12px",color:"#10b981"},children:" Image selected"})}),n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:e!=null&&e.image&&!u.image?"Upload a new image to replace the current one (optional)":"Upload an image for this menu item (JPEG, PNG, GIF, WEBP, AVIF up to 5MB)"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",name:"subscriptionEnabled",checked:u.subscriptionEnabled,onChange:P=>f({...u,subscriptionEnabled:P.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),n.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Enable Subscription for this item"})]}),n.jsx("p",{style:{marginTop:"4px",marginLeft:"26px",fontSize:"12px",color:"#6b7280"},children:"Allow customers to subscribe to this menu item for regular delivery"})]}),u.subscriptionEnabled&&n.jsxs("div",{style:{marginTop:"16px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[n.jsxs("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#374151",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{children:""})," Subscription Configuration"]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"16px"},children:[n.jsx("label",{style:{fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",display:"block"},children:"Subscription Pricing"}),n.jsxs("div",{style:{display:"grid",gap:"16px"},children:[n.jsxs("div",{style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"},children:[n.jsx("h5",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"3 Days Plan"}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Subscription Fee ()"}),n.jsx("input",{type:"number",min:"0",value:u.subscription3DaysPrice||"",onChange:P=>{const D=parseFloat(P.target.value)||0;f({...u,subscription3DaysPrice:D})},placeholder:"100",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),n.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:"4px 0 0 0"},children:"Amount users pay to buy this subscription"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Discount Percentage (%)"}),n.jsx("input",{type:"number",min:"0",max:"50",value:u.subscription3DaysDiscount||"",onChange:P=>{const D=parseFloat(P.target.value)||0;f({...u,subscription3DaysDiscount:D})},placeholder:"5",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},step:"0.01"})]})]}),n.jsxs("div",{style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"},children:[n.jsx("h5",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"1 Week Plan"}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Subscription Fee ()"}),n.jsx("input",{type:"number",min:"0",value:u.subscription1WeekPrice||"",onChange:P=>{const D=parseFloat(P.target.value)||0;f({...u,subscription1WeekPrice:D})},placeholder:"250",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),n.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:"4px 0 0 0"},children:"Amount users pay to buy this subscription"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Discount Percentage (%)"}),n.jsx("input",{type:"number",min:"0",max:"50",value:u.subscription1WeekDiscount||"",onChange:P=>{const D=parseFloat(P.target.value)||0;f({...u,subscription1WeekDiscount:D})},placeholder:"10",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},step:"0.01"})]})]}),n.jsxs("div",{style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"},children:[n.jsx("h5",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"1 Month Plan"}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Subscription Fee ()"}),n.jsx("input",{type:"number",min:"0",value:u.subscription1MonthPrice||"",onChange:P=>{const D=parseFloat(P.target.value)||0;f({...u,subscription1MonthPrice:D})},placeholder:"500",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),n.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:"4px 0 0 0"},children:"Amount users pay to buy this subscription"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Discount Percentage (%)"}),n.jsx("input",{type:"number",min:"0",max:"50",value:u.subscription1MonthDiscount||"",onChange:P=>{const D=parseFloat(P.target.value)||0;f({...u,subscription1MonthDiscount:D})},placeholder:"15",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},step:"0.01"})]})]})]}),n.jsx("p",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:" Set discount percentages for each subscription plan"})]}),(u.subscription3DaysDiscount>0||u.subscription1WeekDiscount>0||u.subscription1MonthDiscount>0)&&n.jsxs("div",{style:{padding:"12px",backgroundColor:"#e0f2fe",borderRadius:"6px",border:"1px solid #0891b2"},children:[n.jsx("p",{style:{fontSize:"13px",color:"#0c4a6e",margin:0,marginBottom:"8px"},children:n.jsx("strong",{children:" Subscription Plans Preview:"})}),u.subscription3DaysDiscount>0&&n.jsxs("p",{style:{fontSize:"12px",color:"#0c4a6e",margin:"4px 0"},children:[" 3 Days: Pay ",u.subscription3DaysPrice||100,"  Get ",u.subscription3DaysDiscount,"% discount",Object.keys(u.prices).length>0&&n.jsxs("span",{style:{color:"#059669",fontWeight:"bold"},children:[" ","(",Math.round(Object.values(u.prices)[0]*(1-u.subscription3DaysDiscount/100)),")"]})]}),u.subscription1WeekDiscount>0&&n.jsxs("p",{style:{fontSize:"12px",color:"#0c4a6e",margin:"4px 0"},children:[" 1 Week: Pay ",u.subscription1WeekPrice||250,"  Get ",u.subscription1WeekDiscount,"% discount",Object.keys(u.prices).length>0&&n.jsxs("span",{style:{color:"#059669",fontWeight:"bold"},children:[" ","(",Math.round(Object.values(u.prices)[0]*(1-u.subscription1WeekDiscount/100)),")"]})]}),u.subscription1MonthDiscount>0&&n.jsxs("p",{style:{fontSize:"12px",color:"#0c4a6e",margin:"4px 0"},children:[" 1 Month: Pay ",u.subscription1MonthPrice||500,"  Get ",u.subscription1MonthDiscount,"% discount",Object.keys(u.prices).length>0&&n.jsxs("span",{style:{color:"#059669",fontWeight:"bold"},children:[" ","(",Math.round(Object.values(u.prices)[0]*(1-u.subscription1MonthDiscount/100)),")"]})]}),n.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:"8px 0 0 0",fontStyle:"italic"},children:"* Users pay subscription fee upfront, then get discounted prices during subscription period"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:T,style:{padding:"12px 24px",borderRadius:"8px"},children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:T,style:{padding:"12px 24px",borderRadius:"8px",backgroundColor:"#6366f1"},children:T?"Saving...":e?"Update Item":"Add Item"})]})]})]})})},Hne=({product:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),[s,l]=N.useState(""),d=async()=>{i(!0),l("");try{await r(e._id),t()}catch(u){l(u.message||"Failed to delete product. Please try again.")}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Product"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[s&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:16}),n.jsx("span",{children:s})]}),n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:d,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Gne=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState(""),[p,m]=N.useState(""),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(!1),[T,E]=N.useState(null),[S,A]=N.useState(!1),[k,I]=N.useState(null),[B,M]=N.useState([]),[L,F]=N.useState([]),[_,G]=N.useState(!0),[P,D]=N.useState(!0),[R,H]=N.useState(""),[ne,me]=N.useState(""),[q,X]=N.useState(""),[z,te]=N.useState(!1),[U,ee]=N.useState(null),[le,ce]=N.useState(null);N.useEffect(()=>{(async()=>{try{await je(),await ie(),await ve(),await Ne()}catch(re){console.error("Error loading data:",re),H("Failed to load data. Please refresh the page and try again.")}})()},[]),N.useEffect(()=>{ge()},[e,p,g,j,u]),N.useEffect(()=>{if(g){const K=l.filter(re=>{var Z;return(((Z=re.categoryId)==null?void 0:Z._id)||re.categoryId)===g});F(K),j&&(K.some(W=>W._id===j)||b(""))}else F([]),b("")},[g,l]),N.useEffect(()=>{ge()},[e,p,g,u]);const je=async()=>{try{const K=await Wt("/branch",{},!0);a(K),K.length>0&&!p&&m(K[0]._id)}catch(K){console.error("Error fetching branches:",K),H("Failed to load branches. Please refresh the page and try again.")}},ie=async()=>{D(!0);try{const K=await Wt("/category",{},!0);s(K),K.length===0&&H("No categories found. Please add a category first.")}catch(K){console.error("Error fetching categories:",K),H("Failed to load categories. Please refresh the page and try again.")}finally{D(!1)}},ve=async()=>{try{const K=await Wt("/subcategory",{},!0);d(K||[])}catch(K){console.error("Error fetching subcategories:",K)}},Ne=async()=>{G(!0),H("");try{const K=await Wt("/menu",{},!0);console.log("Fetched products:",K),K&&K.length>0&&(console.log("Full product object:",K[0]),console.log("All product keys:",Object.keys(K[0])),console.log("Product fields:",{itemName:K[0].itemName,name:K[0].name,image:K[0].image,price:K[0].price,quantities:K[0].quantities,prices:K[0].prices})),t(K)}catch(K){console.error("Error fetching products:",K),H("Failed to load products. Please refresh the page and try again.")}finally{G(!1)}},ge=()=>{let K=e;p&&(K=K.filter(re=>!re||!re.branchId?!1:(typeof re.branchId=="object"?re.branchId._id:re.branchId)===p)),g&&(K=K.filter(re=>!re||!re.categoryId?!1:(typeof re.categoryId=="object"?re.categoryId._id:re.categoryId)===g)),j&&(K=K.filter(re=>!re||!re.subcategoryId?!1:(typeof re.subcategoryId=="object"?re.subcategoryId._id:re.subcategoryId)===j)),u&&(K=K.filter(re=>re&&re.name&&re.name.toLowerCase().includes(u.toLowerCase())||re&&re.description&&re.description.toLowerCase().includes(u.toLowerCase()))),M(K)},Ye=()=>{E(null),C(!0)},Te=K=>{E(K),C(!0)},qe=K=>{I(K),A(!0)},V=async K=>{try{const re=new FormData;re.append("itemName",K.name);const W=typeof K.branchId=="object"?K.branchId._id:K.branchId,Z=typeof K.categoryId=="object"?K.categoryId._id:K.categoryId;if(console.log("Extracted IDs:",{branchId:W,categoryId:Z}),console.log("Original formData:",{branchId:K.branchId,categoryId:K.categoryId}),re.append("branchId",W),re.append("categoryId",Z),K.subcategoryId){const be=typeof K.subcategoryId=="object"?K.subcategoryId._id:K.subcategoryId;re.append("subcategoryId",be)}re.append("menuTypes",JSON.stringify(K.quantities)),re.append("quantities",JSON.stringify(K.quantities)),re.append("prices",JSON.stringify(K.prices)),re.append("subscriptionEnabled",K.subscriptionEnabled),K.menuItemNumber&&K.menuItemNumber!==""&&K.menuItemNumber!=="0"&&re.append("menuItemNumber",K.menuItemNumber),re.append("subscriptionPlans",JSON.stringify(K.subscriptionPlans)),re.append("subscriptionAmount",K.subscriptionAmount||0),re.append("subscriptionDiscount",K.subscriptionDiscount||0),re.append("subscriptionDuration",K.subscriptionDuration||"3days"),re.append("subscription3DaysDiscount",K.subscription3DaysDiscount||0),re.append("subscription1WeekDiscount",K.subscription1WeekDiscount||0),re.append("subscription1MonthDiscount",K.subscription1MonthDiscount||0),re.append("subscription3DaysPrice",K.subscription3DaysPrice||0),re.append("subscription1WeekPrice",K.subscription1WeekPrice||0),re.append("subscription1MonthPrice",K.subscription1MonthPrice||0),K.image&&K.image instanceof File?(console.log("Appending image to FormData:",K.image.name,K.image.size,"bytes"),re.append("image",K.image)):console.log("No image to upload:",{hasImage:!!K.image,isFile:K.image instanceof File}),console.log("FormData entries being sent:");for(let[be,Me]of re.entries())console.log(`${be}:`,Me);let Q;return T?(console.log("Current product for update:",T),console.log("Current product ID:",T._id),console.log("Current product ID type:",typeof T._id),Q=await Wt(`/menu/${T._id}`,{method:"PUT",body:re}),console.log("Product updated, response:",Q),console.log("Image path in response:",Q.image),await Ne(),me(`Item "${Q.itemName||Q.name}" updated successfully`)):(Q=await Wt("/menu",{method:"POST",body:re}),console.log("Product created, response:",Q),console.log("Image path in response:",Q.image),await Ne(),me(`Item "${Q.itemName||Q.name}" created successfully`)),setTimeout(()=>{me("")},3e3),Q}catch(re){throw console.error("Error saving product:",re),new Error(re.message||"Failed to save product")}},fe=async K=>{var re,W;try{await Wt(`/menu/${K}`,{method:"DELETE"}),t(e.filter(Z=>Z._id!==K)),me("Product deleted successfully"),setTimeout(()=>{me("")},3e3)}catch(Z){throw console.error("Error deleting product:",Z),new Error(((W=(re=Z.response)==null?void 0:re.data)==null?void 0:W.message)||"Failed to delete product")}},Ee=(K,re)=>{if(re&&re.name)return re.name;const W=i.find(Z=>Z._id===K);return W?W.name:"Unknown"};return n.jsxs("div",{className:"products-page",children:[ne&&n.jsxs("div",{className:"success-message",children:[n.jsx(vn,{size:16}),n.jsx("span",{children:ne}),n.jsx("button",{onClick:()=>me(""),children:n.jsx("span",{children:""})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Products"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:Ye,children:[n.jsx(Pa,{size:16}),n.jsx("span",{children:"Add Product"})]})})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",flexWrap:"wrap"},children:[n.jsxs("button",{onClick:()=>m(""),style:{padding:"10px 20px",borderRadius:"25px",border:"none",backgroundColor:p===""?"#6366f1":"#e5e7eb",color:p===""?"white":"#374151",cursor:"pointer",fontWeight:"500",transition:"all 0.2s"},children:["All Branches (",e.length,")"]}),r.map(K=>{const re=e.filter(W=>W.branchId?(typeof W.branchId=="object"?W.branchId._id:W.branchId)===K._id:!1).length;return n.jsxs("button",{onClick:()=>m(K._id),style:{padding:"10px 20px",borderRadius:"25px",border:"none",backgroundColor:p===K._id?"#6366f1":"#e5e7eb",color:p===K._id?"white":"#374151",cursor:"pointer",fontWeight:"500",transition:"all 0.2s"},children:[K.name," (",re,")"]},K._id)})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px",color:"#374151"},children:"Filter by Category:"}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[n.jsxs("button",{onClick:()=>v(""),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:g===""?"#10b981":"#f3f4f6",color:g===""?"white":"#374151",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},children:["All Categories (",p?B.length:e.length,")"]}),i.filter(K=>{var W;return p?(K.branchId||((W=K.branch)==null?void 0:W.id))===p:!0}).map(K=>{const re=(p?B:e).filter(W=>W.categoryId?(typeof W.categoryId=="object"?W.categoryId._id:W.categoryId)===K._id:!1).length;return n.jsxs("button",{onClick:()=>v(K._id),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:g===K._id?"#10b981":"#f3f4f6",color:g===K._id?"white":"#374151",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},children:[K.name," (",re,")"]},K._id)})]})]}),g&&L.length>0&&n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px",color:"#374151"},children:"Filter by Subcategory:"}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>b(""),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:j===""?"#8b5cf6":"#f3f4f6",color:j===""?"white":"#374151",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},children:"All Subcategories"}),L.map(K=>{const re=B.filter(W=>W.subcategoryId?(typeof W.subcategoryId=="object"?W.subcategoryId._id:W.subcategoryId)===K._id:!1).length;return n.jsxs("button",{onClick:()=>b(K._id),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:j===K._id?"#8b5cf6":"#f3f4f6",color:j===K._id?"white":"#374151",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},children:[K.name," (",re,")"]},K._id)})]})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search products...",className:"search-input",value:u,onChange:K=>f(K.target.value)})]})}),R&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:18}),n.jsx("span",{children:R})]}),_||P?n.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading data..."})}):n.jsx("div",{className:"grid-container",children:B.length>0?B.map(K=>{var re;return n.jsxs("div",{id:`product-${K._id}`,className:"grid-item",style:{border:le===K._id?"3px solid #10b981":void 0,boxShadow:le===K._id?"0 0 20px rgba(16, 185, 129, 0.3)":void 0,transform:le===K._id?"scale(1.02)":void 0,transition:"all 0.3s ease"},children:[n.jsxs("div",{className:"grid-item-image-container",style:{position:"relative"},children:[n.jsx("img",{src:Op(K.image)||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200'%3E%3Crect fill='%23f3f4f6' width='300' height='200'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='18' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ENo Image%3C/text%3E%3C/svg%3E",alt:K.name||K.itemName,className:"grid-item-image",onError:W=>{const Z=qne(K.image);Z&&W.target.src!==Z?W.target.src=Z:(W.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200'%3E%3Crect fill='%23f3f4f6' width='300' height='200'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='16' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ENo Image%3C/text%3E%3C/svg%3E",W.target.onerror=null)}}),K.subscriptionEnabled&&n.jsxs("div",{style:{position:"absolute",top:"8px",right:"8px",backgroundColor:"#10b981",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"SUBSCRIPTION"})]})]}),n.jsxs("div",{className:"grid-item-content",children:[n.jsxs("h3",{className:"grid-item-title",children:[K.menuItemNumber&&n.jsxs("span",{style:{display:"inline-block",backgroundColor:"#3b82f6",color:"white",padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",marginRight:"8px"},children:["#",K.menuItemNumber]}),K.name||K.itemName||((re=K.categoryId)==null?void 0:re.name)||"Unnamed Product"]}),n.jsx("p",{className:"grid-item-subtitle",children:Ee(K.categoryId,K.categoryId)}),K.quantities&&K.quantities.length>0?n.jsx("div",{style:{marginTop:"8px",marginBottom:"8px"},children:K.quantities.map(W=>{var Z;return n.jsxs("div",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px"},children:[n.jsxs("span",{style:{fontWeight:"500"},children:[W,":"]})," ",n.jsx("span",{style:{fontFamily:"Arial, sans-serif"},children:""}),(Z=K.prices)!=null&&Z[W]?Number(K.prices[W]).toFixed(2):"0.00"]},W)})}):K.description&&n.jsx("p",{style:{fontSize:"13px",color:"#6b7280",marginTop:"8px",marginBottom:"8px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:K.description}),n.jsxs("div",{className:"grid-item-footer",children:[n.jsx("span",{className:"grid-item-price",children:K.quantities&&K.quantities.length>0?`${K.quantities.length} size${K.quantities.length>1?"s":""}`:K.price&&K.price>0?`${Number(K.price).toFixed(2)}`:n.jsx("span",{style:{color:"#9ca3af",fontSize:"13px"},children:"Price not set"})}),n.jsxs("div",{className:"grid-item-actions",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>Te(K),children:n.jsx(zn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>qe(K),children:n.jsx(Qn,{size:14})})]})]})]})]},K._id)}):n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0",gridColumn:"1 / -1"},children:n.jsxs("p",{children:["No products found. ",u?"Try different search terms.":"Add a new product to get started."]})})}),y&&n.jsx(Wne,{product:T,onClose:()=>C(!1),onSave:V,branches:r,categories:i,selectedBranch:p}),S&&n.jsx(Hne,{product:k,onClose:()=>A(!1),onConfirm:fe})]})},z2=(e,t=!1)=>{if(!e)return null;if(e.startsWith("http://")||e.startsWith("https://"))return t?`${e}?t=${Date.now()}`:e;const a="https://hotelvirat.com/api/v1/hotel".replace("/api/v1/hotel","");let i=e.replace(/\\/g,"/");i.startsWith("/")||(i=`/${i}`);const s=`${a}${i}`;return t?`${s}?t=${Date.now()}`:s},Vne=({category:e,onClose:t,onSave:r,branches:a,selectedBranch:i})=>{var C;const s=(e==null?void 0:e.branchId)||((C=e==null?void 0:e.branch)==null?void 0:C.id)||i||(a.length>0?a[0]._id:""),[l,d]=N.useState({name:(e==null?void 0:e.name)||"",branchId:s,image:(e==null?void 0:e.image)||""}),[u,f]=N.useState(null),[p,m]=N.useState(!1),[g,v]=N.useState("");N.useEffect(()=>{if(e!=null&&e.image){const T=z2(e.image);f(T)}else f(null)},[e]);const j=T=>{const{name:E,value:S}=T.target;d({...l,[E]:S})},b=T=>{const E=T.target.files[0];if(E){const S=new FileReader;S.onloadend=()=>{f(S.result),d({...l,image:S.result})},S.readAsDataURL(E)}},y=async T=>{T.preventDefault(),m(!0),v("");try{await r(l),t()}catch(E){v(E.message||"Failed to save category. Please try again.")}finally{m(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Category":"Add New Category"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:y,children:[n.jsxs("div",{className:"modal-body",children:[g&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:16}),n.jsx("span",{children:g})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"branchId",children:"Branch"}),n.jsx("select",{id:"branchId",name:"branchId",className:"form-select",value:l.branchId,onChange:j,required:!0,disabled:!!e,children:a.map(T=>n.jsx("option",{value:T._id,children:T.name},T._id))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Category Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:u?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:u,alt:"Category preview",className:"image-preview"}),n.jsx("div",{className:"image-overlay",children:n.jsx("span",{children:"Change Image"})})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(Jo,{size:24}),n.jsx("span",{children:"Upload Category Image"})]})}),n.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:b,className:"image-upload-input"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"name",children:"Category Name"}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:l.name,onChange:j,required:!0})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:p,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":e?"Update Category":"Add Category"})]})]})]})})},D3=({category:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),[s,l]=N.useState(""),d=async()=>{i(!0),l("");try{await r(e._id),t()}catch(u){l(u.message||"Failed to delete category. Please try again.")}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Category"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[s&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:16}),n.jsx("span",{children:s})]}),n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"? This will also delete all associated products."]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This RESERVED cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:d,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Yne=({subcategory:e,onClose:t,onSave:r,categories:a,branches:i})=>{var b,y;const[s,l]=N.useState({name:(e==null?void 0:e.name)||"",categoryId:((b=e==null?void 0:e.categoryId)==null?void 0:b._id)||(e==null?void 0:e.categoryId)||"",branchId:((y=e==null?void 0:e.branchId)==null?void 0:y._id)||(e==null?void 0:e.branchId)||"",description:(e==null?void 0:e.description)||""}),[d,u]=N.useState([]),[f,p]=N.useState(!1),[m,g]=N.useState("");N.useEffect(()=>{if(s.branchId){const C=a.filter(T=>{var S;return(T.branchId||((S=T.branch)==null?void 0:S.id))===s.branchId});u(C)}else u(a)},[s.branchId,a]);const v=C=>{const{name:T,value:E}=C.target;l({...s,[T]:E})},j=async C=>{C.preventDefault(),p(!0),g("");try{await r(s),t()}catch(T){g(T.message||"Failed to save subcategory")}finally{p(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Subcategory":"Add New Subcategory"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{className:"modal-body",children:[m&&n.jsxs("div",{style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:16}),n.jsx("span",{children:m})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch *"}),n.jsxs("select",{name:"branchId",className:"form-select",value:s.branchId,onChange:v,required:!0,children:[n.jsx("option",{value:"",children:"Select Branch"}),i.map(C=>n.jsx("option",{value:C._id,children:C.name},C._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Category *"}),n.jsxs("select",{name:"categoryId",className:"form-select",value:s.categoryId,onChange:v,required:!0,disabled:!s.branchId,children:[n.jsx("option",{value:"",children:"Select Category"}),d.map(C=>n.jsx("option",{value:C._id,children:C.name},C._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Subcategory Name *"}),n.jsx("input",{type:"text",name:"name",className:"form-input",value:s.name,onChange:v,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Description"}),n.jsx("textarea",{name:"description",className:"form-textarea",value:s.description,onChange:v,rows:"3"})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:f,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":e?"Update":"Create"})]})]})]})})},Xne=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(!1),[u,f]=N.useState(null),[p,m]=N.useState(!1),[g,v]=N.useState(null),[j,b]=N.useState(""),[y,C]=N.useState([]),[T,E]=N.useState(!0),[S,A]=N.useState(""),[k,I]=N.useState(""),[B,M]=N.useState([]),[L,F]=N.useState(!1),[_,G]=N.useState(null),[P,D]=N.useState(!1),[R,H]=N.useState(null),[ne,me]=N.useState(""),[q,X]=N.useState([]),[z,te]=N.useState("");N.useEffect(()=>{U(),Ye()},[]),N.useEffect(()=>{ee()},[j]),N.useEffect(()=>{le()},[e,j,i]),N.useEffect(()=>{Te()},[B,ne,z]);const U=async()=>{try{const re=await Wt("/branch",{},!0);a(re)}catch(re){console.error("Error fetching branches:",re),A("Failed to load branches. Please refresh the page and try again.")}},ee=async()=>{E(!0),A("");try{const re=j?`/category?branchId=${j}`:"/category",W=!j;console.log(` Fetching categories for branch: ${j||"All"}, endpoint: ${re}, merge: ${W}`);const Z=await Wt(re,{},W);console.log(` Received ${Z.length} categories:`,Z.map(Q=>{var be;return{name:Q.name,branchId:Q.branchId||((be=Q.branch)==null?void 0:be.id)}})),t(Z)}catch(re){console.error("Error fetching categories:",re),A("Failed to load categories. Please refresh the page and try again.")}finally{E(!1)}},le=()=>{let re=e;j&&(re=re.filter(W=>{var Q;return(W.branchId||((Q=W.branch)==null?void 0:Q.id))===j})),i&&(re=re.filter(W=>W.name.toLowerCase().includes(i.toLowerCase()))),C(re)},ce=()=>{f(null),d(!0)},je=re=>{f(re),d(!0)},ie=re=>{v(re),m(!0)},ve=async re=>{try{const W=new FormData;W.append("name",re.name),W.append("branchId",re.branchId);const Z=r.find(be=>be._id===re.branchId);if(Z&&(W.append("branchName",Z.name),W.append("branchAddress",Z.address||"")),re.image&&re.image.startsWith("data:image")){const Me=await(await fetch(re.image)).blob(),Ge=new File([Me],"category-image.jpg",{type:Me.type});W.append("image",Ge)}else re.image&&!re.image.startsWith("http")&&W.append("image",re.image);let Q;if(u){const be=await Wt(`/category/${u._id}`,{method:"PUT",body:W});be._imageTimestamp=Date.now(),t(Me=>Me.map(Ge=>Ge._id===u._id?{...be,_imageTimestamp:Date.now()}:Ge)),setTimeout(()=>{ee()},500),I(`Category "${be.name}" updated successfully`)}else{const be=await Wt("/category",{method:"POST",body:W});t([...e,be]),I(`Category "${be.name}" created successfully`)}return setTimeout(()=>{I("")},3e3),!0}catch(W){throw console.error("Error saving category:",W),new Error(W.message||"Failed to save category")}},Ne=async re=>{try{await Wt(`/category/${re}`,{method:"DELETE"}),t(e.filter(W=>W._id!==re)),I("Category deleted successfully"),setTimeout(()=>{I("")},3e3)}catch(W){throw console.error("Error deleting category:",W),new Error(W.message||"Failed to delete category")}},ge=re=>{var Q,be;if((Q=re.branch)!=null&&Q.name)return re.branch.name;const W=re.branchId||((be=re.branch)==null?void 0:be.id),Z=r.find(Me=>Me._id===W);return Z?Z.name:`Unknown Branch (${(W==null?void 0:W.substring(0,6))||"N/A"})`},Ye=async()=>{try{const re=await Wt("/subcategory",{},!0);M(re)}catch(re){console.error("Error fetching subcategories:",re)}},Te=()=>{let re=B;ne&&(re=re.filter(W=>{var Q;return(((Q=W.categoryId)==null?void 0:Q._id)||W.categoryId)===ne})),z&&(re=re.filter(W=>W.name.toLowerCase().includes(z.toLowerCase()))),X(re)},qe=()=>{G(null),F(!0)},V=re=>{G(re),F(!0)},fe=re=>{H(re),D(!0)},Ee=async re=>{try{_?(await Wt(`/subcategory/${_._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),I("Subcategory updated successfully")):(await Wt("/subcategory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),I("Subcategory created successfully")),Ye(),setTimeout(()=>I(""),3e3)}catch(W){throw console.error("Error saving subcategory:",W),new Error(W.message||"Failed to save subcategory")}},K=async re=>{try{await Wt(`/subcategory/${re}`,{method:"DELETE"}),M(B.filter(W=>W._id!==re)),I("Subcategory deleted successfully"),setTimeout(()=>I(""),3e3)}catch(W){throw console.error("Error deleting subcategory:",W),new Error(W.message||"Failed to delete subcategory")}};return n.jsxs("div",{className:"categories-page",children:[k&&n.jsxs("div",{className:"success-message",children:[n.jsx(vn,{size:16}),n.jsx("span",{children:k}),n.jsx("button",{onClick:()=>I(""),children:n.jsx("span",{children:""})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Categories"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:ce,children:[n.jsx(Pa,{size:16}),n.jsx("span",{children:"Add Category"})]})})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search categories...",className:"search-input",value:i,onChange:re=>s(re.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("div",{className:"filter-btn",children:[n.jsx(Ip,{size:16}),n.jsx("span",{children:"Branch:"})]}),n.jsxs("select",{className:"filter-select",value:j,onChange:re=>b(re.target.value),children:[n.jsx("option",{value:"",children:"All Branches"}),r.map(re=>n.jsx("option",{value:re._id,children:re.name},re._id))]})]})]}),S&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:18}),n.jsx("span",{children:S})]}),T?n.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading categories..."})}):n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Image"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:y.map(re=>n.jsxs("tr",{children:[n.jsxs("td",{children:[re.image?n.jsx("img",{src:z2(re.image,!0),alt:re.name,className:"category-image",onLoad:()=>{console.log(` Category image loaded: ${re.name}`,z2(re.image))},onError:W=>{const Q="https://hotelviratbackend.onrender.com/api/v1/hotel".replace("/api/v1/hotel","");let be=re.image.replace(/\\/g,"/");be.startsWith("/")||(be=`/${be}`);const Me=`${Q}${be}?t=${Date.now()}`;console.log(` Primary image failed for ${re.name}, trying fallback:`,Me),W.target.dataset.fallbackAttempted?(console.error(` Both backends failed for ${re.name}`),W.target.style.display="none",W.target.nextSibling.style.display="flex"):(W.target.dataset.fallbackAttempted="true",W.target.src=Me)}}):null,n.jsx("div",{className:"category-image-placeholder",style:{display:re.image?"none":"flex"},children:n.jsx(Jo,{size:16})})]}),n.jsx("td",{children:re.name}),n.jsx("td",{children:ge(re)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>je(re),children:n.jsx(zn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>ie(re),children:n.jsx(Qn,{size:14})})]})})]},re._id))})]})}),y.length===0&&!T&&n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"No categories found for this branch. Add a new category to get started."})}),l&&n.jsx(Vne,{category:u,onClose:()=>d(!1),onSave:ve,branches:r,selectedBranch:j}),p&&n.jsx(D3,{category:g,onClose:()=>m(!1),onConfirm:Ne}),n.jsxs("div",{style:{marginTop:"40px"},children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Subcategories"}),n.jsxs("button",{className:"btn btn-primary",onClick:qe,children:[n.jsx(Pa,{size:16}),n.jsx("span",{children:"Add Subcategory"})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search subcategories...",className:"search-input",value:z,onChange:re=>te(re.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("div",{className:"filter-btn",children:[n.jsx(Ip,{size:16}),n.jsx("span",{children:"Category:"})]}),n.jsxs("select",{className:"filter-select",value:ne,onChange:re=>me(re.target.value),children:[n.jsx("option",{value:"",children:"All Categories"}),e.map(re=>n.jsx("option",{value:re._id,children:re.name},re._id))]})]})]}),n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Category"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Description"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:q.length>0?q.map(re=>{var W,Z;return n.jsxs("tr",{children:[n.jsx("td",{children:re.name}),n.jsx("td",{children:((W=re.categoryId)==null?void 0:W.name)||"N/A"}),n.jsx("td",{children:((Z=re.branchId)==null?void 0:Z.name)||"N/A"}),n.jsx("td",{children:re.description||"-"}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>V(re),children:n.jsx(zn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>fe(re),children:n.jsx(Qn,{size:14})})]})})]},re._id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"40px",color:"#999"},children:"No subcategories found"})})})]})})]}),L&&n.jsx(Yne,{subcategory:_,onClose:()=>F(!1),onSave:Ee,categories:e,branches:r}),P&&n.jsx(D3,{category:R,onClose:()=>D(!1),onConfirm:K})]})};Tt.create({baseURL:"https://hotelvirat.com/api/v1/hotel"});const $2=e=>{if(!e)return null;if(e.startsWith("http"))return e;const r="https://hotelvirat.com/api/v1/hotel".replace("/api/v1/hotel","");let a=e.toString().trim().replace(/\\/g,"/");if(a.startsWith("uploads/")){const d=`${r}/${a}`;return console.log(`Image URL: ${e} -> ${d}`),d}if(a.startsWith("/")){const d=`${r}${a}`;return console.log(`Image URL: ${e} -> ${d}`),d}const i=a.split("/"),s=i[i.length-1],l=`${r}/uploads/branch/${s}`;return console.log(`Image URL: ${e} -> ${l}`),l},Kne=({branch:e,onClose:t,onSave:r})=>{var y,C,T,E,S;const a=A=>{if(typeof A=="string"){const k=A.split(",").map(I=>I.trim());return k.length>=4?{street:k.slice(0,-3).join(", "),city:k[k.length-3],state:k[k.length-2],country:k[k.length-1]}:k.length===3?{street:k[0],city:k[1]||"",state:k[2]||"",country:""}:k.length===2?{street:k[0],city:k[1]||"",state:"",country:""}:{street:A,city:"",state:"",country:""}}return A||{street:"",city:"",state:"",country:""}},[i,s]=N.useState({name:(e==null?void 0:e.name)||"",gstNumber:(e==null?void 0:e.gstNumber)||"",address:a(e==null?void 0:e.address),contact:{phone:((y=e==null?void 0:e.contact)==null?void 0:y.phone)||"",email:((C=e==null?void 0:e.contact)==null?void 0:C.email)||""},openingHours:{mondayToFriday:((T=e==null?void 0:e.openingHours)==null?void 0:T.mondayToFriday)||"11:00 AM - 11:00 PM",saturday:((E=e==null?void 0:e.openingHours)==null?void 0:E.saturday)||"11:00 AM - 12:00 AM",sunday:((S=e==null?void 0:e.openingHours)==null?void 0:S.sunday)||"12:00 PM - 10:00 PM"},image:null}),[l,d]=N.useState(e!=null&&e.image?$2(e.image):null),[u,f]=N.useState(!1),[p,m]=N.useState("");N.useEffect(()=>{e!=null&&e.image&&d($2(e.image))},[e]);const g=A=>{const{name:k,value:I}=A.target;if(k.startsWith("address.")){const B=k.split(".")[1];s({...i,address:{...i.address,[B]:I}})}else if(k.startsWith("contact.")){const B=k.split(".")[1];s({...i,contact:{...i.contact,[B]:I}})}else if(k.startsWith("openingHours.")){const B=k.split(".")[1];s({...i,openingHours:{...i.openingHours,[B]:I}})}else s({...i,[k]:I})},v=A=>{const k=A.target.files[0];if(k){if(k.size>5*1024*1024){m("File size must be less than 5MB");return}if(!k.type.startsWith("image/")){m("Please select a valid image file");return}m(""),s({...i,image:k});const I=new FileReader;I.onloadend=()=>{d(I.result)},I.readAsDataURL(k)}},j=()=>{s({...i,image:null}),d(null);const A=document.getElementById("image-upload");A&&(A.value="")},b=async A=>{A.preventDefault(),f(!0),m("");try{const k=new FormData;k.append("name",i.name),k.append("gstNumber",i.gstNumber);const I=[i.address.street,i.address.city,i.address.state,i.address.country].filter(Boolean).join(", ");k.append("address",I),k.append("contact",JSON.stringify(i.contact)),k.append("openingHours",JSON.stringify(i.openingHours)),i.image&&i.image instanceof File&&k.append("image",i.image),await r(k),t()}catch(k){m(k.message||"Failed to save branch. Please try again.")}finally{f(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Branch":"Add New Branch"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:b,children:[n.jsxs("div",{className:"modal-body",children:[p&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:16}),n.jsx("span",{children:p})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch Image"}),n.jsxs("div",{className:"image-upload-container",children:[l?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:l||"/placeholder.svg",alt:"Branch preview",className:"image-preview",onError:A=>{console.error("Image failed to load:",l),A.target.style.display="none",A.target.nextSibling.style.display="flex"}}),n.jsxs("div",{className:"category-image-placeholder",style:{display:"none",width:"100%",height:"150px",fontSize:"14px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:[n.jsx(Jo,{size:24}),n.jsx("span",{children:"Image not found"})]}),n.jsx("div",{className:"image-overlay",children:n.jsx("button",{type:"button",onClick:j,style:{background:"rgba(220, 38, 38, 0.8)",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:n.jsx(On,{size:16})})})]}):n.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(Gs,{size:24}),n.jsx("span",{children:"Click to upload branch image"}),n.jsx("small",{style:{color:"#6b7280",marginTop:"4px"},children:"PNG, JPG up to 5MB"})]})}),n.jsx("input",{type:"file",id:"image-upload",className:"image-upload-input",accept:"image/*",onChange:v})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"600"},children:"Basic Information"}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Branch Name ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:g,placeholder:"Enter branch name",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"gstNumber",children:"GST Number"}),n.jsx("input",{type:"text",id:"gstNumber",name:"gstNumber",className:"form-input",value:i.gstNumber,onChange:g,placeholder:"Enter GST number"})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"600"},children:"Address"}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"address.street",children:["Street Address ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsx("textarea",{id:"address.street",name:"address.street",className:"form-textarea",value:i.address.street,onChange:g,placeholder:"Enter street address",required:!0,rows:"2"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"address.city",children:"City"}),n.jsx("input",{type:"text",id:"address.city",name:"address.city",className:"form-input",value:i.address.city,onChange:g,placeholder:"Enter city"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"address.state",children:"State"}),n.jsx("input",{type:"text",id:"address.state",name:"address.state",className:"form-input",value:i.address.state,onChange:g,placeholder:"Enter state"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"address.country",children:"Country"}),n.jsx("input",{type:"text",id:"address.country",name:"address.country",className:"form-input",value:i.address.country,onChange:g,placeholder:"Enter country"})]})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"600"},children:"Contact Information"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"contact.phone",children:"Phone Number"}),n.jsx("input",{type:"tel",id:"contact.phone",name:"contact.phone",className:"form-input",value:i.contact.phone,onChange:g,placeholder:"Enter phone number"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"contact.email",children:"Email Address"}),n.jsx("input",{type:"email",id:"contact.email",name:"contact.email",className:"form-input",value:i.contact.email,onChange:g,placeholder:"Enter email address"})]})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"600"},children:"Opening Hours"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"openingHours.mondayToFriday",children:"Monday - Friday"}),n.jsx("input",{type:"text",id:"openingHours.mondayToFriday",name:"openingHours.mondayToFriday",className:"form-input",value:i.openingHours.mondayToFriday,onChange:g,placeholder:"11:00 AM - 11:00 PM"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"openingHours.saturday",children:"Saturday"}),n.jsx("input",{type:"text",id:"openingHours.saturday",name:"openingHours.saturday",className:"form-input",value:i.openingHours.saturday,onChange:g,placeholder:"11:00 AM - 12:00 AM"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"openingHours.sunday",children:"Sunday"}),n.jsx("input",{type:"text",id:"openingHours.sunday",name:"openingHours.sunday",className:"form-input",value:i.openingHours.sunday,onChange:g,placeholder:"12:00 PM - 10:00 PM"})]})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":e?"Update Branch":"Add Branch"})]})]})]})})},Qne=({branch:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),[s,l]=N.useState(""),d=async()=>{i(!0),l("");try{await r(e._id),t()}catch(u){l(u.message||"Failed to delete branch. Please try again.")}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Branch"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[s&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:16}),n.jsx("span",{children:s})]}),n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"? This will also delete all associated categories and products."]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:d,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Zne=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,f]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(!0),[j,b]=N.useState(""),[y,C]=N.useState("");N.useEffect(()=>{T()},[]);const T=async()=>{v(!0),b("");try{const M=await Wt("/branch",{},!0);console.log("Fetched branches from BOTH backends:",M);const L=Array.isArray(M)?M:(M==null?void 0:M.branches)||[];t(L)}catch(M){console.error("Error fetching branches:",M),b("Failed to load branches. Please refresh the page and try again."),t([])}finally{v(!1)}},E=Array.isArray(e)?e.filter(M=>(M.name||"").toLowerCase().includes(r.toLowerCase())||(M.address||"").toLowerCase().includes(r.toLowerCase())):[],S=()=>{d(null),s(!0)},A=M=>{d(M),s(!0)},k=M=>{m(M),f(!0)},I=async M=>{try{let L;return l?(L=await Wt(`/branch/${l._id}`,{method:"PUT",body:M}),t(F=>Array.isArray(F)?F.map(_=>_._id===l._id?L:_):[L]),C(`Branch "${L.name}" updated successfully`)):(L=await Wt("/branch",{method:"POST",body:M}),t(F=>Array.isArray(F)?[...F,L]:[L]),C(`Branch "${L.name}" created successfully`)),setTimeout(()=>{C("")},3e3),!0}catch(L){console.error("Error saving branch:",L);let F="Failed to save branch";throw L.message&&(F=L.message),new Error(F)}},B=async M=>{try{const L=Wt(`/branch/${M}`,{method:"DELETE"}).catch(_=>(console.warn("Branch endpoint delete failed:",_),null)),F=Wt(`/hotel/${M}`,{method:"DELETE"}).catch(_=>(console.warn("Restaurant endpoint delete failed:",_),null));return await Promise.allSettled([L,F]),t(_=>Array.isArray(_)?_.filter(G=>G._id!==M):[]),C("Branch deleted successfully from all backends"),setTimeout(()=>{C("")},3e3),!0}catch(L){throw console.error("Error deleting branch:",L),new Error(L.message||"Failed to delete branch")}};return n.jsxs("div",{className:"branches-page",children:[y&&n.jsxs("div",{className:"success-message",children:[n.jsx(vn,{size:16}),n.jsx("span",{children:y}),n.jsx("button",{onClick:()=>C(""),children:n.jsx("span",{children:""})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Branches"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:S,children:[n.jsx(Pa,{size:16}),n.jsx("span",{children:"Add Branch"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search branches by name or address...",className:"search-input",value:r,onChange:M=>a(M.target.value)})]})}),j&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:18}),n.jsx("span",{children:j})]}),g?n.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading branches..."})}):n.jsx("div",{className:"grid-container",children:E.length>0?E.filter(M=>M&&M._id).map((M,L)=>n.jsxs("div",{className:"grid-item",children:[n.jsx("div",{className:"grid-item-image-container",children:(()=>{const F=$2(M.image);return console.log("=== BRANCH DETAILS ==="),console.log(`Branch ID: ${M._id}`),console.log(`Branch Name: ${M.name}`),console.log(`Branch Address: ${M.address}`),console.log(`Branch Image Raw Path: ${M.image}`),console.log(`Branch Image Full URL: ${F}`),console.log(`Branch Created: ${M.createdAt}`),console.log("========================"),F?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:F||"/placeholder.svg",alt:M.name,className:"grid-item-image",onLoad:()=>console.log(`Image loaded successfully: ${F}`),onError:_=>{const P="https://hotelviratbackend.onrender.com/api/v1/hotel".replace("/api/v1/hotel",""),D=M.image.toString().trim().replace(/\\/g,"/").replace(/^\//,""),R=`${P}/${D}`;_.target.src!==R?(console.log(`Trying secondary backend: ${R}`),_.target.src=R):(console.error(`Image failed to load from both backends: ${F}`),_.target.style.display="none"),_.target.nextSibling&&(_.target.nextSibling.style.display="flex")}}),n.jsxs("div",{className:"category-image-placeholder",style:{display:"none",width:"100%",height:"200px",fontSize:"16px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#9ca3af"},children:[n.jsx(Jo,{size:24}),n.jsx("span",{style:{marginTop:"8px",fontSize:"14px"},children:"Image failed to load"})]})]}):n.jsxs("div",{className:"category-image-placeholder",style:{display:"flex",width:"100%",height:"200px",fontSize:"16px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#9ca3af"},children:[n.jsx(Iu,{size:24}),n.jsx("span",{style:{marginTop:"8px",fontSize:"14px"},children:"No Image"})]})})()}),n.jsxs("div",{className:"grid-item-content",children:[n.jsx("h3",{className:"grid-item-title",children:M.name}),n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:"8px"},children:[n.jsx(Iu,{size:16,style:{marginRight:"8px",color:"#6b7280",marginTop:"2px",flexShrink:0}}),n.jsx("p",{className:"grid-item-subtitle",style:{lineHeight:"1.4"},children:M.address})]}),n.jsx("div",{className:"grid-item-footer",children:n.jsxs("div",{className:"grid-item-actions",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>A(M),children:n.jsx(zn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>k(M),children:n.jsx(Qn,{size:14})})]})})]})]},M._id||`branch-${L}`)):n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0",gridColumn:"1 / -1"},children:n.jsxs("p",{children:["No branches found. ",r?"Try a different search term.":"Add a new branch to get started."]})})}),i&&n.jsx(Kne,{branch:l,onClose:()=>s(!1),onSave:I}),u&&n.jsx(Qne,{branch:p,onClose:()=>f(!1),onConfirm:B})]})},Jne=({user:e,onClose:t,onSave:r,isEditMode:a})=>{const[i,s]=N.useState({name:(e==null?void 0:e.name)||"",mobile:(e==null?void 0:e.mobile)||"",email:(e==null?void 0:e.email)||"",image:null}),[l,d]=N.useState(e!=null&&e.image?`${e.image.startsWith("http")?"":"https://hotelvirat.com/"}${e.image}`:null),[u,f]=N.useState(null),p=v=>{const{name:j,value:b}=v.target;s({...i,[j]:b}),f(null)},m=v=>{const j=v.target.files[0];if(j){s({...i,image:j});const b=new FileReader;b.onloadend=()=>d(b.result),b.readAsDataURL(j)}},g=async v=>{v.preventDefault(),f(null);const j=new FormData;j.append("name",i.name),j.append("mobile",i.mobile),a&&i.email&&j.append("email",i.email),i.image&&j.append("image",i.image);try{await r(j,e==null?void 0:e._id),t()}catch(b){f(b.message||"Failed to save user")}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:a?"Edit User":"Add New User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:g,children:[n.jsxs("div",{className:"modal-body",children:[u&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626"},children:u}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:p,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"mobile",children:["Mobile ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-input",value:i.mobile,onChange:p,required:!0,pattern:"\\d{10}",title:"Please enter a valid 10-digit mobile number"})]}),a&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"email",children:"Email"}),n.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",value:i.email,onChange:p})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Profile Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:l?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:l,alt:"User preview",className:"image-preview"}),n.jsx("div",{className:"image-overlay",children:n.jsx("span",{children:"Change Image"})})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(Jo,{size:24}),n.jsx("span",{children:"Upload Profile Image"})]})}),n.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:m,className:"image-upload-input"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",children:a?"Update User":"Add User"})]})]})]})})},eae=({user:e,onClose:t,onConfirm:r})=>n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:()=>{r(e._id),t()},children:"Delete"})]})]})}),tae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,f]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(!1),T=async()=>{C(!0);try{const L=await Wt("/user-auth/all"),_=(Array.isArray(L)?L:[]).sort((G,P)=>new Date(P.createdAt)-new Date(G.createdAt));t(_)}catch(L){b(L.message),t([])}finally{C(!1)}};N.useEffect(()=>{T()},[]);const E=()=>{d(null),s(!0)},S=L=>{d(L),s(!0)},A=L=>{m(L),f(!0)},k=async(L,F)=>{try{const _=F?`/user-auth/${F}`:"/user-auth/";await Wt(_,{method:F?"PUT":"POST",body:L}),v(`User ${F?"updated":"added"} successfully`),setTimeout(()=>v(""),3e3),await T()}catch(_){throw new Error(_.message)}},I=async L=>{try{await Wt(`/user-auth/${L}`,{method:"DELETE"}),v("User deleted successfully"),setTimeout(()=>v(""),3e3),await T()}catch(F){b(F.message),setTimeout(()=>b(""),3e3)}},B=L=>{const F={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(L).toLocaleDateString(void 0,F)},M=Array.isArray(e)?e.filter(L=>L.name.toLowerCase().includes(r.toLowerCase())||L.mobile.includes(r)||L.email&&L.email.toLowerCase().includes(r.toLowerCase())):[];return n.jsxs("div",{className:"users-page",children:[g&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>v(""),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),j&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),style:{color:"#dc2626"},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Users"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:E,disabled:y,children:[n.jsx(Hc,{size:16}),n.jsx("span",{children:"Add User"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search users...",className:"search-input",value:r,onChange:L=>a(L.target.value)})]})}),n.jsx("div",{className:"data-card",children:y?n.jsx("div",{className:"empty-state",children:"Loading users..."}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Mobile"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:M.map(L=>n.jsxs("tr",{children:[n.jsx("td",{children:L._id.slice(-6)}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[L.image?n.jsx("img",{src:`${L.image.startsWith("http")?"":"https://hotelvirat.com/"}${L.image}`,alt:L.name,className:"user-avatar"}):n.jsx("div",{className:"user-avatar-placeholder",children:L.name.charAt(0).toUpperCase()}),L.name]})}),n.jsx("td",{children:L.email?n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(eo,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),L.email]}):n.jsx("span",{style:{color:"#9ca3af"},children:"Not provided"})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(oi,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),L.mobile]})}),n.jsx("td",{children:B(L.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>S(L),disabled:y,children:n.jsx(zn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>A(L),disabled:y,children:n.jsx(Qn,{size:14})})]})})]},L._id))})]})}),M.length===0&&!y&&n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No users found. ",r?"Try a different search.":"Add a new user to get started."]})}),i&&n.jsx(Jne,{user:l,onClose:()=>s(!1),onSave:k,isEditMode:!!l}),u&&n.jsx(eae,{user:p,onClose:()=>f(!1),onConfirm:I})]})},rae=({coupon:e,onClose:t,onSave:r})=>{const[a,i]=N.useState({code:(e==null?void 0:e.code)||"",description:(e==null?void 0:e.description)||"",discountType:(e==null?void 0:e.discountType)||"percentage",discountValue:(e==null?void 0:e.discountValue)||"",minOrderValue:(e==null?void 0:e.minOrderValue)||"",startDate:e!=null&&e.startDate?new Date(e.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],endDate:e!=null&&e.endDate?new Date(e.endDate).toISOString().split("T")[0]:"",usageLimit:(e==null?void 0:e.usageLimit)||"",image:null}),[s,l]=N.useState(e==null?void 0:e.image),[d,u]=N.useState(!1),[f,p]=N.useState(null),[m,g]=N.useState([]),[v,j]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const A=await fetch("https://hotelvirat.com/api/v1/hotel/coupon");if(A.ok){const k=await A.json();g(k.map(I=>I.code.toLowerCase()))}}catch(A){console.log("Could not fetch existing coupons:",A)}})()},[]);const b=S=>{const{name:A,value:k}=S.target;i({...a,[A]:["discountValue","minOrderValue","usageLimit"].includes(A)?k===""?"":Number.parseFloat(k):k})},y=S=>m.includes(S.toLowerCase()),C=()=>{const S=new Date().getFullYear(),A=new Date().getMonth()+1,k=new Date().getDate(),I=Date.now().toString().slice(-4),B=["WELCOME","SAVE","DISCOUNT","FIRST","NEWYEAR","HOTEL","VIRAT","SPECIAL","OFFER","DEAL"],M=[S.toString(),S.toString().slice(-2),`${A}${S.toString().slice(-2)}`,`${k}${A}`,I,Math.floor(Math.random()*1e3)+100,Math.floor(Math.random()*50)+10];for(let L=0;L<50;L++){const F=B[Math.floor(Math.random()*B.length)],_=M[Math.floor(Math.random()*M.length)],G=`${F}${_}`;if(!y(G))return G}return`UNIQUE${I}${Math.floor(Math.random()*100)}`},T=S=>{const A=S.target.files[0];if(A){i({...a,image:A});const k=new FileReader;k.onloadend=()=>{l(k.result)},k.readAsDataURL(A)}},E=async S=>{S.preventDefault(),u(!0),p(null);try{await r(a),t()}catch(A){p(A.message||"Failed to save coupon")}finally{u(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Coupon":"Add New Coupon"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:E,children:[n.jsxs("div",{className:"modal-body",children:[f&&n.jsxs("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:16}),n.jsxs("div",{children:[n.jsx("div",{children:f}),f.includes("already exists")&&n.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#991b1b"},children:" Try using a different code like: WELCOME2025, NEWYEAR25, DISCOUNT15, SAVE20, FIRST10"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"code",children:"Coupon Code"}),n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[n.jsx("input",{type:"text",id:"code",name:"code",className:"form-input",value:a.code,onChange:b,required:!0,style:{flex:1,borderColor:a.code&&y(a.code)&&!e?"#ef4444":"#d1d5db"},placeholder:"Enter unique coupon code (e.g., WELCOME2025)"}),n.jsx("button",{type:"button",onClick:()=>{const S=C();i({...a,code:S})},style:{padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",cursor:"pointer",whiteSpace:"nowrap",fontWeight:"500"},children:" Generate"})]}),a.code&&!e&&n.jsx("div",{style:{marginTop:"6px",fontSize:"12px"},children:y(a.code)?n.jsx("div",{style:{color:"#ef4444",display:"flex",alignItems:"center",gap:"4px"},children:" This code already exists! Try a different one."}):n.jsx("div",{style:{color:"#10b981",display:"flex",alignItems:"center",gap:"4px"},children:" This code is available!"})}),n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"6px"},children:' Click "Generate" for a guaranteed unique code'}),m.length>0&&n.jsxs("details",{style:{marginTop:"8px"},children:[n.jsxs("summary",{style:{fontSize:"12px",color:"#6b7280",cursor:"pointer"},children:[" View existing coupon codes (",m.length," total)"]}),n.jsxs("div",{style:{marginTop:"4px",padding:"8px",backgroundColor:"#f9fafb",borderRadius:"4px",fontSize:"11px",maxHeight:"100px",overflowY:"auto"},children:[m.slice(0,20).map((S,A)=>n.jsx("span",{style:{display:"inline-block",margin:"2px",padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"3px",textTransform:"uppercase"},children:S},A)),m.length>20&&n.jsxs("div",{style:{marginTop:"4px",color:"#6b7280"},children:["... and ",m.length-20," more"]})]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"description",children:"Description"}),n.jsx("textarea",{id:"description",name:"description",className:"form-textarea",value:a.description,onChange:b,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Coupon Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:s?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:s||"/placeholder.svg",alt:"Coupon preview",className:"image-preview"}),n.jsx("div",{className:"image-overlay",children:n.jsx("span",{children:"Change Image"})})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(Jo,{size:24}),n.jsx("span",{children:"Upload Coupon Image"})]})}),n.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:T,className:"image-upload-input"})]})]}),n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"discountType",children:"Discount Type"}),n.jsxs("select",{id:"discountType",name:"discountType",className:"form-select",value:a.discountType,onChange:b,required:!0,children:[n.jsx("option",{value:"percentage",children:"Percentage"}),n.jsx("option",{value:"fixed",children:"Fixed Amount"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"discountValue",children:a.discountType==="percentage"?"Discount Percentage":"Discount Amount ()"}),n.jsx("input",{type:"number",id:"discountValue",name:"discountValue",className:"form-input",value:a.discountValue,onChange:b,min:"0",step:a.discountType==="percentage"?"1":"0.01",required:!0})]})]}),n.jsx("div",{className:"form-grid",children:n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"minOrderValue",children:"Minimum Order Value ()"}),n.jsx("input",{type:"number",id:"minOrderValue",name:"minOrderValue",className:"form-input",value:a.minOrderValue,onChange:b,min:"0",step:"0.01",required:!0})]})}),n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"startDate",children:"Valid From"}),n.jsx("input",{type:"date",id:"startDate",name:"startDate",className:"form-input",value:a.startDate,onChange:b,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"endDate",children:"Valid To"}),n.jsx("input",{type:"date",id:"endDate",name:"endDate",className:"form-input",value:a.endDate,onChange:b,required:!0})]})]}),n.jsx("div",{className:"form-grid",children:n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"usageLimit",children:"Usage Limit"}),n.jsx("input",{type:"number",id:"usageLimit",name:"usageLimit",className:"form-input",value:a.usageLimit,onChange:b,min:"1",step:"1",required:!0})]})})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:d,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":e?"Update Coupon":"Add Coupon"})]})]})]})})},nae=({coupon:e,onClose:t,onConfirm:r,loading:a})=>n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Coupon"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete coupon ",n.jsx("strong",{children:e.code}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:()=>r(e._id),disabled:a,children:a?"Deleting...":"Delete"})]})]})}),aae=({message:e,onClose:t})=>(N.useEffect(()=>{const r=setTimeout(()=>{t()},3e3);return()=>clearTimeout(r)},[t]),n.jsxs("div",{className:"success-message",children:[e,n.jsx("button",{onClick:t,children:""})]})),iae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,f]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(!1),[j,b]=N.useState(null),[y,C]=N.useState(null),[T,E]=N.useState(!0),S=async()=>{E(!0);try{const G=await fetch("https://hotelvirat.com/api/v1/hotel/coupon");if(!G.ok)throw new Error("Failed to fetch coupons");const P=await G.json();let D=[];P.success&&Array.isArray(P.data)?D=P.data:Array.isArray(P)?D=P:P.message&&P.message.includes("routes working")&&(D=[]),t(D)}catch(_){b(_.message||"Failed to fetch coupons"),console.error("Error fetching Coupons:",_),t([])}finally{E(!1)}};N.useEffect(()=>{S()},[]);const A=()=>{d(null),s(!0)},k=_=>{d(_),s(!0)},I=_=>{m(_),f(!0)},B=async _=>{v(!0);try{const G=new FormData;G.append("code",_.code),G.append("description",_.description),G.append("discountType",_.discountType),G.append("discountValue",_.discountValue),G.append("minOrderValue",_.minOrderValue),G.append("startDate",_.startDate),G.append("endDate",_.endDate),G.append("usageLimit",_.usageLimit),G.append("isActive","true"),_.image&&G.append("image",_.image);let P;if(l?P=await fetch(`https://hotelvirat.com/api/v1/hotel/coupon/${l._id}`,{method:"PUT",body:G}):P=await fetch("https://hotelvirat.com/api/v1/hotel/coupon",{method:"POST",body:G}),!P.ok){const R=await P.json();throw new Error(R.message||"Failed to save coupon")}const D=await P.json();return await S(),C(l?"Coupon updated successfully":"Coupon created successfully"),D}catch(G){throw console.error("Error saving coupon:",G),G}finally{v(!1)}},M=async _=>{v(!0);try{const G=await fetch(`https://hotelvirat.com/api/v1/hotel/coupon/${_}`,{method:"DELETE"});if(!G.ok){const P=await G.json();throw new Error(P.message||"Failed to delete coupon")}await S(),C("Coupon deleted successfully")}catch(G){console.error("Error deleting coupon:",G),b(G.message||"Failed to delete coupon")}finally{v(!1),f(!1)}},L=(Array.isArray(e)?e:[]).filter(_=>_.code.toLowerCase().includes(r.toLowerCase())||_.description.toLowerCase().includes(r.toLowerCase())),F=_=>_?new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return n.jsxs("div",{className:"coupons-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Coupons"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:A,children:[n.jsx(Pa,{size:16}),n.jsx("span",{children:"Add Coupon"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search coupons...",className:"search-input",value:r,onChange:_=>a(_.target.value)})]})}),j&&n.jsxs("div",{style:{padding:"15px",marginBottom:"20px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:18}),j,n.jsx("button",{onClick:()=>b(null),style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),T?n.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading coupons..."})}):n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Image"}),n.jsx("th",{children:"Code"}),n.jsx("th",{children:"Description"}),n.jsx("th",{children:"Discount"}),n.jsx("th",{children:"Min. Order"}),n.jsx("th",{children:"Validity"}),n.jsx("th",{children:"Usage"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:L.map(_=>n.jsxs("tr",{children:[n.jsx("td",{children:_.image?n.jsx("div",{className:"coupon-image-cell",children:n.jsx("img",{src:`${_.image}`,alt:_.code,className:"coupon-image",onError:G=>{G.target.onerror=null,G.target.src="https://via.placeholder.com/50"}})}):n.jsx("div",{className:"coupon-image-placeholder",children:n.jsx(Jo,{size:16})})}),n.jsx("td",{children:n.jsx("span",{style:{fontWeight:"600",color:"#f97316"},children:_.code})}),n.jsx("td",{children:_.description}),n.jsx("td",{children:_.discountType==="percentage"?n.jsxs("span",{children:[_.discountValue,"%"]}):n.jsxs("span",{children:["",_.discountValue]})}),n.jsxs("td",{children:["",_.minOrderValue]}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(Tr,{size:14,style:{marginRight:"4px",color:"#6b7280"}}),F(_.startDate)," - ",F(_.endDate)]})}),n.jsxs("td",{children:[_.usageCount," / ",_.usageLimit||"",n.jsx("div",{style:{width:"100%",height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",marginTop:"4px"},children:n.jsx("div",{style:{width:`${_.usageLimit?_.usageCount/_.usageLimit*100:0}%`,height:"100%",backgroundColor:"#f97316",borderRadius:"2px"}})})]}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>k(_),children:n.jsx(zn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>I(_),children:n.jsx(Qn,{size:14})})]})})]},_._id))})]})}),!T&&L.length===0&&n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"No coupons found. Add a new coupon to get started."})}),i&&n.jsx(rae,{coupon:l,onClose:()=>s(!1),onSave:B}),u&&n.jsx(nae,{coupon:p,onClose:()=>f(!1),onConfirm:M,loading:g}),y&&n.jsx(aae,{message:y,onClose:()=>C(null)})]})},sae=Tt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),oae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(""),[l,d]=N.useState(1),[u,f]=N.useState(1),[p,m]=N.useState(""),[g,v]=N.useState("date"),[j,b]=N.useState("desc"),[y,C]=N.useState(null),[T,E]=N.useState(!1),S=7;N.useEffect(()=>{(async()=>{a(!0),s("");try{const R={page:l,limit:S};p.trim()&&(R.search=p.trim());const H=await sae.get("/order",{params:R});let ne=[];H.data.success&&Array.isArray(H.data.data)?ne=H.data.data:H.data.orders&&Array.isArray(H.data.orders)?ne=H.data.orders:Array.isArray(H.data)?ne=H.data:(console.error(" Unexpected response format:",H.data),ne=[]);const me=ne.map(X=>({id:X._id,orderId:X.orderNumber,customer:X.name,date:new Date(X.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),amount:X.total,method:X.paymentMethod,items:X.items,discount:X.discount,tax:X.tax,subtotal:X.subtotal,deliveryFee:X.deliveryFee}));t(me);let q=1;H.data&&H.data.pagination&&H.data.pagination.totalPages?q=H.data.pagination.totalPages:q=Math.ceil(ne.length/S)||1,f(q)}catch(R){console.error("Error fetching payments:",R),s("Failed to load payments. Please try again."),t([]),f(1)}finally{a(!1)}})()},[l,p]);const I=[...e.filter(D=>{const R=p.toLowerCase();return D.orderId.toLowerCase().includes(R)||D.customer.toLowerCase().includes(R)})].sort((D,R)=>g==="date"?j==="asc"?new Date(D.date)-new Date(R.date):new Date(R.date)-new Date(D.date):g==="amount"?j==="asc"?D.amount-R.amount:R.amount-D.amount:0).slice(0,S),B=D=>{switch(D){case"card":return n.jsx(Bn,{className:"h-5 w-5"});case"upi":return n.jsx(Ru,{className:"h-5 w-5"});case"cash":return n.jsx("span",{className:"rupees-icon",children:""});default:return n.jsx(Bn,{className:"h-5 w-5"})}},M=D=>{C(D),E(!0)},L=()=>{E(!1),C(null)},F=D=>{g===D?b(j==="asc"?"desc":"asc"):(v(D),b("desc"))},_=D=>{if(D==null)return"";const R=D.toString();return R.includes(",")||R.includes('"')||R.includes(`
`)?`"${R.replace(/"/g,'""')}"`:R},G=()=>{let R=["Order ID","Customer","Date","Subtotal","Discount","Tax","Delivery Fee","Total","Payment Method"].map(_).join(",")+`
`;e.forEach(X=>{const z=[X.orderId,X.customer,X.date,`${X.subtotal.toFixed(2)}`,`${X.discount.toFixed(2)}`,`${X.tax.toFixed(2)}`,`${X.deliveryFee.toFixed(2)}`,`${X.amount.toFixed(2)}`,X.method.charAt(0).toUpperCase()+X.method.slice(1)];R+=z.map(_).join(",")+`
`});const H="\uFEFF",ne=new Blob([H+R],{type:"text/csv;charset=utf-8;"}),me=window.URL.createObjectURL(ne),q=document.createElement("a");q.setAttribute("hidden",""),q.setAttribute("href",me),q.setAttribute("download",`payments-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(q),q.click(),document.body.removeChild(q)},P=()=>{const D=[];if(u<=7)for(let R=1;R<=u;R++)D.push(R);else{D.push(1);let R=Math.max(2,l-2),H=Math.min(u-1,l+2);l<=4&&(H=5),l>=u-3&&(R=u-4),R>2&&D.push("...");for(let ne=R;ne<=H;ne++)D.push(ne);H<u-1&&D.push("..."),u>1&&D.push(u)}return D};return n.jsxs("div",{className:"payment-ui",children:[n.jsx("div",{className:"page-header",children:n.jsx("h1",{children:"Payments"})}),i&&n.jsx("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("span",{children:i})}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{className:"search-icon"}),n.jsx("input",{type:"text",className:"search-input",placeholder:"Search by order ID or customer name",value:p,onChange:D=>m(D.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("button",{className:"filter-btn",onClick:G,children:[n.jsx(Ln,{className:"h-4 w-4"}),n.jsx("span",{children:"Export"})]})})]}),n.jsx("div",{className:"data-card",children:n.jsx("div",{className:"card-body",children:r?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading payments..."})]}):I.length===0?n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No payments found matching your search."})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Customer"}),n.jsx("th",{className:"sortable-header",onClick:()=>F("date"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Date"}),g==="date"&&(j==="asc"?n.jsx(Js,{className:"h-4 w-4"}):n.jsx(Zs,{className:"h-4 w-4"}))]})}),n.jsx("th",{className:"sortable-header",onClick:()=>F("amount"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Amount"}),g==="amount"&&(j==="asc"?n.jsx(Js,{className:"h-4 w-4"}):n.jsx(Zs,{className:"h-4 w-4"}))]})}),n.jsx("th",{children:"Payment Method"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:I.map(D=>n.jsxs("tr",{children:[n.jsx("td",{children:D.orderId}),n.jsx("td",{children:D.customer}),n.jsx("td",{children:D.date}),n.jsxs("td",{children:["",D.amount.toFixed(2)]}),n.jsx("td",{children:n.jsxs("div",{className:"payment-method",children:[B(D.method),n.jsx("span",{className:"payment-method-text",children:D.method.charAt(0).toUpperCase()+D.method.slice(1)})]})}),n.jsx("td",{children:n.jsx("div",{className:"action-buttons",children:n.jsx("button",{className:"action-btn view",onClick:()=>M(D),children:"View"})})})]},D.id))})]})})}),n.jsxs("div",{className:"pagination",children:[n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:l===1,onClick:()=>d(D=>Math.max(D-1,1)),children:[n.jsx(Af,{className:"h-4 w-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"pagination-pages",children:P().map((D,R)=>D==="..."?n.jsx("span",{className:"pagination-ellipsis",children:"..."},R):n.jsx("button",{className:`pagination-page ${l===D?"active":""}`,onClick:()=>d(D),children:D},R))}),n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:l===u,onClick:()=>d(D=>Math.min(D+1,u)),children:[n.jsx("span",{children:"Next"}),n.jsx(Ef,{className:"h-4 w-4"})]})]}),T&&y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{className:"modal-title",children:"Payment Details"}),n.jsx("button",{className:"modal-close",onClick:L,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"payment-details",children:[n.jsxs("div",{className:"payment-info-grid",children:[n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Payment Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Order ID:"}),n.jsx("span",{className:"info-value",children:y.orderId})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Date:"}),n.jsx("span",{className:"info-value",children:y.date})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Subtotal:"}),n.jsxs("span",{className:"info-value",children:["",y.subtotal.toFixed(2)]})]}),y.discount>0&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Discount:"}),n.jsxs("span",{className:"info-value",style:{color:"#22c55e"},children:["-",y.discount.toFixed(2)]})]}),y.tax>0&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Tax:"}),n.jsxs("span",{className:"info-value",children:["",y.tax.toFixed(2)]})]}),y.deliveryFee>0&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Delivery Fee:"}),n.jsxs("span",{className:"info-value",children:["",y.deliveryFee.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Total Amount:"}),n.jsxs("span",{className:"info-value",children:["",y.amount.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Payment Method:"}),n.jsx("span",{className:"info-value",children:n.jsxs("div",{className:"payment-method",children:[B(y.method),n.jsx("span",{className:"payment-method-text",children:y.method.charAt(0).toUpperCase()+y.method.slice(1)})]})})]})]})]}),n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Customer Information"}),n.jsx("div",{className:"payment-info-content",children:n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Name:"}),n.jsx("span",{className:"info-value",children:y.customer})]})})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Order Items"}),n.jsxs("table",{className:"order-items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:y.items.map((D,R)=>n.jsxs("tr",{children:[n.jsx("td",{children:D.name}),n.jsx("td",{children:D.quantity}),n.jsxs("td",{children:["",D.price.toFixed(2)]}),n.jsxs("td",{children:["",(D.quantity*D.price).toFixed(2)]})]},R))}),n.jsxs("tfoot",{children:[n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Subtotal"}),n.jsxs("td",{className:"total-value",children:["",y.subtotal.toFixed(2)]})]}),y.discount>0&&n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Discount"}),n.jsxs("td",{className:"total-value",style:{color:"#22c55e"},children:["-",y.discount.toFixed(2)]})]}),y.tax>0&&n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Tax"}),n.jsxs("td",{className:"total-value",children:["",y.tax.toFixed(2)]})]}),y.deliveryFee>0&&n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Delivery Fee"}),n.jsxs("td",{className:"total-value",children:["",y.deliveryFee.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Total"}),n.jsxs("td",{className:"total-value",children:["",y.amount.toFixed(2)]})]})]})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:L,children:"Close"})})]})}),n.jsx("style",{jsx:!0,children:`
        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 40px;
        }

        .loading-spinner {
          border: 4px solid rgba(0, 0, 0, 0.1);
          border-left-color: var(--primary-color);
          border-radius: 50%;
          width: 30px;
          height: 30px;
          animation: spin 1s linear infinite;
          margin-bottom: 10px;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        .sortable-header {
          cursor: pointer;
        }

        .sort-header {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .payment-method-text {
          font-size: 14px;
        }

        .rupees-icon {
          display: flex;
          align-items: center;
          font-size: 18px;
          line-height: 1;
        }

        .payment-details {
          padding: 10px 0;
        }

        .payment-info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }

        @media (max-width: 768px) {
          .payment-info-grid {
            grid-template-columns: 1fr;
          }
        }

        .payment-info-section {
          background-color: var(--bg-light);
          border-radius: var(--radius-md);
          overflow: hidden;
        }

        .payment-info-title {
          font-size: 16px;
          font-weight: 600;
          padding: 12px 16px;
          background-color: var(--bg-white);
          border-bottom: 1px solid var(--border-color);
        }

        .payment-info-content {
          padding: 16px;
        }

        .info-row {
          display: flex;
          margin-bottom: 10px;
        }

        .info-label {
          width: 140px;
          font-weight: 500;
          color: var(--text-light);
        }

        .info-value {
          flex: 1;
          font-weight: 500;
        }

        .order-items-section {
          margin-top: 20px;
        }

        .order-items-table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
        }

        .order-items-table th {
          text-align: left;
          padding: 12px;
          background-color: var(--bg-light);
          font-weight: 500;
          color: var(--text-light);
        }

        .order-items-table td {
          padding: 12px;
          border-bottom: 1px solid var(--border-color);
        }

        .order-items-table tfoot td {
          padding: 12px;
          font-weight: 600;
        }

        .total-label {
          text-align: right;
          font-weight: 600;
        }

        .total-value {
          font-weight: 700;
          color: var(--primary-color);
        }

        .pagination-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 4px;
          padding: 8px 16px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-page {
          padding: 8px 12px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-page.active {
          background-color: var(--primary-color);
          color: white;
          border-color: var(--primary-color);
        }

        .pagination-ellipsis {
          padding: 8px 12px;
          color: var(--text-light);
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }
      `})]})},lae=()=>{const[e,t]=N.useState(null),[r,a]=N.useState(!1),[i,s]=N.useState({title:"",mobile:"",email:""}),[l,d]=N.useState(!1),[u,f]=N.useState(null),[p,m]=N.useState(null);N.useEffect(()=>{(async()=>{var b,y,C;d(!0);try{const T=await Tt.get("https://hotelvirat.com/api/v1/hotel/help-support");t(T.data),s({title:T.data.title,mobile:T.data.mobile,email:T.data.email})}catch(T){((b=T.response)==null?void 0:b.status)!==404&&f(((C=(y=T.response)==null?void 0:y.data)==null?void 0:C.message)||"Failed to fetch help and support information")}finally{d(!1)}})()},[]);const g=j=>{const{name:b,value:y}=j.target;s({...i,[b]:y})},v=async j=>{var b,y;j.preventDefault(),d(!0),f(null),m(null);try{let C;e!=null&&e._id?C=await Tt.put(`https://hotelvirat.com/api/v1/hotel/help-support/${e._id}`,i):C=await Tt.post("https://hotelvirat.com/api/v1/hotel/help-support",i),t(C.data.helpSupport),s({title:C.data.helpSupport.title,mobile:C.data.helpSupport.mobile,email:C.data.helpSupport.email}),a(!1),m("Help and support information saved successfully!"),setTimeout(()=>m(null),3e3)}catch(C){f(((y=(b=C.response)==null?void 0:b.data)==null?void 0:y.message)||"Failed to save help and support information")}finally{d(!1)}};return l&&!e?n.jsx("div",{className:"empty-state",children:"Loading..."}):u&&!e?n.jsx("div",{className:"empty-state",children:u}):n.jsxs("div",{className:"help-support-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Help & Support"}),!r&&n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:()=>a(!0),children:[n.jsx(zn,{size:16}),n.jsx("span",{children:"Edit Information"})]})})]}),p&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:p}),n.jsx("button",{onClick:()=>m(null),children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"card",children:r?n.jsx("form",{onSubmit:v,children:n.jsxs("div",{className:"card-body",style:{padding:"20px"},children:[u&&n.jsxs("div",{className:"alert-message",children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"title",children:"Title"}),n.jsx("input",{type:"text",id:"title",name:"title",className:"form-input",value:i.title,onChange:g,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"mobile",children:"Mobile Number"}),n.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-input",value:i.mobile,onChange:g,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"email",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",value:i.email,onChange:g,required:!0})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>{s(e?{title:e.title,mobile:e.mobile,email:e.email}:{title:"",mobile:"",email:""}),a(!1),f(null)},disabled:l,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?n.jsx("span",{children:"Saving..."}):n.jsxs(n.Fragment,{children:[n.jsx(zD,{size:16}),n.jsx("span",{children:"Save Changes"})]})})]})]})}):n.jsx("div",{className:"card-body",style:{padding:"20px"},children:e?n.jsxs("div",{className:"contact-info-container",children:[n.jsx("div",{className:"contact-header",children:n.jsx("h3",{children:e.title})}),n.jsxs("div",{className:"contact-details",children:[n.jsxs("div",{className:"contact-item",children:[n.jsx("div",{className:"contact-icon",children:n.jsx(oi,{size:20})}),n.jsxs("div",{className:"contact-content",children:[n.jsx("h4",{children:"Mobile Number"}),n.jsx("p",{children:e.mobile})]})]}),n.jsxs("div",{className:"contact-item",children:[n.jsx("div",{className:"contact-icon",children:n.jsx(eo,{size:20})}),n.jsxs("div",{className:"contact-content",children:[n.jsx("h4",{children:"Email Address"}),n.jsx("p",{children:e.email})]})]})]})]}):n.jsx("div",{className:"empty-state",children:"No help and support information available."})})})]})},cae=()=>{const[e,t]=N.useState(null),[r,a]=N.useState(!1),[i,s]=N.useState({description:"",mission:""}),[l,d]=N.useState(!1),[u,f]=N.useState(null),[p,m]=N.useState(null),g=async()=>{try{d(!0),f(null);const b=await fetch("https://hotelvirat.com/api/v1/hotel/about-us");if(b.ok){const y=await b.json(),C=y.data||y;C&&C._id?(t(C),s({description:C.description||"",mission:C.mission||""})):(t(null),s({description:"",mission:""}))}else if(b.status===404)t(null),s({description:"",mission:""}),f(null);else throw new Error("Failed to fetch About Us data")}catch(b){console.error("Fetch error:",b),f(b.message),t(null)}finally{d(!1)}};N.useEffect(()=>{g()},[]);const v=b=>{const{name:y,value:C}=b.target;s({...i,[y]:C})},j=async b=>{if(b.preventDefault(),d(!0),f(null),m(null),!i.description.trim()||!i.mission.trim()){f("Both description and mission are required"),d(!1);return}if(i.description.trim().length<10){f("Description must be at least 10 characters long"),d(!1);return}if(i.mission.trim().length<10){f("Mission must be at least 10 characters long"),d(!1);return}try{const y="https://hotelvirat.com/api/v1",C=e?`${y}/hotel/about-us/${e._id}`:`${y}/hotel/about-us`,T=e?"PUT":"POST";console.log(`Making ${T} request to:`,C);const E=await fetch(C,{method:T,headers:{"Content-Type":"application/json"},body:JSON.stringify({description:i.description.trim(),mission:i.mission.trim()})});if(!E.ok){const A=await E.json();throw new Error(A.message||(e?"Failed to update About Us information":"Failed to create About Us information"))}const S=await E.json();console.log("Submit result:",S),m(S.message||(e?"About Us information updated successfully!":"About Us information created successfully!")),a(!1),await g(),setTimeout(()=>m(null),5e3)}catch(y){console.error("Submit error:",y),f(y.message)}finally{d(!1)}};return l&&!e&&!r?n.jsx("div",{className:"empty-state",children:"Loading..."}):n.jsxs("div",{className:"about-us-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"About Us"}),!r&&n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:()=>a(!0),disabled:l,children:[n.jsx(zn,{size:16}),n.jsx("span",{children:e?"Edit Information":"Add Information"})]})})]}),p&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:p}),n.jsx("button",{onClick:()=>m(null),children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),u&&!r&&n.jsxs("div",{className:"alert-message",style:{marginBottom:"16px"},children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:u}),n.jsx("button",{onClick:()=>f(null),style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer"},children:""})]}),n.jsx("div",{className:"card",children:r?n.jsx("form",{onSubmit:j,children:n.jsxs("div",{className:"card-body",style:{padding:"20px"},children:[u&&n.jsxs("div",{className:"alert-message",style:{marginBottom:"16px"},children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"description",children:"Description *"}),n.jsx("textarea",{id:"description",name:"description",className:"form-textarea",value:i.description,onChange:v,required:!0,rows:6,placeholder:"Enter a detailed description about your hotel...",minLength:10}),n.jsxs("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:[i.description.length," characters (minimum 10 required)"]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"mission",children:"Mission *"}),n.jsx("textarea",{id:"mission",name:"mission",className:"form-textarea",value:i.mission,onChange:v,required:!0,rows:4,placeholder:"Enter your hotel's mission statement...",minLength:10}),n.jsxs("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:[i.mission.length," characters (minimum 10 required)"]})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>{s(e?{description:e.description,mission:e.mission}:{description:"",mission:""}),a(!1),f(null),m(null)},disabled:l,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l||i.description.trim().length<10||i.mission.trim().length<10,children:l?n.jsx("span",{children:"Saving..."}):n.jsxs(n.Fragment,{children:[n.jsx(zD,{size:16}),n.jsx("span",{children:"Save Changes"})]})})]})]})}):e?n.jsx("div",{className:"card-body",style:{padding:"20px"},children:n.jsxs("div",{className:"about-info-container",children:[n.jsx("div",{className:"about-header",children:n.jsx("h3",{children:"About Hotel Virat"})}),n.jsxs("div",{className:"about-section",children:[n.jsx("h4",{children:"Description"}),n.jsx("p",{children:e.description})]}),n.jsxs("div",{className:"about-section",children:[n.jsxs("div",{className:"mission-header",children:[n.jsx(EA,{size:20,color:"#ff7e47"}),n.jsx("h4",{children:"Our Mission"})]}),n.jsx("p",{children:e.mission})]}),e.updatedAt&&n.jsx("div",{className:"about-meta",style:{marginTop:"20px",paddingTop:"15px",borderTop:"1px solid #eee"},children:n.jsxs("small",{style:{color:"#666",fontSize:"0.875rem"},children:["Last updated: ",new Date(e.updatedAt).toLocaleDateString()]})})]})}):n.jsx("div",{className:"card-body",style:{padding:"20px"},children:n.jsxs("div",{className:"empty-state",children:[n.jsx(EA,{size:48,color:"#ddd",style:{marginBottom:"16px"}}),n.jsx("h3",{style:{color:"#999",marginBottom:"8px"},children:"No About Us Information"}),n.jsx("p",{style:{color:"#999",margin:0},children:'No About Us information available. Click "Add Information" to create one.'})]})})})]})},dae=({term:e,onClose:t,onSave:r})=>{const[a,i]=N.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",category:(e==null?void 0:e.category)||"Terms of Service"}),s=d=>{const{name:u,value:f}=d.target;i({...a,[u]:f})},l=d=>{d.preventDefault(),r(a),t()};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Policy":"Add New Policy"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:l,children:[n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"title",children:"Title"}),n.jsx("input",{type:"text",id:"title",name:"title",className:"form-input",value:a.title,onChange:s,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"category",children:"Category"}),n.jsxs("select",{id:"category",name:"category",className:"form-select",value:a.category,onChange:s,required:!0,children:[n.jsx("option",{value:"Order Policy",children:"Order Policy"}),n.jsx("option",{value:"Delivery Policy",children:"Delivery Policy"}),n.jsx("option",{value:"Privacy Policy",children:"Privacy Policy"}),n.jsx("option",{value:"Terms of Service",children:"Terms of Service"}),n.jsx("option",{value:"Refund Policy",children:"Refund Policy"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"description",children:"Description"}),n.jsx("textarea",{id:"description",name:"description",className:"form-textarea",value:a.description,onChange:s,required:!0,rows:8})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"Update Policy":"Add Policy"})]})]})]})})},uae=({term:e,onClose:t,onConfirm:r})=>n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Policy"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsxs("strong",{children:['"',e.title,'"']}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:()=>{r(e._id),t()},children:"Delete"})]})]})}),fae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(""),[l,d]=N.useState(!1),[u,f]=N.useState(null),[p,m]=N.useState(!1),[g,v]=N.useState(null),[j,b]=N.useState(null),[y,C]=N.useState(!1),[T,E]=N.useState(null),S=async()=>{C(!0),E(null);try{const D=`https://hotelvirat.com/api/v1/hotel/terms${i?`?category=${i}`:""}`,R=await fetch(D);if(!R.ok)throw new Error("Failed to fetch terms");const H=await R.json();let ne=[];H.success&&Array.isArray(H.data)?ne=H.data:Array.isArray(H)?ne=H:H.message&&H.message.includes("routes working")&&(ne=[]),t(ne)}catch(P){E(P.message)}finally{C(!1)}};N.useEffect(()=>{S()},[i]);const A=e.filter(P=>P.title.toLowerCase().includes(r.toLowerCase())||P.description.toLowerCase().includes(r.toLowerCase())),k=()=>{f(null),d(!0)},I=P=>{f(P),d(!0)},B=P=>{v(P),m(!0)},M=async P=>{C(!0),E(null);try{const D="https://hotelvirat.com/api/v1/hotel",R=u?`${D}/terms/${u._id}`:`${D}/terms`;if(!(await fetch(R,{method:u?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})).ok)throw new Error(u?"Failed to update term":"Failed to create term");await S()}catch(D){E(D.message)}finally{C(!1)}},L=async P=>{C(!0),E(null);try{if(!(await fetch(`https://hotelvirat.com/api/v1/hotel/terms/${P}`,{method:"DELETE"})).ok)throw new Error("Failed to delete term");await S()}catch(D){E(D.message)}finally{C(!1)}},F=P=>{b(j===P?null:P)},_=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),G=P=>{switch(P){case"Terms of Service":return{bg:"#e0f2fe",text:"#0284c7"};case"Privacy Policy":return{bg:"#dcfce7",text:"#16a34a"};case"Refund Policy":return{bg:"#fef3c7",text:"#d97706"};case"Delivery Policy":return{bg:"#f3e8ff",text:"#7e22ce"};case"Order Policy":return{bg:"#fee2e2",text:"#dc2626"};default:return{bg:"#f1f5f9",text:"#64748b"}}};return n.jsxs("div",{className:"terms-policies-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Terms & Policies"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:k,disabled:y,children:[n.jsx(Pa,{size:16}),n.jsx("span",{children:"Add Policy"})]})})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search policies...",className:"search-input",value:r,onChange:P=>a(P.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("select",{className:"filter-select",value:i,onChange:P=>s(P.target.value),disabled:y,children:[n.jsx("option",{value:"",children:"All Categories"}),n.jsx("option",{value:"Order Policy",children:"Order Policy"}),n.jsx("option",{value:"Delivery Policy",children:"Delivery Policy"}),n.jsx("option",{value:"Privacy Policy",children:"Privacy Policy"}),n.jsx("option",{value:"Terms of Service",children:"Terms of Service"}),n.jsx("option",{value:"Refund Policy",children:"Refund Policy"}),n.jsx("option",{value:"Other",children:"Other"})]})})]}),T&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:T}),y?n.jsx("div",{className:"empty-state",children:"Loading..."}):n.jsx("div",{className:"terms-list",children:A.map(P=>{const D=G(P.category);return n.jsxs("div",{className:"terms-item",children:[n.jsxs("div",{className:"terms-header",onClick:()=>F(P._id),children:[n.jsxs("div",{className:"terms-title-section",children:[n.jsx("div",{className:"terms-icon",style:{backgroundColor:D.bg,color:D.text},children:n.jsx(pc,{size:20})}),n.jsxs("div",{className:"terms-info",children:[n.jsx("h3",{className:"terms-title",children:P.title}),n.jsxs("div",{className:"terms-meta",children:[n.jsx("span",{className:"terms-category",style:{backgroundColor:D.bg,color:D.text},children:P.category}),n.jsxs("span",{className:"terms-date",children:["Last updated: ",_(P.updatedAt)]})]})]})]}),n.jsxs("div",{className:"terms-actions",children:[n.jsx("button",{className:"action-btn edit",onClick:R=>{R.stopPropagation(),I(P)},disabled:y,children:n.jsx(zn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:R=>{R.stopPropagation(),B(P)},disabled:y,children:n.jsx(Qn,{size:14})})]})]}),j===P._id&&n.jsx("div",{className:"terms-content",children:n.jsx("p",{children:P.description})})]},P._id)})}),A.length===0&&!y&&n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"No policies found. Add a new policy to get started."})}),l&&n.jsx(dae,{term:u,onClose:()=>d(!1),onSave:M}),p&&n.jsx(uae,{term:g,onClose:()=>m(!1),onConfirm:L})]})},rd="/assets/logo4-BWe_iBAv.jpeg",hae=()=>{const[e,t]=N.useState("admin"),[r,a]=N.useState(""),[i,s]=N.useState(""),[l,d]=N.useState(""),[u,f]=N.useState(!1),[p,m]=N.useState(""),[g,v]=N.useState(!1),j=sn(),b=async T=>{var S,A;T.preventDefault(),m(""),v(!0);const E="https://hotelvirat.com/api/v1/hotel";try{if(e==="admin"){const k=await Tt.post(`${E}/admin-auth/login`,{email:r,password:l}),{token:I}=k.data;localStorage.setItem("authToken",I),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userType","admin"),j("/")}else if(e==="category"){const k=await Tt.post(`${E}/category-access/login`,{username:i,password:l}),{token:I,user:B}=k.data;localStorage.setItem("authToken",I),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userType","category-staff"),localStorage.setItem("categoryStaffData",JSON.stringify(B)),j("/category-orders")}else if(e==="receptionist"){const k=await Tt.post(`${E}/receptionist-access/login`,{username:i,password:l}),{token:I,user:B}=k.data;localStorage.setItem("authToken",I),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userType","receptionist"),localStorage.setItem("receptionistData",JSON.stringify(B)),j("/receptionist-dashboard")}}catch(k){m(((A=(S=k.response)==null?void 0:S.data)==null?void 0:A.message)||"An error occurred during login"),v(!1)}},y=()=>{j("/privacy-policy")},C=()=>{j("/terms-conditions")};return n.jsx("div",{className:"login-container-centered",children:n.jsxs("div",{className:"login-card",children:[n.jsxs("div",{className:"login-header",children:[n.jsxs("div",{className:"login-logo",children:[n.jsx("img",{src:rd,alt:"Hotel Virat Logo",className:"logo-image"}),n.jsx("h1",{children:"Hotel Virat"})]}),n.jsx("p",{children:"Sign in to your account"})]}),n.jsxs("div",{className:"login-type-toggle",style:{display:"flex",marginBottom:"20px",borderRadius:"8px",overflow:"hidden",border:"1px solid #e5e7eb"},children:[n.jsx("button",{type:"button",onClick:()=>{t("admin"),m("")},style:{flex:1,padding:"10px",border:"none",cursor:"pointer",backgroundColor:e==="admin"?"#4f46e5":"#f9fafb",color:e==="admin"?"white":"#374151",fontWeight:"500",transition:"all 0.2s",fontSize:"13px"},children:"Admin"}),n.jsx("button",{type:"button",onClick:()=>{t("category"),m("")},style:{flex:1,padding:"10px",border:"none",cursor:"pointer",backgroundColor:e==="category"?"#4f46e5":"#f9fafb",color:e==="category"?"white":"#374151",fontWeight:"500",transition:"all 0.2s",fontSize:"13px"},children:"Category"}),n.jsx("button",{type:"button",onClick:()=>{t("receptionist"),m("")},style:{flex:1,padding:"10px",border:"none",cursor:"pointer",backgroundColor:e==="receptionist"?"#4f46e5":"#f9fafb",color:e==="receptionist"?"white":"#374151",fontWeight:"500",transition:"all 0.2s",fontSize:"13px"},children:"Receptionist"})]}),p&&n.jsx("div",{className:"login-error",children:p}),n.jsxs("form",{className:"login-form",onSubmit:b,children:[e==="admin"?n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email"}),n.jsxs("div",{className:"input-with-icon",children:[n.jsx("span",{className:"input-icon",children:n.jsx(eo,{size:16})}),n.jsx("input",{type:"email",id:"email",placeholder:"Enter your email address",value:r,onChange:T=>a(T.target.value),required:!0,style:{paddingLeft:"40px"}})]})]}):n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"username",children:"Username"}),n.jsxs("div",{className:"input-with-icon",children:[n.jsx("span",{className:"input-icon",children:n.jsx(xc,{size:16})}),n.jsx("input",{type:"text",id:"username",placeholder:e==="category"?"Enter category staff username":"Enter receptionist username",value:i,onChange:T=>s(T.target.value),required:!0,style:{paddingLeft:"40px"}})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"input-with-icon",children:[n.jsx("span",{className:"input-icon",children:n.jsx(O7,{size:16})}),n.jsx("input",{type:u?"text":"password",id:"password",placeholder:"Enter your password",value:l,onChange:T=>d(T.target.value),required:!0,style:{paddingLeft:"40px"}}),n.jsx("button",{type:"button",className:"password-toggle",onClick:()=>f(!u),tabIndex:"-1",children:u?n.jsx(rw,{size:18}):n.jsx(ci,{size:18})})]})]}),n.jsx("button",{type:"submit",className:"login-button",disabled:g,children:g?"Signing in...":"Sign In"})]}),n.jsxs("div",{className:"login-footer-links",children:[n.jsx("button",{type:"button",className:"footer-link",onClick:y,children:"Privacy Policy"}),n.jsx("span",{className:"link-separator",children:"|"}),n.jsx("button",{type:"button",className:"footer-link",onClick:C,children:"Terms & Conditions"})]})]})})},pae=({staff:e,onClose:t,onSave:r,isEditMode:a})=>{const[i,s]=N.useState({name:(e==null?void 0:e.name)||"",mobile:(e==null?void 0:e.mobile)||""}),[l,d]=N.useState(null),[u,f]=N.useState(!1),p=g=>{const{name:v,value:j}=g.target;s({...i,[v]:j}),d(null)},m=async g=>{g.preventDefault(),d(null),f(!0);try{await r(i,e==null?void 0:e._id),t()}catch(v){d(v.message||"Failed to save staff user")}finally{f(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:a?"Edit Staff User":"Add New Staff User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:m,children:[n.jsxs("div",{className:"modal-body",children:[l&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626"},children:l}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:p,required:!0,disabled:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"mobile",children:["Mobile ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-input",value:i.mobile,onChange:p,required:!0,pattern:"\\d{10}",title:"Please enter a valid 10-digit mobile number",disabled:u})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":a?"Update Staff User":"Add Staff User"})]})]})]})})},mae=({staff:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error("Error deleting staff:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Staff User"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},xae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,f]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(!1),T="https://hotelvirat.com/api/v1/hotel/staff-auth",E=async()=>{C(!0),b("");try{const F=await fetch(`${T}/`);if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const _=await F.json();let G=[];if(_&&_.success&&Array.isArray(_.data))G=_.data;else if(Array.isArray(_))G=_;else if(_&&_.message&&_.message.includes("routes working"))console.log(" Server returning placeholder response:",_.message),G=[];else{console.error("Expected array but got:",_),t([]),b("Invalid data format received from server");return}t(G)}catch(F){console.error("Fetch error:",F),b(`Failed to fetch staff users: ${F.message}`),t([])}finally{C(!1)}};N.useEffect(()=>{E()},[]);const S=()=>{d(null),s(!0)},A=F=>{d(F),s(!0)},k=F=>{m(F),f(!0)},I=async(F,_)=>{try{const G=_?`${T}/${_}`:`${T}/register`,D=await fetch(G,{method:_?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}),R=await D.json();if(!D.ok)throw new Error(R.message||"Failed to save staff user");v(`Staff user ${_?"updated":"added"} successfully`),setTimeout(()=>v(""),3e3),await E()}catch(G){throw new Error(G.message)}},B=async F=>{try{const _=await fetch(`${T}/${F}`,{method:"DELETE"}),G=await _.json();if(!_.ok)throw new Error(G.message||"Failed to delete staff user");v("Staff user deleted successfully"),setTimeout(()=>v(""),3e3),await E()}catch(_){b(_.message),setTimeout(()=>b(""),3e3)}},M=F=>{if(!F)return"N/A";const _={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(F).toLocaleDateString(void 0,_)},L=e.filter(F=>F.name.toLowerCase().includes(r.toLowerCase())||F.mobile.includes(r));return n.jsxs("div",{className:"staff-users-page",children:[g&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>v(""),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),j&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),style:{color:"#dc2626"},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Staff Users"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:S,disabled:y,children:[n.jsx(Hc,{size:16}),n.jsx("span",{children:"Add Staff User"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search staff users...",className:"search-input",value:r,onChange:F=>a(F.target.value)})]})}),n.jsx("div",{className:"data-card",children:y?n.jsx("div",{className:"empty-state",children:"Loading staff users..."}):L.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No staff users found. ",r?"Try a different search.":"Add a new staff user to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Mobile"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:L.map(F=>n.jsxs("tr",{children:[n.jsx("td",{children:F._id.slice(-6)}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:F.name.charAt(0).toUpperCase()}),F.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(oi,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),F.mobile]})}),n.jsx("td",{children:M(F.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>A(F),disabled:y,children:n.jsx(zn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>k(F),disabled:y,children:n.jsx(Qn,{size:14})})]})})]},F._id))})]})}),i&&n.jsx(pae,{staff:l,onClose:()=>s(!1),onSave:I,isEditMode:!!l}),u&&n.jsx(mae,{staff:p,onClose:()=>f(!1),onConfirm:B})]})},gae=({counter:e,onClose:t,onSave:r,isEditMode:a})=>{const[i,s]=N.useState({name:(e==null?void 0:e.name)||"",mobile:(e==null?void 0:e.mobile)||""}),[l,d]=N.useState(null),[u,f]=N.useState(!1),p=g=>{const{name:v,value:j}=g.target;s({...i,[v]:j}),d(null)},m=async g=>{g.preventDefault(),d(null),f(!0);try{await r(i,e==null?void 0:e._id),t()}catch(v){d(v.message||"Failed to save counter user")}finally{f(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:a?"Edit Counter User":"Add New Counter User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:m,children:[n.jsxs("div",{className:"modal-body",children:[l&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626"},children:l}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:p,required:!0,disabled:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"mobile",children:["Mobile ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-input",value:i.mobile,onChange:p,required:!0,pattern:"\\d{10}",title:"Please enter a valid 10-digit mobile number",disabled:u})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":a?"Update Counter User":"Add Counter User"})]})]})]})})},yae=({counter:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error("Error deleting counter:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Counter User"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},vae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,f]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(!1),T="https://hotelvirat.com/api/v1/hotel/counter-auth",E=async()=>{C(!0),b("");try{const F=await fetch(`${T}/`);if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const _=await F.json();let G=[];if(_&&_.success&&Array.isArray(_.data))G=_.data;else if(Array.isArray(_))G=_;else if(_&&_.message&&_.message.includes("routes working"))console.log(" Server returning placeholder response:",_.message),G=[];else{console.error("Expected array but got:",_),t([]),b("Invalid data format received from server");return}t(G)}catch(F){console.error("Fetch error:",F),b(`Failed to fetch counter users: ${F.message}`),t([])}finally{C(!1)}};N.useEffect(()=>{E()},[]);const S=()=>{d(null),s(!0)},A=F=>{d(F),s(!0)},k=F=>{m(F),f(!0)},I=async(F,_)=>{try{const G=_?`${T}/${_}`:`${T}/register`,D=await fetch(G,{method:_?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}),R=await D.json();if(!D.ok)throw new Error(R.message||"Failed to save counter user");v(`Counter user ${_?"updated":"added"} successfully`),setTimeout(()=>v(""),3e3),await E()}catch(G){throw new Error(G.message)}},B=async F=>{try{const _=await fetch(`${T}/${F}`,{method:"DELETE"}),G=await _.json();if(!_.ok)throw new Error(G.message||"Failed to delete counter user");v("Counter user deleted successfully"),setTimeout(()=>v(""),3e3),await E()}catch(_){b(_.message),setTimeout(()=>b(""),3e3)}},M=F=>{if(!F)return"N/A";const _={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(F).toLocaleDateString(void 0,_)},L=e.filter(F=>F.name.toLowerCase().includes(r.toLowerCase())||F.mobile.includes(r));return n.jsxs("div",{className:"counter-users-page",children:[g&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>v(""),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),j&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),style:{color:"#dc2626"},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Counter Users"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:S,disabled:y,children:[n.jsx(Hc,{size:16}),n.jsx("span",{children:"Add Counter User"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search counter users...",className:"search-input",value:r,onChange:F=>a(F.target.value)})]})}),n.jsx("div",{className:"data-card",children:y?n.jsx("div",{className:"empty-state",children:"Loading counter users..."}):L.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No counter users found."," ",r?"Try a different search.":"Add a new counter user to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Mobile"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:L.map(F=>n.jsxs("tr",{children:[n.jsx("td",{children:F._id.slice(-6)}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:F.name.charAt(0).toUpperCase()}),F.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(oi,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),F.mobile]})}),n.jsx("td",{children:M(F.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>A(F),disabled:y,children:n.jsx(zn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>k(F),disabled:y,children:n.jsx(Qn,{size:14})})]})})]},F._id))})]})}),i&&n.jsx(gae,{counter:l,onClose:()=>s(!1),onSave:I,isEditMode:!!l}),u&&n.jsx(yae,{counter:p,onClose:()=>f(!1),onConfirm:B})]})},_o=Tt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),bae=()=>{var Le,ye,de,Se,Qe,ot,ut,tt;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState([]),[p,m]=N.useState([]),[g,v]=N.useState(!0),[j,b]=N.useState(""),[y,C]=N.useState(!1),[T,E]=N.useState(!1),[S,A]=N.useState(null),[k,I]=N.useState({status:"",paymentStatus:"",paymentMethod:""}),[B,M]=N.useState(""),[L,F]=N.useState(!1),[_,G]=N.useState(""),[P,D]=N.useState("all"),[R,H]=N.useState("all"),[ne,me]=N.useState("all"),[q,X]=N.useState("all"),[z,te]=N.useState("today"),[U,ee]=N.useState(1),[le,ce]=N.useState(1),[je,ie]=N.useState(null),ve=7;N.useEffect(()=>{Ne(),ge(),Ye()},[P,R,ne,q]),N.useEffect(()=>{const J=setInterval(()=>{Ye()},3e4);return()=>clearInterval(J)},[P,R,ne,q]);const Ne=async()=>{try{const J=await _o.get("/branch");d(J.data)}catch(J){console.error("Error fetching branches:",J),b("Failed to load branches. Some filter options may not be available.")}},ge=async()=>{try{const J=await _o.get("/staff-order/available-statuses");if(console.log("Available statuses API response:",J.data),J.data.success){const Ae=J.data.orderStatuses||[],ke=J.data.paymentStatuses||[];console.log("Setting order statuses:",Ae),console.log("Setting payment statuses:",ke),f(Ae),m(ke)}}catch(J){console.error("Error fetching available statuses:",J),f(["pending","preparing","served","completed","cancelled"]),m(["pending","completed","failed","refunded"])}},Ye=async()=>{v(!0),b(""),t([]),s([]),a([]);try{const J={};P!=="all"&&(J.status=P),R!=="all"&&(J.branchId=R),ne!=="all"&&(J.paymentStatus=ne),q!=="all"&&(J.orderType=q),_.trim()&&(J.search=_.trim());const Ae={...J,_t:Date.now()},ke=await _o.get("/staff-order",{params:Ae});let nt=[];if(ke.data&&ke.data.success&&Array.isArray(ke.data.data))nt=ke.data.data;else if(ke.data&&ke.data.orders&&Array.isArray(ke.data.orders))nt=ke.data.orders;else if(Array.isArray(ke.data))nt=ke.data;else throw console.error(" Unexpected response format:",ke.data),new Error("Invalid response format: orders array missing");const rt=nt.filter(lt=>!(lt.orderId||"").startsWith("COUNTER-")).map((lt,jt)=>{var Lt,Ut,Zt,ln,Pt;return{id:lt._id||`temp-id-${jt}`,orderId:lt.orderId||`UNKNOWN-${jt}`,customer:lt.isGuestOrder?lt.customerName:((Lt=lt.userId)==null?void 0:Lt.name)||"Unknown Staff",customerType:lt.isGuestOrder?"Guest":"Staff",customerMobile:lt.isGuestOrder?lt.customerMobile:((Ut=lt.userId)==null?void 0:Ut.mobile)||"N/A",date:new Date(lt.orderTime||lt.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),branch:lt.branchName||"Unknown Branch",branchId:((Zt=lt.branchId)==null?void 0:Zt._id)||null,tableNumber:lt.tableNumber||"N/A",peopleCount:lt.peopleCount||0,items:((ln=lt.items)==null?void 0:ln.length)||0,amount:`${((Pt=lt.grandTotal)==null?void 0:Pt.toFixed(2))||"0.00"}`,status:lt.status||"pending",paymentMethod:lt.paymentMethod||"cash",paymentStatus:lt.paymentStatus||"pending",subtotal:lt.subtotal||0,tax:lt.tax||0,serviceCharge:lt.serviceCharge||0,grandTotal:lt.grandTotal||0,originalOrder:lt,isGuestOrder:lt.isGuestOrder||!1}}).filter(lt=>lt.id);t(rt),ie(new Date)}catch(J){console.error("Error fetching orders:",J),b("Failed to load orders. Please refresh the page and try again.")}finally{v(!1)}};N.useEffect(()=>{const J=e.filter(Ae=>{if(!_.trim())return!0;const ke=Ae.orderId||"",nt=Ae.tableNumber||"",rt=Ae.customer||"",lt=Ae.customerMobile||"",jt=_.trim().toLowerCase();return ke.toLowerCase().includes(jt)||nt.toLowerCase().includes(jt)||rt.toLowerCase().includes(jt)||lt.toLowerCase().includes(jt)});s(J),ce(Math.ceil(J.length/ve)),ee(1)},[e,_]),N.useEffect(()=>{const J=(U-1)*ve,Ae=J+ve,ke=i.slice(J,Ae);a(ke)},[i,U]);const Te=J=>{console.log("Admin Panel: Opening view modal for order:",J),console.log("Admin Panel: Order status:",J.status),console.log("Admin Panel: Order payment status:",J.paymentStatus),A(J),C(!0)},qe=J=>{A(J),I({status:J.status,paymentStatus:J.paymentStatus,paymentMethod:J.paymentMethod}),E(!0)},V=J=>{const{name:Ae,value:ke}=J.target;I({...k,[Ae]:ke})},fe=async(J,Ae)=>{var ke,nt;F(!0);try{console.log(`Admin Panel: Quick updating order status to: ${Ae}`);const rt=await _o.put(`/staff-order/${J}/status`,{status:Ae});if(console.log("Admin Panel: Quick status update response:",rt.data),rt.data.success)console.log("Admin Panel: Status updated successfully, refreshing orders..."),await Ye(),A({...S,status:Ae}),M(`Order ${S.orderId} status updated: ${S.status}  ${Ae}`),setTimeout(()=>{M("")},3e3);else throw new Error(rt.data.message||"Update failed")}catch(rt){console.error("Error updating order status:",rt);const lt=((nt=(ke=rt.response)==null?void 0:ke.data)==null?void 0:nt.message)||rt.message||"Failed to update order status";alert(`Update failed: ${lt}. Please try again.`)}finally{F(!1)}},Ee=async(J,Ae)=>{var ke,nt;F(!0);try{console.log(`Admin Panel: Quick updating payment status to: ${Ae}`);const rt=await _o.put(`/staff-order/${J}/status`,{paymentStatus:Ae});if(console.log("Admin Panel: Quick payment update response:",rt.data),rt.data.success)console.log("Admin Panel: Payment status updated successfully, refreshing orders..."),await Ye(),A({...S,paymentStatus:Ae}),M(`Order ${S.orderId} payment status updated: ${S.paymentStatus}  ${Ae}`),setTimeout(()=>{M("")},3e3);else throw new Error(rt.data.message||"Update failed")}catch(rt){console.error("Error updating payment status:",rt);const lt=((nt=(ke=rt.response)==null?void 0:ke.data)==null?void 0:nt.message)||rt.message||"Failed to update payment status";alert(`Update failed: ${lt}. Please try again.`)}finally{F(!1)}},K=async()=>{var J,Ae;F(!0);try{if(console.log(`Admin Panel: Updating payment method for order ${S.orderId}`),console.log(`Admin Panel: Current Payment Method: ${S.paymentMethod}`),console.log(`Admin Panel: New Payment Method: ${k.paymentMethod}`),k.paymentMethod===S.paymentMethod){alert("No changes detected. Payment method is already set to this value."),F(!1);return}const ke=await _o.put(`/staff-order/${S.id}/status`,{paymentMethod:k.paymentMethod});if(console.log("Admin Panel: Payment method update API response:",ke.data),ke.data.success)console.log("Admin Panel: Payment method updated successfully, refreshing orders..."),await Ye(),E(!1),M(`Order ${S.orderId} payment method updated: ${S.paymentMethod}  ${k.paymentMethod}`),setTimeout(()=>{M("")},5e3);else throw new Error(ke.data.message||"Update failed")}catch(ke){console.error("Error updating order:",ke);const nt=((Ae=(J=ke.response)==null?void 0:J.data)==null?void 0:Ae.message)||ke.message||"Failed to update order";alert(`Update failed: ${nt}. Please try again.`)}finally{F(!1)}},re=()=>{C(!1),A(null)},W=()=>{E(!1),A(null)},Z=(J,Ae)=>{J==="status"?D(Ae):J==="branch"?H(Ae):J==="paymentStatus"?me(Ae):J==="orderType"&&X(Ae),ee(1)},Q=J=>{switch(J==null?void 0:J.toLowerCase()){case"card":return n.jsx(Bn,{size:16});case"upi":return n.jsx(es,{size:16});case"cash":default:return n.jsx(es,{size:16})}},be=J=>{switch(J==null?void 0:J.toLowerCase()){case"completed":return"completed";case"pending":return"pending";case"failed":return"cancelled";case"refunded":return"preparing";default:return"pending"}},Me=()=>{let J=`Order ID,Customer Name,Customer Type,Mobile Number,Date & Time,Branch,Table Number,People Count,Order Status,Payment Status,Payment Method,Subtotal,Tax (5%),Service Charge (10%),Grand Total,Items Count,Item Details
`;const Ae=new Date,ke=Ae.toLocaleDateString("en-IN")+" "+Ae.toLocaleTimeString("en-IN"),nt=i.length,rt=i.reduce((Ct,or)=>Ct+(or.grandTotal||0),0),lt=i.filter(Ct=>Ct.paymentStatus==="completed"),jt=lt.reduce((Ct,or)=>Ct+(or.grandTotal||0),0),Lt=rt-jt;J+=`
"STAFF ORDERS EXPORT SUMMARY"
`,J+=`"Export Date & Time:","${ke}"
`,J+=`"Total Orders:",${nt}
`,J+=`"Total Amount:",${rt.toFixed(2)}
`,J+=`"Paid Orders:",${lt.length}
`,J+=`"Paid Amount:",${jt.toFixed(2)}
`,J+=`"Unpaid Orders:",${nt-lt.length}
`,J+=`"Unpaid Amount:",${Lt.toFixed(2)}
`,J+=`"Collection Rate:",${rt>0?(jt/rt*100).toFixed(1):0}
`,J+=`
"DETAILED ORDER LIST"
`,J+=`Order ID,Customer Name,Customer Type,Mobile Number,Date & Time,Branch,Table Number,People Count,Order Status,Payment Status,Payment Method,Subtotal,Tax (5%),Service Charge (10%),Grand Total,Items Count,Item Details
`,i.forEach(Ct=>{var Rr,$a,vs,dl,ae,pe,oe,ue;const or=(($a=(Rr=Ct.originalOrder)==null?void 0:Rr.items)==null?void 0:$a.map(he=>`${he.name} (Qty: ${he.quantity}, Price: ${he.price.toFixed(2)})`).join("; "))||"No items",jn=new Date(((vs=Ct.originalOrder)==null?void 0:vs.createdAt)||((dl=Ct.originalOrder)==null?void 0:dl.orderTime)||Date.now()),Fr=jn.toLocaleDateString("en-IN")+" "+jn.toLocaleTimeString("en-IN");J+=`"${Ct.orderId}","${Ct.customer}","${Ct.customerType}","${Ct.customerMobile}","${Fr}","${Ct.branch}","${Ct.tableNumber}",${Ct.peopleCount},"${Ct.status}","${Ct.paymentStatus}","${Ct.paymentMethod}",${((ae=Ct.subtotal)==null?void 0:ae.toFixed(2))||"0.00"},${((pe=Ct.tax)==null?void 0:pe.toFixed(2))||"0.00"},${((oe=Ct.serviceCharge)==null?void 0:oe.toFixed(2))||"0.00"},${((ue=Ct.grandTotal)==null?void 0:ue.toFixed(2))||"0.00"},${Ct.items},"${or}"
`}),J+=`
"PAYMENT METHOD BREAKDOWN"
`;const Ut={};i.forEach(Ct=>{const or=Ct.paymentMethod||"cash";Ut[or]||(Ut[or]={count:0,amount:0}),Ut[or].count++,Ut[or].amount+=Ct.grandTotal||0}),J+=`Payment Method,Order Count,Total Amount
`,Object.entries(Ut).forEach(([Ct,or])=>{J+=`"${Ct.charAt(0).toUpperCase()+Ct.slice(1)}",${or.count},${or.amount.toFixed(2)}
`}),J+=`
"BRANCH-WISE BREAKDOWN"
`;const Zt={};i.forEach(Ct=>{const or=Ct.branch||"Unknown";Zt[or]||(Zt[or]={count:0,amount:0}),Zt[or].count++,Zt[or].amount+=Ct.grandTotal||0}),J+=`Branch Name,Order Count,Total Amount
`,Object.entries(Zt).forEach(([Ct,or])=>{J+=`"${Ct}",${or.count},${or.amount.toFixed(2)}
`});const ln=new Blob([J],{type:"text/csv;charset=utf-8;"}),Pt=window.URL.createObjectURL(ln),jr=document.createElement("a");jr.setAttribute("hidden",""),jr.setAttribute("href",Pt),jr.setAttribute("download",`staff-orders-detailed-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(jr),jr.click(),document.body.removeChild(jr),window.URL.revokeObjectURL(Pt)},Ge=J=>{var nt,rt,lt,jt,Lt,Ut,Zt,ln;const Ae=window.open("","_blank","width=302,height=600"),ke=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Order ${J.orderId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            max-width: 80mm;
            padding: 5mm;
            font-size: 12px;
            line-height: 1.4;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .hotel-name { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .branch-name { font-size: 12px; margin-bottom: 3px; }
          .order-info { margin-bottom: 10px; }
          .order-id { font-size: 14px; font-weight: bold; text-align: center; margin: 8px 0; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .info-label { font-weight: bold; }
          .divider { border-top: 1px dashed #000; margin: 8px 0; }
          .items-header { font-weight: bold; margin-bottom: 5px; }
          .item-row { margin-bottom: 5px; }
          .item-name { font-weight: bold; }
          .item-details { display: flex; justify-content: space-between; font-size: 11px; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .grand-total { font-size: 14px; font-weight: bold; border-top: 1px dashed #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 11px; border-top: 1px dashed #000; padding-top: 10px; }
          .thank-you { font-weight: bold; margin-bottom: 5px; }
          @media print { 
            body { width: 80mm; }
            @page { size: 80mm auto; margin: 0; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">HOTEL VIRAT</div>
          <div class="branch-name">${J.branch}</div>
        </div>
        
        <div class="order-id">Order #${J.orderId}</div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">Date:</span>
            <span>${J.date}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Table:</span>
            <span>${J.tableNumber}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Guests:</span>
            <span>${J.peopleCount}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Customer:</span>
            <span>${J.customer}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Type:</span>
            <span>${J.customerType}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Mobile:</span>
            <span>${J.customerMobile}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="items-section">
          <div class="items-header">ITEMS</div>
          ${((rt=(nt=J.originalOrder)==null?void 0:nt.items)==null?void 0:rt.map(Pt=>`
            <div class="item-row">
              <div class="item-name">${Pt.name}</div>
              <div class="item-details">
                <span>${Pt.quantity} x ${Pt.price.toFixed(2)}</span>
                <span>${(Pt.price*Pt.quantity).toFixed(2)}</span>
              </div>
            </div>
          `).join(""))||"<div>No items</div>"}
        </div>
        
        <div class="divider"></div>
        
        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>${((lt=J.subtotal)==null?void 0:lt.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Tax (5%):</span>
            <span>${((jt=J.tax)==null?void 0:jt.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Service (10%):</span>
            <span>${((Lt=J.serviceCharge)==null?void 0:Lt.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row grand-total">
            <span>TOTAL:</span>
            <span>${((Ut=J.grandTotal)==null?void 0:Ut.toFixed(2))||"0.00"}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">Payment:</span>
            <span>${((Zt=J.paymentMethod)==null?void 0:Zt.toUpperCase())||"CASH"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Status:</span>
            <span>${((ln=J.paymentStatus)==null?void 0:ln.toUpperCase())||"PENDING"}</span>
          </div>
        </div>
        
        <div class="footer">
          <div class="thank-you">Thank You!</div>
          <div>Visit Again</div>
          <div style="margin-top: 5px; font-size: 10px;">${new Date().toLocaleString("en-IN")}</div>
        </div>
      </body>
      </html>
    `;Ae.document.write(ke),Ae.document.close(),Ae.focus(),setTimeout(()=>{Ae.print()},300)};return n.jsxs("div",{className:"orders-page",children:[B&&n.jsxs("div",{className:"success-message",children:[n.jsx(vn,{size:16}),n.jsx("span",{children:B}),n.jsx("button",{onClick:()=>M(""),children:n.jsx(On,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsxs("div",{className:"header-title-section",children:[n.jsx("h1",{children:"All Orders (Staff & Guest)"}),je&&n.jsxs("p",{className:"last-updated",children:["Last updated: ",je.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})," | Total orders: ",e.length," | API: Local (",_o.defaults.baseURL,")",n.jsx("br",{}),n.jsxs("small",{children:["Available Order Statuses: ",u.join(", ")," | Payment Statuses: ",p.join(", ")]})]})]}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-outline",onClick:Ye,disabled:g,children:[g?n.jsx(Gn,{size:16,className:"animate-spin"}):n.jsx(Yt,{size:16}),n.jsx("span",{children:g?"Refreshing...":"Refresh Data"})]}),n.jsxs("button",{className:"btn btn-primary",onClick:()=>{t([]),s([]),a([]),Ye()},disabled:g,children:[n.jsx($t,{size:16}),n.jsx("span",{children:"Force Refresh"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:Me,children:[n.jsx(Ln,{size:16}),n.jsx("span",{children:"Export to Excel"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by order ID, table, customer name, or mobile...",className:"search-input",value:_,onChange:J=>G(J.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select",value:q,onChange:J=>Z("orderType",J.target.value),children:[n.jsx("option",{value:"all",children:"All Orders"}),n.jsx("option",{value:"staff",children:"Staff Orders"}),n.jsx("option",{value:"guest",children:"Guest Orders"})]}),n.jsxs("select",{className:"filter-select",value:P,onChange:J=>Z("status",J.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),u.map(J=>n.jsx("option",{value:J,children:J.charAt(0).toUpperCase()+J.slice(1)},J))]}),n.jsxs("select",{className:"filter-select",value:ne,onChange:J=>Z("paymentStatus",J.target.value),children:[n.jsx("option",{value:"all",children:"All Payment Status"}),p.map(J=>n.jsx("option",{value:J,children:J.charAt(0).toUpperCase()+J.slice(1)},J))]}),n.jsxs("select",{className:"filter-select",value:R,onChange:J=>Z("branch",J.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(J=>n.jsx("option",{value:J._id,children:J.name},J._id))]})]})]}),j&&n.jsxs("div",{className:"error-container",children:[n.jsx($t,{size:18}),n.jsx("span",{children:j})]}),n.jsxs("div",{className:"collection-stats-section",children:[n.jsxs("div",{className:"stats-header",children:[n.jsx("h2",{children:"Collection Statistics"}),n.jsxs("div",{className:"period-filters",children:[n.jsx("button",{className:`period-btn ${z==="today"?"active":""}`,onClick:()=>te("today"),children:"Today"}),n.jsx("button",{className:`period-btn ${z==="week"?"active":""}`,onClick:()=>te("week"),children:"This Week"}),n.jsx("button",{className:`period-btn ${z==="month"?"active":""}`,onClick:()=>te("month"),children:"This Month"})]})]}),n.jsx("div",{className:"stats-cards",children:(()=>{const J=new Date;let Ae;if(z==="today")Ae=new Date(J.getFullYear(),J.getMonth(),J.getDate());else if(z==="week"){const Pt=J.getDay(),jr=Pt===0?6:Pt-1;Ae=new Date(J.getFullYear(),J.getMonth(),J.getDate()-jr)}else z==="month"&&(Ae=new Date(J.getFullYear(),J.getMonth(),1));const ke=e.filter(Pt=>{var or,jn;const jr=new Date(((or=Pt.originalOrder)==null?void 0:or.createdAt)||((jn=Pt.originalOrder)==null?void 0:jn.orderTime)),Ct=!Pt.orderId.startsWith("COUNTER-");return jr>=Ae&&Ct}),nt=ke.filter(Pt=>Pt.paymentStatus==="completed"),rt=ke.filter(Pt=>Pt.paymentStatus!=="completed"),lt=ke.reduce((Pt,jr)=>Pt+(jr.grandTotal||0),0),jt=ke.length,Lt=nt.reduce((Pt,jr)=>Pt+(jr.grandTotal||0),0),Ut=nt.length,Zt=rt.reduce((Pt,jr)=>Pt+(jr.grandTotal||0),0),ln=rt.length;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"stat-card total",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Total Orders"}),n.jsxs("div",{className:"stat-value",children:[jt," orders"]}),n.jsxs("div",{className:"stat-count",children:["",lt.toFixed(2)]})]})]}),n.jsxs("div",{className:"stat-card paid",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Paid Orders"}),n.jsxs("div",{className:"stat-value",children:[Ut," orders"]}),n.jsxs("div",{className:"stat-count",children:["",Lt.toFixed(2)]})]})]}),n.jsxs("div",{className:"stat-card unpaid",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Unpaid Orders"}),n.jsxs("div",{className:"stat-value",children:[ln," orders"]}),n.jsxs("div",{className:"stat-count",children:["",Zt.toFixed(2)]})]})]})]})})()})]}),n.jsx("div",{className:"data-card",children:g?n.jsxs("div",{className:"loading-container",children:[n.jsx(Gn,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading orders..."})]}):n.jsx("div",{className:"table-container",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Order Status"}),n.jsx("th",{children:"Payment Status"}),n.jsx("th",{children:"Order By"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Mobile"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Table"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(J=>n.jsxs("tr",{children:[n.jsx("td",{"data-label":"Order ID",children:J.orderId}),n.jsx("td",{"data-label":"Order Status",children:n.jsx("div",{style:{display:"inline-block",padding:"6px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"600",textAlign:"center",minWidth:"80px",backgroundColor:J.status==="completed"?"#d1fae5":J.status==="preparing"?"#dbeafe":J.status==="served"?"#e0e7ff":J.status==="cancelled"?"#fee2e2":"#fef3c7",color:J.status==="completed"?"#065f46":J.status==="preparing"?"#1e40af":J.status==="served"?"#5b21b6":J.status==="cancelled"?"#991b1b":"#92400e",border:"1px solid "+(J.status==="completed"?"#10b981":J.status==="preparing"?"#3b82f6":J.status==="served"?"#8b5cf6":J.status==="cancelled"?"#ef4444":"#f59e0b")},children:J.status?J.status.charAt(0).toUpperCase()+J.status.slice(1):"Pending"})}),n.jsx("td",{"data-label":"Payment Status",children:n.jsx("div",{style:{display:"inline-block",padding:"6px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"600",textAlign:"center",minWidth:"80px",backgroundColor:J.paymentStatus==="completed"?"#d1fae5":J.paymentStatus==="failed"?"#fee2e2":J.paymentStatus==="refunded"?"#e0e7ff":"#fef3c7",color:J.paymentStatus==="completed"?"#065f46":J.paymentStatus==="failed"?"#991b1b":J.paymentStatus==="refunded"?"#5b21b6":"#92400e",border:"1px solid "+(J.paymentStatus==="completed"?"#10b981":J.paymentStatus==="failed"?"#ef4444":J.paymentStatus==="refunded"?"#8b5cf6":"#f59e0b")},children:J.paymentStatus?J.paymentStatus.charAt(0).toUpperCase()+J.paymentStatus.slice(1):"Pending"})}),n.jsx("td",{"data-label":"Customer",children:J.customer}),n.jsx("td",{"data-label":"Type",children:n.jsx("span",{className:`customer-type-badge ${J.isGuestOrder?"guest":"staff"}`,children:J.customerType})}),n.jsx("td",{"data-label":"Mobile",children:J.customerMobile}),n.jsx("td",{"data-label":"Date",children:J.date}),n.jsx("td",{"data-label":"Branch",children:J.branch}),n.jsx("td",{"data-label":"Table",children:J.tableNumber}),n.jsx("td",{"data-label":"Amount",children:J.amount}),n.jsx("td",{"data-label":"Actions",children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>Te(J),children:"View"}),n.jsx("button",{className:"action-btn edit",onClick:()=>qe(J),children:"Edit"}),n.jsx("button",{className:"action-btn print",onClick:()=>Ge(J),children:"Print"})]})})]},J.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"11",className:"no-orders",children:"No orders found matching your criteria"})})})]})})}),le>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>ee(J=>Math.max(J-1,1)),disabled:U===1||g,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,le)},(J,Ae)=>{let ke;return le<=5||U<=3?ke=Ae+1:U>=le-2?ke=le-4+Ae:ke=U-2+Ae,n.jsx("button",{className:`pagination-page ${U===ke?"active":""}`,onClick:()=>ee(ke),disabled:g,children:ke},ke)}),le>5&&U<le-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),le>5&&U<le-2&&n.jsx("button",{className:`pagination-page ${U===le?"active":""}`,onClick:()=>ee(le),disabled:g,children:le})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>ee(J=>Math.min(J+1,le)),disabled:U===le||g,children:"Next"})]}),y&&S&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:[S.isGuestOrder?"Guest":"Staff"," Order Details ",S.orderId]}),n.jsx("button",{className:"modal-close",onClick:re,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Order By"}),n.jsxs("div",{className:"order-detail-value",children:[S.customer,n.jsx("span",{className:`customer-type-badge ${S.isGuestOrder?"guest":"staff"}`,style:{marginLeft:"8px"},children:S.customerType})]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Mobile Number"}),n.jsx("div",{className:"order-detail-value",children:S.customerMobile})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Date"}),n.jsx("div",{className:"order-detail-value",children:S.date})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:S.branch})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table Number"}),n.jsx("div",{className:"order-detail-value",children:S.tableNumber})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Number of People"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{className:"people-count",children:[n.jsx(Yi,{size:16}),S.peopleCount]})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Order Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:`status-badge ${S.status||"pending"}`,children:S.status?S.status.charAt(0).toUpperCase()+S.status.slice(1):"Pending"})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Method"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{className:"payment-method-display",children:[Q(S.paymentMethod),n.jsx("span",{children:S.paymentMethod?S.paymentMethod.charAt(0).toUpperCase()+S.paymentMethod.slice(1):"Cash"})]})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:`status-badge ${be(S.paymentStatus)}`,children:S.paymentStatus?S.paymentStatus.charAt(0).toUpperCase()+S.paymentStatus.slice(1):"Pending"})})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Price Details"}),n.jsx("div",{className:"order-items-table",children:n.jsx("table",{className:"data-table",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Subtotal"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Le=S.subtotal)==null?void 0:Le.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Tax (5%)"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((ye=S.tax)==null?void 0:ye.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Service Charge (10%)"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((de=S.serviceCharge)==null?void 0:de.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{style:{fontWeight:"bold"},children:[n.jsx("td",{children:"Total Amount"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Se=S.grandTotal)==null?void 0:Se.toFixed(2))||"0.00"]})]})]})})})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((ot=(Qe=S.originalOrder)==null?void 0:Qe.items)==null?void 0:ot.length)>0?S.originalOrder.items.map((J,Ae)=>n.jsxs("tr",{children:[n.jsx("td",{children:J.name}),n.jsx("td",{children:J.quantity}),n.jsxs("td",{children:["",J.price.toFixed(2)]}),n.jsxs("td",{children:["",(J.price*J.quantity).toFixed(2)]})]},Ae)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:re,children:"Close"}),n.jsxs("button",{className:"btn btn-print",onClick:()=>Ge(S),children:[n.jsx(ls,{size:16}),"Print"]}),n.jsx("button",{className:"btn btn-primary",onClick:()=>{re(),qe(S)},children:"Edit Order"})]})]})}),T&&S&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Edit ",S.isGuestOrder?"Guest":"Staff"," Order ",S.orderId]}),n.jsx("button",{className:"modal-close",onClick:W,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Order By"}),n.jsx("input",{type:"text",value:S.customer,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Customer Type"}),n.jsx("input",{type:"text",value:S.customerType,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Mobile Number"}),n.jsx("input",{type:"text",value:S.customerMobile,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch"}),n.jsx("input",{type:"text",value:S.branch,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Number"}),n.jsx("input",{type:"text",value:S.tableNumber,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Order Status"}),n.jsx("div",{className:"current-status-display",children:n.jsxs("span",{className:`status-badge ${(S==null?void 0:S.status)||"pending"}`,children:["Current: ",S!=null&&S.status?S.status.charAt(0).toUpperCase()+S.status.slice(1):"Pending"]})}),S.status!=="completed"&&S.status!=="cancelled"&&n.jsxs("div",{className:"status-progression-buttons",children:[S.status==="pending"&&n.jsx("button",{type:"button",className:"progression-btn preparing",onClick:()=>fe(S.id,"preparing"),disabled:L,children:"Mark as Preparing"}),S.status==="preparing"&&n.jsx("button",{type:"button",className:"progression-btn served",onClick:()=>fe(S.id,"served"),disabled:L,children:"Mark as Served"}),S.status==="served"&&n.jsx("button",{type:"button",className:"progression-btn completed",onClick:()=>fe(S.id,"completed"),disabled:L,children:"Mark as Completed"}),(S.status==="pending"||S.status==="preparing")&&n.jsx("button",{type:"button",className:"progression-btn cancelled",onClick:()=>fe(S.id,"cancelled"),disabled:L,children:"Cancel Order"})]}),(S.status==="completed"||S.status==="cancelled")&&n.jsx("div",{className:"status-final-message",children:n.jsxs("p",{children:["Order is ",S.status,". No further status changes allowed."]})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Payment Status"}),n.jsx("div",{className:"current-status-display",children:n.jsxs("span",{className:`status-badge ${be(S==null?void 0:S.paymentStatus)}`,children:["Current: ",S!=null&&S.paymentStatus?S.paymentStatus.charAt(0).toUpperCase()+S.paymentStatus.slice(1):"Pending"]})}),S.paymentStatus!=="completed"&&S.paymentStatus!=="refunded"&&n.jsxs("div",{className:"status-progression-buttons",children:[S.paymentStatus==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",className:"progression-btn completed",onClick:()=>Ee(S.id,"completed"),disabled:L,children:"Mark as Paid"}),n.jsx("button",{type:"button",className:"progression-btn failed",onClick:()=>Ee(S.id,"failed"),disabled:L,children:"Mark as Failed"})]}),S.paymentStatus==="failed"&&n.jsx("button",{type:"button",className:"progression-btn completed",onClick:()=>Ee(S.id,"completed"),disabled:L,children:"Mark as Paid"})]}),(S.paymentStatus==="completed"||S.paymentStatus==="paid")&&n.jsx("div",{className:"status-progression-buttons",children:n.jsx("button",{type:"button",className:"progression-btn refunded",onClick:()=>Ee(S.id,"refunded"),disabled:L,children:"Mark as Refunded"})}),S.paymentStatus==="refunded"&&n.jsx("div",{className:"status-final-message",children:n.jsx("p",{children:"Payment has been refunded. No further payment changes allowed."})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Payment Method"}),n.jsxs("select",{name:"paymentMethod",value:k.paymentMethod,onChange:V,className:"form-select",children:[n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"card",children:"Card"}),n.jsx("option",{value:"upi",children:"UPI"}),n.jsx("option",{value:"netbanking",children:"Net Banking"}),n.jsx("option",{value:"wallet",children:"Wallet"})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h4",{children:"Order Items"}),n.jsxs("div",{className:"alert-message",children:[n.jsx($t,{size:16}),n.jsx("span",{children:"Use buttons above to update order and payment status progressively"})]})]}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((tt=(ut=S.originalOrder)==null?void 0:ut.items)==null?void 0:tt.length)>0?S.originalOrder.items.map((J,Ae)=>n.jsxs("tr",{children:[n.jsx("td",{children:J.name}),n.jsx("td",{children:J.quantity}),n.jsxs("td",{children:["",J.price.toFixed(2)]}),n.jsxs("td",{children:["",(J.price*J.quantity).toFixed(2)]})]},Ae)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:W,disabled:L,children:"Close"}),n.jsx("button",{className:"btn btn-primary",onClick:K,disabled:L,children:L?n.jsxs(n.Fragment,{children:[n.jsx(Gn,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Updating..."})]}):"Update Payment Method"})]})]})}),n.jsx("style",{children:`
        /* Base Styles */
        .orders-page {
          padding: 20px;
          max-width: 100%;
          margin: 0 auto;
          background: #f8fafc;
          min-height: 100vh;
        }

        /* Success Message */
        .success-message {
          position: fixed;
          top: 20px;
          right: 20px;
          background: #10b981;
          color: white;
          padding: 12px 16px;
          border-radius: 8px;
          display: flex;
          align-items: center;
          gap: 8px;
          z-index: 1000;
          box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }

        .success-message button {
          background: none;
          border: none;
          color: white;
          cursor: pointer;
          padding: 4px;
          border-radius: 4px;
        }

        .success-message button:hover {
          background: rgba(255, 255, 255, 0.2);
        }

        /* Page Header */
        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 24px;
          flex-wrap: wrap;
          gap: 16px;
        }

        .header-title-section h1 {
          font-size: 28px;
          font-weight: 700;
          color: #1f2937;
          margin: 0;
        }

        .last-updated {
          font-size: 12px;
          color: #6b7280;
          margin: 4px 0 0 0;
          font-style: italic;
        }

        .header-actions {
          display: flex;
          gap: 12px;
        }

        .btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 16px;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
          border: none;
        }

        .btn-outline {
          background: white;
          color: #374151;
          border: 1px solid #d1d5db;
        }

        .btn-outline:hover {
          background: #f9fafb;
          border-color: #9ca3af;
        }

        .btn-primary {
          background: #d97706;
          color: white;
        }

        .btn-primary:hover {
          background: #d97706;
        }

        .btn-primary:disabled {
          background: #9ca3af;
          cursor: not-allowed;
        }

        .btn-print {
          background: #059669;
          color: white;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .btn-print:hover {
          background: #047857;
        }

        /* Filters Bar */
        .filters-bar {
          background: white;
          padding: 20px;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          margin-bottom: 24px;
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .search-container {
          position: relative;
          flex: 1;
          min-width: 300px;
        }

        .search-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
          pointer-events: none;
        }

        .search-input {
          width: 100%;
          padding: 12px 12px 12px 40px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          outline: none;
          background: white;
        }

        .search-input:focus {
          border-color: #d97706;
          box-shadow: 0 0 0 3px rgba(221, 124, 2, 0.1);
        }

        .filter-buttons {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
        }

        .filter-select {
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          background: white;
          min-width: 150px;
          outline: none;
          cursor: pointer;
        }

        .filter-select:focus {
          border-color: #d97706;
          box-shadow: 0 0 0 3px rgba(221, 124, 2, 0.1);
        }

        /* Error Container */
        .error-container {
          margin: 20px 0;
          padding: 12px 16px;
          background: #fee2e2;
          color: #dc2626;
          border-radius: 8px;
          display: flex;
          align-items: center;
          gap: 8px;
          border: 1px solid #fecaca;
        }

        /* Collection Statistics */
        .collection-stats-section {
          background: white;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          padding: 24px;
          margin-bottom: 24px;
        }

        .stats-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
          flex-wrap: wrap;
          gap: 16px;
        }

        .stats-header h2 {
          font-size: 20px;
          font-weight: 600;
          color: #1f2937;
          margin: 0;
        }

        .period-filters {
          display: flex;
          gap: 8px;
          background: #f3f4f6;
          padding: 4px;
          border-radius: 8px;
        }

        .period-btn {
          padding: 8px 16px;
          border: none;
          background: transparent;
          color: #6b7280;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
          transition: all 0.2s ease;
        }

        .period-btn:hover {
          background: #e5e7eb;
          color: #374151;
        }

        .period-btn.active {
          background: #d97706;
          color: white;
        }

        .stats-cards {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
        }

        .stat-card {
          background: #f8fafc;
          border-radius: 12px;
          padding: 20px;
          display: flex;
          align-items: center;
          gap: 16px;
          border: 1px solid #e2e8f0;
          transition: all 0.2s ease;
        }

        .stat-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .stat-card.cash {
          border-left: 4px solid #10b981;
        }

        .stat-card.online {
          border-left: 4px solid #3b82f6;
        }

        .stat-card.total {
          border-left: 4px solid #d97706;
        }

        .stat-card.paid {
          border-left: 4px solid #10b981;
        }

        .stat-card.unpaid {
          border-left: 4px solid #ef4444;
        }

        .stat-icon {
          font-size: 32px;
          line-height: 1;
        }

        .stat-content {
          flex: 1;
        }

        .stat-label {
          font-size: 14px;
          color: #6b7280;
          margin-bottom: 4px;
        }

        .stat-value {
          font-size: 24px;
          font-weight: 700;
          color: #1f2937;
          margin-bottom: 2px;
        }

        .stat-count {
          font-size: 12px;
          color: #9ca3af;
        }



        /* Data Card */
        .data-card {
          background: white;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          overflow: hidden;
          margin-bottom: 24px;
        }

        /* Loading Container */
        .loading-container {
          text-align: center;
          padding: 60px 20px;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 16px;
          color: #6b7280;
        }

        /* Table Container with Horizontal Scroll */
        .table-container {
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
        }

        /* Data Table */
        .data-table {
          width: 100%;
          border-collapse: collapse;
          min-width: 1000px; /* Reduced width to make status columns more visible */
        }

        .data-table th,
        .data-table td {
          padding: 12px 16px;
          text-align: left;
          border-bottom: 1px solid #e5e7eb;
          white-space: nowrap;
        }

        /* Priority columns - Status columns should be more visible */
        .data-table th:nth-child(2),
        .data-table th:nth-child(3),
        .data-table td:nth-child(2),
        .data-table td:nth-child(3) {
          background: #f8fafc;
          font-weight: 600;
          min-width: 120px;
        }

        .data-table th {
          background: #f9fafb;
          font-weight: 600;
          color: #374151;
          font-size: 14px;
          position: sticky;
          top: 0;
          z-index: 10;
        }

        .data-table td {
          font-size: 14px;
          color: #6b7280;
        }

        .data-table tr:hover {
          background: #f9fafb;
        }

        .no-orders {
          text-align: center;
          padding: 40px 20px;
          color: #9ca3af;
          font-style: italic;
        }

        /* Customer Type Badge */
        .customer-type-badge {
          display: inline-block;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 500;
          text-transform: uppercase;
        }

        .customer-type-badge.staff {
          background: rgba(59, 130, 246, 0.1);
          color: #3b82f6;
        }

        .customer-type-badge.guest {
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
        }

        /* People Count */
        .people-count {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        /* Status Badges */
        .status-badge {
          display: inline-block !important;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 500;
          text-transform: capitalize;
          min-width: 60px;
          text-align: center;
          border: 1px solid transparent;
        }

        .status-badge.pending {
          background: #fef3c7 !important;
          color: #92400e !important;
          border: 1px solid #f59e0b !important;
        }

        .status-badge.preparing {
          background: #dbeafe !important;
          color: #1e40af !important;
          border: 1px solid #3b82f6 !important;
        }

        .status-badge.served {
          background: #e0e7ff !important;
          color: #5b21b6 !important;
          border: 1px solid #8b5cf6 !important;
        }

        .status-badge.completed {
          background: #d1fae5 !important;
          color: #065f46 !important;
          border: 1px solid #10b981 !important;
        }

        .status-badge.cancelled {
          background: #fee2e2 !important;
          color: #991b1b !important;
          border: 1px solid #ef4444 !important;
        }

        /* Fallback for any status badge without specific class */
        .status-badge:not(.pending):not(.preparing):not(.served):not(.completed):not(.cancelled) {
          background: rgba(156, 163, 175, 0.2) !important;
          color: #374151 !important;
          border-color: #9ca3af;
        }

        /* Action Buttons */
        .action-buttons {
          display: flex;
          gap: 8px;
        }

        .action-btn {
          padding: 6px 12px;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
          cursor: pointer;
          border: none;
          transition: all 0.2s ease;
        }

        .action-btn.view {
          background: rgba(59, 130, 246, 0.1);
          color: #2563eb;
        }

        .action-btn.view:hover {
          background: rgba(59, 130, 246, 0.2);
        }

        .action-btn.edit {
          background: rgba(16, 185, 129, 0.1);
          color: #059669;
        }

        .action-btn.edit:hover {
          background: rgba(16, 185, 129, 0.2);
        }

        .action-btn.print {
          background: rgba(139, 92, 246, 0.1);
          color: #7c3aed;
        }

        .action-btn.print:hover {
          background: rgba(139, 92, 246, 0.2);
        }

        /* Pagination */
        .pagination {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 8px;
          margin-top: 24px;
          flex-wrap: wrap;
        }

        .pagination-btn {
          padding: 8px 16px;
          border: 1px solid #d1d5db;
          background: white;
          color: #374151;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: all 0.2s ease;
        }

        .pagination-btn:hover:not(:disabled) {
          background: #f9fafb;
          border-color: #9ca3af;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-pages {
          display: flex;
          gap: 4px;
          align-items: center;
        }

        .pagination-page {
          width: 36px;
          height: 36px;
          border: 1px solid #d1d5db;
          background: white;
          color: #374151;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
        }

        .pagination-page:hover:not(:disabled) {
          background: #d97706;
          border-color: #d97706;
        }

        .pagination-page.active {
          background: #d97706;
          color: white;
          border-color: #d97706;
        }

        .pagination-page:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-ellipsis {
          padding: 0 8px;
          color: #9ca3af;
        }

        /* Modal Styles */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .modal {
          background: white;
          border-radius: 12px;
          max-width: 600px;
          width: 100%;
          max-height: 90vh;
          display: flex;
          flex-direction: column;
          box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px;
          border-bottom: 1px solid #e5e7eb;
        }

        .modal-title {
          font-size: 18px;
          font-weight: 600;
          color: #1f2937;
          margin: 0;
        }

        .modal-close {
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #6b7280;
          padding: 4px;
          border-radius: 4px;
          line-height: 1;
        }

        .modal-close:hover {
          color: #374151;
          background: #f3f4f6;
        }

        .modal-body {
          flex: 1;
          overflow-y: auto;
          padding: 24px;
        }

        .modal-footer {
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          padding: 24px;
          border-top: 1px solid #e5e7eb;
        }

        /* Order Details */
        .order-details {
          margin-bottom: 24px;
        }

        .order-detail-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 0;
          border-bottom: 1px solid #f3f4f6;
        }

        .order-detail-row:last-child {
          border-bottom: none;
        }

        .order-detail-label {
          font-weight: 500;
          color: #374151;
          min-width: 140px;
        }

        .order-detail-value {
          color: #6b7280;
          text-align: right;
          flex: 1;
        }

        .payment-method-display {
          display: flex;
          align-items: center;
          gap: 8px;
          justify-content: flex-end;
        }

        /* Order Items Section */
        .order-items-section {
          margin-bottom: 24px;
        }

        .order-items-section h4 {
          font-size: 16px;
          font-weight: 600;
          color: #1f2937;
          margin-bottom: 16px;
        }

        .order-items-table {
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          overflow: hidden;
        }

        .order-items-table .data-table {
          min-width: auto;
        }

        .order-items-table .data-table th,
        .order-items-table .data-table td {
          padding: 8px 12px;
        }

        /* Form Styles */
        .form-group {
          margin-bottom: 16px;
        }

        .form-label {
          display: block;
          font-size: 14px;
          font-weight: 500;
          color: #374151;
          margin-bottom: 6px;
        }

        .form-input,
        .form-select {
          width: 100%;
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
          outline: none;
          background: white;
        }

        .form-input:focus,
        .form-select:focus {
          border-color: #d97706;
          box-shadow: 0 0 0 3px rgba(221, 124, 2, 0.1);
        }

        .form-input:disabled {
          background: #f9fafb;
          color: #6b7280;
          cursor: not-allowed;
        }

        /* Progressive Status Update Styles */
        .current-status-display {
          margin-bottom: 12px;
        }

        .status-progression-buttons {
          display: flex;
          flex-direction: column;
          gap: 8px;
          margin-top: 8px;
        }

        .progression-btn {
          padding: 10px 16px;
          border: none;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          text-align: left;
        }

        .progression-btn.preparing {
          background: #dbeafe;
          color: #1e40af;
          border: 1px solid #3b82f6;
        }

        .progression-btn.preparing:hover {
          background: #bfdbfe;
        }

        .progression-btn.served {
          background: #e0e7ff;
          color: #5b21b6;
          border: 1px solid #8b5cf6;
        }

        .progression-btn.served:hover {
          background: #c7d2fe;
        }

        .progression-btn.completed {
          background: #d1fae5;
          color: #065f46;
          border: 1px solid #10b981;
        }

        .progression-btn.completed:hover {
          background: #a7f3d0;
        }

        .progression-btn.cancelled {
          background: #fee2e2;
          color: #991b1b;
          border: 1px solid #ef4444;
        }

        .progression-btn.cancelled:hover {
          background: #fecaca;
        }

        .progression-btn.failed {
          background: #fee2e2;
          color: #991b1b;
          border: 1px solid #ef4444;
        }

        .progression-btn.failed:hover {
          background: #fecaca;
        }

        .progression-btn.refunded {
          background: #e0e7ff;
          color: #5b21b6;
          border: 1px solid #8b5cf6;
        }

        .progression-btn.refunded:hover {
          background: #c7d2fe;
        }

        .status-change-preview {
          margin-top: 8px;
          padding: 8px 12px;
          background: #f0f9ff;
          border: 1px solid #0ea5e9;
          border-radius: 4px;
          font-size: 12px;
          color: #0369a1;
        }

        .status-final-message {
          margin-top: 12px;
          padding: 12px;
          background: #f3f4f6;
          border: 1px solid #d1d5db;
          border-radius: 6px;
        }

        .status-final-message p {
          margin: 0;
          font-size: 13px;
          color: #6b7280;
          font-style: italic;
        }

        .section-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 16px;
        }

        .alert-message {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 12px;
          color: #6b7280;
        }

        /* Animations */
        .animate-spin {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
          .orders-page {
            padding: 16px;
          }

          .page-header {
            flex-direction: column;
            align-items: flex-start;
          }

          .page-header h1 {
            font-size: 24px;
          }

          .filters-bar {
            padding: 16px;
          }

          .filter-buttons {
            flex-direction: column;
          }

          .filter-select {
            min-width: auto;
            width: 100%;
          }

          .search-container {
            min-width: auto;
          }

          .collection-stats-section {
            padding: 20px;
          }

          .stats-header {
            flex-direction: column;
            align-items: flex-start;
          }

          .stats-cards {
            grid-template-columns: 1fr;
          }
        }

        @media (max-width: 768px) {
          .orders-page {
            padding: 12px;
          }

          .page-header h1 {
            font-size: 20px;
          }

          .filters-bar {
            padding: 12px;
          }

          .collection-stats-section {
            padding: 16px;
          }

          .stats-header h2 {
            font-size: 18px;
          }

          .period-filters {
            width: 100%;
            justify-content: center;
          }

          .period-btn {
            flex: 1;
            text-align: center;
          }

          .stat-card {
            padding: 16px;
          }

          .stat-icon {
            font-size: 28px;
          }

          .stat-value {
            font-size: 20px;
          }

          /* Mobile Table Styles */
          .table-container {
            border-radius: 8px;
            overflow: hidden;
          }

          .data-table {
            min-width: 700px; /* Further reduced to prioritize status columns */
          }

          .data-table th,
          .data-table td {
            padding: 8px 12px;
            font-size: 13px;
          }

          .action-buttons {
            flex-direction: column;
            gap: 4px;
          }

          .action-btn {
            padding: 4px 8px;
            font-size: 11px;
          }

          /* Modal adjustments for mobile */
          .modal {
            margin: 10px;
            max-height: calc(100vh - 20px);
          }

          .modal-header,
          .modal-body,
          .modal-footer {
            padding: 16px;
          }

          .modal-title {
            font-size: 16px;
          }

          .order-detail-row {
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
          }

          .order-detail-value {
            text-align: left;
          }

          .payment-method-display {
            justify-content: flex-start;
          }

          /* Pagination adjustments */
          .pagination {
            gap: 4px;
          }

          .pagination-btn {
            padding: 6px 12px;
            font-size: 12px;
          }

          .pagination-page {
            width: 32px;
            height: 32px;
            font-size: 12px;
          }
        }

        @media (max-width: 480px) {
          .orders-page {
            padding: 8px;
          }

          .page-header {
            gap: 12px;
          }

          .page-header h1 {
            font-size: 18px;
          }

          .btn {
            padding: 8px 12px;
            font-size: 12px;
          }

          .filters-bar {
            padding: 8px;
            gap: 12px;
          }

          .collection-stats-section {
            padding: 12px;
          }

          .stats-header h2 {
            font-size: 16px;
          }

          .period-btn {
            padding: 6px 12px;
            font-size: 12px;
          }

          .stat-card {
            padding: 12px;
            gap: 12px;
          }

          .stat-icon {
            font-size: 24px;
          }

          .stat-value {
            font-size: 18px;
          }

          .stat-label {
            font-size: 13px;
          }

          .stat-count {
            font-size: 11px;
          }

          .search-input {
            padding: 10px 10px 10px 36px;
            font-size: 13px;
          }

          .filter-select {
            padding: 8px 10px;
            font-size: 13px;
          }

          .data-table {
            min-width: 600px; /* Further reduced for very small screens */
          }

          .data-table th,
          .data-table td {
            padding: 6px 8px;
            font-size: 12px;
          }

          .customer-type-badge,
          .status-badge {
            font-size: 10px;
            padding: 2px 6px;
          }

          .success-message {
            top: 10px;
            right: 10px;
            left: 10px;
            padding: 10px 12px;
            font-size: 13px;
          }
        }

        /* Custom Scrollbar for Table */
        .table-container::-webkit-scrollbar {
          height: 8px;
        }

        .table-container::-webkit-scrollbar-track {
          background: #f1f5f9;
          border-radius: 4px;
        }

        .table-container::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 4px;
        }

        .table-container::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }

        /* Focus styles for accessibility */
        .data-table:focus-within {
          outline: 2px solid #d97706;
          outline-offset: 2px;
        }

        .action-btn:focus {
          outline: 2px solid #d97706;
          outline-offset: 2px;
        }

        .pagination-btn:focus,
        .pagination-page:focus {
          outline: 2px solid #d97706;
          outline-offset: 2px;
        }
      `})]})},Yl=Tt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),jae=()=>{var Te,qe,V,fe,Ee,K,re,W;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState(!0),[p,m]=N.useState(""),[g,v]=N.useState(!1),[j,b]=N.useState(!1),[y,C]=N.useState(null),[T,E]=N.useState({orderStatus:"",paymentStatus:""}),[S,A]=N.useState(""),[k,I]=N.useState(!1),[B,M]=N.useState(""),[L,F]=N.useState("all"),[_,G]=N.useState("all"),[P,D]=N.useState("all"),[R,H]=N.useState("today"),[ne,me]=N.useState(1),[q,X]=N.useState(1),z=7;N.useEffect(()=>{te(),U()},[L,_,P]);const te=async()=>{try{const Z=await Yl.get("/branch");d(Z.data)}catch(Z){console.error("Error fetching branches:",Z),m("Failed to load branches. Some filter options may not be available.")}},U=async()=>{f(!0),m(""),t([]),s([]),a([]);try{const[Z,Q]=await Promise.all([Yl.get("/counter-order/orders").catch(()=>({data:{orders:[]}})),Yl.get("/staff-order").catch(()=>({data:{orders:[]}}))]);let be=[],Me=[];if(Z.data.success&&Array.isArray(Z.data.data)?Me=Z.data.data:Z.data.orders&&Array.isArray(Z.data.orders)?Me=Z.data.orders:Array.isArray(Z.data)&&(Me=Z.data),Me.length>0){const ye=Me.map((de,Se)=>{var Qe,ot,ut,tt,J,Ae,ke,nt;return de.id||console.warn(`Counter order at index ${Se} is missing id:`,de),de.customerName||console.warn(`Counter order at index ${Se} is missing customerName:`,de),(Qe=de.userId)!=null&&Qe.name||console.warn(`Counter order at index ${Se} is missing counter user name:`,de),{id:de.id||`temp-counter-id-${Se}`,customerName:de.customerName||"Unknown Customer",phoneNumber:de.phoneNumber||"N/A",counterUser:((ot=de.userId)==null?void 0:ot.name)||"Unknown Counter User",counterUserId:((ut=de.userId)==null?void 0:ut.id)||null,date:new Date(de.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),branch:((tt=de.branch)==null?void 0:tt.name)||"Unknown Branch",branchId:((J=de.branch)==null?void 0:J.id)||null,invoice:((Ae=de.invoice)==null?void 0:Ae.invoiceNumber)||"N/A",items:((ke=de.items)==null?void 0:ke.length)||0,itemNames:((nt=de.items)==null?void 0:nt.map(rt=>rt.name).join(", "))||"No items",subtotal:de.subtotal||de.totalAmount||0,tax:de.tax||0,serviceCharge:de.serviceCharge||0,grandTotal:de.grandTotal||de.totalAmount||0,amount:`${(de.grandTotal||de.totalAmount||0).toFixed(2)}`,totalAmount:de.totalAmount||0,orderStatus:de.orderStatus||"pending",paymentMethod:de.paymentMethod||"cash",paymentStatus:de.paymentStatus||"pending",cancellationReason:de.cancellationReason||"",cancelledAt:de.cancelledAt||null,originalOrder:de,orderSource:"counter"}}).filter(de=>de.id);be=[...be,...ye]}let Ge=[];if(Q.data.success&&Array.isArray(Q.data.data)?Ge=Q.data.data:Q.data.orders&&Array.isArray(Q.data.orders)?Ge=Q.data.orders:Array.isArray(Q.data)&&(Ge=Q.data),Ge.length>0){const de=Ge.filter(Se=>Se.isGuestOrder&&Se.categoryName&&(Se.categoryName.toLowerCase().includes("self service")||Se.categoryName.toLowerCase().includes("counter"))).map((Se,Qe)=>{var ot,ut;return{id:Se._id||`temp-guest-id-${Qe}`,customerName:Se.customerName||"Unknown Customer",phoneNumber:Se.customerMobile||"N/A",counterUser:"ViratCounter App",counterUserId:null,date:new Date(Se.orderTime||Se.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),branch:Se.branchName||"Unknown Branch",branchId:Se.branchId||null,invoice:Se.orderId||"N/A",items:((ot=Se.items)==null?void 0:ot.length)||0,itemNames:((ut=Se.items)==null?void 0:ut.map(tt=>tt.name).join(", "))||"No items",subtotal:Se.subtotal||Se.totalAmount||0,tax:Se.tax||0,serviceCharge:Se.serviceCharge||0,grandTotal:Se.grandTotal||Se.totalAmount||0,amount:`${(Se.grandTotal||Se.totalAmount||0).toFixed(2)}`,totalAmount:Se.totalAmount||0,orderStatus:Se.status||"pending",paymentMethod:Se.paymentMethod||"cash",paymentStatus:Se.paymentStatus||"pending",cancellationReason:Se.cancellationReason||"",cancelledAt:Se.cancelledAt||null,originalOrder:Se,orderSource:"guest"}}).filter(Se=>Se.id);be=[...be,...de]}be.sort((ye,de)=>new Date(de.originalOrder.createdAt||de.originalOrder.orderTime)-new Date(ye.originalOrder.createdAt||ye.originalOrder.orderTime));let Le=be;L!=="all"&&(Le=Le.filter(ye=>ye.orderStatus===L)),_!=="all"&&(Le=Le.filter(ye=>ye.paymentStatus===_)),P!=="all"&&(Le=Le.filter(ye=>ye.branchId===P)),t(Le)}catch(Z){console.error("Error fetching orders:",Z),m("Failed to load orders. Please refresh the page and try again.")}finally{f(!1)}};N.useEffect(()=>{const Z=e.filter(Q=>{if(!B.trim())return!0;const be=Q.customerName||"",Me=Q.phoneNumber||"",Ge=Q.counterUser||"",Le=Q.invoice||"",ye=B.trim().toLowerCase();return console.log(`Searching for "${ye}" in order:`,{customerName:be,phoneNumber:Me,counterUser:Ge,invoice:Le}),be.toLowerCase().includes(ye)||Me.toLowerCase().includes(ye)||Ge.toLowerCase().includes(ye)||Le.toLowerCase().includes(ye)});s(Z),X(Math.ceil(Z.length/z)),me(1)},[e,B]),N.useEffect(()=>{const Z=(ne-1)*z,Q=Z+z,be=i.slice(Z,Q);a(be)},[i,ne]),N.useEffect(()=>{const Z=setTimeout(()=>{},300);return()=>clearTimeout(Z)},[B]);const ee=Z=>{C(Z),v(!0)},le=Z=>{C(Z),E({orderStatus:Z.orderStatus,paymentStatus:Z.paymentStatus}),b(!0)},ce=Z=>{const{name:Q,value:be}=Z.target;E({...T,[Q]:be})},je=async()=>{I(!0);try{const Z=y.orderSource==="guest";if(Z){const be={};T.orderStatus!==y.orderStatus&&(be.status=T.orderStatus),T.paymentStatus!==y.paymentStatus&&(be.paymentStatus=T.paymentStatus),Object.keys(be).length>0&&await Yl.put(`/staff-order/${y.id}/status`,be)}else T.orderStatus!==y.orderStatus&&await Yl.put(`/counter-order/orders/${y.id}/order-status`,{orderStatus:T.orderStatus}),T.paymentStatus!==y.paymentStatus&&await Yl.put(`/counter-order/orders/${y.id}/payment-status`,{paymentStatus:T.paymentStatus});await U(),b(!1),A(` ${Z?"ViratCounter":"Counter"} order status updated successfully`),setTimeout(()=>{A("")},2e3)}catch(Z){console.error("Error updating order:",Z),alert("Failed to update order. Please try again.")}finally{I(!1)}},ie=()=>{v(!1),C(null)},ve=()=>{b(!1),C(null)},Ne=(Z,Q)=>{Z==="orderStatus"?F(Q):Z==="paymentStatus"?G(Q):Z==="branch"&&D(Q),me(1)},ge=Z=>{switch(Z==null?void 0:Z.toLowerCase()){case"card":return n.jsx(Bn,{size:16});case"upi":return n.jsx(es,{size:16});case"qr":return n.jsx(es,{size:16});case"cash":default:return n.jsx(es,{size:16})}},Ye=()=>{let Z=`Order ID,Customer Name,Phone Number,Counter User,Date & Time,Branch,Invoice Number,Order Status,Payment Status,Payment Method,Subtotal,Tax,Service Charge,Grand Total,Items Count,Item Details
`;const Q=new Date,be=Q.toLocaleDateString("en-IN")+" "+Q.toLocaleTimeString("en-IN"),Me=i.length,Ge=i.reduce((Ae,ke)=>Ae+(ke.grandTotal||0),0),Le=i.filter(Ae=>Ae.paymentStatus==="completed"),ye=Le.reduce((Ae,ke)=>Ae+(ke.grandTotal||0),0),de=Ge-ye;Z+=`
"COUNTER ORDERS EXPORT SUMMARY"
`,Z+=`"Export Date & Time:","${be}"
`,Z+=`"Total Orders:",${Me}
`,Z+=`"Total Amount:",${Ge.toFixed(2)}
`,Z+=`"Paid Orders:",${Le.length}
`,Z+=`"Paid Amount:",${ye.toFixed(2)}
`,Z+=`"Unpaid Orders:",${Me-Le.length}
`,Z+=`"Unpaid Amount:",${de.toFixed(2)}
`,Z+=`"Collection Rate:",${Ge>0?(ye/Ge*100).toFixed(1):0}
`,Z+=`
"DETAILED ORDER LIST"
`,Z+=`Order ID,Customer Name,Phone Number,Counter User,Date & Time,Branch,Invoice Number,Order Status,Payment Status,Payment Method,Subtotal,Tax,Service Charge,Grand Total,Items Count,Item Details
`,i.forEach(Ae=>{var lt,jt,Lt,Ut,Zt,ln,Pt,jr;const ke=((jt=(lt=Ae.originalOrder)==null?void 0:lt.items)==null?void 0:jt.map(Ct=>`${Ct.name} (Qty: ${Ct.quantity}, Price: ${Ct.price.toFixed(2)})`).join("; "))||"No items",nt=new Date(((Lt=Ae.originalOrder)==null?void 0:Lt.createdAt)||((Ut=Ae.originalOrder)==null?void 0:Ut.orderTime)||Date.now()),rt=nt.toLocaleDateString("en-IN")+" "+nt.toLocaleTimeString("en-IN");Z+=`"${Ae.invoice||Ae.id}","${Ae.customerName}","${Ae.phoneNumber}","${Ae.counterUser}","${rt}","${Ae.branch}","${Ae.invoice}","${Ae.orderStatus}","${Ae.paymentStatus}","${Ae.paymentMethod}",${((Zt=Ae.subtotal)==null?void 0:Zt.toFixed(2))||"0.00"},${((ln=Ae.tax)==null?void 0:ln.toFixed(2))||"0.00"},${((Pt=Ae.serviceCharge)==null?void 0:Pt.toFixed(2))||"0.00"},${((jr=Ae.grandTotal)==null?void 0:jr.toFixed(2))||"0.00"},${Ae.items},"${ke}"
`}),Z+=`
"PAYMENT METHOD BREAKDOWN"
`;const Se={};i.forEach(Ae=>{const ke=Ae.paymentMethod||"cash";Se[ke]||(Se[ke]={count:0,amount:0}),Se[ke].count++,Se[ke].amount+=Ae.grandTotal||0}),Z+=`Payment Method,Order Count,Total Amount
`,Object.entries(Se).forEach(([Ae,ke])=>{Z+=`"${Ae.charAt(0).toUpperCase()+Ae.slice(1)}",${ke.count},${ke.amount.toFixed(2)}
`}),Z+=`
"BRANCH-WISE BREAKDOWN"
`;const Qe={};i.forEach(Ae=>{const ke=Ae.branch||"Unknown";Qe[ke]||(Qe[ke]={count:0,amount:0}),Qe[ke].count++,Qe[ke].amount+=Ae.grandTotal||0}),Z+=`Branch Name,Order Count,Total Amount
`,Object.entries(Qe).forEach(([Ae,ke])=>{Z+=`"${Ae}",${ke.count},${ke.amount.toFixed(2)}
`}),Z+=`
"COUNTER USER BREAKDOWN"
`;const ot={};i.forEach(Ae=>{const ke=Ae.counterUser||"Unknown";ot[ke]||(ot[ke]={count:0,amount:0}),ot[ke].count++,ot[ke].amount+=Ae.grandTotal||0}),Z+=`Counter User,Order Count,Total Amount
`,Object.entries(ot).forEach(([Ae,ke])=>{Z+=`"${Ae}",${ke.count},${ke.amount.toFixed(2)}
`});const ut=new Blob([Z],{type:"text/csv;charset=utf-8;"}),tt=window.URL.createObjectURL(ut),J=document.createElement("a");J.setAttribute("hidden",""),J.setAttribute("href",tt),J.setAttribute("download",`counter-orders-detailed-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(J),J.click(),document.body.removeChild(J),window.URL.revokeObjectURL(tt)};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"orders-page",children:[S&&n.jsxs("div",{className:"success-message",children:[n.jsx(vn,{size:16}),n.jsx("span",{children:S}),n.jsx("button",{onClick:()=>A(""),children:n.jsx(On,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Counter Orders & ViratCounter App"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-outline",onClick:Ye,children:[n.jsx(Ln,{size:16}),n.jsx("span",{children:"Export to Excel"})]})})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by customer name, phone, counter user, or invoice...",className:"search-input",value:B,onChange:Z=>M(Z.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select",value:L,onChange:Z=>Ne("orderStatus",Z.target.value),children:[n.jsx("option",{value:"all",children:"All Order Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{className:"filter-select",value:_,onChange:Z=>Ne("paymentStatus",Z.target.value),children:[n.jsx("option",{value:"all",children:"All Payment Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]}),n.jsxs("select",{className:"filter-select",value:P,onChange:Z=>Ne("branch",Z.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(Z=>n.jsx("option",{value:Z._id,children:Z.name},Z._id))]})]})]}),p&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:18}),n.jsx("span",{children:p})]}),n.jsxs("div",{className:"collection-stats-section",children:[n.jsxs("div",{className:"stats-header",children:[n.jsx("h2",{children:"Collection Statistics"}),n.jsxs("div",{className:"period-filters",children:[n.jsx("button",{className:`period-btn ${R==="today"?"active":""}`,onClick:()=>H("today"),children:"Today"}),n.jsx("button",{className:`period-btn ${R==="week"?"active":""}`,onClick:()=>H("week"),children:"This Week"}),n.jsx("button",{className:`period-btn ${R==="month"?"active":""}`,onClick:()=>H("month"),children:"This Month"})]})]}),n.jsx("div",{className:"stats-cards",children:(()=>{const Z=new Date;let Q;if(R==="today")Q=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate());else if(R==="week"){const ut=Z.getDay(),tt=ut===0?6:ut-1;Q=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()-tt)}else R==="month"&&(Q=new Date(Z.getFullYear(),Z.getMonth(),1));const be=e.filter(ut=>{var J,Ae;return new Date(((J=ut.originalOrder)==null?void 0:J.createdAt)||((Ae=ut.originalOrder)==null?void 0:Ae.orderTime))>=Q}),Me=be.filter(ut=>ut.paymentStatus==="completed"),Ge=be.filter(ut=>ut.paymentStatus!=="completed"),Le=be.reduce((ut,tt)=>ut+(tt.grandTotal||0),0),ye=be.length,de=Me.reduce((ut,tt)=>ut+(tt.grandTotal||0),0),Se=Me.length,Qe=Ge.reduce((ut,tt)=>ut+(tt.grandTotal||0),0),ot=Ge.length;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"stat-card total",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Total Orders"}),n.jsxs("div",{className:"stat-value",children:[ye," orders"]}),n.jsxs("div",{className:"stat-count",children:["",Le.toFixed(2)]})]})]}),n.jsxs("div",{className:"stat-card paid",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Paid Orders"}),n.jsxs("div",{className:"stat-value",children:[Se," orders"]}),n.jsxs("div",{className:"stat-count",children:["",de.toFixed(2)]})]})]}),n.jsxs("div",{className:"stat-card unpaid",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Unpaid Orders"}),n.jsxs("div",{className:"stat-value",children:[ot," orders"]}),n.jsxs("div",{className:"stat-count",children:["",Qe.toFixed(2)]})]})]})]})})()})]}),n.jsx("div",{className:"data-card",children:u?n.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx(Gn,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading counter orders..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Phone"}),n.jsx("th",{children:"User"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Invoice"}),n.jsx("th",{children:"Item Names"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(Z=>n.jsxs("tr",{children:[n.jsx("td",{children:Z.customerName}),n.jsx("td",{children:Z.phoneNumber}),n.jsx("td",{children:Z.counterUser}),n.jsx("td",{children:Z.date}),n.jsx("td",{children:Z.branch}),n.jsx("td",{children:Z.invoice}),n.jsx("td",{children:Z.itemNames}),n.jsx("td",{children:Z.amount}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>ee(Z),children:"View"}),n.jsx("button",{className:"action-btn edit",onClick:()=>le(Z),children:"Edit"})]})})]},Z.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"no-orders",children:"No counter orders found matching your criteria"})})})]})}),q>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>me(Z=>Math.max(Z-1,1)),disabled:ne===1||u,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,q)},(Z,Q)=>{let be;return q<=5||ne<=3?be=Q+1:ne>=q-2?be=q-4+Q:be=ne-2+Q,n.jsx("button",{className:`pagination-page ${ne===be?"active":""}`,onClick:()=>me(be),disabled:u,children:be},be)}),q>5&&ne<q-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),q>5&&ne<q-2&&n.jsx("button",{className:`pagination-page ${ne===q?"active":""}`,onClick:()=>me(q),disabled:u,children:q})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>me(Z=>Math.min(Z+1,q)),disabled:ne===q||u,children:"Next"})]}),g&&y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Counter Order Details - ",y.invoice]}),n.jsx("button",{className:"modal-close",onClick:ie,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Customer Name"}),n.jsx("div",{className:"order-detail-value",children:y.customerName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Phone Number"}),n.jsx("div",{className:"order-detail-value",children:y.phoneNumber})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Counter User"}),n.jsx("div",{className:"order-detail-value",children:y.counterUser})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Date"}),n.jsx("div",{className:"order-detail-value",children:y.date})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:y.branch})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Invoice Number"}),n.jsx("div",{className:"order-detail-value",children:y.invoice})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Method"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[ge(y.paymentMethod),n.jsx("span",{children:y.paymentMethod?y.paymentMethod.charAt(0).toUpperCase()+y.paymentMethod.slice(1):"Cash"})]})})]}),y.cancellationReason&&n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Cancellation Reason"}),n.jsx("div",{className:"order-detail-value",children:y.cancellationReason})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((qe=(Te=y.originalOrder)==null?void 0:Te.items)==null?void 0:qe.length)>0?y.originalOrder.items.map((Z,Q)=>n.jsxs("tr",{children:[n.jsx("td",{children:Z.name}),n.jsx("td",{children:Z.quantity}),n.jsxs("td",{children:["",Z.price.toFixed(2)]}),n.jsxs("td",{children:["",(Z.price*Z.quantity).toFixed(2)]})]},Q)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Summary"}),n.jsx("div",{className:"order-items-table",children:n.jsx("table",{className:"data-table",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Subtotal"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((V=y.subtotal)==null?void 0:V.toFixed(2))||"0.00"]})]}),y.tax>0&&n.jsxs("tr",{children:[n.jsx("td",{children:"Tax"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((fe=y.tax)==null?void 0:fe.toFixed(2))||"0.00"]})]}),y.serviceCharge>0&&n.jsxs("tr",{children:[n.jsx("td",{children:"Service Charge"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Ee=y.serviceCharge)==null?void 0:Ee.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f8f9fa"},children:[n.jsx("td",{children:"Grand Total"}),n.jsxs("td",{style:{textAlign:"right",color:"#ff7e47"},children:["",((K=y.grandTotal)==null?void 0:K.toFixed(2))||"0.00"]})]})]})})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:ie,children:"Close"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>{ie(),le(y)},children:"Edit Order"})]})]})}),j&&y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Edit Counter Order - ",y.invoice]}),n.jsx("button",{className:"modal-close",onClick:ve,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Customer Name"}),n.jsx("input",{type:"text",value:y.customerName,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Phone Number"}),n.jsx("input",{type:"text",value:y.phoneNumber,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Counter User"}),n.jsx("input",{type:"text",value:y.counterUser,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch"}),n.jsx("input",{type:"text",value:y.branch,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Order Status"}),n.jsxs("select",{name:"orderStatus",value:T.orderStatus,onChange:ce,className:"form-select",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Payment Status"}),n.jsxs("select",{name:"paymentStatus",value:T.paymentStatus,onChange:ce,className:"form-select",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h4",{children:"Order Items"}),n.jsxs("div",{className:"alert-message",children:[n.jsx($t,{size:16}),n.jsx("span",{children:"Only order status and payment status can be updated"})]})]}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((W=(re=y.originalOrder)==null?void 0:re.items)==null?void 0:W.length)>0?y.originalOrder.items.map((Z,Q)=>n.jsxs("tr",{children:[n.jsx("td",{children:Z.name}),n.jsx("td",{children:Z.quantity}),n.jsxs("td",{children:["",Z.price.toFixed(2)]}),n.jsxs("td",{children:["",(Z.price*Z.quantity).toFixed(2)]})]},Q)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:ve,disabled:k,children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:je,disabled:k,children:k?n.jsxs(n.Fragment,{children:[n.jsx(Gn,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Saving..."})]}):"Save Changes"})]})]})})]}),n.jsx("style",{children:`
      /* Collection Statistics */
      .collection-stats-section {
        background: white;
        border-radius: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        padding: 24px;
        margin-bottom: 24px;
      }

      .stats-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        flex-wrap: wrap;
        gap: 16px;
      }

      .stats-header h2 {
        font-size: 20px;
        font-weight: 600;
        color: #1f2937;
        margin: 0;
      }

      .period-filters {
        display: flex;
        gap: 8px;
        background: #f3f4f6;
        padding: 4px;
        border-radius: 8px;
      }

      .period-btn {
        padding: 8px 16px;
        border: none;
        background: transparent;
        color: #6b7280;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.2s ease;
      }

      .period-btn:hover {
        background: #e5e7eb;
        color: #374151;
      }

      .period-btn.active {
        background: #d97706;
        color: white;
      }

      .stats-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }

      .stat-card {
        background: #f8fafc;
        border-radius: 12px;
        padding: 20px;
        display: flex;
        align-items: center;
        gap: 16px;
        border: 1px solid #e2e8f0;
        transition: all 0.2s ease;
      }

      .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .stat-card.total {
        border-left: 4px solid #d97706;
      }

      .stat-card.paid {
        border-left: 4px solid #10b981;
      }

      .stat-card.unpaid {
        border-left: 4px solid #ef4444;
      }

      .stat-icon {
        font-size: 32px;
        line-height: 1;
      }

      .stat-content {
        flex: 1;
      }

      .stat-label {
        font-size: 14px;
        color: #6b7280;
        margin-bottom: 4px;
      }

      .stat-value {
        font-size: 24px;
        font-weight: 700;
        color: #1f2937;
        margin-bottom: 2px;
      }

      .stat-count {
        font-size: 12px;
        color: #9ca3af;
      }

      /* Responsive Design */
      @media (max-width: 1024px) {
        .collection-stats-section {
          padding: 20px;
        }

        .stats-header {
          flex-direction: column;
          align-items: flex-start;
        }

        .stats-cards {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 768px) {
        .collection-stats-section {
          padding: 16px;
        }

        .stats-header h2 {
          font-size: 18px;
        }

        .period-filters {
          width: 100%;
          justify-content: center;
        }

        .period-btn {
          flex: 1;
          text-align: center;
        }

        .stat-card {
          padding: 16px;
        }

        .stat-icon {
          font-size: 28px;
        }

        .stat-value {
          font-size: 20px;
        }
      }

      @media (max-width: 480px) {
        .collection-stats-section {
          padding: 12px;
        }

        .stats-header h2 {
          font-size: 16px;
        }

        .period-btn {
          padding: 6px 12px;
          font-size: 12px;
        }

        .stat-card {
          padding: 12px;
          gap: 12px;
        }

        .stat-icon {
          font-size: 24px;
        }

        .stat-value {
          font-size: 18px;
        }

        .stat-label {
          font-size: 13px;
        }

        .stat-count {
          font-size: 11px;
        }
      }
    `})]})},Xl=Tt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),wae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState([]),[p,m]=N.useState(!0),[g,v]=N.useState(""),[j,b]=N.useState(!1),[y,C]=N.useState(!1),[T,E]=N.useState(!1),[S,A]=N.useState(!1),[k,I]=N.useState(null),[B,M]=N.useState({branchId:"",categoryId:"",number:"",capacity:"",status:"available",image:null}),[L,F]=N.useState({branchId:"",categoryId:"",number:"",capacity:"",status:"available",image:null}),[_,G]=N.useState(""),[P,D]=N.useState(!1),[R,H]=N.useState(""),[ne,me]=N.useState("all"),[q,X]=N.useState("all"),[z,te]=N.useState("all"),[U,ee]=N.useState(1),[le,ce]=N.useState(1),je=10,[ie,ve]=N.useState(null),[Ne,ge]=N.useState(null);N.useEffect(()=>{Ye(),Te(),qe()},[ne,q,z]);const Ye=async()=>{try{const J=await Xl.get("/branch");d(J.data)}catch(J){console.error("Error fetching branches:",J),v("Failed to load branches. Some filter options may not be available.")}},Te=async()=>{try{const J=await Xl.get("/category");console.log("Categories API response:",J.data),f(J.data||[])}catch(J){console.error("Error fetching categories:",J),f([])}},qe=async()=>{m(!0),v(""),t([]),s([]),a([]);try{const J={};q!=="all"&&(J.branchId=q);const Ae=await Xl.get("/table",{params:J});console.log("Full API response:",Ae),console.log("Response data:",Ae.data),console.log("Response data type:",typeof Ae.data),console.log("Response data keys:",Object.keys(Ae.data||{}));let ke=[];if(Ae.data&&Ae.data.success&&Array.isArray(Ae.data.data))ke=Ae.data.data;else if(Array.isArray(Ae.data))ke=Ae.data;else throw console.error(" Unexpected response format:",Ae.data),new Error("Invalid response format: tables array missing");console.log("Extracted tablesData:",ke),console.log("tablesData type:",typeof ke),console.log("tablesData is array:",Array.isArray(ke));const nt=ke.map((rt,lt)=>{var jt,Lt,Ut,Zt;return{id:rt._id||`temp-id-${lt}`,number:rt.number||0,capacity:rt.capacity||"",status:rt.status||"available",branchId:((jt=rt.branchId)==null?void 0:jt._id)||rt.branchId||null,branchName:((Lt=rt.branchId)==null?void 0:Lt.name)||"Unknown Branch",categoryId:((Ut=rt.categoryId)==null?void 0:Ut._id)||rt.categoryId||null,categoryName:((Zt=rt.categoryId)==null?void 0:Zt.name)||"All Categories",image:rt.image||null,qrCode:rt.qrCode||null,createdAt:new Date(rt.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),originalTable:rt}}).filter(rt=>rt.id);t(nt)}catch(J){console.error("Error fetching tables:",J),v("Failed to load tables. Please refresh the page and try again.")}finally{m(!1)}};N.useEffect(()=>{let J=e;if(ne!=="all"&&(J=J.filter(Ae=>Ae.status===ne)),R.trim()){const Ae=R.trim().toLowerCase();J=J.filter(ke=>{var jt;const nt=((jt=ke.number)==null?void 0:jt.toString())||"",rt=ke.branchName||"",lt=ke.status||"";return nt.toLowerCase().includes(Ae)||rt.toLowerCase().includes(Ae)||lt.toLowerCase().includes(Ae)})}s(J),ce(Math.ceil(J.length/je)),ee(1)},[e,R,ne]),N.useEffect(()=>{const J=(U-1)*je,Ae=J+je,ke=i.slice(J,Ae);a(ke)},[i,U]);const V=J=>{I(J),b(!0)},fe=()=>{M({branchId:"",categoryId:"",number:"",status:"available",image:null}),ve(null),C(!0)},Ee=J=>{I(J),F({branchId:J.branchId||"",categoryId:J.categoryId||"",number:J.number||"",capacity:J.capacity||"",status:J.status||"available",image:null}),ge(J.image?`${J.image}`:null),E(!0)},K=J=>{I(J),A(!0)},re=J=>{const{name:Ae,value:ke}=J.target;M({...B,[Ae]:ke})},W=J=>{const{name:Ae,value:ke}=J.target;F({...L,[Ae]:ke})},Z=J=>{const Ae=J.target.files[0];if(Ae){M({...B,image:Ae});const ke=new FileReader;ke.onload=nt=>ve(nt.target.result),ke.readAsDataURL(Ae)}},Q=J=>{const Ae=J.target.files[0];if(Ae){F({...L,image:Ae});const ke=new FileReader;ke.onload=nt=>ge(nt.target.result),ke.readAsDataURL(Ae)}},be=async()=>{D(!0);try{if(!B.branchId||!B.number){alert("Please fill in all required fields");return}const J=new FormData;J.append("branchId",B.branchId),B.categoryId&&J.append("categoryId",B.categoryId),J.append("number",B.number),J.append("status",B.status),B.image&&J.append("image",B.image),await Xl.post("/table",J,{headers:{"Content-Type":"multipart/form-data"}}),await qe(),C(!1),G("Table created successfully"),setTimeout(()=>{G("")},3e3)}catch(J){console.error("Error creating table:",J),alert("Failed to create table. Please try again.")}finally{D(!1)}},Me=async()=>{D(!0);try{if(!L.branchId||!L.number){alert("Please fill in all required fields");return}const J=new FormData;J.append("branchId",L.branchId),L.categoryId&&J.append("categoryId",L.categoryId),J.append("number",L.number),J.append("status",L.status),L.image&&J.append("image",L.image),await Xl.put(`/table/${k.id}`,J,{headers:{"Content-Type":"multipart/form-data"}}),await qe(),E(!1),G(`Table ${k.number} updated successfully`),setTimeout(()=>{G("")},3e3)}catch(J){console.error("Error updating table:",J),alert("Failed to update table. Please try again.")}finally{D(!1)}},Ge=async()=>{D(!0);try{await Xl.delete(`/table/${k.id}`),await qe(),A(!1),G(`Table ${k.number} deleted successfully`),setTimeout(()=>{G("")},3e3)}catch(J){console.error("Error deleting table:",J),alert("Failed to delete table. Please try again.")}finally{D(!1)}},Le=()=>{b(!1),I(null)},ye=()=>{C(!1),ve(null)},de=()=>{E(!1),I(null),ge(null)},Se=()=>{A(!1),I(null)},Qe=(J,Ae)=>{J==="status"?me(Ae):J==="branch"&&X(Ae),ee(1)},ot=J=>{let ke=`https://hotelvirat.com/menu?branch=${J.branchId}&name=${encodeURIComponent(J.branchName)}&table=${J.number}`;return J.categoryId&&(ke+=`&category=${J.categoryId}&categoryName=${encodeURIComponent(J.categoryName||"")}`),`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(ke)}`},ut=async J=>{const Ae=ot(J);try{const nt=await(await fetch(Ae)).blob(),rt=window.URL.createObjectURL(nt),lt=document.createElement("a");lt.href=rt,lt.download=`table-${J.number}-${J.branchName}-qr.png`,document.body.appendChild(lt),lt.click(),document.body.removeChild(lt),window.URL.revokeObjectURL(rt)}catch(ke){console.error("Error downloading QR code:",ke),alert("Failed to download QR code")}},tt=()=>{let J=`Table Number,Capacity,Branch,Status,Created At
`;i.forEach(rt=>{const lt=rt.capacity?`${rt.capacity} people`:"Not set";J+=`${rt.number},"${lt}","${rt.branchName}",${rt.status},"${rt.createdAt}"
`});const Ae=new Blob([J],{type:"text/csv"}),ke=window.URL.createObjectURL(Ae),nt=document.createElement("a");nt.setAttribute("hidden",""),nt.setAttribute("href",ke),nt.setAttribute("download",`tables-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(nt),nt.click(),document.body.removeChild(nt)};return n.jsxs("div",{className:"tables-page",children:[_&&n.jsxs("div",{className:"success-message",children:[n.jsx(vn,{size:16}),n.jsx("span",{children:_}),n.jsx("button",{onClick:()=>G(""),children:n.jsx(On,{size:16})})]}),n.jsxs("div",{className:"page-header",style:{position:"relative",zIndex:100},children:[n.jsx("h1",{children:"Tables Management"}),n.jsxs("div",{className:"header-actions",style:{position:"relative",zIndex:101},children:[n.jsxs("button",{className:"btn btn-outline",onClick:tt,children:[n.jsx(Ln,{size:16}),n.jsx("span",{children:"Export"})]}),n.jsxs("button",{className:"btn btn-primary",onClick:fe,style:{position:"relative",zIndex:102},children:[n.jsx(Pa,{size:16}),n.jsx("span",{children:"Add Table"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by table number, branch, or status...",className:"search-input",value:R,onChange:J=>H(J.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select",value:ne,onChange:J=>Qe("status",J.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"reserved",children:"Reserved"})]}),n.jsxs("select",{className:"filter-select",value:q,onChange:J=>Qe("branch",J.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(J=>n.jsx("option",{value:J._id,children:J.name},J._id))]})]})]}),g&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:18}),n.jsx("span",{children:g})]}),n.jsx("div",{className:"data-card",children:p?n.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx(Gn,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading tables..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Image"}),n.jsx("th",{children:"Table Number"}),n.jsx("th",{children:"Capacity"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Category"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(J=>n.jsxs("tr",{children:[n.jsx("td",{children:J.image?n.jsx("img",{src:`${J.image}`,alt:`Table ${J.number}`,className:"table-image",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"4px"}}):n.jsx("div",{className:"table-image-placeholder",style:{width:"50px",height:"50px",backgroundColor:"#f3f4f6",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:n.jsx(pj,{size:20})})}),n.jsxs("td",{children:["Table ",J.number]}),n.jsx("td",{children:J.capacity?`${J.capacity} people`:"Not set"}),n.jsx("td",{children:J.branchName}),n.jsx("td",{children:J.categoryName}),n.jsx("td",{children:n.jsx("span",{className:`status-badge ${J.status}`,children:J.status.charAt(0).toUpperCase()+J.status.slice(1)})}),n.jsx("td",{children:J.createdAt}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>V(J),children:"View"}),n.jsx("button",{className:"action-btn edit",onClick:()=>Ee(J),children:"Edit"}),n.jsx("button",{className:"action-btn",onClick:()=>ut(J),style:{backgroundColor:"#8b5cf6",color:"white"},title:"Download QR Code",children:n.jsx(Vi,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>K(J),children:"Delete"})]})})]},J.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"no-tables",children:"No tables found matching your criteria"})})})]})}),le>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>ee(J=>Math.max(J-1,1)),disabled:U===1||p,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,le)},(J,Ae)=>{let ke;return le<=5||U<=3?ke=Ae+1:U>=le-2?ke=le-4+Ae:ke=U-2+Ae,n.jsx("button",{className:`pagination-page ${U===ke?"active":""}`,onClick:()=>ee(ke),disabled:p,children:ke},ke)}),le>5&&U<le-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),le>5&&U<le-2&&n.jsx("button",{className:`pagination-page ${U===le?"active":""}`,onClick:()=>ee(le),disabled:p,children:le})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>ee(J=>Math.min(J+1,le)),disabled:U===le||p,children:"Next"})]}),j&&k&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Table Details - Table ",k.number]}),n.jsx("button",{className:"modal-close",onClick:Le,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table Number"}),n.jsxs("div",{className:"order-detail-value",children:["Table ",k.number]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table Capacity"}),n.jsx("div",{className:"order-detail-value",children:k.capacity?`${k.capacity} people`:"Not set"})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:k.branchName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Category"}),n.jsx("div",{className:"order-detail-value",children:k.categoryName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:`status-badge ${k.status}`,children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Created At"}),n.jsx("div",{className:"order-detail-value",children:k.createdAt})]}),k.image&&n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Image"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("img",{src:`${k.image}`,alt:`Table ${k.number}`,style:{width:"200px",height:"150px",objectFit:"cover",borderRadius:"8px"}})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"QR Code"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx("img",{src:ot(k),alt:`QR Code for Table ${k.number}`,style:{width:"200px",height:"200px",border:"1px solid #e5e7eb",borderRadius:"8px"}}),n.jsxs("button",{className:"btn btn-outline",onClick:()=>ut(k),style:{display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(Ln,{size:16}),"Download QR Code"]})]})})]})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:Le,children:"Close"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>{Le(),Ee(k)},children:"Edit Table"})]})]})}),y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Add New Table"}),n.jsx("button",{className:"modal-close",onClick:ye,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch *"}),n.jsxs("select",{name:"branchId",value:B.branchId,onChange:re,className:"form-select",required:!0,children:[n.jsx("option",{value:"",children:"Select Branch"}),l.map(J=>n.jsx("option",{value:J._id,children:J.name},J._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Category (Optional)"}),n.jsxs("select",{name:"categoryId",value:B.categoryId,onChange:re,className:"form-select",children:[n.jsx("option",{value:"",children:"All Categories (No Filter)"}),u.map(J=>n.jsx("option",{value:J._id,children:J.name},J._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Number *"}),n.jsx("input",{type:"text",name:"number",value:B.number,onChange:re,className:"form-input",placeholder:"Enter table number (e.g., A1, B2, VIP1)",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Capacity *"}),n.jsx("input",{type:"number",name:"capacity",value:B.capacity,onChange:re,className:"form-input",placeholder:"Number of people (e.g., 4, 6, 8)",min:"1",max:"20",required:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Status"}),n.jsxs("select",{name:"status",value:B.status,onChange:re,className:"form-select",children:[n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"reserved",children:"Reserved"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"add-image-upload",className:"image-upload-label",children:ie?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:ie||"/placeholder.svg",alt:"Preview",className:"image-preview"}),n.jsxs("div",{className:"image-overlay",children:[n.jsx(Gs,{size:24}),n.jsx("span",{children:"Change Image"})]})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(Gs,{size:24}),n.jsx("span",{children:"Click to upload table image"})]})}),n.jsx("input",{id:"add-image-upload",type:"file",accept:"image/*",onChange:Z,className:"image-upload-input"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:ye,disabled:P,children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:be,disabled:P,children:P?n.jsxs(n.Fragment,{children:[n.jsx(Gn,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Creating..."})]}):"Create Table"})]})]})}),T&&k&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Edit Table - Table ",k.number]}),n.jsx("button",{className:"modal-close",onClick:de,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch *"}),n.jsxs("select",{name:"branchId",value:L.branchId,onChange:W,className:"form-select",required:!0,children:[n.jsx("option",{value:"",children:"Select Branch"}),l.map(J=>n.jsx("option",{value:J._id,children:J.name},J._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Category (Optional)"}),n.jsxs("select",{name:"categoryId",value:L.categoryId,onChange:W,className:"form-select",children:[n.jsx("option",{value:"",children:"All Categories (No Filter)"}),u.map(J=>n.jsx("option",{value:J._id,children:J.name},J._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Number *"}),n.jsx("input",{type:"text",name:"number",value:L.number,onChange:W,className:"form-input",placeholder:"Enter table number (e.g., A1, B2, VIP1)",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Capacity *"}),n.jsx("input",{type:"number",name:"capacity",value:L.capacity,onChange:W,className:"form-input",placeholder:"Number of people (e.g., 4, 6, 8)",min:"1",max:"20",required:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Status"}),n.jsxs("select",{name:"status",value:L.status,onChange:W,className:"form-select",children:[n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"reserved",children:"Reserved"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"edit-image-upload",className:"image-upload-label",children:Ne?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:Ne||"/placeholder.svg",alt:"Preview",className:"image-preview"}),n.jsxs("div",{className:"image-overlay",children:[n.jsx(Gs,{size:24}),n.jsx("span",{children:"Change Image"})]})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(Gs,{size:24}),n.jsx("span",{children:"Click to upload table image"})]})}),n.jsx("input",{id:"edit-image-upload",type:"file",accept:"image/*",onChange:Q,className:"image-upload-input"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:de,disabled:P,children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:Me,disabled:P,children:P?n.jsxs(n.Fragment,{children:[n.jsx(Gn,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Saving..."})]}):"Save Changes"})]})]})}),S&&k&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Table"}),n.jsx("button",{className:"modal-close",onClick:Se,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[n.jsx($t,{size:48,color:"#dc2626",style:{marginBottom:"16px"}}),n.jsx("h4",{style:{marginBottom:"8px",color:"#dc2626"},children:"Are you sure?"}),n.jsxs("p",{style:{color:"#666",marginBottom:"16px"},children:["Do you want to delete Table ",k.number," from ",k.branchName,"?"]}),n.jsx("p",{style:{color:"#dc2626",fontSize:"14px"},children:"This action cannot be undone."})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:Se,disabled:P,children:"Cancel"}),n.jsx("button",{className:"btn",onClick:Ge,disabled:P,style:{backgroundColor:"#dc2626",color:"white",border:"1px solid #dc2626"},children:P?n.jsxs(n.Fragment,{children:[n.jsx(Gn,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Deleting..."})]}):"Delete Table"})]})]})})]})},tj=Tt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),Sae=()=>{var qe,V,fe,Ee,K,re,W,Z;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState(!0),[p,m]=N.useState(""),[g,v]=N.useState(null),[j,b]=N.useState(!1),[y,C]=N.useState(!1),[T,E]=N.useState(!1),[S,A]=N.useState(null),[k,I]=N.useState(""),[B,M]=N.useState(""),[L,F]=N.useState("all"),[_,G]=N.useState("all"),[P,D]=N.useState("all"),[R,H]=N.useState("all"),[ne,me]=N.useState(1),[q,X]=N.useState(1),z=10;N.useEffect(()=>{te(),U(),ee()},[L,_,P,R]);const te=async()=>{try{const Q=await tj.get("/branch");d(Q.data)}catch(Q){console.error("Error fetching branches:",Q)}},U=async()=>{f(!0),m("");try{const Q={};if(L!=="all"&&(Q.paymentStatus=L),_!=="all"&&(Q.paymentMethod=_),P!=="all"&&(Q.branchId=P),R!=="all"){const Le=new Date,ye=new Date;switch(R){case"today":ye.setHours(0,0,0,0),Q.startDate=ye.toISOString(),Q.endDate=Le.toISOString();break;case"week":ye.setDate(Le.getDate()-7),Q.startDate=ye.toISOString(),Q.endDate=Le.toISOString();break;case"month":ye.setMonth(Le.getMonth()-1),Q.startDate=ye.toISOString(),Q.endDate=Le.toISOString();break}}const be=await tj.get("/staff-invoice",{params:Q});let Me=[];be.data&&be.data.success&&Array.isArray(be.data.data)?Me=be.data.data:be.data&&be.data.invoices&&Array.isArray(be.data.invoices)?Me=be.data.invoices:Array.isArray(be.data)?Me=be.data:be.data&&be.data.message&&be.data.message.includes("routes working")?Me=[]:(console.error(" Unexpected response format:",be.data),console.error(" Response keys:",Object.keys(be.data||{})),console.error(" Response type:",typeof be.data),Me=[]);const Ge=Me.map((Le,ye)=>{var de,Se,Qe,ot,ut,tt,J;return{id:Le._id||`temp-id-${ye}`,invoiceId:Le.invoiceId||`UNKNOWN-${ye}`,orderId:Le.orderId||"N/A",customer:((de=Le.userId)==null?void 0:de.name)||"Unknown Staff",customerMobile:((Se=Le.userId)==null?void 0:Se.mobile)||"N/A",date:new Date(Le.invoiceDate||Le.createdAt||Date.now()).toLocaleDateString("en-IN"),time:new Date(Le.invoiceDate||Le.createdAt||Date.now()).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),branch:Le.branchName||((Qe=Le.branchId)==null?void 0:Qe.name)||"Unknown Branch",branchId:((ot=Le.branchId)==null?void 0:ot._id)||Le.branchId||null,branchAddress:((ut=Le.branchId)==null?void 0:ut.address)||"Unknown Address",tableNumber:Le.tableNumber||((tt=Le.tableId)==null?void 0:tt.number)||"N/A",peopleCount:Le.peopleCount||0,items:((J=Le.items)==null?void 0:J.length)||0,subtotal:Le.subtotal||0,tax:Le.tax||0,serviceCharge:Le.serviceCharge||0,grandTotal:Le.grandTotal||0,amount:`${(Le.grandTotal||0).toFixed(2)}`,paymentStatus:Le.paymentStatus||"completed",paymentMethod:Le.paymentMethod||"cash",notes:Le.notes||"",originalInvoice:Le}});t(Ge)}catch(Q){console.error("Error fetching staff invoices:",Q),m("Failed to load staff invoices. Please refresh the page and try again.")}finally{f(!1)}},ee=async()=>{try{const Q={};if(P!=="all"&&(Q.branchId=P),R!=="all"){const Me=new Date,Ge=new Date;switch(R){case"today":Ge.setHours(0,0,0,0),Q.startDate=Ge.toISOString(),Q.endDate=Me.toISOString();break;case"week":Ge.setDate(Me.getDate()-7),Q.startDate=Ge.toISOString(),Q.endDate=Me.toISOString();break;case"month":Ge.setMonth(Me.getMonth()-1),Q.startDate=Ge.toISOString(),Q.endDate=Me.toISOString();break}}const be=await tj.get("/staff-invoice/statistics",{params:Q});v(be.data.statistics)}catch(Q){console.error("Error fetching statistics:",Q)}};N.useEffect(()=>{const Q=e.filter(be=>{if(!B.trim())return!0;const Me=B.trim().toLowerCase();return be.invoiceId.toLowerCase().includes(Me)||be.orderId.toLowerCase().includes(Me)||be.customer.toLowerCase().includes(Me)||be.tableNumber.toLowerCase().includes(Me)});s(Q),X(Math.ceil(Q.length/z)),me(1)},[e,B]),N.useEffect(()=>{const Q=(ne-1)*z,be=Q+z,Me=i.slice(Q,be);a(Me)},[i,ne]);const le=Q=>{const be=document.createElement("canvas");return be.width=Q.width,be.height=Q.height,be.getContext("2d").drawImage(Q,0,0),be.toDataURL("image/jpeg")},ce=Q=>{const be=window.open("","_blank"),Me=new Image;Me.crossOrigin="anonymous",Me.onload=()=>{var ye,de;let Ge="";try{Ge=le(Me)}catch(Se){console.warn("Could not convert logo to base64:",Se)}const Le=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${Q.invoiceId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .logo { width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 8px; display: block; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin: 10px 0; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .invoice-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${Ge?`<img src="${Ge}" alt="Hotel Virat Logo" class="logo">`:""}
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${Q.branchAddress}</div>
            <div class="invoice-title">Tax Invoice</div>
            <div style="font-size: 14px; color: #666;">Invoice No: ${Q.invoiceId}</div>
          </div>
          
          <div class="invoice-details">
            <div class="detail-section">
              <h3>Invoice Details</h3>
              <div class="detail-row">
                <span class="detail-label">Invoice ID:</span>
                <span class="detail-value">${Q.invoiceId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${Q.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${Q.date}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${Q.time}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Table No:</span>
                <span class="detail-value">${Q.tableNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Guests:</span>
                <span class="detail-value">${Q.peopleCount}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Staff & Payment Details</h3>
              <div class="detail-row">
                <span class="detail-label">Staff Name:</span>
                <span class="detail-value">${Q.customer}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Mobile:</span>
                <span class="detail-value">${Q.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${Q.branch}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">${Q.paymentMethod.toUpperCase()}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Status:</span>
                <span class="detail-value">${Q.paymentStatus.toUpperCase()}</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((de=(ye=Q.originalInvoice)==null?void 0:ye.items)==null?void 0:de.map(Se=>`
                    <tr>
                      <td>${Se.name}</td>
                      <td style="text-align: center;">${Se.quantity}</td>
                      <td style="text-align: right;">${Se.price.toFixed(2)}</td>
                      <td style="text-align: right;">${(Se.price*Se.quantity).toFixed(2)}</td>
                    </tr>
                  `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${Q.subtotal.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Tax (5%):</span>
              <span>${Q.tax.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Service Charge (10%):</span>
              <span>${Q.serviceCharge.toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${Q.grandTotal.toFixed(2)}</span>
            </div>
          </div>

          ${Q.notes?`
            <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
              <h4 style="margin-bottom: 10px; color: #333;">Notes:</h4>
              <p style="margin: 0;">${Q.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;be.document.write(Le),be.document.close(),be.focus(),setTimeout(()=>{be.print()},500)},Me.onerror=()=>{var Le,ye;console.warn("Could not load logo image, generating PDF without logo");const Ge=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${Q.invoiceId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin-bottom: 10px; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .invoice-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${Q.branchAddress}</div>
            <div class="invoice-title">Tax Invoice</div>
            <div style="font-size: 14px; color: #666;">Invoice No: ${Q.invoiceId}</div>
          </div>
          
          <div class="invoice-details">
            <div class="detail-section">
              <h3>Invoice Details</h3>
              <div class="detail-row">
                <span class="detail-label">Invoice ID:</span>
                <span class="detail-value">${Q.invoiceId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${Q.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${Q.date}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${Q.time}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Table No:</span>
                <span class="detail-value">${Q.tableNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Guests:</span>
                <span class="detail-value">${Q.peopleCount}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Staff & Payment Details</h3>
              <div class="detail-row">
                <span class="detail-label">Staff Name:</span>
                <span class="detail-value">${Q.customer}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Mobile:</span>
                <span class="detail-value">${Q.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${Q.branch}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">${Q.paymentMethod.toUpperCase()}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Status:</span>
                <span class="detail-value">${Q.paymentStatus.toUpperCase()}</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((ye=(Le=Q.originalInvoice)==null?void 0:Le.items)==null?void 0:ye.map(de=>`
                    <tr>
                      <td>${de.name}</td>
                      <td style="text-align: center;">${de.quantity}</td>
                      <td style="text-align: right;">${de.price.toFixed(2)}</td>
                      <td style="text-align: right;">${(de.price*de.quantity).toFixed(2)}</td>
                    </tr>
                  `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${Q.subtotal.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Tax (5%):</span>
              <span>${Q.tax.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Service Charge (10%):</span>
              <span>${Q.serviceCharge.toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${Q.grandTotal.toFixed(2)}</span>
            </div>
          </div>

          ${Q.notes?`
            <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
              <h4 style="margin-bottom: 10px; color: #333;">Notes:</h4>
              <p style="margin: 0;">${Q.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;be.document.write(Ge),be.document.close(),be.focus(),setTimeout(()=>{be.print()},500)},Me.src=rd},je=Q=>{var Ge,Le,ye,de,Se,Qe,ot,ut;const be=window.open("","_blank","width=302,height=600"),Me=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice ${Q.invoiceId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            max-width: 80mm;
            padding: 5mm;
            font-size: 12px;
            line-height: 1.4;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .hotel-name { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .branch-name { font-size: 12px; margin-bottom: 3px; }
          .invoice-info { margin-bottom: 10px; }
          .invoice-id { font-size: 14px; font-weight: bold; text-align: center; margin: 8px 0; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .info-label { font-weight: bold; }
          .divider { border-top: 1px dashed #000; margin: 8px 0; }
          .items-header { font-weight: bold; margin-bottom: 5px; }
          .item-row { margin-bottom: 5px; }
          .item-name { font-weight: bold; }
          .item-details { display: flex; justify-content: space-between; font-size: 11px; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .grand-total { font-size: 14px; font-weight: bold; border-top: 1px dashed #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 11px; border-top: 1px dashed #000; padding-top: 10px; }
          .thank-you { font-weight: bold; margin-bottom: 5px; }
          @media print { 
            body { width: 80mm; }
            @page { size: 80mm auto; margin: 0; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">HOTEL VIRAT</div>
          <div class="branch-name">${Q.branch}</div>
        </div>
        
        <div class="invoice-id">Invoice #${Q.invoiceId}</div>
        <div style="text-align: center; font-size: 11px; margin-bottom: 8px;">Order: ${Q.orderId}</div>
        
        <div class="invoice-info">
          <div class="info-row">
            <span class="info-label">Date:</span>
            <span>${Q.date}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Time:</span>
            <span>${Q.time}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Table:</span>
            <span>${Q.tableNumber}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Guests:</span>
            <span>${Q.peopleCount}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Staff:</span>
            <span>${Q.customer}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Mobile:</span>
            <span>${Q.customerMobile}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="items-section">
          <div class="items-header">ITEMS</div>
          ${((Le=(Ge=Q.originalInvoice)==null?void 0:Ge.items)==null?void 0:Le.map(tt=>`
            <div class="item-row">
              <div class="item-name">${tt.name}</div>
              <div class="item-details">
                <span>${tt.quantity} x ${tt.price.toFixed(2)}</span>
                <span>${(tt.price*tt.quantity).toFixed(2)}</span>
              </div>
            </div>
          `).join(""))||"<div>No items</div>"}
        </div>
        
        <div class="divider"></div>
        
        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>${((ye=Q.subtotal)==null?void 0:ye.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Tax (5%):</span>
            <span>${((de=Q.tax)==null?void 0:de.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Service (10%):</span>
            <span>${((Se=Q.serviceCharge)==null?void 0:Se.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row grand-total">
            <span>TOTAL:</span>
            <span>${((Qe=Q.grandTotal)==null?void 0:Qe.toFixed(2))||"0.00"}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="invoice-info">
          <div class="info-row">
            <span class="info-label">Payment:</span>
            <span>${((ot=Q.paymentMethod)==null?void 0:ot.toUpperCase())||"CASH"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Status:</span>
            <span>${((ut=Q.paymentStatus)==null?void 0:ut.toUpperCase())||"PENDING"}</span>
          </div>
        </div>
        
        <div class="footer">
          <div class="thank-you">Thank You!</div>
          <div>Visit Again</div>
          <div style="margin-top: 5px; font-size: 10px;">${new Date().toLocaleString("en-IN")}</div>
        </div>
      </body>
      </html>
    `;be.document.write(Me),be.document.close(),be.focus(),setTimeout(()=>{be.print()},300)},ie=Q=>{A(Q),b(!0)},ve=()=>{b(!1),A(null)},Ne=()=>{C(!1)},ge=(Q,be)=>{Q==="paymentStatus"?F(be):Q==="paymentMethod"?G(be):Q==="branch"?D(be):Q==="date"&&H(be),me(1)},Ye=Q=>{switch(Q==null?void 0:Q.toLowerCase()){case"card":return n.jsx(Bn,{size:14});case"upi":return n.jsx(es,{size:14});case"cash":default:return n.jsx(es,{size:14})}},Te=()=>{let Q=`Invoice ID,Order ID,Staff,Date,Time,Branch,Table,People,Items,Amount,Payment Method,Payment Status
`;i.forEach(Le=>{Q+=`${Le.invoiceId},${Le.orderId},${Le.customer},"${Le.date}","${Le.time}","${Le.branch}",${Le.tableNumber},${Le.peopleCount},${Le.items},${Le.amount},${Le.paymentMethod},${Le.paymentStatus}
`});const be=new Blob([Q],{type:"text/csv"}),Me=window.URL.createObjectURL(be),Ge=document.createElement("a");Ge.setAttribute("hidden",""),Ge.setAttribute("href",Me),Ge.setAttribute("download",`staff-invoices-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(Ge),Ge.click(),document.body.removeChild(Ge)};return n.jsxs("div",{className:"orders-page",children:[k&&n.jsxs("div",{className:"success-message",children:[n.jsx(vn,{size:16}),n.jsx("span",{children:k}),n.jsx("button",{onClick:()=>I(""),children:n.jsx(On,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Staff Invoices"}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-outline",onClick:()=>C(!0),children:[n.jsx(ac,{size:16}),n.jsx("span",{children:"Statistics"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:Te,children:[n.jsx(Ln,{size:16}),n.jsx("span",{children:"Export CSV"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:U,children:[n.jsx(ai,{size:16}),n.jsx("span",{children:"Refresh"})]})]})]}),g&&n.jsxs("div",{className:"stats-grid",style:{gridTemplateColumns:"repeat(4, 1fr)",marginBottom:"24px"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container orange",children:n.jsx(mc,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:g.totalInvoices||0}),n.jsx("p",{children:"Total Invoices"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container green",children:n.jsx(Rp,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.totalRevenue||0).toFixed(0)]}),n.jsx("p",{children:"Total Revenue"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container blue",children:n.jsx(ac,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.averageInvoiceValue||0).toFixed(0)]}),n.jsx("p",{children:"Average Value"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container purple",children:n.jsx(Tr,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:i.length}),n.jsx("p",{children:"Filtered Results"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search invoices...",className:"search-input",value:B,onChange:Q=>M(Q.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("button",{className:"btn btn-outline",onClick:()=>E(!T),children:[n.jsx(Ip,{size:16}),n.jsx("span",{children:"Filters"})]})})]}),T&&n.jsx("div",{className:"card",style:{marginBottom:"20px",padding:"20px"},children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Payment Status"}),n.jsxs("select",{className:"form-select",value:L,onChange:Q=>ge("paymentStatus",Q.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Payment Method"}),n.jsxs("select",{className:"form-select",value:_,onChange:Q=>ge("paymentMethod",Q.target.value),children:[n.jsx("option",{value:"all",children:"All Methods"}),n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"card",children:"Card"}),n.jsx("option",{value:"upi",children:"UPI"}),n.jsx("option",{value:"netbanking",children:"Net Banking"}),n.jsx("option",{value:"wallet",children:"Wallet"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Branch"}),n.jsxs("select",{className:"form-select",value:P,onChange:Q=>ge("branch",Q.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(Q=>n.jsx("option",{value:Q._id,children:Q.name},Q._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Date Range"}),n.jsxs("select",{className:"form-select",value:R,onChange:Q=>ge("date",Q.target.value),children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"Last 7 Days"}),n.jsx("option",{value:"month",children:"Last 30 Days"})]})]})]})}),p&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:18}),n.jsx("span",{children:p})]}),n.jsx("div",{className:"data-card",children:u?n.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx(Gn,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading staff invoices..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Invoice Details"}),n.jsx("th",{children:"Staff"}),n.jsx("th",{children:"Date & Time"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Table"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Payment"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(Q=>{var be,Me;return n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:Q.invoiceId}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Order: ",Q.orderId]})]}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:Q.customer}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:Q.customerMobile})]}),n.jsxs("td",{children:[n.jsx("div",{children:Q.date}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:Q.time})]}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:Q.branch}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Table ",Q.tableNumber,"  ",Q.peopleCount," Guests"]})]}),n.jsx("td",{children:Q.tableNumber}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"600",color:"#666"},children:Q.amount}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:[Q.items," Items"]})]}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[Ye(Q.paymentMethod),n.jsx("span",{style:{fontSize:"12px",textTransform:"capitalize"},children:Q.paymentMethod})]})}),n.jsx("td",{children:n.jsx("span",{className:`status-badge ${Q.paymentStatus}`,children:((be=Q.paymentStatus)==null?void 0:be.charAt(0).toUpperCase())+((Me=Q.paymentStatus)==null?void 0:Me.slice(1))})}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>ie(Q),title:"View Details",children:n.jsx(ci,{size:14})}),n.jsx("button",{className:"action-btn edit",onClick:()=>ce(Q),title:"Download PDF",children:n.jsx(pc,{size:14})})]})})]},Q.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"no-orders",children:"No staff invoices found matching your criteria"})})})]})}),q>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>me(Q=>Math.max(Q-1,1)),disabled:ne===1||u,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,q)},(Q,be)=>{let Me;return q<=5||ne<=3?Me=be+1:ne>=q-2?Me=q-4+be:Me=ne-2+be,n.jsx("button",{className:`pagination-page ${ne===Me?"active":""}`,onClick:()=>me(Me),disabled:u,children:Me},Me)}),q>5&&ne<q-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),q>5&&ne<q-2&&n.jsx("button",{className:`pagination-page ${ne===q?"active":""}`,onClick:()=>me(q),disabled:u,children:q})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>me(Q=>Math.min(Q+1,q)),disabled:ne===q||u,children:"Next"})]}),j&&S&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"800px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Invoice Details - ",S.invoiceId]}),n.jsx("button",{className:"modal-close",onClick:ve,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"10px",color:"#333"},children:"Invoice Information"}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Invoice ID"}),n.jsx("div",{className:"order-detail-value",children:S.invoiceId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Order ID"}),n.jsx("div",{className:"order-detail-value",children:S.orderId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Date & Time"}),n.jsxs("div",{className:"order-detail-value",children:[S.date," ",S.time]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table"}),n.jsx("div",{className:"order-detail-value",children:S.tableNumber})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Guests"}),n.jsx("div",{className:"order-detail-value",children:S.peopleCount})]})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"10px",color:"#333"},children:"Staff & Branch Details"}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Staff Name"}),n.jsx("div",{className:"order-detail-value",children:S.customer})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Mobile"}),n.jsx("div",{className:"order-detail-value",children:S.customerMobile})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:S.branch})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Method"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[Ye(S.paymentMethod),n.jsx("span",{style:{textTransform:"capitalize"},children:S.paymentMethod})]})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:`status-badge ${S.paymentStatus}`,children:((qe=S.paymentStatus)==null?void 0:qe.charAt(0).toUpperCase())+((V=S.paymentStatus)==null?void 0:V.slice(1))})})]})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((Ee=(fe=S.originalInvoice)==null?void 0:fe.items)==null?void 0:Ee.length)>0?S.originalInvoice.items.map((Q,be)=>n.jsxs("tr",{children:[n.jsx("td",{children:Q.name}),n.jsx("td",{children:Q.quantity}),n.jsxs("td",{children:["",Q.price.toFixed(2)]}),n.jsxs("td",{children:["",(Q.price*Q.quantity).toFixed(2)]})]},be)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Bill Summary"}),n.jsx("div",{className:"order-items-table",children:n.jsx("table",{className:"data-table",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Subtotal"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((K=S.subtotal)==null?void 0:K.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Tax (5%)"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((re=S.tax)==null?void 0:re.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Service Charge (10%)"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((W=S.serviceCharge)==null?void 0:W.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f8f9fa"},children:[n.jsx("td",{children:"Grand Total"}),n.jsxs("td",{style:{textAlign:"right",color:"#ff7e47"},children:["",((Z=S.grandTotal)==null?void 0:Z.toFixed(2))||"0.00"]})]})]})})})]}),S.notes&&n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Notes"}),n.jsx("p",{style:{padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:S.notes})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:ve,children:"Close"}),n.jsxs("button",{className:"btn btn-print",onClick:()=>je(S),children:[n.jsx(ls,{size:16}),"Print Receipt"]}),n.jsxs("button",{className:"btn btn-outline",onClick:()=>ce(S),children:[n.jsx(pc,{size:16}),"Download PDF"]})]})]})}),y&&g&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Invoice Statistics"}),n.jsx("button",{className:"modal-close",onClick:Ne,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"stats-grid",style:{gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"24px"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container orange",children:n.jsx(mc,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:g.totalInvoices||0}),n.jsx("p",{children:"Total Invoices"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container green",children:n.jsx(Rp,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.totalRevenue||0).toFixed(2)]}),n.jsx("p",{children:"Total Revenue"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container blue",children:n.jsx(ac,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.averageInvoiceValue||0).toFixed(2)]}),n.jsx("p",{children:"Average Invoice Value"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container purple",children:n.jsx(Tr,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:R==="all"?"All Time":R==="today"?"Today":R==="week"?"Last 7 Days":"Last 30 Days"}),n.jsx("p",{children:"Time Period"})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:Ne,children:"Close"})})]})})]})},I3=Tt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),Nae=()=>{var Ye,Te,qe,V,fe,Ee;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState(!0),[p,m]=N.useState(""),[g,v]=N.useState(null),[j,b]=N.useState(!1),[y,C]=N.useState(!1),[T,E]=N.useState(!1),[S,A]=N.useState(null),[k,I]=N.useState(""),[B,M]=N.useState(""),[L,F]=N.useState("all"),[_,G]=N.useState("all"),[P,D]=N.useState(""),[R,H]=N.useState(1),[ne,me]=N.useState(1),q=10;N.useEffect(()=>{X(),te()},[L,_,P]);const X=async()=>{try{const K=await I3.get("/branch");d(K.data)}catch(K){console.error("Error fetching branches:",K)}},z=K=>{const re=new Date(K),W=re.getFullYear(),Z=String(re.getMonth()+1).padStart(2,"0"),Q=String(re.getDate()).padStart(2,"0");return`${W}-${Z}-${Q}`},te=async()=>{f(!0),m("");try{const K={};if(L!=="all"&&(K.branchId=L),P.trim()&&(K.customerName=P.trim()),_!=="all"){const Q=new Date,be=new Date;switch(_){case"today":K.startDate=z(Q),K.endDate=z(Q);break;case"week":be.setDate(Q.getDate()-7),K.startDate=z(be),K.endDate=z(Q);break;case"month":be.setMonth(Q.getMonth()-1),K.startDate=z(be),K.endDate=z(Q);break}}const re=await I3.get("/counter-bill",{params:K});let W=[];if(re.data&&re.data.success&&Array.isArray(re.data.data))W=re.data.data;else if(re.data&&re.data.bills&&Array.isArray(re.data.bills))W=re.data.bills;else if(Array.isArray(re.data))W=re.data;else throw console.error(" Unexpected response format:",re.data),new Error("Invalid response format");const Z=W.map((Q,be)=>{var Me,Ge,Le,ye,de,Se,Qe,ot,ut;return{id:Q.id||`temp-id-${be}`,billId:`CB-${((Me=Q.id)==null?void 0:Me.slice(-6))||be}`,orderId:((Ge=Q.order)==null?void 0:Ge.id)||"N/A",invoiceNumber:((Le=Q.invoice)==null?void 0:Le.invoiceNumber)||"N/A",customer:Q.customerName||"Unknown Customer",customerMobile:Q.phoneNumber||"N/A",counterUser:((ye=Q.userId)==null?void 0:ye.name)||"Unknown Counter",counterMobile:((de=Q.userId)==null?void 0:de.mobile)||"N/A",date:Q.date||new Date().toLocaleDateString("en-IN"),time:Q.time||new Date().toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),branch:((Se=Q.branch)==null?void 0:Se.name)||"Unknown Branch",branchId:((Qe=Q.branch)==null?void 0:Qe.id)||null,branchAddress:((ot=Q.branch)==null?void 0:ot.location)||"Unknown Address",items:((ut=Q.items)==null?void 0:ut.length)||0,subtotal:Q.subtotal||0,tax:Q.tax||0,serviceCharge:Q.serviceCharge||0,totalAmount:Q.grandTotal||Q.totalAmount||0,amount:`${(Q.grandTotal||Q.totalAmount||0).toFixed(2)}`,originalBill:Q,createdAt:Q.createdAt||new Date().toISOString()}});t(Z),U(Z)}catch(K){console.error("Error fetching counter bills:",K),m("Failed to load counter bills. Please refresh the page and try again.")}finally{f(!1)}},U=(K=e)=>{if(K.length===0){v({totalBills:0,totalRevenue:0,averageBillValue:0});return}const re=K.length,W=K.reduce((Q,be)=>Q+be.totalAmount,0),Z=W/re;v({totalBills:re,totalRevenue:W,averageBillValue:Z})};N.useEffect(()=>{const K=e.filter(re=>{if(!B.trim())return!0;const W=B.trim().toLowerCase();return re.billId.toLowerCase().includes(W)||re.orderId.toLowerCase().includes(W)||re.customer.toLowerCase().includes(W)||re.customerMobile.includes(B.trim())||re.invoiceNumber.toLowerCase().includes(W)});s(K),me(Math.ceil(K.length/q)),H(1)},[e,B]),N.useEffect(()=>{const K=(R-1)*q,re=K+q,W=i.slice(K,re);a(W)},[i,R]);const ee=K=>{const re=document.createElement("canvas");return re.width=K.width,re.height=K.height,re.getContext("2d").drawImage(K,0,0),re.toDataURL("image/jpeg")},le=K=>{const re=window.open("","_blank"),W=new Image;W.crossOrigin="anonymous",W.onload=()=>{var be,Me;let Z="";try{Z=ee(W)}catch(Ge){console.warn("Could not convert logo to base64:",Ge)}const Q=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Counter Bill ${K.billId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .logo { width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 8px; display: block; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin: 10px 0; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .bill-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .bill-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${Z?`<img src="${Z}" alt="Hotel Virat Logo" class="logo">`:""}
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${K.branchAddress}</div>
            <div class="bill-title">Counter Bill</div>
            <div style="font-size: 14px; color: #666;">Bill No: ${K.billId}</div>
          </div>
          
          <div class="bill-details">
            <div class="detail-section">
              <h3>Bill Details</h3>
              <div class="detail-row">
                <span class="detail-label">Bill ID:</span>
                <span class="detail-value">${K.billId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${K.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Invoice No:</span>
                <span class="detail-value">${K.invoiceNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${K.date}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${K.time}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Customer & Counter Details</h3>
              <div class="detail-row">
                <span class="detail-label">Customer Name:</span>
                <span class="detail-value">${K.customer}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Customer Mobile:</span>
                <span class="detail-value">${K.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Counter User:</span>
                <span class="detail-value">${K.counterUser}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${K.branch}</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((Me=(be=K.originalBill)==null?void 0:be.items)==null?void 0:Me.map(Ge=>`
                    <tr>
                      <td>${Ge.name}</td>
                      <td style="text-align: center;">${Ge.quantity}</td>
                      <td style="text-align: right;">${Ge.price.toFixed(2)}</td>
                      <td style="text-align: right;">${(Ge.price*Ge.quantity).toFixed(2)}</td>
                    </tr>
                  `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${K.subtotal.toFixed(2)}</span>
            </div>
            ${K.tax>0?`
            <div class="total-row">
              <span class="total-label">Tax:</span>
              <span>${K.tax.toFixed(2)}</span>
            </div>
            `:""}
            ${K.serviceCharge>0?`
            <div class="total-row">
              <span class="total-label">Service Charge:</span>
              <span>${K.serviceCharge.toFixed(2)}</span>
            </div>
            `:""}
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${K.totalAmount.toFixed(2)}</span>
            </div>
          </div>

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;re.document.write(Q),re.document.close(),re.focus(),setTimeout(()=>{re.print()},500)},W.onerror=()=>{var Q,be;console.warn("Could not load logo image, generating PDF without logo");const Z=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Counter Bill ${K.billId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin-bottom: 10px; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .bill-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .bill-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${K.branchAddress}</div>
            <div class="bill-title">Counter Bill</div>
            <div style="font-size: 14px; color: #666;">Bill No: ${K.billId}</div>
          </div>
          
          <div class="bill-details">
            <div class="detail-section">
              <h3>Bill Details</h3>
              <div class="detail-row">
                <span class="detail-label">Bill ID:</span>
                <span class="detail-value">${K.billId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${K.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Invoice No:</span>
                <span class="detail-value">${K.invoiceNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${K.date}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${K.time}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Customer & Counter Details</h3>
              <div class="detail-row">
                <span class="detail-label">Customer Name:</span>
                <span class="detail-value">${K.customer}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Customer Mobile:</span>
                <span class="detail-value">${K.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Counter User:</span>
                <span class="detail-value">${K.counterUser}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${K.branch}</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((be=(Q=K.originalBill)==null?void 0:Q.items)==null?void 0:be.map(Me=>`
                    <tr>
                      <td>${Me.name}</td>
                      <td style="text-align: center;">${Me.quantity}</td>
                      <td style="text-align: right;">${Me.price.toFixed(2)}</td>
                      <td style="text-align: right;">${(Me.price*Me.quantity).toFixed(2)}</td>
                    </tr>
                  `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${K.subtotal.toFixed(2)}</span>
            </div>
            ${K.tax>0?`
            <div class="total-row">
              <span class="total-label">Tax:</span>
              <span>${K.tax.toFixed(2)}</span>
            </div>
            `:""}
            ${K.serviceCharge>0?`
            <div class="total-row">
              <span class="total-label">Service Charge:</span>
              <span>${K.serviceCharge.toFixed(2)}</span>
            </div>
            `:""}
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${K.totalAmount.toFixed(2)}</span>
            </div>
          </div>

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;re.document.write(Z),re.document.close(),re.focus(),setTimeout(()=>{re.print()},500)},W.src=rd},ce=K=>{var Z,Q,be,Me,Ge,Le;const re=window.open("","_blank","width=302,height=600"),W=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Bill ${K.billId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            max-width: 80mm;
            padding: 5mm;
            font-size: 12px;
            line-height: 1.4;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .hotel-name { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .branch-name { font-size: 12px; margin-bottom: 3px; }
          .bill-info { margin-bottom: 10px; }
          .bill-id { font-size: 14px; font-weight: bold; text-align: center; margin: 8px 0; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .info-label { font-weight: bold; }
          .divider { border-top: 1px dashed #000; margin: 8px 0; }
          .items-header { font-weight: bold; margin-bottom: 5px; }
          .item-row { margin-bottom: 5px; }
          .item-name { font-weight: bold; }
          .item-details { display: flex; justify-content: space-between; font-size: 11px; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .grand-total { font-size: 14px; font-weight: bold; border-top: 1px dashed #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 11px; border-top: 1px dashed #000; padding-top: 10px; }
          .thank-you { font-weight: bold; margin-bottom: 5px; }
          @media print { 
            body { width: 80mm; }
            @page { size: 80mm auto; margin: 0; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">HOTEL VIRAT</div>
          <div class="branch-name">${K.branch}</div>
        </div>
        
        <div class="bill-id">Bill #${K.billId}</div>
        <div style="text-align: center; font-size: 11px; margin-bottom: 8px;">Invoice: ${K.invoiceNumber}</div>
        
        <div class="bill-info">
          <div class="info-row">
            <span class="info-label">Date:</span>
            <span>${K.date}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Time:</span>
            <span>${K.time}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Customer:</span>
            <span>${K.customer}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Mobile:</span>
            <span>${K.customerMobile}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Counter:</span>
            <span>${K.counterUser}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="items-section">
          <div class="items-header">ITEMS</div>
          ${((Q=(Z=K.originalBill)==null?void 0:Z.items)==null?void 0:Q.map(ye=>`
            <div class="item-row">
              <div class="item-name">${ye.name}</div>
              <div class="item-details">
                <span>${ye.quantity} x ${ye.price.toFixed(2)}</span>
                <span>${(ye.price*ye.quantity).toFixed(2)}</span>
              </div>
            </div>
          `).join(""))||"<div>No items</div>"}
        </div>
        
        <div class="divider"></div>
        
        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>${((be=K.subtotal)==null?void 0:be.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Tax:</span>
            <span>${((Me=K.tax)==null?void 0:Me.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Service:</span>
            <span>${((Ge=K.serviceCharge)==null?void 0:Ge.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row grand-total">
            <span>TOTAL:</span>
            <span>${((Le=K.totalAmount)==null?void 0:Le.toFixed(2))||"0.00"}</span>
          </div>
        </div>
        
        <div class="footer">
          <div class="thank-you">Thank You!</div>
          <div>Visit Again</div>
          <div style="margin-top: 5px; font-size: 10px;">${new Date().toLocaleString("en-IN")}</div>
        </div>
      </body>
      </html>
    `;re.document.write(W),re.document.close(),re.focus(),setTimeout(()=>{re.print()},300)},je=K=>{A(K),b(!0)},ie=()=>{b(!1),A(null)},ve=()=>{C(!1)},Ne=(K,re)=>{K==="branch"?F(re):K==="date"?G(re):K==="customer"&&D(re),H(1)},ge=()=>{let K=`Bill ID,Order ID,Invoice No,Customer,Mobile,Counter User,Date,Time,Branch,Items,Subtotal,Tax,Service Charge,Total Amount
`;i.forEach(Q=>{K+=`${Q.billId},${Q.orderId},${Q.invoiceNumber},"${Q.customer}",${Q.customerMobile},"${Q.counterUser}","${Q.date}","${Q.time}","${Q.branch}",${Q.items},${Q.subtotal.toFixed(2)},${Q.tax.toFixed(2)},${Q.serviceCharge.toFixed(2)},${Q.totalAmount.toFixed(2)}
`});const re=new Blob([K],{type:"text/csv"}),W=window.URL.createObjectURL(re),Z=document.createElement("a");Z.setAttribute("hidden",""),Z.setAttribute("href",W),Z.setAttribute("download",`counter-bills-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)};return n.jsxs("div",{className:"orders-page",children:[k&&n.jsxs("div",{className:"success-message",children:[n.jsx(vn,{size:16}),n.jsx("span",{children:k}),n.jsx("button",{onClick:()=>I(""),children:n.jsx(On,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Counter Bills"}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-outline",onClick:()=>C(!0),children:[n.jsx(ac,{size:16}),n.jsx("span",{children:"Statistics"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:ge,children:[n.jsx(Ln,{size:16}),n.jsx("span",{children:"Export CSV"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:te,children:[n.jsx(ai,{size:16}),n.jsx("span",{children:"Refresh"})]})]})]}),g&&n.jsxs("div",{className:"stats-grid",style:{gridTemplateColumns:"repeat(4, 1fr)",marginBottom:"24px"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container orange",children:n.jsx(mc,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:g.totalBills||0}),n.jsx("p",{children:"Total Bills"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container green",children:n.jsx(Rp,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.totalRevenue||0).toFixed(0)]}),n.jsx("p",{children:"Total Revenue"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container blue",children:n.jsx(ac,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.averageBillValue||0).toFixed(0)]}),n.jsx("p",{children:"Average Bill Value"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container purple",children:n.jsx(Tr,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:i.length}),n.jsx("p",{children:"Filtered Results"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search bills...",className:"search-input",value:B,onChange:K=>M(K.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("button",{className:"btn btn-outline",onClick:()=>E(!T),children:[n.jsx(Ip,{size:16}),n.jsx("span",{children:"Filters"})]})})]}),T&&n.jsx("div",{className:"card",style:{marginBottom:"20px",padding:"20px"},children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Branch"}),n.jsxs("select",{className:"form-select",value:L,onChange:K=>Ne("branch",K.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(K=>n.jsx("option",{value:K._id,children:K.name},K._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Customer Name"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"Filter by customer name",value:P,onChange:K=>Ne("customer",K.target.value)})]})]})}),p&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:18}),n.jsx("span",{children:p})]}),n.jsx("div",{className:"data-card",children:u?n.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx(Gn,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading counter bills..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Bill Details"}),n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Counter User"}),n.jsx("th",{children:"Date & Time"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Items"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(K=>n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:K.billId}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Order: ",K.orderId]}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Invoice: ",K.invoiceNumber]})]}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:K.customer}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:K.customerMobile})]}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:K.counterUser}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:K.counterMobile})]}),n.jsxs("td",{children:[n.jsx("div",{children:K.date}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:K.time})]}),n.jsx("td",{children:n.jsx("div",{style:{fontWeight:"500"},children:K.branch})}),n.jsx("td",{children:n.jsxs("div",{style:{fontWeight:"600",color:"#666"},children:[K.items," items"]})}),n.jsx("td",{children:n.jsx("div",{style:{fontWeight:"600",color:"#666"},children:K.amount})}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>je(K),title:"View Details",children:n.jsx(ci,{size:14})}),n.jsx("button",{className:"action-btn edit",onClick:()=>le(K),title:"Download PDF",children:n.jsx(pc,{size:14})})]})})]},K.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"no-orders",children:"No counter bills found matching your criteria"})})})]})}),ne>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>H(K=>Math.max(K-1,1)),disabled:R===1||u,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,ne)},(K,re)=>{let W;return ne<=5||R<=3?W=re+1:R>=ne-2?W=ne-4+re:W=R-2+re,n.jsx("button",{className:`pagination-page ${R===W?"active":""}`,onClick:()=>H(W),disabled:u,children:W},W)}),ne>5&&R<ne-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),ne>5&&R<ne-2&&n.jsx("button",{className:`pagination-page ${R===ne?"active":""}`,onClick:()=>H(ne),disabled:u,children:ne})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>H(K=>Math.min(K+1,ne)),disabled:R===ne||u,children:"Next"})]}),j&&S&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"800px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Bill Details - ",S.billId]}),n.jsx("button",{className:"modal-close",onClick:ie,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"10px",color:"#333"},children:"Bill Information"}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Bill ID"}),n.jsx("div",{className:"order-detail-value",children:S.billId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Order ID"}),n.jsx("div",{className:"order-detail-value",children:S.orderId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Invoice No"}),n.jsx("div",{className:"order-detail-value",children:S.invoiceNumber})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Date & Time"}),n.jsxs("div",{className:"order-detail-value",children:[S.date," ",S.time]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:S.branch})]})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"10px",color:"#333"},children:"Customer & Counter Details"}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Customer Name"}),n.jsx("div",{className:"order-detail-value",children:S.customer})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Customer Mobile"}),n.jsx("div",{className:"order-detail-value",children:S.customerMobile})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Counter User"}),n.jsx("div",{className:"order-detail-value",children:S.counterUser})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Counter Mobile"}),n.jsx("div",{className:"order-detail-value",children:S.counterMobile})]})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((Te=(Ye=S.originalBill)==null?void 0:Ye.items)==null?void 0:Te.length)>0?S.originalBill.items.map((K,re)=>n.jsxs("tr",{children:[n.jsx("td",{children:K.name}),n.jsx("td",{children:K.quantity}),n.jsxs("td",{children:["",K.price.toFixed(2)]}),n.jsxs("td",{children:["",(K.price*K.quantity).toFixed(2)]})]},re)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Bill Summary"}),n.jsx("div",{className:"order-items-table",children:n.jsx("table",{className:"data-table",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Subtotal"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((qe=S.subtotal)==null?void 0:qe.toFixed(2))||"0.00"]})]}),S.tax>0&&n.jsxs("tr",{children:[n.jsx("td",{children:"Tax"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((V=S.tax)==null?void 0:V.toFixed(2))||"0.00"]})]}),S.serviceCharge>0&&n.jsxs("tr",{children:[n.jsx("td",{children:"Service Charge"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((fe=S.serviceCharge)==null?void 0:fe.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f8f9fa"},children:[n.jsx("td",{children:"Grand Total"}),n.jsxs("td",{style:{textAlign:"right",color:"#ff7e47"},children:["",((Ee=S.totalAmount)==null?void 0:Ee.toFixed(2))||"0.00"]})]})]})})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:ie,children:"Close"}),n.jsxs("button",{className:"btn btn-print",onClick:()=>ce(S),children:[n.jsx(ls,{size:16}),"Print Receipt"]}),n.jsxs("button",{className:"btn btn-outline",onClick:()=>le(S),children:[n.jsx(pc,{size:16}),"Download PDF"]})]})]})}),y&&g&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Counter Bills Statistics"}),n.jsx("button",{className:"modal-close",onClick:ve,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"stats-grid",style:{gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"24px"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container orange",children:n.jsx(mc,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:g.totalBills||0}),n.jsx("p",{children:"Total Bills"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container green",children:n.jsx(Rp,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.totalRevenue||0).toFixed(2)]}),n.jsx("p",{children:"Total Revenue"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container blue",children:n.jsx(ac,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.averageBillValue||0).toFixed(2)]}),n.jsx("p",{children:"Average Bill Value"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container purple",children:n.jsx(Tr,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:_==="all"?"All Time":_==="today"?"Today":_==="week"?"Last 7 Days":"Last 30 Days"}),n.jsx("p",{children:"Time Period"})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:ve,children:"Close"})})]})})]})},Tae=Tt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),Cae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(!0),[l,d]=N.useState(""),[u,f]=N.useState(""),[p,m]=N.useState("all"),[g,v]=N.useState("date"),[j,b]=N.useState("desc"),[y,C]=N.useState(1),[T,E]=N.useState(1),S=7,[A,k]=N.useState(null),[I,B]=N.useState(!1);N.useEffect(()=>{M()},[p]),N.useEffect(()=>{L()},[e,u,y,g,j]);const M=async()=>{s(!0),d("");try{const q={};p!=="all"&&(q.orderType=p);const X=await Tae.get("/staff-order",{params:q});let z=[];X.data&&X.data.success&&Array.isArray(X.data.data)?z=X.data.data:X.data&&X.data.orders&&Array.isArray(X.data.orders)?z=X.data.orders:Array.isArray(X.data)?z=X.data:X.data&&X.data.message&&X.data.message.includes("routes working")?z=[]:(console.error(" Unexpected response format:",X.data),console.error(" Response keys:",Object.keys(X.data||{})),console.error(" Response type:",typeof X.data),z=[]);const te=z.map(U=>{var ee,le;return{id:U._id,orderId:U.orderId||"",customer:U.isGuestOrder?U.customerName:((ee=U.userId)==null?void 0:ee.name)||"Unknown Staff",customerType:U.isGuestOrder?"Guest":"Staff",customerMobile:U.isGuestOrder?U.customerMobile:((le=U.userId)==null?void 0:le.mobile)||"N/A",date:new Date(U.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),rawDate:new Date(U.createdAt).getTime(),amount:U.grandTotal||0,method:U.paymentMethod||"cash",items:U.items||[],subtotal:U.subtotal||0,tax:U.tax||0,serviceCharge:U.serviceCharge||0,totalAmount:U.totalAmount||0,branchName:U.branchName||"Unknown Branch",tableNumber:U.tableNumber||"N/A",peopleCount:U.peopleCount||1,paymentStatus:U.paymentStatus||"pending",notes:U.notes||"",orderTime:U.orderTime||U.createdAt,isGuestOrder:U.isGuestOrder||!1}});t(te)}catch(q){console.error("Error fetching payments:",q),d("Failed to load payments. Please try again."),t([])}finally{s(!1)}},L=()=>{let q=[...e];if(u.trim()){const ee=u.toLowerCase();q=q.filter(le=>(le.orderId||"").toLowerCase().includes(ee)||(le.customer||"").toLowerCase().includes(ee)||(le.branchName||"").toLowerCase().includes(ee)||(le.tableNumber||"").toLowerCase().includes(ee)||(le.customerMobile||"").toLowerCase().includes(ee))}q.sort((ee,le)=>g==="date"?j==="asc"?ee.rawDate-le.rawDate:le.rawDate-ee.rawDate:g==="amount"?j==="asc"?ee.amount-le.amount:le.amount-ee.amount:0);const X=Math.ceil(q.length/S);E(X||1);const z=(y-1)*S,te=z+S,U=q.slice(z,te);a(U),y>X&&X>0&&C(X)},F=q=>{g===q?b(j==="asc"?"desc":"asc"):(v(q),b("desc"))},_=(q,X)=>{m(X),C(1)},G=q=>{f(q.target.value),C(1)},P=q=>{switch(q){case"card":return n.jsx(Bn,{className:"h-5 w-5"});case"upi":return n.jsx(Ru,{className:"h-5 w-5"});case"cash":return n.jsx("span",{className:"rupees-icon",children:""});case"netbanking":return n.jsx(Bn,{className:"h-5 w-5"});default:return n.jsx(Bn,{className:"h-5 w-5"})}},D=q=>{k(q),B(!0)},R=()=>{B(!1),k(null)},H=q=>{if(q==null)return"";const X=q.toString();return X.includes(",")||X.includes('"')||X.includes(`
`)?`"${X.replace(/"/g,'""')}"`:X},ne=()=>{let X=["Order ID","Customer","Customer Type","Mobile","Branch","Table","Date","Subtotal","Tax","Service Charge","Total","Payment Method","Payment Status"].map(H).join(",")+`
`,z=[...e];if(u.trim()){const ce=u.toLowerCase();z=z.filter(je=>(je.orderId||"").toLowerCase().includes(ce)||(je.customer||"").toLowerCase().includes(ce)||(je.branchName||"").toLowerCase().includes(ce)||(je.tableNumber||"").toLowerCase().includes(ce)||(je.customerMobile||"").toLowerCase().includes(ce))}z.forEach(ce=>{const je=[ce.orderId,ce.customer,ce.customerType,ce.customerMobile,ce.branchName,ce.tableNumber,ce.date,`${ce.subtotal.toFixed(2)}`,`${ce.tax.toFixed(2)}`,`${ce.serviceCharge.toFixed(2)}`,`${ce.amount.toFixed(2)}`,ce.method.charAt(0).toUpperCase()+ce.method.slice(1),ce.paymentStatus.charAt(0).toUpperCase()+ce.paymentStatus.slice(1)];X+=je.map(H).join(",")+`
`});const te="\uFEFF",U=new Blob([te+X],{type:"text/csv;charset=utf-8;"}),ee=window.URL.createObjectURL(U),le=document.createElement("a");le.setAttribute("hidden",""),le.setAttribute("href",ee),le.setAttribute("download",`all-orders-payments-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(le),le.click(),document.body.removeChild(le)},me=()=>{const q=[];if(T<=5)for(let z=1;z<=T;z++)q.push(z);else{q.push(1);let z=Math.max(2,y-1),te=Math.min(T-1,y+1);y<=3&&(z=2,te=Math.min(4,T-1)),y>=T-2&&(z=Math.max(2,T-3),te=T-1),z>2&&q.push("...");for(let U=z;U<=te;U++)q.push(U);te<T-1&&q.push("..."),q.push(T)}return q};return n.jsxs("div",{className:"payment-ui",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"All Orders Payment"}),n.jsx("div",{className:"refresh-button",onClick:M,title:"Refresh data",children:n.jsx(ai,{className:`h-5 w-5 ${i?"animate-spin":""}`})})]}),l&&n.jsx("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("span",{children:l})}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{className:"search-icon"}),n.jsx("input",{type:"text",className:"search-input",placeholder:"Search by order ID, customer name, branch, or table",value:u,onChange:G})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select",value:p,onChange:q=>_("orderType",q.target.value),children:[n.jsx("option",{value:"all",children:"All Orders"}),n.jsx("option",{value:"staff",children:"Staff Orders"}),n.jsx("option",{value:"guest",children:"Guest Orders"})]}),n.jsxs("button",{className:"filter-btn",onClick:ne,children:[n.jsx(Ln,{className:"h-4 w-4"}),n.jsx("span",{children:"Export"})]})]})]}),n.jsx("div",{className:"data-card",children:n.jsx("div",{className:"card-body",children:i?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading payments..."})]}):r.length===0?n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No payments found matching your search."})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"pagination-info",children:["Showing ",(y-1)*S+1," to"," ",Math.min(y*S,e.length)," of ",e.length," entries"]}),n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Table"}),n.jsx("th",{className:"sortable-header",onClick:()=>F("date"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Date"}),g==="date"&&(j==="asc"?n.jsx(Js,{className:"h-4 w-4"}):n.jsx(Zs,{className:"h-4 w-4"}))]})}),n.jsx("th",{className:"sortable-header",onClick:()=>F("amount"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Amount"}),g==="amount"&&(j==="asc"?n.jsx(Js,{className:"h-4 w-4"}):n.jsx(Zs,{className:"h-4 w-4"}))]})}),n.jsx("th",{children:"Payment Method"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.map(q=>n.jsxs("tr",{children:[n.jsx("td",{children:q.orderId}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsx("div",{children:q.customer}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:q.customerMobile})]})}),n.jsx("td",{children:n.jsx("span",{className:`customer-type-badge ${q.isGuestOrder?"guest":"staff"}`,children:q.customerType})}),n.jsx("td",{children:q.branchName}),n.jsxs("td",{children:["Table ",q.tableNumber]}),n.jsx("td",{children:q.date}),n.jsxs("td",{children:["",q.amount.toFixed(2)]}),n.jsx("td",{children:n.jsxs("div",{className:"payment-method",children:[P(q.method),n.jsx("span",{className:"payment-method-text",children:q.method.charAt(0).toUpperCase()+q.method.slice(1)})]})}),n.jsx("td",{children:n.jsx("div",{className:"action-buttons",children:n.jsx("button",{className:"action-btn view",onClick:()=>D(q),children:"View"})})})]},q.id))})]})]})})}),n.jsxs("div",{className:"pagination-section",children:[n.jsxs("div",{className:"pagination-info",children:["Showing ",(y-1)*S+1," to"," ",Math.min(y*S,e.length)," of ",e.length," entries"]}),n.jsxs("div",{className:"pagination",children:[n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:y===1,onClick:()=>C(q=>Math.max(q-1,1)),children:[n.jsx(Af,{className:"h-4 w-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"pagination-pages",children:me().map((q,X)=>q==="..."?n.jsx("span",{className:"pagination-ellipsis",children:"..."},X):n.jsx("button",{className:`pagination-page ${y===q?"active":""}`,onClick:()=>C(q),children:q},X))}),n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:y===T,onClick:()=>C(q=>Math.min(q+1,T)),children:[n.jsx("span",{children:"Next"}),n.jsx(Ef,{className:"h-4 w-4"})]})]})]}),I&&A&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h2",{className:"modal-title",children:[A.customerType," Order Payment Details"]}),n.jsx("button",{className:"modal-close",onClick:R,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"payment-details",children:[n.jsxs("div",{className:"payment-info-grid",children:[n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Payment Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Order ID:"}),n.jsx("span",{className:"info-value",children:A.orderId})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Date:"}),n.jsx("span",{className:"info-value",children:A.date})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Branch:"}),n.jsx("span",{className:"info-value",children:A.branchName})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Table:"}),n.jsxs("span",{className:"info-value",children:["Table ",A.tableNumber]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Peoples:"}),n.jsx("span",{className:"info-value",children:n.jsxs("div",{className:"people-count",children:[n.jsx(Yi,{className:"h-4 w-4"}),A.peopleCount]})})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Subtotal:"}),n.jsxs("span",{className:"info-value",children:["",A.subtotal.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Tax (5%):"}),n.jsxs("span",{className:"info-value",children:["",A.tax.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Service Charge (10%):"}),n.jsxs("span",{className:"info-value",children:["",A.serviceCharge.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Total Amount:"}),n.jsxs("span",{className:"info-value",children:["",A.amount.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Payment Method:"}),n.jsx("span",{className:"info-value",children:n.jsxs("div",{className:"payment-method",children:[P(A.method),n.jsx("span",{className:"payment-method-text",children:A.method.charAt(0).toUpperCase()+A.method.slice(1)})]})})]})]})]}),n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Customer Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Name:"}),n.jsx("span",{className:"info-value",children:A.customer})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Type:"}),n.jsx("span",{className:"info-value",children:n.jsx("span",{className:`customer-type-badge ${A.isGuestOrder?"guest":"staff"}`,children:A.customerType})})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Mobile:"}),n.jsx("span",{className:"info-value",children:A.customerMobile})]}),A.notes&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Notes:"}),n.jsx("span",{className:"info-value",children:A.notes})]})]})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Order Items"}),n.jsxs("table",{className:"order-items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:A.items.map((q,X)=>n.jsxs("tr",{children:[n.jsx("td",{children:q.name}),n.jsx("td",{children:q.quantity}),n.jsxs("td",{children:["",q.price.toFixed(2)]}),n.jsxs("td",{children:["",(q.quantity*q.price).toFixed(2)]})]},X))}),n.jsxs("tfoot",{children:[n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Subtotal"}),n.jsxs("td",{className:"total-value",children:["",A.subtotal.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Tax (5%)"}),n.jsxs("td",{className:"total-value",children:["",A.tax.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Service Charge (10%)"}),n.jsxs("td",{className:"total-value",children:["",A.serviceCharge.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Total"}),n.jsxs("td",{className:"total-value",children:["",A.amount.toFixed(2)]})]})]})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:R,children:"Close"})})]})}),n.jsx("style",{children:`
        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 40px;
        }

        .loading-spinner {
          border: 4px solid rgba(0, 0, 0, 0.1);
          border-left-color: var(--primary-color);
          border-radius: 50%;
          width: 30px;
          height: 30px;
          animation: spin 1s linear infinite;
          margin-bottom: 10px;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .refresh-button {
          cursor: pointer;
          padding: 8px;
          border-radius: 50%;
          transition: background-color 0.2s;
        }

        .refresh-button:hover {
          background-color: rgba(0, 0, 0, 0.05);
        }

        .animate-spin {
          animation: spin 1s linear infinite;
        }

        .pagination-info {
          margin-bottom: 10px;
          font-size: 14px;
          color: #666;
        }

        .sortable-header {
          cursor: pointer;
        }

        .sort-header {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .payment-method-text {
          font-size: 14px;
        }

        .rupees-icon {
          display: flex;
          align-items: center;
          font-size: 18px;
          line-height: 1;
        }

        .customer-type-badge {
          display: inline-block;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 500;
          text-transform: uppercase;
        }

        .customer-type-badge.staff {
          background: rgba(59, 130, 246, 0.1);
          color: #3b82f6;
        }

        .customer-type-badge.guest {
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
        }

        .people-count {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .filter-select {
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          background: white;
          min-width: 150px;
          outline: none;
          cursor: pointer;
        }

        .filter-select:focus {
          border-color: #3b82f6;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .payment-details {
          padding: 10px 0;
        }

        .payment-info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }

        @media (max-width: 768px) {
          .payment-info-grid {
            grid-template-columns: 1fr;
          }
        }

        .payment-info-section {
          background-color: var(--bg-light);
          border-radius: var(--radius-md);
          overflow: hidden;
        }

        .payment-info-title {
          font-size: 16px;
          font-weight: 600;
          padding: 12px 16px;
          background-color: var(--bg-white);
          border-bottom: 1px solid var(--border-color);
        }

        .payment-info-content {
          padding: 16px;
        }

        .info-row {
          display: flex;
          margin-bottom: 10px;
        }

        .info-label {
          width: 140px;
          font-weight: 500;
          color: var(--text-light);
        }

        .info-value {
          flex: 1;
          font-weight: 500;
        }

        .order-items-section {
          margin-top: 20px;
        }

        .order-items-table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
        }

        .order-items-table th {
          text-align: left;
          padding: 12px;
          background-color: var(--bg-light);
          font-weight: 500;
          color: var(--text-light);
        }

        .order-items-table td {
          padding: 12px;
          border-bottom: 1px solid var(--border-color);
        }

        .order-items-table tfoot td {
          padding: 12px;
          font-weight: 600;
        }

        .total-label {
          text-align: right;
          font-weight: 600;
        }

        .total-value {
          font-weight: 700;
          color: var(--primary-color);
        }

        .pagination-section {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 16px;
          margin-top: 24px;
        }

        .pagination-info {
          font-size: 14px;
          color: #666;
          text-align: center;
        }

        .pagination {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 8px;
          flex-wrap: wrap;
        }

        .pagination-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 4px;
          padding: 8px 16px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-page {
          padding: 8px 12px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-page.active {
          background-color: var(--primary-color);
          color: white;
          border-color: var(--primary-color);
        }

        .pagination-ellipsis {
          padding: 8px 12px;
          color: var(--text-light);
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }

        .empty-state {
          text-align: center;
          padding: 40px 20px;
          color: #6b7280;
        }
      `})]})},Aae=Tt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),Eae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(""),[l,d]=N.useState(1),[u,f]=N.useState(1),[p,m]=N.useState(""),[g,v]=N.useState("date"),[j,b]=N.useState("desc"),[y,C]=N.useState(null),[T,E]=N.useState(!1),S=7;N.useEffect(()=>{(async()=>{a(!0),s("");try{const R={page:l,limit:S};p.trim()&&(R.search=p.trim());const H=await Aae.get("/counter-order/orders",{params:R});let ne=[];H.data.success&&Array.isArray(H.data.data)?ne=H.data.data:H.data.orders&&Array.isArray(H.data.orders)?ne=H.data.orders:Array.isArray(H.data)?ne=H.data:(console.error(" Unexpected response format:",H.data),ne=[]);const me=ne.map(X=>{var z,te,U,ee,le,ce;return{id:X.id,orderId:((z=X.invoice)==null?void 0:z.invoiceNumber)||X.id,customer:X.customerName||"Unknown Customer",customerMobile:X.phoneNumber||"N/A",counterUser:((te=X.userId)==null?void 0:te.name)||"Unknown Counter User",counterMobile:((U=X.userId)==null?void 0:U.mobile)||"N/A",date:new Date(X.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),subtotal:X.subtotal||0,tax:X.tax||0,serviceCharge:X.serviceCharge||0,amount:X.grandTotal||X.totalAmount||0,method:X.paymentMethod||"unknown",items:X.items||[],branchName:((ee=X.branch)==null?void 0:ee.name)||"Unknown Branch",branchLocation:((le=X.branch)==null?void 0:le.location)||"Unknown Location",invoiceNumber:((ce=X.invoice)==null?void 0:ce.invoiceNumber)||"N/A",orderTime:X.createdAt}});t(me);const q=H.data.count||ne.length;f(Math.ceil(q/S))}catch(R){console.error("Error fetching counter payments:",R),s("Failed to load counter payments. Please try again."),t([]),f(1)}finally{a(!1)}})()},[l,p]);const I=[...e.filter(D=>{const R=p.toLowerCase();return(D.orderId||"").toLowerCase().includes(R)||(D.customer||"").toLowerCase().includes(R)||(D.counterUser||"").toLowerCase().includes(R)||(D.branchName||"").toLowerCase().includes(R)||(D.customerMobile||"").toLowerCase().includes(R)})].sort((D,R)=>g==="date"?j==="asc"?new Date(D.date)-new Date(R.date):new Date(R.date)-new Date(D.date):g==="amount"?j==="asc"?D.amount-R.amount:R.amount-D.amount:0).slice(0,S),B=D=>{switch(D){case"card":return n.jsx(Bn,{className:"h-5 w-5"});case"upi":return n.jsx(Ru,{className:"h-5 w-5"});case"cash":return n.jsx("span",{className:"rupees-icon",children:""});case"qr":return n.jsx(Ru,{className:"h-5 w-5"});default:return n.jsx(Bn,{className:"h-5 w-5"})}},M=D=>{C(D),E(!0)},L=()=>{E(!1),C(null)},F=D=>{g===D?b(j==="asc"?"desc":"asc"):(v(D),b("desc"))},_=D=>{if(D==null)return"";const R=D.toString();return R.includes(",")||R.includes('"')||R.includes(`
`)?`"${R.replace(/"/g,'""')}"`:R},G=()=>{let R=["Order ID","Customer Name","Customer Mobile","Counter User","Branch","Date","Subtotal","Tax","Service Charge","Total Amount","Payment Method"].map(_).join(",")+`
`;e.forEach(X=>{const z=[X.orderId,X.customer,X.customerMobile,X.counterUser,X.branchName,X.date,`${X.subtotal.toFixed(2)}`,`${X.tax.toFixed(2)}`,`${X.serviceCharge.toFixed(2)}`,`${X.amount.toFixed(2)}`,X.method.charAt(0).toUpperCase()+X.method.slice(1)];R+=z.map(_).join(",")+`
`});const H="\uFEFF",ne=new Blob([H+R],{type:"text/csv;charset=utf-8;"}),me=window.URL.createObjectURL(ne),q=document.createElement("a");q.setAttribute("hidden",""),q.setAttribute("href",me),q.setAttribute("download",`counter-payments-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(q),q.click(),document.body.removeChild(q)},P=()=>{const D=[];if(u<=7)for(let R=1;R<=u;R++)D.push(R);else{D.push(1);let R=Math.max(2,l-2),H=Math.min(u-1,l+2);l<=4&&(H=5),l>=u-3&&(R=u-4),R>2&&D.push("...");for(let ne=R;ne<=H;ne++)D.push(ne);H<u-1&&D.push("..."),u>1&&D.push(u)}return D};return n.jsxs("div",{className:"payment-ui",children:[n.jsx("div",{className:"page-header",children:n.jsx("h1",{children:"Counter Payments"})}),i&&n.jsx("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("span",{children:i})}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{className:"search-icon"}),n.jsx("input",{type:"text",className:"search-input",placeholder:"Search by order ID, customer name, counter user, or branch",value:p,onChange:D=>m(D.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("button",{className:"filter-btn",onClick:G,children:[n.jsx(Ln,{className:"h-4 w-4"}),n.jsx("span",{children:"Export"})]})})]}),n.jsx("div",{className:"data-card",children:n.jsx("div",{className:"card-body",children:r?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading counter payments..."})]}):I.length===0?n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No counter payments found matching your search."})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Counter User"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{className:"sortable-header",onClick:()=>F("date"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Date"}),g==="date"&&(j==="asc"?n.jsx(Js,{className:"h-4 w-4"}):n.jsx(Zs,{className:"h-4 w-4"}))]})}),n.jsx("th",{className:"sortable-header",onClick:()=>F("amount"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Amount"}),g==="amount"&&(j==="asc"?n.jsx(Js,{className:"h-4 w-4"}):n.jsx(Zs,{className:"h-4 w-4"}))]})}),n.jsx("th",{children:"Payment Method"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:I.map(D=>n.jsxs("tr",{children:[n.jsx("td",{children:D.orderId}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsx("div",{children:D.customer}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:D.customerMobile})]})}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsx("div",{children:D.counterUser}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:D.counterMobile})]})}),n.jsx("td",{children:D.branchName}),n.jsx("td",{children:D.date}),n.jsxs("td",{children:["",D.amount.toFixed(2)]}),n.jsx("td",{children:n.jsxs("div",{className:"payment-method",children:[B(D.method),n.jsx("span",{className:"payment-method-text",children:D.method.charAt(0).toUpperCase()+D.method.slice(1)})]})}),n.jsx("td",{children:n.jsx("div",{className:"action-buttons",children:n.jsx("button",{className:"action-btn view",onClick:()=>M(D),children:"View"})})})]},D.id))})]})})}),n.jsxs("div",{className:"pagination",children:[n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:l===1,onClick:()=>d(D=>Math.max(D-1,1)),children:[n.jsx(Af,{className:"h-4 w-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"pagination-pages",children:P().map((D,R)=>D==="..."?n.jsx("span",{className:"pagination-ellipsis",children:"..."},R):n.jsx("button",{className:`pagination-page ${l===D?"active":""}`,onClick:()=>d(D),children:D},R))}),n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:l===u,onClick:()=>d(D=>Math.min(D+1,u)),children:[n.jsx("span",{children:"Next"}),n.jsx(Ef,{className:"h-4 w-4"})]})]}),T&&y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{className:"modal-title",children:"Counter Payment Details"}),n.jsx("button",{className:"modal-close",onClick:L,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"payment-details",children:[n.jsxs("div",{className:"payment-info-grid",children:[n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Payment Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Order ID:"}),n.jsx("span",{className:"info-value",children:y.orderId})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Invoice Number:"}),n.jsx("span",{className:"info-value",children:y.invoiceNumber})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Date:"}),n.jsx("span",{className:"info-value",children:y.date})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Branch:"}),n.jsx("span",{className:"info-value",children:y.branchName})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Subtotal:"}),n.jsxs("span",{className:"info-value",children:["",y.subtotal.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Tax:"}),n.jsxs("span",{className:"info-value",children:["",y.tax.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Service Charge:"}),n.jsxs("span",{className:"info-value",children:["",y.serviceCharge.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Total Amount:"}),n.jsxs("span",{className:"info-value",children:["",y.amount.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Payment Method:"}),n.jsx("span",{className:"info-value",children:n.jsxs("div",{className:"payment-method",children:[B(y.method),n.jsx("span",{className:"payment-method-text",children:y.method.charAt(0).toUpperCase()+y.method.slice(1)})]})})]})]})]}),n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Customer & Counter Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Customer Name:"}),n.jsx("span",{className:"info-value",children:y.customer})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Customer Mobile:"}),n.jsx("span",{className:"info-value",children:y.customerMobile})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Counter User:"}),n.jsx("span",{className:"info-value",children:y.counterUser})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Counter Mobile:"}),n.jsx("span",{className:"info-value",children:y.counterMobile})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Branch Location:"}),n.jsx("span",{className:"info-value",children:y.branchLocation})]})]})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Order Items"}),n.jsxs("table",{className:"order-items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:y.items.map((D,R)=>n.jsxs("tr",{children:[n.jsx("td",{children:D.name}),n.jsx("td",{children:D.quantity}),n.jsxs("td",{children:["",D.price.toFixed(2)]}),n.jsxs("td",{children:["",(D.quantity*D.price).toFixed(2)]})]},R))}),n.jsxs("tfoot",{children:[n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Subtotal"}),n.jsxs("td",{className:"total-value",children:["",y.subtotal.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Tax"}),n.jsxs("td",{className:"total-value",children:["",y.tax.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Service Charge"}),n.jsxs("td",{className:"total-value",children:["",y.serviceCharge.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Total"}),n.jsxs("td",{className:"total-value",children:["",y.amount.toFixed(2)]})]})]})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:L,children:"Close"})})]})}),n.jsx("style",{children:`
        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 40px;
        }

        .loading-spinner {
          border: 4px solid rgba(0, 0, 0, 0.1);
          border-left-color: var(--primary-color);
          border-radius: 50%;
          width: 30px;
          height: 30px;
          animation: spin 1s linear infinite;
          margin-bottom: 10px;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        .sortable-header {
          cursor: pointer;
        }

        .sort-header {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .payment-method-text {
          font-size: 14px;
        }

        .rupees-icon {
          display: flex;
          align-items: center;
          font-size: 18px;
          line-height: 1;
        }

        .payment-details {
          padding: 10px 0;
        }

        .payment-info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }

        @media (max-width: 768px) {
          .payment-info-grid {
            grid-template-columns: 1fr;
          }
        }

        .payment-info-section {
          background-color: var(--bg-light);
          border-radius: var(--radius-md);
          overflow: hidden;
        }

        .payment-info-title {
          font-size: 16px;
          font-weight: 600;
          padding: 12px 16px;
          background-color: var(--bg-white);
          border-bottom: 1px solid var(--border-color);
        }

        .payment-info-content {
          padding: 16px;
        }

        .info-row {
          display: flex;
          margin-bottom: 10px;
        }

        .info-label {
          width: 140px;
          font-weight: 500;
          color: var(--text-light);
        }

        .info-value {
          flex: 1;
          font-weight: 500;
        }

        .order-items-section {
          margin-top: 20px;
        }

        .order-items-table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
        }

        .order-items-table th {
          text-align: left;
          padding: 12px;
          background-color: var(--bg-light);
          font-weight: 500;
          color: var(--text-light);
        }

        .order-items-table td {
          padding: 12px;
          border-bottom: 1px solid var(--border-color);
        }

        .order-items-table tfoot td {
          padding: 12px;
          font-weight: 600;
        }

        .total-label {
          text-align: right;
          font-weight: 600;
        }

        .total-value {
          font-weight: 700;
          color: var(--primary-color);
        }

        .pagination-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 4px;
          padding: 8px 16px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-page {
          padding: 8px 12px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-page.active {
          background-color: var(--primary-color);
          color: white;
          border-color: var(--primary-color);
        }

        .pagination-ellipsis {
          padding: 8px 12px;
          color: var(--text-light);
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }
      `})]})},_ae=()=>{var X;const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(null),[l,d]=N.useState(!1),[u,f]=N.useState(""),[p,m]=N.useState("all"),[g,v]=N.useState(1),[j,b]=N.useState(1),[y,C]=N.useState(!1),[T,E]=N.useState(null),[S,A]=N.useState(1),[k,I]=N.useState(0);N.useEffect(()=>{B()},[g,p,u]);const B=async()=>{try{a(!0);const z=new URLSearchParams({page:g,limit:10,status:p!=="all"?p:"",search:u}),te=await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission?${z}`);if(!te.ok)throw new Error(`HTTP error! status: ${te.status}`);const U=await te.json();U.success&&U.submissions?(t(U.submissions),b(U.totalPages)):U.success&&Array.isArray(U.data)?(t(U.data),b(Math.ceil(U.count/10))):U.message?(console.log(" Server returning placeholder response:",U.message),t([]),b(1)):(t([]),b(1))}catch{}finally{a(!1)}},M=async z=>{try{const U=await(await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission/${z}/approve`,{method:"PUT",headers:{"Content-Type":"application/json"}})).json();U.success?(B(),alert("Submission approved successfully!")):alert("Error approving submission: "+U.message)}catch(te){console.error("Error approving submission:",te),alert("Error approving submission")}},L=async z=>{try{const U=await(await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission/${z}/reject`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejectionReason:"Rejected by admin"})})).json();U.success?(B(),alert("Submission rejected successfully!")):alert("Error rejecting submission: "+U.message)}catch(te){console.error("Error rejecting submission:",te),alert("Error rejecting submission")}},F=z=>{console.log("Selected submission:",z),s(z),d(!0)},_=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),G=z=>z.charAt(0).toUpperCase()+z.slice(1).replace(/_/g," "),P=z=>z?z.startsWith("http://")||z.startsWith("https://")?z:`https://hotelvirat.com/api/v1/${z}`:null,D=(z,te)=>{E({uri:P(z),type:te}),A(1),I(0),C(!0)},R=()=>{C(!1),E(null),A(1),I(0)},H=()=>{A(z=>Math.min(z+.25,3))},ne=()=>{A(z=>Math.max(z-.25,.5))},me=()=>{I(z=>(z+90)%360)},q=z=>z.qrCodeUri||z.paymentImageUri||z.billImageUri;return n.jsxs("div",{children:[n.jsx("div",{className:"page-header",children:n.jsx("h1",{children:"Product Submissions"})}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{className:"search-icon",size:20}),n.jsx("input",{type:"text",placeholder:"Search by user phone or submission ID...",className:"search-input",value:u,onChange:z=>f(z.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("select",{className:"filter-select",value:p,onChange:z=>m(z.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"submitted",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"qr_uploaded",children:"QR Uploaded"}),n.jsx("option",{value:"payment_uploaded",children:"Payment Uploaded"}),n.jsx("option",{value:"bill_uploaded",children:"Bill Uploaded"}),n.jsx("option",{value:"completed",children:"Completed"})]})})]}),n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Submission ID"}),n.jsx("th",{children:"User Phone"}),n.jsx("th",{children:"User Name"}),n.jsx("th",{children:"Products"}),n.jsx("th",{children:"Total Amount"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"Loading submissions..."})}):e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"No submissions found"})}):e.map(z=>{var te;return n.jsxs("tr",{children:[n.jsx("td",{children:z.submissionId}),n.jsx("td",{children:z.userPhone}),n.jsx("td",{children:((te=z.userId)==null?void 0:te.name)||"N/A"}),n.jsxs("td",{children:[z.products.length," items"]}),n.jsxs("td",{children:["",z.totalAmount]}),n.jsx("td",{children:G(z.status)}),n.jsx("td",{children:_(z.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>F(z),children:n.jsx(ci,{size:14})}),z.status==="submitted"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"action-btn edit",onClick:()=>M(z._id),children:n.jsx(vn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>L(z._id),children:n.jsx(On,{size:14})})]})]})})]},z._id)})})]})}),j>1&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",disabled:g===1,onClick:()=>v(g-1),children:"Previous"}),n.jsx("div",{className:"pagination-pages",children:Array.from({length:j},(z,te)=>te+1).map(z=>n.jsx("button",{className:`pagination-page ${g===z?"active":""}`,onClick:()=>v(z),children:z},z))}),n.jsx("button",{className:"pagination-btn",disabled:g===j,onClick:()=>v(g+1),children:"Next"})]}),l&&i&&n.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:n.jsxs("div",{className:"modal large-modal",onClick:z=>z.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:["Submission Details - ",i.submissionId]}),n.jsx("button",{className:"modal-close",onClick:()=>d(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"submission-info-grid",children:[n.jsxs("div",{className:"info-card",children:[n.jsx("h4",{children:"Basic Information"}),n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Submission ID:"}),n.jsx("span",{className:"order-detail-value",children:i.submissionId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"User Phone:"}),n.jsx("span",{className:"order-detail-value",children:i.userPhone})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"User Name:"}),n.jsx("span",{className:"order-detail-value",children:((X=i.userId)==null?void 0:X.name)||"N/A"})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Status:"}),n.jsx("span",{children:G(i.status)})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Total Amount:"}),n.jsxs("span",{className:"order-detail-value amount",children:["",i.totalAmount]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Date:"}),n.jsx("span",{className:"order-detail-value",children:_(i.createdAt)})]})]})]}),n.jsxs("div",{className:"info-card",children:[n.jsxs("h4",{children:["Products (",i.products.length," items)"]}),n.jsx("div",{className:"products-list",children:i.products.map((z,te)=>n.jsxs("div",{className:"product-item",children:[n.jsx("div",{className:"product-name",children:z.name}),n.jsxs("div",{className:"product-details",children:[n.jsxs("span",{children:["",z.price,"  ",z.quantity," ",z.unit]}),n.jsxs("span",{className:"product-total",children:["",(z.price*z.quantity).toFixed(2)]})]})]},te))})]})]}),q(i)&&n.jsxs("div",{className:"images-section",children:[n.jsx("h4",{children:"Uploaded Images"}),n.jsxs("div",{className:"images-grid",children:[i.qrCodeUri&&n.jsxs("div",{className:"image-item",children:[n.jsx("div",{className:"image-header",children:n.jsx("h5",{children:"QR Code"})}),n.jsxs("div",{className:"image-container",children:[n.jsx("img",{src:P(i.qrCodeUri)||"/placeholder.svg",alt:"QR Code",className:"modal-image",onClick:()=>D(i.qrCodeUri,"QR Code")}),n.jsx("div",{className:"image-overlay",children:n.jsx("button",{className:"view-full-btn",onClick:()=>D(i.qrCodeUri,"QR Code"),children:"View Full Size"})})]})]}),i.paymentImageUri&&n.jsxs("div",{className:"image-item",children:[n.jsx("div",{className:"image-header",children:n.jsx("h5",{children:"Payment Confirmation"})}),n.jsxs("div",{className:"image-container",children:[n.jsx("img",{src:P(i.paymentImageUri)||"/placeholder.svg",alt:"Payment",className:"modal-image",onClick:()=>D(i.paymentImageUri,"Payment Confirmation")}),n.jsx("div",{className:"image-overlay",children:n.jsx("button",{className:"view-full-btn",onClick:()=>D(i.paymentImageUri,"Payment Confirmation"),children:"View Full Size"})})]}),i.paymentUploadedAt&&n.jsxs("div",{className:"image-date",children:["Uploaded: ",_(i.paymentUploadedAt)]})]}),i.billImageUri&&n.jsxs("div",{className:"image-item",children:[n.jsx("div",{className:"image-header",children:n.jsx("h5",{children:"Bill Image"})}),n.jsxs("div",{className:"image-container",children:[n.jsx("img",{src:P(i.billImageUri)||"/placeholder.svg",alt:"Bill",className:"modal-image",onClick:()=>D(i.billImageUri,"Bill Image"),onError:z=>{console.log("Bill image failed to load:",i.billImageUri),z.target.style.display="none"}}),n.jsx("div",{className:"image-overlay",children:n.jsx("button",{className:"view-full-btn",onClick:()=>D(i.billImageUri,"Bill Image"),children:"View Full Size"})})]}),i.billUploadedAt&&n.jsxs("div",{className:"image-date",children:["Uploaded: ",_(i.billUploadedAt)]})]})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[i.status==="submitted"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{className:"btn btn-primary",onClick:()=>{M(i._id),d(!1)},children:[n.jsx(vn,{size:16}),"Approve"]}),n.jsxs("button",{className:"btn btn-outline",onClick:()=>{L(i._id),d(!1)},children:[n.jsx(On,{size:16}),"Reject"]})]}),n.jsx("button",{className:"btn btn-outline",onClick:()=>d(!1),children:"Close"})]})]})}),y&&T&&n.jsx("div",{className:"image-viewer-overlay",onClick:R,children:n.jsxs("div",{className:"image-viewer-modal",onClick:z=>z.stopPropagation(),children:[n.jsxs("div",{className:"image-viewer-header",children:[n.jsx("h3",{children:T.type}),n.jsxs("div",{className:"image-viewer-controls",children:[n.jsx("button",{className:"control-btn",onClick:ne,title:"Zoom Out",children:n.jsx(pz,{size:20})}),n.jsxs("span",{className:"zoom-level",children:[Math.round(S*100),"%"]}),n.jsx("button",{className:"control-btn",onClick:H,title:"Zoom In",children:n.jsx(fz,{size:20})}),n.jsx("button",{className:"control-btn",onClick:me,title:"Rotate",children:n.jsx(q7,{size:20})}),n.jsx("button",{className:"control-btn close-btn",onClick:R,children:""})]})]}),n.jsx("div",{className:"image-viewer-content",children:n.jsx("img",{src:T.uri||"/placeholder.svg",alt:T.type,className:"viewer-image",style:{transform:`scale(${S}) rotate(${k}deg)`,transition:"transform 0.3s ease"},onError:z=>{console.error("Image failed to load:",T.uri),z.target.src="/placeholder.svg?height=400&width=400"}})})]})}),n.jsx("style",{jsx:!0,children:`
        .large-modal {
          width: 90%;
          max-width: 1200px;
          max-height: 90vh;
          overflow-y: auto;
        }

        .submission-info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 30px;
        }

        .info-card {
          background: #f8f9fa;
          padding: 20px;
          border-radius: 8px;
          border: 1px solid #e9ecef;
        }

        .info-card h4 {
          margin: 0 0 15px 0;
          color: #333;
          font-size: 16px;
          font-weight: 600;
          border-bottom: 2px solid #007bff;
          padding-bottom: 8px;
        }

        .products-list {
          max-height: 200px;
          overflow-y: auto;
        }

        .product-item {
          padding: 10px 0;
          border-bottom: 1px solid #e9ecef;
        }

        .product-item:last-child {
          border-bottom: none;
        }

        .product-name {
          font-weight: 600;
          color: #333;
          margin-bottom: 4px;
        }

        .product-details {
          display: flex;
          justify-content: space-between;
          font-size: 14px;
          color: #666;
        }

        .product-total {
          font-weight: 600;
          color: #28a745;
        }

        .amount {
          font-weight: 700;
          color: #28a745;
          font-size: 18px;
        }

        .images-section {
          margin-top: 30px;
          padding-top: 20px;
          border-top: 2px solid #e9ecef;
        }

        .images-section h4 {
          margin: 0 0 20px 0;
          color: #333;
          font-size: 18px;
          font-weight: 600;
        }

        .images-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 25px;
        }

        .image-item {
          background: white;
          border: 1px solid #e9ecef;
          border-radius: 12px;
          overflow: hidden;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
          transition: transform 0.2s, box-shadow 0.2s;
        }

        .image-item:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }

        .image-header {
          padding: 15px;
          background: #f8f9fa;
          border-bottom: 1px solid #e9ecef;
        }

        .image-header h5 {
          margin: 0;
          color: #333;
          font-weight: 600;
          font-size: 16px;
        }

        .image-container {
          position: relative;
          height: 250px;
          overflow: hidden;
        }

        .modal-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          cursor: pointer;
          transition: transform 0.3s;
        }

        .image-overlay {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0,0,0,0.7);
          display: flex;
          align-items: center;
          justify-content: center;
          opacity: 0;
          transition: opacity 0.3s;
        }

        .image-container:hover .image-overlay {
          opacity: 1;
        }

        .image-container:hover .modal-image {
          transform: scale(1.05);
        }

        .view-full-btn {
          background: #007bff;
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: background 0.2s;
        }

        .view-full-btn:hover {
          background: #0056b3;
        }

        .image-date {
          padding: 10px 15px;
          font-size: 12px;
          color: #666;
          background: #f8f9fa;
          border-top: 1px solid #e9ecef;
        }

        /* Image Viewer Styles */
        .image-viewer-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.95);
          z-index: 10000;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .image-viewer-modal {
          width: 95%;
          height: 95%;
          background: white;
          border-radius: 12px;
          display: flex;
          flex-direction: column;
          overflow: hidden;
        }

        .image-viewer-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 15px 20px;
          background: #f8f9fa;
          border-bottom: 1px solid #e9ecef;
        }

        .image-viewer-header h3 {
          margin: 0;
          color: #333;
          font-size: 18px;
          font-weight: 600;
        }

        .image-viewer-controls {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .control-btn {
          background: #007bff;
          color: white;
          border: none;
          padding: 8px 12px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: background 0.2s;
          display: flex;
          align-items: center;
          gap: 5px;
        }

        .control-btn:hover {
          background: #0056b3;
        }

        .close-btn {
          background: #dc3545;
          font-size: 20px;
          font-weight: bold;
          padding: 8px 12px;
        }

        .close-btn:hover {
          background: #c82333;
        }

        .zoom-level {
          color: #666;
          font-size: 14px;
          font-weight: 600;
          min-width: 50px;
          text-align: center;
        }

        .image-viewer-content {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          background: #f8f9fa;
        }

        .viewer-image {
          max-width: 100%;
          max-height: 100%;
          object-fit: contain;
          cursor: grab;
        }

        .viewer-image:active {
          cursor: grabbing;
        }

        @media (max-width: 768px) {
          .large-modal {
            width: 95%;
            margin: 20px auto;
          }

          .submission-info-grid {
            grid-template-columns: 1fr;
          }

          .images-grid {
            grid-template-columns: 1fr;
          }

          .image-viewer-controls {
            flex-wrap: wrap;
            gap: 5px;
          }

          .control-btn {
            padding: 6px 10px;
            font-size: 12px;
          }
        }
      `})]})},Oae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(null),[l,d]=N.useState(!1),[u,f]=N.useState(""),[p,m]=N.useState(1),[g,v]=N.useState(1),[j,b]=N.useState(null),[y,C]=N.useState(null);N.useEffect(()=>{T()},[p,u]);const T=async()=>{try{a(!0);const M=new URLSearchParams({page:p,limit:10,search:u,status:"qr_uploaded"}),L=await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission?${M}`);if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const F=await L.json();if(F.success){let _=[];Array.isArray(F.data)?_=F.data:Array.isArray(F.submissions)&&(_=F.submissions),t(_),v(F.totalPages||1)}else console.error("API returned error:",F.message),t([])}catch(M){console.error("Error fetching QR uploads:",M),t([]),v(1)}finally{a(!1)}},E=async(M,L,F)=>{try{C(F);const _=await fetch(M);if(!_.ok)throw new Error("Failed to fetch image");const G=await _.blob(),P=window.URL.createObjectURL(G),D=document.createElement("a");D.href=P,D.download=L,document.body.appendChild(D),D.click(),document.body.removeChild(D),window.URL.revokeObjectURL(P)}catch(_){console.error("Error downloading image:",_),alert("Error downloading image. Please try again.")}finally{C(null)}},S=async(M,L)=>{try{b(M);const F=new FormData;F.append("paymentImage",L);const G=await(await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission/${M}/upload-payment-image`,{method:"POST",body:F})).json();G.success?(T(),alert("Payment Successful! Payment image uploaded successfully!")):alert("Error uploading image: "+G.message)}catch(F){console.error("Error uploading image:",F),alert("Error uploading image")}finally{b(null)}},A=async M=>{try{const F=await(await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission/${M}/complete`,{method:"PUT",headers:{"Content-Type":"application/json"}})).json();F.success?(T(),alert("Order marked as completed!")):alert("Error completing order: "+F.message)}catch(L){console.error("Error completing order:",L),alert("Error completing order")}},k=M=>{s(M),d(!0)},I=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=M=>M.paymentStatus==="successful"&&M.paymentImageUri?n.jsxs("span",{className:"payment-success-badge",children:[n.jsx(Gi,{size:16}),"Payment Successful"]}):n.jsx("span",{className:"payment-pending-badge",children:"Payment Pending"});return n.jsxs("div",{children:[n.jsx("div",{className:"page-header",children:n.jsx("h1",{children:"QR Code Uploads"})}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{className:"search-icon",size:20}),n.jsx("input",{type:"text",placeholder:"Search by user phone or submission ID...",className:"search-input",value:u,onChange:M=>f(M.target.value)})]})}),n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Submission ID"}),n.jsx("th",{children:"User Phone"}),n.jsx("th",{children:"User Name"}),n.jsx("th",{children:"Total Amount"}),n.jsx("th",{children:"QR Upload Date"}),n.jsx("th",{children:"QR Image"}),n.jsx("th",{children:"Payment Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"Loading QR uploads..."})}):e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"No QR uploads found"})}):e.map(M=>{var L;return n.jsxs("tr",{children:[n.jsx("td",{children:M.submissionId}),n.jsx("td",{children:M.userPhone}),n.jsx("td",{children:((L=M.userId)==null?void 0:L.name)||"N/A"}),n.jsxs("td",{children:["",M.totalAmount]}),n.jsx("td",{children:I(M.updatedAt)}),n.jsx("td",{children:M.qrCodeUri?n.jsx("img",{src:`${M.qrCodeUri}`,alt:"QR Code",className:"thumbnail-image",style:{cursor:"pointer",maxWidth:"50px",maxHeight:"50px"},onClick:()=>window.open(`${M.qrCodeUri}`,"_blank")}):n.jsx("div",{className:"image-placeholder",children:"No QR"})}),n.jsx("td",{children:B(M)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>k(M),children:n.jsx(ci,{size:14})}),!M.paymentImageUri&&n.jsxs("label",{className:"action-btn edit",style:{cursor:"pointer"},children:[n.jsx(Gs,{size:14}),n.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:F=>{F.target.files[0]&&S(M._id,F.target.files[0])},disabled:j===M._id})]}),M.paymentImageUri&&M.status!=="completed"&&n.jsx("button",{className:"action-btn view",onClick:()=>A(M._id),children:n.jsx(vn,{size:14})})]})})]},M._id)})})]})}),g>1&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",disabled:p===1,onClick:()=>m(p-1),children:"Previous"}),n.jsx("div",{className:"pagination-pages",children:Array.from({length:g},(M,L)=>L+1).map(M=>n.jsx("button",{className:`pagination-page ${p===M?"active":""}`,onClick:()=>m(M),children:M},M))}),n.jsx("button",{className:"pagination-btn",disabled:p===g,onClick:()=>m(p+1),children:"Next"})]}),l&&i&&n.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:n.jsxs("div",{className:"modal",onClick:M=>M.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:"QR Upload Details"}),n.jsx("button",{className:"modal-close",onClick:()=>d(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Submission ID:"}),n.jsxs("span",{className:"order-detail-value",children:["#",i.submissionId]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"User Phone:"}),n.jsx("span",{className:"order-detail-value",children:i.userPhone})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Total Amount:"}),n.jsxs("span",{className:"order-detail-value",children:["",i.totalAmount]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"QR Upload Date:"}),n.jsx("span",{className:"order-detail-value",children:I(i.updatedAt)})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Payment Status:"}),n.jsx("span",{className:"order-detail-value",children:B(i)})]})]}),i.qrCodeUri&&n.jsxs("div",{style:{marginTop:"20px"},children:[n.jsx("div",{className:"modal-image-header",children:n.jsx("h4",{children:"QR Code Image"})}),n.jsx("img",{src:`${i.qrCodeUri}`,alt:"QR Code",style:{maxWidth:"100%",height:"auto",borderRadius:"8px"}})]}),i.paymentImageUri&&n.jsxs("div",{style:{marginTop:"20px"},children:[n.jsxs("div",{className:"modal-image-header",children:[n.jsx("h4",{children:"Payment Image"}),n.jsx("button",{className:"download-btn-large",onClick:()=>E(`https://hotelvirat.com/api/v1/${i.paymentImageUri}`,`Payment_${i.submissionId}.jpg`,`modal_payment_${i._id}`),disabled:y===`modal_payment_${i._id}`,children:y===`modal_payment_${i._id}`?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"spinner"}),"Downloading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ln,{size:16}),"Download Payment"]})})]}),n.jsx("img",{src:`${i.paymentImageUri}`,alt:"Payment",style:{maxWidth:"100%",height:"auto",borderRadius:"8px"}}),n.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#d4edda",borderRadius:"5px",color:"#155724"},children:[n.jsx(Gi,{size:16,style:{marginRight:"8px"}}),"Payment Successful - Image uploaded on"," ",I(i.paymentUploadedAt||i.updatedAt)]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Products"}),n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Product Name"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Unit"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:i.products.map((M,L)=>n.jsxs("tr",{children:[n.jsx("td",{children:M.name}),n.jsxs("td",{children:["",M.price]}),n.jsx("td",{children:M.quantity}),n.jsx("td",{children:M.unit}),n.jsxs("td",{children:["",(M.price*M.quantity).toFixed(2)]})]},L))})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[!i.paymentImageUri&&n.jsxs("label",{className:"btn btn-primary",style:{cursor:"pointer"},children:[n.jsx(Gs,{size:16}),"Upload Payment Image",n.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:M=>{M.target.files[0]&&(S(i._id,M.target.files[0]),d(!1))}})]}),i.paymentImageUri&&i.status!=="completed"&&n.jsxs("button",{className:"btn btn-primary",onClick:()=>{A(i._id),d(!1)},children:[n.jsx(vn,{size:16}),"Mark as Completed"]}),n.jsx("button",{className:"btn btn-outline",onClick:()=>d(!1),children:"Close"})]})]})}),n.jsx("style",{jsx:!0,children:`
        .payment-success-badge {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          background-color: #d4edda;
          color: #155724;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .payment-pending-badge {
          display: inline-flex;
          align-items: center;
          background-color: #fff3cd;
          color: #856404;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .thumbnail-image {
          border-radius: 4px;
          border: 1px solid #ddd;
        }
        
        .image-placeholder {
          padding: 8px;
          background-color: #f8f9fa;
          border-radius: 4px;
          text-align: center;
          font-size: 12px;
          color: #6c757d;
        }

        .download-btn-large {
          background: #ff8c00;
          color: white;
          border: none;
          border-radius: 6px;
          padding: 8px 12px;
          display: flex;
          align-items: center;
          gap: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: all 0.2s ease;
          margin-bottom: 10px;
        }

        .download-btn-large:hover:not(:disabled) {
          background: #e67e00;
        }

        .download-btn-large:disabled {
          background: #6c757d;
          cursor: not-allowed;
        }

        .modal-image-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 10px;
        }

        .modal-image-header h4 {
          margin: 0;
        }

        .spinner {
          width: 12px;
          height: 12px;
          border: 2px solid #ffffff;
          border-top: 2px solid transparent;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},kae=({user:e,onClose:t,onSave:r,isEditMode:a})=>{const[i,s]=N.useState({name:(e==null?void 0:e.name)||"",phoneNumber:(e==null?void 0:e.phoneNumber)||""}),[l,d]=N.useState(null),[u,f]=N.useState(!1),p=g=>{const{name:v,value:j}=g.target;s({...i,[v]:j}),d(null)},m=async g=>{g.preventDefault(),d(null),f(!0);try{await r(i,e==null?void 0:e.phoneNumber),t()}catch(v){d(v.message||"Failed to save purchase user")}finally{f(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:a?"Edit Purchase User":"Add New Purchase User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:m,children:[n.jsxs("div",{className:"modal-body",children:[l&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626"},children:l}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:p,required:!0,disabled:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"phoneNumber",children:["Phone Number ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"phoneNumber",name:"phoneNumber",className:"form-input",value:i.phoneNumber,onChange:p,required:!0,pattern:"\\d{10}",title:"Please enter a valid 10-digit phone number",disabled:u})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":a?"Update Purchase User":"Add Purchase User"})]})]})]})})},Dae=({user:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e.phoneNumber),t()}catch(l){console.error("Error deleting purchase user:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Purchase User"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Iae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,f]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(!1),T="https://hotelvirat.com/api/v1/hotel/purchase-user-auth",E=async()=>{C(!0),b("");try{const F=await fetch(`${T}/all`);if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const _=await F.json();let G=[];if(_&&_.success&&Array.isArray(_.data))G=_.data;else if(_&&_.success&&Array.isArray(_.users))G=_.users;else if(Array.isArray(_))G=_;else if(_&&_.message&&_.message.includes("routes working"))console.log(" Server returning placeholder response:",_.message),G=[];else{console.error("Expected array but got:",_),t([]),b("Invalid data format received from server");return}t(G)}catch(F){console.error("Fetch error:",F),b(`Failed to fetch purchase users: ${F.message}`),t([])}finally{C(!1)}};N.useEffect(()=>{E()},[]);const S=()=>{d(null),s(!0)},A=F=>{d(F),s(!0)},k=F=>{m(F),f(!0)},I=async(F,_)=>{try{const G=_?`${T}/status/${_}`:`${T}/register`,D=await fetch(G,{method:_?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}),R=await D.json();if(!D.ok)throw new Error(R.message||"Failed to save purchase user");v(`Purchase user ${_?"updated":"added"} successfully`),setTimeout(()=>v(""),3e3),await E()}catch(G){throw new Error(G.message)}},B=async F=>{try{const _=await fetch(`${T}/${F}`,{method:"DELETE"}),G=await _.json();if(!_.ok)throw new Error(G.message||"Failed to delete purchase user");v("Purchase user deleted successfully"),setTimeout(()=>v(""),3e3),await E()}catch(_){b(_.message),setTimeout(()=>b(""),3e3)}},M=F=>{if(!F)return"N/A";const _={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(F).toLocaleDateString(void 0,_)},L=e.filter(F=>F.name.toLowerCase().includes(r.toLowerCase())||F.phoneNumber.includes(r));return n.jsxs("div",{className:"purchase-users-page",children:[g&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>v(""),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),j&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),style:{color:"#dc2626"},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Purchase Users"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:S,disabled:y,children:[n.jsx(Hc,{size:16}),n.jsx("span",{children:"Add Purchase User"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search purchase users...",className:"search-input",value:r,onChange:F=>a(F.target.value)})]})}),n.jsx("div",{className:"data-card",children:y?n.jsx("div",{className:"empty-state",children:"Loading purchase users..."}):L.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No purchase users found. ",r?"Try a different search.":"Add a new purchase user to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Phone Number"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:L.map(F=>n.jsxs("tr",{children:[n.jsx("td",{children:F._id.slice(-6)}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:F.name.charAt(0).toUpperCase()}),F.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(oi,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),F.phoneNumber]})}),n.jsx("td",{children:M(F.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>A(F),disabled:y,children:n.jsx(zn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>k(F),disabled:y,children:n.jsx(Qn,{size:14})})]})})]},F._id))})]})}),i&&n.jsx(kae,{user:l,onClose:()=>s(!1),onSave:I,isEditMode:!!l}),u&&n.jsx(Dae,{user:p,onClose:()=>f(!1),onConfirm:B})]})},R3=(e,t=200)=>`https://api.qrserver.com/v1/create-qr-code/?size=${t}x${t}&data=${encodeURIComponent(e)}`,U2={baseURL:"https://hotelvirat.com/api/v1/hotel",get:async e=>{try{const t=await fetch(`${U2.baseURL}${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error(`API Error for ${e}:`,t),t}}},uS="qr_table_codes",Rae=e=>{try{localStorage.setItem(uS,JSON.stringify({codes:e,timestamp:Date.now()}))}catch(t){console.error("Error saving QR codes to localStorage:",t)}},Pae=()=>{try{const e=localStorage.getItem(uS);if(e){const t=JSON.parse(e);if(Date.now()-t.timestamp<24*60*60*1e3&&t.codes)return t.codes}}catch(e){console.error("Error loading QR codes from localStorage:",e)}return[]},Mae=()=>{try{localStorage.removeItem(uS)}catch(e){console.error("Error clearing QR codes from localStorage:",e)}},Bae=()=>{var F;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState([]),[u,f]=N.useState(!0),[p,m]=N.useState(!1),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState("all");N.useEffect(()=>{T(),E();const _=Pae();_.length>0&&d(_)},[]),N.useEffect(()=>{l.length>0&&Rae(l)},[l]);const T=async()=>{try{f(!0),v("");const _=await U2.get("/branch");t(_),_.length>0&&s(_[0]._id)}catch(_){console.error("Error fetching branches:",_),v("Failed to load branches. Please check your internet connection.")}finally{f(!1)}},E=async()=>{try{const _=await U2.get("/table");let G=[];if(_.data&&_.data.success&&Array.isArray(_.data.data))G=_.data.data;else if(Array.isArray(_.data))G=_.data;else throw console.error(" Unexpected response format:",_.data),new Error("Invalid response format: tables array missing");const P=G.map(D=>{var R,H;return{id:D._id,number:D.number,status:D.status,branchId:((R=D.branchId)==null?void 0:R._id)||D.branchId,branchName:((H=D.branchId)==null?void 0:H.name)||"Unknown Branch",image:D.image,createdAt:new Date(D.createdAt).toLocaleString()}});a(P)}catch(_){console.error("Error fetching tables:",_),v("Failed to load tables.")}},S=async()=>{if(i){m(!0);try{const _=i==="all"?e:e.filter(P=>P._id===i),G=[];for(const P of _){if(l.filter(H=>H.branchId===P._id).length>0){console.log(`QR codes already exist for branch: ${P.name}`);continue}const R=r.filter(H=>H.branchId===P._id);if(R.length===0){const H=`${window.location.origin}/public-menu?branch=${P._id}&name=${encodeURIComponent(P.name)}&table=1`;G.push({id:`${P._id}-default`,branchId:P._id,branchName:P.name,tableNumber:1,url:H,qrCode:R3(H,300),generatedAt:new Date().toISOString()})}else R.forEach(H=>{const ne=`${window.location.origin}/public-menu?branch=${P._id}&name=${encodeURIComponent(P.name)}&table=${H.number}`;G.push({id:`${P._id}-${H.number}`,branchId:P._id,branchName:P.name,tableNumber:H.number,tableId:H.id,url:ne,qrCode:R3(ne,300),generatedAt:new Date().toISOString()})})}G.length>0&&d(P=>[...P,...G])}catch(_){console.error("Error generating QR codes:",_),v("Failed to generate QR codes.")}finally{m(!1)}}},A=()=>{window.confirm("Are you sure you want to clear all generated QR codes? This action cannot be undone.")&&(d([]),Mae())},k=async _=>{try{const P=await(await fetch(_.qrCode)).blob(),D=window.URL.createObjectURL(P),R=document.createElement("a");R.href=D,R.download=`${_.branchName.replace(/\s+/g,"-")}-table-${_.tableNumber}-qr.png`,document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(D)}catch(G){console.error("Error downloading QR code:",G),alert("Failed to download QR code. Please try again.")}},I=sn(),B=_=>{try{const G=new URL(_.url),P=`${G.pathname}${G.search}`;I(P)}catch(G){console.error("Invalid URL in previewMenu:",G),alert("Failed to preview menu. Invalid URL.")}},M=l.filter(_=>{const G=!j||_.branchName.toLowerCase().includes(j.toLowerCase())||_.tableNumber.toString().includes(j),P=y==="all"||_.branchId===y;return G&&P}),L=e.filter(_=>l.some(G=>G.branchId===_._id));return u?n.jsx("div",{style:Et.loadingContainer,children:n.jsxs("div",{style:Et.loadingContent,children:[n.jsx("div",{style:Et.spinner}),n.jsx("p",{children:"Loading branches..."})]})}):g&&!e.length?n.jsx("div",{style:Et.errorContainer,children:n.jsxs("div",{style:Et.errorContent,children:[n.jsx(Vi,{size:48,style:{marginBottom:"16px",opacity:.5}}),n.jsx("h3",{children:"Error Loading Data"}),n.jsx("p",{children:g}),n.jsx("button",{onClick:T,style:Et.retryButton,children:"Retry"})]})}):n.jsxs("div",{style:Et.adminContainer,children:[n.jsxs("div",{style:Et.adminContent,children:[n.jsxs("div",{style:Et.adminHeader,children:[n.jsxs("div",{style:Et.adminHeaderTitle,children:[n.jsx("div",{style:Et.logoContainer,children:n.jsx(Vi,{size:24,color:"#ff7e47"})}),n.jsxs("div",{children:[n.jsx("h1",{style:Et.adminTitle,children:"Table QR Menu Generator"}),n.jsx("p",{style:Et.adminSubtitle,children:"Generate unique QR codes for each table"})]})]}),n.jsxs("div",{style:Et.controlsContainer,children:[n.jsxs("div",{style:Et.branchSelectContainer,children:[n.jsx("label",{style:Et.label,children:"Select Branch"}),n.jsxs("select",{value:i,onChange:_=>s(_.target.value),style:Et.branchSelect,children:[n.jsx("option",{value:"",children:"Choose a branch..."}),n.jsx("option",{value:"all",children:"All Branches"}),e.map(_=>n.jsx("option",{value:_._id,children:_.name},_._id))]})]}),n.jsxs("div",{style:Et.buttonGroup,children:[n.jsxs("button",{onClick:S,disabled:p||!i,style:{...Et.generateButton,opacity:p||!i?.7:1,cursor:p||!i?"not-allowed":"pointer"},children:[n.jsx(Vi,{size:16}),p?"Generating...":"Generate QR Codes"]}),l.length>0&&n.jsxs("button",{onClick:A,style:Et.clearButton,children:[n.jsx(Qn,{size:16}),"Clear All"]})]})]})]}),l.length>0&&n.jsx("div",{style:Et.statusCard,children:n.jsxs("div",{style:Et.statusContent,children:[n.jsxs("div",{style:Et.statusInfo,children:[n.jsx(Vi,{size:20,color:"#ff7e47"}),n.jsxs("span",{children:[n.jsx("strong",{children:l.length})," QR code",l.length!==1?"s":""," generated for tables",((F=l[0])==null?void 0:F.generatedAt)&&n.jsxs("span",{style:Et.statusTime,children:["  Generated on ",new Date(l[0].generatedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),n.jsxs("div",{style:Et.statusNote,children:["Branches with QR codes: ",L.map(_=>_.name).join(", ")]})]})}),l.length>0&&n.jsxs("div",{style:Et.filtersBar,children:[n.jsxs("div",{style:Et.searchContainer,children:[n.jsx(Yt,{size:18,style:Et.searchIcon}),n.jsx("input",{type:"text",placeholder:"Search QR codes...",style:Et.searchInput,value:j,onChange:_=>b(_.target.value)})]}),n.jsx("div",{style:Et.filterButtons,children:n.jsxs("select",{style:Et.filterSelect,value:y,onChange:_=>C(_.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),L.map(_=>n.jsx("option",{value:_._id,children:_.name},_._id))]})})]}),l.length>0&&n.jsx("div",{style:Et.qrCodesGrid,children:M.map(_=>n.jsxs("div",{style:Et.qrCodeCard,children:[n.jsxs("h3",{style:Et.qrCodeTitle,children:[_.branchName," - Table ",_.tableNumber]}),n.jsx("div",{style:Et.qrCodeImageContainer,children:n.jsx("img",{src:_.qrCode||"/placeholder.svg",alt:`QR Code for ${_.branchName} Table ${_.tableNumber}`,style:Et.qrCodeImage})}),n.jsxs("div",{style:Et.qrCodeActions,children:[n.jsxs("button",{onClick:()=>k(_),style:Et.downloadButton,children:[n.jsx(Ln,{size:14}),"Download"]}),n.jsxs("button",{onClick:()=>B(_),style:Et.previewButton,children:[n.jsx(ci,{size:14}),"Preview"]})]}),n.jsx("div",{style:Et.urlDisplay,children:_.url})]},_.id))}),n.jsxs("div",{style:Et.instructionsCard,children:[n.jsx("h3",{style:Et.instructionsTitle,children:"How to use:"}),n.jsxs("ol",{style:Et.instructionsList,children:[n.jsx("li",{children:'Select a branch or choose "All Branches" to generate QR codes'}),n.jsx("li",{children:'Click "Generate QR Codes" to create unique QR codes for each table'}),n.jsx("li",{children:"QR codes are preserved when switching between branches - no need to regenerate"}),n.jsx("li",{children:"Each QR code will show the specific table number when scanned"}),n.jsx("li",{children:"Download the QR code images and print them"}),n.jsx("li",{children:"Place each QR code on its corresponding table"}),n.jsx("li",{children:"When customers scan the QR code, they'll see the menu with the table number displayed"}),n.jsx("li",{children:'Use "Preview" to see how the menu will look to customers'})]})]})]}),n.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},Et={loadingContainer:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa"},loadingContent:{textAlign:"center"},spinner:{width:"40px",height:"40px",border:"4px solid #ff7e47",borderTop:"4px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"},errorContainer:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa"},errorContent:{textAlign:"center",padding:"40px",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},retryButton:{padding:"12px 24px",backgroundColor:"#ff7e47",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"16px"},adminContainer:{minHeight:"100vh",backgroundColor:"#f8f9fa",fontFamily:"Inter, sans-serif",padding:"24px"},adminContent:{maxWidth:"1200px",margin:"0 auto"},adminHeader:{backgroundColor:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},adminHeaderTitle:{display:"flex",alignItems:"center",marginBottom:"20px"},logoContainer:{width:"50px",height:"50px",backgroundColor:"rgba(255, 126, 71, 0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"16px"},adminTitle:{fontSize:"28px",fontWeight:"700",color:"#333",margin:0},adminSubtitle:{color:"#666",margin:0,fontSize:"16px"},controlsContainer:{display:"flex",gap:"16px",alignItems:"end",flexWrap:"wrap"},branchSelectContainer:{flex:"1",minWidth:"200px"},label:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#333"},branchSelect:{width:"100%",padding:"12px 16px",border:"1px solid #e5e5e5",borderRadius:"8px",fontSize:"14px",backgroundColor:"white"},buttonGroup:{display:"flex",gap:"12px",alignItems:"center"},generateButton:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",backgroundColor:"#ff7e47",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},clearButton:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},statusCard:{backgroundColor:"white",borderRadius:"12px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 126, 71, 0.2)"},statusContent:{display:"flex",flexDirection:"column",gap:"8px"},statusInfo:{display:"flex",alignItems:"center",gap:"12px",fontSize:"16px",color:"#333"},statusTime:{color:"#666",fontSize:"14px",fontWeight:"normal"},statusNote:{fontSize:"14px",color:"#666",fontStyle:"italic"},filtersBar:{display:"flex",gap:"16px",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",backgroundColor:"white",borderRadius:"12px",padding:"16px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)"},searchContainer:{position:"relative",flex:"1",minWidth:"200px"},searchIcon:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",pointerEvents:"none"},searchInput:{width:"100%",padding:"10px 10px 10px 40px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",outline:"none"},filterButtons:{display:"flex",gap:"12px"},filterSelect:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",backgroundColor:"white",minWidth:"120px"},qrCodesGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"24px",marginBottom:"24px"},qrCodeCard:{backgroundColor:"white",borderRadius:"12px",padding:"24px",textAlign:"center",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},qrCodeTitle:{fontSize:"20px",fontWeight:"600",marginBottom:"16px",color:"#333"},qrCodeImageContainer:{marginBottom:"20px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px"},qrCodeImage:{width:"250px",height:"250px",border:"1px solid #e5e5e5",borderRadius:"8px"},qrCodeActions:{display:"flex",gap:"12px",justifyContent:"center",marginBottom:"16px"},downloadButton:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",backgroundColor:"#ff7e47",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},previewButton:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",backgroundColor:"white",color:"#ff7e47",border:"1px solid #ff7e47",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},urlDisplay:{padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",fontSize:"12px",color:"#666",wordBreak:"break-all"},instructionsCard:{backgroundColor:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",marginTop:"24px"},instructionsTitle:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#333"},instructionsList:{color:"#666",lineHeight:"1.6",paddingLeft:"20px"}},P3=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(""),[u,f]=N.useState(!0),[p,m]=N.useState(""),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(""),[T,E]=N.useState(""),[S,A]=N.useState(""),[k,I]=N.useState(""),[B,M]=N.useState(""),[L,F]=N.useState([]),[_,G]=N.useState(!1),[P,D]=N.useState(!1),[R,H]=N.useState(!1),[ne,me]=N.useState(null),[q,X]=N.useState({name:"",mobile:"",peopleCount:1}),[z,te]=N.useState(!1),U={baseURL:"https://hotelvirat.com/api/v1/hotel",get:async W=>{try{const Z=await fetch(`${U.baseURL}${W}`);if(!Z.ok)throw new Error(`HTTP error! status: ${Z.status}`);return await Z.json()}catch(Z){throw console.error(`API Error for ${W}:`,Z),Z}},post:async(W,Z)=>{try{const Q=await fetch(`${U.baseURL}${W}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)});if(!Q.ok)throw new Error(`HTTP error! status: ${Q.status}`);return await Q.json()}catch(Q){throw console.error(`API Error for ${W}:`,Q),Q}}},ee=async(W,Z)=>{try{console.log("Checking table status for branch:",W,"table:",Z);const Q=await U.get(`/table?branchId=${W}`);let be=[];if(Q.data&&Q.data.success&&Array.isArray(Q.data.data))be=Q.data.data;else if(Array.isArray(Q.data))be=Q.data;else{console.error(" Unexpected response format:",Q.data);return}const Me=be.find(Ge=>Ge.number.toString()===Z.toString());if(Me){if(console.log("Found table:",Me),A(Me._id),E(Me.status),Me.categoryId){const Ge=typeof Me.categoryId=="object"?Me.categoryId._id:Me.categoryId,Le=typeof Me.categoryId=="object"?Me.categoryId.name:"";I(Ge),M(Le),console.log("Table category:",Ge,Le)}return{status:Me.status,categoryId:Me.categoryId}}else return console.log("Table not found, assuming available"),E("available"),{status:"available",categoryId:null}}catch(Q){return console.error("Error checking table status:",Q),E("available"),{status:"available",categoryId:null}}},le=W=>typeof W.categoryId=="object"&&W.categoryId!==null?W.categoryId._id||W.categoryId.id:W.categoryId,ce=W=>{if(typeof W.categoryId=="object"&&W.categoryId!==null)return W.categoryId.name||"Unknown Category";const Z=W.categoryId,Q=r.find(be=>be._id===Z);return Q?Q.name:"Unknown Category"},je=W=>{if(T==="reserved"){alert("This table is currently reserved. Please contact staff for assistance.");return}F(Z=>Z.find(be=>be._id===W._id)?Z.map(be=>be._id===W._id?{...be,quantity:be.quantity+1}:be):[...Z,{...W,quantity:1}])},ie=W=>{F(Z=>{const Q=Z.find(be=>be._id===W);return Q&&Q.quantity>1?Z.map(be=>be._id===W?{...be,quantity:be.quantity-1}:be):Z.filter(be=>be._id!==W)})},ve=()=>L.reduce((W,Z)=>W+Z.quantity,0),Ne=()=>{const W=L.reduce((Z,Q)=>Z+(Q.price||0)*(Q.quantity||0),0);return isNaN(W)?0:W},ge=W=>{const Z=L.find(Q=>Q._id===W);return Z?Z.quantity:0},Ye=W=>{const Z=document.createElement("canvas");return Z.width=W.width,Z.height=W.height,Z.getContext("2d").drawImage(W,0,0),Z.toDataURL("image/jpeg")},Te=W=>{const Z=window.open("","_blank"),Q=new Image;Q.crossOrigin="anonymous",Q.onload=()=>{var Ge;let be="";try{be=Ye(Q)}catch(Le){console.warn("Could not convert logo to base64:",Le)}const Me=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${W.orderId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .logo { width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 8px; display: block; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin: 10px 0; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .invoice-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${be?`<img src="${be}" alt="Hotel Virat Logo" class="logo">`:""}
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${W.branchName}</div>
            <div class="invoice-title">Tax Invoice</div>
            <div style="font-size: 14px; color: #666;">Invoice No: ${W.orderId}</div>
          </div>
          
          <div class="invoice-details">
            <div class="detail-section">
              <h3>Invoice Details</h3>
              <div class="detail-row">
                <span class="detail-label">Invoice ID:</span>
                <span class="detail-value">${W.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${W.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${new Date(W.orderTime).toLocaleDateString("en-IN")}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${new Date(W.orderTime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Table No:</span>
                <span class="detail-value">${W.tableNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Guests:</span>
                <span class="detail-value">${W.peopleCount}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Customer & Payment Details</h3>
              <div class="detail-row">
                <span class="detail-label">Customer Name:</span>
                <span class="detail-value">${W.customerName}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Mobile:</span>
                <span class="detail-value">${W.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${W.branchName}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">${W.paymentMethod.toUpperCase()}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order Type:</span>
                <span class="detail-value">GUEST ORDER</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((Ge=W.items)==null?void 0:Ge.map(Le=>`
                  <tr>
                    <td>${Le.name}</td>
                    <td style="text-align: center;">${Le.quantity}</td>
                    <td style="text-align: right;">${(Le.price||0).toFixed(2)}</td>
                    <td style="text-align: right;">${((Le.price||0)*Le.quantity).toFixed(2)}</td>
                  </tr>
                `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${(W.subtotal||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Tax (5%):</span>
              <span>${(W.tax||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Service Charge (10%):</span>
              <span>${(W.serviceCharge||0).toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${(W.grandTotal||0).toFixed(2)}</span>
            </div>
          </div>

          ${W.notes?`
            <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
              <h4 style="margin-bottom: 10px; color: #333;">Notes:</h4>
              <p style="margin: 0;">${W.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;Z.document.write(Me),Z.document.close(),Z.focus(),setTimeout(()=>{Z.print()},500)},Q.onerror=()=>{var Me;console.warn("Could not load logo image, generating PDF without logo");const be=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${W.orderId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin-bottom: 10px; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .invoice-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${W.branchName}</div>
            <div class="invoice-title">Tax Invoice</div>
            <div style="font-size: 14px; color: #666;">Invoice No: ${W.orderId}</div>
          </div>
          
          <div class="invoice-details">
            <div class="detail-section">
              <h3>Invoice Details</h3>
              <div class="detail-row">
                <span class="detail-label">Invoice ID:</span>
                <span class="detail-value">${W.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${W.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${new Date(W.orderTime).toLocaleDateString("en-IN")}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${new Date(W.orderTime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Table No:</span>
                <span class="detail-value">${W.tableNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Guests:</span>
                <span class="detail-value">${W.peopleCount}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Customer & Payment Details</h3>
              <div class="detail-row">
                <span class="detail-label">Customer Name:</span>
                <span class="detail-value">${W.customerName}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Mobile:</span>
                <span class="detail-value">${W.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${W.branchName}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">${W.paymentMethod.toUpperCase()}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order Type:</span>
                <span class="detail-value">GUEST ORDER</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((Me=W.items)==null?void 0:Me.map(Ge=>`
                  <tr>
                    <td>${Ge.name}</td>
                    <td style="text-align: center;">${Ge.quantity}</td>
                    <td style="text-align: right;">${(Ge.price||0).toFixed(2)}</td>
                    <td style="text-align: right;">${((Ge.price||0)*Ge.quantity).toFixed(2)}</td>
                  </tr>
                `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${(W.subtotal||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Tax (5%):</span>
              <span>${(W.tax||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Service Charge (10%):</span>
              <span>${(W.serviceCharge||0).toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${(W.grandTotal||0).toFixed(2)}</span>
            </div>
          </div>

          ${W.notes?`
            <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
              <h4 style="margin-bottom: 10px; color: #333;">Notes:</h4>
              <p style="margin: 0;">${W.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;Z.document.write(be),Z.document.close(),Z.focus(),setTimeout(()=>{Z.print()},500)},Q.src=rd},qe=W=>{var be,Me,Ge,Le,ye,de;const Z=window.open("","_blank","width=302,height=600"),Q=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Order ${W.orderId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            max-width: 80mm;
            padding: 5mm;
            font-size: 12px;
            line-height: 1.4;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .hotel-name { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .branch-name { font-size: 12px; margin-bottom: 3px; }
          .order-info { margin-bottom: 10px; }
          .order-id { font-size: 14px; font-weight: bold; text-align: center; margin: 8px 0; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .info-label { font-weight: bold; }
          .divider { border-top: 1px dashed #000; margin: 8px 0; }
          .items-header { font-weight: bold; margin-bottom: 5px; }
          .item-row { margin-bottom: 5px; }
          .item-name { font-weight: bold; }
          .item-details { display: flex; justify-content: space-between; font-size: 11px; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .grand-total { font-size: 14px; font-weight: bold; border-top: 1px dashed #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 11px; border-top: 1px dashed #000; padding-top: 10px; }
          .thank-you { font-weight: bold; margin-bottom: 5px; }
          @media print { 
            body { width: 80mm; }
            @page { size: 80mm auto; margin: 0; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">HOTEL VIRAT</div>
          <div class="branch-name">${W.branchName||j}</div>
        </div>
        
        <div class="order-id">Order #${W.orderId}</div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">Date:</span>
            <span>${new Date().toLocaleDateString("en-IN")}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Time:</span>
            <span>${new Date().toLocaleTimeString("en-IN")}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Table:</span>
            <span>${W.tableNumber||y}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Guests:</span>
            <span>${W.peopleCount}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Customer:</span>
            <span>${W.customerName}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Mobile:</span>
            <span>${W.customerMobile}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="items-section">
          <div class="items-header">ITEMS</div>
          ${((be=W.items)==null?void 0:be.map(Se=>`
            <div class="item-row">
              <div class="item-name">${Se.name}</div>
              <div class="item-details">
                <span>${Se.quantity} x ${(Se.price||0).toFixed(2)}</span>
                <span>${((Se.price||0)*Se.quantity).toFixed(2)}</span>
              </div>
            </div>
          `).join(""))||"<div>No items</div>"}
        </div>
        
        <div class="divider"></div>
        
        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>${((Me=W.subtotal)==null?void 0:Me.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Tax (5%):</span>
            <span>${((Ge=W.tax)==null?void 0:Ge.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Service (10%):</span>
            <span>${((Le=W.serviceCharge)==null?void 0:Le.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row grand-total">
            <span>TOTAL:</span>
            <span>${((ye=W.grandTotal)==null?void 0:ye.toFixed(2))||"0.00"}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">Payment:</span>
            <span>${((de=W.paymentMethod)==null?void 0:de.toUpperCase())||"CASH"}</span>
          </div>
        </div>
        
        <div class="footer">
          <div class="thank-you">Thank You!</div>
          <div>Visit Again</div>
          <div style="margin-top: 5px; font-size: 10px;">${new Date().toLocaleString("en-IN")}</div>
        </div>
      </body>
      </html>
    `;Z.document.write(Q),Z.document.close(),Z.focus(),setTimeout(()=>{Z.print()},300)},V=async()=>{if(T==="reserved"){alert("This table is currently reserved. Please contact staff for assistance.");return}if(!q.name.trim()||!q.mobile.trim()){alert("Please fill in your name and mobile number");return}if(q.mobile.length!==10){alert("Please enter a valid 10-digit mobile number");return}if(L.length===0){alert("Your cart is empty");return}te(!0);try{const W=Ne(),Z=W*.05,Q=W*.1,be=W+Z+Q,Me={customerName:q.name.trim(),customerMobile:q.mobile.trim(),branchId:g,branchName:j,categoryId:k||null,categoryName:B||"",tableId:S||null,tableNumber:y,peopleCount:Number.parseInt(q.peopleCount),items:L.map(Le=>({menuItemId:Le._id,name:Le.name,price:Le.price,quantity:Le.quantity,image:Le.image||"",description:Le.description||"",categoryId:Le.categoryId||k||null})),subtotal:W,tax:Z,serviceCharge:Q,totalAmount:W,grandTotal:be,paymentMethod:"cash",orderTime:new Date().toISOString(),notes:`Guest order from Table ${y}${B?` - ${B}`:""}`,isGuestOrder:!0};console.log("Placing guest order:",Me);const Ge=await U.post("/staff-order/create-guest-order-no-stock",Me);if(Ge.success)me(Me),H(!0),F([]),D(!1),G(!1),X({name:"",mobile:"",peopleCount:1}),setTimeout(()=>{H(!1),me(null)},1e4);else throw new Error(Ge.message||"Failed to place order")}catch(W){console.error("Error placing order:",W),alert("Failed to place order. Please try again.")}finally{te(!1)}},fe=()=>{ne&&Te(ne)},Ee=()=>{ne&&qe(ne)},K=e.filter(W=>{const Z=!i||i===""||le(W)===i,Q=!l||W.name.toLowerCase().includes(l.toLowerCase())||W.description&&W.description.toLowerCase().includes(l.toLowerCase());return Z&&Q});N.useEffect(()=>{const W=new URLSearchParams(window.location.search),Z=W.get("branch"),Q=W.get("name"),be=W.get("table"),Me=W.get("category"),Ge=W.get("categoryName");Z&&be?(v(Z),b(decodeURIComponent(Q||"")),C(be),ee(Z,be).then(Le=>{console.log("Table status:",Le.status);let ye=Me;!ye&&Le.categoryId&&(ye=typeof Le.categoryId=="object"?Le.categoryId._id:Le.categoryId),Ge&&M(decodeURIComponent(Ge)),re(Z,ye)})):(m("Invalid QR code - missing branch or table information"),f(!1))},[]);const re=async(W,Z=null)=>{try{f(!0),m("");const[Q,be]=await Promise.all([U.get(`/menu?branchId=${W}`),U.get(`/category?branchId=${W}`)]),Me=de=>{if(de.price&&typeof de.price=="number")return de.price;if(de.prices&&typeof de.prices=="object"){const Se=Object.values(de.prices);if(Se.length>0){const Qe=parseFloat(Se[0]);if(!isNaN(Qe))return Qe}}return 0};let Ge=Q.filter(de=>de.isActive!==!1).map(de=>({...de,price:Me(de)}));if(Z){console.log("Filtering products by table category:",Z),Ge=Ge.filter(Se=>(typeof Se.categoryId=="object"&&Se.categoryId!==null?Se.categoryId._id||Se.categoryId.id:Se.categoryId)===Z);const de=be.find(Se=>Se._id===Z);de&&M(de.name)}const Le=[...new Set(Ge.map(de=>typeof de.categoryId=="object"&&de.categoryId!==null?de.categoryId._id||de.categoryId.id:de.categoryId).filter(Boolean))],ye=be.filter(de=>Le.includes(de._id));t(Ge),a(ye),Ge.length===0&&m(Z?"No menu items found for this category. Please contact staff.":"No menu items available for this branch.")}catch(Q){console.error("Error fetching menu:",Q),m("Failed to load menu. Please try again.")}finally{f(!1)}};return u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"loading-screen",children:n.jsxs("div",{className:"loading-content",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading menu..."})]})}),n.jsx("style",{jsx:!0,children:`
          .loading-screen {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9fafb;
          }
          .loading-content {
            text-align: center;
          }
          .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #f97316;
            border-top: 3px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
          }
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):p?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"error-screen",children:n.jsxs("div",{className:"error-content",children:[n.jsx(Vi,{size:48,style:{marginBottom:"16px",opacity:.5}}),n.jsx("h3",{children:"Oops! Something went wrong"}),n.jsx("p",{children:p}),n.jsx("button",{onClick:()=>re(g,k),className:"retry-btn",children:"Try Again"})]})}),n.jsx("style",{jsx:!0,children:`
          .error-screen {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9fafb;
            padding: 20px;
          }
          .error-content {
            text-align: center;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
          }
          .retry-btn {
            background: #f97316;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 16px;
            font-size: 14px;
            font-weight: 500;
          }
          .retry-btn:hover {
            background: #ea580c;
          }
        `})]}):T==="reserved"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"reserved-screen",children:n.jsxs("div",{className:"reserved-content",children:[n.jsx($t,{size:64,color:"#f59e0b",style:{marginBottom:"24px"}}),n.jsx("h2",{children:"Table Currently Reserved"}),n.jsxs("p",{children:["Table ",y," at ",j," is currently reserved."]}),n.jsx("p",{children:"Please contact our staff for assistance or try scanning a different table's QR code."}),n.jsxs("div",{className:"contact-info",children:[n.jsx("p",{children:n.jsx("strong",{children:"Need Help?"})}),n.jsx("p",{children:"Please approach our staff members who will be happy to assist you with seating and ordering."})]})]})}),n.jsx("style",{jsx:!0,children:`
          .reserved-screen {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9fafb;
            padding: 20px;
          }
          .reserved-content {
            text-align: center;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 100%;
            border: 2px solid #f59e0b;
          }
          .reserved-content h2 {
            color: #f59e0b;
            margin-bottom: 16px;
            font-size: 24px;
          }
          .reserved-content p {
            color: #666;
            margin-bottom: 12px;
            line-height: 1.5;
          }
          .contact-info {
            margin-top: 24px;
            padding: 20px;
            background: #fef3c7;
            border-radius: 8px;
            border: 1px solid #f59e0b;
          }
          .contact-info p {
            margin-bottom: 8px;
          }
          .contact-info p:last-child {
            margin-bottom: 0;
          }
        `})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"menu-app",children:[R&&n.jsx("div",{className:"success-overlay",children:n.jsxs("div",{className:"success-message",children:[n.jsx(vn,{size:48,color:"#10b981"}),n.jsx("h3",{children:"Order Placed Successfully!"}),ne&&n.jsxs("div",{className:"invoice-section",children:[n.jsx("p",{className:"invoice-text",children:"Print receipt or download invoice:"}),n.jsxs("div",{className:"invoice-buttons",children:[n.jsxs("button",{className:"print-receipt-btn",onClick:Ee,children:[n.jsx(ls,{size:20}),"Print Receipt"]}),n.jsxs("button",{className:"download-invoice-btn",onClick:fe,children:[n.jsx(Ln,{size:20}),"Download PDF"]})]})]}),n.jsx("button",{className:"close-success-btn",onClick:()=>{H(!1),me(null)},children:"Close"})]})}),n.jsx("header",{className:"header",children:n.jsxs("div",{className:"header-container",children:[n.jsxs("div",{className:"restaurant-info",children:[n.jsx("div",{className:"logo",children:n.jsx(Vi,{size:20})}),n.jsxs("div",{className:"restaurant-details",children:[n.jsx("h1",{className:"restaurant-name",children:j||"Restaurant"}),n.jsxs("p",{className:"restaurant-tagline",children:["Table ",y,B&&`  ${B}`,"  ","Delicious food, delivered fresh",T&&n.jsxs("span",{className:`table-status ${T}`,children:["  ",T==="available"?"Available":"Reserved"]})]})]})]}),n.jsxs("div",{className:"search-section",children:[n.jsxs("div",{className:"search-box",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search menu items...",value:l,onChange:W=>d(W.target.value),className:"search-input"})]}),n.jsxs("select",{value:i,onChange:W=>s(W.target.value),className:"category-dropdown",children:[n.jsx("option",{value:"",children:"All Categories"}),r.map(W=>n.jsx("option",{value:W._id,children:W.name},W._id))]})]})]})}),L.length>0&&T==="available"&&n.jsxs("button",{className:"floating-cart",onClick:()=>G(!0),children:[n.jsx(bu,{size:24}),n.jsx("span",{className:"cart-count",children:ve()})]}),n.jsx("main",{className:"main-content",children:n.jsxs("div",{className:"content-container",children:[n.jsx("div",{className:"table-info-banner",children:n.jsxs("div",{className:"table-info-content",children:[n.jsx(Vi,{size:24,color:"#ff7e47"}),n.jsxs("div",{className:"table-info-text",children:[n.jsxs("h3",{className:"table-info-title",children:["Table ",y]}),n.jsxs("p",{className:"table-info-subtitle",children:[j,T&&n.jsx("span",{className:`status-badge ${T}`,children:T==="available"?"Available":"Reserved"})]})]})]})}),n.jsx("div",{className:"results-info",children:n.jsxs("p",{children:[K.length," item",K.length!==1?"s":""," found",i&&r.find(W=>W._id===i)&&` in ${r.find(W=>W._id===i).name}`,l&&` for "${l}"`]})}),K.length>0?n.jsx("div",{className:"menu-grid",children:K.map(W=>n.jsxs("div",{className:"menu-card",children:[n.jsx("div",{className:"card-image",children:n.jsx("img",{src:W.image||"/placeholder.svg",alt:W.name,onError:Z=>{Z.target.src="/placeholder.svg?height=200&width=300"}})}),n.jsxs("div",{className:"card-content",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h3",{className:"product-name",children:W.name}),n.jsxs("span",{className:"product-price",children:["",(W.price||0).toFixed(2)]})]}),n.jsx("div",{className:"category-tag",children:ce(W)}),W.description&&n.jsx("p",{className:"product-description",children:W.description}),T==="available"&&n.jsx("div",{className:"cart-controls",children:ge(W._id)===0?n.jsxs("button",{className:"add-to-cart-btn",onClick:()=>je(W),children:[n.jsx(Pa,{size:16}),"Add to Cart"]}):n.jsxs("div",{className:"quantity-controls",children:[n.jsx("button",{className:"quantity-btn",onClick:()=>ie(W._id),children:n.jsx(OA,{size:16})}),n.jsx("span",{className:"quantity",children:ge(W._id)}),n.jsx("button",{className:"quantity-btn",onClick:()=>je(W),children:n.jsx(Pa,{size:16})})]})}),T==="reserved"&&n.jsxs("div",{className:"reserved-message",children:[n.jsx($t,{size:16}),n.jsx("span",{children:"Table Reserved - Contact Staff"})]})]})]},W._id))}):n.jsxs("div",{className:"empty-state",children:[n.jsx(Vi,{size:48,style:{opacity:.3,marginBottom:"16px"}}),n.jsx("h3",{children:"No items found"}),n.jsx("p",{children:l||i?"Try adjusting your search or filter criteria":"No menu items available for this branch"}),(l||i)&&n.jsx("button",{onClick:()=>{d(""),s("")},className:"clear-filters",children:"Clear Filters"})]})]})}),_&&T==="available"&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"cart-modal",children:[n.jsxs("div",{className:"cart-header",children:[n.jsx("h3",{children:"Your Order"}),n.jsx("button",{className:"close-btn",onClick:()=>G(!1),children:n.jsx(On,{size:24})})]}),n.jsx("div",{className:"cart-content",children:L.length===0?n.jsxs("div",{className:"empty-cart",children:[n.jsx(bu,{size:48,style:{opacity:.3}}),n.jsx("p",{children:"Your cart is empty"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"cart-items",children:L.map(W=>n.jsxs("div",{className:"cart-item",children:[n.jsx("img",{src:W.image||"/placeholder.svg",alt:W.name,className:"cart-item-image"}),n.jsxs("div",{className:"cart-item-details",children:[n.jsx("h4",{children:W.name}),n.jsxs("p",{children:["",(W.price||0).toFixed(2)," each"]})]}),n.jsxs("div",{className:"cart-item-controls",children:[n.jsx("button",{onClick:()=>ie(W._id),children:n.jsx(OA,{size:16})}),n.jsx("span",{children:W.quantity}),n.jsx("button",{onClick:()=>je(W),children:n.jsx(Pa,{size:16})})]}),n.jsxs("div",{className:"cart-item-total",children:["",((W.price||0)*W.quantity).toFixed(2)]})]},W._id))}),n.jsxs("div",{className:"cart-summary",children:[n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",Ne().toFixed(2)]})]}),n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Tax (5%):"}),n.jsxs("span",{children:["",(Ne()*.05).toFixed(2)]})]}),n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Service Charge (10%):"}),n.jsxs("span",{children:["",(Ne()*.1).toFixed(2)]})]}),n.jsxs("div",{className:"summary-row total",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",(Ne()*1.15).toFixed(2)]})]})]})]})}),L.length>0&&n.jsx("div",{className:"cart-footer",children:n.jsx("button",{className:"checkout-btn",onClick:()=>{G(!1),D(!0)},children:"Proceed to Checkout"})})]})}),P&&T==="available"&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"checkout-modal",children:[n.jsxs("div",{className:"checkout-header",children:[n.jsx("h3",{children:"Order Details"}),n.jsx("button",{className:"close-btn",onClick:()=>D(!1),children:n.jsx(On,{size:24})})]}),n.jsxs("div",{className:"checkout-content",children:[n.jsxs("div",{className:"customer-details",children:[n.jsx("h4",{children:"Customer Information"}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[n.jsx(xc,{size:16}),"Full Name *"]}),n.jsx("input",{type:"text",value:q.name,onChange:W=>X({...q,name:W.target.value}),placeholder:"Enter your full name",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[n.jsx(oi,{size:16}),"Mobile Number *"]}),n.jsx("input",{type:"tel",value:q.mobile,onChange:W=>X({...q,mobile:W.target.value}),placeholder:"Enter 10-digit mobile number",maxLength:"10",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[n.jsx(Yi,{size:16}),"Number of People"]}),n.jsx("select",{value:q.peopleCount,onChange:W=>X({...q,peopleCount:W.target.value}),children:[1,2,3,4,5,6,7,8,9,10].map(W=>n.jsx("option",{value:W,children:W},W))})]})]}),n.jsxs("div",{className:"order-summary",children:[n.jsx("h4",{children:"Order Summary"}),n.jsx("div",{className:"summary-items",children:L.map(W=>n.jsxs("div",{className:"summary-item",children:[n.jsxs("span",{children:[W.name," x ",W.quantity]}),n.jsxs("span",{children:["",((W.price||0)*W.quantity).toFixed(2)]})]},W._id))}),n.jsxs("div",{className:"summary-totals",children:[n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",Ne().toFixed(2)]})]}),n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Tax (5%):"}),n.jsxs("span",{children:["",(Ne()*.05).toFixed(2)]})]}),n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Service Charge (10%):"}),n.jsxs("span",{children:["",(Ne()*.1).toFixed(2)]})]}),n.jsxs("div",{className:"summary-row total",children:[n.jsx("span",{children:"Total Amount:"}),n.jsxs("span",{children:["",(Ne()*1.15).toFixed(2)]})]})]})]}),n.jsx("div",{className:"payment-info",children:n.jsxs("div",{className:"payment-method",children:[n.jsx(Bn,{size:16}),n.jsx("span",{children:"Payment: Cash (Pay at table)"})]})})]}),n.jsx("div",{className:"checkout-footer",children:n.jsx("button",{className:"place-order-btn",onClick:V,disabled:z||!q.name.trim()||!q.mobile.trim(),children:z?"Placing Order...":"Place Order"})})]})})]}),n.jsx("style",{jsx:!0,global:!0,children:`
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        html,
        body {
          height: 100%;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: #f9fafb;
          overflow-x: hidden;
        }

        .menu-app {
          display: flex;
          flex-direction: column;
          height: 100vh;
          position: relative;
        }

        /* Success Overlay */
        .success-overlay {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          width: 100vw !important;
          height: 100vh !important;
          background: rgba(0, 0, 0, 0.8) !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          z-index: 9999 !important;
          padding: 20px !important;
          box-sizing: border-box !important;
        }

        .success-message {
          position: relative !important;
          background: white !important;
          padding: 40px !important;
          border-radius: 16px !important;
          text-align: center !important;
          width: 100% !important;
          max-width: 420px !important;
          min-width: 300px !important;
          margin: 0 auto !important;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
          border: 2px solid #10b981 !important;
          transform: scale(1) !important;
          animation: successSlideIn 0.3s ease-out !important;
        }

        @keyframes successSlideIn {
          0% {
            opacity: 0;
            transform: scale(0.9) translateY(-20px);
          }
          100% {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }

        .success-message h3 {
          color: #10b981 !important;
          margin: 16px 0 8px !important;
          font-size: 24px !important;
          font-weight: 700 !important;
        }

        .success-message p {
          color: #666 !important;
          line-height: 1.5 !important;
          margin-bottom: 20px !important;
          font-size: 16px !important;
        }

        .invoice-section {
          margin: 20px 0 !important;
          padding: 20px !important;
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%) !important;
          border-radius: 12px !important;
          border: 1px solid #e9ecef !important;
        }

        .invoice-text {
          color: #495057 !important;
          font-size: 14px !important;
          margin-bottom: 12px !important;
          font-weight: 500 !important;
        }

        .invoice-buttons {
          display: flex !important;
          gap: 10px !important;
          width: 100% !important;
        }

        .print-receipt-btn {
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 8px !important;
          flex: 1 !important;
          padding: 14px 16px !important;
          background: linear-gradient(135deg, #059669 0%, #047857 100%) !important;
          color: white !important;
          border: none !important;
          border-radius: 10px !important;
          font-size: 14px !important;
          font-weight: 600 !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3) !important;
        }

        .print-receipt-btn:hover {
          background: linear-gradient(135deg, #047857 0%, #065f46 100%) !important;
          transform: translateY(-1px) !important;
          box-shadow: 0 6px 16px rgba(5, 150, 105, 0.4) !important;
        }

        .download-invoice-btn {
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 8px !important;
          flex: 1 !important;
          padding: 14px 16px !important;
          background: linear-gradient(135deg, #f97316 0%, #ea580c 100%) !important;
          color: white !important;
          border: none !important;
          border-radius: 10px !important;
          font-size: 14px !important;
          font-weight: 600 !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3) !important;
        }

        .download-invoice-btn:hover {
          background: linear-gradient(135deg, #ea580c 0%, #dc2626 100%) !important;
          transform: translateY(-1px) !important;
          box-shadow: 0 6px 16px rgba(249, 115, 22, 0.4) !important;
        }

        .close-success-btn {
          margin-top: 20px !important;
          padding: 12px 24px !important;
          background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%) !important;
          color: white !important;
          border: none !important;
          border-radius: 8px !important;
          cursor: pointer !important;
          font-size: 14px !important;
          font-weight: 500 !important;
          transition: all 0.2s ease !important;
        }

        .close-success-btn:hover {
          background: linear-gradient(135deg, #4b5563 0%, #374151 100%) !important;
          transform: translateY(-1px) !important;
        }

        /* Mobile Responsive for Success Message */
        @media (max-width: 640px) {
          .success-overlay {
            padding: 15px !important;
          }
          
          .success-message {
            padding: 30px 20px !important;
            max-width: 95vw !important;
            min-width: 280px !important;
          }
          
          .success-message h3 {
            font-size: 20px !important;
          }
          
          .success-message p {
            font-size: 14px !important;
          }
          
          .download-invoice-btn {
            padding: 12px 16px !important;
            font-size: 13px !important;
          }
        }

        /* Tablet Responsive for Success Message */
        @media (min-width: 641px) and (max-width: 1024px) {
          .success-message {
            max-width: 400px !important;
            padding: 35px !important;
          }
        }

        /* Header - Fixed */
        .header {
          background: white;
          border-bottom: 1px solid #e5e7eb;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          flex-shrink: 0;
          z-index: 10;
        }

        .header-container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 20px;
        }

        .restaurant-info {
          display: flex;
          align-items: center;
          margin-bottom: 20px;
        }

        .logo {
          width: 40px;
          height: 40px;
          background: rgba(249, 115, 22, 0.1);
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-right: 12px;
          color: #f97316;
        }

        .restaurant-name {
          font-size: 24px;
          font-weight: 700;
          color: #111827;
          margin-bottom: 4px;
        }

        .restaurant-tagline {
          color: #6b7280;
          font-size: 14px;
        }

        /* NEW: Table status styling */
        .table-status.available {
          color: #10b981;
          font-weight: 600;
        }

        .table-status.reserved {
          color: #f59e0b;
          font-weight: 600;
        }

        .status-badge {
          display: inline-block;
          padding: 2px 8px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
          margin-left: 8px;
        }

        .status-badge.available {
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
        }

        .status-badge.reserved {
          background: rgba(245, 158, 11, 0.1);
          color: #f59e0b;
        }

        .search-section {
          display: flex;
          gap: 16px;
          align-items: center;
        }

        .search-box {
          position: relative;
          flex: 1;
        }

        .search-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
          pointer-events: none;
        }

        .search-input {
          width: 100%;
          padding: 12px 12px 12px 40px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          outline: none;
          background: white;
        }

        .search-input:focus {
          border-color: #f97316;
          box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        .category-dropdown {
          padding: 12px 16px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          background: white;
          min-width: 150px;
          outline: none;
          cursor: pointer;
        }

        .category-dropdown:focus {
          border-color: #f97316;
          box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        /* Floating Cart Button */
        .floating-cart {
          position: fixed;
          bottom: 20px;
          right: 20px;
          width: 60px;
          height: 60px;
          background: #f97316;
          color: white;
          border: none;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
          cursor: pointer;
          z-index: 100;
          transition: transform 0.2s ease;
        }

        .floating-cart:hover {
          transform: scale(1.1);
        }

        .cart-count {
          position: absolute;
          top: -5px;
          right: -5px;
          background: #dc2626;
          color: white;
          border-radius: 50%;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 12px;
          font-weight: bold;
        }

        /* Main Content - Scrollable */
        .main-content {
          flex: 1;
          overflow-y: auto;
          -webkit-overflow-scrolling: touch;
        }

        .content-container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 20px;
        }

        /* Table Info Banner */
        .table-info-banner {
          background: rgba(255, 126, 71, 0.1);
          border: 1px solid rgba(255, 126, 71, 0.2);
          border-radius: 12px;
          padding: 16px 20px;
          margin-bottom: 24px;
        }

        .table-info-content {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .table-info-text {
          display: flex;
          flex-direction: column;
        }

        .table-info-title {
          font-size: 18px;
          font-weight: 600;
          color: #ff7e47;
          margin: 0;
        }

        .table-info-subtitle {
          font-size: 14px;
          color: #666;
          margin: 0;
        }

        .results-info {
          text-align: center;
          margin-bottom: 30px;
          color: #6b7280;
          font-size: 14px;
          font-weight: 500;
        }

        /* Menu Grid */
        .menu-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
          gap: 20px;
          margin-bottom: 40px;
        }

        .menu-card {
          background: white;
          border-radius: 12px;
          overflow: hidden;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .menu-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .card-image {
          width: 100%;
          height: 200px;
          overflow: hidden;
        }

        .card-image img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          transition: transform 0.3s ease;
        }

        .menu-card:hover .card-image img {
          transform: scale(1.05);
        }

        .card-content {
          padding: 16px;
        }

        .card-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 8px;
          gap: 10px;
        }

        .product-name {
          font-size: 16px;
          font-weight: 600;
          color: #111827;
          flex: 1;
          line-height: 1.3;
        }

        .product-price {
          font-size: 16px;
          font-weight: 700;
          color: #f97316;
          flex-shrink: 0;
        }

        .category-tag {
          display: inline-block;
          background: rgba(249, 115, 22, 0.1);
          color: #f97316;
          font-size: 11px;
          padding: 4px 8px;
          border-radius: 12px;
          font-weight: 500;
          margin-bottom: 8px;
        }

        .product-description {
          font-size: 13px;
          color: #6b7280;
          line-height: 1.4;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
          margin-bottom: 12px;
        }

        /* Cart Controls */
        .cart-controls {
          margin-top: 12px;
        }

        .add-to-cart-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          width: 100%;
          padding: 10px;
          background: #f97316;
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: background 0.2s ease;
        }

        .add-to-cart-btn:hover {
          background: #ea580c;
        }

        .quantity-controls {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
        }

        .quantity-btn {
          width: 32px;
          height: 32px;
          border: 1px solid #d1d5db;
          background: white;
          border-radius: 6px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .quantity-btn:hover {
          background: #f97316;
          color: white;
          border-color: #f97316;
        }

        .quantity {
          font-weight: 600;
          font-size: 16px;
          min-width: 30px;
          text-align: center;
        }

        /* NEW: Reserved message styling */
        .reserved-message {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          margin-top: 12px;
          padding: 10px;
          background: rgba(245, 158, 11, 0.1);
          color: #f59e0b;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
        }

        /* Modal Styles */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .cart-modal, .checkout-modal {
          background: white;
          border-radius: 12px;
          max-width: 500px;
          width: 100%;
          max-height: 90vh;
          display: flex;
          flex-direction: column;
        }

        .cart-header, .checkout-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px;
          border-bottom: 1px solid #e5e7eb;
        }

        .cart-header h3, .checkout-header h3 {
          font-size: 20px;
          font-weight: 600;
          color: #111827;
        }

        .close-btn {
          background: none;
          border: none;
          cursor: pointer;
          color: #6b7280;
          padding: 4px;
        }

        .close-btn:hover {
          color: #111827;
        }

        .cart-content, .checkout-content {
          flex: 1;
          overflow-y: auto;
          padding: 20px;
        }

        .empty-cart {
          text-align: center;
          padding: 40px 20px;
          color: #6b7280;
        }

        .cart-items {
          margin-bottom: 20px;
        }

        .cart-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 0;
          border-bottom: 1px solid #f3f4f6;
        }

        .cart-item:last-child {
          border-bottom: none;
        }

        .cart-item-image {
          width: 50px;
          height: 50px;
          object-fit: cover;
          border-radius: 6px;
        }

        .cart-item-details {
          flex: 1;
        }

        .cart-item-details h4 {
          font-size: 14px;
          font-weight: 600;
          color: #111827;
          margin-bottom: 4px;
        }

        .cart-item-details p {
          font-size: 12px;
          color: #6b7280;
        }

        .cart-item-controls {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .cart-item-controls button {
          width: 28px;
          height: 28px;
          border: 1px solid #d1d5db;
          background: white;
          border-radius: 4px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
        }

        .cart-item-controls button:hover {
          background: #f97316;
          color: white;
          border-color: #f97316;
        }

        .cart-item-controls span {
          font-weight: 600;
          min-width: 20px;
          text-align: center;
        }

        .cart-item-total {
          font-weight: 600;
          color: #f97316;
          min-width: 60px;
          text-align: right;
        }

        .cart-summary, .summary-totals {
          border-top: 1px solid #e5e7eb;
          padding-top: 16px;
        }

        .summary-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 8px;
          font-size: 14px;
        }

        .summary-row.total {
          font-weight: 700;
          font-size: 16px;
          color: #111827;
          border-top: 1px solid #e5e7eb;
          padding-top: 8px;
          margin-top: 8px;
        }

        .cart-footer, .checkout-footer {
          padding: 20px;
          border-top: 1px solid #e5e7eb;
        }

        .checkout-btn, .place-order-btn {
          width: 100%;
          padding: 14px;
          background: #f97316;
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: background 0.2s ease;
        }

        .checkout-btn:hover, .place-order-btn:hover {
          background: #ea580c;
        }

        .place-order-btn:disabled {
          background: #d1d5db;
          cursor: not-allowed;
        }

        /* Checkout Specific Styles */
        .customer-details, .order-summary, .payment-info {
          margin-bottom: 24px;
        }

        .customer-details h4, .order-summary h4 {
          font-size: 16px;
          font-weight: 600;
          color: #111827;
          margin-bottom: 16px;
        }

        .form-group {
          margin-bottom: 16px;
        }

        .form-group label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 500;
          color: #374151;
          margin-bottom: 6px;
        }

        .form-group input, .form-group select {
          width: 100%;
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
          outline: none;
        }

        .form-group input:focus, .form-group select:focus {
          border-color: #f97316;
          box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        .summary-items {
          margin-bottom: 16px;
        }

        .summary-item {
          display: flex;
          justify-content: space-between;
          margin-bottom: 8px;
          font-size: 14px;
        }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px;
          background: #f3f4f6;
          border-radius: 6px;
          font-size: 14px;
          color: #374151;
        }

        /* Empty State */
        .empty-state {
          text-align: center;
          padding: 60px 20px;
          color: #6b7280;
        }

        .empty-state h3 {
          color: #111827;
          margin-bottom: 8px;
          font-size: 18px;
        }

        .empty-state p {
          margin-bottom: 20px;
        }

        .clear-filters {
          background: #f97316;
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
        }

        .clear-filters:hover {
          background: #ea580c;
        }

        /* Footer */
       .footer {
  padding: 16px;
  background-color: #f8f8f8; /* Light background for contrast */
  text-align: center;
  border-top: 1px solid #ddd; /* Optional: visual separation */
  width: 100%;
  box-sizing: border-box;
  position: relative; /* Ensure footer respects parent container */
  z-index: 10; /* Ensure footer is above most elements but below modals */
}

.footer-sub {
  font-size: 0.875rem; /* Smaller font size for mobile */
  color: #666;
  margin-top: 8px;
}

/* Ensure the parent container has enough padding to keep footer visible */
.scrollable-content { /* Adjust class name based on your actual container */
  padding-bottom: 80px; /* Enough space for footer and floating button */
  min-height: 100vh; /* Ensure content takes full viewport height */
  box-sizing: border-box;
}

        /* Mobile Responsive */
        @media (max-width: 640px) {
          .header-container {
            padding: 16px;
          }

          .restaurant-name {
            font-size: 20px;
          }

          .search-section {
            flex-direction: column;
            gap: 12px;
          }

          .category-dropdown {
            width: 100%;
            min-width: auto;
          }

          .content-container {
            padding: 16px;
          }

          .menu-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .card-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
          }

          .floating-cart {
            bottom: 80px;
          }

          .cart-modal, .checkout-modal {
            margin: 10px;
            max-height: calc(100vh - 20px);
          }

          .success-message {
            margin: 10px;
            padding: 30px 20px;
          }

          .download-invoice-btn {
            padding: 10px 16px;
            font-size: 13px;
          }
        }

        /* Tablet */
        @media (min-width: 641px) and (max-width: 1024px) {
          .menu-grid {
            grid-template-columns: repeat(2, 1fr);
          }
        }

        /* Large Desktop */
        @media (min-width: 1200px) {
          .menu-grid {
            grid-template-columns: repeat(4, 1fr);
          }
        }

        /* Custom Scrollbar */
        .main-content::-webkit-scrollbar, .cart-content::-webkit-scrollbar, .checkout-content::-webkit-scrollbar {
          width: 8px;
        }

        .main-content::-webkit-scrollbar-track, .cart-content::-webkit-scrollbar-track, .checkout-content::-webkit-scrollbar-track {
          background: #f1f5f9;
        }

        .main-content::-webkit-scrollbar-thumb, .cart-content::-webkit-scrollbar-thumb, .checkout-content::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 4px;
        }

        .main-content::-webkit-scrollbar-thumb:hover, .cart-content::-webkit-scrollbar-thumb:hover, .checkout-content::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `})]})},Fae=()=>{const e=sn(),t=()=>{e("/login")};return n.jsx("div",{className:"privacy-container",children:n.jsxs("div",{className:"privacy-policy-card",children:[n.jsx("div",{className:"privacy-header",children:n.jsx("button",{type:"button",className:"back-to-login",onClick:t,children:" Back to Login"})}),n.jsxs("div",{className:"privacy-content",children:[n.jsx("h2",{style:{textAlign:"center"},children:n.jsx("b",{children:"PRIVACY POLICY"})}),n.jsx("p",{children:"Effective date: 2025-06-26"}),n.jsxs("p",{children:["1. ",n.jsx("b",{children:"Introduction"})]}),n.jsxs("p",{children:["Welcome to ",n.jsx("b",{children:" Hotel Virat"}),"."]}),n.jsxs("p",{children:[n.jsx("b",{children:"Hotel Virat"}),' ("us", "we", or "our") operates ',n.jsx("b",{children:"https://hotelvirat.com"})," (hereinafter referred to as"," ",n.jsx("b",{children:'"Service"'}),")."]}),n.jsxs("p",{children:["Our Privacy Policy governs your visit to ",n.jsx("b",{children:"https://hotelvirat.com"}),", and explains how we collect, safeguard and disclose information that results from your use of our Service."]}),n.jsx("p",{children:"We use your data to provide and improve Service. By using Service, you agree to the collection and use of information in accordance with this policy. Unless otherwise defined in this Privacy Policy, the terms used in this Privacy Policy have the same meanings as in our Terms and Conditions."}),n.jsxs("p",{children:["Our Terms and Conditions (",n.jsx("b",{children:'"Terms"'}),") govern all use of our Service and together with the Privacy Policy constitutes your agreement with us (",n.jsx("b",{children:'"agreement"'}),")."]}),n.jsxs("p",{children:["2. ",n.jsx("b",{children:"Definitions"})]}),n.jsxs("p",{children:[n.jsx("b",{children:"SERVICE"})," means the https://hotelvirat.comwebsite operated by Hotel Virat."]}),n.jsxs("p",{children:[n.jsx("b",{children:"PERSONAL DATA"})," means data about a living individual who can be identified from those data (or from those and other information either in our possession or likely to come into our possession)."]}),n.jsxs("p",{children:[n.jsx("b",{children:"USAGE DATA"})," is data collected automatically either generated by the use of Service or from Service infrastructure itself (for example, the duration of a page visit)."]}),n.jsxs("p",{children:[n.jsx("b",{children:"COOKIES"})," are small files stored on your device (computer or mobile device)."]}),n.jsxs("p",{children:[n.jsx("b",{children:"DATA CONTROLLER"})," means a natural or legal person who (either alone or jointly or in common with other persons) determines the purposes for which and the manner in which any personal data are, or are to be, processed. For the purpose of this Privacy Policy, we are a Data Controller of your data."]}),n.jsxs("p",{children:[n.jsx("b",{children:"DATA PROCESSORS (OR SERVICE PROVIDERS)"})," means any natural or legal person who processes the data on behalf of the Data Controller. We may use the services of various Service Providers in order to process your data more effectively."]}),n.jsxs("p",{children:[n.jsx("b",{children:"DATA SUBJECT"})," is any living individual who is the subject of Personal Data."]}),n.jsxs("p",{children:[n.jsx("b",{children:"THE USER"})," is the individual using our Service. The User corresponds to the Data Subject, who is the subject of Personal Data."]}),n.jsxs("p",{children:["3. ",n.jsx("b",{children:"Information Collection and Use"})]}),n.jsx("p",{children:"We collect several different types of information for various purposes to provide and improve our Service to you."}),n.jsxs("p",{children:["4. ",n.jsx("b",{children:"Types of Data Collected"})]}),n.jsx("p",{children:n.jsx("b",{children:"Personal Data"})}),n.jsxs("p",{children:["While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you (",n.jsx("b",{children:'"Personal Data"'}),"). Personally identifiable information may include, but is not limited to:"]}),n.jsx("p",{children:"0.1. Email address"}),n.jsx("p",{children:"0.2. First name and last name"}),n.jsx("p",{children:"0.3. Phone number"}),n.jsx("p",{children:"0.4. Address, Country, State, Province, ZIP/Postal code, City"}),n.jsx("p",{children:"0.5. Cookies and Usage Data"}),n.jsx("p",{children:"We may use your Personal Data to contact you with newsletters, marketing or promotional materials and other information that may be of interest to you. You may opt out of receiving any, or all, of these communications from us by following the unsubscribe link."}),n.jsx("p",{children:n.jsx("b",{children:"Usage Data"})}),n.jsxs("p",{children:["We may also collect information that your browser sends whenever you visit our Service or when you access Service by or through any device (",n.jsx("b",{children:'"Usage Data"'}),")."]}),n.jsx("p",{children:"This Usage Data may include information such as your computer's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages, unique device identifiers and other diagnostic data."}),n.jsx("p",{children:"When you access Service with a device, this Usage Data may include information such as the type of device you use, your device unique ID, the IP address of your device, your device operating system, the type of Internet browser you use, unique device identifiers and other diagnostic data."}),n.jsx("p",{children:n.jsx("b",{children:"Tracking Cookies Data"})}),n.jsx("p",{children:"We use cookies and similar tracking technologies to track the activity on our Service and we hold certain information."}),n.jsx("p",{children:"Cookies are files with a small amount of data which may include an anonymous unique identifier. Cookies are sent to your browser from a website and stored on your device. Other tracking technologies are also used such as beacons, tags and scripts to collect and track information and to improve and analyze our Service."}),n.jsx("p",{children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Service."}),n.jsx("p",{children:"Examples of Cookies we use:"}),n.jsxs("p",{children:["0.1. ",n.jsx("b",{children:"Session Cookies:"})," We use Session Cookies to operate our Service."]}),n.jsxs("p",{children:["0.2. ",n.jsx("b",{children:"Preference Cookies:"})," We use Preference Cookies to remember your preferences and various settings."]}),n.jsxs("p",{children:["0.3. ",n.jsx("b",{children:"Security Cookies:"})," We use Security Cookies for security purposes."]}),n.jsxs("p",{children:["0.4. ",n.jsx("b",{children:"Advertising Cookies:"})," Advertising Cookies are used to serve you with advertisements that may be relevant to you and your interests."]}),n.jsx("p",{children:n.jsx("b",{children:"Other Data"})}),n.jsxs("p",{children:["While using our Service, we may also collect the following information: sex, age, date of birth, place of birth, passport details, citizenship, registration at place of residence and actual address, telephone number (work, mobile), details of documents on education, qualification, professional training, employment agreements"," ",", information on bonuses and compensation, information on marital status, family members, social security (or other taxpayer identification) number, office location and other data."]}),n.jsxs("p",{children:["5. ",n.jsx("b",{children:"Use of Data"})]}),n.jsx("p",{children:"Hotel Virat uses the collected data for various purposes:"}),n.jsx("p",{children:"0.1. to provide and maintain our Service;"}),n.jsx("p",{children:"0.2. to notify you about changes to our Service;"}),n.jsx("p",{children:"0.3. to allow you to participate in interactive features of our Service when you choose to do so;"}),n.jsx("p",{children:"0.4. to provide customer support;"}),n.jsx("p",{children:"0.5. to gather analysis or valuable information so that we can improve our Service;"}),n.jsx("p",{children:"0.6. to monitor the usage of our Service;"}),n.jsx("p",{children:"0.7. to detect, prevent and address technical issues;"}),n.jsx("p",{children:"0.8. to fulfil any other purpose for which you provide it;"}),n.jsx("p",{children:"0.9. to carry out our obligations and enforce our rights arising from any contracts entered into between you and us, including for billing and collection;"}),n.jsx("p",{children:"0.10. to provide you with notices about your account and/or subscription, including expiration and renewal notices, email-instructions, etc.;"}),n.jsx("p",{children:"0.11. to provide you with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless you have opted not to receive such information;"}),n.jsx("p",{children:"0.12. in any other way we may describe when you provide the information;"}),n.jsx("p",{children:"0.13. for any other purpose with your consent."}),n.jsxs("p",{children:["6. ",n.jsx("b",{children:"Retention of Data"})]}),n.jsx("p",{children:"We will retain your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."}),n.jsx("p",{children:"We will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period, except when this data is used to strengthen the security or to improve the functionality of our Service, or we are legally obligated to retain this data for longer time periods."}),n.jsxs("p",{children:["7. ",n.jsx("b",{children:"Transfer of Data"})]}),n.jsx("p",{children:"Your information, including Personal Data, may be transferred to  and maintained on  computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ from those of your jurisdiction."}),n.jsx("p",{children:"If you are located outside India and choose to provide information to us, please note that we transfer the data, including Personal Data, to India and process it there."}),n.jsx("p",{children:"Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer."}),n.jsx("p",{children:"Hotel Virat will take all the steps reasonably necessary to ensure that your data is treated securely and in accordance with this Privacy Policy and no transfer of your Personal Data will take place to an organisation or a country unless there are adequate controls in place including the security of your data and other personal information."}),n.jsxs("p",{children:["8. ",n.jsx("b",{children:"Disclosure of Data"})]}),n.jsx("p",{children:"We may disclose personal information that we collect, or you provide:"}),n.jsxs("p",{children:["0.1. ",n.jsx("b",{children:"Business Transaction."})]}),n.jsx("p",{children:"If we or our subsidiaries are involved in a merger, acquisition or asset sale, your Personal Data may be transferred."}),n.jsxs("p",{children:["0.2. ",n.jsx("b",{children:"Other cases. We may disclose your information also:"})]}),n.jsx("p",{children:"0.2.1. to our subsidiaries and affiliates;"}),n.jsx("p",{children:"0.2.2. to contractors, service providers, and other third parties we use to support our business;"}),n.jsx("p",{children:"0.2.3. to fulfill the purpose for which you provide it;"}),n.jsx("p",{children:"0.2.4. for the purpose of including your company's logo on our website;"}),n.jsx("p",{children:"0.2.5. for any other purpose disclosed by us when you provide the information;"}),n.jsx("p",{children:"0.2.6. with your consent in any other cases;"}),n.jsx("p",{children:"0.2.7. if we believe disclosure is necessary or appropriate to protect the rights, property, or safety of the Company, our customers, or others."}),n.jsxs("p",{children:["9. ",n.jsx("b",{children:"Security of Data"})]}),n.jsx("p",{children:"The security of your data is important to us but remember that no method of transmission over the Internet or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security."}),n.jsxs("p",{children:["10. ",n.jsx("b",{children:"Your Data Protection Rights Under General Data Protection Regulation (GDPR)"})]}),n.jsx("p",{children:"If you are a resident of the European Union (EU) and European Economic Area (EEA), you have certain data protection rights, covered by GDPR."}),n.jsx("p",{children:"We aim to take reasonable steps to allow you to correct, amend, delete, or limit the use of your Personal Data."}),n.jsxs("p",{children:[" ","If you wish to be informed what Personal Data we hold about you and if you want it to be removed from our systems, please email us at ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]}),n.jsx("p",{children:"In certain circumstances, you have the following data protection rights:"}),n.jsx("p",{children:"0.1. the right to access, update or to delete the information we have on you;"}),n.jsx("p",{children:"0.2. the right of rectification. You have the right to have your information rectified if that information is inaccurate or incomplete;"}),n.jsx("p",{children:"0.3. the right to object. You have the right to object to our processing of your Personal Data;"}),n.jsx("p",{children:"0.4. the right of restriction. You have the right to request that we restrict the processing of your personal information;"}),n.jsx("p",{children:"0.5. the right to data portability. You have the right to be provided with a copy of your Personal Data in a structured, machine-readable and commonly used format;"}),n.jsx("p",{children:"0.6. the right to withdraw consent. You also have the right to withdraw your consent at any time where we rely on your consent to process your personal information;"}),n.jsx("p",{children:"Please note that we may ask you to verify your identity before responding to such requests. Please note, we may not able to provide Service without some necessary data."}),n.jsx("p",{children:"You have the right to complain to a Data Protection Authority about our collection and use of your Personal Data. For more information, please contact your local data protection authority in the European Economic Area (EEA)."}),n.jsxs("p",{children:["11. ",n.jsx("b",{children:"Your Data Protection Rights under the California Privacy Protection Act (CalOPPA)"})]}),n.jsx("p",{children:"CalOPPA is the first state law in the nation to require commercial websites and online services to post a privacy policy. The law's reach stretches well beyond California to require a person or company in the United States (and conceivable the world) that operates websites collecting personally identifiable information from California consumers to post a conspicuous privacy policy on its website stating exactly the information being collected and those individuals with whom it is being shared, and to comply with this policy."}),n.jsx("p",{children:"According to CalOPPA we agree to the following:"}),n.jsx("p",{children:"0.1. users can visit our site anonymously;"}),n.jsx("p",{children:'0.2. our Privacy Policy link includes the word "Privacy", and can easily be found on the home page of our website;'}),n.jsx("p",{children:"0.3. users will be notified of any privacy policy changes on our Privacy Policy Page;"}),n.jsxs("p",{children:["0.4. users are able to change their personal information by emailing us at ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]}),n.jsx("p",{children:'Our Policy on "Do Not Track" Signals:'}),n.jsx("p",{children:"We honor Do Not Track signals and do not track, plant cookies, or use advertising when a Do Not Track browser mechanism is in place. Do Not Track is a preference you can set in your web browser to inform websites that you do not want to be tracked."}),n.jsx("p",{children:"You can enable or disable Do Not Track by visiting the Preferences or Settings page of your web browser."}),n.jsxs("p",{children:["12. ",n.jsx("b",{children:"Your Data Protection Rights under the California Consumer Privacy Act (CCPA)"})]}),n.jsx("p",{children:"If you are a California resident, you are entitled to learn what data we collect about you, ask to delete your data and not to sell (share) it. To exercise your data protection rights, you can make certain requests and ask us:"}),n.jsx("p",{children:n.jsx("b",{children:"0.1. What personal information we have about you. If you make this request, we will return to you:"})}),n.jsx("p",{children:"0.0.1. The categories of personal information we have collected about you."}),n.jsx("p",{children:"0.0.2. The categories of sources from which we collect your personal information."}),n.jsx("p",{children:"0.0.3. The business or commercial purpose for collecting or selling your personal information."}),n.jsx("p",{children:"0.0.4. The categories of third parties with whom we share personal information."}),n.jsx("p",{children:"0.0.5. The specific pieces of personal information we have collected about you."}),n.jsx("p",{children:"0.0.6. A list of categories of personal information that we have sold, along with the category of any other company we sold it to. If we have not sold your personal information, we will inform you of that fact."}),n.jsx("p",{children:"0.0.7. A list of categories of personal information that we have disclosed for a business purpose, along with the category of any other company we shared it with."}),n.jsx("p",{children:"Please note, you are entitled to ask us to provide you with this information up to two times in a rolling twelve-month period. When you make this request, the information provided may be limited to the personal information we collected about you in the previous 12 months."}),n.jsx("p",{children:n.jsx("b",{children:"0.2. To delete your personal information. If you make this request, we will delete the personal information we hold about you as of the date of your request from our records and direct any service providers to do the same. In some cases, deletion may be accomplished through de-identification of the information. If you choose to delete your personal information, you may not be able to use certain functions that require your personal information to operate."})}),n.jsx("p",{children:n.jsx("b",{children:`0.3. To stop selling your personal information. We don't sell or rent your personal information to any third parties for any purpose. We do not sell your personal information for monetary consideration. However, under some circumstances, a transfer of personal information to a third party, or within our family of companies, without monetary consideration may be considered a "sale" under California law. You are the only owner of your Personal Data and can request disclosure or deletion at any time.`})}),n.jsx("p",{children:"If you submit a request to stop selling your personal information, we will stop making such transfers."}),n.jsx("p",{children:"Please note, if you ask us to delete or stop selling your data, it may impact your experience with us, and you may not be able to participate in certain programs or membership services which require the usage of your personal information to function. But in no circumstances, we will discriminate against you for exercising your rights."}),n.jsxs("p",{children:["To exercise your California data protection rights described above, please send your request(s) by email:"," ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]}),n.jsx("p",{children:"Your data protection rights, described above, are covered by the CCPA, short for the California Consumer Privacy Act. To find out more, visit the official California Legislative Information website. The CCPA took effect on 01/01/2020."}),n.jsxs("p",{children:["13. ",n.jsx("b",{children:"Service Providers"})]}),n.jsxs("p",{children:["We may employ third party companies and individuals to facilitate our Service (",n.jsx("b",{children:'"Service Providers"'}),"), provide Service on our behalf, perform Service-related services or assist us in analysing how our Service is used."]}),n.jsx("p",{children:"These third parties have access to your Personal Data only to perform these tasks on our behalf and are obligated not to disclose or use it for any other purpose."}),n.jsxs("p",{children:["14. ",n.jsx("b",{children:"Analytics"})]}),n.jsx("p",{children:"We may use third-party Service Providers to monitor and analyze the use of our Service."}),n.jsxs("p",{children:["15. ",n.jsx("b",{children:"CI/CD tools"})]}),n.jsx("p",{children:"We may use third-party Service Providers to automate the development process of our Service."}),n.jsxs("p",{children:["16. ",n.jsx("b",{children:"Behavioral Remarketing"})]}),n.jsx("p",{children:"We may use remarketing services to advertise on third party websites to you after you visited our Service. We and our third-party vendors use cookies to inform, optimise and serve ads based on your past visits to our Service."}),n.jsxs("p",{children:["17. ",n.jsx("b",{children:"Payments"})]}),n.jsx("p",{children:"We may provide paid products and/or services within Service. In that case, we use third-party services for payment processing (e.g. payment processors)."}),n.jsx("p",{children:"We will not store or collect your payment card details. That information is provided directly to our third-party payment processors whose use of your personal information is governed by their Privacy Policy. These payment processors adhere to the standards set by PCI-DSS as managed by the PCI Security Standards Council, which is a joint effort of brands like Visa, Mastercard, American Express and Discover. PCI-DSS requirements help ensure the secure handling of payment information."}),n.jsxs("p",{children:["18. ",n.jsx("b",{children:"Links to Other Sites"})]}),n.jsx("p",{children:"Our Service may contain links to other sites that are not operated by us. If you click a third party link, you will be directed to that third party's site. We strongly advise you to review the Privacy Policy of every site you visit."}),n.jsx("p",{children:"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."}),n.jsxs("p",{children:["19. ",n.jsx("b",{children:"Children's Privacy"})]}),n.jsxs("p",{children:["Our Services are not intended for use by children under the age of 18 (",n.jsx("b",{children:'"Child"'})," or ",n.jsx("b",{children:'"Children"'}),")."]}),n.jsx("p",{children:"We do not knowingly collect personally identifiable information from Children under 18. If you become aware that a Child has provided us with Personal Data, please contact us. If we become aware that we have collected Personal Data from Children without verification of parental consent, we take steps to remove that information from our servers."}),n.jsxs("p",{children:["20. ",n.jsx("b",{children:"Changes to This Privacy Policy"})]}),n.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),n.jsx("p",{children:'We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update "effective date" at the top of this Privacy Policy.'}),n.jsx("p",{children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."}),n.jsxs("p",{children:["21. ",n.jsx("b",{children:"Contact Us"})]}),n.jsxs("p",{children:["If you have any questions about this Privacy Policy, please contact us by email:"," ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]})]})]})})},Lae=()=>{const e=sn(),t=()=>{e("/login")};return n.jsx("div",{className:"privacy-container",children:n.jsxs("div",{className:"privacy-policy-card",children:[n.jsx("div",{className:"privacy-header",children:n.jsx("button",{type:"button",className:"back-to-login",onClick:t,children:" Back to Login"})}),n.jsxs("div",{className:"privacy-content",children:[n.jsx("h2",{style:{textAlign:"center"},children:n.jsx("b",{children:"TERMS AND CONDITIONS"})}),n.jsx("p",{children:"Last updated: 2025-06-26"}),n.jsxs("p",{children:["1. ",n.jsx("b",{children:"Introduction"})]}),n.jsxs("p",{children:["Welcome to ",n.jsx("b",{children:"Hotel Virat"}),' ("Company", "we", "our", "us")!']}),n.jsxs("p",{children:['These Terms of Service ("Terms", "Terms of Service") govern your use of our website located at'," ",n.jsx("b",{children:"https://hotelvirat.com"}),' (together or individually "Service") operated by ',n.jsx("b",{children:"Hotel Virat"}),"."]}),n.jsx("p",{children:"Our Privacy Policy also governs your use of our Service and explains how we collect, safeguard and disclose information that results from your use of our web pages."}),n.jsx("p",{children:'Your agreement with us includes these Terms and our Privacy Policy ("Agreements"). You acknowledge that you have read and understood Agreements, and agree to be bound of them.'}),n.jsxs("p",{children:["If you do not agree with (or cannot comply with) Agreements, then you may not use the Service, but please let us know by emailing at ",n.jsx("b",{children:"infohotelvirat@gmail.com"})," so we can try to find a solution. These Terms apply to all visitors, users and others who wish to access or use Service."]}),n.jsxs("p",{children:["2. ",n.jsx("b",{children:"Communications"})]}),n.jsx("p",{children:"By using our Service, you agree to subscribe to newsletters, marketing or promotional materials and other information we may send. However, you may opt out of receiving any, or all, of these communications from us by following the unsubscribe link or by emailing at infohotelvirat@gmail.com."}),n.jsxs("p",{children:["3. ",n.jsx("b",{children:"Purchases"})]}),n.jsx("p",{children:'If you wish to purchase any product or service made available through Service ("Purchase"), you may be asked to supply certain information relevant to your Purchase including but not limited to, your credit or debit card number, the expiration date of your card, your billing address, and your shipping information.'}),n.jsx("p",{children:"You represent and warrant that: (i) you have the legal right to use any card(s) or other payment method(s) in connection with any Purchase; and that (ii) the information you supply to us is true, correct and complete."}),n.jsx("p",{children:"We may employ the use of third party services for the purpose of facilitating payment and the completion of Purchases. By submitting your information, you grant us the right to provide the information to these third parties subject to our Privacy Policy."}),n.jsx("p",{children:"We reserve the right to refuse or cancel your order at any time for reasons including but not limited to: product or service availability, errors in the description or price of the product or service, error in your order or other reasons."}),n.jsx("p",{children:"We reserve the right to refuse or cancel your order if fraud or an unauthorized or illegal transaction is suspected."}),n.jsxs("p",{children:["4. ",n.jsx("b",{children:"Contests, Sweepstakes and Promotions"})]}),n.jsx("p",{children:'Any contests, sweepstakes or other promotions (collectively, "Promotions") made available through Service may be governed by rules that are separate from these Terms of Service. If you participate in any Promotions, please review the applicable rules as well as our Privacy Policy. If the rules for a Promotion conflict with these Terms of Service, Promotion rules will apply.'}),n.jsxs("p",{children:["5. ",n.jsx("b",{children:"Refunds"})]}),n.jsxs("p",{children:[n.jsx("b",{children:"NO REFUND POLICY:"})," All payments made for products, services, orders, reservations, events, and any other transactions through Hotel Virat are ",n.jsx("b",{children:"strictly non-refundable"}),". We do not issue refunds for any contracts, purchases, or services under any circumstances. Please review your order details carefully before confirming payment as all sales are final."]}),n.jsxs("p",{children:["6. ",n.jsx("b",{children:"Content"})]}),n.jsx("p",{children:"Content found on or through this Service are the property of Hotel Virat or used with permission. You may not distribute, modify, transmit, reuse, download, repost, copy, or use said Content, whether in whole or in part, for commercial purposes or for personal gain, without express advance written permission from us."}),n.jsxs("p",{children:["7. ",n.jsx("b",{children:"Prohibited Uses"})]}),n.jsx("p",{children:"You may use Service only for lawful purposes and in accordance with Terms. You agree not to use Service:"}),n.jsx("p",{children:"0.1. In any way that violates any applicable national or international law or regulation."}),n.jsx("p",{children:"0.2. For the purpose of exploiting, harming, or attempting to exploit or harm minors in any way by exposing them to inappropriate content or otherwise."}),n.jsx("p",{children:'0.3. To transmit, or procure the sending of, any advertising or promotional material, including any "junk mail", "chain letter," "spam," or any other similar solicitation.'}),n.jsx("p",{children:"0.4. To impersonate or attempt to impersonate Company, a Company employee, another user, or any other person or entity."}),n.jsx("p",{children:"0.5. In any way that infringes upon the rights of others, or in any way is illegal, threatening, fraudulent, or harmful, or in connection with any unlawful, illegal, fraudulent, or harmful purpose or activity."}),n.jsx("p",{children:"0.6. To engage in any other conduct that restricts or inhibits anyone's use or enjoyment of Service, or which, as determined by us, may harm or offend Company or users of Service or expose them to liability."}),n.jsx("p",{children:"Additionally, you agree not to:"}),n.jsx("p",{children:"0.1. Use Service in any manner that could disable, overburden, damage, or impair Service or interfere with any other party's use of Service, including their ability to engage in real time activities through Service."}),n.jsx("p",{children:"0.2. Use any robot, spider, or other automatic device, process, or means to access Service for any purpose, including monitoring or copying any of the material on Service."}),n.jsx("p",{children:"0.3. Use any manual process to monitor or copy any of the material on Service or for any other unauthorized purpose without our prior written consent."}),n.jsx("p",{children:"0.4. Use any device, software, or routine that interferes with the proper working of Service."}),n.jsx("p",{children:"0.5. Introduce any viruses, trojan horses, worms, logic bombs, or other material which is malicious or technologically harmful."}),n.jsx("p",{children:"0.6. Attempt to gain unauthorized access to, interfere with, damage, or disrupt any parts of Service, the server on which Service is stored, or any server, computer, or database connected to Service."}),n.jsx("p",{children:"0.7. Attack Service via a denial-of-service attack or a distributed denial-of-service attack."}),n.jsx("p",{children:"0.8. Take any action that may damage or falsify Company rating."}),n.jsx("p",{children:"0.9. Otherwise attempt to interfere with the proper working of Service."}),n.jsxs("p",{children:["8. ",n.jsx("b",{children:"Analytics"})]}),n.jsx("p",{children:"We may use third-party Service Providers to monitor and analyze the use of our Service."}),n.jsxs("p",{children:["9. ",n.jsx("b",{children:"No Use By Minors"})]}),n.jsx("p",{children:"Service is intended only for access and use by individuals at least eighteen (18) years old. By accessing or using Service, you warrant and represent that you are at least eighteen (18) years of age and with the full authority, right, and capacity to enter into this agreement and abide by all of the terms and conditions of Terms. If you are not at least eighteen (18) years old, you are prohibited from both the access and usage of Service."}),n.jsxs("p",{children:["10. ",n.jsx("b",{children:"Accounts"})]}),n.jsx("p",{children:"When you create an account with us, you guarantee that you are above the age of 18, and that the information you provide us is accurate, complete, and current at all times. Inaccurate, incomplete, or obsolete information may result in the immediate termination of your account on Service."}),n.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account and password, including but not limited to the restriction of access to your computer and/or account. You agree to accept responsibility for any and all activities or actions that occur under your account and/or password, whether your password is with our Service or a third-party service. You must notify us immediately upon becoming aware of any breach of security or unauthorized use of your account."}),n.jsx("p",{children:"You may not use as a username the name of another person or entity or that is not lawfully available for use, a name or trademark that is subject to any rights of another person or entity other than you, without appropriate authorization. You may not use as a username any name that is offensive, vulgar or obscene."}),n.jsx("p",{children:"We reserve the right to refuse service, terminate accounts, remove or edit content, or cancel orders in our sole discretion."}),n.jsxs("p",{children:["11. ",n.jsx("b",{children:"Intellectual Property"})]}),n.jsx("p",{children:"Service and its original content (excluding Content provided by users), features and functionality are and will remain the exclusive property of Hotel Virat and its licensors. Service is protected by copyright, trademark, and other laws of and foreign countries. Our trademarks may not be used in connection with any product or service without the prior written consent of Hotel Virat."}),n.jsxs("p",{children:["12. ",n.jsx("b",{children:"Copyright Policy"})]}),n.jsx("p",{children:'We respect the intellectual property rights of others. It is our policy to respond to any claim that Content posted on Service infringes on the copyright or other intellectual property rights ("Infringement") of any person or entity.'}),n.jsx("p",{children:'If you are a copyright owner, or authorized on behalf of one, and you believe that the copyrighted work has been copied in a way that constitutes copyright infringement, please submit your claim via email to infohotelvirat@gmail.com, with the subject line: "Copyright Infringement" and include in your claim a detailed description of the alleged Infringement as detailed below, under "DMCA Notice and Procedure for Copyright Infringement Claims"'}),n.jsx("p",{children:"You may be held accountable for damages (including costs and attorneys' fees) for misrepresentation or bad-faith claims on the infringement of any Content found on and/or through Service on your copyright."}),n.jsxs("p",{children:["13. ",n.jsx("b",{children:"DMCA Notice and Procedure for Copyright Infringement Claims"})]}),n.jsx("p",{children:"You may submit a notification pursuant to the Digital Millennium Copyright Act (DMCA) by providing our Copyright Agent with the following information in writing (see 17 U.S.C 512(c)(3) for further detail):"}),n.jsx("p",{children:"0.1. an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright's interest;"}),n.jsx("p",{children:"0.2. a description of the copyrighted work that you claim has been infringed, including the URL (i.e., web page address) of the location where the copyrighted work exists or a copy of the copyrighted work;"}),n.jsx("p",{children:"0.3. identification of the URL or other specific location on Service where the material that you claim is infringing is located;"}),n.jsx("p",{children:"0.4. your address, telephone number, and email address;"}),n.jsx("p",{children:"0.5. a statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent, or the law;"}),n.jsx("p",{children:"0.6. a statement by you, made under penalty of perjury, that the above information in your notice is accurate and that you are the copyright owner or authorized to act on the copyright owner's behalf."}),n.jsx("p",{children:"You can contact our Copyright Agent via email at infohotelvirat@gmail.com."}),n.jsxs("p",{children:["14. ",n.jsx("b",{children:"Error Reporting and Feedback"})]}),n.jsx("p",{children:'You may provide us either directly at infohotelvirat@gmail.com or via third party sites and tools with information and feedback concerning errors, suggestions for improvements, ideas, problems, complaints, and other matters related to our Service ("Feedback"). You acknowledge and agree that: (i) you shall not retain, acquire or assert any intellectual property right or other right, title or interest in or to the Feedback; (ii) Company may have development ideas similar to the Feedback; (iii) Feedback does not contain confidential information or proprietary information from you or any third party; and (iv) Company is not under any obligation of confidentiality with respect to the Feedback. In the event the transfer of the ownership to the Feedback is not possible due to applicable mandatory laws, you grant Company and its affiliates an exclusive, transferable, irrevocable, free-of-charge, sub-licensable, unlimited and perpetual right to use (including copy, modify, create derivative works, publish, distribute and commercialize) Feedback in any manner and for any purpose.'}),n.jsxs("p",{children:["15. ",n.jsx("b",{children:"Links To Other Web Sites"})]}),n.jsx("p",{children:"Our Service may contain links to third party web sites or services that are not owned or controlled by Hotel Virat."}),n.jsx("p",{children:"Hotel Virat has no control over, and assumes no responsibility for the content, privacy policies, or practices of any third party web sites or services. We do not warrant the offerings of any of these entities/individuals or their websites."}),n.jsx("p",{children:"YOU ACKNOWLEDGE AND AGREE THAT COMPANY SHALL NOT BE RESPONSIBLE OR LIABLE, DIRECTLY OR INDIRECTLY, FOR ANY DAMAGE OR LOSS CAUSED OR ALLEGED TO BE CAUSED BY OR IN CONNECTION WITH USE OF OR RELIANCE ON ANY SUCH CONTENT, GOODS OR SERVICES AVAILABLE ON OR THROUGH ANY SUCH THIRD PARTY WEB SITES OR SERVICES."}),n.jsx("p",{children:"WE STRONGLY ADVISE YOU TO READ THE TERMS OF SERVICE AND PRIVACY POLICIES OF ANY THIRD PARTY WEB SITES OR SERVICES THAT YOU VISIT."}),n.jsxs("p",{children:["16. ",n.jsx("b",{children:"Disclaimer Of Warranty"})]}),n.jsx("p",{children:'THESE SERVICES ARE PROVIDED BY COMPANY ON AN "AS IS" AND "AS AVAILABLE" BASIS. COMPANY MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, AS TO THE OPERATION OF THEIR SERVICES, OR THE INFORMATION, CONTENT OR MATERIALS INCLUDED THEREIN. YOU EXPRESSLY AGREE THAT YOUR USE OF THESE SERVICES, THEIR CONTENT, AND ANY SERVICES OR ITEMS OBTAINED FROM US IS AT YOUR SOLE RISK.'}),n.jsx("p",{children:"NEITHER COMPANY NOR ANY PERSON ASSOCIATED WITH COMPANY MAKES ANY WARRANTY OR REPRESENTATION WITH RESPECT TO THE COMPLETENESS, SECURITY, RELIABILITY, QUALITY, ACCURACY, OR AVAILABILITY OF THE SERVICES. WITHOUT LIMITING THE FOREGOING, NEITHER COMPANY NOR ANYONE ASSOCIATED WITH COMPANY REPRESENTS OR WARRANTS THAT THE SERVICES, THEIR CONTENT, OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL BE ACCURATE, RELIABLE, ERROR-FREE, OR UNINTERRUPTED, THAT DEFECTS WILL BE CORRECTED, THAT THE SERVICES OR THE SERVER THAT MAKES IT AVAILABLE ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS OR THAT THE SERVICES OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL OTHERWISE MEET YOUR NEEDS OR EXPECTATIONS."}),n.jsx("p",{children:"COMPANY HEREBY DISCLAIMS ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, STATUTORY, OR OTHERWISE, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, NON-INFRINGEMENT, AND FITNESS FOR PARTICULAR PURPOSE."}),n.jsx("p",{children:"THE FOREGOING DOES NOT AFFECT ANY WARRANTIES WHICH CANNOT BE EXCLUDED OR LIMITED UNDER APPLICABLE LAW."}),n.jsxs("p",{children:["17. ",n.jsx("b",{children:"Limitation Of Liability"})]}),n.jsx("p",{children:"EXCEPT AS PROHIBITED BY LAW, YOU WILL HOLD US AND OUR OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS HARMLESS FOR ANY INDIRECT, PUNITIVE, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGE, HOWEVER IT ARISES (INCLUDING ATTORNEYS' FEES AND ALL RELATED COSTS AND EXPENSES OF LITIGATION AND ARBITRATION, OR AT TRIAL OR ON APPEAL, IF ANY, WHETHER OR NOT LITIGATION OR ARBITRATION IS INSTITUTED), WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE, OR OTHER TORTIOUS ACTION, OR ARISING OUT OF OR IN CONNECTION WITH THIS AGREEMENT, INCLUDING WITHOUT LIMITATION ANY CLAIM FOR PERSONAL INJURY OR PROPERTY DAMAGE, ARISING FROM THIS AGREEMENT AND ANY VIOLATION BY YOU OF ANY FEDERAL, STATE, OR LOCAL LAWS, STATUTES, RULES, OR REGULATIONS, EVEN IF COMPANY HAS BEEN PREVIOUSLY ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. EXCEPT AS PROHIBITED BY LAW, IF THERE IS LIABILITY FOUND ON THE PART OF COMPANY, IT WILL BE LIMITED TO THE AMOUNT PAID FOR THE PRODUCTS AND/OR SERVICES, AND UNDER NO CIRCUMSTANCES WILL THERE BE CONSEQUENTIAL OR PUNITIVE DAMAGES. SOME STATES DO NOT ALLOW THE EXCLUSION OR LIMITATION OF PUNITIVE, INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THE PRIOR LIMITATION OR EXCLUSION MAY NOT APPLY TO YOU."}),n.jsxs("p",{children:["18. ",n.jsx("b",{children:"Termination"})]}),n.jsx("p",{children:"We may terminate or suspend your account and bar access to Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of Terms."}),n.jsx("p",{children:"If you wish to terminate your account, you may simply discontinue using Service."}),n.jsx("p",{children:"All provisions of Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability."}),n.jsxs("p",{children:["19. ",n.jsx("b",{children:"Governing Law"})]}),n.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of India, which governing law applies to agreement without regard to its conflict of law provisions."}),n.jsx("p",{children:"Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect. These Terms constitute the entire agreement between us regarding our Service and supersede and replace any prior agreements we might have had between us regarding Service."}),n.jsxs("p",{children:["20. ",n.jsx("b",{children:"Changes To Service"})]}),n.jsx("p",{children:"We reserve the right to withdraw or amend our Service, and any service or material we provide via Service, in our sole discretion without notice. We will not be liable if for any reason all or any part of Service is unavailable at any time or for any period. From time to time, we may restrict access to some parts of Service, or the entire Service, to users, including registered users."}),n.jsxs("p",{children:["21. ",n.jsx("b",{children:"Amendments To Terms"})]}),n.jsx("p",{children:"We may amend Terms at any time by posting the amended terms on this site. It is your responsibility to review these Terms periodically."}),n.jsx("p",{children:"Your continued use of the Platform following the posting of revised Terms means that you accept and agree to the changes. You are expected to check this page frequently so you are aware of any changes, as they are binding on you."}),n.jsx("p",{children:"By continuing to access or use our Service after any revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, you are no longer authorized to use Service."}),n.jsxs("p",{children:["22. ",n.jsx("b",{children:"Waiver And Severability"})]}),n.jsx("p",{children:"No waiver by Company of any term or condition set forth in Terms shall be deemed a further or continuing waiver of such term or condition or a waiver of any other term or condition, and any failure of Company to assert a right or provision under Terms shall not constitute a waiver of such right or provision."}),n.jsx("p",{children:"If any provision of Terms is held by a court or other tribunal of competent jurisdiction to be invalid, illegal or unenforceable for any reason, such provision shall be eliminated or limited to the minimum extent such that the remaining provisions of Terms will continue in full force and effect."}),n.jsxs("p",{children:["23. ",n.jsx("b",{children:"Acknowledgement"})]}),n.jsx("p",{children:"BY USING SERVICE OR OTHER SERVICES PROVIDED BY US, YOU ACKNOWLEDGE THAT YOU HAVE READ THESE TERMS OF SERVICE AND AGREE TO BE BOUND BY THEM."}),n.jsxs("p",{children:["24. ",n.jsx("b",{children:"Contact Us"})]}),n.jsxs("p",{children:["Please send your feedback, comments, requests for technical support by email:"," ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]})]})]})})},zae=()=>{var M,L,F;const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(null),[l,d]=N.useState(""),[u,f]=N.useState([]),[p,m]=N.useState({status:"",subscriptionType:"",search:""}),[g,v]=N.useState(null),[j,b]=N.useState(!1),[y,C]=N.useState("");N.useEffect(()=>{(async()=>{try{const P=await(await fetch("https://hotelvirat.com/api/v1/hotel/branch")).json();f(P),P.length>0&&d(P[0]._id)}catch(G){console.error("Error fetching branches:",G)}})()},[]),N.useEffect(()=>{l&&T()},[l,p]);const T=async()=>{a(!0);try{let _=`https://hotelvirat.com/api/v1/hotel/subscription?branchId=${l}`;p.status&&(_+=`&status=${p.status}`),p.subscriptionType&&(_+=`&subscriptionType=${p.subscriptionType}`);const P=await(await fetch(_)).json();if(P.success){let D=P.data;p.search&&(D=D.filter(R=>{var H,ne,me,q;return((ne=(H=R.userId)==null?void 0:H.name)==null?void 0:ne.toLowerCase().includes(p.search.toLowerCase()))||((q=(me=R.productId)==null?void 0:me.name)==null?void 0:q.toLowerCase().includes(p.search.toLowerCase()))})),t(D)}else s(P.message)}catch(_){console.error("Error fetching subscriptions:",_),s("Failed to fetch subscriptions")}finally{a(!1)}},E=async(_,G,P={})=>{try{const R=await(await fetch(`https://hotelvirat.com/api/v1/hotel/subscription/${_}/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})).json();R.success?(T(),b(!1),v(null)):alert(R.message)}catch(D){console.error(`Error ${G}ing subscription:`,D),alert(`Failed to ${G} subscription`)}},S=_=>{switch(_){case"active":return"#4CAF50";case"paused":return"#FF9800";case"cancelled":return"#F44336";case"expired":return"#9E9E9E";default:return"#666"}},A=_=>{switch(_){case"weekly":return"#2196F3";case"monthly":return"#9C27B0";case"yearly":return"#FF5722";default:return"#666"}},k=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),I=(_,G)=>{v(_),C(G),b(!0)},B=()=>{b(!1),v(null),C("")};return r?n.jsx("div",{className:"subscription-container",children:n.jsxs("div",{className:"loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading subscriptions..."})]})}):n.jsxs("div",{className:"subscription-container",children:[n.jsx("div",{className:"subscription-header",children:n.jsx("h1",{children:"Subscription Management"})}),n.jsxs("div",{className:"branch-selector",children:[n.jsx("label",{htmlFor:"branch-select",children:"Select Branch:"}),n.jsx("select",{id:"branch-select",value:l,onChange:_=>d(_.target.value),className:"branch-select",children:u.map(_=>n.jsx("option",{value:_._id,children:_.name},_._id))})]}),n.jsxs("div",{className:"filters",children:[n.jsx("div",{className:"filter-group",children:n.jsx("input",{type:"text",placeholder:"Search by customer or product...",value:p.search,onChange:_=>m({...p,search:_.target.value}),className:"search-input"})}),n.jsx("div",{className:"filter-group",children:n.jsxs("select",{value:p.status,onChange:_=>m({...p,status:_.target.value}),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"expired",children:"Expired"})]})}),n.jsx("div",{className:"filter-group",children:n.jsxs("select",{value:p.subscriptionType,onChange:_=>m({...p,subscriptionType:_.target.value}),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Types"}),n.jsx("option",{value:"weekly",children:"Weekly"}),n.jsx("option",{value:"monthly",children:"Monthly"}),n.jsx("option",{value:"yearly",children:"Yearly"})]})})]}),n.jsxs("div",{className:"subscriptions-table-container",children:[n.jsxs("table",{className:"subscriptions-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Product"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Next Delivery"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:e.map(_=>{var G,P,D,R,H;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:"customer-info",children:[n.jsx("strong",{children:(G=_.userId)==null?void 0:G.name}),n.jsx("span",{children:(P=_.userId)==null?void 0:P.mobile})]})}),n.jsx("td",{children:n.jsxs("div",{className:"product-info",children:[n.jsx("img",{src:((D=_.productId)==null?void 0:D.image)||"/placeholder-product.jpg",alt:(R=_.productId)==null?void 0:R.name,className:"product-image"}),n.jsx("span",{children:(H=_.productId)==null?void 0:H.name})]})}),n.jsx("td",{children:n.jsx("span",{className:"subscription-type",style:{backgroundColor:A(_.subscriptionType)},children:_.subscriptionType})}),n.jsx("td",{children:_.quantity}),n.jsxs("td",{children:["",_.totalPrice]}),n.jsx("td",{children:n.jsx("span",{className:"status-badge",style:{backgroundColor:S(_.status)},children:_.status})}),n.jsx("td",{children:k(_.nextDeliveryDate)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"btn-view",onClick:()=>I(_,"view"),children:"View"}),_.status==="active"&&n.jsx("button",{className:"btn-pause",onClick:()=>I(_,"pause"),children:"Pause"}),_.status==="paused"&&n.jsx("button",{className:"btn-resume",onClick:()=>E(_._id,"resume"),children:"Resume"}),_.status!=="cancelled"&&n.jsx("button",{className:"btn-cancel",onClick:()=>I(_,"cancel"),children:"Cancel"})]})})]},_._id)})})]}),e.length===0&&n.jsx("div",{className:"no-subscriptions",children:n.jsx("p",{children:"No subscriptions found for the selected criteria."})})]}),j&&g&&n.jsx("div",{className:"modal-overlay",onClick:B,children:n.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h2",{children:[y==="view"&&"Subscription Details",y==="pause"&&"Pause Subscription",y==="cancel"&&"Cancel Subscription"]}),n.jsx("button",{className:"close-btn",onClick:B,children:""})]}),n.jsxs("div",{className:"modal-body",children:[y==="view"&&n.jsxs("div",{className:"subscription-details",children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Customer:"})," ",(M=g.userId)==null?void 0:M.name]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Product:"})," ",(L=g.productId)==null?void 0:L.name]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Type:"})," ",g.subscriptionType]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Quantity:"})," ",g.quantity]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Price:"})," ",g.totalPrice]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Status:"})," ",g.status]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Start Date:"})," ",k(g.startDate)]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"End Date:"})," ",k(g.endDate)]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Next Delivery:"})," ",k(g.nextDeliveryDate)]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Address:"})," ",g.deliveryAddress]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Days:"})," ",(F=g.deliveryDays)==null?void 0:F.join(", ")]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Time:"})," ",g.deliveryTime]})]}),y==="pause"&&n.jsxs("div",{className:"pause-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"pause-reason",children:"Reason for pausing:"}),n.jsx("textarea",{id:"pause-reason",placeholder:"Enter reason for pausing subscription...",rows:"3"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"pause-end-date",children:"Pause until (optional):"}),n.jsx("input",{type:"date",id:"pause-end-date"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"btn-confirm",onClick:()=>{const _=document.getElementById("pause-reason").value,G=document.getElementById("pause-end-date").value;E(g._id,"pause",{pauseReason:_,pauseEndDate:G})},children:"Pause Subscription"}),n.jsx("button",{className:"btn-cancel",onClick:B,children:"Cancel"})]})]}),y==="cancel"&&n.jsxs("div",{className:"cancel-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"cancel-reason",children:"Reason for cancellation:"}),n.jsx("textarea",{id:"cancel-reason",placeholder:"Enter reason for cancelling subscription...",rows:"3"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"btn-confirm",onClick:()=>{const _=document.getElementById("cancel-reason").value;E(g._id,"cancel",{cancellationReason:_})},children:"Cancel Subscription"}),n.jsx("button",{className:"btn-cancel",onClick:B,children:"Keep Subscription"})]})]})]})]})})]})},$ae=()=>{var F,_,G;const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(null),[l,d]=N.useState(""),[u,f]=N.useState([]),[p,m]=N.useState({status:"",planType:"",search:""}),[g,v]=N.useState(null),[j,b]=N.useState(!1),[y,C]=N.useState(""),[T,E]=N.useState({scheduledDate:"",status:"scheduled",deliveryPerson:{name:"",phone:"",id:""},deliveryNotes:"",rating:null,feedback:""});N.useEffect(()=>{(async()=>{try{const R=await(await fetch("https://hotelvirat.com/api/v1/hotel/branch")).json();f(R),R.length>0&&d(R[0]._id)}catch(D){console.error("Error fetching branches:",D)}})()},[]),N.useEffect(()=>{l&&S()},[l,p]);const S=async()=>{a(!0);try{let P=`https://hotelvirat.com/api/v1/hotel/subscription-order?branchId=${l}`;p.status&&(P+=`&status=${p.status}`),p.planType&&(P+=`&planType=${p.planType}`);const R=await(await fetch(P)).json();if(R.success){let H=R.data;p.search&&(H=H.filter(ne=>{var me,q,X,z;return((q=(me=ne.userId)==null?void 0:me.name)==null?void 0:q.toLowerCase().includes(p.search.toLowerCase()))||((z=(X=ne.productId)==null?void 0:X.name)==null?void 0:z.toLowerCase().includes(p.search.toLowerCase()))})),t(H)}else s(R.message)}catch(P){console.error("Error fetching subscription orders:",P),s("Failed to fetch subscription orders")}finally{a(!1)}},A=P=>{switch(P){case"active":return"#4CAF50";case"paused":return"#FF9800";case"cancelled":return"#F44336";case"completed":return"#9E9E9E";default:return"#666"}},k=P=>{switch(P){case"daily":return"#2196F3";case"weekly":return"#9C27B0";case"monthly":return"#FF5722";case"yearly":return"#4CAF50";default:return"#666"}},I=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),B=(P,D)=>{v(P),C(D),b(!0)},M=()=>{b(!1),v(null),C(""),E({scheduledDate:"",status:"scheduled",deliveryPerson:{name:"",phone:"",id:""},deliveryNotes:"",rating:null,feedback:""})},L=async()=>{try{const D=await(await fetch(`https://hotelvirat.com/api/v1/hotel/subscription-order/${g._id}/delivery`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).json();D.success?(alert("Delivery status updated successfully!"),S(),M()):alert("Error updating delivery status: "+D.message)}catch(P){console.error("Error updating delivery status:",P),alert("Error updating delivery status")}};return r?n.jsx("div",{className:"subscription-management-container",children:n.jsxs("div",{className:"loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading subscription orders..."})]})}):n.jsxs("div",{className:"subscription-management-container",children:[n.jsx("div",{className:"subscription-management-header",children:n.jsx("h1",{children:"Subscription Order Management"})}),n.jsxs("div",{className:"branch-selector",children:[n.jsx("label",{htmlFor:"branch-select",children:"Select Branch:"}),n.jsx("select",{id:"branch-select",value:l,onChange:P=>d(P.target.value),className:"branch-select",children:u.map(P=>n.jsx("option",{value:P._id,children:P.name},P._id))})]}),n.jsxs("div",{className:"filters",children:[n.jsx("div",{className:"filter-group",children:n.jsx("input",{type:"text",placeholder:"Search by customer or product...",value:p.search,onChange:P=>m({...p,search:P.target.value}),className:"search-input"})}),n.jsx("div",{className:"filter-group",children:n.jsxs("select",{value:p.status,onChange:P=>m({...p,status:P.target.value}),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"completed",children:"Completed"})]})}),n.jsx("div",{className:"filter-group",children:n.jsxs("select",{value:p.planType,onChange:P=>m({...p,planType:P.target.value}),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Plans"}),n.jsx("option",{value:"daily",children:"Daily"}),n.jsx("option",{value:"weekly",children:"Weekly"}),n.jsx("option",{value:"monthly",children:"Monthly"}),n.jsx("option",{value:"yearly",children:"Yearly"})]})})]}),n.jsxs("div",{className:"subscription-orders-table-container",children:[n.jsxs("table",{className:"subscription-orders-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Product"}),n.jsx("th",{children:"Plan"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Next Delivery"}),n.jsx("th",{children:"Cycles"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:e.map(P=>{var D,R,H,ne,me;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:"customer-info",children:[n.jsx("strong",{children:(D=P.userId)==null?void 0:D.name}),n.jsx("span",{children:(R=P.userId)==null?void 0:R.mobile})]})}),n.jsx("td",{children:n.jsxs("div",{className:"product-info",children:[n.jsx("img",{src:((H=P.productId)==null?void 0:H.image)||"/placeholder-product.jpg",alt:(ne=P.productId)==null?void 0:ne.name,className:"product-image"}),n.jsx("span",{children:(me=P.productId)==null?void 0:me.name})]})}),n.jsx("td",{children:n.jsx("span",{className:"plan-type",style:{backgroundColor:k(P.planType)},children:P.planType})}),n.jsxs("td",{children:["",P.price]}),n.jsx("td",{children:n.jsx("span",{className:"status-badge",style:{backgroundColor:A(P.status)},children:P.status})}),n.jsx("td",{children:I(P.nextDeliveryDate)}),n.jsxs("td",{children:[P.completedCycles,"/",P.totalCycles||""]}),n.jsx("td",{children:n.jsx("div",{className:"action-buttons",children:n.jsx("button",{className:"btn-view",onClick:()=>B(P,"view"),children:"View"})})})]},P._id)})})]}),e.length===0&&n.jsx("div",{className:"no-subscriptions",children:n.jsx("p",{children:"No subscription orders found for the selected criteria."})})]}),j&&g&&n.jsx("div",{className:"modal-overlay",onClick:M,children:n.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Subscription Order Details"}),n.jsx("button",{className:"close-btn",onClick:M,children:""})]}),n.jsxs("div",{className:"modal-body",children:[y==="view"&&n.jsxs("div",{className:"subscription-details",children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Customer:"})," ",(F=g.userId)==null?void 0:F.name]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Product:"})," ",(_=g.productId)==null?void 0:_.name]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Plan Type:"})," ",g.planType]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Price:"})," ",g.price]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Status:"})," ",g.status]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Start Date:"})," ",I(g.startDate)]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Address:"})," ",g.deliveryAddress]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Days:"})," ",(G=g.deliveryDays)==null?void 0:G.join(", ")]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Time:"})," ",g.deliveryTime]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Payment Method:"})," ",g.paymentMethod]}),g.deliveryTracking&&g.deliveryTracking.length>0&&n.jsxs("div",{className:"delivery-tracking-section",children:[n.jsx("h4",{children:"Recent Deliveries"}),g.deliveryTracking.slice(0,3).map((P,D)=>n.jsxs("div",{className:"delivery-item",children:[n.jsxs("div",{className:"delivery-status",children:[n.jsx("span",{className:`status-badge ${P.status}`,children:P.status.replace("_"," ").toUpperCase()}),n.jsx("span",{className:"delivery-date",children:I(P.scheduledDate)})]}),P.deliveryPerson&&n.jsxs("div",{className:"delivery-person",children:["By: ",P.deliveryPerson.name]}),P.deliveryNotes&&n.jsx("div",{className:"delivery-notes",children:P.deliveryNotes})]},D))]}),n.jsx("div",{className:"modal-actions",children:n.jsx("button",{className:"btn-update-delivery",onClick:()=>{C("delivery"),E({scheduledDate:new Date().toISOString().split("T")[0],status:"scheduled",deliveryPerson:{name:"",phone:"",id:""},deliveryNotes:"",rating:null,feedback:""})},children:"Update Delivery Status"})})]}),y==="delivery"&&n.jsxs("div",{className:"delivery-form",children:[n.jsx("h3",{children:"Update Delivery Status"}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"scheduledDate",children:"Scheduled Date:"}),n.jsx("input",{type:"date",id:"scheduledDate",value:T.scheduledDate,onChange:P=>E({...T,scheduledDate:P.target.value}),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"status",children:"Delivery Status:"}),n.jsxs("select",{id:"status",value:T.status,onChange:P=>E({...T,status:P.target.value}),required:!0,children:[n.jsx("option",{value:"scheduled",children:"Scheduled"}),n.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"rescheduled",children:"Rescheduled"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"deliveryPersonName",children:"Delivery Person Name:"}),n.jsx("input",{type:"text",id:"deliveryPersonName",value:T.deliveryPerson.name,onChange:P=>E({...T,deliveryPerson:{...T.deliveryPerson,name:P.target.value}}),placeholder:"Enter delivery person name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"deliveryPersonPhone",children:"Delivery Person Phone:"}),n.jsx("input",{type:"tel",id:"deliveryPersonPhone",value:T.deliveryPerson.phone,onChange:P=>E({...T,deliveryPerson:{...T.deliveryPerson,phone:P.target.value}}),placeholder:"Enter phone number"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"deliveryNotes",children:"Delivery Notes:"}),n.jsx("textarea",{id:"deliveryNotes",value:T.deliveryNotes,onChange:P=>E({...T,deliveryNotes:P.target.value}),placeholder:"Enter delivery notes",rows:"3"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"rating",children:"Customer Rating (1-5):"}),n.jsxs("select",{id:"rating",value:T.rating||"",onChange:P=>E({...T,rating:P.target.value?parseInt(P.target.value):null}),children:[n.jsx("option",{value:"",children:"No rating"}),n.jsx("option",{value:"1",children:"1 Star"}),n.jsx("option",{value:"2",children:"2 Stars"}),n.jsx("option",{value:"3",children:"3 Stars"}),n.jsx("option",{value:"4",children:"4 Stars"}),n.jsx("option",{value:"5",children:"5 Stars"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"feedback",children:"Customer Feedback:"}),n.jsx("textarea",{id:"feedback",value:T.feedback,onChange:P=>E({...T,feedback:P.target.value}),placeholder:"Enter customer feedback",rows:"3"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"btn-confirm",onClick:L,children:"Update Delivery"}),n.jsx("button",{className:"btn-cancel",onClick:()=>C("view"),children:"Cancel"})]})]})]})]})})]})},Uae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState(""),[u,f]=N.useState(!0),[p,m]=N.useState(!1),[g,v]=N.useState(""),[j,b]=N.useState(null),[y,C]=N.useState({productId:"",description:"",image:null,isActive:!0});N.useEffect(()=>{(async()=>{try{const P=await(await fetch("https://hotelvirat.com/api/v1/hotel/branch")).json();a(P),P.length>0&&d(P[0])}catch(G){console.error("Error fetching branches:",G)}})()},[]);const T=async()=>{try{const _=`https://hotelvirat.com/api/v1/hotel/menu?t=${Date.now()}`,G=await fetch(_,{method:"GET",cache:"no-cache",headers:{"Content-Type":"application/json"}});if(!G.ok)throw new Error(`HTTP error! status: ${G.status}`);const P=await G.json();Array.isArray(P)?s(P):s([])}catch(_){console.error("Error fetching products:",_),s([])}};N.useEffect(()=>{T()},[]);const E=async()=>{if(!(!l||!l._id))try{console.log(" Fetching meals for branch:",l._id);const _=`https://hotelvirat.com/api/v1/hotel/meal-of-the-day/branch/${l._id}`;console.log(" API URL:",_);const G=await fetch(_);if(console.log(" Response status:",G.status),console.log(" Response ok:",G.ok),!G.ok)throw new Error(`HTTP error! status: ${G.status}`);const P=await G.json();console.log(" API response:",P),P.success&&Array.isArray(P.data)?(console.log(" Setting meals:",P.data.length,"items"),t(P.data)):(console.error(" Invalid API response:",P),t([]))}catch(_){console.error(" Error fetching meals:",_),t([])}};N.useEffect(()=>{l&&l._id&&E()},[l]);const S=async _=>{if(_.preventDefault(),!y.productId||!l){alert("Please select a product and branch");return}try{const G={productId:y.productId,branchId:l._id,description:y.description||"",isActive:y.isActive};if(y.image&&y.image instanceof File){const P=new FormData;P.append("image",y.image),Object.keys(G).forEach(D=>{P.append(D,G[D])}),await fetch("https://hotelvirat.com/api/v1/hotel/meal-of-the-day",{method:"POST",body:P})}else await fetch("https://hotelvirat.com/api/v1/hotel/meal-of-the-day",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});E(),C({productId:"",description:"",image:null,isActive:!0})}catch(G){console.error("Error saving meal:",G)}},A=async _=>{if(window.confirm("Are you sure you want to delete this meal?"))try{await fetch(`https://hotelvirat.com/api/v1/hotel/meal-of-the-day/${_}`,{method:"DELETE"}),E()}catch(G){console.error("Error deleting meal:",G)}},k=async(_,G)=>{try{(await fetch(`https://hotelvirat.com/api/v1/hotel/meal-of-the-day/${_}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!G})})).ok&&E()}catch(P){console.error("Error updating meal status:",P)}},I=_=>{const G=_.target.files[0];G&&C({...y,image:G})},B=_=>{const{name:G,value:P,type:D,checked:R}=_.target;C(H=>({...H,[G]:D==="checkbox"?R:P}))},M=_=>{const G=_.target.value,P=r.find(D=>D._id===G);d(P)},L=_=>{const G=i.find(P=>P._id===_);return G?G.name:"Unknown Product"},F=_=>{const G=i.find(P=>P._id===_);return G?G.price:0};return n.jsxs("div",{className:"meal-of-the-day-container",children:[n.jsxs("div",{className:"header",children:[n.jsx("h2",{children:" Meal of the Day Management"}),n.jsx("p",{children:"Create and manage daily special meals for each branch with beautiful presentation"})]}),n.jsxs("div",{className:"branch-selection",children:[n.jsx("label",{htmlFor:"branchSelect",children:" Select Branch"}),n.jsxs("select",{id:"branchSelect",value:l?l._id:"",onChange:M,className:"form-control",children:[n.jsx("option",{value:"",children:"Choose a branch to manage meals..."}),r.map(_=>n.jsx("option",{value:_._id,children:_.name},_._id))]})]}),l&&n.jsxs("div",{className:"add-meal-form",children:[n.jsx("h3",{children:" Add New Meal of the Day"}),n.jsxs("form",{onSubmit:S,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"productId",children:" Select Product *"}),n.jsxs("select",{id:"productId",name:"productId",value:y.productId,onChange:B,className:"form-control",required:!0,children:[n.jsx("option",{value:"",children:"Choose a product from the menu..."}),i.length===0?n.jsx("option",{value:"",disabled:!0,children:"No products available"}):i.map(_=>n.jsxs("option",{value:_._id,children:[_.name," - ",_.price]},_._id))]}),i.length===0&&n.jsx("small",{className:"text-muted",children:" No products found. Please add products to the menu first."})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"description",children:" Description"}),n.jsx("textarea",{id:"description",name:"description",value:y.description,onChange:B,className:"form-control",rows:"3",placeholder:"Describe this special meal... (optional)"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"image",children:" Custom Image (Optional)"}),n.jsx("input",{type:"file",id:"image",name:"image",onChange:I,className:"form-control",accept:"image/*"}),n.jsx("small",{className:"text-muted",children:" If no custom image is provided, the product's default image will be used."})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",name:"isActive",checked:y.isActive,onChange:B})," Active (Show this meal to customers)"]})}),n.jsx("button",{type:"submit",className:"btn btn-primary",children:" Add Meal of the Day"})]})]}),l&&n.jsxs("div",{className:"meals-list",children:[n.jsxs("h3",{children:[" Current Meals for ",l.name]}),!e||e.length===0?n.jsx("p",{children:" No meals of the day set for this branch yet. Add your first special meal above!"}):n.jsx("div",{className:"meals-grid",children:Array.isArray(e)&&e.map(_=>n.jsxs("div",{className:"meal-card",children:[n.jsxs("div",{className:"meal-image",children:[_.image?n.jsx("img",{src:_.image,alt:L(_.productId),className:"img-fluid"}):n.jsx("div",{className:"no-image",children:" No Image Available"}),n.jsx("div",{className:`status-badge ${_.isActive?"active":"inactive"}`,children:_.isActive?" Active":" Inactive"})]}),n.jsxs("div",{className:"meal-info",children:[n.jsx("h4",{children:L(_.productId)}),n.jsxs("p",{className:"price",children:["",F(_.productId)]}),_.description&&n.jsx("p",{className:"description",children:_.description}),n.jsxs("div",{className:"meal-actions",children:[n.jsx("button",{className:`btn btn-sm ${_.isActive?"btn-secondary":"btn-success"}`,onClick:()=>k(_._id,_.isActive),children:_.isActive?" Deactivate":" Activate"}),n.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>A(_._id),children:" Delete"})]})]})]},_._id))})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Im={};Im.version="0.18.5";var j8=1252,qae=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],w8=function(e){qae.indexOf(e)!=-1&&(j8=e)};function Wae(){w8(1252)}var yf=function(e){w8(e)};function Hae(){yf(1200),Wae()}var xp=function(t){return String.fromCharCode(t)},M3=function(t){return String.fromCharCode(t)},Rm,Ys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function vf(e){for(var t="",r=0,a=0,i=0,s=0,l=0,d=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),s=r>>2,a=e.charCodeAt(f++),l=(r&3)<<4|a>>4,i=e.charCodeAt(f++),d=(a&15)<<2|i>>6,u=i&63,isNaN(a)?d=u=64:isNaN(i)&&(u=64),t+=Ys.charAt(s)+Ys.charAt(l)+Ys.charAt(d)+Ys.charAt(u);return t}function hs(e){var t="",r=0,a=0,i=0,s=0,l=0,d=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)s=Ys.indexOf(e.charAt(f++)),l=Ys.indexOf(e.charAt(f++)),r=s<<2|l>>4,t+=String.fromCharCode(r),d=Ys.indexOf(e.charAt(f++)),a=(l&15)<<4|d>>2,d!==64&&(t+=String.fromCharCode(a)),u=Ys.indexOf(e.charAt(f++)),i=(d&3)<<6|u,u!==64&&(t+=String.fromCharCode(i));return t}var Qt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ys=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ko(e){return Qt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function B3(e){return Qt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ti=function(t){return Qt?ys(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function R0(e){if(typeof ArrayBuffer>"u")return ti(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function $f(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Gae(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var mn=Qt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ys(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Vae(e){for(var t=[],r=0,a=e.length+250,i=Ko(e.length+255),s=0;s<e.length;++s){var l=e.charCodeAt(s);if(l<128)i[r++]=l;else if(l<2048)i[r++]=192|l>>6&31,i[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var d=e.charCodeAt(++s)&1023;i[r++]=240|l>>8&7,i[r++]=128|l>>2&63,i[r++]=128|d>>6&15|(l&3)<<4,i[r++]=128|d&63}else i[r++]=224|l>>12&15,i[r++]=128|l>>6&63,i[r++]=128|l&63;r>a&&(t.push(i.slice(0,r)),r=0,i=Ko(65535),a=65530)}return t.push(i.slice(0,r)),mn(t)}var Cu=/\u0000/g,gp=/[\u0001-\u0006]/g;function cc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ni(e,t){var r=""+e;return r.length>=t?r:Dr("0",t-r.length)+r}function fS(e,t){var r=""+e;return r.length>=t?r:Dr(" ",t-r.length)+r}function Pm(e,t){var r=""+e;return r.length>=t?r:r+Dr(" ",t-r.length)}function Yae(e,t){var r=""+Math.round(e);return r.length>=t?r:Dr("0",t-r.length)+r}function Xae(e,t){var r=""+e;return r.length>=t?r:Dr("0",t-r.length)+r}var F3=Math.pow(2,32);function Kl(e,t){if(e>F3||e<-F3)return Yae(e,t);var r=Math.round(e);return Xae(r,t)}function Mm(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var L3=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],rj=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Kae(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ir={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},z3={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Qae={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Bm(e,t,r){for(var a=e<0?-1:1,i=e*a,s=0,l=1,d=0,u=1,f=0,p=0,m=Math.floor(i);f<t&&(m=Math.floor(i),d=m*l+s,p=m*f+u,!(i-m<5e-8));)i=1/(i-m),s=l,l=d,u=f,f=p;if(p>t&&(f>t?(p=u,d=s):(p=f,d=l)),!r)return[0,a*d,p];var g=Math.floor(a*d/p);return[g,a*d-g*p,p]}function yp(e,t,r){if(e>2958465||e<0)return null;var a=e|0,i=Math.floor(86400*(e-a)),s=0,l=[],d={D:a,T:i,u:86400*(e-a)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(d.u)<1e-6&&(d.u=0),t&&t.date1904&&(a+=1462),d.u>.9999&&(d.u=0,++i==86400&&(d.T=i=0,++a,++d.D)),a===60)l=r?[1317,10,29]:[1900,2,29],s=3;else if(a===0)l=r?[1317,8,29]:[1900,1,0],s=6;else{a>60&&--a;var u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),l=[u.getFullYear(),u.getMonth()+1,u.getDate()],s=u.getDay(),a<60&&(s=(s+6)%7),r&&(s=aie(u,l))}return d.y=l[0],d.m=l[1],d.d=l[2],d.S=i%60,i=Math.floor(i/60),d.M=i%60,i=Math.floor(i/60),d.H=i,d.q=s,d}var S8=new Date(1899,11,31,0,0,0),Zae=S8.getTime(),Jae=new Date(1900,2,1,0,0,0);function N8(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Jae&&(r+=24*60*60*1e3),(r-(Zae+(e.getTimezoneOffset()-S8.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function hS(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function eie(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function tie(e){var t=e<0?12:11,r=hS(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function rie(e){var t=hS(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function nie(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=tie(e):t===10?r=e.toFixed(10).substr(0,12):r=rie(e),hS(eie(r.toUpperCase()))}function q2(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):nie(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return to(14,N8(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function aie(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function iie(e,t,r,a){var i="",s=0,l=0,d=r.y,u,f=0;switch(e){case 98:d=r.y+543;case 121:switch(t.length){case 1:case 2:u=d%100,f=2;break;default:u=d%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return rj[r.m-1][1];case 5:return rj[r.m-1][0];default:return rj[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return L3[r.q][0];default:return L3[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ni(r.S,t.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,s=Math.round(l*(r.S+r.u)),s>=60*l&&(s=0),t==="s"?s===0?"0":""+s/l:(i=ni(s,2+a),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=d,f=1;break}var p=f>0?ni(u,f):"";return p}function Xs(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var T8=/%/g;function sie(e,t,r){var a=t.replace(T8,""),i=t.length-a.length;return as(e,a,r*Math.pow(10,2*i))+Dr("%",i)}function oie(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return as(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function C8(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+C8(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(t/Math.pow(10,s)).toPrecision(a+1+(i+s)%i),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,u,f,p){return u+f+p.substr(0,(i+s)%i)+"."+p.substr(s)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var A8=/# (\?+)( ?)\/( ?)(\d+)/;function lie(e,t,r){var a=parseInt(e[4],10),i=Math.round(t*a),s=Math.floor(i/a),l=i-s*a,d=a;return r+(s===0?"":""+s)+" "+(l===0?Dr(" ",e[1].length+1+e[4].length):fS(l,e[1].length)+e[2]+"/"+e[3]+ni(d,e[4].length))}function cie(e,t,r){return r+(t===0?"":""+t)+Dr(" ",e[1].length+2+e[4].length)}var E8=/^#*0*\.([0#]+)/,_8=/\).*[0#]/,O8=/\(###\) ###\\?-####/;function In(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function $3(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function U3(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function die(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function uie(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Da(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_8)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Da("n",a,r):"("+Da("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return oie(e,t,r);if(t.indexOf("%")!==-1)return sie(e,t,r);if(t.indexOf("E")!==-1)return C8(t,r);if(t.charCodeAt(0)===36)return"$"+Da(e,t.substr(t.charAt(1)==" "?2:1),r);var i,s,l,d,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Kl(u,t.length);if(t.match(/^[#?]+$/))return i=Kl(r,0),i==="0"&&(i=""),i.length>t.length?i:In(t.substr(0,t.length-i.length))+i;if(s=t.match(A8))return lie(s,u,f);if(t.match(/^#+0+$/))return f+Kl(u,t.length-t.indexOf("0"));if(s=t.match(E8))return i=$3(r,s[1].length).replace(/^([^\.]+)$/,"$1."+In(s[1])).replace(/\.$/,"."+In(s[1])).replace(/\.(\d*)$/,function(j,b){return"."+b+Dr("0",In(s[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return f+$3(u,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return f+Xs(Kl(u,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Da(e,t,-r):Xs(""+(Math.floor(r)+die(r,s[1].length)))+"."+ni(U3(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Da(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=cc(Da(e,t.replace(/[\\-]/g,""),r)),l=0,cc(cc(t.replace(/\\/g,"")).replace(/[0#]/g,function(j){return l<i.length?i.charAt(l++):j==="0"?"0":""}));if(t.match(O8))return i=Da(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),d=Bm(u,Math.pow(10,l)-1,!1),i=""+f,p=as("n",s[1],d[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+s[2]+"/"+s[3],p=Pm(d[2],l),p.length<s[4].length&&(p=In(s[4].substr(s[4].length-p.length))+p),i+=p,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),d=Bm(u,Math.pow(10,l)-1,!0),f+(d[0]||(d[1]?"":"0"))+" "+(d[1]?fS(d[1],l)+s[2]+"/"+s[3]+Pm(d[2],l):Dr(" ",2*l+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=Kl(r,0),t.length<=i.length?i:In(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=t.indexOf(".")-l,g=t.length-i.length-m;return In(t.substr(0,m)+i+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return l=U3(r,s[1].length),r<0?"-"+Da(e,t,-r):Xs(uie(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(j){return"00,"+(j.length<3?ni(0,3-j.length):"")+j})+"."+ni(l,s[1].length);switch(t){case"###,##0.00":return Da(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=Xs(Kl(u,0));return v!=="0"?f+v:"";case"###,###.00":return Da(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Da(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function fie(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return as(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function hie(e,t,r){var a=t.replace(T8,""),i=t.length-a.length;return as(e,a,r*Math.pow(10,2*i))+Dr("%",i)}function k8(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+k8(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(t/Math.pow(10,s)).toPrecision(a+1+(i+s)%i),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,u,f,p){return u+f+p.substr(0,(i+s)%i)+"."+p.substr(s)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function yi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_8)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?yi("n",a,r):"("+yi("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return fie(e,t,r);if(t.indexOf("%")!==-1)return hie(e,t,r);if(t.indexOf("E")!==-1)return k8(t,r);if(t.charCodeAt(0)===36)return"$"+yi(e,t.substr(t.charAt(1)==" "?2:1),r);var i,s,l,d,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+ni(u,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:In(t.substr(0,t.length-i.length))+i;if(s=t.match(A8))return cie(s,u,f);if(t.match(/^#+0+$/))return f+ni(u,t.length-t.indexOf("0"));if(s=t.match(E8))return i=(""+r).replace(/^([^\.]+)$/,"$1."+In(s[1])).replace(/\.$/,"."+In(s[1])),i=i.replace(/\.(\d*)$/,function(j,b){return"."+b+Dr("0",In(s[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return f+Xs(""+u);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+yi(e,t,-r):Xs(""+r)+"."+Dr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return yi(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=cc(yi(e,t.replace(/[\\-]/g,""),r)),l=0,cc(cc(t.replace(/\\/g,"")).replace(/[0#]/g,function(j){return l<i.length?i.charAt(l++):j==="0"?"0":""}));if(t.match(O8))return i=yi(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),d=Bm(u,Math.pow(10,l)-1,!1),i=""+f,p=as("n",s[1],d[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+s[2]+"/"+s[3],p=Pm(d[2],l),p.length<s[4].length&&(p=In(s[4].substr(s[4].length-p.length))+p),i+=p,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),d=Bm(u,Math.pow(10,l)-1,!0),f+(d[0]||(d[1]?"":"0"))+" "+(d[1]?fS(d[1],l)+s[2]+"/"+s[3]+Pm(d[2],l):Dr(" ",2*l+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:In(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=t.indexOf(".")-l,g=t.length-i.length-m;return In(t.substr(0,m)+i+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+yi(e,t,-r):Xs(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(j){return"00,"+(j.length<3?ni(0,3-j.length):"")+j})+"."+ni(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var v=Xs(""+u);return v!=="0"?f+v:"";default:if(t.match(/\.[0#?]*$/))return yi(e,t.slice(0,t.lastIndexOf(".")),r)+In(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function as(e,t,r){return(r|0)===r?yi(e,t,r):Da(e,t,r)}function pie(e){for(var t=[],r=!1,a=0,i=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(i,a-i),i=a+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var D8=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function I8(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":Mm(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(D8))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function mie(e,t,r,a){for(var i=[],s="",l=0,d="",u="t",f,p,m,g="H";l<e.length;)switch(d=e.charAt(l)){case"G":if(!Mm(e,l))throw new Error("unrecognized character "+d+" in "+e);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(m=e.charCodeAt(++l))!==34&&l<e.length;)s+=String.fromCharCode(m);i[i.length]={t:"t",v:s},++l;break;case"\\":var v=e.charAt(++l),j=v==="("||v===")"?v:"t";i[i.length]={t:j,v},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(f==null&&(f=yp(t,r,e.charAt(l+1)==="2"),f==null))return"";i[i.length]={t:"X",v:e.substr(l,2)},u=d,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=yp(t,r),f==null))return"";for(s=d;++l<e.length&&e.charAt(l).toLowerCase()===d;)s+=d;d==="m"&&u.toLowerCase()==="h"&&(d="M"),d==="h"&&(d=g),i[i.length]={t:d,v:s},u=d;break;case"A":case"a":case"":var b={t:d,v:d};if(f==null&&(f=yp(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(b.v=f.H>=12?"P":"A"),b.t="T",g="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(b.v=f.H>=12?"PM":"AM"),b.t="T",l+=5,g="h"):e.substr(l,5).toUpperCase()==="/"?(f!=null&&(b.v=f.H>=12?"":""),b.t="T",l+=5,g="h"):(b.t="t",++l),f==null&&b.t==="T")return"";i[i.length]=b,u=d;break;case"[":for(s=d;e.charAt(l++)!=="]"&&l<e.length;)s+=e.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(D8)){if(f==null&&(f=yp(t,r),f==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},u=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",I8(e)||(i[i.length]={t:"t",v:s}));break;case".":if(f!=null){for(s=d;++l<e.length&&(d=e.charAt(l))==="0";)s+=d;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=d;++l<e.length&&"0#?.,E+-%".indexOf(d=e.charAt(l))>-1;)s+=d;i[i.length]={t:"n",v:s};break;case"?":for(s=d;e.charAt(++l)===d;)s+=d;i[i.length]={t:d,v:s},u=d;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:a===1?"t":d,v:d},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=d;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)s+=e.charAt(l);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:d,v:d},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d)===-1)throw new Error("unrecognized character "+d+" in "+e);i[i.length]={t:"t",v:d},++l;break}var y=0,C=0,T;for(l=i.length-1,u="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=g,u="h",y<1&&(y=1);break;case"s":(T=i[l].v.match(/\.0+$/))&&(C=Math.max(C,T[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":u=i[l].t;break;case"m":u==="s"&&(i[l].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[l].v.match(/[Hh]/)&&(y=1),y<2&&i[l].v.match(/[Mm]/)&&(y=2),y<3&&i[l].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var E="",S;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=iie(i[l].t.charCodeAt(0),i[l].v,f,C),i[l].t="t";break;case"n":case"?":for(S=l+1;i[S]!=null&&((d=i[S].t)==="?"||d==="D"||(d===" "||d==="t")&&i[S+1]!=null&&(i[S+1].t==="?"||i[S+1].t==="t"&&i[S+1].v==="/")||i[l].t==="("&&(d===" "||d==="n"||d===")")||d==="t"&&(i[S].v==="/"||i[S].v===" "&&i[S+1]!=null&&i[S+1].t=="?"));)i[l].v+=i[S].v,i[S]={v:"",t:";"},++S;E+=i[l].v,l=S-1;break;case"G":i[l].t="t",i[l].v=q2(t,r);break}var A="",k,I;if(E.length>0){E.charCodeAt(0)==40?(k=t<0&&E.charCodeAt(0)===45?-t:t,I=as("n",E,k)):(k=t<0&&a>1?-t:t,I=as("n",E,k),k<0&&i[0]&&i[0].t=="t"&&(I=I.substr(1),i[0].v="-"+i[0].v)),S=I.length-1;var B=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){B=l;break}var M=i.length;if(B===i.length&&I.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(S>=i[l].v.length-1?(S-=i[l].v.length,i[l].v=I.substr(S+1,i[l].v.length)):S<0?i[l].v="":(i[l].v=I.substr(0,S+1),S=-1),i[l].t="t",M=l);S>=0&&M<i.length&&(i[M].v=I.substr(0,S+1)+i[M].v)}else if(B!==i.length&&I.indexOf("E")===-1){for(S=I.indexOf(".")-1,l=B;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(p=i[l].v.indexOf(".")>-1&&l===B?i[l].v.indexOf(".")-1:i[l].v.length-1,A=i[l].v.substr(p+1);p>=0;--p)S>=0&&(i[l].v.charAt(p)==="0"||i[l].v.charAt(p)==="#")&&(A=I.charAt(S--)+A);i[l].v=A,i[l].t="t",M=l}for(S>=0&&M<i.length&&(i[M].v=I.substr(0,S+1)+i[M].v),S=I.indexOf(".")+1,l=B;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==B)){for(p=i[l].v.indexOf(".")>-1&&l===B?i[l].v.indexOf(".")+1:0,A=i[l].v.substr(0,p);p<i[l].v.length;++p)S<I.length&&(A+=I.charAt(S++));i[l].v=A,i[l].t="t",M=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(k=a>1&&t<0&&l>0&&i[l-1].v==="-"?-t:t,i[l].v=as(i[l].t,i[l].v,k),i[l].t="t");var L="";for(l=0;l!==i.length;++l)i[l]!=null&&(L+=i[l].v);return L}var q3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function W3(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function xie(e,t){var r=pie(e),a=r.length,i=r[a-1].indexOf("@");if(a<4&&i>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(q3),d=r[1].match(q3);return W3(t,l)?[a,r[0]]:W3(t,d)?[a,r[1]]:[a,r[l!=null&&d!=null?2:1]]}return[a,s]}function to(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Ir)[e],a==null&&(a=r.table&&r.table[z3[e]]||Ir[z3[e]]),a==null&&(a=Qae[e]||"General");break}if(Mm(a,0))return q2(t,r);t instanceof Date&&(t=N8(t,r.date1904));var i=xie(a,t);if(Mm(i[1]))return q2(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return mie(i[1],t,r,i[0])}function R8(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ir[r]==null){t<0&&(t=r);continue}if(Ir[r]==e){t=r;break}}t<0&&(t=391)}return Ir[t]=e,t}function P0(e){for(var t=0;t!=392;++t)e[t]!==void 0&&R8(e[t],t)}function M0(){Ir=Kae()}var P8=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function gie(e){var t=typeof e=="number"?Ir[e]:e;return t=t.replace(P8,"(\\d+)"),new RegExp("^"+t+"$")}function yie(e,t,r){var a=-1,i=-1,s=-1,l=-1,d=-1,u=-1;(t.match(P8)||[]).forEach(function(m,g){var v=parseInt(r[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":a=v;break;case"d":s=v;break;case"h":l=v;break;case"s":u=v;break;case"m":l>=0?d=v:i=v;break}}),u>=0&&d==-1&&i>=0&&(d=i,i=-1);var f=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return l==-1&&d==-1&&u==-1?f:a==-1&&i==-1&&s==-1?p:f+"T"+p}var vie=function(){var e={};e.version="1.2.0";function t(){for(var I=0,B=new Array(256),M=0;M!=256;++M)I=M,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,B[M]=I;return typeof Int32Array<"u"?new Int32Array(B):B}var r=t();function a(I){var B=0,M=0,L=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)F[L]=I[L];for(L=0;L!=256;++L)for(M=I[L],B=256+L;B<4096;B+=256)M=F[B]=M>>>8^I[M&255];var _=[];for(L=1;L!=16;++L)_[L-1]=typeof Int32Array<"u"?F.subarray(L*256,L*256+256):F.slice(L*256,L*256+256);return _}var i=a(r),s=i[0],l=i[1],d=i[2],u=i[3],f=i[4],p=i[5],m=i[6],g=i[7],v=i[8],j=i[9],b=i[10],y=i[11],C=i[12],T=i[13],E=i[14];function S(I,B){for(var M=B^-1,L=0,F=I.length;L<F;)M=M>>>8^r[(M^I.charCodeAt(L++))&255];return~M}function A(I,B){for(var M=B^-1,L=I.length-15,F=0;F<L;)M=E[I[F++]^M&255]^T[I[F++]^M>>8&255]^C[I[F++]^M>>16&255]^y[I[F++]^M>>>24]^b[I[F++]]^j[I[F++]]^v[I[F++]]^g[I[F++]]^m[I[F++]]^p[I[F++]]^f[I[F++]]^u[I[F++]]^d[I[F++]]^l[I[F++]]^s[I[F++]]^r[I[F++]];for(L+=15;F<L;)M=M>>>8^r[(M^I[F++])&255];return~M}function k(I,B){for(var M=B^-1,L=0,F=I.length,_=0,G=0;L<F;)_=I.charCodeAt(L++),_<128?M=M>>>8^r[(M^_)&255]:_<2048?(M=M>>>8^r[(M^(192|_>>6&31))&255],M=M>>>8^r[(M^(128|_&63))&255]):_>=55296&&_<57344?(_=(_&1023)+64,G=I.charCodeAt(L++)&1023,M=M>>>8^r[(M^(240|_>>8&7))&255],M=M>>>8^r[(M^(128|_>>2&63))&255],M=M>>>8^r[(M^(128|G>>6&15|(_&3)<<4))&255],M=M>>>8^r[(M^(128|G&63))&255]):(M=M>>>8^r[(M^(224|_>>12&15))&255],M=M>>>8^r[(M^(128|_>>6&63))&255],M=M>>>8^r[(M^(128|_&63))&255]);return~M}return e.table=r,e.bstr=S,e.buf=A,e.str=k,e}(),pr=function(){var t={};t.version="1.2.1";function r(ae,pe){for(var oe=ae.split("/"),ue=pe.split("/"),he=0,xe=0,Pe=Math.min(oe.length,ue.length);he<Pe;++he){if(xe=oe[he].length-ue[he].length)return xe;if(oe[he]!=ue[he])return oe[he]<ue[he]?-1:1}return oe.length-ue.length}function a(ae){if(ae.charAt(ae.length-1)=="/")return ae.slice(0,-1).indexOf("/")===-1?ae:a(ae.slice(0,-1));var pe=ae.lastIndexOf("/");return pe===-1?ae:ae.slice(0,pe+1)}function i(ae){if(ae.charAt(ae.length-1)=="/")return i(ae.slice(0,-1));var pe=ae.lastIndexOf("/");return pe===-1?ae:ae.slice(pe+1)}function s(ae,pe){typeof pe=="string"&&(pe=new Date(pe));var oe=pe.getHours();oe=oe<<6|pe.getMinutes(),oe=oe<<5|pe.getSeconds()>>>1,ae.write_shift(2,oe);var ue=pe.getFullYear()-1980;ue=ue<<4|pe.getMonth()+1,ue=ue<<5|pe.getDate(),ae.write_shift(2,ue)}function l(ae){var pe=ae.read_shift(2)&65535,oe=ae.read_shift(2)&65535,ue=new Date,he=oe&31;oe>>>=5;var xe=oe&15;oe>>>=4,ue.setMilliseconds(0),ue.setFullYear(oe+1980),ue.setMonth(xe-1),ue.setDate(he);var Pe=pe&31;pe>>>=5;var We=pe&63;return pe>>>=6,ue.setHours(pe),ue.setMinutes(We),ue.setSeconds(Pe<<1),ue}function d(ae){ha(ae,0);for(var pe={},oe=0;ae.l<=ae.length-4;){var ue=ae.read_shift(2),he=ae.read_shift(2),xe=ae.l+he,Pe={};switch(ue){case 21589:oe=ae.read_shift(1),oe&1&&(Pe.mtime=ae.read_shift(4)),he>5&&(oe&2&&(Pe.atime=ae.read_shift(4)),oe&4&&(Pe.ctime=ae.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3));break}ae.l=xe,pe[ue]=Pe}return pe}var u;function f(){return u||(u={})}function p(ae,pe){if(ae[0]==80&&ae[1]==75)return lt(ae,pe);if((ae[0]|32)==109&&(ae[1]|32)==105)return or(ae,pe);if(ae.length<512)throw new Error("CFB file size "+ae.length+" < 512");var oe=3,ue=512,he=0,xe=0,Pe=0,We=0,De=0,Be=[],ze=ae.slice(0,512);ha(ze,0);var et=m(ze);switch(oe=et[0],oe){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(et[1]==0)return lt(ae,pe);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}ue!==512&&(ze=ae.slice(0,ue),ha(ze,28));var it=ae.slice(0,ue);g(ze,oe);var ht=ze.read_shift(4,"i");if(oe===3&&ht!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ht);ze.l+=4,Pe=ze.read_shift(4,"i"),ze.l+=4,ze.chk("00100000","Mini Stream Cutoff Size: "),We=ze.read_shift(4,"i"),he=ze.read_shift(4,"i"),De=ze.read_shift(4,"i"),xe=ze.read_shift(4,"i");for(var at=-1,ft=0;ft<109&&(at=ze.read_shift(4,"i"),!(at<0));++ft)Be[ft]=at;var At=v(ae,ue);y(De,xe,At,ue,Be);var lr=T(At,Pe,Be,ue);lr[Pe].name="!Directory",he>0&&We!==G&&(lr[We].name="!MiniFAT"),lr[Be[0]].name="!FAT",lr.fat_addrs=Be,lr.ssz=ue;var cr={},yr=[],Ei=[],bs=[];E(Pe,lr,At,yr,he,cr,Ei,We),j(Ei,bs,yr),yr.shift();var va={FileIndex:Ei,FullPaths:bs};return pe&&pe.raw&&(va.raw={header:it,sectors:At}),va}function m(ae){if(ae[ae.l]==80&&ae[ae.l+1]==75)return[0,0];ae.chk(P,"Header Signature: "),ae.l+=16;var pe=ae.read_shift(2,"u");return[ae.read_shift(2,"u"),pe]}function g(ae,pe){var oe=9;switch(ae.l+=2,oe=ae.read_shift(2)){case 9:if(pe!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(pe!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}ae.chk("0600","Mini Sector Shift: "),ae.chk("000000000000","Reserved: ")}function v(ae,pe){for(var oe=Math.ceil(ae.length/pe)-1,ue=[],he=1;he<oe;++he)ue[he-1]=ae.slice(he*pe,(he+1)*pe);return ue[oe-1]=ae.slice(oe*pe),ue}function j(ae,pe,oe){for(var ue=0,he=0,xe=0,Pe=0,We=0,De=oe.length,Be=[],ze=[];ue<De;++ue)Be[ue]=ze[ue]=ue,pe[ue]=oe[ue];for(;We<ze.length;++We)ue=ze[We],he=ae[ue].L,xe=ae[ue].R,Pe=ae[ue].C,Be[ue]===ue&&(he!==-1&&Be[he]!==he&&(Be[ue]=Be[he]),xe!==-1&&Be[xe]!==xe&&(Be[ue]=Be[xe])),Pe!==-1&&(Be[Pe]=ue),he!==-1&&ue!=Be[ue]&&(Be[he]=Be[ue],ze.lastIndexOf(he)<We&&ze.push(he)),xe!==-1&&ue!=Be[ue]&&(Be[xe]=Be[ue],ze.lastIndexOf(xe)<We&&ze.push(xe));for(ue=1;ue<De;++ue)Be[ue]===ue&&(xe!==-1&&Be[xe]!==xe?Be[ue]=Be[xe]:he!==-1&&Be[he]!==he&&(Be[ue]=Be[he]));for(ue=1;ue<De;++ue)if(ae[ue].type!==0){if(We=ue,We!=Be[We])do We=Be[We],pe[ue]=pe[We]+"/"+pe[ue];while(We!==0&&Be[We]!==-1&&We!=Be[We]);Be[ue]=-1}for(pe[0]+="/",ue=1;ue<De;++ue)ae[ue].type!==2&&(pe[ue]+="/")}function b(ae,pe,oe){for(var ue=ae.start,he=ae.size,xe=[],Pe=ue;oe&&he>0&&Pe>=0;)xe.push(pe.slice(Pe*_,Pe*_+_)),he-=_,Pe=Ro(oe,Pe*4);return xe.length===0?He(0):mn(xe).slice(0,ae.size)}function y(ae,pe,oe,ue,he){var xe=G;if(ae===G){if(pe!==0)throw new Error("DIFAT chain shorter than expected")}else if(ae!==-1){var Pe=oe[ae],We=(ue>>>2)-1;if(!Pe)return;for(var De=0;De<We&&(xe=Ro(Pe,De*4))!==G;++De)he.push(xe);y(Ro(Pe,ue-4),pe-1,oe,ue,he)}}function C(ae,pe,oe,ue,he){var xe=[],Pe=[];he||(he=[]);var We=ue-1,De=0,Be=0;for(De=pe;De>=0;){he[De]=!0,xe[xe.length]=De,Pe.push(ae[De]);var ze=oe[Math.floor(De*4/ue)];if(Be=De*4&We,ue<4+Be)throw new Error("FAT boundary crossed: "+De+" 4 "+ue);if(!ae[ze])break;De=Ro(ae[ze],Be)}return{nodes:xe,data:Z3([Pe])}}function T(ae,pe,oe,ue){var he=ae.length,xe=[],Pe=[],We=[],De=[],Be=ue-1,ze=0,et=0,it=0,ht=0;for(ze=0;ze<he;++ze)if(We=[],it=ze+pe,it>=he&&(it-=he),!Pe[it]){De=[];var at=[];for(et=it;et>=0;){at[et]=!0,Pe[et]=!0,We[We.length]=et,De.push(ae[et]);var ft=oe[Math.floor(et*4/ue)];if(ht=et*4&Be,ue<4+ht)throw new Error("FAT boundary crossed: "+et+" 4 "+ue);if(!ae[ft]||(et=Ro(ae[ft],ht),at[et]))break}xe[it]={nodes:We,data:Z3([De])}}return xe}function E(ae,pe,oe,ue,he,xe,Pe,We){for(var De=0,Be=ue.length?2:0,ze=pe[ae].data,et=0,it=0,ht;et<ze.length;et+=128){var at=ze.slice(et,et+128);ha(at,64),it=at.read_shift(2),ht=yS(at,0,it-Be),ue.push(ht);var ft={name:ht,type:at.read_shift(1),color:at.read_shift(1),L:at.read_shift(4,"i"),R:at.read_shift(4,"i"),C:at.read_shift(4,"i"),clsid:at.read_shift(16),state:at.read_shift(4,"i"),start:0,size:0},At=at.read_shift(2)+at.read_shift(2)+at.read_shift(2)+at.read_shift(2);At!==0&&(ft.ct=S(at,at.l-8));var lr=at.read_shift(2)+at.read_shift(2)+at.read_shift(2)+at.read_shift(2);lr!==0&&(ft.mt=S(at,at.l-8)),ft.start=at.read_shift(4,"i"),ft.size=at.read_shift(4,"i"),ft.size<0&&ft.start<0&&(ft.size=ft.type=0,ft.start=G,ft.name=""),ft.type===5?(De=ft.start,he>0&&De!==G&&(pe[De].name="!StreamData")):ft.size>=4096?(ft.storage="fat",pe[ft.start]===void 0&&(pe[ft.start]=C(oe,ft.start,pe.fat_addrs,pe.ssz)),pe[ft.start].name=ft.name,ft.content=pe[ft.start].data.slice(0,ft.size)):(ft.storage="minifat",ft.size<0?ft.size=0:De!==G&&ft.start!==G&&pe[De]&&(ft.content=b(ft,pe[De].data,(pe[We]||{}).data))),ft.content&&ha(ft.content,0),xe[ht]=ft,Pe.push(ft)}}function S(ae,pe){return new Date((ma(ae,pe+4)/1e7*Math.pow(2,32)+ma(ae,pe)/1e7-11644473600)*1e3)}function A(ae,pe){return f(),p(u.readFileSync(ae),pe)}function k(ae,pe){var oe=pe&&pe.type;switch(oe||Qt&&Buffer.isBuffer(ae)&&(oe="buffer"),oe||"base64"){case"file":return A(ae,pe);case"base64":return p(ti(hs(ae)),pe);case"binary":return p(ti(ae),pe)}return p(ae,pe)}function I(ae,pe){var oe=pe||{},ue=oe.root||"Root Entry";if(ae.FullPaths||(ae.FullPaths=[]),ae.FileIndex||(ae.FileIndex=[]),ae.FullPaths.length!==ae.FileIndex.length)throw new Error("inconsistent CFB structure");ae.FullPaths.length===0&&(ae.FullPaths[0]=ue+"/",ae.FileIndex[0]={name:ue,type:5}),oe.CLSID&&(ae.FileIndex[0].clsid=oe.CLSID),B(ae)}function B(ae){var pe="Sh33tJ5";if(!pr.find(ae,"/"+pe)){var oe=He(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,ae.FileIndex.push({name:pe,type:2,content:oe,size:4,L:69,R:69,C:69}),ae.FullPaths.push(ae.FullPaths[0]+pe),M(ae)}}function M(ae,pe){I(ae);for(var oe=!1,ue=!1,he=ae.FullPaths.length-1;he>=0;--he){var xe=ae.FileIndex[he];switch(xe.type){case 0:ue?oe=!0:(ae.FileIndex.pop(),ae.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(xe.R*xe.L*xe.C)&&(oe=!0),xe.R>-1&&xe.L>-1&&xe.R==xe.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!pe)){var Pe=new Date(1987,1,19),We=0,De=Object.create?Object.create(null):{},Be=[];for(he=0;he<ae.FullPaths.length;++he)De[ae.FullPaths[he]]=!0,ae.FileIndex[he].type!==0&&Be.push([ae.FullPaths[he],ae.FileIndex[he]]);for(he=0;he<Be.length;++he){var ze=a(Be[he][0]);ue=De[ze],ue||(Be.push([ze,{name:i(ze).replace("/",""),type:1,clsid:R,ct:Pe,mt:Pe,content:null}]),De[ze]=!0)}for(Be.sort(function(ht,at){return r(ht[0],at[0])}),ae.FullPaths=[],ae.FileIndex=[],he=0;he<Be.length;++he)ae.FullPaths[he]=Be[he][0],ae.FileIndex[he]=Be[he][1];for(he=0;he<Be.length;++he){var et=ae.FileIndex[he],it=ae.FullPaths[he];if(et.name=i(it).replace("/",""),et.L=et.R=et.C=-(et.color=1),et.size=et.content?et.content.length:0,et.start=0,et.clsid=et.clsid||R,he===0)et.C=Be.length>1?1:-1,et.size=0,et.type=5;else if(it.slice(-1)=="/"){for(We=he+1;We<Be.length&&a(ae.FullPaths[We])!=it;++We);for(et.C=We>=Be.length?-1:We,We=he+1;We<Be.length&&a(ae.FullPaths[We])!=a(it);++We);et.R=We>=Be.length?-1:We,et.type=1}else a(ae.FullPaths[he+1]||"")==a(it)&&(et.R=he+1),et.type=2}}}function L(ae,pe){var oe=pe||{};if(oe.fileType=="mad")return jn(ae,oe);switch(M(ae),oe.fileType){case"zip":return Lt(ae,oe)}var ue=function(ht){for(var at=0,ft=0,At=0;At<ht.FileIndex.length;++At){var lr=ht.FileIndex[At];if(lr.content){var cr=lr.content.length;cr>0&&(cr<4096?at+=cr+63>>6:ft+=cr+511>>9)}}for(var yr=ht.FullPaths.length+3>>2,Ei=at+7>>3,bs=at+127>>7,va=Ei+ft+yr+bs,Ua=va+127>>7,uo=Ua<=109?0:Math.ceil((Ua-109)/127);va+Ua+uo+127>>7>Ua;)uo=++Ua<=109?0:Math.ceil((Ua-109)/127);var qa=[1,uo,Ua,bs,yr,ft,at,0];return ht.FileIndex[0].size=at<<6,qa[7]=(ht.FileIndex[0].start=qa[0]+qa[1]+qa[2]+qa[3]+qa[4]+qa[5])+(qa[6]+7>>3),qa}(ae),he=He(ue[7]<<9),xe=0,Pe=0;{for(xe=0;xe<8;++xe)he.write_shift(1,D[xe]);for(xe=0;xe<8;++xe)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),xe=0;xe<3;++xe)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,ue[2]),he.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:G),he.write_shift(4,ue[3]),he.write_shift(-4,ue[1]?ue[0]-1:G),he.write_shift(4,ue[1]),xe=0;xe<109;++xe)he.write_shift(-4,xe<ue[2]?ue[1]+xe:-1)}if(ue[1])for(Pe=0;Pe<ue[1];++Pe){for(;xe<236+Pe*127;++xe)he.write_shift(-4,xe<ue[2]?ue[1]+xe:-1);he.write_shift(-4,Pe===ue[1]-1?G:Pe+1)}var We=function(ht){for(Pe+=ht;xe<Pe-1;++xe)he.write_shift(-4,xe+1);ht&&(++xe,he.write_shift(-4,G))};for(Pe=xe=0,Pe+=ue[1];xe<Pe;++xe)he.write_shift(-4,H.DIFSECT);for(Pe+=ue[2];xe<Pe;++xe)he.write_shift(-4,H.FATSECT);We(ue[3]),We(ue[4]);for(var De=0,Be=0,ze=ae.FileIndex[0];De<ae.FileIndex.length;++De)ze=ae.FileIndex[De],ze.content&&(Be=ze.content.length,!(Be<4096)&&(ze.start=Pe,We(Be+511>>9)));for(We(ue[6]+7>>3);he.l&511;)he.write_shift(-4,H.ENDOFCHAIN);for(Pe=xe=0,De=0;De<ae.FileIndex.length;++De)ze=ae.FileIndex[De],ze.content&&(Be=ze.content.length,!(!Be||Be>=4096)&&(ze.start=Pe,We(Be+63>>6)));for(;he.l&511;)he.write_shift(-4,H.ENDOFCHAIN);for(xe=0;xe<ue[4]<<2;++xe){var et=ae.FullPaths[xe];if(!et||et.length===0){for(De=0;De<17;++De)he.write_shift(4,0);for(De=0;De<3;++De)he.write_shift(4,-1);for(De=0;De<12;++De)he.write_shift(4,0);continue}ze=ae.FileIndex[xe],xe===0&&(ze.start=ze.size?ze.start-1:G);var it=xe===0&&oe.root||ze.name;if(Be=2*(it.length+1),he.write_shift(64,it,"utf16le"),he.write_shift(2,Be),he.write_shift(1,ze.type),he.write_shift(1,ze.color),he.write_shift(-4,ze.L),he.write_shift(-4,ze.R),he.write_shift(-4,ze.C),ze.clsid)he.write_shift(16,ze.clsid,"hex");else for(De=0;De<4;++De)he.write_shift(4,0);he.write_shift(4,ze.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,ze.start),he.write_shift(4,ze.size),he.write_shift(4,0)}for(xe=1;xe<ae.FileIndex.length;++xe)if(ze=ae.FileIndex[xe],ze.size>=4096)if(he.l=ze.start+1<<9,Qt&&Buffer.isBuffer(ze.content))ze.content.copy(he,he.l,0,ze.size),he.l+=ze.size+511&-512;else{for(De=0;De<ze.size;++De)he.write_shift(1,ze.content[De]);for(;De&511;++De)he.write_shift(1,0)}for(xe=1;xe<ae.FileIndex.length;++xe)if(ze=ae.FileIndex[xe],ze.size>0&&ze.size<4096)if(Qt&&Buffer.isBuffer(ze.content))ze.content.copy(he,he.l,0,ze.size),he.l+=ze.size+63&-64;else{for(De=0;De<ze.size;++De)he.write_shift(1,ze.content[De]);for(;De&63;++De)he.write_shift(1,0)}if(Qt)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function F(ae,pe){var oe=ae.FullPaths.map(function(De){return De.toUpperCase()}),ue=oe.map(function(De){var Be=De.split("/");return Be[Be.length-(De.slice(-1)=="/"?2:1)]}),he=!1;pe.charCodeAt(0)===47?(he=!0,pe=oe[0].slice(0,-1)+pe):he=pe.indexOf("/")!==-1;var xe=pe.toUpperCase(),Pe=he===!0?oe.indexOf(xe):ue.indexOf(xe);if(Pe!==-1)return ae.FileIndex[Pe];var We=!xe.match(gp);for(xe=xe.replace(Cu,""),We&&(xe=xe.replace(gp,"!")),Pe=0;Pe<oe.length;++Pe)if((We?oe[Pe].replace(gp,"!"):oe[Pe]).replace(Cu,"")==xe||(We?ue[Pe].replace(gp,"!"):ue[Pe]).replace(Cu,"")==xe)return ae.FileIndex[Pe];return null}var _=64,G=-2,P="d0cf11e0a1b11ae1",D=[208,207,17,224,161,177,26,225],R="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:G,FREESECT:-1,HEADER_SIGNATURE:P,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:R,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ne(ae,pe,oe){f();var ue=L(ae,oe);u.writeFileSync(pe,ue)}function me(ae){for(var pe=new Array(ae.length),oe=0;oe<ae.length;++oe)pe[oe]=String.fromCharCode(ae[oe]);return pe.join("")}function q(ae,pe){var oe=L(ae,pe);switch(pe&&pe.type||"buffer"){case"file":return f(),u.writeFileSync(pe.filename,oe),oe;case"binary":return typeof oe=="string"?oe:me(oe);case"base64":return vf(typeof oe=="string"?oe:me(oe));case"buffer":if(Qt)return Buffer.isBuffer(oe)?oe:ys(oe);case"array":return typeof oe=="string"?ti(oe):oe}return oe}var X;function z(ae){try{var pe=ae.InflateRaw,oe=new pe;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)X=ae;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function te(ae,pe){if(!X)return nt(ae,pe);var oe=X.InflateRaw,ue=new oe,he=ue._processChunk(ae.slice(ae.l),ue._finishFlushFlag);return ae.l+=ue.bytesRead,he}function U(ae){return X?X.deflateRawSync(ae):Se(ae)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function je(ae){var pe=(ae<<1|ae<<11)&139536|(ae<<5|ae<<15)&558144;return(pe>>16|pe>>8|pe)&255}for(var ie=typeof Uint8Array<"u",ve=ie?new Uint8Array(256):[],Ne=0;Ne<256;++Ne)ve[Ne]=je(Ne);function ge(ae,pe){var oe=ve[ae&255];return pe<=8?oe>>>8-pe:(oe=oe<<8|ve[ae>>8&255],pe<=16?oe>>>16-pe:(oe=oe<<8|ve[ae>>16&255],oe>>>24-pe))}function Ye(ae,pe){var oe=pe&7,ue=pe>>>3;return(ae[ue]|(oe<=6?0:ae[ue+1]<<8))>>>oe&3}function Te(ae,pe){var oe=pe&7,ue=pe>>>3;return(ae[ue]|(oe<=5?0:ae[ue+1]<<8))>>>oe&7}function qe(ae,pe){var oe=pe&7,ue=pe>>>3;return(ae[ue]|(oe<=4?0:ae[ue+1]<<8))>>>oe&15}function V(ae,pe){var oe=pe&7,ue=pe>>>3;return(ae[ue]|(oe<=3?0:ae[ue+1]<<8))>>>oe&31}function fe(ae,pe){var oe=pe&7,ue=pe>>>3;return(ae[ue]|(oe<=1?0:ae[ue+1]<<8))>>>oe&127}function Ee(ae,pe,oe){var ue=pe&7,he=pe>>>3,xe=(1<<oe)-1,Pe=ae[he]>>>ue;return oe<8-ue||(Pe|=ae[he+1]<<8-ue,oe<16-ue)||(Pe|=ae[he+2]<<16-ue,oe<24-ue)||(Pe|=ae[he+3]<<24-ue),Pe&xe}function K(ae,pe,oe){var ue=pe&7,he=pe>>>3;return ue<=5?ae[he]|=(oe&7)<<ue:(ae[he]|=oe<<ue&255,ae[he+1]=(oe&7)>>8-ue),pe+3}function re(ae,pe,oe){var ue=pe&7,he=pe>>>3;return oe=(oe&1)<<ue,ae[he]|=oe,pe+1}function W(ae,pe,oe){var ue=pe&7,he=pe>>>3;return oe<<=ue,ae[he]|=oe&255,oe>>>=8,ae[he+1]=oe,pe+8}function Z(ae,pe,oe){var ue=pe&7,he=pe>>>3;return oe<<=ue,ae[he]|=oe&255,oe>>>=8,ae[he+1]=oe&255,ae[he+2]=oe>>>8,pe+16}function Q(ae,pe){var oe=ae.length,ue=2*oe>pe?2*oe:pe+5,he=0;if(oe>=pe)return ae;if(Qt){var xe=B3(ue);if(ae.copy)ae.copy(xe);else for(;he<ae.length;++he)xe[he]=ae[he];return xe}else if(ie){var Pe=new Uint8Array(ue);if(Pe.set)Pe.set(ae);else for(;he<oe;++he)Pe[he]=ae[he];return Pe}return ae.length=ue,ae}function be(ae){for(var pe=new Array(ae),oe=0;oe<ae;++oe)pe[oe]=0;return pe}function Me(ae,pe,oe){var ue=1,he=0,xe=0,Pe=0,We=0,De=ae.length,Be=ie?new Uint16Array(32):be(32);for(xe=0;xe<32;++xe)Be[xe]=0;for(xe=De;xe<oe;++xe)ae[xe]=0;De=ae.length;var ze=ie?new Uint16Array(De):be(De);for(xe=0;xe<De;++xe)Be[he=ae[xe]]++,ue<he&&(ue=he),ze[xe]=0;for(Be[0]=0,xe=1;xe<=ue;++xe)Be[xe+16]=We=We+Be[xe-1]<<1;for(xe=0;xe<De;++xe)We=ae[xe],We!=0&&(ze[xe]=Be[We+16]++);var et=0;for(xe=0;xe<De;++xe)if(et=ae[xe],et!=0)for(We=ge(ze[xe],ue)>>ue-et,Pe=(1<<ue+4-et)-1;Pe>=0;--Pe)pe[We|Pe<<et]=et&15|xe<<4;return ue}var Ge=ie?new Uint16Array(512):be(512),Le=ie?new Uint16Array(32):be(32);if(!ie){for(var ye=0;ye<512;++ye)Ge[ye]=0;for(ye=0;ye<32;++ye)Le[ye]=0}(function(){for(var ae=[],pe=0;pe<32;pe++)ae.push(5);Me(ae,Le,32);var oe=[];for(pe=0;pe<=143;pe++)oe.push(8);for(;pe<=255;pe++)oe.push(9);for(;pe<=279;pe++)oe.push(7);for(;pe<=287;pe++)oe.push(8);Me(oe,Ge,288)})();var de=function(){for(var pe=ie?new Uint8Array(32768):[],oe=0,ue=0;oe<ce.length-1;++oe)for(;ue<ce[oe+1];++ue)pe[ue]=oe;for(;ue<32768;++ue)pe[ue]=29;var he=ie?new Uint8Array(259):[];for(oe=0,ue=0;oe<le.length-1;++oe)for(;ue<le[oe+1];++ue)he[ue]=oe;function xe(We,De){for(var Be=0;Be<We.length;){var ze=Math.min(65535,We.length-Be),et=Be+ze==We.length;for(De.write_shift(1,+et),De.write_shift(2,ze),De.write_shift(2,~ze&65535);ze-- >0;)De[De.l++]=We[Be++]}return De.l}function Pe(We,De){for(var Be=0,ze=0,et=ie?new Uint16Array(32768):[];ze<We.length;){var it=Math.min(65535,We.length-ze);if(it<10){for(Be=K(De,Be,+(ze+it==We.length)),Be&7&&(Be+=8-(Be&7)),De.l=Be/8|0,De.write_shift(2,it),De.write_shift(2,~it&65535);it-- >0;)De[De.l++]=We[ze++];Be=De.l*8;continue}Be=K(De,Be,+(ze+it==We.length)+2);for(var ht=0;it-- >0;){var at=We[ze];ht=(ht<<5^at)&32767;var ft=-1,At=0;if((ft=et[ht])&&(ft|=ze&-32768,ft>ze&&(ft-=32768),ft<ze))for(;We[ft+At]==We[ze+At]&&At<250;)++At;if(At>2){at=he[At],at<=22?Be=W(De,Be,ve[at+1]>>1)-1:(W(De,Be,3),Be+=5,W(De,Be,ve[at-23]>>5),Be+=3);var lr=at<8?0:at-4>>2;lr>0&&(Z(De,Be,At-le[at]),Be+=lr),at=pe[ze-ft],Be=W(De,Be,ve[at]>>3),Be-=3;var cr=at<4?0:at-2>>1;cr>0&&(Z(De,Be,ze-ft-ce[at]),Be+=cr);for(var yr=0;yr<At;++yr)et[ht]=ze&32767,ht=(ht<<5^We[ze])&32767,++ze;it-=At-1}else at<=143?at=at+48:Be=re(De,Be,1),Be=W(De,Be,ve[at]),et[ht]=ze&32767,++ze}Be=W(De,Be,0)-1}return De.l=(Be+7)/8|0,De.l}return function(De,Be){return De.length<8?xe(De,Be):Pe(De,Be)}}();function Se(ae){var pe=He(50+Math.floor(ae.length*1.1)),oe=de(ae,pe);return pe.slice(0,oe)}var Qe=ie?new Uint16Array(32768):be(32768),ot=ie?new Uint16Array(32768):be(32768),ut=ie?new Uint16Array(128):be(128),tt=1,J=1;function Ae(ae,pe){var oe=V(ae,pe)+257;pe+=5;var ue=V(ae,pe)+1;pe+=5;var he=qe(ae,pe)+4;pe+=4;for(var xe=0,Pe=ie?new Uint8Array(19):be(19),We=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],De=1,Be=ie?new Uint8Array(8):be(8),ze=ie?new Uint8Array(8):be(8),et=Pe.length,it=0;it<he;++it)Pe[ee[it]]=xe=Te(ae,pe),De<xe&&(De=xe),Be[xe]++,pe+=3;var ht=0;for(Be[0]=0,it=1;it<=De;++it)ze[it]=ht=ht+Be[it-1]<<1;for(it=0;it<et;++it)(ht=Pe[it])!=0&&(We[it]=ze[ht]++);var at=0;for(it=0;it<et;++it)if(at=Pe[it],at!=0){ht=ve[We[it]]>>8-at;for(var ft=(1<<7-at)-1;ft>=0;--ft)ut[ht|ft<<at]=at&7|it<<3}var At=[];for(De=1;At.length<oe+ue;)switch(ht=ut[fe(ae,pe)],pe+=ht&7,ht>>>=3){case 16:for(xe=3+Ye(ae,pe),pe+=2,ht=At[At.length-1];xe-- >0;)At.push(ht);break;case 17:for(xe=3+Te(ae,pe),pe+=3;xe-- >0;)At.push(0);break;case 18:for(xe=11+fe(ae,pe),pe+=7;xe-- >0;)At.push(0);break;default:At.push(ht),De<ht&&(De=ht);break}var lr=At.slice(0,oe),cr=At.slice(oe);for(it=oe;it<286;++it)lr[it]=0;for(it=ue;it<30;++it)cr[it]=0;return tt=Me(lr,Qe,286),J=Me(cr,ot,30),pe}function ke(ae,pe){if(ae[0]==3&&!(ae[1]&3))return[Ko(pe),2];for(var oe=0,ue=0,he=B3(pe||1<<18),xe=0,Pe=he.length>>>0,We=0,De=0;(ue&1)==0;){if(ue=Te(ae,oe),oe+=3,ue>>>1)ue>>1==1?(We=9,De=5):(oe=Ae(ae,oe),We=tt,De=J);else{oe&7&&(oe+=8-(oe&7));var Be=ae[oe>>>3]|ae[(oe>>>3)+1]<<8;if(oe+=32,Be>0)for(!pe&&Pe<xe+Be&&(he=Q(he,xe+Be),Pe=he.length);Be-- >0;)he[xe++]=ae[oe>>>3],oe+=8;continue}for(;;){!pe&&Pe<xe+32767&&(he=Q(he,xe+32767),Pe=he.length);var ze=Ee(ae,oe,We),et=ue>>>1==1?Ge[ze]:Qe[ze];if(oe+=et&15,et>>>=4,(et>>>8&255)===0)he[xe++]=et;else{if(et==256)break;et-=257;var it=et<8?0:et-4>>2;it>5&&(it=0);var ht=xe+le[et];it>0&&(ht+=Ee(ae,oe,it),oe+=it),ze=Ee(ae,oe,De),et=ue>>>1==1?Le[ze]:ot[ze],oe+=et&15,et>>>=4;var at=et<4?0:et-2>>1,ft=ce[et];for(at>0&&(ft+=Ee(ae,oe,at),oe+=at),!pe&&Pe<ht&&(he=Q(he,ht+100),Pe=he.length);xe<ht;)he[xe]=he[xe-ft],++xe}}}return pe?[he,oe+7>>>3]:[he.slice(0,xe),oe+7>>>3]}function nt(ae,pe){var oe=ae.slice(ae.l||0),ue=ke(oe,pe);return ae.l+=ue[1],ue[0]}function rt(ae,pe){if(ae)typeof console<"u"&&console.error(pe);else throw new Error(pe)}function lt(ae,pe){var oe=ae;ha(oe,0);var ue=[],he=[],xe={FileIndex:ue,FullPaths:he};I(xe,{root:pe.root});for(var Pe=oe.length-4;(oe[Pe]!=80||oe[Pe+1]!=75||oe[Pe+2]!=5||oe[Pe+3]!=6)&&Pe>=0;)--Pe;oe.l=Pe+4,oe.l+=4;var We=oe.read_shift(2);oe.l+=6;var De=oe.read_shift(4);for(oe.l=De,Pe=0;Pe<We;++Pe){oe.l+=20;var Be=oe.read_shift(4),ze=oe.read_shift(4),et=oe.read_shift(2),it=oe.read_shift(2),ht=oe.read_shift(2);oe.l+=8;var at=oe.read_shift(4),ft=d(oe.slice(oe.l+et,oe.l+et+it));oe.l+=et+it+ht;var At=oe.l;oe.l=at+4,jt(oe,Be,ze,xe,ft),oe.l=At}return xe}function jt(ae,pe,oe,ue,he){ae.l+=2;var xe=ae.read_shift(2),Pe=ae.read_shift(2),We=l(ae);if(xe&8257)throw new Error("Unsupported ZIP encryption");for(var De=ae.read_shift(4),Be=ae.read_shift(4),ze=ae.read_shift(4),et=ae.read_shift(2),it=ae.read_shift(2),ht="",at=0;at<et;++at)ht+=String.fromCharCode(ae[ae.l++]);if(it){var ft=d(ae.slice(ae.l,ae.l+it));(ft[21589]||{}).mt&&(We=ft[21589].mt),((he||{})[21589]||{}).mt&&(We=he[21589].mt)}ae.l+=it;var At=ae.slice(ae.l,ae.l+Be);switch(Pe){case 8:At=te(ae,ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var lr=!1;xe&8&&(De=ae.read_shift(4),De==134695760&&(De=ae.read_shift(4),lr=!0),Be=ae.read_shift(4),ze=ae.read_shift(4)),Be!=pe&&rt(lr,"Bad compressed size: "+pe+" != "+Be),ze!=oe&&rt(lr,"Bad uncompressed size: "+oe+" != "+ze),Rr(ue,ht,At,{unsafe:!0,mt:We})}function Lt(ae,pe){var oe=pe||{},ue=[],he=[],xe=He(1),Pe=oe.compression?8:0,We=0,De=0,Be=0,ze=0,et=0,it=ae.FullPaths[0],ht=it,at=ae.FileIndex[0],ft=[],At=0;for(De=1;De<ae.FullPaths.length;++De)if(ht=ae.FullPaths[De].slice(it.length),at=ae.FileIndex[De],!(!at.size||!at.content||ht=="Sh33tJ5")){var lr=ze,cr=He(ht.length);for(Be=0;Be<ht.length;++Be)cr.write_shift(1,ht.charCodeAt(Be)&127);cr=cr.slice(0,cr.l),ft[et]=vie.buf(at.content,0);var yr=at.content;Pe==8&&(yr=U(yr)),xe=He(30),xe.write_shift(4,67324752),xe.write_shift(2,20),xe.write_shift(2,We),xe.write_shift(2,Pe),at.mt?s(xe,at.mt):xe.write_shift(4,0),xe.write_shift(-4,ft[et]),xe.write_shift(4,yr.length),xe.write_shift(4,at.content.length),xe.write_shift(2,cr.length),xe.write_shift(2,0),ze+=xe.length,ue.push(xe),ze+=cr.length,ue.push(cr),ze+=yr.length,ue.push(yr),xe=He(46),xe.write_shift(4,33639248),xe.write_shift(2,0),xe.write_shift(2,20),xe.write_shift(2,We),xe.write_shift(2,Pe),xe.write_shift(4,0),xe.write_shift(-4,ft[et]),xe.write_shift(4,yr.length),xe.write_shift(4,at.content.length),xe.write_shift(2,cr.length),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(4,0),xe.write_shift(4,lr),At+=xe.l,he.push(xe),At+=cr.length,he.push(cr),++et}return xe=He(22),xe.write_shift(4,101010256),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,et),xe.write_shift(2,et),xe.write_shift(4,At),xe.write_shift(4,ze),xe.write_shift(2,0),mn([mn(ue),mn(he),xe])}var Ut={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Zt(ae,pe){if(ae.ctype)return ae.ctype;var oe=ae.name||"",ue=oe.match(/\.([^\.]+)$/);return ue&&Ut[ue[1]]||pe&&(ue=(oe=pe).match(/[\.\\]([^\.\\])+$/),ue&&Ut[ue[1]])?Ut[ue[1]]:"application/octet-stream"}function ln(ae){for(var pe=vf(ae),oe=[],ue=0;ue<pe.length;ue+=76)oe.push(pe.slice(ue,ue+76));return oe.join(`\r
`)+`\r
`}function Pt(ae){var pe=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Be){var ze=Be.charCodeAt(0).toString(16).toUpperCase();return"="+(ze.length==1?"0"+ze:ze)});pe=pe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),pe.charAt(0)==`
`&&(pe="=0D"+pe.slice(1)),pe=pe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],ue=pe.split(`\r
`),he=0;he<ue.length;++he){var xe=ue[he];if(xe.length==0){oe.push("");continue}for(var Pe=0;Pe<xe.length;){var We=76,De=xe.slice(Pe,Pe+We);De.charAt(We-1)=="="?We--:De.charAt(We-2)=="="?We-=2:De.charAt(We-3)=="="&&(We-=3),De=xe.slice(Pe,Pe+We),Pe+=We,Pe<xe.length&&(De+="="),oe.push(De)}}return oe.join(`\r
`)}function jr(ae){for(var pe=[],oe=0;oe<ae.length;++oe){for(var ue=ae[oe];oe<=ae.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+ae[++oe];pe.push(ue)}for(var he=0;he<pe.length;++he)pe[he]=pe[he].replace(/[=][0-9A-Fa-f]{2}/g,function(xe){return String.fromCharCode(parseInt(xe.slice(1),16))});return ti(pe.join(`\r
`))}function Ct(ae,pe,oe){for(var ue="",he="",xe="",Pe,We=0;We<10;++We){var De=pe[We];if(!De||De.match(/^\s*$/))break;var Be=De.match(/^(.*?):\s*([^\s].*)$/);if(Be)switch(Be[1].toLowerCase()){case"content-location":ue=Be[2].trim();break;case"content-type":xe=Be[2].trim();break;case"content-transfer-encoding":he=Be[2].trim();break}}switch(++We,he.toLowerCase()){case"base64":Pe=ti(hs(pe.slice(We).join("")));break;case"quoted-printable":Pe=jr(pe.slice(We));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var ze=Rr(ae,ue.slice(oe.length),Pe,{unsafe:!0});xe&&(ze.ctype=xe)}function or(ae,pe){if(me(ae.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=pe&&pe.root||"",ue=(Qt&&Buffer.isBuffer(ae)?ae.toString("binary"):me(ae)).split(`\r
`),he=0,xe="";for(he=0;he<ue.length;++he)if(xe=ue[he],!!/^Content-Location:/i.test(xe)&&(xe=xe.slice(xe.indexOf("file")),oe||(oe=xe.slice(0,xe.lastIndexOf("/")+1)),xe.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),xe.slice(0,oe.length)!=oe););var Pe=(ue[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var We="--"+(Pe[1]||""),De=[],Be=[],ze={FileIndex:De,FullPaths:Be};I(ze);var et,it=0;for(he=0;he<ue.length;++he){var ht=ue[he];ht!==We&&ht!==We+"--"||(it++&&Ct(ze,ue.slice(et,he),oe),et=he)}return ze}function jn(ae,pe){var oe=pe||{},ue=oe.boundary||"SheetJS";ue="------="+ue;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],xe=ae.FullPaths[0],Pe=xe,We=ae.FileIndex[0],De=1;De<ae.FullPaths.length;++De)if(Pe=ae.FullPaths[De].slice(xe.length),We=ae.FileIndex[De],!(!We.size||!We.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(At){return"_x"+At.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(At){return"_u"+At.charCodeAt(0).toString(16)+"_"});for(var Be=We.content,ze=Qt&&Buffer.isBuffer(Be)?Be.toString("binary"):me(Be),et=0,it=Math.min(1024,ze.length),ht=0,at=0;at<=it;++at)(ht=ze.charCodeAt(at))>=32&&ht<128&&++et;var ft=et>=it*4/5;he.push(ue),he.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+Pe),he.push("Content-Transfer-Encoding: "+(ft?"quoted-printable":"base64")),he.push("Content-Type: "+Zt(We,Pe)),he.push(""),he.push(ft?Pt(ze):ln(ze))}return he.push(ue+`--\r
`),he.join(`\r
`)}function Fr(ae){var pe={};return I(pe,ae),pe}function Rr(ae,pe,oe,ue){var he=ue&&ue.unsafe;he||I(ae);var xe=!he&&pr.find(ae,pe);if(!xe){var Pe=ae.FullPaths[0];pe.slice(0,Pe.length)==Pe?Pe=pe:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+pe).replace("//","/")),xe={name:i(pe),type:2},ae.FileIndex.push(xe),ae.FullPaths.push(Pe),he||pr.utils.cfb_gc(ae)}return xe.content=oe,xe.size=oe?oe.length:0,ue&&(ue.CLSID&&(xe.clsid=ue.CLSID),ue.mt&&(xe.mt=ue.mt),ue.ct&&(xe.ct=ue.ct)),xe}function $a(ae,pe){I(ae);var oe=pr.find(ae,pe);if(oe){for(var ue=0;ue<ae.FileIndex.length;++ue)if(ae.FileIndex[ue]==oe)return ae.FileIndex.splice(ue,1),ae.FullPaths.splice(ue,1),!0}return!1}function vs(ae,pe,oe){I(ae);var ue=pr.find(ae,pe);if(ue){for(var he=0;he<ae.FileIndex.length;++he)if(ae.FileIndex[he]==ue)return ae.FileIndex[he].name=i(oe),ae.FullPaths[he]=oe,!0}return!1}function dl(ae){M(ae,!0)}return t.find=F,t.read=k,t.parse=p,t.write=q,t.writeFile=ne,t.utils={cfb_new:Fr,cfb_add:Rr,cfb_del:$a,cfb_mov:vs,cfb_gc:dl,ReadShift:Eu,CheckField:J8,prep_blob:ha,bconcat:mn,use_zlib:z,_deflateRaw:Se,_inflateRaw:nt,consts:H},t}();function bie(e){return typeof e=="string"?R0(e):Array.isArray(e)?Gae(e):e}function Uf(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=R0(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?jf(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var i=new Blob([bie(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var d=File(e);return d.open("w"),d.encoding="binary",Array.isArray(t)&&(t=$f(t)),d.write(t),d.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function bn(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function H3(e,t){for(var r=[],a=bn(e),i=0;i!==a.length;++i)r[e[a[i]][t]]==null&&(r[e[a[i]][t]]=a[i]);return r}function pS(e){for(var t=[],r=bn(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function B0(e){for(var t=[],r=bn(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function jie(e){for(var t=[],r=bn(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var Fm=new Date(1899,11,30,0,0,0);function Zn(e,t){var r=e.getTime(),a=Fm.getTime()+(e.getTimezoneOffset()-Fm.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var M8=new Date,wie=Fm.getTime()+(M8.getTimezoneOffset()-Fm.getTimezoneOffset())*6e4,G3=M8.getTimezoneOffset();function B8(e){var t=new Date;return t.setTime(e*24*60*60*1e3+wie),t.getTimezoneOffset()!==G3&&t.setTime(t.getTime()+(t.getTimezoneOffset()-G3)*6e4),t}var V3=new Date("2017-02-19T19:06:09.000Z"),F8=isNaN(V3.getFullYear())?new Date("2/19/17"):V3,Sie=F8.getFullYear()==2017;function Fn(e,t){var r=new Date(e);if(Sie)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(F8.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function F0(e,t){if(Qt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var a=[],i=0;i!=e.length;++i)a.push(String.fromCharCode(e[i]));return a.join("")}function Jn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Jn(e[r]));return t}function Dr(e,t){for(var r="";r.length<t;)r+=e;return r}function is(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(t=Number(a)))?t/r:t}var Nie=["january","february","march","april","may","june","july","august","september","october","november","december"];function bf(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&Nie.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return a<0||a>8099?r:(i>0||s>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function kt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return Qt?a=ys(r):a=Vae(r),pr.utils.cfb_add(e,t,a)}pr.utils.cfb_add(e,t,r)}else e.file(t,r)}function mS(){return pr.utils.cfb_new()}var Hr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Tie={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},xS=pS(Tie),gS=/[&<>'"]/g,Cie=/[\u0000-\u0008\u000b-\u001f]/g;function ir(e){var t=e+"";return t.replace(gS,function(r){return xS[r]}).replace(Cie,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Y3(e){return ir(e).replace(/ /g,"_x0020_")}var L8=/[\u0000-\u001f]/g;function Aie(e){var t=e+"";return t.replace(gS,function(r){return xS[r]}).replace(/\n/g,"<br/>").replace(L8,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Eie(e){var t=e+"";return t.replace(gS,function(r){return xS[r]}).replace(L8,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function _ie(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Oie(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function nj(e){for(var t="",r=0,a=0,i=0,s=0,l=0,d=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(i=e.charCodeAt(r++),a>191&&a<224){l=(a&31)<<6,l|=i&63,t+=String.fromCharCode(l);continue}if(s=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63);continue}l=e.charCodeAt(r++),d=((a&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(d>>>10&1023)),t+=String.fromCharCode(56320+(d&1023))}return t}function X3(e){var t=Ko(2*e.length),r,a,i=1,s=0,l=0,d;for(a=0;a<e.length;a+=i)i=1,(d=e.charCodeAt(a))<128?r=d:d<224?(r=(d&31)*64+(e.charCodeAt(a+1)&63),i=2):d<240?(r=(d&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),i=3):(i=4,r=(d&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[s++]=l&255,t[s++]=l>>>8,l=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function K3(e){return ys(e,"binary").toString("utf8")}var vp="foo bar baz",Au=Qt&&(K3(vp)==nj(vp)&&K3||X3(vp)==nj(vp)&&X3)||nj,jf=Qt?function(e){return ys(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,i=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,i=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},kie=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)a=a.replace(e[i][0],e[i][1]);return a}}(),z8=/(^\s|\s$|\n)/;function xn(e,t){return"<"+e+(t.match(z8)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function wf(e){return bn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function st(e,t,r){return"<"+e+(r!=null?wf(r):"")+(t!=null?(t.match(z8)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function W2(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Die(e,t){switch(typeof e){case"string":var r=st("vt:lpwstr",ir(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return st((e|0)==e?"vt:i4":"vt:r8",ir(String(e)));case"boolean":return st("vt:bool",e?"true":"false")}if(e instanceof Date)return st("vt:filetime",W2(e));throw new Error("Unable to serialize "+e)}var rn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},nd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],pa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Iie(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return a==2047?i==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,i+=Math.pow(2,52)),r*Math.pow(2,a-52)*i)}function Rie(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,l=a?-t:t;isFinite(l)?l==0?i=s=0:(i=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var d=0;d<=5;++d,s/=256)e[r+d]=s&255;e[r+6]=(i&15)<<4|s&15,e[r+7]=i>>4|a}var Q3=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var i=0,s=e[0][a].length;i<s;i+=r)t.push.apply(t,e[0][a].slice(i,i+r));return t},Z3=Qt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ys(t)})):Q3(e)}:Q3,J3=function(e,t,r){for(var a=[],i=t;i<r;i+=2)a.push(String.fromCharCode(vu(e,i)));return a.join("").replace(Cu,"")},yS=Qt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Cu,""):J3(e,t,r)}:J3,eD=function(e,t,r){for(var a=[],i=t;i<t+r;++i)a.push(("0"+e[i].toString(16)).slice(-2));return a.join("")},$8=Qt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):eD(e,t,r)}:eD,tD=function(e,t,r){for(var a=[],i=t;i<r;i++)a.push(String.fromCharCode(Jl(e,i)));return a.join("")},qf=Qt?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):tD(t,r,a)}:tD,U8=function(e,t){var r=ma(e,t);return r>0?qf(e,t+4,t+4+r-1):""},q8=U8,W8=function(e,t){var r=ma(e,t);return r>0?qf(e,t+4,t+4+r-1):""},H8=W8,G8=function(e,t){var r=2*ma(e,t);return r>0?qf(e,t+4,t+4+r-1):""},V8=G8,Y8=function(t,r){var a=ma(t,r);return a>0?yS(t,r+4,r+4+a):""},X8=Y8,K8=function(e,t){var r=ma(e,t);return r>0?qf(e,t+4,t+4+r):""},Q8=K8,Z8=function(e,t){return Iie(e,t)},Lm=Z8,vS=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Qt&&(q8=function(t,r){if(!Buffer.isBuffer(t))return U8(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},H8=function(t,r){if(!Buffer.isBuffer(t))return W8(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},V8=function(t,r){if(!Buffer.isBuffer(t))return G8(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},X8=function(t,r){if(!Buffer.isBuffer(t))return Y8(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},Q8=function(t,r){if(!Buffer.isBuffer(t))return K8(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},Lm=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Z8(t,r)},vS=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Jl=function(e,t){return e[t]},vu=function(e,t){return e[t+1]*256+e[t]},Pie=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ma=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ro=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Mie=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Eu(e,t){var r="",a,i,s=[],l,d,u,f;switch(t){case"dbcs":if(f=this.l,Qt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(vu(this,f)),f+=2;e*=2;break;case"utf8":r=qf(this,this.l,this.l+e);break;case"utf16le":e*=2,r=yS(this,this.l,this.l+e);break;case"wstr":return Eu.call(this,e,"dbcs");case"lpstr-ansi":r=q8(this,this.l),e=4+ma(this,this.l);break;case"lpstr-cp":r=H8(this,this.l),e=4+ma(this,this.l);break;case"lpwstr":r=V8(this,this.l),e=4+2*ma(this,this.l);break;case"lpp4":e=4+ma(this,this.l),r=X8(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ma(this,this.l),r=Q8(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=Jl(this,this.l+e++))!==0;)s.push(xp(l));r=s.join("");break;case"_wstr":for(e=0,r="";(l=vu(this,this.l+e))!==0;)s.push(xp(l)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=Jl(this,f),this.l=f+1,d=Eu.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),s.join("")+d;s.push(xp(vu(this,f))),f+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=Jl(this,f),this.l=f+1,d=Eu.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),s.join("")+d;s.push(xp(Jl(this,f))),f+=1}r=s.join("");break;default:switch(e){case 1:return a=Jl(this,this.l),this.l++,a;case 2:return a=(t==="i"?Pie:vu)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(a=(e>0?Ro:Mie)(this,this.l),this.l+=4,a):(i=ma(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Lm(this,this.l):i=Lm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=$8(this,this.l,e);break}}return this.l+=e,r}var Bie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Fie=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Lie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function zie(e,t,r){var a=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)Lie(this,t.charCodeAt(i),this.l+2*i);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;a=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var l=t.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,Bie(this,t,this.l);break;case 8:if(a=8,r==="f"){Rie(this,t,this.l);break}case 16:break;case-4:a=4,Fie(this,t,this.l);break}return this.l+=a,this}function J8(e,t){var r=$8(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ha(e,t){e.l=t,e.read_shift=Eu,e.chk=J8,e.write_shift=zie}function Ti(e,t){e.l+=t}function He(e){var t=Ko(e);return ha(t,0),t}function Kn(){var e=[],t=Qt?256:2048,r=function(f){var p=He(f);return ha(p,0),p},a=r(t),i=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},s=function(f){return a&&f<a.length-a.l?a:(i(),a=r(Math.max(f+1,t)))},l=function(){return i(),mn(e)},d=function(f){i(),a=f,a.l==null&&(a.l=a.length),s(t)};return{next:s,push:d,end:l,_bufs:e}}function Je(e,t,r,a){var i=+t,s;if(!isNaN(i)){a||(a=Iue[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,a>=128&&++s,a>=16384&&++s,a>=2097152&&++s;var l=e.next(s);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var d=0;d!=4;++d)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&vS(r)&&e.push(r)}}function _u(e,t,r){var a=Jn(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function rD(e,t,r){var a=Jn(e);return a.s=_u(a.s,t.s,r),a.e=_u(a.e,t.s,r),a}function Ou(e,t){if(e.cRel&&e.c<0)for(e=Jn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Jn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=sr(e);return!e.cRel&&e.cRel!=null&&(r=qie(r)),!e.rRel&&e.rRel!=null&&(r=$ie(r)),r}function aj(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+En(e.s.c)+":"+(e.e.cRel?"":"$")+En(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+yn(e.s.r)+":"+(e.e.rRel?"":"$")+yn(e.e.r):Ou(e.s,t.biff)+":"+Ou(e.e,t.biff)}function bS(e){return parseInt(Uie(e),10)-1}function yn(e){return""+(e+1)}function $ie(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Uie(e){return e.replace(/\$(\d+)$/,"$1")}function jS(e){for(var t=Wie(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function En(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function qie(e){return e.replace(/^([A-Z])/,"$$$1")}function Wie(e){return e.replace(/^\$([A-Z])/,"$1")}function Hie(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function nn(e){for(var t=0,r=0,a=0;a<e.length;++a){var i=e.charCodeAt(a);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function sr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ya(e){var t=e.indexOf(":");return t==-1?{s:nn(e),e:nn(e)}:{s:nn(e.slice(0,t)),e:nn(e.slice(t+1))}}function Wr(e,t){return typeof t>"u"||typeof t=="number"?Wr(e.s,e.e):(typeof e!="string"&&(e=sr(e)),typeof t!="string"&&(t=sr(t)),e==t?e:e+":"+t)}function Sr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,i=0,s=e.length;for(r=0;a<s&&!((i=e.charCodeAt(a)-64)<1||i>26);++a)r=26*r+i;for(t.s.c=--r,r=0;a<s&&!((i=e.charCodeAt(a)-48)<0||i>9);++a)r=10*r+i;if(t.s.r=--r,a===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=s&&!((i=e.charCodeAt(a)-64)<1||i>26);++a)r=26*r+i;for(t.e.c=--r,r=0;a!=s&&!((i=e.charCodeAt(a)-48)<0||i>9);++a)r=10*r+i;return t.e.r=--r,t}function nD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=to(e.z,r?Zn(t):t)}catch{}try{return e.w=to((e.XF||{}).numFmtId||(r?14:0),r?Zn(t):t)}catch{return""+t}}function ps(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Wf[e.v]||e.v:t==null?nD(e,e.v):nD(e,t))}function il(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function e5(e,t,r){var a=r||{},i=e?Array.isArray(e):a.dense,s=e||(i?[]:{}),l=0,d=0;if(s&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var u=typeof a.origin=="string"?nn(a.origin):a.origin;l=u.r,d=u.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var p=Sr(s["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),l==-1&&(f.e.r=l=p.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[m].length;++g)if(!(typeof t[m][g]>"u")){var v={v:t[m][g]},j=l+m,b=d+g;if(f.s.r>j&&(f.s.r=j),f.s.c>b&&(f.s.c=b),f.e.r<j&&(f.e.r=j),f.e.c<b&&(f.e.c=b),t[m][g]&&typeof t[m][g]=="object"&&!Array.isArray(t[m][g])&&!(t[m][g]instanceof Date))v=t[m][g];else if(Array.isArray(v.v)&&(v.f=t[m][g][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(a.nullError)v.t="e",v.v=0;else if(a.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=a.dateNF||Ir[14],a.cellDates?(v.t="d",v.w=to(v.z,Zn(v.v))):(v.t="n",v.v=Zn(v.v),v.w=to(v.z,v.v))):v.t="s";if(i)s[j]||(s[j]=[]),s[j][b]&&s[j][b].z&&(v.z=s[j][b].z),s[j][b]=v;else{var y=sr({c:b,r:j});s[y]&&s[y].z&&(v.z=s[y].z),s[y]=v}}}return f.s.c<1e7&&(s["!ref"]=Wr(f)),s}function ad(e,t){return e5(null,e,t)}function Gie(e){return e.read_shift(4,"i")}function ii(e,t){return t||(t=He(4)),t.write_shift(4,e),t}function _n(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function an(e,t){var r=!1;return t==null&&(r=!0,t=He(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Vie(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Yie(e,t){return t||(t=He(4)),t.write_shift(2,0),t.write_shift(2,0),t}function wS(e,t){var r=e.l,a=e.read_shift(1),i=_n(e),s=[],l={t:i,h:i};if((a&1)!==0){for(var d=e.read_shift(4),u=0;u!=d;++u)s.push(Vie(e));l.r=s}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function Xie(e,t){var r=!1;return t==null&&(r=!0,t=He(15+4*e.t.length)),t.write_shift(1,0),an(e.t,t),r?t.slice(0,t.l):t}var Kie=wS;function Qie(e,t){var r=!1;return t==null&&(r=!0,t=He(23+4*e.t.length)),t.write_shift(1,1),an(e.t,t),t.write_shift(4,1),Yie({},t),r?t.slice(0,t.l):t}function za(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function sl(e,t){return t==null&&(t=He(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function ol(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function ll(e,t){return t==null&&(t=He(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Zie=_n,t5=an;function SS(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function zm(e,t){var r=!1;return t==null&&(r=!0,t=He(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Jie=_n,H2=SS,NS=zm;function r5(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var i=a===0?Lm([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ro(t,0)>>2;return r?i/100:i}function n5(e,t){t==null&&(t=He(4));var r=0,a=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function a5(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function ese(e,t){return t||(t=He(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var cl=a5,id=ese;function sd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Qo(e,t){return(t||He(8)).write_shift(8,e,"f")}function tse(e){var t={},r=e.read_shift(1),a=r>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),l=e.read_shift(1),d=e.read_shift(1),u=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=i;var f=dse[i];f&&(t.rgb=pD(f));break;case 2:t.rgb=pD([l,d,u]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function $m(e,t){if(t||(t=He(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function rse(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function nse(e,t){t||(t=He(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var i5=2,ua=3,bp=11,Um=19,jp=64,ase=65,ise=71,sse=4108,ose=4126,pn=80,aD={1:{n:"CodePage",t:i5},2:{n:"Category",t:pn},3:{n:"PresentationFormat",t:pn},4:{n:"ByteCount",t:ua},5:{n:"LineCount",t:ua},6:{n:"ParagraphCount",t:ua},7:{n:"SlideCount",t:ua},8:{n:"NoteCount",t:ua},9:{n:"HiddenCount",t:ua},10:{n:"MultimediaClipCount",t:ua},11:{n:"ScaleCrop",t:bp},12:{n:"HeadingPairs",t:sse},13:{n:"TitlesOfParts",t:ose},14:{n:"Manager",t:pn},15:{n:"Company",t:pn},16:{n:"LinksUpToDate",t:bp},17:{n:"CharacterCount",t:ua},19:{n:"SharedDoc",t:bp},22:{n:"HyperlinksChanged",t:bp},23:{n:"AppVersion",t:ua,p:"version"},24:{n:"DigSig",t:ase},26:{n:"ContentType",t:pn},27:{n:"ContentStatus",t:pn},28:{n:"Language",t:pn},29:{n:"Version",t:pn},255:{},2147483648:{n:"Locale",t:Um},2147483651:{n:"Behavior",t:Um},1919054434:{}},iD={1:{n:"CodePage",t:i5},2:{n:"Title",t:pn},3:{n:"Subject",t:pn},4:{n:"Author",t:pn},5:{n:"Keywords",t:pn},6:{n:"Comments",t:pn},7:{n:"Template",t:pn},8:{n:"LastAuthor",t:pn},9:{n:"RevNumber",t:pn},10:{n:"EditTime",t:jp},11:{n:"LastPrinted",t:jp},12:{n:"CreatedDate",t:jp},13:{n:"ModifiedDate",t:jp},14:{n:"PageCount",t:ua},15:{n:"WordCount",t:ua},16:{n:"CharCount",t:ua},17:{n:"Thumbnail",t:ise},18:{n:"Application",t:pn},19:{n:"DocSecurity",t:ua},255:{},2147483648:{n:"Locale",t:Um},2147483651:{n:"Behavior",t:Um},1919054434:{}};function lse(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var cse=lse([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),dse=Jn(cse),Wf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},use={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},wp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function s5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function o5(e,t){var r=jie(use),a=[],i;a[a.length]=Hr,a[a.length]=st("Types",null,{xmlns:rn.CT,"xmlns:xsd":rn.xsd,"xmlns:xsi":rn.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return st("Default",null,{Extension:u[0],ContentType:u[1]})}));var s=function(u){e[u]&&e[u].length>0&&(i=e[u][0],a[a.length]=st("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:wp[u][t.bookType]||wp[u].xlsx}))},l=function(u){(e[u]||[]).forEach(function(f){a[a.length]=st("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:wp[u][t.bookType]||wp[u].xlsx})})},d=function(u){(e[u]||[]).forEach(function(f){a[a.length]=st("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[u][0]})})};return s("workbooks"),l("sheets"),l("charts"),d("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(d),d("vba"),d("comments"),d("threadedcomments"),d("drawings"),l("metadata"),d("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Gt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function l5(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function dc(e){var t=[Hr,st("Relationships",null,{xmlns:rn.RELS})];return bn(e["!id"]).forEach(function(r){t[t.length]=st("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ar(e,t,r,a,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=a,i.Target=r,[Gt.HLINK,Gt.XPATH,Gt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function fse(e){var t=[Hr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function sD(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function hse(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function pse(e){var t=[Hr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(sD(e[r][0],e[r][1])),t.push(hse("",e[r][0]));return t.push(sD("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function c5(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Im.version+"</meta:generator></office:meta></office:document-meta>"}var qo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function ij(e,t,r,a,i){i[e]!=null||t==null||t===""||(i[e]=t,t=ir(t),a[a.length]=r?st(e,t,r):xn(e,t))}function d5(e,t){var r=t||{},a=[Hr,st("cp:coreProperties",null,{"xmlns:cp":rn.CORE_PROPS,"xmlns:dc":rn.dc,"xmlns:dcterms":rn.dcterms,"xmlns:dcmitype":rn.dcmitype,"xmlns:xsi":rn.xsi})],i={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&ij("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:W2(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,i),e.ModifiedDate!=null&&ij("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:W2(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,i));for(var s=0;s!=qo.length;++s){var l=qo[s],d=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;d===!0?d="1":d===!1?d="0":typeof d=="number"&&(d=String(d)),d!=null&&ij(l[0],d,null,a,i)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var uc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],u5=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function f5(e){var t=[],r=st;return e||(e={}),e.Application="SheetJS",t[t.length]=Hr,t[t.length]=st("Properties",null,{xmlns:rn.EXT_PROPS,"xmlns:vt":rn.vt}),uc.forEach(function(a){if(e[a[1]]!==void 0){var i;switch(a[2]){case"string":i=ir(String(e[a[1]]));break;case"bool":i=e[a[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(a[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+ir(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function h5(e){var t=[Hr,st("Properties",null,{xmlns:rn.CUST_PROPS,"xmlns:vt":rn.vt})];if(!e)return t.join("");var r=1;return bn(e).forEach(function(i){++r,t[t.length]=st("property",Die(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ir(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var oD={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function mse(e,t){var r=[];return bn(oD).map(function(a){for(var i=0;i<qo.length;++i)if(qo[i][1]==a)return qo[i];for(i=0;i<uc.length;++i)if(uc[i][1]==a)return uc[i];throw a}).forEach(function(a){if(e[a[1]]!=null){var i=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(xn(oD[a[1]]||a[1],i))}}),st("DocumentProperties",r.join(""),{xmlns:pa.o})}function xse(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",i=[];return e&&bn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var l=0;l<qo.length;++l)if(s==qo[l][1])return;for(l=0;l<uc.length;++l)if(s==uc[l][1])return;for(l=0;l<r.length;++l)if(s==r[l])return;var d=e[s],u="string";typeof d=="number"?(u="float",d=String(d)):d===!0||d===!1?(u="boolean",d=d?"1":"0"):d=String(d),i.push(st(Y3(s),d,{"dt:dt":u}))}}),t&&bn(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var l=t[s],d="string";typeof l=="number"?(d="float",l=String(l)):l===!0||l===!1?(d="boolean",l=l?"1":"0"):l instanceof Date?(d="dateTime.tz",l=l.toISOString()):l=String(l),i.push(st(Y3(s),l,{"dt:dt":d}))}}),"<"+a+' xmlns="'+pa.o+'">'+i.join("")+"</"+a+">"}function gse(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),i=(r-a)/Math.pow(2,32);a*=1e7,i*=1e7;var s=a/Math.pow(2,32)|0;s>0&&(a=a%Math.pow(2,32),i+=s);var l=He(8);return l.write_shift(4,a),l.write_shift(4,i),l}function lD(e,t){var r=He(4),a=He(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=He(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=gse(t);break;case 31:case 80:for(a=He(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return mn([r,a])}var p5=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function yse(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function cD(e,t,r){var a=He(8),i=[],s=[],l=8,d=0,u=He(8),f=He(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),s.push(u),i.push(f),l+=8+u.length,!t){f=He(8),f.write_shift(4,0),i.unshift(f);var p=[He(4)];for(p[0].write_shift(4,e.length),d=0;d<e.length;++d){var m=e[d][0];for(u=He(8+2*(m.length+1)+(m.length%2?0:2)),u.write_shift(4,d+2),u.write_shift(4,m.length+1),u.write_shift(0,m,"dbcs");u.l!=u.length;)u.write_shift(1,0);p.push(u)}u=mn(p),s.unshift(u),l+=8+u.length}for(d=0;d<e.length;++d)if(!(t&&!t[e[d][0]])&&!(p5.indexOf(e[d][0])>-1||u5.indexOf(e[d][0])>-1)&&e[d][1]!=null){var g=e[d][1],v=0;if(t){v=+t[e[d][0]];var j=r[v];if(j.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}u=lD(j.t,g)}else{var y=yse(g);y==-1&&(y=31,g=String(g)),u=lD(y,g)}s.push(u),f=He(8),f.write_shift(4,t?v:2+d),i.push(f),l+=8+u.length}var C=8*(s.length+1);for(d=0;d<s.length;++d)i[d].write_shift(4,C),C+=s[d].length;return a.write_shift(4,l),a.write_shift(4,s.length),mn([a].concat(i).concat(s))}function dD(e,t,r,a,i,s){var l=He(i?68:48),d=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,pr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,i?68:48);var u=cD(e,r,a);if(d.push(u),i){var f=cD(i,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+u.length),d.push(f)}return mn(d)}function vse(e,t){t||(t=He(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function bse(e,t){return e.read_shift(t)===1}function Rn(e,t){return t||(t=He(2)),t.write_shift(2,+!!e),t}function m5(e){return e.read_shift(2,"u")}function Ia(e,t){return t||(t=He(2)),t.write_shift(2,e),t}function x5(e,t,r){return r||(r=He(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function g5(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var l=a?e.read_shift(a,i):"";return l}function jse(e){var t=e.t||"",r=He(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=He(2*t.length);a.write_shift(2*t.length,t,"utf16le");var i=[r,a];return mn(i)}function wse(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function Sse(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):wse(e,a,r)}function Nse(e,t,r){if(r.biff>5)return Sse(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function y5(e,t,r){return r||(r=He(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function uD(e,t){t||(t=He(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Tse(e){var t=He(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var i=a.indexOf("#"),s=i>-1?31:23;switch(a.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(s==28)a=a.slice(1),uD(a,t);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var d=i>-1?a.slice(0,i):a;for(t.write_shift(4,2*(d.length+1)),r=0;r<d.length;++r)t.write_shift(2,d.charCodeAt(r));t.write_shift(2,0),s&8&&uD(i>-1?a.slice(i+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var u=0;a.slice(u*3,u*3+3)=="../"||a.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,a.length-3*u+1),r=0;r<a.length-3*u;++r)t.write_shift(1,a.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Zo(e,t,r,a){return a||(a=He(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function Cse(e,t,r){var a=r.biff>8?4:2,i=e.read_shift(a),s=e.read_shift(a,"i"),l=e.read_shift(a,"i");return[i,s,l]}function Ase(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);return{s:{c:a,r:t},e:{c:i,r}}}function v5(e,t){return t||(t=He(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function TS(e,t,r){var a=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,i=8;break;case"biff4":a=4,i=6;break;case"biff3":a=3,i=6;break;case"biff2":a=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=He(i);return s.write_shift(2,a),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Ese(e,t){var r=!t||t.biff==8,a=He(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function _se(e,t){var r=!t||t.biff>=8?2:1,a=He(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=a.slice(0,a.l);return i.l=a.l,i}function Ose(e,t){var r=He(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],i=0;i<e.length;++i)a[i]=jse(e[i]);var s=mn([r].concat(a));return s.parts=[r.length].concat(a.map(function(l){return l.length})),s}function kse(){var e=He(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Dse(e){var t=He(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Ise(e,t){var r=e.name||"Arial",a=t&&t.biff==5,i=a?15+r.length:16+2*r.length,s=He(i);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),s}function Rse(e,t,r,a){var i=He(10);return Zo(e,t,a,i),i.write_shift(4,r),i}function Pse(e,t,r,a,i){var s=!i||i.biff==8,l=He(8+ +s+(1+s)*r.length);return Zo(e,t,a,l),l.write_shift(2,r.length),s&&l.write_shift(1,1),l.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),l}function Mse(e,t,r,a){var i=r&&r.biff==5;a||(a=He(i?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(i?1:2,t.length),i||a.write_shift(1,1),a.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=a.length>a.l?a.slice(0,a.l):a;return s.l==null&&(s.l=s.length),s}function Bse(e,t){var r=t.biff==8||!t.biff?4:2,a=He(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function fD(e,t,r,a){var i=r&&r.biff==5;a||(a=He(i?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&i&&(s|=1024),a.write_shift(4,s),a.write_shift(4,0),i||a.write_shift(4,0),a.write_shift(2,0),a}function Fse(e){var t=He(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Lse(e,t,r,a,i,s){var l=He(8);return Zo(e,t,a,l),x5(r,s,l),l}function zse(e,t,r,a){var i=He(14);return Zo(e,t,a,i),Qo(r,i),i}function $se(e,t,r){if(r.biff<8)return Use(e,t,r);for(var a=[],i=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)a.push(Cse(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return a}function Use(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=g5(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function qse(e){var t=He(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)v5(e[r],t);return t}function Wse(e){var t=He(24),r=nn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(a[i],16));return mn([t,Tse(e[1])])}function Hse(e){var t=e[1].Tooltip,r=He(10+2*(t.length+1));r.write_shift(2,2048);var a=nn(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function Gse(e){return e||(e=He(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Vse(e,t,r){if(!r.cellStyles)return Ti(e,t);var a=r&&r.biff>=12?4:2,i=e.read_shift(a),s=e.read_shift(a),l=e.read_shift(a),d=e.read_shift(a),u=e.read_shift(2);a==2&&(e.l+=2);var f={s:i,e:s,w:l,ixfe:d,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function Yse(e,t){var r=He(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function Xse(e){for(var t=He(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Kse(e,t,r){var a=He(15);return Gf(a,e,t),a.write_shift(8,r,"f"),a}function Qse(e,t,r){var a=He(9);return Gf(a,e,t),a.write_shift(2,r),a}var Zse=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=pS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(d,u){var f=[],p=Ko(1);switch(u.type){case"base64":p=ti(hs(d));break;case"binary":p=ti(d);break;case"buffer":case"array":p=d;break}ha(p,0);var m=p.read_shift(1),g=!!(m&136),v=!1,j=!1;switch(m){case 2:break;case 3:break;case 48:v=!0,g=!0;break;case 49:v=!0,g=!0;break;case 131:break;case 139:break;case 140:j=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var b=0,y=521;m==2&&(b=p.read_shift(2)),p.l+=3,m!=2&&(b=p.read_shift(4)),b>1048576&&(b=1e6),m!=2&&(y=p.read_shift(2));var C=p.read_shift(2),T=u.codepage||1252;m!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(T=e[p[p.l]]),p.l+=1,p.l+=2),j&&(p.l+=36);for(var E=[],S={},A=Math.min(p.length,m==2?521:y-10-(v?264:0)),k=j?32:11;p.l<A&&p[p.l]!=13;)switch(S={},S.name=Rm.utils.decode(T,p.slice(p.l,p.l+k)).replace(/[\u0000\r\n].*$/g,""),p.l+=k,S.type=String.fromCharCode(p.read_shift(1)),m!=2&&!j&&(S.offset=p.read_shift(4)),S.len=p.read_shift(1),m==2&&(S.offset=p.read_shift(2)),S.dec=p.read_shift(1),S.name.length&&E.push(S),m!=2&&(p.l+=j?13:14),S.type){case"B":(!v||S.len!=8)&&u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(p[p.l]!==13&&(p.l=y-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=y;var I=0,B=0;for(f[0]=[],B=0;B!=E.length;++B)f[0][B]=E[B].name;for(;b-- >0;){if(p[p.l]===42){p.l+=C;continue}for(++p.l,f[++I]=[],B=0,B=0;B!=E.length;++B){var M=p.slice(p.l,p.l+E[B].len);p.l+=E[B].len,ha(M,0);var L=Rm.utils.decode(T,M);switch(E[B].type){case"C":L.trim().length&&(f[I][B]=L.replace(/\s+$/,""));break;case"D":L.length===8?f[I][B]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):f[I][B]=L;break;case"F":f[I][B]=parseFloat(L.trim());break;case"+":case"I":f[I][B]=j?M.read_shift(-4,"i")^2147483648:M.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":f[I][B]=!0;break;case"N":case"F":f[I][B]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[I][B]="##MEMO##"+(j?parseInt(L.trim(),10):M.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(f[I][B]=+L||0);break;case"@":f[I][B]=new Date(M.read_shift(-8,"f")-621356832e5);break;case"T":f[I][B]=new Date((M.read_shift(4)-2440588)*864e5+M.read_shift(4));break;case"Y":f[I][B]=M.read_shift(4,"i")/1e4+M.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[I][B]=-M.read_shift(-8,"f");break;case"B":if(v&&E[B].len==8){f[I][B]=M.read_shift(8,"f");break}case"G":case"P":M.l+=E[B].len;break;case"0":if(E[B].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[B].type)}}}if(m!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=E,f}function a(d,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var p=ad(r(d,f),f);return p["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,p}function i(d,u){try{return il(a(d,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(d,u){var f=u||{};if(+f.codepage>=0&&yf(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=Kn(),m=Vm(d,{header:1,raw:!0,cellDates:!0}),g=m[0],v=m.slice(1),j=d["!cols"]||[],b=0,y=0,C=0,T=1;for(b=0;b<g.length;++b){if(((j[b]||{}).DBF||{}).name){g[b]=j[b].DBF.name,++C;continue}if(g[b]!=null){if(++C,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(y=0;y<1024;++y)if(g.indexOf(g[b]+"_"+y)==-1){g[b]+="_"+y;break}}}}var E=Sr(d["!ref"]),S=[],A=[],k=[];for(b=0;b<=E.e.c-E.s.c;++b){var I="",B="",M=0,L=[];for(y=0;y<v.length;++y)v[y][b]!=null&&L.push(v[y][b]);if(L.length==0||g[b]==null){S[b]="?";continue}for(y=0;y<L.length;++y){switch(typeof L[y]){case"number":B="B";break;case"string":B="C";break;case"boolean":B="L";break;case"object":B=L[y]instanceof Date?"D":"C";break;default:B="C"}M=Math.max(M,String(L[y]).length),I=I&&I!=B?"C":B}M>250&&(M=250),B=((j[b]||{}).DBF||{}).type,B=="C"&&j[b].DBF.len>M&&(M=j[b].DBF.len),I=="B"&&B=="N"&&(I="N",k[b]=j[b].DBF.dec,M=j[b].DBF.len),A[b]=I=="C"||B=="N"?M:s[I]||0,T+=A[b],S[b]=I}var F=p.next(32);for(F.write_shift(4,318902576),F.write_shift(4,v.length),F.write_shift(2,296+32*C),F.write_shift(2,T),b=0;b<4;++b)F.write_shift(4,0);for(F.write_shift(4,0|(+t[j8]||3)<<8),b=0,y=0;b<g.length;++b)if(g[b]!=null){var _=p.next(32),G=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);_.write_shift(1,G,"sbcs"),_.write_shift(1,S[b]=="?"?"C":S[b],"sbcs"),_.write_shift(4,y),_.write_shift(1,A[b]||s[S[b]]||0),_.write_shift(1,k[b]||0),_.write_shift(1,2),_.write_shift(4,0),_.write_shift(1,0),_.write_shift(4,0),_.write_shift(4,0),y+=A[b]||s[S[b]]||0}var P=p.next(264);for(P.write_shift(4,13),b=0;b<65;++b)P.write_shift(4,0);for(b=0;b<v.length;++b){var D=p.next(T);for(D.write_shift(1,0),y=0;y<g.length;++y)if(g[y]!=null)switch(S[y]){case"L":D.write_shift(1,v[b][y]==null?63:v[b][y]?84:70);break;case"B":D.write_shift(8,v[b][y]||0,"f");break;case"N":var R="0";for(typeof v[b][y]=="number"&&(R=v[b][y].toFixed(k[y]||0)),C=0;C<A[y]-R.length;++C)D.write_shift(1,32);D.write_shift(1,R,"sbcs");break;case"D":v[b][y]?(D.write_shift(4,("0000"+v[b][y].getFullYear()).slice(-4),"sbcs"),D.write_shift(2,("00"+(v[b][y].getMonth()+1)).slice(-2),"sbcs"),D.write_shift(2,("00"+v[b][y].getDate()).slice(-2),"sbcs")):D.write_shift(8,"00000000","sbcs");break;case"C":var H=String(v[b][y]!=null?v[b][y]:"").slice(0,A[y]);for(D.write_shift(1,H,"sbcs"),C=0;C<A[y]-H.length;++C)D.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:a,from_sheet:l}}(),Jse=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+bn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,v){var j=e[v];return typeof j=="number"?M3(j):j},a=function(g,v,j){var b=v.charCodeAt(0)-32<<4|j.charCodeAt(0)-48;return b==59?g:M3(b)};e["|"]=254;function i(g,v){switch(v.type){case"base64":return s(hs(g),v);case"binary":return s(g,v);case"buffer":return s(Qt&&Buffer.isBuffer(g)?g.toString("binary"):$f(g),v);case"array":return s(F0(g),v)}throw new Error("Unrecognized type "+v.type)}function s(g,v){var j=g.split(/[\n\r]+/),b=-1,y=-1,C=0,T=0,E=[],S=[],A=null,k={},I=[],B=[],M=[],L=0,F;for(+v.codepage>=0&&yf(+v.codepage);C!==j.length;++C){L=0;var _=j[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),G=_.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),P=G[0],D;if(_.length>0)switch(P){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":G[1].charAt(0)=="P"&&S.push(_.slice(3).replace(/;;/g,";"));break;case"C":var R=!1,H=!1,ne=!1,me=!1,q=-1,X=-1;for(T=1;T<G.length;++T)switch(G[T].charAt(0)){case"A":break;case"X":y=parseInt(G[T].slice(1))-1,H=!0;break;case"Y":for(b=parseInt(G[T].slice(1))-1,H||(y=0),F=E.length;F<=b;++F)E[F]=[];break;case"K":D=G[T].slice(1),D.charAt(0)==='"'?D=D.slice(1,D.length-1):D==="TRUE"?D=!0:D==="FALSE"?D=!1:isNaN(is(D))?isNaN(bf(D).getDate())||(D=Fn(D)):(D=is(D),A!==null&&I8(A)&&(D=B8(D))),R=!0;break;case"E":me=!0;var z=Qoe(G[T].slice(1),{r:b,c:y});E[b][y]=[E[b][y],z];break;case"S":ne=!0,E[b][y]=[E[b][y],"S5S"];break;case"G":break;case"R":q=parseInt(G[T].slice(1))-1;break;case"C":X=parseInt(G[T].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+_)}if(R&&(E[b][y]&&E[b][y].length==2?E[b][y][0]=D:E[b][y]=D,A=null),ne){if(me)throw new Error("SYLK shared formula cannot have own formula");var te=q>-1&&E[q][X];if(!te||!te[1])throw new Error("SYLK shared formula cannot find base");E[b][y][1]=Zoe(te[1],{r:b-q,c:y-X})}break;case"F":var U=0;for(T=1;T<G.length;++T)switch(G[T].charAt(0)){case"X":y=parseInt(G[T].slice(1))-1,++U;break;case"Y":for(b=parseInt(G[T].slice(1))-1,F=E.length;F<=b;++F)E[F]=[];break;case"M":L=parseInt(G[T].slice(1))/20;break;case"F":break;case"G":break;case"P":A=S[parseInt(G[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(M=G[T].slice(1).split(" "),F=parseInt(M[0],10);F<=parseInt(M[1],10);++F)L=parseInt(M[2],10),B[F-1]=L===0?{hidden:!0}:{wch:L},CS(B[F-1]);break;case"C":y=parseInt(G[T].slice(1))-1,B[y]||(B[y]={});break;case"R":b=parseInt(G[T].slice(1))-1,I[b]||(I[b]={}),L>0?(I[b].hpt=L,I[b].hpx=N5(L)):L===0&&(I[b].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+_)}U<1&&(A=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+_)}}return I.length>0&&(k["!rows"]=I),B.length>0&&(k["!cols"]=B),v&&v.sheetRows&&(E=E.slice(0,v.sheetRows)),[E,k]}function l(g,v){var j=i(g,v),b=j[0],y=j[1],C=ad(b,v);return bn(y).forEach(function(T){C[T]=y[T]}),C}function d(g,v){return il(l(g,v),v)}function u(g,v,j,b){var y="C;Y"+(j+1)+";X"+(b+1)+";K";switch(g.t){case"n":y+=g.v||0,g.f&&!g.F&&(y+=";E"+ES(g.f,{r:j,c:b}));break;case"b":y+=g.v?"TRUE":"FALSE";break;case"e":y+=g.w||g.v;break;case"d":y+='"'+(g.w||g.v)+'"';break;case"s":y+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function f(g,v){v.forEach(function(j,b){var y="F;W"+(b+1)+" "+(b+1)+" ";j.hidden?y+="0":(typeof j.width=="number"&&!j.wpx&&(j.wpx=qm(j.width)),typeof j.wpx=="number"&&!j.wch&&(j.wch=Wm(j.wpx)),typeof j.wch=="number"&&(y+=Math.round(j.wch))),y.charAt(y.length-1)!=" "&&g.push(y)})}function p(g,v){v.forEach(function(j,b){var y="F;";j.hidden?y+="M0;":j.hpt?y+="M"+20*j.hpt+";":j.hpx&&(y+="M"+20*Hm(j.hpx)+";"),y.length>2&&g.push(y+"R"+(b+1))})}function m(g,v){var j=["ID;PWXL;N;E"],b=[],y=Sr(g["!ref"]),C,T=Array.isArray(g),E=`\r
`;j.push("P;PGeneral"),j.push("F;P0;DG0G8;M255"),g["!cols"]&&f(j,g["!cols"]),g["!rows"]&&p(j,g["!rows"]),j.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var S=y.s.r;S<=y.e.r;++S)for(var A=y.s.c;A<=y.e.c;++A){var k=sr({r:S,c:A});C=T?(g[S]||[])[A]:g[k],!(!C||C.v==null&&(!C.f||C.F))&&b.push(u(C,g,S,A))}return j.join(E)+E+b.join(E)+E+"E"+E}return{to_workbook:d,to_sheet:l,from_sheet:m}}(),eoe=function(){function e(s,l){switch(l.type){case"base64":return t(hs(s),l);case"binary":return t(s,l);case"buffer":return t(Qt&&Buffer.isBuffer(s)?s.toString("binary"):$f(s),l);case"array":return t(F0(s),l)}throw new Error("Unrecognized type "+l.type)}function t(s,l){for(var d=s.split(`
`),u=-1,f=-1,p=0,m=[];p!==d.length;++p){if(d[p].trim()==="BOT"){m[++u]=[],f=0;continue}if(!(u<0)){var g=d[p].trim().split(","),v=g[0],j=g[1];++p;for(var b=d[p]||"";(b.match(/["]/g)||[]).length&1&&p<d.length-1;)b+=`
`+d[++p];switch(b=b.trim(),+v){case-1:if(b==="BOT"){m[++u]=[],f=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?m[u][f]=!0:b==="FALSE"?m[u][f]=!1:isNaN(is(j))?isNaN(bf(j).getDate())?m[u][f]=j:m[u][f]=Fn(j):m[u][f]=is(j),++f;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),m[u][f++]=b!==""?b:null;break}if(b==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function r(s,l){return ad(e(s,l),l)}function a(s,l){return il(r(s,l),l)}var i=function(){var s=function(u,f,p,m,g){u.push(f),u.push(p+","+m),u.push('"'+g.replace(/"/g,'""')+'"')},l=function(u,f,p,m){u.push(f+","+p),u.push(f==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(u){var f=[],p=Sr(u["!ref"]),m,g=Array.isArray(u);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,p.e.r-p.s.r+1,""),s(f,"TUPLES",0,p.e.c-p.s.c+1,""),s(f,"DATA",0,0,"");for(var v=p.s.r;v<=p.e.r;++v){l(f,-1,0,"BOT");for(var j=p.s.c;j<=p.e.c;++j){var b=sr({r:v,c:j});if(m=g?(u[v]||[])[j]:u[b],!m){l(f,1,0,"");continue}switch(m.t){case"n":var y=m.w;!y&&m.v!=null&&(y=m.v),y==null?m.f&&!m.F?l(f,1,0,"="+m.f):l(f,1,0,""):l(f,0,y,"V");break;case"b":l(f,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=to(m.z||Ir[14],Zn(Fn(m.v)))),l(f,0,m.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var C=`\r
`,T=f.join(C);return T}}();return{to_workbook:a,to_sheet:r,from_sheet:i}}(),b5=function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,g){for(var v=m.split(`
`),j=-1,b=-1,y=0,C=[];y!==v.length;++y){var T=v[y].trim().split(":");if(T[0]==="cell"){var E=nn(T[1]);if(C.length<=E.r)for(j=C.length;j<=E.r;++j)C[j]||(C[j]=[]);switch(j=E.r,b=E.c,T[2]){case"t":C[j][b]=e(T[3]);break;case"v":C[j][b]=+T[3];break;case"vtf":var S=T[T.length-1];case"vtc":switch(T[3]){case"nl":C[j][b]=!!+T[4];break;default:C[j][b]=+T[4];break}T[2]=="vtf"&&(C[j][b]=[C[j][b],S])}}}return g&&g.sheetRows&&(C=C.slice(0,g.sheetRows)),C}function a(m,g){return ad(r(m,g),g)}function i(m,g){return il(a(m,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,d=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var g=[],v=[],j,b="",y=ya(m["!ref"]),C=Array.isArray(m),T=y.s.r;T<=y.e.r;++T)for(var E=y.s.c;E<=y.e.c;++E)if(b=sr({r:T,c:E}),j=C?(m[T]||[])[E]:m[b],!(!j||j.v==null||j.t==="z")){switch(v=["cell",b,"t"],j.t){case"s":case"str":v.push(t(j.v));break;case"n":j.f?(v[2]="vtf",v[3]="n",v[4]=j.v,v[5]=t(j.f)):(v[2]="v",v[3]=j.v);break;case"b":v[2]="vt"+(j.f?"f":"c"),v[3]="nl",v[4]=j.v?"1":"0",v[5]=t(j.f||(j.v?"TRUE":"FALSE"));break;case"d":var S=Zn(Fn(j.v));v[2]="vtc",v[3]="nd",v[4]=""+S,v[5]=j.w||to(j.z||Ir[14],S);break;case"e":continue}g.push(v.join(":"))}return g.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function p(m){return[s,l,d,l,f(m),u].join(`
`)}return{to_workbook:i,to_sheet:a,from_sheet:p}}(),toe=function(){function e(p,m,g,v,j){j.raw?m[g][v]=p:p===""||(p==="TRUE"?m[g][v]=!0:p==="FALSE"?m[g][v]=!1:isNaN(is(p))?isNaN(bf(p).getDate())?m[g][v]=p:m[g][v]=Fn(p):m[g][v]=is(p))}function t(p,m){var g=m||{},v=[];if(!p||p.length===0)return v;for(var j=p.split(/[\r\n]/),b=j.length-1;b>=0&&j[b].length===0;)--b;for(var y=10,C=0,T=0;T<=b;++T)C=j[T].indexOf(" "),C==-1?C=j[T].length:C++,y=Math.max(y,C);for(T=0;T<=b;++T){v[T]=[];var E=0;for(e(j[T].slice(0,y).trim(),v,T,E,g),E=1;E<=(j[T].length-y)/10+1;++E)e(j[T].slice(y+(E-1)*10,y+E*10).trim(),v,T,E,g)}return g.sheetRows&&(v=v.slice(0,g.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function i(p){for(var m={},g=!1,v=0,j=0;v<p.length;++v)(j=p.charCodeAt(v))==34?g=!g:!g&&j in r&&(m[j]=(m[j]||0)+1);j=[];for(v in m)Object.prototype.hasOwnProperty.call(m,v)&&j.push([m[v],v]);if(!j.length){m=a;for(v in m)Object.prototype.hasOwnProperty.call(m,v)&&j.push([m[v],v])}return j.sort(function(b,y){return b[0]-y[0]||a[b[1]]-a[y[1]]}),r[j.pop()[1]]||44}function s(p,m){var g=m||{},v="",j=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(v=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(v=p.charAt(4),p=p.slice(6)):v=i(p.slice(0,1024)):g&&g.FS?v=g.FS:v=i(p.slice(0,1024));var y=0,C=0,T=0,E=0,S=0,A=v.charCodeAt(0),k=!1,I=0,B=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var M=g.dateNF!=null?gie(g.dateNF):null;function L(){var F=p.slice(E,S),_={};if(F.charAt(0)=='"'&&F.charAt(F.length-1)=='"'&&(F=F.slice(1,-1).replace(/""/g,'"')),F.length===0)_.t="z";else if(g.raw)_.t="s",_.v=F;else if(F.trim().length===0)_.t="s",_.v=F;else if(F.charCodeAt(0)==61)F.charCodeAt(1)==34&&F.charCodeAt(F.length-1)==34?(_.t="s",_.v=F.slice(2,-1).replace(/""/g,'"')):Joe(F)?(_.t="n",_.f=F.slice(1)):(_.t="s",_.v=F);else if(F=="TRUE")_.t="b",_.v=!0;else if(F=="FALSE")_.t="b",_.v=!1;else if(!isNaN(T=is(F)))_.t="n",g.cellText!==!1&&(_.w=F),_.v=T;else if(!isNaN(bf(F).getDate())||M&&F.match(M)){_.z=g.dateNF||Ir[14];var G=0;M&&F.match(M)&&(F=yie(F,g.dateNF,F.match(M)||[]),G=1),g.cellDates?(_.t="d",_.v=Fn(F,G)):(_.t="n",_.v=Zn(Fn(F,G))),g.cellText!==!1&&(_.w=to(_.z,_.v instanceof Date?Zn(_.v):_.v)),g.cellNF||delete _.z}else _.t="s",_.v=F;if(_.t=="z"||(g.dense?(j[y]||(j[y]=[]),j[y][C]=_):j[sr({c:C,r:y})]=_),E=S+1,B=p.charCodeAt(E),b.e.c<C&&(b.e.c=C),b.e.r<y&&(b.e.r=y),I==A)++C;else if(C=0,++y,g.sheetRows&&g.sheetRows<=y)return!0}e:for(;S<p.length;++S)switch(I=p.charCodeAt(S)){case 34:B===34&&(k=!k);break;case A:case 10:case 13:if(!k&&L())break e;break}return S-E>0&&L(),j["!ref"]=Wr(b),j}function l(p,m){return!(m&&m.PRN)||m.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?s(p,m):ad(t(p,m),m)}function d(p,m){var g="",v=m.type=="string"?[0,0,0,0]:hfe(p,m);switch(m.type){case"base64":g=hs(p);break;case"binary":g=p;break;case"buffer":m.codepage==65001?g=p.toString("utf8"):m.codepage&&typeof Rm<"u"||(g=Qt&&Buffer.isBuffer(p)?p.toString("binary"):$f(p));break;case"array":g=F0(p);break;case"string":g=p;break;default:throw new Error("Unrecognized type "+m.type)}return v[0]==239&&v[1]==187&&v[2]==191?g=Au(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=Au(g):m.type=="binary"&&typeof Rm<"u",g.slice(0,19)=="socialcalc:version:"?b5.to_sheet(m.type=="string"?g:Au(g),m):l(g,m)}function u(p,m){return il(d(p,m),m)}function f(p){for(var m=[],g=Sr(p["!ref"]),v,j=Array.isArray(p),b=g.s.r;b<=g.e.r;++b){for(var y=[],C=g.s.c;C<=g.e.c;++C){var T=sr({r:b,c:C});if(v=j?(p[b]||[])[C]:p[T],!v||v.v==null){y.push("          ");continue}for(var E=(v.w||(ps(v),v.w)||"").slice(0,10);E.length<10;)E+=" ";y.push(E+(C===0?" ":""))}m.push(y.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:d,from_sheet:f}}(),hD=function(){function e(z,te,U){if(z){ha(z,z.l||0);for(var ee=U.Enum||q;z.l<z.length;){var le=z.read_shift(2),ce=ee[le]||ee[65535],je=z.read_shift(2),ie=z.l+je,ve=ce.f&&ce.f(z,je,U);if(z.l=ie,te(ve,ce,le))return}}}function t(z,te){switch(te.type){case"base64":return r(ti(hs(z)),te);case"binary":return r(ti(z),te);case"buffer":case"array":return r(z,te)}throw"Unsupported type "+te.type}function r(z,te){if(!z)return z;var U=te||{},ee=U.dense?[]:{},le="Sheet1",ce="",je=0,ie={},ve=[],Ne=[],ge={s:{r:0,c:0},e:{r:0,c:0}},Ye=U.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)U.Enum=q,e(z,function(fe,Ee,K){switch(K){case 0:U.vers=fe,fe>=4096&&(U.qpro=!0);break;case 6:ge=fe;break;case 204:fe&&(ce=fe);break;case 222:ce=fe;break;case 15:case 51:U.qpro||(fe[1].v=fe[1].v.slice(1));case 13:case 14:case 16:K==14&&(fe[2]&112)==112&&(fe[2]&15)>1&&(fe[2]&15)<15&&(fe[1].z=U.dateNF||Ir[14],U.cellDates&&(fe[1].t="d",fe[1].v=B8(fe[1].v))),U.qpro&&fe[3]>je&&(ee["!ref"]=Wr(ge),ie[le]=ee,ve.push(le),ee=U.dense?[]:{},ge={s:{r:0,c:0},e:{r:0,c:0}},je=fe[3],le=ce||"Sheet"+(je+1),ce="");var re=U.dense?(ee[fe[0].r]||[])[fe[0].c]:ee[sr(fe[0])];if(re){re.t=fe[1].t,re.v=fe[1].v,fe[1].z!=null&&(re.z=fe[1].z),fe[1].f!=null&&(re.f=fe[1].f);break}U.dense?(ee[fe[0].r]||(ee[fe[0].r]=[]),ee[fe[0].r][fe[0].c]=fe[1]):ee[sr(fe[0])]=fe[1];break}},U);else if(z[2]==26||z[2]==14)U.Enum=X,z[2]==14&&(U.qpro=!0,z.l=0),e(z,function(fe,Ee,K){switch(K){case 204:le=fe;break;case 22:fe[1].v=fe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(fe[3]>je&&(ee["!ref"]=Wr(ge),ie[le]=ee,ve.push(le),ee=U.dense?[]:{},ge={s:{r:0,c:0},e:{r:0,c:0}},je=fe[3],le="Sheet"+(je+1)),Ye>0&&fe[0].r>=Ye)break;U.dense?(ee[fe[0].r]||(ee[fe[0].r]=[]),ee[fe[0].r][fe[0].c]=fe[1]):ee[sr(fe[0])]=fe[1],ge.e.c<fe[0].c&&(ge.e.c=fe[0].c),ge.e.r<fe[0].r&&(ge.e.r=fe[0].r);break;case 27:fe[14e3]&&(Ne[fe[14e3][0]]=fe[14e3][1]);break;case 1537:Ne[fe[0]]=fe[1],fe[0]==je&&(le=fe[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(ee["!ref"]=Wr(ge),ie[ce||le]=ee,ve.push(ce||le),!Ne.length)return{SheetNames:ve,Sheets:ie};for(var Te={},qe=[],V=0;V<Ne.length;++V)ie[ve[V]]?(qe.push(Ne[V]||ve[V]),Te[Ne[V]]=ie[Ne[V]]||ie[ve[V]]):(qe.push(Ne[V]),Te[Ne[V]]={"!ref":"A1"});return{SheetNames:qe,Sheets:Te}}function a(z,te){var U=te||{};if(+U.codepage>=0&&yf(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=Kn(),le=Sr(z["!ref"]),ce=Array.isArray(z),je=[];ct(ee,0,s(1030)),ct(ee,6,u(le));for(var ie=Math.min(le.e.r,8191),ve=le.s.r;ve<=ie;++ve)for(var Ne=yn(ve),ge=le.s.c;ge<=le.e.c;++ge){ve===le.s.r&&(je[ge]=En(ge));var Ye=je[ge]+Ne,Te=ce?(z[ve]||[])[ge]:z[Ye];if(!(!Te||Te.t=="z"))if(Te.t=="n")(Te.v|0)==Te.v&&Te.v>=-32768&&Te.v<=32767?ct(ee,13,v(ve,ge,Te.v)):ct(ee,14,b(ve,ge,Te.v));else{var qe=ps(Te);ct(ee,15,m(ve,ge,qe.slice(0,239)))}}return ct(ee,1),ee.end()}function i(z,te){var U=te||{};if(+U.codepage>=0&&yf(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=Kn();ct(ee,0,l(z));for(var le=0,ce=0;le<z.SheetNames.length;++le)(z.Sheets[z.SheetNames[le]]||{})["!ref"]&&ct(ee,27,me(z.SheetNames[le],ce++));var je=0;for(le=0;le<z.SheetNames.length;++le){var ie=z.Sheets[z.SheetNames[le]];if(!(!ie||!ie["!ref"])){for(var ve=Sr(ie["!ref"]),Ne=Array.isArray(ie),ge=[],Ye=Math.min(ve.e.r,8191),Te=ve.s.r;Te<=Ye;++Te)for(var qe=yn(Te),V=ve.s.c;V<=ve.e.c;++V){Te===ve.s.r&&(ge[V]=En(V));var fe=ge[V]+qe,Ee=Ne?(ie[Te]||[])[V]:ie[fe];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")ct(ee,23,L(Te,V,je,Ee.v));else{var K=ps(Ee);ct(ee,22,I(Te,V,je,K.slice(0,239)))}}++je}}return ct(ee,1),ee.end()}function s(z){var te=He(2);return te.write_shift(2,z),te}function l(z){var te=He(26);te.write_shift(2,4096),te.write_shift(2,4),te.write_shift(4,0);for(var U=0,ee=0,le=0,ce=0;ce<z.SheetNames.length;++ce){var je=z.SheetNames[ce],ie=z.Sheets[je];if(!(!ie||!ie["!ref"])){++le;var ve=ya(ie["!ref"]);U<ve.e.r&&(U=ve.e.r),ee<ve.e.c&&(ee=ve.e.c)}}return U>8191&&(U=8191),te.write_shift(2,U),te.write_shift(1,le),te.write_shift(1,ee),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(1,1),te.write_shift(1,2),te.write_shift(4,0),te.write_shift(4,0),te}function d(z,te,U){var ee={s:{c:0,r:0},e:{c:0,r:0}};return te==8&&U.qpro?(ee.s.c=z.read_shift(1),z.l++,ee.s.r=z.read_shift(2),ee.e.c=z.read_shift(1),z.l++,ee.e.r=z.read_shift(2),ee):(ee.s.c=z.read_shift(2),ee.s.r=z.read_shift(2),te==12&&U.qpro&&(z.l+=2),ee.e.c=z.read_shift(2),ee.e.r=z.read_shift(2),te==12&&U.qpro&&(z.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function u(z){var te=He(8);return te.write_shift(2,z.s.c),te.write_shift(2,z.s.r),te.write_shift(2,z.e.c),te.write_shift(2,z.e.r),te}function f(z,te,U){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(ee[0].c=z.read_shift(1),ee[3]=z.read_shift(1),ee[0].r=z.read_shift(2),z.l+=2):(ee[2]=z.read_shift(1),ee[0].c=z.read_shift(2),ee[0].r=z.read_shift(2)),ee}function p(z,te,U){var ee=z.l+te,le=f(z,te,U);if(le[1].t="s",U.vers==20768){z.l++;var ce=z.read_shift(1);return le[1].v=z.read_shift(ce,"utf8"),le}return U.qpro&&z.l++,le[1].v=z.read_shift(ee-z.l,"cstr"),le}function m(z,te,U){var ee=He(7+U.length);ee.write_shift(1,255),ee.write_shift(2,te),ee.write_shift(2,z),ee.write_shift(1,39);for(var le=0;le<ee.length;++le){var ce=U.charCodeAt(le);ee.write_shift(1,ce>=128?95:ce)}return ee.write_shift(1,0),ee}function g(z,te,U){var ee=f(z,te,U);return ee[1].v=z.read_shift(2,"i"),ee}function v(z,te,U){var ee=He(7);return ee.write_shift(1,255),ee.write_shift(2,te),ee.write_shift(2,z),ee.write_shift(2,U,"i"),ee}function j(z,te,U){var ee=f(z,te,U);return ee[1].v=z.read_shift(8,"f"),ee}function b(z,te,U){var ee=He(13);return ee.write_shift(1,255),ee.write_shift(2,te),ee.write_shift(2,z),ee.write_shift(8,U,"f"),ee}function y(z,te,U){var ee=z.l+te,le=f(z,te,U);if(le[1].v=z.read_shift(8,"f"),U.qpro)z.l=ee;else{var ce=z.read_shift(2);S(z.slice(z.l,z.l+ce),le),z.l+=ce}return le}function C(z,te,U){var ee=te&32768;return te&=-32769,te=(ee?z:0)+(te>=8192?te-16384:te),(ee?"":"$")+(U?En(te):yn(te))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(z,te){ha(z,0);for(var U=[],ee=0,le="",ce="",je="",ie="";z.l<z.length;){var ve=z[z.l++];switch(ve){case 0:U.push(z.read_shift(8,"f"));break;case 1:ce=C(te[0].c,z.read_shift(2),!0),le=C(te[0].r,z.read_shift(2),!1),U.push(ce+le);break;case 2:{var Ne=C(te[0].c,z.read_shift(2),!0),ge=C(te[0].r,z.read_shift(2),!1);ce=C(te[0].c,z.read_shift(2),!0),le=C(te[0].r,z.read_shift(2),!1),U.push(Ne+ge+":"+ce+le)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(z.read_shift(2));break;case 6:{for(var Ye="";ve=z[z.l++];)Ye+=String.fromCharCode(ve);U.push('"'+Ye.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:ie=U.pop(),je=U.pop(),U.push(["AND","OR"][ve-20]+"("+je+","+ie+")");break;default:if(ve<32&&E[ve])ie=U.pop(),je=U.pop(),U.push(je+E[ve]+ie);else if(T[ve]){if(ee=T[ve][1],ee==69&&(ee=z[z.l++]),ee>U.length){console.error("WK1 bad formula parse 0x"+ve.toString(16)+":|"+U.join("|")+"|");return}var Te=U.slice(-ee);U.length-=ee,U.push(T[ve][0]+"("+Te.join(",")+")")}else return ve<=7?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=24?console.error("WK1 unsupported op "+ve.toString(16)):ve<=30?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=115?console.error("WK1 unsupported function opcode "+ve.toString(16)):console.error("WK1 unrecognized opcode "+ve.toString(16))}}U.length==1?te[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function A(z){var te=[{c:0,r:0},{t:"n",v:0},0];return te[0].r=z.read_shift(2),te[3]=z[z.l++],te[0].c=z[z.l++],te}function k(z,te){var U=A(z);return U[1].t="s",U[1].v=z.read_shift(te-4,"cstr"),U}function I(z,te,U,ee){var le=He(6+ee.length);le.write_shift(2,z),le.write_shift(1,U),le.write_shift(1,te),le.write_shift(1,39);for(var ce=0;ce<ee.length;++ce){var je=ee.charCodeAt(ce);le.write_shift(1,je>=128?95:je)}return le.write_shift(1,0),le}function B(z,te){var U=A(z);U[1].v=z.read_shift(2);var ee=U[1].v>>1;if(U[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return U[1].v=ee,U}function M(z,te){var U=A(z),ee=z.read_shift(4),le=z.read_shift(4),ce=z.read_shift(2);if(ce==65535)return ee===0&&le===3221225472?(U[1].t="e",U[1].v=15):ee===0&&le===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var je=ce&32768;return ce=(ce&32767)-16446,U[1].v=(1-je*2)*(le*Math.pow(2,ce+32)+ee*Math.pow(2,ce)),U}function L(z,te,U,ee){var le=He(14);if(le.write_shift(2,z),le.write_shift(1,U),le.write_shift(1,te),ee==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var ce=0,je=0,ie=0,ve=0;return ee<0&&(ce=1,ee=-ee),je=Math.log2(ee)|0,ee/=Math.pow(2,je-31),ve=ee>>>0,(ve&2147483648)==0&&(ee/=2,++je,ve=ee>>>0),ee-=ve,ve|=2147483648,ve>>>=0,ee*=Math.pow(2,32),ie=ee>>>0,le.write_shift(4,ie),le.write_shift(4,ve),je+=16383+(ce?32768:0),le.write_shift(2,je),le}function F(z,te){var U=M(z);return z.l+=te-14,U}function _(z,te){var U=A(z),ee=z.read_shift(4);return U[1].v=ee>>6,U}function G(z,te){var U=A(z),ee=z.read_shift(8,"f");return U[1].v=ee,U}function P(z,te){var U=G(z);return z.l+=te-10,U}function D(z,te){return z[z.l+te-1]==0?z.read_shift(te,"cstr"):""}function R(z,te){var U=z[z.l++];U>te-1&&(U=te-1);for(var ee="";ee.length<U;)ee+=String.fromCharCode(z[z.l++]);return ee}function H(z,te,U){if(!(!U.qpro||te<21)){var ee=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var le=z.read_shift(te-21,"cstr");return[ee,le]}}function ne(z,te){for(var U={},ee=z.l+te;z.l<ee;){var le=z.read_shift(2);if(le==14e3){for(U[le]=[0,""],U[le][0]=z.read_shift(2);z[z.l];)U[le][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return U}function me(z,te){var U=He(5+z.length);U.write_shift(2,14e3),U.write_shift(2,te);for(var ee=0;ee<z.length;++ee){var le=z.charCodeAt(ee);U[U.l++]=le>127?95:le}return U[U.l++]=0,U}var q={0:{n:"BOF",f:m5},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:d},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:j},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:D},222:{n:"SHEETNAMELP",f:R},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:M},24:{n:"NUMBER18",f:B},25:{n:"FORMULA19",f:F},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:_},38:{n:"??"},39:{n:"NUMBER27",f:G},40:{n:"FORMULA28",f:P},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:D},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:i,to_workbook:t}}(),roe=/^\s|\s$|[\t\n\r]/;function j5(e,t){if(!t.bookSST)return"";var r=[Hr];r[r.length]=st("sst",null,{xmlns:nd[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var i=e[a],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(roe)&&(s+=' xml:space="preserve"'),s+=">"+ir(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function noe(e){return[e.read_shift(4),e.read_shift(4)]}function aoe(e,t){return t||(t=He(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var ioe=Xie;function soe(e){var t=Kn();Je(t,159,aoe(e));for(var r=0;r<e.length;++r)Je(t,19,ioe(e[r]));return Je(t,160),t.end()}function ooe(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function w5(e){var t=0,r,a=ooe(e),i=a.length+1,s,l,d,u,f;for(r=Ko(i),r[0]=a.length,s=1;s!=i;++s)r[s]=a[s-1];for(s=i-1;s>=0;--s)l=r[s],d=(t&16384)===0?0:1,u=t<<1&32767,f=d|u,t=f^l;return t^52811}var loe=function(){function e(i,s){switch(s.type){case"base64":return t(hs(i),s);case"binary":return t(i,s);case"buffer":return t(Qt&&Buffer.isBuffer(i)?i.toString("binary"):$f(i),s);case"array":return t(F0(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var l=s||{},d=l.dense?[]:{},u=i.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(p,m){Array.isArray(d)&&(d[m]=[]);for(var g=/\\\w+\b/g,v=0,j,b=-1;j=g.exec(p);){switch(j[0]){case"\\cell":var y=p.slice(v,g.lastIndex-j[0].length);if(y[0]==" "&&(y=y.slice(1)),++b,y.length){var C={v:y,t:"s"};Array.isArray(d)?d[m][b]=C:d[sr({r:m,c:b})]=C}break}v=g.lastIndex}b>f.e.c&&(f.e.c=b)}),d["!ref"]=Wr(f),d}function r(i,s){return il(e(i,s),s)}function a(i){for(var s=["{\\rtf1\\ansi"],l=Sr(i["!ref"]),d,u=Array.isArray(i),f=l.s.r;f<=l.e.r;++f){s.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)s.push("\\cellx"+(p+1));for(s.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var m=sr({r:f,c:p});d=u?(i[f]||[])[p]:i[m],!(!d||d.v==null&&(!d.f||d.F))&&(s.push(" "+(d.w||(ps(d),d.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}}();function pD(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var coe=6,ss=coe;function qm(e){return Math.floor((e+Math.round(128/ss)/256)*ss)}function Wm(e){return Math.floor((e-5)/ss*100+.5)/100}function G2(e){return Math.round((e*ss+5)/ss*256)/256}function CS(e){e.width?(e.wpx=qm(e.width),e.wch=Wm(e.wpx),e.MDW=ss):e.wpx?(e.wch=Wm(e.wpx),e.width=G2(e.wch),e.MDW=ss):typeof e.wch=="number"&&(e.width=G2(e.wch),e.wpx=qm(e.width),e.MDW=ss),e.customWidth&&delete e.customWidth}var doe=96,S5=doe;function Hm(e){return e*96/S5}function N5(e){return e*S5/96}function uoe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=st("numFmt",null,{numFmtId:a,formatCode:ir(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=st("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function foe(e){var t=[];return t[t.length]=st("cellXfs",null),e.forEach(function(r){t[t.length]=st("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=st("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function T5(e,t){var r=[Hr,st("styleSheet",null,{xmlns:nd[0],"xmlns:vt":rn.vt})],a;return e.SSF&&(a=uoe(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=foe(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function hoe(e,t){var r=e.read_shift(2),a=_n(e);return[r,a]}function poe(e,t,r){r||(r=He(6+4*t.length)),r.write_shift(2,e),an(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function moe(e,t,r){var a={};a.sz=e.read_shift(2)/20;var i=rse(e);i.fItalic&&(a.italic=1),i.fCondense&&(a.condense=1),i.fExtend&&(a.extend=1),i.fShadow&&(a.shadow=1),i.fOutline&&(a.outline=1),i.fStrikeout&&(a.strike=1);var s=e.read_shift(2);switch(s===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(a.underline=l);var d=e.read_shift(1);d>0&&(a.family=d);var u=e.read_shift(1);switch(u>0&&(a.charset=u),e.l++,a.color=tse(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=_n(e),a}function xoe(e,t){t||(t=He(25+4*32)),t.write_shift(2,e.sz*20),nse(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),$m(e.color,t);var a=0;return a=2,t.write_shift(1,a),an(e.name,t),t.length>t.l?t.slice(0,t.l):t}var goe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],sj,yoe=Ti;function mD(e,t){t||(t=He(4*3+8*7+16*1)),sj||(sj=pS(goe));var r=sj[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for($m({auto:1},t),$m({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function voe(e,t){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:i}}function C5(e,t,r){r||(r=He(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function pu(e,t){return t||(t=He(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var boe=Ti;function joe(e,t){return t||(t=He(51)),t.write_shift(1,0),pu(null,t),pu(null,t),pu(null,t),pu(null,t),pu(null,t),t.length>t.l?t.slice(0,t.l):t}function woe(e,t){return t||(t=He(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),zm(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Soe(e,t,r){var a=He(2052);return a.write_shift(4,e),zm(t,a),zm(r,a),a.length>a.l?a.slice(0,a.l):a}function Noe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)t[i]!=null&&++r}),r!=0&&(Je(e,615,ii(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)t[i]!=null&&Je(e,44,poe(i,t[i]))}),Je(e,616))}}function Toe(e){var t=1;Je(e,611,ii(t)),Je(e,43,xoe({sz:12,color:{theme:1},name:"Calibri",family:2})),Je(e,612)}function Coe(e){var t=2;Je(e,603,ii(t)),Je(e,45,mD({patternType:"none"})),Je(e,45,mD({patternType:"gray125"})),Je(e,604)}function Aoe(e){var t=1;Je(e,613,ii(t)),Je(e,46,joe()),Je(e,614)}function Eoe(e){var t=1;Je(e,626,ii(t)),Je(e,47,C5({numFmtId:0},65535)),Je(e,627)}function _oe(e,t){Je(e,617,ii(t.length)),t.forEach(function(r){Je(e,47,C5(r,0))}),Je(e,618)}function Ooe(e){var t=1;Je(e,619,ii(t)),Je(e,48,woe({xfId:0,name:"Normal"})),Je(e,620)}function koe(e){var t=0;Je(e,505,ii(t)),Je(e,506)}function Doe(e){var t=0;Je(e,508,Soe(t,"TableStyleMedium9","PivotStyleMedium4")),Je(e,509)}function Ioe(e,t){var r=Kn();return Je(r,278),Noe(r,e.SSF),Toe(r),Coe(r),Aoe(r),Eoe(r),_oe(r,t.cellXfs),Ooe(r),koe(r),Doe(r),Je(r,279),r.end()}function A5(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Hr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Roe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:_n(e)}}function Poe(e){var t=He(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),an(e.name,t),t.slice(0,t.l)}function Moe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Boe(e){var t=He(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Foe(e,t){var r=He(8+2*t.length);return r.write_shift(4,e),an(t,r),r.slice(0,r.l)}function Loe(e){return e.l+=4,e.read_shift(4)!=0}function zoe(e,t){var r=He(8);return r.write_shift(4,e),r.write_shift(4,1),r}function $oe(){var e=Kn();return Je(e,332),Je(e,334,ii(1)),Je(e,335,Poe({name:"XLDAPR",version:12e4,flags:3496657072})),Je(e,336),Je(e,339,Foe(1,"XLDAPR")),Je(e,52),Je(e,35,ii(514)),Je(e,4096,ii(0)),Je(e,4097,Ia(1)),Je(e,36),Je(e,53),Je(e,340),Je(e,337,zoe(1)),Je(e,51,Boe([[1,0]])),Je(e,338),Je(e,333),e.end()}function E5(){var e=[Hr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Uoe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=sr(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}var nc=1024;function _5(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[st("xml",null,{"xmlns:v":pa.v,"xmlns:o":pa.o,"xmlns:x":pa.x,"xmlns:mv":pa.mv}).replace(/\/>/,">"),st("o:shapelayout",st("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),st("v:shapetype",[st("v:stroke",null,{joinstyle:"miter"}),st("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];nc<e*1e3;)nc+=1e3;return t.forEach(function(s){var l=nn(s[0]),d={color2:"#BEFF82",type:"gradient"};d.type=="gradient"&&(d.angle="-180");var u=d.type=="gradient"?st("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=st("v:fill",u,d),p={on:"t",obscured:"t"};++nc,i=i.concat(["<v:shape"+wf({id:"_x0000_s"+nc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,st("v:shadow",null,p),st("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",xn("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),xn("x:AutoFill","False"),xn("x:Row",String(l.r)),xn("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function O5(e){var t=[Hr,st("comments",null,{xmlns:nd[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(i){var s=ir(i.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var i=0,s=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?i=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(u){u.a&&(i=r.indexOf(ir(u.a))),s.push(u.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+i+'"><text>'),s.length<=1)t.push(xn("t",ir(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,d=1;d<s.length;++d)l+=`Reply:
    `+s[d]+`
`;t.push(xn("t",ir(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function qoe(e,t,r){var a=[Hr,st("ThreadedComments",null,{xmlns:rn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var s="";(i[1]||[]).forEach(function(l,d){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var u={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};d==0?s=u.id:u.parentId=s,l.ID=u.id,l.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),a.push(st("threadedComment",xn("text",l.t||""),u))})}),a.push("</ThreadedComments>"),a.join("")}function Woe(e){var t=[Hr,st("personList",null,{xmlns:rn.TCMNT,"xmlns:x":nd[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(st("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Hoe(e){var t={};t.iauthor=e.read_shift(4);var r=cl(e);return t.rfx=r.s,t.ref=sr(r.s),e.l+=16,t}function Goe(e,t){return t==null&&(t=He(36)),t.write_shift(4,e[1].iauthor),id(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Voe=_n;function Yoe(e){return an(e.slice(0,54))}function Xoe(e){var t=Kn(),r=[];return Je(t,628),Je(t,630),e.forEach(function(a){a[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Je(t,632,Yoe(i.a)))})}),Je(t,631),Je(t,633),e.forEach(function(a){a[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:nn(a[0]),e:nn(a[0])};Je(t,635,Goe([s,i])),i.t&&i.t.length>0&&Je(t,637,Qie(i)),Je(t,636),delete i.iauthor})}),Je(t,634),Je(t,629),t.end()}function Koe(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&pr.utils.cfb_add(e,i,t.FileIndex[a].content)}})}var k5=["xlsb","xlsm","xlam","biff8","xla"],Qoe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,i,s,l){var d=!1,u=!1;s.length==0?u=!0:s.charAt(0)=="["&&(u=!0,s=s.slice(1,-1)),l.length==0?d=!0:l.charAt(0)=="["&&(d=!0,l=l.slice(1,-1));var f=s.length>0?parseInt(s,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return d?p+=t.c:--p,u?f+=t.r:--f,i+(d?"":"$")+En(p)+(u?"":"$")+yn(f)}return function(i,s){return t=s,i.replace(e,r)}}(),AS=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ES=function(){return function(t,r){return t.replace(AS,function(a,i,s,l,d,u){var f=jS(l)-(s?0:r.c),p=bS(u)-(d?0:r.r),m=p==0?"":d?p+1:"["+p+"]",g=f==0?"":s?f+1:"["+f+"]";return i+"R"+m+"C"+g})}}();function Zoe(e,t){return e.replace(AS,function(r,a,i,s,l,d){return a+(i=="$"?i+s:En(jS(s)+t.c))+(l=="$"?l+d:yn(bS(d)+t.r))})}function Joe(e){return e.length!=1}function $r(e){e.l+=1}function ro(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function D5(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return I5(e);r.biff==12&&(a=4)}var i=e.read_shift(a),s=e.read_shift(a),l=ro(e),d=ro(e);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:d[0],cRel:d[1],rRel:d[2]}}}function I5(e){var t=ro(e),r=ro(e),a=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function ele(e,t,r){if(r.biff<8)return I5(e);var a=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),s=ro(e),l=ro(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function R5(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return tle(e);var a=e.read_shift(r&&r.biff==12?4:2),i=ro(e);return{r:a,c:i[0],cRel:i[1],rRel:i[2]}}function tle(e){var t=ro(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function rle(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function nle(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return ale(e);var i=e.read_shift(a>=12?4:2),s=e.read_shift(2),l=(s&16384)>>14,d=(s&32768)>>15;if(s&=16383,d==1)for(;i>524287;)i-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:l,rRel:d}}function ale(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:a}}function ile(e,t,r){var a=(e[e.l++]&96)>>5,i=D5(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,i]}function sle(e,t,r){var a=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var l=D5(e,s,r);return[a,i,l]}function ole(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function lle(e,t,r){var a=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[a,i]}function cle(e,t,r){var a=(e[e.l++]&96)>>5,i=ele(e,t-1,r);return[a,i]}function dle(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function xD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function ule(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=a;++s)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function fle(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function hle(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function ple(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function mle(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function P5(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function xle(e){return e.read_shift(2),P5(e)}function gle(e){return e.read_shift(2),P5(e)}function yle(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var i=R5(e,0,r);return[a,i]}function vle(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var i=nle(e,0,r);return[a,i]}function ble(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=R5(e,0,r);return[a,i,s]}function jle(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[jce[i],F5[i],a]}function wle(e,t,r){var a=e[e.l++],i=e.read_shift(1),s=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:Sle(e);return[i,(s[0]===0?F5:bce)[s[1]]]}function Sle(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Nle(e,t,r){e.l+=r&&r.biff==2?3:4}function Tle(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[a,i]}function Cle(e){return e.l++,Wf[e.read_shift(1)]}function Ale(e){return e.l++,e.read_shift(2)}function Ele(e){return e.l++,e.read_shift(1)!==0}function _le(e){return e.l++,sd(e)}function Ole(e,t,r){return e.l++,g5(e,t-1,r)}function kle(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=bse(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Wf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=sd(e);break;case 2:r[1]=Nse(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Dle(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),i=[],s=0;s!=a;++s)i.push((r.biff==12?cl:Ase)(e));return i}function Ile(e,t,r){var a=0,i=0;r.biff==12?(a=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--i==0&&(i=256));for(var s=0,l=[];s!=a&&(l[s]=[]);++s)for(var d=0;d!=i;++d)l[s][d]=kle(e,r.biff);return l}function Rle(e,t,r){var a=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,s]}function Ple(e,t,r){if(r.biff==5)return Mle(e);var a=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[a,i,s]}function Mle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function Ble(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[a,i]}function Fle(e,t,r){var a=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[a,i]}function Lle(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function zle(e,t,r){var a=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[a,i]}var $le=Ti,Ule=Ti,qle=Ti;function Hf(e,t,r){return e.l+=2,[rle(e)]}function _S(e){return e.l+=6,[]}var Wle=Hf,Hle=_S,Gle=_S,Vle=Hf;function M5(e){return e.l+=2,[m5(e),e.read_shift(2)&1]}var Yle=Hf,Xle=M5,Kle=_S,Qle=Hf,Zle=Hf,Jle=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ece(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),l=Jle[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:a,c:i,C:s}}function tce(e){return e.l+=2,[e.read_shift(4)]}function rce(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function nce(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ace(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ice(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function sce(e){return e.l+=4,[0,0]}var gD={1:{n:"PtgExp",f:Tle},2:{n:"PtgTbl",f:qle},3:{n:"PtgAdd",f:$r},4:{n:"PtgSub",f:$r},5:{n:"PtgMul",f:$r},6:{n:"PtgDiv",f:$r},7:{n:"PtgPower",f:$r},8:{n:"PtgConcat",f:$r},9:{n:"PtgLt",f:$r},10:{n:"PtgLe",f:$r},11:{n:"PtgEq",f:$r},12:{n:"PtgGe",f:$r},13:{n:"PtgGt",f:$r},14:{n:"PtgNe",f:$r},15:{n:"PtgIsect",f:$r},16:{n:"PtgUnion",f:$r},17:{n:"PtgRange",f:$r},18:{n:"PtgUplus",f:$r},19:{n:"PtgUminus",f:$r},20:{n:"PtgPercent",f:$r},21:{n:"PtgParen",f:$r},22:{n:"PtgMissArg",f:$r},23:{n:"PtgStr",f:Ole},26:{n:"PtgSheet",f:rce},27:{n:"PtgEndSheet",f:nce},28:{n:"PtgErr",f:Cle},29:{n:"PtgBool",f:Ele},30:{n:"PtgInt",f:Ale},31:{n:"PtgNum",f:_le},32:{n:"PtgArray",f:dle},33:{n:"PtgFunc",f:jle},34:{n:"PtgFuncVar",f:wle},35:{n:"PtgName",f:Rle},36:{n:"PtgRef",f:yle},37:{n:"PtgArea",f:ile},38:{n:"PtgMemArea",f:Ble},39:{n:"PtgMemErr",f:$le},40:{n:"PtgMemNoMem",f:Ule},41:{n:"PtgMemFunc",f:Fle},42:{n:"PtgRefErr",f:Lle},43:{n:"PtgAreaErr",f:ole},44:{n:"PtgRefN",f:vle},45:{n:"PtgAreaN",f:cle},46:{n:"PtgMemAreaN",f:ace},47:{n:"PtgMemNoMemN",f:ice},57:{n:"PtgNameX",f:Ple},58:{n:"PtgRef3d",f:ble},59:{n:"PtgArea3d",f:sle},60:{n:"PtgRefErr3d",f:zle},61:{n:"PtgAreaErr3d",f:lle},255:{}},oce={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},lce={1:{n:"PtgElfLel",f:M5},2:{n:"PtgElfRw",f:Qle},3:{n:"PtgElfCol",f:Wle},6:{n:"PtgElfRwV",f:Zle},7:{n:"PtgElfColV",f:Vle},10:{n:"PtgElfRadical",f:Yle},11:{n:"PtgElfRadicalS",f:Kle},13:{n:"PtgElfColS",f:Hle},15:{n:"PtgElfColSV",f:Gle},16:{n:"PtgElfRadicalLel",f:Xle},25:{n:"PtgList",f:ece},29:{n:"PtgSxName",f:tce},255:{}},cce={0:{n:"PtgAttrNoop",f:sce},1:{n:"PtgAttrSemi",f:mle},2:{n:"PtgAttrIf",f:hle},4:{n:"PtgAttrChoose",f:ule},8:{n:"PtgAttrGoto",f:fle},16:{n:"PtgAttrSum",f:Nle},32:{n:"PtgAttrBaxcel",f:xD},33:{n:"PtgAttrBaxcel",f:xD},64:{n:"PtgAttrSpace",f:xle},65:{n:"PtgAttrSpaceSemi",f:gle},128:{n:"PtgAttrIfError",f:ple},255:{}};function dce(e,t,r,a){if(a.biff<8)return Ti(e,t);for(var i=e.l+t,s=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=Ile(e,0,a),s.push(r[l][1]);break;case"PtgMemArea":r[l][2]=Dle(e,r[l][1],a),s.push(r[l][2]);break;case"PtgExp":a&&a.biff==12&&(r[l][1][1]=e.read_shift(4),s.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=i-e.l,t!==0&&s.push(Ti(e,t)),s}function uce(e,t,r){for(var a=e.l+t,i,s,l=[];a!=e.l;)t=a-e.l,s=e[e.l],i=gD[s]||gD[oce[s]],(s===24||s===25)&&(i=(s===24?lce:cce)[e[e.l+1]]),!i||!i.f?Ti(e,t):l.push([i.n,i.f(e,t,r)]);return l}function fce(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],i=[],s=0;s<a.length;++s){var l=a[s];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var hce={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function pce(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function B5(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[a[0]][0]){case 357:return i=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?i:i+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return i=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?i:i+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[a[0]][0][3]?(i=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?i:i+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function yD(e,t,r){var a=B5(e,t,r);return a=="#REF"?a:pce(a,r)}function $c(e,t,r,a,i){var s=i&&i.biff||8,l={s:{c:0,r:0}},d=[],u,f,p,m=0,g=0,v,j="";if(!e[0]||!e[0][0])return"";for(var b=-1,y="",C=0,T=e[0].length;C<T;++C){var E=e[0][C];switch(E[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=d.pop(),f=d.pop(),b>=0){switch(e[0][b][1][0]){case 0:y=Dr(" ",e[0][b][1][1]);break;case 1:y=Dr("\r",e[0][b][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}f=f+y,b=-1}d.push(f+hce[E[0]]+u);break;case"PtgIsect":u=d.pop(),f=d.pop(),d.push(f+" "+u);break;case"PtgUnion":u=d.pop(),f=d.pop(),d.push(f+","+u);break;case"PtgRange":u=d.pop(),f=d.pop(),d.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=_u(E[1][1],l,i),d.push(Ou(p,s));break;case"PtgRefN":p=r?_u(E[1][1],r,i):E[1][1],d.push(Ou(p,s));break;case"PtgRef3d":m=E[1][1],p=_u(E[1][2],l,i),j=yD(a,m,i),d.push(j+"!"+Ou(p,s));break;case"PtgFunc":case"PtgFuncVar":var S=E[1][0],A=E[1][1];S||(S=0),S&=127;var k=S==0?[]:d.slice(-S);d.length-=S,A==="User"&&(A=k.shift()),d.push(A+"("+k.join(",")+")");break;case"PtgBool":d.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(E[1]);break;case"PtgNum":d.push(String(E[1]));break;case"PtgStr":d.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(E[1]);break;case"PtgAreaN":v=rD(E[1][1],r?{s:r}:l,i),d.push(aj(v,i));break;case"PtgArea":v=rD(E[1][1],l,i),d.push(aj(v,i));break;case"PtgArea3d":m=E[1][1],v=E[1][2],j=yD(a,m,i),d.push(j+"!"+aj(v,i));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=E[1][2];var I=(a.names||[])[g-1]||(a[0]||[])[g],B=I?I.Name:"SH33TJSNAME"+String(g);B&&B.slice(0,6)=="_xlfn."&&!i.xlfn&&(B=B.slice(6)),d.push(B);break;case"PtgNameX":var M=E[1][1];g=E[1][2];var L;if(i.biff<=5)M<0&&(M=-M),a[M]&&(L=a[M][g]);else{var F="";if(((a[M]||[])[0]||[])[0]==14849||(((a[M]||[])[0]||[])[0]==1025?a[M][g]&&a[M][g].itab>0&&(F=a.SheetNames[a[M][g].itab-1]+"!"):F=a.SheetNames[g-1]+"!"),a[M]&&a[M][g])F+=a[M][g].Name;else if(a[0]&&a[0][g])F+=a[0][g].Name;else{var _=(B5(a,M,i)||"").split(";;");_[g-1]?F=_[g-1]:F+="SH33TJSERRX"}d.push(F);break}L||(L={Name:"SH33TJSERRY"}),d.push(L.Name);break;case"PtgParen":var G="(",P=")";if(b>=0){switch(y="",e[0][b][1][0]){case 2:G=Dr(" ",e[0][b][1][1])+G;break;case 3:G=Dr("\r",e[0][b][1][1])+G;break;case 4:P=Dr(" ",e[0][b][1][1])+P;break;case 5:P=Dr("\r",e[0][b][1][1])+P;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}d.push(G+d.pop()+P);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":p={c:E[1][1],r:E[1][0]};var D={c:r.c,r:r.r};if(a.sharedf[sr(p)]){var R=a.sharedf[sr(p)];d.push($c(R,l,D,a,i))}else{var H=!1;for(u=0;u!=a.arrayf.length;++u)if(f=a.arrayf[u],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){d.push($c(f[1],l,D,a,i)),H=!0;break}H||d.push(E[1])}break;case"PtgArray":d.push("{"+fce(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&ne.indexOf(e[0][C][0])==-1){E=e[0][b];var me=!0;switch(E[1][0]){case 4:me=!1;case 0:y=Dr(" ",E[1][1]);break;case 5:me=!1;case 1:y=Dr("\r",E[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}d.push((me?y:"")+d.pop()+(me?"":y)),b=-1}}if(d.length>1&&i.WTF)throw new Error("bad formula stack");return d[0]}function mce(e){if(e==null){var t=He(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Qo(e);return Qo(0)}function xce(e,t,r,a,i){var s=Zo(t,r,i),l=mce(e.v),d=He(6),u=33;d.write_shift(2,u),d.write_shift(4,0);for(var f=He(e.bf.length),p=0;p<e.bf.length;++p)f[p]=e.bf[p];var m=mn([s,l,d,f]);return m}function L0(e,t,r){var a=e.read_shift(4),i=uce(e,a,r),s=e.read_shift(4),l=s>0?dce(e,s,i,r):null;return[i,l]}var gce=L0,z0=L0,yce=L0,vce=L0,bce={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},F5={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},jce={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function wce(e){var t="of:="+e.replace(AS,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Sce(e){return e.replace(/\./,"!")}var ku=typeof Map<"u";function OS(e,t,r){var a=0,i=e.length;if(r){if(ku?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=ku?r.get(t):r[t];a<s.length;++a)if(e[s[a]].t===t)return e.Count++,s[a]}}else for(;a<i;++a)if(e[a].t===t)return e.Count++,a;return e[i]={t},e.Count++,e.Unique++,r&&(ku?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function $0(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(ss=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=Wm(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=G2(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function L5(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function co(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],i=60,s=e.length;if(a==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){R8(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=a=i;break}}for(i=0;i!=s;++i)if(e[i].numFmtId===a)return i;return e[s]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Nce(e,t,r){if(e&&e["!ref"]){var a=Sr(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Tce(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Wr(e[r])+'"/>';return t+"</mergeCells>"}function Cce(e,t,r,a,i){var s=!1,l={},d=null;if(a.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}s=!0,l.codeName=jf(ir(u))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),d=(d||"")+st("outlinePr",null,f)}!s&&!d||(i[i.length]=st("sheetPr",d,l))}var Ace=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Ece=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function _ce(e){var t={sheet:1};return Ace.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Ece.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=w5(e.password).toString(16).toUpperCase()),st("sheetProtection",null,t)}function Oce(e){return L5(e),st("pageMargins",null,e)}function kce(e,t){for(var r=["<cols>"],a,i=0;i!=t.length;++i)(a=t[i])&&(r[r.length]=st("col",null,$0(i,a)));return r[r.length]="</cols>",r.join("")}function Dce(e,t,r,a){var i=typeof e.ref=="string"?e.ref:Wr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=ya(i);l.s.r==l.e.r&&(l.e.r=ya(t["!ref"]).e.r,i=Wr(l));for(var d=0;d<s.length;++d){var u=s[d];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+r.SheetNames[a]+"'!"+i;break}}return d==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),st("autoFilter",null,{ref:i})}function Ice(e,t,r,a){var i={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),st("sheetViews",st("sheetView",null,i),{})}function Rce(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",s=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=Wf[e.v];break;case"d":a&&a.cellDates?i=Fn(e.v,-1).toISOString():(e=Jn(e),e.t="n",i=""+(e.v=Zn(Fn(e.v)))),typeof e.z>"u"&&(e.z=Ir[14]);break;default:i=e.v;break}var d=xn("v",ir(i)),u={r:t},f=co(a.cellXfs,e,a);switch(f!==0&&(u.s=f),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){d=xn("v",""+OS(a.Strings,e.v,a.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=s&&(e.t=s,e.v=l),typeof e.f=="string"&&e.f){var p=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;d=st("f",ir(e.f),p)+(e.v!=null?d:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),st("c",d,u)}function Pce(e,t,r,a){var i=[],s=[],l=Sr(e["!ref"]),d="",u,f="",p=[],m=0,g=0,v=e["!rows"],j=Array.isArray(e),b={r:f},y,C=-1;for(g=l.s.c;g<=l.e.c;++g)p[g]=En(g);for(m=l.s.r;m<=l.e.r;++m){for(s=[],f=yn(m),g=l.s.c;g<=l.e.c;++g){u=p[g]+f;var T=j?(e[m]||[])[g]:e[u];T!==void 0&&(d=Rce(T,u,e,t))!=null&&s.push(d)}(s.length>0||v&&v[m])&&(b={r:f},v&&v[m]&&(y=v[m],y.hidden&&(b.hidden=1),C=-1,y.hpx?C=Hm(y.hpx):y.hpt&&(C=y.hpt),C>-1&&(b.ht=C,b.customHeight=1),y.level&&(b.outlineLevel=y.level)),i[i.length]=st("row",s.join(""),b))}if(v)for(;m<v.length;++m)v&&v[m]&&(b={r:m+1},y=v[m],y.hidden&&(b.hidden=1),C=-1,y.hpx?C=Hm(y.hpx):y.hpt&&(C=y.hpt),C>-1&&(b.ht=C,b.customHeight=1),y.level&&(b.outlineLevel=y.level),i[i.length]=st("row","",b));return i.join("")}function z5(e,t,r,a){var i=[Hr,st("worksheet",null,{xmlns:nd[0],"xmlns:r":rn.r})],s=r.SheetNames[e],l=0,d="",u=r.Sheets[s];u==null&&(u={});var f=u["!ref"]||"A1",p=Sr(f);if(p.e.c>16383||p.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),f=Wr(p)}a||(a={}),u["!comments"]=[];var m=[];Cce(u,r,e,t,i),i[i.length]=st("dimension",null,{ref:f}),i[i.length]=Ice(u,t,e,r),t.sheetFormat&&(i[i.length]=st("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(i[i.length]=kce(u,u["!cols"])),i[l=i.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(d=Pce(u,t),d.length>0&&(i[i.length]=d)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),u["!protect"]&&(i[i.length]=_ce(u["!protect"])),u["!autofilter"]!=null&&(i[i.length]=Dce(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(i[i.length]=Tce(u["!merges"]));var g=-1,v,j=-1;return u["!links"].length>0&&(i[i.length]="<hyperlinks>",u["!links"].forEach(function(b){b[1].Target&&(v={ref:b[0]},b[1].Target.charAt(0)!="#"&&(j=ar(a,-1,ir(b[1].Target).replace(/#.*$/,""),Gt.HLINK),v["r:id"]="rId"+j),(g=b[1].Target.indexOf("#"))>-1&&(v.location=ir(b[1].Target.slice(g+1))),b[1].Tooltip&&(v.tooltip=ir(b[1].Tooltip)),i[i.length]=st("hyperlink",null,v))}),i[i.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(i[i.length]=Oce(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=xn("ignoredErrors",st("ignoredError",null,{numberStoredAsText:1,sqref:f}))),m.length>0&&(j=ar(a,-1,"../drawings/drawing"+(e+1)+".xml",Gt.DRAW),i[i.length]=st("drawing",null,{"r:id":"rId"+j}),u["!drawing"]=m),u["!comments"].length>0&&(j=ar(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Gt.VML),i[i.length]=st("legacyDrawing",null,{"r:id":"rId"+j}),u["!legacy"]=j),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Mce(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=a,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function Bce(e,t,r){var a=He(145),i=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var s=320;i.hpx?s=Hm(i.hpx)*20:i.hpt&&(s=i.hpt*20),a.write_shift(2,s),a.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var d=0,u=a.l;a.l+=4;for(var f={r:e,c:0},p=0;p<16;++p)if(!(t.s.c>p+1<<10||t.e.c<p<<10)){for(var m=-1,g=-1,v=p<<10;v<p+1<<10;++v){f.c=v;var j=Array.isArray(r)?(r[f.r]||[])[f.c]:r[sr(f)];j&&(m<0&&(m=v),g=v)}m<0||(++d,a.write_shift(4,m),a.write_shift(4,g))}var b=a.l;return a.l=u,a.write_shift(4,d),a.l=b,a.length>a.l?a.slice(0,a.l):a}function Fce(e,t,r,a){var i=Bce(a,r,t);(i.length>17||(t["!rows"]||[])[a])&&Je(e,0,i)}var Lce=cl,zce=id;function $ce(){}function Uce(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=Zie(e),r}function qce(e,t,r){r==null&&(r=He(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var i=1;i<3;++i)r.write_shift(1,0);return $m({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),t5(e,r),r.slice(0,r.l)}function Wce(e){var t=za(e);return[t]}function Hce(e,t,r){return r==null&&(r=He(8)),sl(t,r)}function Gce(e){var t=ol(e);return[t]}function Vce(e,t,r){return r==null&&(r=He(4)),ll(t,r)}function Yce(e){var t=za(e),r=e.read_shift(1);return[t,r,"b"]}function Xce(e,t,r){return r==null&&(r=He(9)),sl(t,r),r.write_shift(1,e.v?1:0),r}function Kce(e){var t=ol(e),r=e.read_shift(1);return[t,r,"b"]}function Qce(e,t,r){return r==null&&(r=He(5)),ll(t,r),r.write_shift(1,e.v?1:0),r}function Zce(e){var t=za(e),r=e.read_shift(1);return[t,r,"e"]}function Jce(e,t,r){return r==null&&(r=He(9)),sl(t,r),r.write_shift(1,e.v),r}function ede(e){var t=ol(e),r=e.read_shift(1);return[t,r,"e"]}function tde(e,t,r){return r==null&&(r=He(8)),ll(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function rde(e){var t=za(e),r=e.read_shift(4);return[t,r,"s"]}function nde(e,t,r){return r==null&&(r=He(12)),sl(t,r),r.write_shift(4,t.v),r}function ade(e){var t=ol(e),r=e.read_shift(4);return[t,r,"s"]}function ide(e,t,r){return r==null&&(r=He(8)),ll(t,r),r.write_shift(4,t.v),r}function sde(e){var t=za(e),r=sd(e);return[t,r,"n"]}function ode(e,t,r){return r==null&&(r=He(16)),sl(t,r),Qo(e.v,r),r}function lde(e){var t=ol(e),r=sd(e);return[t,r,"n"]}function cde(e,t,r){return r==null&&(r=He(12)),ll(t,r),Qo(e.v,r),r}function dde(e){var t=za(e),r=r5(e);return[t,r,"n"]}function ude(e,t,r){return r==null&&(r=He(12)),sl(t,r),n5(e.v,r),r}function fde(e){var t=ol(e),r=r5(e);return[t,r,"n"]}function hde(e,t,r){return r==null&&(r=He(8)),ll(t,r),n5(e.v,r),r}function pde(e){var t=za(e),r=wS(e);return[t,r,"is"]}function mde(e){var t=za(e),r=_n(e);return[t,r,"str"]}function xde(e,t,r){return r==null&&(r=He(12+4*e.v.length)),sl(t,r),an(e.v,r),r.length>r.l?r.slice(0,r.l):r}function gde(e){var t=ol(e),r=_n(e);return[t,r,"str"]}function yde(e,t,r){return r==null&&(r=He(8+4*e.v.length)),ll(t,r),an(e.v,r),r.length>r.l?r.slice(0,r.l):r}function vde(e,t,r){var a=e.l+t,i=za(e);i.r=r["!row"];var s=e.read_shift(1),l=[i,s,"b"];if(r.cellFormula){e.l+=2;var d=z0(e,a-e.l,r);l[3]=$c(d,null,i,r.supbooks,r)}else e.l=a;return l}function bde(e,t,r){var a=e.l+t,i=za(e);i.r=r["!row"];var s=e.read_shift(1),l=[i,s,"e"];if(r.cellFormula){e.l+=2;var d=z0(e,a-e.l,r);l[3]=$c(d,null,i,r.supbooks,r)}else e.l=a;return l}function jde(e,t,r){var a=e.l+t,i=za(e);i.r=r["!row"];var s=sd(e),l=[i,s,"n"];if(r.cellFormula){e.l+=2;var d=z0(e,a-e.l,r);l[3]=$c(d,null,i,r.supbooks,r)}else e.l=a;return l}function wde(e,t,r){var a=e.l+t,i=za(e);i.r=r["!row"];var s=_n(e),l=[i,s,"str"];if(r.cellFormula){e.l+=2;var d=z0(e,a-e.l,r);l[3]=$c(d,null,i,r.supbooks,r)}else e.l=a;return l}var Sde=cl,Nde=id;function Tde(e,t){return t==null&&(t=He(4)),t.write_shift(4,e),t}function Cde(e,t){var r=e.l+t,a=cl(e),i=SS(e),s=_n(e),l=_n(e),d=_n(e);e.l=r;var u={rfx:a,relId:i,loc:s,display:d};return l&&(u.Tooltip=l),u}function Ade(e,t){var r=He(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));id({s:nn(e[0]),e:nn(e[0])},r),NS("rId"+t,r);var a=e[1].Target.indexOf("#"),i=a==-1?"":e[1].Target.slice(a+1);return an(i||"",r),an(e[1].Tooltip||"",r),an("",r),r.slice(0,r.l)}function Ede(){}function _de(e,t,r){var a=e.l+t,i=a5(e),s=e.read_shift(1),l=[i];if(l[2]=s,r.cellFormula){var d=gce(e,a-e.l,r);l[1]=d}else e.l=a;return l}function Ode(e,t,r){var a=e.l+t,i=cl(e),s=[i];if(r.cellFormula){var l=vce(e,a-e.l,r);s[1]=l,e.l=a}else e.l=a;return s}function kde(e,t,r){r==null&&(r=He(18));var a=$0(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof a.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var $5=["left","right","top","bottom","header","footer"];function Dde(e){var t={};return $5.forEach(function(r){t[r]=sd(e)}),t}function Ide(e,t){return t==null&&(t=He(6*8)),L5(e),$5.forEach(function(r){Qo(e[r],t)}),t}function Rde(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Pde(e,t,r){r==null&&(r=He(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Mde(e){var t=He(24);return t.write_shift(4,4),t.write_shift(4,1),id(e,t),t}function Bde(e,t){return t==null&&(t=He(16*4+2)),t.write_shift(2,e.password?w5(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Fde(){}function Lde(){}function zde(e,t,r,a,i,s,l){if(t.v===void 0)return!1;var d="";switch(t.t){case"b":d=t.v?"1":"0";break;case"d":t=Jn(t),t.z=t.z||Ir[14],t.v=Zn(Fn(t.v)),t.t="n";break;case"n":case"e":d=""+t.v;break;default:d=t.v;break}var u={r,c:a};switch(u.s=co(i.cellXfs,t,i),t.l&&s["!links"].push([sr(u),t.l]),t.c&&s["!comments"].push([sr(u),t.c]),t.t){case"s":case"str":return i.bookSST?(d=OS(i.Strings,t.v,i.revStrings),u.t="s",u.v=d,l?Je(e,18,ide(t,u)):Je(e,7,nde(t,u))):(u.t="str",l?Je(e,17,yde(t,u)):Je(e,6,xde(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?Je(e,13,hde(t,u)):Je(e,2,ude(t,u)):l?Je(e,16,cde(t,u)):Je(e,5,ode(t,u)),!0;case"b":return u.t="b",l?Je(e,15,Qce(t,u)):Je(e,4,Xce(t,u)),!0;case"e":return u.t="e",l?Je(e,14,tde(t,u)):Je(e,3,Jce(t,u)),!0}return l?Je(e,12,Vce(t,u)):Je(e,1,Hce(t,u)),!0}function $de(e,t,r,a){var i=Sr(t["!ref"]||"A1"),s,l="",d=[];Je(e,145);var u=Array.isArray(t),f=i.e.r;t["!rows"]&&(f=Math.max(i.e.r,t["!rows"].length-1));for(var p=i.s.r;p<=f;++p){l=yn(p),Fce(e,t,i,p);var m=!1;if(p<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){p===i.s.r&&(d[g]=En(g)),s=d[g]+l;var v=u?(t[p]||[])[g]:t[s];if(!v){m=!1;continue}m=zde(e,v,p,g,a,t,m)}}Je(e,146)}function Ude(e,t){!t||!t["!merges"]||(Je(e,177,Tde(t["!merges"].length)),t["!merges"].forEach(function(r){Je(e,176,Nde(r))}),Je(e,178))}function qde(e,t){!t||!t["!cols"]||(Je(e,390),t["!cols"].forEach(function(r,a){r&&Je(e,60,kde(a,r))}),Je(e,391))}function Wde(e,t){!t||!t["!ref"]||(Je(e,648),Je(e,649,Mde(Sr(t["!ref"]))),Je(e,650))}function Hde(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var i=ar(r,-1,a[1].Target.replace(/#.*$/,""),Gt.HLINK);Je(e,494,Ade(a,i))}}),delete t["!links"]}function Gde(e,t,r,a){if(t["!comments"].length>0){var i=ar(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Gt.VML);Je(e,551,NS("rId"+i)),t["!legacy"]=i}}function Vde(e,t,r,a){if(t["!autofilter"]){var i=t["!autofilter"],s=typeof i.ref=="string"?i.ref:Wr(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,d=ya(s);d.s.r==d.e.r&&(d.e.r=ya(t["!ref"]).e.r,s=Wr(d));for(var u=0;u<l.length;++u){var f=l[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==a){f.Ref="'"+r.SheetNames[a]+"'!"+s;break}}u==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),Je(e,161,id(Sr(s))),Je(e,162)}}function Yde(e,t,r){Je(e,133),Je(e,137,Pde(t,r)),Je(e,138),Je(e,134)}function Xde(e,t){t["!protect"]&&Je(e,535,Bde(t["!protect"]))}function Kde(e,t,r,a){var i=Kn(),s=r.SheetNames[e],l=r.Sheets[s]||{},d=s;try{r&&r.Workbook&&(d=r.Workbook.Sheets[e].CodeName||d)}catch{}var u=Sr(l["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Je(i,129),(r.vbaraw||l["!outline"])&&Je(i,147,qce(d,l["!outline"])),Je(i,148,zce(u)),Yde(i,l,r.Workbook),qde(i,l),$de(i,l,e,t),Xde(i,l),Vde(i,l,r,e),Ude(i,l),Hde(i,l,a),l["!margins"]&&Je(i,476,Ide(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Wde(i,l),Gde(i,l,e,a),Je(i,130),i.end()}function Qde(e,t){e.l+=10;var r=_n(e);return{name:r}}var Zde=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Jde(e){return!e.Workbook||!e.Workbook.WBProps?"false":Oie(e.Workbook.WBProps.date1904)?"true":"false"}var eue="][*?/\\".split("");function U5(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return eue.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function tue(e,t,r){e.forEach(function(a,i){U5(a);for(var s=0;s<i;++s)if(a==e[s])throw new Error("Duplicate Sheet Name: "+a);if(r){var l=t&&t[i]&&t[i].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function rue(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];tue(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Nce(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function q5(e){var t=[Hr];t[t.length]=st("workbook",null,{xmlns:nd[0],"xmlns:r":rn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Zde.forEach(function(d){e.Workbook.WBProps[d[0]]!=null&&e.Workbook.WBProps[d[0]]!=d[1]&&(a[d[0]]=e.Workbook.WBProps[d[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=st("workbookPr",null,a);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var l={name:ir(e.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=st("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(d){var u={name:d.Name};d.Comment&&(u.comment=d.Comment),d.Sheet!=null&&(u.localSheetId=""+d.Sheet),d.Hidden&&(u.hidden="1"),d.Ref&&(t[t.length]=st("definedName",ir(d.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function nue(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=H2(e),r.name=_n(e),r}function aue(e,t){return t||(t=He(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),NS(e.strRelID,t),an(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function iue(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?_n(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function sue(e,t){t||(t=He(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),t5(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function oue(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=Jie(e),l=yce(e,0,r),d=SS(e);e.l=a;var u={Name:s,Ptg:l};return i<268435455&&(u.Sheet=i),d&&(u.Comment=d),u}function lue(e,t){Je(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Je(e,156,aue(i))}Je(e,144)}function cue(e,t){t||(t=He(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return an("SheetJS",t),an(Im.version,t),an(Im.version,t),an("7262",t),t.length>t.l?t.slice(0,t.l):t}function due(e,t){t||(t=He(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function uue(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,i=-1,s=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&i==-1?i=a:r[a].Hidden==1&&s==-1&&(s=a);s>i||(Je(e,135),Je(e,158,due(i)),Je(e,136))}}function fue(e,t){var r=Kn();return Je(r,131),Je(r,128,cue()),Je(r,153,sue(e.Workbook&&e.Workbook.WBProps||null)),uue(r,e),lue(r,e),Je(r,132),r.end()}function hue(e,t,r){return(t.slice(-4)===".bin"?fue:q5)(e)}function pue(e,t,r,a,i){return(t.slice(-4)===".bin"?Kde:z5)(e,r,a,i)}function mue(e,t,r){return(t.slice(-4)===".bin"?Ioe:T5)(e,r)}function xue(e,t,r){return(t.slice(-4)===".bin"?soe:j5)(e,r)}function gue(e,t,r){return(t.slice(-4)===".bin"?Xoe:O5)(e)}function yue(e){return(e.slice(-4)===".bin"?$oe:E5)()}function vue(e,t){var r=[];return e.Props&&r.push(mse(e.Props,t)),e.Custprops&&r.push(xse(e.Props,e.Custprops)),r.join("")}function bue(){return""}function jue(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,i){var s=[];s.push(st("NumberFormat",null,{"ss:Format":ir(Ir[a.numFmtId])}));var l={"ss:ID":"s"+(21+i)};r.push(st("Style",s.join(""),l))}),st("Styles",r.join(""))}function W5(e){return st("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+ES(e.Ref,{r:0,c:0})})}function wue(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var i=t[a];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(W5(i)))}return st("Names",r.join(""))}function Sue(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var i=a.Workbook.Names,s=[],l=0;l<i.length;++l){var d=i[l];d.Sheet==r&&(d.Name.match(/^_xlfn\./)||s.push(W5(d)))}return s.join("")}function Nue(e,t,r,a){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(st("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(st("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(st("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)i.push(st("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(a.Workbook.Sheets[s]&&!a.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(xn("ProtectContents","True")),e["!protect"].objects&&i.push(xn("ProtectObjects","True")),e["!protect"].scenarios&&i.push(xn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(xn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(xn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":st("WorksheetOptions",i.join(""),{xmlns:pa.x})}function Tue(e){return e.map(function(t){var r=_ie(t.t||""),a=st("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return st("Comment",a,{"ss:Author":t.a})}).join("")}function Cue(e,t,r,a,i,s,l){if(!e||e.v==null&&e.f==null)return"";var d={};if(e.f&&(d["ss:Formula"]="="+ir(ES(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var u=nn(e.F.slice(t.length+1));d["ss:ArrayRange"]="RC:R"+(u.r==l.r?"":"["+(u.r-l.r)+"]")+"C"+(u.c==l.c?"":"["+(u.c-l.c)+"]")}if(e.l&&e.l.Target&&(d["ss:HRef"]=ir(e.l.Target),e.l.Tooltip&&(d["x:HRefScreenTip"]=ir(e.l.Tooltip))),r["!merges"])for(var f=r["!merges"],p=0;p!=f.length;++p)f[p].s.c!=l.c||f[p].s.r!=l.r||(f[p].e.c>f[p].s.c&&(d["ss:MergeAcross"]=f[p].e.c-f[p].s.c),f[p].e.r>f[p].s.r&&(d["ss:MergeDown"]=f[p].e.r-f[p].s.r));var m="",g="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":m="Number",g=String(e.v);break;case"b":m="Boolean",g=e.v?"1":"0";break;case"e":m="Error",g=Wf[e.v];break;case"d":m="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ir[14]);break;case"s":m="String",g=Eie(e.v||"");break}var v=co(a.cellXfs,e,a);d["ss:StyleID"]="s"+(21+v),d["ss:Index"]=l.c+1;var j=e.v!=null?g:"",b=e.t=="z"?"":'<Data ss:Type="'+m+'">'+j+"</Data>";return(e.c||[]).length>0&&(b+=Tue(e.c)),st("Cell",b,d)}function Aue(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=N5(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Eue(e,t,r,a){if(!e["!ref"])return"";var i=Sr(e["!ref"]),s=e["!merges"]||[],l=0,d=[];e["!cols"]&&e["!cols"].forEach(function(y,C){CS(y);var T=!!y.width,E=$0(C,y),S={"ss:Index":C+1};T&&(S["ss:Width"]=qm(E.width)),y.hidden&&(S["ss:Hidden"]="1"),d.push(st("Column",null,S))});for(var u=Array.isArray(e),f=i.s.r;f<=i.e.r;++f){for(var p=[Aue(f,(e["!rows"]||[])[f])],m=i.s.c;m<=i.e.c;++m){var g=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>m)&&!(s[l].s.r>f)&&!(s[l].e.c<m)&&!(s[l].e.r<f)){(s[l].s.c!=m||s[l].s.r!=f)&&(g=!0);break}if(!g){var v={r:f,c:m},j=sr(v),b=u?(e[f]||[])[m]:e[j];p.push(Cue(b,j,e,t,r,a,v))}}p.push("</Row>"),p.length>2&&d.push(p.join(""))}return d.join("")}function _ue(e,t,r){var a=[],i=r.SheetNames[e],s=r.Sheets[i],l=s?Sue(s,t,e,r):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=s?Eue(s,t,e,r):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(Nue(s,t,e,r)),a.join("")}function Oue(e,t){t||(t={}),e.SSF||(e.SSF=Jn(Ir)),e.SSF&&(M0(),P0(e.SSF),t.revssf=B0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],co(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(vue(e,t)),r.push(bue()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(st("Worksheet",_ue(a,t,e),{"ss:Name":ir(e.SheetNames[a])}));return r[2]=jue(e,t),r[3]=wue(e),Hr+st("Workbook",r.join(""),{xmlns:pa.ss,"xmlns:o":pa.o,"xmlns:x":pa.x,"xmlns:ss":pa.ss,"xmlns:dt":pa.dt,"xmlns:html":pa.html})}var oj={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function kue(e,t){var r=[],a=[],i=[],s=0,l,d=H3(aD,"n"),u=H3(iD,"n");if(e.Props)for(l=bn(e.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(d,l[s])?r:Object.prototype.hasOwnProperty.call(u,l[s])?a:i).push([l[s],e.Props[l[s]]]);if(e.Custprops)for(l=bn(e.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(d,l[s])?r:Object.prototype.hasOwnProperty.call(u,l[s])?a:i).push([l[s],e.Custprops[l[s]]]);var f=[];for(s=0;s<i.length;++s)p5.indexOf(i[s][0])>-1||u5.indexOf(i[s][0])>-1||i[s][1]!=null&&f.push(i[s]);a.length&&pr.utils.cfb_add(t,"/SummaryInformation",dD(a,oj.SI,u,iD)),(r.length||f.length)&&pr.utils.cfb_add(t,"/DocumentSummaryInformation",dD(r,oj.DSI,d,aD,f.length?f:null,oj.UDI))}function Due(e,t){var r=t||{},a=pr.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return pr.utils.cfb_add(a,i,H5(e,r)),r.biff==8&&(e.Props||e.Custprops)&&kue(e,a),r.biff==8&&e.vbaraw&&Koe(a,pr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var Iue={0:{f:Mce},1:{f:Wce},2:{f:dde},3:{f:Zce},4:{f:Yce},5:{f:sde},6:{f:mde},7:{f:rde},8:{f:wde},9:{f:jde},10:{f:vde},11:{f:bde},12:{f:Gce},13:{f:fde},14:{f:ede},15:{f:Kce},16:{f:lde},17:{f:gde},18:{f:ade},19:{f:wS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:oue},40:{},42:{},43:{f:moe},44:{f:hoe},45:{f:yoe},46:{f:boe},47:{f:voe},48:{},49:{f:Gie},50:{},51:{f:Moe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Vse},62:{f:pde},63:{f:Uoe},64:{f:Fde},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ti,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Rde},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Uce},148:{f:Lce,p:16},151:{f:Ede},152:{},153:{f:iue},154:{},155:{},156:{f:nue},157:{},158:{},159:{T:1,f:noe},160:{T:-1},161:{T:1,f:cl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Sde},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Roe},336:{T:-1},337:{f:Loe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:H2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:$se},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:_de},427:{f:Ode},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Dde},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:$ce},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Cde},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:H2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Voe},633:{T:1},634:{T:-1},635:{T:1,f:Hoe},636:{T:-1},637:{f:Kie},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Qde},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Lde},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ct(e,t,r,a){var i=t;if(!isNaN(i)){var s=a||(r||[]).length||0,l=e.next(4);l.write_shift(2,i),l.write_shift(2,s),s>0&&vS(r)&&e.push(r)}}function Rue(e,t,r,a){var i=(r||[]).length||0;if(i<=8224)return ct(e,t,r,i);var s=t;if(!isNaN(s)){for(var l=r.parts||[],d=0,u=0,f=0;f+(l[d]||8224)<=8224;)f+=l[d]||8224,d++;var p=e.next(4);for(p.write_shift(2,s),p.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f;u<i;){for(p=e.next(4),p.write_shift(2,60),f=0;f+(l[d]||8224)<=8224;)f+=l[d]||8224,d++;p.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f}}}function Gf(e,t,r){return e||(e=He(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Pue(e,t,r,a){var i=He(9);return Gf(i,e,t),x5(r,a||"b",i),i}function Mue(e,t,r){var a=He(8+2*r.length);return Gf(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function Bue(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?Zn(Fn(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?ct(e,2,Qse(r,a,i)):ct(e,3,Kse(r,a,i));return;case"b":case"e":ct(e,5,Pue(r,a,t.v,t.t));return;case"s":case"str":ct(e,4,Mue(r,a,(t.v||"").slice(0,255)));return}ct(e,1,Gf(null,r,a))}function Fue(e,t,r,a){var i=Array.isArray(t),s=Sr(t["!ref"]||"A1"),l,d="",u=[];if(s.e.c>255||s.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=Wr(s)}for(var f=s.s.r;f<=s.e.r;++f){d=yn(f);for(var p=s.s.c;p<=s.e.c;++p){f===s.s.r&&(u[p]=En(p)),l=u[p]+d;var m=i?(t[f]||[])[p]:t[l];m&&Bue(e,m,f,p)}}}function Lue(e,t){for(var r=t||{},a=Kn(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ct(a,r.biff==4?1033:r.biff==3?521:9,TS(e,16,r)),Fue(a,e.Sheets[e.SheetNames[i]],i,r),ct(a,10),a.end()}function zue(e,t,r){ct(e,49,Ise({sz:12,name:"Arial"},r))}function $ue(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)t[i]!=null&&ct(e,1054,Mse(i,t[i],r))})}function Uue(e,t){var r=He(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ct(e,2151,r),r=He(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),v5(Sr(t["!ref"]||"A1"),r),r.write_shift(4,4),ct(e,2152,r)}function que(e,t){for(var r=0;r<16;++r)ct(e,224,fD({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){ct(e,224,fD(a,0,t))})}function Wue(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];ct(e,440,Wse(a)),a[1].Tooltip&&ct(e,2048,Hse(a))}delete t["!links"]}function Hue(e,t){if(t){var r=0;t.forEach(function(a,i){++r<=256&&a&&ct(e,125,Yse($0(i,a),i))})}}function Gue(e,t,r,a,i){var s=16+co(i.cellXfs,t,i);if(t.v==null&&!t.bf){ct(e,513,Zo(r,a,s));return}if(t.bf)ct(e,6,xce(t,r,a,i,s));else switch(t.t){case"d":case"n":var l=t.t=="d"?Zn(Fn(t.v)):t.v;ct(e,515,zse(r,a,l,s));break;case"b":case"e":ct(e,517,Lse(r,a,t.v,s,i,t.t));break;case"s":case"str":if(i.bookSST){var d=OS(i.Strings,t.v,i.revStrings);ct(e,253,Rse(r,a,d,s))}else ct(e,516,Pse(r,a,(t.v||"").slice(0,255),s,i));break;default:ct(e,513,Zo(r,a,s))}}function Vue(e,t,r){var a=Kn(),i=r.SheetNames[e],s=r.Sheets[i]||{},l=(r||{}).Workbook||{},d=(l.Sheets||[])[e]||{},u=Array.isArray(s),f=t.biff==8,p,m="",g=[],v=Sr(s["!ref"]||"A1"),j=f?65536:16384;if(v.e.c>255||v.e.r>=j){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,j-1)}ct(a,2057,TS(r,16,t)),ct(a,13,Ia(1)),ct(a,12,Ia(100)),ct(a,15,Rn(!0)),ct(a,17,Rn(!1)),ct(a,16,Qo(.001)),ct(a,95,Rn(!0)),ct(a,42,Rn(!1)),ct(a,43,Rn(!1)),ct(a,130,Ia(1)),ct(a,128,Fse()),ct(a,131,Rn(!1)),ct(a,132,Rn(!1)),f&&Hue(a,s["!cols"]),ct(a,512,Bse(v,t)),f&&(s["!links"]=[]);for(var b=v.s.r;b<=v.e.r;++b){m=yn(b);for(var y=v.s.c;y<=v.e.c;++y){b===v.s.r&&(g[y]=En(y)),p=g[y]+m;var C=u?(s[b]||[])[y]:s[p];C&&(Gue(a,C,b,y,t),f&&C.l&&s["!links"].push([p,C.l]))}}var T=d.CodeName||d.name||i;return f&&ct(a,574,Dse((l.Views||[])[0])),f&&(s["!merges"]||[]).length&&ct(a,229,qse(s["!merges"])),f&&Wue(a,s),ct(a,442,y5(T)),f&&Uue(a,s),ct(a,10),a.end()}function Yue(e,t,r){var a=Kn(),i=(e||{}).Workbook||{},s=i.Sheets||[],l=i.WBProps||{},d=r.biff==8,u=r.biff==5;if(ct(a,2057,TS(e,5,r)),r.bookType=="xla"&&ct(a,135),ct(a,225,d?Ia(1200):null),ct(a,193,vse(2)),u&&ct(a,191),u&&ct(a,192),ct(a,226),ct(a,92,Ese("SheetJS",r)),ct(a,66,Ia(d?1200:1252)),d&&ct(a,353,Ia(0)),d&&ct(a,448),ct(a,317,Xse(e.SheetNames.length)),d&&e.vbaraw&&ct(a,211),d&&e.vbaraw){var f=l.CodeName||"ThisWorkbook";ct(a,442,y5(f))}ct(a,156,Ia(17)),ct(a,25,Rn(!1)),ct(a,18,Rn(!1)),ct(a,19,Ia(0)),d&&ct(a,431,Rn(!1)),d&&ct(a,444,Ia(0)),ct(a,61,kse()),ct(a,64,Rn(!1)),ct(a,141,Ia(0)),ct(a,34,Rn(Jde(e)=="true")),ct(a,14,Rn(!0)),d&&ct(a,439,Rn(!1)),ct(a,218,Ia(0)),zue(a,e,r),$ue(a,e.SSF,r),que(a,r),d&&ct(a,352,Rn(!1));var p=a.end(),m=Kn();d&&ct(m,140,Gse()),d&&r.Strings&&Rue(m,252,Ose(r.Strings)),ct(m,10);var g=m.end(),v=Kn(),j=0,b=0;for(b=0;b<e.SheetNames.length;++b)j+=(d?12:11)+(d?2:1)*e.SheetNames[b].length;var y=p.length+j+g.length;for(b=0;b<e.SheetNames.length;++b){var C=s[b]||{};ct(v,133,_se({pos:y,hs:C.Hidden||0,dt:0,name:e.SheetNames[b]},r)),y+=t[b].length}var T=v.end();if(j!=T.length)throw new Error("BS8 "+j+" != "+T.length);var E=[];return p.length&&E.push(p),T.length&&E.push(T),g.length&&E.push(g),mn(E)}function Xue(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=Jn(Ir)),e&&e.SSF&&(M0(),P0(e.SSF),r.revssf=B0(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,kS(r),r.cellXfs=[],co(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)a[a.length]=Vue(i,r,e);return a.unshift(Yue(e,a,r)),mn(a)}function H5(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var i=ya(a["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return Xue(e,t);case 4:case 3:case 2:return Lue(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Kue(e,t,r,a){for(var i=e["!merges"]||[],s=[],l=t.s.c;l<=t.e.c;++l){for(var d=0,u=0,f=0;f<i.length;++f)if(!(i[f].s.r>r||i[f].s.c>l)&&!(i[f].e.r<r||i[f].e.c<l)){if(i[f].s.r<r||i[f].s.c<l){d=-1;break}d=i[f].e.r-i[f].s.r+1,u=i[f].e.c-i[f].s.c+1;break}if(!(d<0)){var p=sr({r,c:l}),m=a.dense?(e[r]||[])[l]:e[p],g=m&&m.v!=null&&(m.h||Aie(m.w||(ps(m),m.w)||""))||"",v={};d>1&&(v.rowspan=d),u>1&&(v.colspan=u),a.editable?g='<span contenteditable="true">'+g+"</span>":m&&(v["data-t"]=m&&m.t||"z",m.v!=null&&(v["data-v"]=m.v),m.z!=null&&(v["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),v.id=(a.id||"sjs")+"-"+p,s.push(st("td",g,v))}}var j="<tr>";return j+s.join("")+"</tr>"}var Que='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Zue="</body></html>";function Jue(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function G5(e,t){var r=t||{},a=r.header!=null?r.header:Que,i=r.footer!=null?r.footer:Zue,s=[a],l=ya(e["!ref"]);r.dense=Array.isArray(e),s.push(Jue(e,l,r));for(var d=l.s.r;d<=l.e.r;++d)s.push(Kue(e,l,d,r));return s.push("</table>"+i),s.join("")}function V5(e,t,r){var a=r||{},i=0,s=0;if(a.origin!=null)if(typeof a.origin=="number")i=a.origin;else{var l=typeof a.origin=="string"?nn(a.origin):a.origin;i=l.r,s=l.c}var d=t.getElementsByTagName("tr"),u=Math.min(a.sheetRows||1e7,d.length),f={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var p=ya(e["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),i==-1&&(f.e.r=i=p.e.r+1)}var m=[],g=0,v=e["!rows"]||(e["!rows"]=[]),j=0,b=0,y=0,C=0,T=0,E=0;for(e["!cols"]||(e["!cols"]=[]);j<d.length&&b<u;++j){var S=d[j];if(vD(S)){if(a.display)continue;v[b]={hidden:!0}}var A=S.children;for(y=C=0;y<A.length;++y){var k=A[y];if(!(a.display&&vD(k))){var I=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):kie(k.innerHTML),B=k.getAttribute("data-z")||k.getAttribute("z");for(g=0;g<m.length;++g){var M=m[g];M.s.c==C+s&&M.s.r<b+i&&b+i<=M.e.r&&(C=M.e.c+1-s,g=-1)}E=+k.getAttribute("colspan")||1,((T=+k.getAttribute("rowspan")||1)>1||E>1)&&m.push({s:{r:b+i,c:C+s},e:{r:b+i+(T||1)-1,c:C+s+(E||1)-1}});var L={t:"s",v:I},F=k.getAttribute("data-t")||k.getAttribute("t")||"";I!=null&&(I.length==0?L.t=F||"z":a.raw||I.trim().length==0||F=="s"||(I==="TRUE"?L={t:"b",v:!0}:I==="FALSE"?L={t:"b",v:!1}:isNaN(is(I))?isNaN(bf(I).getDate())||(L={t:"d",v:Fn(I)},a.cellDates||(L={t:"n",v:Zn(L.v)}),L.z=a.dateNF||Ir[14]):L={t:"n",v:is(I)})),L.z===void 0&&B!=null&&(L.z=B);var _="",G=k.getElementsByTagName("A");if(G&&G.length)for(var P=0;P<G.length&&!(G[P].hasAttribute("href")&&(_=G[P].getAttribute("href"),_.charAt(0)!="#"));++P);_&&_.charAt(0)!="#"&&(L.l={Target:_}),a.dense?(e[b+i]||(e[b+i]=[]),e[b+i][C+s]=L):e[sr({c:C+s,r:b+i})]=L,f.e.c<C+s&&(f.e.c=C+s),C+=E}}++b}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),f.e.r=Math.max(f.e.r,b-1+i),e["!ref"]=Wr(f),b>=u&&(e["!fullref"]=Wr((f.e.r=d.length-j+b-1+i,f))),e}function Y5(e,t){var r=t||{},a=r.dense?[]:{};return V5(a,e,t)}function efe(e,t){return il(Y5(e,t),t)}function vD(e){var t="",r=tfe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function tfe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var rfe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+wf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Hr+t}}(),bD=function(){var e=function(s){return ir(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(s,l,d){var u=[];u.push('      <table:table table:name="'+ir(l.SheetNames[d])+`" table:style-name="ta1">
`);var f=0,p=0,m=ya(s["!ref"]||"A1"),g=s["!merges"]||[],v=0,j=Array.isArray(s);if(s["!cols"])for(p=0;p<=m.e.c;++p)u.push("        <table:table-column"+(s["!cols"][p]?' table:style-name="co'+s["!cols"][p].ods+'"':"")+`></table:table-column>
`);var b="",y=s["!rows"]||[];for(f=0;f<m.s.r;++f)b=y[f]?' table:style-name="ro'+y[f].ods+'"':"",u.push("        <table:table-row"+b+`></table:table-row>
`);for(;f<=m.e.r;++f){for(b=y[f]?' table:style-name="ro'+y[f].ods+'"':"",u.push("        <table:table-row"+b+`>
`),p=0;p<m.s.c;++p)u.push(t);for(;p<=m.e.c;++p){var C=!1,T={},E="";for(v=0;v!=g.length;++v)if(!(g[v].s.c>p)&&!(g[v].s.r>f)&&!(g[v].e.c<p)&&!(g[v].e.r<f)){(g[v].s.c!=p||g[v].s.r!=f)&&(C=!0),T["table:number-columns-spanned"]=g[v].e.c-g[v].s.c+1,T["table:number-rows-spanned"]=g[v].e.r-g[v].s.r+1;break}if(C){u.push(r);continue}var S=sr({r:f,c:p}),A=j?(s[f]||[])[p]:s[S];if(A&&A.f&&(T["table:formula"]=ir(wce(A.f)),A.F&&A.F.slice(0,S.length)==S)){var k=ya(A.F);T["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,T["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!A){u.push(t);continue}switch(A.t){case"b":E=A.v?"TRUE":"FALSE",T["office:value-type"]="boolean",T["office:boolean-value"]=A.v?"true":"false";break;case"n":E=A.w||String(A.v||0),T["office:value-type"]="float",T["office:value"]=A.v||0;break;case"s":case"str":E=A.v==null?"":A.v,T["office:value-type"]="string";break;case"d":E=A.w||Fn(A.v).toISOString(),T["office:value-type"]="date",T["office:date-value"]=Fn(A.v).toISOString(),T["table:style-name"]="ce1";break;default:u.push(t);continue}var I=e(E);if(A.l&&A.l.Target){var B=A.l.Target;B=B.charAt(0)=="#"?"#"+Sce(B.slice(1)):B,B.charAt(0)!="#"&&!B.match(/^\w+:/)&&(B="../"+B),I=st("text:a",I,{"xlink:href":B.replace(/&/g,"&amp;")})}u.push("          "+st("table:table-cell",st("text:p",I,{}),T)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},i=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var d=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var p=0;p<f["!cols"].length;++p)if(f["!cols"][p]){var m=f["!cols"][p];if(m.width==null&&m.wpx==null&&m.wch==null)continue;CS(m),m.ods=d;var g=f["!cols"][p].wpx+"px";s.push('  <style:style style:name="co'+d+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++d}}});var u=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var p=0;p<f["!rows"].length;++p)if(f["!rows"][p]){f["!rows"][p].ods=u;var m=f["!rows"][p].hpx+"px";s.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),s.push(`  </style:style>
`),++u}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,d){var u=[Hr],f=wf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=wf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});d.bookType=="fods"?(u.push("<office:document"+f+p+`>
`),u.push(c5().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),i(u,l),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)u.push(a(l.Sheets[l.SheetNames[m]],l,m));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),d.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function X5(e,t){if(t.bookType=="fods")return bD(e,t);var r=mS(),a="",i=[],s=[];return a="mimetype",kt(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",kt(r,a,bD(e,t)),i.push([a,"text/xml"]),s.push([a,"ContentFile"]),a="styles.xml",kt(r,a,rfe(e,t)),i.push([a,"text/xml"]),s.push([a,"StylesFile"]),a="meta.xml",kt(r,a,Hr+c5()),i.push([a,"text/xml"]),s.push([a,"MetadataFile"]),a="manifest.rdf",kt(r,a,pse(s)),i.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",kt(r,a,fse(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function nfe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ti(jf(e))}function afe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function no(e){var t=e.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(i){r.set(i,a),a+=i.length}),r}function ife(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var s=0;i>=1;++s,i/=256)e[t+s]=i&255;e[t+15]|=r>=0?0:128}function Sf(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function nr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function fc(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Xr(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],i=Sf(e,r),s=i&7;i=Math.floor(i/8);var l=0,d;if(i==0)break;switch(s){case 0:{for(var u=r[0];e[r[0]++]>=128;);d=e.slice(u,r[0])}break;case 5:l=4,d=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,d=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=Sf(e,r),d=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(a))}var f={data:d,type:s};t[i]==null?t[i]=[f]:t[i].push(f)}return t}function fn(e){var t=[];return e.forEach(function(r,a){r.forEach(function(i){i.data&&(t.push(nr(a*8+i.type)),i.type==2&&t.push(nr(i.data.length)),t.push(i.data))})}),no(t)}function Ya(e){for(var t,r=[],a=[0];a[0]<e.length;){var i=Sf(e,a),s=Xr(e.slice(a[0],a[0]+i));a[0]+=i;var l={id:fc(s[1][0].data),messages:[]};s[2].forEach(function(d){var u=Xr(d.data),f=fc(u[3][0].data);l.messages.push({meta:u,data:e.slice(a[0],a[0]+f)}),a[0]+=f}),(t=s[3])!=null&&t[0]&&(l.merge=fc(s[3][0].data)>>>0>0),r.push(l)}return r}function Ql(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:nr(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:nr(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:nr(l.data.length)}],a[2].push({data:fn(l.meta),type:2})});var s=fn(a);t.push(nr(s.length)),t.push(s),i.forEach(function(l){return t.push(l)})}),no(t)}function sfe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=Sf(t,r),i=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var d=l-59;l=t[r[0]],d>1&&(l|=t[r[0]+1]<<8),d>2&&(l|=t[r[0]+2]<<16),d>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=d}i.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var u=0,f=0;if(s==1?(f=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,s==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[no(i)],u==0)throw new Error("Invalid offset 0");if(u>i[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(i.push(i[0].slice(-u)),f-=u;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-u,-u+f))}}var p=no(i);if(p.length!=a)throw new Error("Unexpected length: ".concat(p.length," != ").concat(a));return p}function Xa(e){for(var t=[],r=0;r<e.length;){var a=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(sfe(a,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return no(t)}function Zl(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var s=nr(a),l=s.length;t.push(s),a<=60?(l++,t.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),l+=a,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,r+=a}return no(t)}function lj(e,t){var r=new Uint8Array(32),a=Gm(r),i=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,ife(r,i,e.v),s|=1,i+=16;break;case"b":r[1]=6,a.setFloat64(i,e.v?1:0,!0),s|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(i,t.indexOf(e.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,s,!0),r.slice(0,i)}function cj(e,t){var r=new Uint8Array(32),a=Gm(r),i=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(i,e.v,!0),s|=32,i+=8;break;case"b":r[2]=6,a.setFloat64(i,e.v?1:0,!0),s|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(i,t.indexOf(e.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,s,!0),r.slice(0,i)}function qs(e){var t=Xr(e);return Sf(t[1][0].data)}function ofe(e,t,r){var a,i,s,l;if(!((a=e[6])!=null&&a[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var d=((l=(s=e[8])==null?void 0:s[0])==null?void 0:l.data)&&fc(e[8][0].data)>0||!1;if(d)throw"Math only works with normal offsets";for(var u=0,f=Gm(e[7][0].data),p=0,m=[],g=Gm(e[4][0].data),v=0,j=[],b=0;b<t.length;++b){if(t[b]==null){f.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}f.setUint16(b*2,p,!0),g.setUint16(b*2,v,!0);var y,C;switch(typeof t[b]){case"string":y=lj({t:"s",v:t[b]},r),C=cj({t:"s",v:t[b]},r);break;case"number":y=lj({t:"n",v:t[b]},r),C=cj({t:"n",v:t[b]},r);break;case"boolean":y=lj({t:"b",v:t[b]},r),C=cj({t:"b",v:t[b]},r);break;default:throw new Error("Unsupported value "+t[b])}m.push(y),p+=y.length,j.push(C),v+=C.length,++u}for(e[2][0].data=nr(u);b<e[7][0].data.length/2;++b)f.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return e[6][0].data=no(m),e[3][0].data=no(j),u}function lfe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=ya(r["!ref"]);a.s.r=a.s.c=0;var i=!1;a.e.c>9&&(i=!0,a.e.c=9),a.e.r>49&&(i=!0,a.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Wr(a)));var s=Vm(r,{range:a,header:1}),l=["~Sh33tJ5~"];s.forEach(function(te){return te.forEach(function(U){typeof U=="string"&&l.push(U)})});var d={},u=[],f=pr.read(t.numbers,{type:"base64"});f.FileIndex.map(function(te,U){return[te,f.FullPaths[U]]}).forEach(function(te){var U=te[0],ee=te[1];if(U.type==2&&U.name.match(/\.iwa/)){var le=U.content,ce=Xa(le),je=Ya(ce);je.forEach(function(ie){u.push(ie.id),d[ie.id]={deps:[],location:ee,type:fc(ie.messages[0].meta[1][0].data)}})}}),u.sort(function(te,U){return te-U});var p=u.filter(function(te){return te>1}).map(function(te){return[te,nr(te)]});f.FileIndex.map(function(te,U){return[te,f.FullPaths[U]]}).forEach(function(te){var U=te[0];if(te[1],!!U.name.match(/\.iwa/)){var ee=Ya(Xa(U.content));ee.forEach(function(le){le.messages.forEach(function(ce){p.forEach(function(je){le.messages.some(function(ie){return fc(ie.meta[1][0].data)!=11006&&afe(ie.data,je[1])})&&d[je[0]].deps.push(le.id)})})})}});for(var m=pr.find(f,d[1].location),g=Ya(Xa(m.content)),v,j=0;j<g.length;++j){var b=g[j];b.id==1&&(v=b)}var y=qs(Xr(v.messages[0].data)[1][0].data);for(m=pr.find(f,d[y].location),g=Ya(Xa(m.content)),j=0;j<g.length;++j)b=g[j],b.id==y&&(v=b);for(y=qs(Xr(v.messages[0].data)[2][0].data),m=pr.find(f,d[y].location),g=Ya(Xa(m.content)),j=0;j<g.length;++j)b=g[j],b.id==y&&(v=b);for(y=qs(Xr(v.messages[0].data)[2][0].data),m=pr.find(f,d[y].location),g=Ya(Xa(m.content)),j=0;j<g.length;++j)b=g[j],b.id==y&&(v=b);var C=Xr(v.messages[0].data);{C[6][0].data=nr(a.e.r+1),C[7][0].data=nr(a.e.c+1);var T=qs(C[46][0].data),E=pr.find(f,d[T].location),S=Ya(Xa(E.content));{for(var A=0;A<S.length&&S[A].id!=T;++A);if(S[A].id!=T)throw"Bad ColumnRowUIDMapArchive";var k=Xr(S[A].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var I=0;I<=a.e.c;++I){var B=[];B[1]=B[2]=[{type:0,data:nr(I+420690)}],k[1].push({type:2,data:fn(B)}),k[2].push({type:0,data:nr(I)}),k[3].push({type:0,data:nr(I)})}k[4]=[],k[5]=[],k[6]=[];for(var M=0;M<=a.e.r;++M)B=[],B[1]=B[2]=[{type:0,data:nr(M+726270)}],k[4].push({type:2,data:fn(B)}),k[5].push({type:0,data:nr(M)}),k[6].push({type:0,data:nr(M)});S[A].messages[0].data=fn(k)}E.content=Zl(Ql(S)),E.size=E.content.length,delete C[46];var L=Xr(C[4][0].data);{L[7][0].data=nr(a.e.r+1);var F=Xr(L[1][0].data),_=qs(F[2][0].data);E=pr.find(f,d[_].location),S=Ya(Xa(E.content));{if(S[0].id!=_)throw"Bad HeaderStorageBucket";var G=Xr(S[0].messages[0].data);for(M=0;M<s.length;++M){var P=Xr(G[2][0].data);P[1][0].data=nr(M),P[4][0].data=nr(s[M].length),G[2][M]={type:G[2][0].type,data:fn(P)}}S[0].messages[0].data=fn(G)}E.content=Zl(Ql(S)),E.size=E.content.length;var D=qs(L[2][0].data);E=pr.find(f,d[D].location),S=Ya(Xa(E.content));{if(S[0].id!=D)throw"Bad HeaderStorageBucket";for(G=Xr(S[0].messages[0].data),I=0;I<=a.e.c;++I)P=Xr(G[2][0].data),P[1][0].data=nr(I),P[4][0].data=nr(a.e.r+1),G[2][I]={type:G[2][0].type,data:fn(P)};S[0].messages[0].data=fn(G)}E.content=Zl(Ql(S)),E.size=E.content.length;var R=qs(L[4][0].data);(function(){for(var te=pr.find(f,d[R].location),U=Ya(Xa(te.content)),ee,le=0;le<U.length;++le){var ce=U[le];ce.id==R&&(ee=ce)}var je=Xr(ee.messages[0].data);{je[3]=[];var ie=[];l.forEach(function(ge,Ye){ie[1]=[{type:0,data:nr(Ye)}],ie[2]=[{type:0,data:nr(1)}],ie[3]=[{type:2,data:nfe(ge)}],je[3].push({type:2,data:fn(ie)})})}ee.messages[0].data=fn(je);var ve=Ql(U),Ne=Zl(ve);te.content=Ne,te.size=te.content.length})();var H=Xr(L[3][0].data);{var ne=H[1][0];delete H[2];var me=Xr(ne.data);{var q=qs(me[2][0].data);(function(){for(var te=pr.find(f,d[q].location),U=Ya(Xa(te.content)),ee,le=0;le<U.length;++le){var ce=U[le];ce.id==q&&(ee=ce)}var je=Xr(ee.messages[0].data);{delete je[6],delete H[7];var ie=new Uint8Array(je[5][0].data);je[5]=[];for(var ve=0,Ne=0;Ne<=a.e.r;++Ne){var ge=Xr(ie);ve+=ofe(ge,s[Ne],l),ge[1][0].data=nr(Ne),je[5].push({data:fn(ge),type:2})}je[1]=[{type:0,data:nr(a.e.c+1)}],je[2]=[{type:0,data:nr(a.e.r+1)}],je[3]=[{type:0,data:nr(ve)}],je[4]=[{type:0,data:nr(a.e.r+1)}]}ee.messages[0].data=fn(je);var Ye=Ql(U),Te=Zl(Ye);te.content=Te,te.size=te.content.length})()}ne.data=fn(me)}L[3][0].data=fn(H)}C[4][0].data=fn(L)}v.messages[0].data=fn(C);var X=Ql(g),z=Zl(X);return m.content=z,m.size=m.content.length,f}function cfe(e){return function(r){for(var a=0;a!=e.length;++a){var i=e[a];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function kS(e){cfe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function dfe(e,t){return t.bookType=="ods"?X5(e,t):t.bookType=="numbers"?lfe(e,t):t.bookType=="xlsb"?ufe(e,t):ffe(e,t)}function ufe(e,t){nc=1024,e&&!e.SSF&&(e.SSF=Jn(Ir)),e&&e.SSF&&(M0(),P0(e.SSF),t.revssf=B0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ku?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=k5.indexOf(t.bookType)>-1,i=s5();kS(t=t||{});var s=mS(),l="",d=0;if(t.cellXfs=[],co(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",kt(s,l,d5(e.Props,t)),i.coreprops.push(l),ar(t.rels,2,l,Gt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,kt(s,l,f5(e.Props)),i.extprops.push(l),ar(t.rels,3,l,Gt.EXT_PROPS),e.Custprops!==e.Props&&bn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",kt(s,l,h5(e.Custprops)),i.custprops.push(l),ar(t.rels,4,l,Gt.CUST_PROPS)),d=1;d<=e.SheetNames.length;++d){var p={"!id":{}},m=e.Sheets[e.SheetNames[d-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+d+"."+r,kt(s,l,pue(d-1,l,t,e,p)),i.sheets.push(l),ar(t.wbrels,-1,"worksheets/sheet"+d+"."+r,Gt.WS[0])}if(m){var v=m["!comments"],j=!1,b="";v&&v.length>0&&(b="xl/comments"+d+"."+r,kt(s,b,gue(v,b)),i.comments.push(b),ar(p,-1,"../comments"+d+"."+r,Gt.CMNT),j=!0),m["!legacy"]&&j&&kt(s,"xl/drawings/vmlDrawing"+d+".vml",_5(d,m["!comments"])),delete m["!comments"],delete m["!legacy"]}p["!id"].rId1&&kt(s,l5(l),dc(p))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,kt(s,l,xue(t.Strings,l,t)),i.strs.push(l),ar(t.wbrels,-1,"sharedStrings."+r,Gt.SST)),l="xl/workbook."+r,kt(s,l,hue(e,l)),i.workbooks.push(l),ar(t.rels,1,l,Gt.WB),l="xl/theme/theme1.xml",kt(s,l,A5(e.Themes,t)),i.themes.push(l),ar(t.wbrels,-1,"theme/theme1.xml",Gt.THEME),l="xl/styles."+r,kt(s,l,mue(e,l,t)),i.styles.push(l),ar(t.wbrels,-1,"styles."+r,Gt.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",kt(s,l,e.vbaraw),i.vba.push(l),ar(t.wbrels,-1,"vbaProject.bin",Gt.VBA)),l="xl/metadata."+r,kt(s,l,yue(l)),i.metadata.push(l),ar(t.wbrels,-1,"metadata."+r,Gt.XLMETA),kt(s,"[Content_Types].xml",o5(i,t)),kt(s,"_rels/.rels",dc(t.rels)),kt(s,"xl/_rels/workbook."+r+".rels",dc(t.wbrels)),delete t.revssf,delete t.ssf,s}function ffe(e,t){nc=1024,e&&!e.SSF&&(e.SSF=Jn(Ir)),e&&e.SSF&&(M0(),P0(e.SSF),t.revssf=B0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ku?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=k5.indexOf(t.bookType)>-1,i=s5();kS(t=t||{});var s=mS(),l="",d=0;if(t.cellXfs=[],co(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",kt(s,l,d5(e.Props,t)),i.coreprops.push(l),ar(t.rels,2,l,Gt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,kt(s,l,f5(e.Props)),i.extprops.push(l),ar(t.rels,3,l,Gt.EXT_PROPS),e.Custprops!==e.Props&&bn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",kt(s,l,h5(e.Custprops)),i.custprops.push(l),ar(t.rels,4,l,Gt.CUST_PROPS));var p=["SheetJ5"];for(t.tcid=0,d=1;d<=e.SheetNames.length;++d){var m={"!id":{}},g=e.Sheets[e.SheetNames[d-1]],v=(g||{})["!type"]||"sheet";switch(v){case"chart":default:l="xl/worksheets/sheet"+d+"."+r,kt(s,l,z5(d-1,t,e,m)),i.sheets.push(l),ar(t.wbrels,-1,"worksheets/sheet"+d+"."+r,Gt.WS[0])}if(g){var j=g["!comments"],b=!1,y="";if(j&&j.length>0){var C=!1;j.forEach(function(T){T[1].forEach(function(E){E.T==!0&&(C=!0)})}),C&&(y="xl/threadedComments/threadedComment"+d+"."+r,kt(s,y,qoe(j,p,t)),i.threadedcomments.push(y),ar(m,-1,"../threadedComments/threadedComment"+d+"."+r,Gt.TCMNT)),y="xl/comments"+d+"."+r,kt(s,y,O5(j)),i.comments.push(y),ar(m,-1,"../comments"+d+"."+r,Gt.CMNT),b=!0}g["!legacy"]&&b&&kt(s,"xl/drawings/vmlDrawing"+d+".vml",_5(d,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&kt(s,l5(l),dc(m))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,kt(s,l,j5(t.Strings,t)),i.strs.push(l),ar(t.wbrels,-1,"sharedStrings."+r,Gt.SST)),l="xl/workbook."+r,kt(s,l,q5(e)),i.workbooks.push(l),ar(t.rels,1,l,Gt.WB),l="xl/theme/theme1.xml",kt(s,l,A5(e.Themes,t)),i.themes.push(l),ar(t.wbrels,-1,"theme/theme1.xml",Gt.THEME),l="xl/styles."+r,kt(s,l,T5(e,t)),i.styles.push(l),ar(t.wbrels,-1,"styles."+r,Gt.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",kt(s,l,e.vbaraw),i.vba.push(l),ar(t.wbrels,-1,"vbaProject.bin",Gt.VBA)),l="xl/metadata."+r,kt(s,l,E5()),i.metadata.push(l),ar(t.wbrels,-1,"metadata."+r,Gt.XLMETA),p.length>1&&(l="xl/persons/person.xml",kt(s,l,Woe(p)),i.people.push(l),ar(t.wbrels,-1,"persons/person.xml",Gt.PEOPLE)),kt(s,"[Content_Types].xml",o5(i,t)),kt(s,"_rels/.rels",dc(t.rels)),kt(s,"xl/_rels/workbook."+r+".rels",dc(t.wbrels)),delete t.revssf,delete t.ssf,s}function hfe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=hs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function K5(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Uf(t.file,pr.write(e,{type:Qt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return pr.write(e,t)}function pfe(e,t){var r=Jn(t||{}),a=dfe(e,r);return mfe(a,r)}function mfe(e,t){var r={},a=Qt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?pr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(R0(i))}return t.password&&typeof encrypt_agile<"u"?K5(encrypt_agile(i,t.password),t):t.type==="file"?Uf(t.file,i):t.type=="string"?Au(i):i}function xfe(e,t){var r=t||{},a=Due(e,r);return K5(a,r)}function vi(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return vf(jf(a));case"binary":return jf(a);case"string":return e;case"file":return Uf(t.file,a,"utf8");case"buffer":return Qt?ys(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):vi(a,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function gfe(e,t){switch(t.type){case"base64":return vf(e);case"binary":return e;case"string":return e;case"file":return Uf(t.file,e,"binary");case"buffer":return Qt?ys(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Sp(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?vf(r):t.type=="string"?Au(r):r;case"file":return Uf(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Q5(e,t){Hae(),rue(e);var r=Jn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=Q5(e,r);return r.type="array",R0(a)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return vi(Oue(e,r),r);case"slk":case"sylk":return vi(Jse.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return vi(G5(e.Sheets[e.SheetNames[i]],r),r);case"txt":return gfe(J5(e.Sheets[e.SheetNames[i]],r),r);case"csv":return vi(DS(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return vi(eoe.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return Sp(Zse.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return vi(toe.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return vi(loe.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return vi(b5.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return vi(X5(e,r),r);case"wk1":return Sp(hD.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return Sp(hD.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Sp(H5(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),xfe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return pfe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function yfe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Z5(e,t,r){var a={};return a.type="file",a.file=t,yfe(a),Q5(e,a)}function vfe(e,t,r,a,i,s,l,d){var u=yn(r),f=d.defval,p=d.raw||!Object.prototype.hasOwnProperty.call(d,"raw"),m=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!l||e[r])for(var v=t.s.c;v<=t.e.c;++v){var j=l?e[r][v]:e[a[v]+u];if(j===void 0||j.t===void 0){if(f===void 0)continue;s[v]!=null&&(g[s[v]]=f);continue}var b=j.v;switch(j.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+j.t)}if(s[v]!=null){if(b==null)if(j.t=="e"&&b===null)g[s[v]]=null;else if(f!==void 0)g[s[v]]=f;else if(p&&b===null)g[s[v]]=null;else continue;else g[s[v]]=p&&(j.t!=="n"||j.t==="n"&&d.rawNumbers!==!1)?b:ps(j,b,d);b!=null&&(m=!1)}}return{row:g,isempty:m}}function Vm(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,i=1,s=[],l=0,d="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},p=f.range!=null?f.range:e["!ref"];switch(f.header===1?a=1:f.header==="A"?a=2:Array.isArray(f.header)?a=3:f.header==null&&(a=0),typeof p){case"string":u=Sr(p);break;case"number":u=Sr(e["!ref"]),u.s.r=p;break;default:u=p}a>0&&(i=0);var m=yn(u.s.r),g=[],v=[],j=0,b=0,y=Array.isArray(e),C=u.s.r,T=0,E={};y&&!e[C]&&(e[C]=[]);var S=f.skipHidden&&e["!cols"]||[],A=f.skipHidden&&e["!rows"]||[];for(T=u.s.c;T<=u.e.c;++T)if(!(S[T]||{}).hidden)switch(g[T]=En(T),r=y?e[C][T]:e[g[T]+m],a){case 1:s[T]=T-u.s.c;break;case 2:s[T]=g[T];break;case 3:s[T]=f.header[T-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),d=l=ps(r,null,f),b=E[l]||0,!b)E[l]=1;else{do d=l+"_"+b++;while(E[d]);E[l]=b,E[d]=1}s[T]=d}for(C=u.s.r+i;C<=u.e.r;++C)if(!(A[C]||{}).hidden){var k=vfe(e,u,C,g,a,s,y,f);(k.isempty===!1||(a===1?f.blankrows!==!1:f.blankrows))&&(v[j++]=k.row)}return v.length=j,v}var jD=/"/g;function bfe(e,t,r,a,i,s,l,d){for(var u=!0,f=[],p="",m=yn(r),g=t.s.c;g<=t.e.c;++g)if(a[g]){var v=d.dense?(e[r]||[])[g]:e[a[g]+m];if(v==null)p="";else if(v.v!=null){u=!1,p=""+(d.rawNumbers&&v.t=="n"?v.v:ps(v,null,d));for(var j=0,b=0;j!==p.length;++j)if((b=p.charCodeAt(j))===i||b===s||b===34||d.forceQuotes){p='"'+p.replace(jD,'""')+'"';break}p=="ID"&&(p='"ID"')}else v.f!=null&&!v.F?(u=!1,p="="+v.f,p.indexOf(",")>=0&&(p='"'+p.replace(jD,'""')+'"')):p="";f.push(p)}return d.blankrows===!1&&u?null:f.join(l)}function DS(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var i=Sr(e["!ref"]),s=a.FS!==void 0?a.FS:",",l=s.charCodeAt(0),d=a.RS!==void 0?a.RS:`
`,u=d.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),p="",m=[];a.dense=Array.isArray(e);for(var g=a.skipHidden&&e["!cols"]||[],v=a.skipHidden&&e["!rows"]||[],j=i.s.c;j<=i.e.c;++j)(g[j]||{}).hidden||(m[j]=En(j));for(var b=0,y=i.s.r;y<=i.e.r;++y)(v[y]||{}).hidden||(p=bfe(e,i,y,m,l,u,s,a),p!=null&&(a.strip&&(p=p.replace(f,"")),(p||a.blankrows!==!1)&&r.push((b++?d:"")+p)));return delete a.dense,r.join("")}function J5(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=DS(e,t);return r}function jfe(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var i=Sr(e["!ref"]),s="",l=[],d,u=[],f=Array.isArray(e);for(d=i.s.c;d<=i.e.c;++d)l[d]=En(d);for(var p=i.s.r;p<=i.e.r;++p)for(s=yn(p),d=i.s.c;d<=i.e.c;++d)if(t=l[d]+s,r=f?(e[p]||[])[d]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}u[u.length]=t+"="+a}return u}function eM(e,t,r){var a=r||{},i=+!a.skipHeader,s=e||{},l=0,d=0;if(s&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var u=typeof a.origin=="string"?nn(a.origin):a.origin;l=u.r,d=u.c}var f,p={s:{c:0,r:0},e:{c:d,r:l+t.length-1+i}};if(s["!ref"]){var m=Sr(s["!ref"]);p.e.c=Math.max(p.e.c,m.e.c),p.e.r=Math.max(p.e.r,m.e.r),l==-1&&(l=m.e.r+1,p.e.r=l+t.length-1+i)}else l==-1&&(l=0,p.e.r=t.length-1+i);var g=a.header||[],v=0;t.forEach(function(b,y){bn(b).forEach(function(C){(v=g.indexOf(C))==-1&&(g[v=g.length]=C);var T=b[C],E="z",S="",A=sr({c:d+v,r:l+y+i});f=Nf(s,A),T&&typeof T=="object"&&!(T instanceof Date)?s[A]=T:(typeof T=="number"?E="n":typeof T=="boolean"?E="b":typeof T=="string"?E="s":T instanceof Date?(E="d",a.cellDates||(E="n",T=Zn(T)),S=a.dateNF||Ir[14]):T===null&&a.nullError&&(E="e",T=0),f?(f.t=E,f.v=T,delete f.w,delete f.R,S&&(f.z=S)):s[A]=f={t:E,v:T},S&&(f.z=S))})}),p.e.c=Math.max(p.e.c,d+g.length-1);var j=yn(l);if(i)for(v=0;v<g.length;++v)s[En(v+d)+j]={t:"s",v:g[v]};return s["!ref"]=Wr(p),s}function wfe(e,t){return eM(null,e,t)}function Nf(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=nn(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Nf(e,sr(t)):Nf(e,sr({r:t,c:r||0}))}function Sfe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Nfe(){return{SheetNames:[],Sheets:{}}}function Tfe(e,t,r,a){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var l=s&&s[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=l+i)!=-1;++i);}if(U5(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Cfe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=Sfe(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function Afe(e,t){return e.z=t,e}function tM(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Efe(e,t,r){return tM(e,"#"+t,r)}function _fe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Ofe(e,t,r,a){for(var i=typeof t!="string"?t:Sr(t),s=typeof t=="string"?t:Wr(t),l=i.s.r;l<=i.e.r;++l)for(var d=i.s.c;d<=i.e.c;++d){var u=Nf(e,l,d);u.t="n",u.F=s,delete u.v,l==i.s.r&&d==i.s.c&&(u.f=r,a&&(u.D=!0))}return e}var hc={encode_col:En,encode_row:yn,encode_cell:sr,encode_range:Wr,decode_col:jS,decode_row:bS,split_cell:Hie,decode_cell:nn,decode_range:ya,format_cell:ps,sheet_add_aoa:e5,sheet_add_json:eM,sheet_add_dom:V5,aoa_to_sheet:ad,json_to_sheet:wfe,table_to_sheet:Y5,table_to_book:efe,sheet_to_csv:DS,sheet_to_txt:J5,sheet_to_json:Vm,sheet_to_html:G5,sheet_to_formulae:jfe,sheet_to_row_object_array:Vm,sheet_get_cell:Nf,book_new:Nfe,book_append_sheet:Tfe,book_set_sheet_visibility:Cfe,cell_set_number_format:Afe,cell_set_hyperlink:tM,cell_set_internal_link:Efe,cell_add_comment:_fe,sheet_set_array_formula:Ofe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Oo="https://hotelvirat.com/api/v1/hotel",rM=e=>{if(!e)return null;if(e.startsWith("http"))return e;const t="https://hotelvirat.com";let r=e.replace(/\\/g,"/");r.startsWith("/")&&(r=r.substring(1));const a=`${t}/${r}`;return console.log("Image URL:",e,"->",a),a},nM=[{key:"tv",label:"TV"},{key:"ac",label:"AC"},{key:"wifi",label:"WiFi"},{key:"minibar",label:"Mini Bar"},{key:"roomService",label:"Room Service"},{key:"balcony",label:"Balcony"},{key:"bathtub",label:"Bathtub"},{key:"shower",label:"Shower"},{key:"hairDryer",label:"Hair Dryer"},{key:"safe",label:"Safe"},{key:"telephone",label:"Telephone"},{key:"coffeeMaker",label:"Coffee Maker"},{key:"iron",label:"Iron"},{key:"workspace",label:"Workspace"},{key:"parking",label:"Parking"}],kfe=["Single","Double","Suite","Deluxe","Family","Presidential"],Dfe=["First Floor","Second Floor"],Ife=({room:e,branches:t,onClose:r,onSave:a})=>{var E;const[i,s]=N.useState({branchId:((E=e==null?void 0:e.branchId)==null?void 0:E._id)||(e==null?void 0:e.branchId)||"",floor:(e==null?void 0:e.floor)||"First Floor",roomType:(e==null?void 0:e.roomType)||"Single",price:(e==null?void 0:e.price)||"",description:(e==null?void 0:e.description)||"",roomNumber:(e==null?void 0:e.roomNumber)||"",amenities:(e==null?void 0:e.amenities)||{},capacity:(e==null?void 0:e.capacity)||{adults:2,children:0},isAvailable:(e==null?void 0:e.isAvailable)!==!1}),[l,d]=N.useState([]),[u,f]=N.useState((e==null?void 0:e.images)||[]),[p,m]=N.useState(!1),[g,v]=N.useState(""),j=S=>{const{name:A,value:k,type:I,checked:B}=S.target;if(A.startsWith("amenities.")){const M=A.split(".")[1];s(L=>({...L,amenities:{...L.amenities,[M]:B}}))}else if(A.startsWith("capacity.")){const M=A.split(".")[1];s(L=>({...L,capacity:{...L.capacity,[M]:Number(k)}}))}else s(M=>({...M,[A]:I==="checkbox"?B:k}))},b=S=>{const A=Array.from(S.target.files);if(u.length+l.length+A.length>5){v("Maximum 5 images allowed");return}v(""),d(I=>[...I,...A])},y=S=>{d(A=>A.filter((k,I)=>I!==S))},C=S=>{f(A=>A.filter((k,I)=>I!==S))},T=async S=>{S.preventDefault(),m(!0),v("");try{const A=new FormData;A.append("branchId",i.branchId),A.append("floor",i.floor),A.append("roomType",i.roomType),A.append("price",i.price),A.append("description",i.description),A.append("roomNumber",i.roomNumber),A.append("amenities",JSON.stringify(i.amenities)),A.append("capacity",JSON.stringify(i.capacity)),A.append("isAvailable",i.isAvailable),A.append("existingImages",JSON.stringify(u)),l.forEach(k=>A.append("images",k)),await a(A),r()}catch(A){v(A.message||"Failed to save room")}finally{m(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"700px",maxHeight:"90vh",overflow:"auto"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Room":"Add New Room"}),n.jsx("button",{className:"modal-close",onClick:r,children:""})]}),n.jsxs("form",{onSubmit:T,children:[n.jsxs("div",{className:"modal-body",children:[g&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:16}),n.jsx("span",{children:g})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Room Images (Max 5)"}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"10px"},children:[u.map((S,A)=>n.jsxs("div",{style:{position:"relative",width:"100px",height:"100px"},children:[n.jsx("img",{src:rM(S),alt:"",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"}}),n.jsx("button",{type:"button",onClick:()=>C(A),style:{position:"absolute",top:"-5px",right:"-5px",background:"#dc2626",border:"none",borderRadius:"50%",width:"24px",height:"24px",color:"white",cursor:"pointer"},children:n.jsx(On,{size:14})})]},`existing-${A}`)),l.map((S,A)=>n.jsxs("div",{style:{position:"relative",width:"100px",height:"100px"},children:[n.jsx("img",{src:URL.createObjectURL(S),alt:"",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"}}),n.jsx("button",{type:"button",onClick:()=>y(A),style:{position:"absolute",top:"-5px",right:"-5px",background:"#dc2626",border:"none",borderRadius:"50%",width:"24px",height:"24px",color:"white",cursor:"pointer"},children:n.jsx(On,{size:14})})]},`new-${A}`)),u.length+l.length<5&&n.jsxs("label",{style:{width:"100px",height:"100px",border:"2px dashed #ccc",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:[n.jsx(Gs,{size:20}),n.jsx("span",{style:{fontSize:"12px"},children:"Add"}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:b,style:{display:"none"}})]})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",children:["Branch ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsxs("select",{name:"branchId",className:"form-input",value:i.branchId,onChange:j,required:!0,children:[n.jsx("option",{value:"",children:"Select Branch"}),t.map(S=>n.jsx("option",{value:S._id,children:S.name},S._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",children:["Floor ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsx("select",{name:"floor",className:"form-input",value:i.floor,onChange:j,required:!0,children:Dfe.map(S=>n.jsx("option",{value:S,children:S},S))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Room Type"}),n.jsx("select",{name:"roomType",className:"form-input",value:i.roomType,onChange:j,children:kfe.map(S=>n.jsx("option",{value:S,children:S},S))})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",children:["Basic Price (without GST) ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsx("input",{type:"number",name:"price",className:"form-input",value:i.price,onChange:j,required:!0,placeholder:"Enter price without GST"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Room Number"}),n.jsx("input",{type:"text",name:"roomNumber",className:"form-input",value:i.roomNumber,onChange:j})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"checkbox",name:"isAvailable",checked:i.isAvailable,onChange:j}),"Available"]})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Description"}),n.jsx("textarea",{name:"description",className:"form-textarea",value:i.description,onChange:j,rows:"2"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Adults Capacity"}),n.jsx("input",{type:"number",name:"capacity.adults",className:"form-input",value:i.capacity.adults,onChange:j,min:"1"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Children Capacity"}),n.jsx("input",{type:"number",name:"capacity.children",className:"form-input",value:i.capacity.children,onChange:j,min:"0"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Amenities"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px"},children:nM.map(S=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",name:`amenities.${S.key}`,checked:i.amenities[S.key]||!1,onChange:j}),S.label]},S.key))})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,disabled:p,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":e?"Update Room":"Add Room"})]})]})]})})},Rfe=({room:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error(l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Room"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsxs("strong",{children:[e.floor," - Room #",e.roomNumber||"N/A"]}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{className:"btn",style:{backgroundColor:"#dc2626",color:"white"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Pfe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(""),[u,f]=N.useState(!1),[p,m]=N.useState(null),[g,v]=N.useState(!1),[j,b]=N.useState(null),[y,C]=N.useState(!0),[T,E]=N.useState(""),[S,A]=N.useState(""),[k,I]=N.useState({}),[B,M]=N.useState([]),[L,F]=N.useState(!1);N.useEffect(()=>{ne(),me(),D()},[]);const _=async U=>{try{const ee=await Tt.get(`${Oo}/room-booking`),le=Array.isArray(ee.data)?ee.data:[],ce={};le.forEach(je=>{var ie;if(je.status!=="cancelled"&&je.status!=="checked-out"){const ve=((ie=je.roomId)==null?void 0:ie._id)||je.roomId;ve&&(ce[ve]=je)}}),I(ce)}catch(ee){console.error("Error fetching room bookings:",ee)}},G=U=>U?new Date(U).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",P=U=>U?new Date(U).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"",D=async()=>{try{console.log(" Fetching all bookings for export...");const ee=(await Tt.get(`${Oo}/room-booking`)).data||[];console.log(" Fetched bookings for export:",ee.length),M(ee)}catch(U){console.error("Error fetching all bookings:",U),E("Failed to load booking data for export"),setTimeout(()=>E(""),3e3),M([])}},R=(U,ee=32e3)=>{if(!U)return"";const le=String(U);return le.length<=ee?le:le.substring(0,ee)+"..."},H=()=>{if(!L){F(!0);try{let U=[];B.length===0?U=[{"S.No":"No bookings found","Booking Date":"","Room Number":"","Room Type":"",Floor:"",Branch:"","Guest Name":"","Guest Phone":"","Guest Email":"","Guest GSTIN":"","Check-in Date":"","Check-in Time":"","Check-out Date":"","Check-out Time":"",Nights:"","Base Amount ()":"","GST Type":"","CGST ()":"","SGST ()":"","IGST ()":"","Total GST ()":"","Total Amount ()":"","Amount Paid ()":"","Balance Due ()":"",Status:"","Payment Status":""}]:U=B.map((Ne,ge)=>{var fe,Ee,K,re,W,Z;const Ye=(Ne.cgst||0)+(Ne.sgst||0)+(Ne.igst||0),Te=Ne.totalPrice||0,qe=Ne.amountPaid||0,V=Te-qe;return{"S.No":ge+1,"Booking Date":R(P(Ne.createdAt)),"Room Number":R(((fe=Ne.roomId)==null?void 0:fe.roomNumber)||"N/A"),"Room Type":R(((Ee=Ne.roomId)==null?void 0:Ee.roomType)||"N/A"),Floor:R(((K=Ne.roomId)==null?void 0:K.floor)||"N/A"),Branch:R(((re=Ne.branchId)==null?void 0:re.name)||"N/A"),"Guest Name":R(Ne.userName||""),"Guest Phone":R(Ne.userPhone||""),"Guest Email":R(Ne.userEmail||""),"Guest GSTIN":R(Ne.guestGstNumber||""),"Check-in Date":R(P(Ne.checkInDate)),"Check-in Time":R(Ne.checkInTime||""),"Check-out Date":R(P(Ne.checkOutDate)),"Check-out Time":R(Ne.checkOutTime||""),Nights:Ne.nights||1,"Base Amount ()":(Ne.baseAmount||0).toFixed(2),"GST Type":R(Ne.gstType==="gst"?"CGST+SGST (5%)":Ne.gstType==="igst"?"IGST (5%)":"No GST"),"CGST ()":(Ne.cgst||0).toFixed(2),"SGST ()":(Ne.sgst||0).toFixed(2),"IGST ()":(Ne.igst||0).toFixed(2),"Total GST ()":Ye.toFixed(2),"Total Amount ()":Te.toFixed(2),"Amount Paid ()":qe.toFixed(2),"Balance Due ()":V.toFixed(2),Status:R(((W=Ne.status)==null?void 0:W.toUpperCase())||""),"Payment Status":R(((Z=Ne.paymentStatus)==null?void 0:Z.toUpperCase())||"")}});const ee=hc.json_to_sheet(U),le=hc.book_new();hc.book_append_sheet(le,ee,"Room Bookings");const ce=[{wch:5},{wch:12},{wch:12},{wch:12},{wch:12},{wch:15},{wch:20},{wch:15},{wch:25},{wch:18},{wch:12},{wch:12},{wch:12},{wch:12},{wch:8},{wch:15},{wch:15},{wch:12},{wch:12},{wch:12},{wch:12},{wch:15},{wch:15},{wch:15},{wch:12},{wch:15}];ee["!cols"]=ce;const je=new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-"),ie=B.length===0?`Room_Bookings_Empty_${je}.xlsx`:`Room_Bookings_${je}.xlsx`;Z5(le,ie);const ve=B.length===0?"Empty Excel template exported successfully!":`Excel exported successfully! (${B.length} bookings)`;A(ve),setTimeout(()=>A(""),3e3)}catch(U){console.error("Error exporting to Excel:",U),E(`Failed to export Excel: ${U.message}`),setTimeout(()=>E(""),5e3)}finally{F(!1)}}},ne=async()=>{try{const U=await Tt.get(`${Oo}/branch`);a(U.data)}catch(U){console.error("Error fetching branches:",U)}},me=async()=>{C(!0);try{const U=await Tt.get(`${Oo}/room`),ee=Array.isArray(U.data)?U.data:[];t(ee),ee.length>0&&_(ee)}catch{E("Failed to load rooms"),t([])}finally{C(!1)}},q=Array.isArray(e)?e.filter(U=>{var ce,je,ie,ve;const ee=((ce=U.floor)==null?void 0:ce.toLowerCase().includes(i.toLowerCase()))||((je=U.roomNumber)==null?void 0:je.toLowerCase().includes(i.toLowerCase()))||((ie=U.roomType)==null?void 0:ie.toLowerCase().includes(i.toLowerCase())),le=!l||((ve=U.branchId)==null?void 0:ve._id)===l||U.branchId===l;return ee&&le}):[],X=async U=>{var ee,le;try{const ce={headers:{"Content-Type":"multipart/form-data"}};let je;p?(je=await Tt.put(`${Oo}/room/${p._id}`,U,ce),t(Array.isArray(e)?e.map(ie=>ie._id===p._id?je.data:ie):[je.data]),A("Room updated successfully")):(je=await Tt.post(`${Oo}/room`,U,ce),t(Array.isArray(e)?[...e,je.data]:[je.data]),A("Room created successfully")),setTimeout(()=>A(""),3e3)}catch(ce){throw new Error(((le=(ee=ce.response)==null?void 0:ee.data)==null?void 0:le.message)||"Failed to save room")}},z=async U=>{try{await Tt.delete(`${Oo}/room/${U}`),t(Array.isArray(e)?e.filter(ee=>ee._id!==U):[]),A("Room deleted successfully"),setTimeout(()=>A(""),3e3)}catch{throw new Error("Failed to delete room")}},te=U=>U?nM.filter(ee=>U[ee.key]).map(ee=>ee.label):[];return n.jsxs("div",{className:"rooms-page",children:[S&&n.jsxs("div",{className:"success-message",children:[n.jsx(vn,{size:16}),n.jsx("span",{children:S}),n.jsx("button",{onClick:()=>A(""),children:n.jsx("span",{children:""})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Rooms"}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("button",{className:"btn",onClick:U=>{U.preventDefault(),U.stopPropagation(),H()},disabled:L,style:{backgroundColor:"#059669",color:"white",display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",border:"none",borderRadius:"6px",cursor:L?"not-allowed":"pointer",opacity:L?.6:1},title:B.length===0?"Click to export empty template":`Export ${B.length} bookings to Excel`,children:[n.jsx(Ln,{size:16}),n.jsx("span",{children:L?"Exporting...":`Export Excel (${B.length})`})]}),n.jsxs("button",{className:"btn btn-primary",onClick:()=>{m(null),f(!0)},children:[n.jsx(Pa,{size:16}),n.jsx("span",{children:"Add Room"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search rooms...",className:"search-input",value:i,onChange:U=>s(U.target.value)})]}),n.jsxs("select",{className:"form-input",style:{width:"200px"},value:l,onChange:U=>d(U.target.value),children:[n.jsx("option",{value:"",children:"All Branches"}),r.map(U=>n.jsx("option",{value:U._id,children:U.name},U._id))]})]}),T&&n.jsxs("div",{style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:18}),n.jsx("span",{children:T})]}),y?n.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading rooms..."})}):n.jsx("div",{className:"grid-container",children:q.length>0?q.map(U=>{var ee,le,ce,je,ie,ve,Ne;return n.jsxs("div",{className:"grid-item",children:[n.jsx("div",{className:"grid-item-image-container",style:{position:"relative"},children:((ee=U.images)==null?void 0:ee.length)>0?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:rM(U.images[0]),alt:U.floor,className:"grid-item-image",onError:ge=>{console.log("Image failed to load:",ge.target.src),ge.target.style.display="none",ge.target.nextSibling.style.display="flex"}}),n.jsxs("div",{style:{display:"none",width:"100%",height:"200px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#9ca3af"},children:[n.jsx(Hi,{size:24}),n.jsx("span",{style:{marginTop:"8px",fontSize:"14px"},children:"Image Not Found"})]})]}):n.jsxs("div",{style:{display:"flex",width:"100%",height:"200px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#9ca3af"},children:[n.jsx(Hi,{size:24}),n.jsx("span",{style:{marginTop:"8px",fontSize:"14px"},children:"No Image"})]})}),n.jsxs("div",{className:"grid-item-content",children:[n.jsxs("h3",{className:"grid-item-title",children:[U.floor," - Room #",U.roomNumber||"N/A"]}),n.jsx("p",{style:{fontSize:"14px",color:"#6b7280"},children:((le=U.branchId)==null?void 0:le.name)||"No Branch"}),n.jsxs("p",{style:{fontSize:"14px",color:"#6b7280"},children:["Type: ",U.roomType]}),n.jsxs("p",{style:{fontSize:"16px",fontWeight:"600",color:"#059669"},children:["",U.price," ",n.jsx("span",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"normal"},children:"(Basic)"})]}),k[U._id]?n.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#fef3c7",borderRadius:"6px",borderLeft:"3px solid #f59e0b"},children:[n.jsx("p",{style:{fontSize:"12px",fontWeight:"600",color:"#92400e",marginBottom:"4px"},children:" BOOKED"}),n.jsxs("p",{style:{fontSize:"12px",color:"#78350f"},children:[n.jsx("strong",{children:"Guest:"})," ",k[U._id].userName]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Phone:"})," ",k[U._id].userPhone||"N/A"]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Check-in:"})," ",G(k[U._id].checkInDate)," at ",k[U._id].checkInTime]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Check-out:"})," ",G(k[U._id].checkOutDate)," at ",k[U._id].checkOutTime]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Base:"})," ",(ce=k[U._id].baseAmount)==null?void 0:ce.toFixed(2)," (",k[U._id].nights," nights)"]}),k[U._id].gstType&&k[U._id].gstType!=="none"&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"GST:"})," ",k[U._id].gstType==="gst"?`CGST ${(je=k[U._id].cgst)==null?void 0:je.toFixed(2)} + SGST ${(ie=k[U._id].sgst)==null?void 0:ie.toFixed(2)}`:`IGST ${(ve=k[U._id].igst)==null?void 0:ve.toFixed(2)}`]}),k[U._id].guestGstNumber&&n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Guest GSTIN:"})," ",k[U._id].guestGstNumber]})]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f",fontWeight:"600"},children:[n.jsx("strong",{children:"Total:"})," ",(Ne=k[U._id].totalPrice)==null?void 0:Ne.toFixed(2)]}),n.jsxs("p",{style:{fontSize:"10px",color:"#92400e",marginTop:"4px"},children:["Status: ",n.jsx("span",{style:{textTransform:"uppercase",fontWeight:"600"},children:k[U._id].status})]})]}):n.jsx("p",{style:{fontSize:"12px",color:U.isAvailable?"#059669":"#dc2626",marginTop:"8px"},children:U.isAvailable?" Available":"Not Available"}),n.jsxs("div",{style:{marginTop:"8px",display:"flex",flexWrap:"wrap",gap:"4px"},children:[te(U.amenities).slice(0,4).map(ge=>n.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"4px"},children:ge},ge)),te(U.amenities).length>4&&n.jsxs("span",{style:{fontSize:"10px",padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"4px"},children:["+",te(U.amenities).length-4]})]})]}),n.jsxs("div",{className:"grid-item-actions",style:{display:"flex",gap:"8px",padding:"12px",borderTop:"1px solid #e5e7eb"},children:[n.jsxs("button",{className:"btn-icon",onClick:()=>{m(U),f(!0)},style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:ge=>ge.target.style.backgroundColor="#2563eb",onMouseLeave:ge=>ge.target.style.backgroundColor="#3b82f6",children:[n.jsx(zn,{size:16}),n.jsx("span",{children:"Edit"})]}),n.jsxs("button",{className:"btn-icon-danger",onClick:()=>{b(U),v(!0)},style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:ge=>ge.target.style.backgroundColor="#dc2626",onMouseLeave:ge=>ge.target.style.backgroundColor="#ef4444",children:[n.jsx(Qn,{size:16}),n.jsx("span",{children:"Delete"})]})]})]},U._id)}):n.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px"},children:[n.jsx(Hi,{size:48,style:{color:"#9ca3af",marginBottom:"16px"}}),n.jsx("p",{style:{color:"#6b7280"},children:"No rooms found"})]})}),u&&n.jsx(Ife,{room:p,branches:r,onClose:()=>f(!1),onSave:X}),g&&j&&n.jsx(Rfe,{room:j,onClose:()=>v(!1),onConfirm:z})]})},Mfe="https://hotelvirat.com/api/v1/hotel",mu=Tt.create({baseURL:Mfe,headers:{"Content-Type":"application/json"}}),Bfe=()=>{var U,ee,le,ce,je,ie,ve,Ne,ge,Ye,Te,qe;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState(!0),[u,f]=N.useState(""),[p,m]=N.useState(""),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(""),[T,E]=N.useState(""),[S,A]=N.useState(!1),[k,I]=N.useState(null),[B,M]=N.useState(!1),[L,F]=N.useState(null);N.useEffect(()=>{_(),G(),P()},[]);const _=async()=>{d(!0),f("");try{const V=await mu.get("/room-booking");let fe=V.data;V.data.bookings?fe=V.data.bookings:V.data.data&&(fe=V.data.data);const Ee=Array.isArray(fe)?fe:[];t(Ee)}catch(V){console.error("Error fetching bookings:",V),f("Failed to load bookings"),t([])}finally{d(!1)}},G=async()=>{try{const V=await mu.get("/room");let fe=V.data;V.data.rooms?fe=V.data.rooms:V.data.data&&(fe=V.data.data);const Ee=Array.isArray(fe)?fe:[];a(Ee)}catch(V){console.error("Error fetching rooms:",V),a([])}},P=async()=>{try{const V=await mu.get("/branch");let fe=V.data;V.data.branches?fe=V.data.branches:V.data.data&&(fe=V.data.data);const Ee=Array.isArray(fe)?fe:[];s(Ee)}catch(V){console.error("Error fetching branches:",V),s([])}},D=async(V,fe)=>{try{const Ee=await mu.get(`/room-booking/slots/${V}?date=${fe}`);I(Ee.data),A(!0)}catch(Ee){console.error("Error fetching time slots:",Ee),alert("Failed to load time slots")}},R=async(V,fe)=>{try{await mu.put(`/room-booking/${V}/status`,{status:fe}),_(),alert(`Booking ${fe} successfully`)}catch(Ee){console.error("Error updating booking status:",Ee),alert("Failed to update booking status")}},H=V=>{F(V),M(!0)},ne=V=>V?new Date(V).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",me=V=>{if(!V)return"N/A";const[fe,Ee]=V.split(":"),K=parseInt(fe),re=K>=12?"PM":"AM";return`${K===0?12:K>12?K-12:K}:${Ee} ${re}`},q=V=>{switch(V){case"confirmed":return{color:"#2563eb",backgroundColor:"#dbeafe"};case"checked-in":return{color:"#059669",backgroundColor:"#d1fae5"};case"checked-out":return{color:"#6b7280",backgroundColor:"#f3f4f6"};case"cancelled":return{color:"#dc2626",backgroundColor:"#fee2e2"};case"cancel-requested":return{color:"#d97706",backgroundColor:"#fef3c7"};default:return{color:"#6b7280",backgroundColor:"#f3f4f6"}}},X=V=>V.gstOption==="withoutGST"?"Without GST":V.gstOption==="withGST"?`With GST (CGST: ${V.cgst||0}, SGST: ${V.sgst||0})`:V.gstOption==="withIGST"?`With IGST (${V.igst||0})`:"N/A",z=Array.isArray(e)?e.filter(V=>{var Z,Q,be,Me,Ge,Le,ye,de;const fe=((Z=V.userName)==null?void 0:Z.toLowerCase().includes(p.toLowerCase()))||((Q=V.userPhone)==null?void 0:Q.includes(p))||((Me=(be=V.roomId)==null?void 0:be.roomNumber)==null?void 0:Me.toString().includes(p))||((Le=(Ge=V.roomId)==null?void 0:Ge.floor)==null?void 0:Le.toLowerCase().includes(p.toLowerCase())),Ee=!g||((ye=V.branchId)==null?void 0:ye._id)===g,K=!j||V.status===j,re=!y||((de=V.roomId)==null?void 0:de._id)===y,W=!T||(V.checkInDate?new Date(V.checkInDate).toISOString().split("T")[0]===T:!1);return fe&&Ee&&K&&re&&W}):[],te=()=>{const V=[];for(let fe=0;fe<24;fe++){const Ee=`${fe.toString().padStart(2,"0")}:00`,K=fe===0?"12:00 AM":fe<12?`${fe}:00 AM`:fe===12?"12:00 PM":`${fe-12}:00 PM`;V.push({value:Ee,display:K})}return V};return n.jsxs("div",{style:{padding:"24px",backgroundColor:"#f9fafb",minHeight:"100vh"},children:[n.jsxs("div",{style:{maxWidth:"1280px",margin:"0 auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[n.jsx("h1",{style:{fontSize:"30px",fontWeight:"bold",color:"#111827",margin:0},children:"Room Bookings"}),n.jsxs("button",{onClick:_,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:V=>V.target.style.backgroundColor="#1d4ed8",onMouseOut:V=>V.target.style.backgroundColor="#2563eb",children:[n.jsx(ai,{size:20}),"Refresh"]})]}),n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",padding:"24px",marginBottom:"24px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{position:"relative"},children:[n.jsx(Yt,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"},size:20}),n.jsx("input",{type:"text",placeholder:"Search by name, phone, room...",value:p,onChange:V=>m(V.target.value),style:{width:"100%",paddingLeft:"40px",paddingRight:"16px",paddingTop:"8px",paddingBottom:"8px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:V=>{V.target.style.borderColor="#3b82f6",V.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:V=>{V.target.style.borderColor="#d1d5db",V.target.style.boxShadow="none"}})]}),n.jsxs("select",{value:g,onChange:V=>v(V.target.value),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"All Branches"}),Array.isArray(i)?i.map(V=>n.jsx("option",{value:V._id,children:V.name},V._id)):[]]}),n.jsxs("select",{value:j,onChange:V=>b(V.target.value),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"checked-in",children:"Checked In"}),n.jsx("option",{value:"checked-out",children:"Checked Out"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"cancel-requested",children:"Cancel Requested"})]}),n.jsxs("select",{value:y,onChange:V=>C(V.target.value),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"All Rooms"}),Array.isArray(r)?r.map(V=>n.jsxs("option",{value:V._id,children:[V.floor," - Room ",V.roomNumber||"N/A"]},V._id)):[]]}),n.jsx("input",{type:"date",value:T,onChange:V=>E(V.target.value),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),y&&T&&n.jsx("div",{style:{marginTop:"16px"},children:n.jsxs("button",{onClick:()=>D(y,T),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:V=>V.target.style.backgroundColor="#047857",onMouseOut:V=>V.target.style.backgroundColor="#059669",children:[n.jsx(bi,{size:20}),"View Time Slots for Selected Room & Date"]})})]}),u&&n.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fca5a5",color:"#dc2626",padding:"12px 16px",borderRadius:"8px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:20}),u]}),l?n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"48px 0"},children:n.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #e5e7eb",borderTop:"3px solid #2563eb",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):n.jsx(n.Fragment,{children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden"},children:[n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{style:{backgroundColor:"#f9fafb"},children:n.jsxs("tr",{children:[n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Guest"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Room"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Check-in"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Check-out"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"GST Details"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Amount"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),n.jsx("tbody",{style:{backgroundColor:"white"},children:z.map((V,fe)=>{var Ee,K,re,W;return n.jsxs("tr",{style:{borderTop:fe>0?"1px solid #e5e7eb":"none"},children:[n.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{style:{flexShrink:0,width:"40px",height:"40px"},children:n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#dbeafe",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(xc,{style:{width:"20px",height:"20px",color:"#2563eb"}})})}),n.jsxs("div",{style:{marginLeft:"16px"},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#111827"},children:V.userName}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(oi,{size:12}),V.userPhone]}),V.userEmail&&n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(eo,{size:12}),V.userEmail]}),(()=>{let Z=V.guestGstNumber;if(V.guestGstNumber&&V.guestGstNumber.startsWith("DOCS:"))try{const Q=V.guestGstNumber.substring(5);Z=JSON.parse(Q).gst||""}catch{Z=""}return Z?n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("span",{style:{fontSize:"12px"},children:"GST:"}),Z]}):null})()]})]})}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsxs("div",{style:{fontSize:"14px",fontWeight:"500",color:"#111827"},children:[(Ee=V.roomId)==null?void 0:Ee.floor," - Room ",((K=V.roomId)==null?void 0:K.roomNumber)||"N/A"]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Iu,{size:12}),(re=V.branchId)==null?void 0:re.name]}),n.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:(W=V.roomId)==null?void 0:W.roomType})]}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsxs("div",{style:{fontSize:"14px",color:"#111827",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Tr,{size:12}),ne(V.checkInDate)]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(bi,{size:12}),me(V.checkInTime)]})]}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsxs("div",{style:{fontSize:"14px",color:"#111827",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Tr,{size:12}),ne(V.checkOutDate)]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(bi,{size:12}),me(V.checkOutTime)]})]}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsx("div",{style:{fontSize:"14px",color:"#111827"},children:X(V)}),V.gstAmount>0&&n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:["GST: ",V.gstAmount]})]}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsxs("div",{style:{fontSize:"14px",fontWeight:"500",color:"#111827",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(hj,{size:12}),"",V.totalPrice]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:["Base: ",V.baseAmount]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[V.nights," night(s)"]})]}),n.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:n.jsx("span",{style:{display:"inline-flex",padding:"4px 8px",fontSize:"12px",fontWeight:"600",borderRadius:"9999px",...q(V.status)},children:V.status})}),n.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"500"},children:n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>H(V),style:{color:"#3b82f6",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"View Details",onMouseOver:Z=>Z.target.style.backgroundColor="#eff6ff",onMouseOut:Z=>Z.target.style.backgroundColor="transparent",children:n.jsx(ci,{size:16})}),V.status==="confirmed"&&n.jsx("button",{onClick:()=>R(V._id,"checked-in"),style:{color:"#059669",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"Check In",onMouseOver:Z=>Z.target.style.backgroundColor="#f0fdf4",onMouseOut:Z=>Z.target.style.backgroundColor="transparent",children:n.jsx(Gi,{size:16})}),V.status==="checked-in"&&n.jsx("button",{onClick:()=>R(V._id,"checked-out"),style:{color:"#2563eb",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"Check Out",onMouseOver:Z=>Z.target.style.backgroundColor="#eff6ff",onMouseOut:Z=>Z.target.style.backgroundColor="transparent",children:n.jsx(Gi,{size:16})}),(V.status==="confirmed"||V.status==="checked-in")&&n.jsx("button",{onClick:()=>R(V._id,"cancelled"),style:{color:"#dc2626",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"Cancel",onMouseOver:Z=>Z.target.style.backgroundColor="#fef2f2",onMouseOut:Z=>Z.target.style.backgroundColor="transparent",children:n.jsx(Cp,{size:16})}),V.status==="cancel-requested"&&n.jsx("button",{onClick:()=>R(V._id,"cancelled"),style:{color:"#d97706",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"Approve Cancellation",onMouseOver:Z=>Z.target.style.backgroundColor="#fffbeb",onMouseOut:Z=>Z.target.style.backgroundColor="transparent",children:n.jsx(Gi,{size:16})})]})})]},V._id)})})]})}),z.length===0&&n.jsx("div",{style:{textAlign:"center",padding:"48px 0"},children:n.jsx("div",{style:{color:"#6b7280"},children:"No bookings found"})})]})}),B&&L&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"0",maxWidth:"800px",width:"90%",margin:"16px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px",borderBottom:"1px solid #e5e7eb",backgroundColor:"#f8fafc",borderRadius:"12px 12px 0 0"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",margin:0,color:"#1f2937"},children:"Booking Details"}),n.jsxs("p",{style:{fontSize:"14px",color:"#6b7280",margin:"4px 0 0"},children:["Booking ID: ",L._id]})]}),n.jsx("button",{onClick:()=>M(!1),style:{color:"#6b7280",backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"all 0.2s"},onMouseOver:V=>{V.target.style.backgroundColor="#f3f4f6",V.target.style.color="#374151"},onMouseOut:V=>{V.target.style.backgroundColor="transparent",V.target.style.color="#6b7280"},children:n.jsx(Cp,{size:24})})]}),n.jsxs("div",{style:{padding:"24px"},children:[n.jsx("div",{style:{marginBottom:"24px",textAlign:"center"},children:n.jsx("span",{style:{display:"inline-flex",padding:"8px 16px",fontSize:"14px",fontWeight:"600",borderRadius:"20px",textTransform:"capitalize",...q(L.status)},children:L.status})}),n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(xc,{size:20,color:"#3b82f6"}),"Guest Information"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Name"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:L.userName||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Phone"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(oi,{size:16,color:"#10b981"}),L.userPhone||"N/A"]})]}),L.userEmail&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Email"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(eo,{size:16,color:"#3b82f6"}),L.userEmail]})]}),(()=>{let V=L.guestGstNumber;if(L.guestGstNumber&&L.guestGstNumber.startsWith("DOCS:"))try{const fe=L.guestGstNumber.substring(5);V=JSON.parse(fe).gst||""}catch{V=""}return V?n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"GST Number"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:V})]}):null})()]})]}),n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Iu,{size:20,color:"#10b981"}),"Room Information"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#166534",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Room Number"}),n.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#166534"},children:((U=L.roomId)==null?void 0:U.roomNumber)||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Floor"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:((ee=L.roomId)==null?void 0:ee.floor)||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Room Type"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:((le=L.roomId)==null?void 0:le.roomType)||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Branch"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:((ce=L.branchId)==null?void 0:ce.name)||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Room Price"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:["",((je=L.roomId)==null?void 0:je.price)||0,"/night"]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Capacity"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:[((ve=(ie=L.roomId)==null?void 0:ie.capacity)==null?void 0:ve.adults)||2," Adults",((ge=(Ne=L.roomId)==null?void 0:Ne.capacity)==null?void 0:ge.children)>0&&`, ${L.roomId.capacity.children} Children`]})]})]})]}),((Ye=L.roomId)==null?void 0:Ye.amenities)&&n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:" Room Amenities"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"8px"},children:Object.entries(L.roomId.amenities).map(([V,fe])=>fe&&n.jsxs("div",{style:{padding:"8px 12px",backgroundColor:"#f0fdf4",borderRadius:"6px",border:"1px solid #bbf7d0",fontSize:"14px",color:"#166534",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("span",{style:{fontSize:"12px"},children:""}),V.charAt(0).toUpperCase()+V.slice(1).replace(/([A-Z])/g," $1")]},V))})]}),n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Tr,{size:20,color:"#f59e0b"}),"Stay Information"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{padding:"16px",backgroundColor:"#fefbf3",borderRadius:"8px",border:"1px solid #fed7aa"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#92400e",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Check-in"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#92400e",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Tr,{size:16}),ne(L.checkInDate)]}),n.jsxs("div",{style:{fontSize:"14px",color:"#92400e",marginTop:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(bi,{size:14}),me(L.checkInTime)]}),L.actualCheckInTime&&n.jsxs("div",{style:{fontSize:"12px",color:"#059669",marginTop:"8px",padding:"6px 8px",backgroundColor:"#dcfce7",borderRadius:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Gi,{size:12}),n.jsxs("span",{children:[n.jsx("strong",{children:"Actual Check-in:"})," ",new Date(L.actualCheckInTime).toLocaleString()]})]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#fefbf3",borderRadius:"8px",border:"1px solid #fed7aa"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#92400e",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Check-out"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#92400e",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Tr,{size:16}),ne(L.checkOutDate)]}),n.jsxs("div",{style:{fontSize:"14px",color:"#92400e",marginTop:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(bi,{size:14}),me(L.checkOutTime)]}),L.actualCheckOutTime&&n.jsxs("div",{style:{fontSize:"12px",color:"#059669",marginTop:"8px",padding:"6px 8px",backgroundColor:"#dcfce7",borderRadius:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Gi,{size:12}),n.jsxs("span",{children:[n.jsx("strong",{children:"Actual Check-out:"})," ",new Date(L.actualCheckOutTime).toLocaleString()]})]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Duration"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:[L.nights||1," night(s)"]})]})]})]}),n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(hj,{size:20,color:"#059669"}),"Payment Information"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#166534",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Total Amount"}),n.jsxs("div",{style:{fontSize:"20px",fontWeight:"600",color:"#166534"},children:["",L.totalPrice||0]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Base Amount"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:["",L.baseAmount||0]})]}),L.gstAmount>0&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"GST Amount"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:["",L.gstAmount]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"GST Details"}),n.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:X(L)})]})]})]}),(L.specialRequests||L.notes||L.createdAt||L.documents)&&n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937"},children:"Additional Information"}),n.jsxs("div",{style:{display:"grid",gap:"16px"},children:[L.guestGstNumber&&L.guestGstNumber.startsWith("DOCS:")?(()=>{try{const V=L.guestGstNumber.substring(5),Ee=JSON.parse(V).documents;return n.jsxs("div",{style:{padding:"20px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[n.jsx("div",{style:{fontSize:"16px",color:"#334155",marginBottom:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:" Identity Documents"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:[Ee.panCard&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#dbeafe",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"4px"},children:"PAN Card"}),n.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:Ee.panCard.name})]})]}),Ee.panCard.data&&Ee.panCard.type.startsWith("image/")&&n.jsx("div",{style:{marginBottom:"12px"},children:n.jsx("img",{src:Ee.panCard.data,alt:"PAN Card",style:{width:"100%",maxHeight:"200px",objectFit:"contain",borderRadius:"6px",border:"1px solid #e2e8f0"}})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",fontSize:"12px",color:"#6b7280"},children:[n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Size: "}),(Ee.panCard.size/1024/1024).toFixed(2)," MB"]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Type: "}),Ee.panCard.type]})]}),n.jsx("div",{style:{marginTop:"12px",padding:"8px 12px",borderRadius:"6px",backgroundColor:"#f0fdf4",color:"#059669",fontSize:"12px",fontWeight:"500",textAlign:"center"},children:" Document Available"})]}),Ee.aadhaarCard&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#dbeafe",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"4px"},children:"Aadhaar Card"}),n.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:Ee.aadhaarCard.name})]})]}),Ee.aadhaarCard.data&&Ee.aadhaarCard.type.startsWith("image/")&&n.jsx("div",{style:{marginBottom:"12px"},children:n.jsx("img",{src:Ee.aadhaarCard.data,alt:"Aadhaar Card",style:{width:"100%",maxHeight:"200px",objectFit:"contain",borderRadius:"6px",border:"1px solid #e2e8f0"}})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",fontSize:"12px",color:"#6b7280"},children:[n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Size: "}),(Ee.aadhaarCard.size/1024/1024).toFixed(2)," MB"]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Type: "}),Ee.aadhaarCard.type]})]}),n.jsx("div",{style:{marginTop:"12px",padding:"8px 12px",borderRadius:"6px",backgroundColor:"#f0fdf4",color:"#059669",fontSize:"12px",fontWeight:"500",textAlign:"center"},children:" Document Available"})]})]})]})}catch(V){return n.jsxs("div",{style:{padding:"16px",backgroundColor:"#fee2e2",borderRadius:"8px",color:"#dc2626"},children:["Error parsing document data: ",V.message]})}})():n.jsx("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:n.jsx("div",{style:{fontSize:"14px",color:"#6b7280",textAlign:"center",fontStyle:"italic"},children:" No identity documents were uploaded for this booking"})}),L.specialRequests&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Special Requests"}),n.jsx("div",{style:{fontSize:"14px",color:"#1f2937"},children:L.specialRequests})]}),L.notes&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Notes"}),n.jsx("div",{style:{fontSize:"14px",color:"#1f2937"},children:L.notes})]}),L.createdAt&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Booking Created"}),n.jsx("div",{style:{fontSize:"14px",color:"#1f2937"},children:new Date(L.createdAt).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]}),n.jsx("div",{style:{padding:"24px",borderTop:"1px solid #e5e7eb",backgroundColor:"#f8fafc",borderRadius:"0 0 12px 12px",display:"flex",justifyContent:"flex-end",gap:"12px"},children:n.jsx("button",{onClick:()=>M(!1),style:{padding:"10px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:V=>V.target.style.backgroundColor="#4b5563",onMouseOut:V=>V.target.style.backgroundColor="#6b7280",children:"Close"})})]})}),S&&k&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"24px",maxWidth:"672px",width:"100%",margin:"16px",maxHeight:"80vh",overflowY:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",margin:0},children:["Time Slots for ",T]}),n.jsx("button",{onClick:()=>A(!1),style:{color:"#6b7280",backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"4px",borderRadius:"4px"},onMouseOver:V=>V.target.style.color="#374151",onMouseOut:V=>V.target.style.color="#6b7280",children:n.jsx(Cp,{size:24})})]}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("p",{style:{fontSize:"14px",color:"#4b5563",margin:"4px 0"},children:["Room: ",Array.isArray(r)?(Te=r.find(V=>V._id===y))==null?void 0:Te.floor:"N/A"," - Room ",Array.isArray(r)?(qe=r.find(V=>V._id===y))==null?void 0:qe.roomNumber:"N/A"]}),n.jsxs("p",{style:{fontSize:"14px",color:"#4b5563",margin:"4px 0"},children:["Available Slots: ",k.availableSlots," / 24"]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:te().map(V=>{const fe=k.bookedSlots.includes(V.value);return n.jsxs("div",{style:{padding:"8px",textAlign:"center",borderRadius:"4px",fontSize:"14px",backgroundColor:fe?"#fef2f2":"#f0fdf4",color:fe?"#991b1b":"#166534",border:`1px solid ${fe?"#fca5a5":"#bbf7d0"}`},children:[n.jsx("div",{style:{fontWeight:"500"},children:V.display}),n.jsx("div",{style:{fontSize:"12px"},children:fe?"Booked":"Available"})]},V.value)})})]})})]}),n.jsx("style",{jsx:!0,children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},Ffe="https://hotelvirat.com/api/v1/hotel",Lfe=Tt.create({baseURL:Ffe,headers:{"Content-Type":"application/json"}}),zfe=()=>{const[e,t]=N.useState({totalCash:0,totalOnline:0,totalCollected:0,totalPending:0,bookingCount:0}),[r,a]=N.useState([]),[i,s]=N.useState(!0),[l,d]=N.useState(""),[u,f]=N.useState(""),[p,m]=N.useState(new Date().toISOString().split("T")[0]),[g,v]=N.useState(new Date().toISOString().split("T")[0]);N.useEffect(()=>{j()},[p,g]);const j=async()=>{s(!0),d("");try{const I=await Lfe.get(`/room-booking/payment-summary?startDate=${p}&endDate=${g}`);t(I.data.summary),a(I.data.bookings)}catch(I){console.error("Error fetching payment summary:",I),d("Failed to load payment data")}finally{s(!1)}},b=I=>I?new Date(I).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",y=I=>I?new Date(I).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",C=Array.isArray(r)?r.filter(I=>{var M,L,F;const B=u.toLowerCase();return((M=I.guestName)==null?void 0:M.toLowerCase().includes(B))||((L=I.roomNumber)==null?void 0:L.toLowerCase().includes(B))||((F=I.branchName)==null?void 0:F.toLowerCase().includes(B))}):[],T=()=>{const I=C.map(L=>({Room:L.roomNumber,"Guest Name":L.guestName,Branch:L.branchName,"Check-in":b(L.checkInDate),"Check-out":b(L.checkOutDate),"Total Amount":L.totalPrice,"Cash Paid":L.cashAmount,"Online Paid":L.onlineAmount,"Total Paid":L.amountPaid,Balance:L.totalPrice-L.amountPaid,Status:L.paymentStatus,"Booking Date":y(L.createdAt)})),B=hc.json_to_sheet(I),M=hc.book_new();hc.book_append_sheet(M,B,"Room Payments"),Z5(M,`room-payments-${p}-to-${g}.xlsx`)},E=()=>{const I=new Date().toISOString().split("T")[0];m(I),v(I)},S=()=>{const I=new Date,B=new Date(I);B.setDate(I.getDate()-I.getDay()),m(B.toISOString().split("T")[0]),v(I.toISOString().split("T")[0])},A=()=>{const I=new Date,B=new Date(I.getFullYear(),I.getMonth(),1);m(B.toISOString().split("T")[0]),v(I.toISOString().split("T")[0])},k=()=>{const I=new Date,B=new Date(I.getFullYear(),0,1);m(B.toISOString().split("T")[0]),v(I.toISOString().split("T")[0])};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Room Payment Collections"}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-outline",onClick:j,children:[n.jsx(ai,{size:16}),n.jsx("span",{children:"Refresh"})]}),n.jsxs("button",{className:"btn btn-primary",onClick:T,children:[n.jsx(Ln,{size:16}),n.jsx("span",{children:"Export"})]})]})]}),n.jsx("div",{className:"filters-bar",style:{marginBottom:"20px"},children:n.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Tr,{size:18}),n.jsx("input",{type:"date",value:p,onChange:I=>m(I.target.value),className:"filter-select"}),n.jsx("span",{children:"to"}),n.jsx("input",{type:"date",value:g,onChange:I=>v(I.target.value),className:"filter-select"})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{className:"btn btn-outline btn-sm",onClick:E,children:"Today"}),n.jsx("button",{className:"btn btn-outline btn-sm",onClick:S,children:"This Week"}),n.jsx("button",{className:"btn btn-outline btn-sm",onClick:A,children:"This Month"}),n.jsx("button",{className:"btn btn-outline btn-sm",onClick:k,children:"This Year"})]})]})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[n.jsxs("div",{style:{backgroundColor:"#f0fdf4",padding:"20px",borderRadius:"12px",border:"1px solid #bbf7d0"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx(JL,{size:24,color:"#16a34a"}),n.jsx("span",{style:{color:"#166534",fontWeight:"500"},children:"Cash Collection"})]}),n.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#16a34a"},children:["",e.totalCash.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),n.jsxs("div",{style:{backgroundColor:"#eff6ff",padding:"20px",borderRadius:"12px",border:"1px solid #bfdbfe"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx(Bn,{size:24,color:"#2563eb"}),n.jsx("span",{style:{color:"#1e40af",fontWeight:"500"},children:"Online Collection"})]}),n.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#2563eb"},children:["",e.totalOnline.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),n.jsxs("div",{style:{backgroundColor:"#faf5ff",padding:"20px",borderRadius:"12px",border:"1px solid #e9d5ff"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx(hj,{size:24,color:"#9333ea"}),n.jsx("span",{style:{color:"#6b21a8",fontWeight:"500"},children:"Total Collected"})]}),n.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#9333ea"},children:["",e.totalCollected.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),n.jsxs("div",{style:{backgroundColor:"#fef2f2",padding:"20px",borderRadius:"12px",border:"1px solid #fecaca"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx($t,{size:24,color:"#dc2626"}),n.jsx("span",{style:{color:"#991b1b",fontWeight:"500"},children:"Pending Amount"})]}),n.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#dc2626"},children:["",e.totalPending.toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by guest name, room number...",className:"search-input",value:u,onChange:I=>f(I.target.value)})]}),n.jsxs("div",{style:{color:"#6b7280",fontSize:"14px"},children:[C.length," booking(s) found"]})]}),l&&n.jsxs("div",{style:{padding:"15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx($t,{size:18}),l]}),n.jsx("div",{className:"data-card",children:i?n.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[n.jsx(ai,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading payment data..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Room"}),n.jsx("th",{children:"Guest"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Check-in"}),n.jsx("th",{children:"Total"}),n.jsx("th",{children:" Cash"}),n.jsx("th",{children:" Online"}),n.jsx("th",{children:"Balance"})]})}),n.jsx("tbody",{children:C.length>0?C.map(I=>{var M,L,F;const B=I.totalPrice-I.amountPaid;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsx("strong",{children:I.roomNumber})}),n.jsx("td",{children:I.guestName}),n.jsx("td",{children:I.branchName}),n.jsx("td",{children:b(I.checkInDate)}),n.jsxs("td",{children:["",(M=I.totalPrice)==null?void 0:M.toFixed(2)]}),n.jsxs("td",{style:{color:"#16a34a",fontWeight:"500"},children:["",(L=I.cashAmount)==null?void 0:L.toFixed(2)]}),n.jsxs("td",{style:{color:"#2563eb",fontWeight:"500"},children:["",(F=I.onlineAmount)==null?void 0:F.toFixed(2)]}),n.jsx("td",{style:{color:B>0?"#dc2626":"#16a34a",fontWeight:"500"},children:B>0?`${B.toFixed(2)}`:" Paid"})]},I._id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:"No bookings found for the selected date range"})})})]})})]})},$fe=({user:e,onClose:t,onSave:r,categories:a,isEditMode:i})=>{var b,y;const[s,l]=N.useState({name:(e==null?void 0:e.name)||"",username:(e==null?void 0:e.username)||"",password:"",categoryId:((b=e==null?void 0:e.categoryId)==null?void 0:b._id)||(e==null?void 0:e.categoryId)||"",categoryName:(e==null?void 0:e.categoryName)||"",branchId:((y=e==null?void 0:e.branchId)==null?void 0:y._id)||(e==null?void 0:e.branchId)||"",branchName:(e==null?void 0:e.branchName)||"",isActive:(e==null?void 0:e.isActive)!==!1}),[d,u]=N.useState(!1),[f,p]=N.useState(null),[m,g]=N.useState(!1),v=C=>{var k,I;const{name:T,value:E,type:S,checked:A}=C.target;if(T==="categoryId"){const B=a.find(M=>M._id===E);l({...s,categoryId:E,categoryName:(B==null?void 0:B.name)||"",branchId:(B==null?void 0:B.branchId)||((k=B==null?void 0:B.branch)==null?void 0:k._id)||"",branchName:((I=B==null?void 0:B.branch)==null?void 0:I.name)||""})}else l({...s,[T]:S==="checkbox"?A:E});p(null)},j=async C=>{C.preventDefault(),p(null),g(!0);try{if(!s.categoryId)throw new Error("Please select a category");if(!i&&!s.password)throw new Error("Password is required");await r(s,e==null?void 0:e._id),t()}catch(T){p(T.message||"Failed to save category access user")}finally{g(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:i?"Edit Category Access":"Add Category Access"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{className:"modal-body",children:[f&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626",padding:"10px",borderRadius:"4px",marginBottom:"15px"},children:f}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"categoryId",children:["Category ",n.jsx("span",{className:"required",children:"*"})]}),n.jsxs("select",{id:"categoryId",name:"categoryId",className:"form-select",value:s.categoryId,onChange:v,required:!0,disabled:m,children:[n.jsx("option",{value:"",children:"Select Category"}),a.map(C=>{var T;return n.jsxs("option",{value:C._id,children:[C.name," ",(T=C.branch)!=null&&T.name?`(${C.branch.name})`:""]},C._id)})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Staff Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:s.name,onChange:v,required:!0,disabled:m,placeholder:"Enter staff name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"username",children:["Username ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"username",name:"username",className:"form-input",value:s.username,onChange:v,required:!0,disabled:m,placeholder:"Enter username for login"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"password",children:["Password ",!i&&n.jsx("span",{className:"required",children:"*"})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("input",{type:d?"text":"password",id:"password",name:"password",className:"form-input",value:s.password,onChange:v,required:!i,disabled:m,placeholder:i?"Leave blank to keep current":"Enter password",style:{paddingRight:"40px"}}),n.jsx("button",{type:"button",onClick:()=>u(!d),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#6b7280"},children:d?n.jsx(rw,{size:18}):n.jsx(ci,{size:18})})]})]}),i&&n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"checkbox",name:"isActive",checked:s.isActive,onChange:v,disabled:m}),"Active"]})})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:m,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Saving...":i?"Update":"Add Access"})]})]})]})})},Ufe=({user:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error("Error deleting:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Category Access"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete access for ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},qfe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(!1),[u,f]=N.useState(null),[p,m]=N.useState(!1),[g,v]=N.useState(null),[j,b]=N.useState(""),[y,C]=N.useState(""),[T,E]=N.useState(!1),S="https://hotelvirat.com/api/v1/hotel/category-access",A="https://hotelvirat.com/api/v1/hotel/category",k=async()=>{try{const D=await fetch(A);if(!D.ok)throw new Error("Failed to fetch categories");const R=await D.json();let H=[];R&&R.success&&Array.isArray(R.data)?H=R.data:Array.isArray(R)&&(H=R),a(H)}catch(D){console.error("Error fetching categories:",D)}},I=async()=>{E(!0),C("");try{const D=await fetch(S);if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const R=await D.json();let H=[];R&&R.success&&Array.isArray(R.data)?H=R.data:Array.isArray(R)?H=R:R&&R.message&&R.message.includes("routes working")?(console.log(" Server returning placeholder response:",R.message),H=[]):(console.error("Expected array but got:",R),H=[]),t(H)}catch(D){console.error("Fetch error:",D),C(`Failed to fetch category access users: ${D.message}`),t([])}finally{E(!1)}};N.useEffect(()=>{k(),I()},[]);const B=()=>{f(null),d(!0)},M=D=>{f(D),d(!0)},L=D=>{v(D),m(!0)},F=async(D,R)=>{try{const H=R?`${S}/${R}`:S,ne=R?"PUT":"POST",me={...D};R&&!me.password&&delete me.password;const q=await fetch(H,{method:ne,headers:{"Content-Type":"application/json"},body:JSON.stringify(me)}),X=await q.json();if(!q.ok)throw new Error(X.message||"Failed to save");b(`Category access ${R?"updated":"added"} successfully`),setTimeout(()=>b(""),3e3),await I()}catch(H){throw new Error(H.message)}},_=async D=>{try{const R=await fetch(`${S}/${D}`,{method:"DELETE"}),H=await R.json();if(!R.ok)throw new Error(H.message||"Failed to delete");b("Category access deleted successfully"),setTimeout(()=>b(""),3e3),await I()}catch(R){C(R.message),setTimeout(()=>C(""),3e3)}},G=D=>D?new Date(D).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"N/A",P=e.filter(D=>{var R,H,ne;return((R=D.name)==null?void 0:R.toLowerCase().includes(i.toLowerCase()))||((H=D.username)==null?void 0:H.toLowerCase().includes(i.toLowerCase()))||((ne=D.categoryName)==null?void 0:ne.toLowerCase().includes(i.toLowerCase()))});return n.jsxs("div",{className:"category-access-page",children:[j&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),children:""})]}),y&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:y}),n.jsx("button",{onClick:()=>C(""),style:{color:"#dc2626"},children:""})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Category Access"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:B,disabled:T,children:[n.jsx(Hc,{size:16}),n.jsx("span",{children:"Add Category Access"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by name, username or category...",className:"search-input",value:i,onChange:D=>s(D.target.value)})]})}),n.jsx("div",{className:"data-card",children:T?n.jsx("div",{className:"empty-state",children:"Loading..."}):P.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No category access users found. ",i?"Try a different search.":"Add a new user to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Username"}),n.jsx("th",{children:"Category"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Created"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:P.map(D=>{var R,H;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:(R=D.name)==null?void 0:R.charAt(0).toUpperCase()}),D.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(LD,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),D.username]})}),n.jsx("td",{children:D.categoryName||((H=D.categoryId)==null?void 0:H.name)||"N/A"}),n.jsx("td",{children:n.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:D.isActive?"#dcfce7":"#fee2e2",color:D.isActive?"#166534":"#dc2626"},children:D.isActive?"Active":"Inactive"})}),n.jsx("td",{children:G(D.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>M(D),disabled:T,children:n.jsx(zn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>L(D),disabled:T,children:n.jsx(Qn,{size:14})})]})})]},D._id)})})]})}),l&&n.jsx($fe,{user:u,onClose:()=>d(!1),onSave:F,categories:r,isEditMode:!!u}),p&&n.jsx(Ufe,{user:g,onClose:()=>m(!1),onConfirm:_})]})},Wfe=()=>{const e=sn(),[t,r]=N.useState(null),[a,i]=N.useState([]),[s,l]=N.useState([]),[d,u]=N.useState(!0),[f,p]=N.useState(""),[m,g]=N.useState(""),[v,j]=N.useState(""),[b,y]=N.useState("all"),[C,T]=N.useState(!1),[E,S]=N.useState(null);N.useEffect(()=>{const D=localStorage.getItem("userType"),R=localStorage.getItem("categoryStaffData");if(D!=="category-staff"||!R){e("/login");return}const H=JSON.parse(R);console.log(" CategoryOrders - Staff Data:",H),console.log(" CategoryOrders - Category Name:",`"${H.categoryName}"`),console.log(" CategoryOrders - Category ID:",H.categoryId),r(H)},[e]),N.useEffect(()=>{t&&k()},[t,b]);const A=D=>{var z,te,U,ee,le;const R=((z=D.categoryName)==null?void 0:z.toLowerCase())||"",H=((te=D.branchName)==null?void 0:te.toLowerCase())||"",ne=((U=D.customerName)==null?void 0:U.toLowerCase())||"",me=((ee=D.deliveryOption)==null?void 0:ee.toLowerCase())||"",q=((le=D.tableNumber)==null?void 0:le.toString().toLowerCase())||"",X=(D.orderId||D.orderNumber||D._id||"").toLowerCase();return X.includes("-tm-")||X.includes("temple")?"Temple Meals":X.includes("-ss-")||X.includes("counter")?"Self Service":X.includes("-res-")?"Restaurant":R.includes("temple")||R.includes("prasad")||R.includes("pooja")||H.includes("temple")||ne.includes("temple")?"Temple Meals":R.includes("self")||R.includes("counter")||q.includes("counter")||q.includes("self")||q.includes("mobile order")||me==="pickup"?"Self Service":"Restaurant"},k=async()=>{if(t!=null&&t.categoryId){u(!0),p("");try{const D=t.categoryId._id||t.categoryId,R=Date.now();console.log(" CategoryOrders - Fetching orders for category:",t.categoryName),console.log(" CategoryOrders - Category ID:",D),console.log(" CategoryOrders - Staff Category Name (exact):",`"${t.categoryName}"`),console.log(" CategoryOrders - Staff Category Name (lowercase):",`"${t.categoryName.toLowerCase().trim()}"`);const[H,ne]=await Promise.all([Wt(`/staff-order?_t=${R}`,{},!0).catch(()=>[]),Wt(`/order?limit=1000&_t=${R}`,{},!0).catch(()=>[])]);let me=[];try{const ie=await Wt(`/counter-order/orders?_t=${R}`,{},!0).catch(()=>[]);me=Array.isArray(ie)?ie:ie.orders||[]}catch(ie){console.log("Additional orders fetch failed:",ie)}const q=Array.isArray(H)?H:H.orders||[],X=Array.isArray(ne)?ne:ne.data||[];console.log(" CategoryOrders - Raw API responses:",{staffOrdersCount:q.length,onlineOrdersCount:X.length,sampleOnlineOrder:X[0]||"No online orders",additionalOrdersCount:me.length}),X.length>0&&(console.log(" CategoryOrders - First 3 online orders structure:"),X.slice(0,3).forEach((ie,ve)=>{var Ne,ge;console.log(`  Order ${ve+1}:`,{id:ie._id,orderId:ie.orderId||ie.orderNumber,categoryName:ie.categoryName,name:ie.name,deliveryOption:ie.deliveryOption,createdAt:ie.createdAt,items:((Ne=ie.items)==null?void 0:Ne.length)||0,itemsDetails:((ge=ie.items)==null?void 0:ge.map(Ye=>({name:Ye.name||Ye.itemName,quantity:Ye.quantity,price:Ye.price,categoryId:Ye.categoryId,categoryName:Ye.categoryName,fullItemStructure:Ye})))||[]})}));const z=X.map(ie=>{var Ye,Te;let ve="Restaurant";const Ne=(ie.orderId||ie.orderNumber||ie._id||"").toLowerCase();if(Ne.includes("-tm-")||Ne.includes("temple")?ve="Temple Meals":Ne.includes("-ss-")||Ne.includes("counter")?ve="Self Service":Ne.includes("-res-")&&(ve="Restaurant"),ie.items&&ie.items.length>0){const qe=ie.items.map(V=>V.categoryId).filter(Boolean);if(qe.length>0){const V={};qe.forEach(K=>{V[K]=(V[K]||0)+1});const fe=Object.keys(V).reduce((K,re)=>V[K]>V[re]?K:re),Ee={"692fe2788b36a58df247e06f":"Restaurant","692fe2978b36a58df247e072":"Self Service","692fe2ae8b36a58df247e075":"Temple Meals"};Ee[fe]&&(ve=Ee[fe])}}const ge={...ie,customerName:ie.name||ie.customerName||"Mobile User",customerMobile:ie.phone||ie.customerMobile||ie.customerPhone,tableNumber:ie.tableNumber||"Mobile Order",branchName:((Ye=ie.branchId)==null?void 0:Ye.name)||ie.branchName||"Hotel Virat",grandTotal:ie.total||ie.grandTotal||ie.totalAmount,status:ie.status||"pending",items:ie.items||[],categoryName:ve};return console.log("DEBUG - Transformed online order:",{orderId:ge.orderId||ge.orderNumber||ge._id,originalCategoryName:ie.categoryName,assignedCategoryName:ge.categoryName,hasDeliveryAddress:!!ie.deliveryAddress,deliveryOption:ie.deliveryOption,tableNumber:ge.tableNumber,orderSource:ie.orderSource,itemCategoryIds:((Te=ie.items)==null?void 0:Te.map(qe=>qe.categoryId))||[]}),ge}),U=[...q,...z,...me].filter((ie,ve,Ne)=>{const ge=ie.orderId||ie.orderNumber||ie._id;return ve===Ne.findIndex(Ye=>(Ye.orderId||Ye.orderNumber||Ye._id)===ge)});console.log(" CategoryOrders - All unique orders before filtering:",{totalOrders:U.length,orderIds:U.map(ie=>ie.orderId||ie.orderNumber||ie._id).slice(0,10),sampleOrderDetails:U.slice(0,3).map(ie=>{var ve;return{id:ie.orderId||ie.orderNumber||ie._id,categoryName:ie.categoryName,items:((ve=ie.items)==null?void 0:ve.map(Ne=>({name:Ne.name,categoryId:Ne.categoryId,categoryName:Ne.categoryName})))||[]}})});const ee=U.filter(ie=>{var qe,V,fe,Ee,K,re,W,Z,Q,be;const ve=ie.orderId||ie.orderNumber||ie._id||"UNKNOWN";if(!ve||ve==="UNKNOWN")return!1;const Ne=((qe=ie.categoryName)==null?void 0:qe.toLowerCase().trim())||"",ge=t.categoryName.toLowerCase().trim(),Ye=ve.toLowerCase();if(console.log(` CategoryOrders - Filtering order ${ve}:`,{orderCategoryName:Ne,staffCategoryName:ge,orderIdLower:Ye,orderSource:ie.orderSource,hasItems:!!((V=ie.items)!=null&&V.length),itemsCount:((fe=ie.items)==null?void 0:fe.length)||0,firstItemCategoryId:(K=(Ee=ie.items)==null?void 0:Ee[0])==null?void 0:K.categoryId,firstItemCategoryName:((W=(re=ie.items)==null?void 0:re[0])==null?void 0:W.categoryName)||((be=(Q=(Z=ie.items)==null?void 0:Z[0])==null?void 0:Q.categoryId)==null?void 0:be.name)}),Ne&&Ne!==""&&(Ne===ge||Ne.replace(/\s+/g,"")===ge.replace(/\s+/g,"")))return console.log(` CategoryOrders - Order ${ve} matched by category name`),!0;if((ge.includes("self")||ge.includes("service"))&&(Ye.includes("-ss-")||Ye.includes("counter")))return console.log(` CategoryOrders - Order ${ve} matched Self Service by ID pattern`),!0;if((ge.includes("temple")||ge.includes("meal"))&&(Ye.includes("-tm-")||Ye.includes("temple")))return console.log(` CategoryOrders - Order ${ve} matched Temple Meals by ID pattern`),!0;if(ge.includes("restaurant")&&Ye.includes("-res-"))return console.log(` CategoryOrders - Order ${ve} matched Restaurant by ID pattern`),!0;if(ie.items&&Array.isArray(ie.items)&&ie.items.some(Ge=>{var de,Se;const Le=((de=Ge.categoryId)==null?void 0:de._id)||Ge.categoryId,ye=((Se=Ge.categoryId)==null?void 0:Se.name)||Ge.categoryName;if(Le===D)return console.log(` CategoryOrders - Order ${ve} matched by item categoryId: ${Le}`),!0;if(ye){const Qe=ye.toLowerCase().trim();if(Qe===ge||Qe.replace(/\s+/g,"")===ge.replace(/\s+/g,""))return console.log(` CategoryOrders - Order ${ve} matched by item categoryName: ${ye}`),!0}return!1}))return!0;const Te=A(ie);return Te&&Te.toLowerCase().trim()===ge?(console.log(` CategoryOrders - Order ${ve} matched by determined category: ${Te}`),!0):(console.log(` CategoryOrders - Order ${ve} did not match any criteria`),!1)});console.log(" CategoryOrders - Filtering summary:",{totalUniqueOrders:U.length,categoryOrdersFound:ee.length,staffCategoryName:t.categoryName,categoryOrderIds:ee.map(ie=>ie.orderId||ie.orderNumber||ie._id).slice(0,5)});let le=ee;ee.length===0&&U.length>0&&(console.log(" CategoryOrders - No category orders found, showing all orders for debugging"),le=U);let ce=le;b!=="all"&&(ce=ce.filter(ie=>ie.status===b));const je=ce.filter(ie=>ie.orderId||ie.orderNumber||ie._id).sort((ie,ve)=>{const Ne=new Date(ie.orderTime||ie.createdAt||0);return new Date(ve.orderTime||ve.createdAt||0)-Ne}).map((ie,ve)=>{var Ne,ge;return{id:ie._id||`temp-id-${ve}`,orderId:ie.orderId||ie.orderNumber||`UNKNOWN-${ve}`,customer:ie.isGuestOrder?ie.customerName:((Ne=ie.userId)==null?void 0:Ne.name)||"Unknown",customerType:ie.isGuestOrder?"Guest":"Staff",customerMobile:ie.isGuestOrder?ie.customerMobile:((ge=ie.userId)==null?void 0:ge.mobile)||"N/A",date:new Date(ie.orderTime||ie.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),branch:ie.branchName||"Unknown Branch",tableNumber:ie.tableNumber||"N/A",peopleCount:ie.peopleCount||0,items:(()=>{var re;if(!ie.items||!Array.isArray(ie.items))return[];if(ee.length===0&&U.length>0)return console.log(" CategoryOrders - Debug mode: showing all items for order",ie.orderId||ie.orderNumber||ie._id),ie.items;const Ye=ie.orderId||ie.orderNumber||ie._id||"",Te=((re=ie.categoryName)==null?void 0:re.toLowerCase().trim())||"",qe=t.categoryName.toLowerCase().trim(),V=Ye.toLowerCase(),fe=Te===qe||Te.replace(/\s+/g,"")===qe.replace(/\s+/g,""),Ee=qe.includes("restaurant")&&V.includes("-res-")||qe.includes("self")&&(V.includes("-ss-")||V.includes("counter"))||qe.includes("temple")&&(V.includes("-tm-")||V.includes("temple"));if(fe||Ee)return console.log(` CategoryOrders - Order ${Ye} matched by name/pattern, showing all ${ie.items.length} items`),ie.items;const K=ie.items.filter(W=>{var be,Me;const Z=((be=W.categoryId)==null?void 0:be._id)||W.categoryId,Q=((Me=W.categoryId)==null?void 0:Me.name)||W.categoryName;if(console.log(" CategoryOrders - Filtering item:",{itemName:W.name||W.itemName,itemCategoryId:Z,itemCategoryName:Q,targetCategoryId:D,targetCategoryName:t.categoryName,fullItem:W}),Z===D)return console.log(` CategoryOrders - Item matched by categoryId: ${W.name||W.itemName}`),!0;if(Q){const Ge=Q.toLowerCase().trim(),Le=t.categoryName.toLowerCase().trim();if(Ge===Le||Ge.replace(/\s+/g,"")===Le.replace(/\s+/g,""))return console.log(` CategoryOrders - Item matched by categoryName: ${W.name||W.itemName}`),!0}return console.log(` CategoryOrders - Item did not match: ${W.name||W.itemName}`),!1});return console.log(` CategoryOrders - Order ${Ye} item filtering: ${K.length}/${ie.items.length} items matched`),K})(),allItems:ie.items||[],status:ie.status||"pending",paymentStatus:ie.paymentStatus||"pending",grandTotal:ie.grandTotal||0,originalOrder:ie,sortDate:new Date(ie.orderTime||ie.createdAt||0)}});i(je)}catch(D){console.error("Error fetching orders:",D),p("Failed to load orders. Please try again.")}finally{u(!1)}}};N.useEffect(()=>{const D=a.filter(R=>{var ne,me,q;if(!v.trim())return!0;const H=v.trim().toLowerCase();return((ne=R.orderId)==null?void 0:ne.toLowerCase().includes(H))||((me=R.tableNumber)==null?void 0:me.toLowerCase().includes(H))||((q=R.customer)==null?void 0:q.toLowerCase().includes(H))});l(D)},[a,v]);const I=D=>{S(D),T(!0)},B=async(D,R)=>{var H,ne;try{const me=D.tableNumber==="Mobile Order"||((H=D.originalOrder)==null?void 0:H.tableNumber)==="Mobile Order",X=((ne=D.originalOrder)==null?void 0:ne.isGuestOrder)!==void 0&&!me?`/staff-order/${D.id}/payment-status`:`/order/${D.id}/payment-status`;console.log(" Payment Status Update:",{orderId:D.orderId,endpoint:X,newPaymentStatus:R}),await Wt(X,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentStatus:R})}),g(`Order ${D.orderId} payment status updated to ${R}`),setTimeout(()=>g(""),3e3),k()}catch(me){console.error("Error updating payment status:",me),p("Failed to update payment status"),setTimeout(()=>p(""),3e3)}},M=async(D,R)=>{var H,ne;try{const me=D.tableNumber==="Mobile Order"||((H=D.originalOrder)==null?void 0:H.tableNumber)==="Mobile Order",q=((ne=D.originalOrder)==null?void 0:ne.isGuestOrder)!==void 0&&!me;console.log(" Status Update Debug:",{orderId:D.orderId,tableNumber:D.tableNumber,isMobileOrder:me,isActualStaffOrder:q,originalOrder:!!D.originalOrder});const X=q?`/staff-order/${D.id}/status`:`/order/${D.id}/status`;let z=R;q||R==="served"&&(z="delivered"),console.log(" Status Update:",{endpoint:X,statusToSend:z,originalStatus:R}),await Wt(X,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:z})}),g(`Order ${D.orderId} status updated to ${R}`),setTimeout(()=>g(""),3e3),k()}catch(me){console.error("Error updating status:",me),p("Failed to update order status"),setTimeout(()=>p(""),3e3)}},L=D=>{const H=D.items.reduce((me,q)=>me+q.price*q.quantity,0),ne=window.open("","_blank","width=302,height=600");ne.document.write(`
      <html>
        <head>
          <title>Bill</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            @page { 
              size: 80mm auto; 
              margin: 0; 
            }
            @media print {
              html, body { 
                width: 80mm; 
                margin: 0; 
                padding: 0;
              }
            }
            body {
              font-family: 'Courier New', Courier, monospace;
              font-size: 11px;
              width: 72mm;
              padding: 3mm;
              line-height: 1.3;
            }
            .center { text-align: center; }
            .right { text-align: right; }
            .bold { font-weight: bold; }
            .line { border-top: 1px dashed #000; margin: 4px 0; }
            .double-line { border-top: 1px solid #000; border-bottom: 1px solid #000; height: 3px; margin: 4px 0; }
            table { width: 100%; border-collapse: collapse; }
            td { padding: 1px 0; vertical-align: top; }
            .item-name { width: 45%; }
            .item-qty { width: 15%; text-align: center; }
            .item-price { width: 40%; text-align: right; }
            h2 { margin: 3px 0; font-size: 14px; }
            p { margin: 2px 0; }
            .footer { margin-top: 8px; font-size: 10px; }
            .total-row { font-size: 13px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="center">
            <h2>HOTEL VIRAT</h2>
            <p>${t.categoryName}</p>
          </div>
          <div class="line"></div>
          
          <p><strong>Bill No:</strong> ${D.orderId}</p>
          <p><strong>Date:</strong> ${D.date}</p>
          <p><strong>Customer:</strong> ${D.customer}</p>
          ${D.tableNumber!=="N/A"?`<p><strong>Table:</strong> ${D.tableNumber}</p>`:""}
          
          <div class="double-line"></div>
          
          <table>
            <tr class="bold">
              <td class="item-name">Item</td>
              <td class="item-qty">Qty</td>
              <td class="item-price">Amount</td>
            </tr>
          </table>
          
          <div class="line"></div>
          
          <table>
            ${D.items.map(me=>`
              <tr>
                <td class="item-name">${me.name}</td>
                <td class="item-qty">${me.quantity}</td>
                <td class="item-price">${me.price*me.quantity}</td>
              </tr>
            `).join("")}
          </table>
          
          <div class="line"></div>
          
          <div class="double-line"></div>
          
          <table>
            <tr class="bold total-row">
              <td>TOTAL</td>
              <td class="right">${H}</td>
            </tr>
          </table>
          
          <div class="double-line"></div>
          
          <div class="center footer">
            <p class="bold">Thank you for your visit!</p>
            <p>Please visit again</p>
            <p>---</p>
          </div>
        </body>
      </html>
    `),ne.document.close(),ne.focus(),setTimeout(()=>{ne.print(),ne.close()},250)},F=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userType"),localStorage.removeItem("categoryStaffData"),e("/login")},_=D=>{var H;const R=(H=D.status)==null?void 0:H.toLowerCase();return R==="pending"||R==="confirmed"},G=D=>{var R;return((R=D.status)==null?void 0:R.toLowerCase())==="preparing"},P=D=>{var H;const R=(H=D.status)==null?void 0:H.toLowerCase();return["served","completed","delivered","out for delivery"].includes(R)};return t?n.jsxs("div",{style:{padding:"20px",maxWidth:"1400px",margin:"0 auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",padding:"15px 20px",backgroundColor:"#4f46e5",borderRadius:"8px",color:"white"},children:[n.jsxs("div",{children:[n.jsx("h1",{style:{margin:0,fontSize:"24px"},children:"Category Orders"}),n.jsxs("p",{style:{margin:"5px 0 0",opacity:.9},children:[t.name," - ",t.categoryName]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("button",{onClick:k,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},children:[n.jsx(ai,{size:16})," Refresh"]}),n.jsxs("button",{onClick:F,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#dc2626",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},children:[n.jsx(nw,{size:16})," Logout"]})]})]}),m&&n.jsxs("div",{className:"success-message",children:[n.jsx(vn,{size:16}),n.jsx("span",{children:m}),n.jsx("button",{onClick:()=>g(""),children:n.jsx(On,{size:16})})]}),!d&&n.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#f0f9ff",color:"#0369a1",borderRadius:"6px",marginBottom:"20px",fontSize:"14px",fontWeight:"500",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("span",{children:["Found ",s.length," order",s.length!==1?"s":""," for ",t.categoryName]}),s.length>10&&n.jsx("span",{style:{fontSize:"12px",opacity:.8},children:" Scroll down to see more orders"})]}),n.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap",alignItems:"center"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:"250px"},children:[n.jsx(Yt,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),n.jsx("input",{type:"text",placeholder:"Search by order ID, table, or customer...",value:v,onChange:D=>j(D.target.value),style:{width:"100%",padding:"10px 10px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"}})]}),n.jsxs("select",{value:b,onChange:D=>y(D.target.value),style:{padding:"10px 15px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",minWidth:"150px"},children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"preparing",children:"Preparing"}),n.jsx("option",{value:"served",children:"Served"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),f&&n.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:18}),n.jsx("span",{children:f})]}),n.jsx("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"auto",maxHeight:"60vh"},children:d?n.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[n.jsx(Gn,{size:24,className:"animate-spin",style:{margin:"0 auto 10px"}}),n.jsx("p",{children:"Loading orders..."})]}):n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"#f9fafb",zIndex:10},children:n.jsxs("tr",{children:[n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Order ID"}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Customer"}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Table"}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Date"}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Payment"}),n.jsxs("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:["Items (",t.categoryName,")"]}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Actions"})]})}),n.jsx("tbody",{children:s.length>0?s.map(D=>n.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[n.jsx("td",{style:{padding:"12px 16px"},children:D.orderId}),n.jsx("td",{style:{padding:"12px 16px"},children:D.customer}),n.jsx("td",{style:{padding:"12px 16px"},children:D.tableNumber}),n.jsx("td",{style:{padding:"12px 16px"},children:D.date}),n.jsx("td",{style:{padding:"8px 12px"},children:n.jsxs("select",{value:D.paymentStatus||"pending",onChange:R=>B(D,R.target.value),style:{padding:"4px 8px",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"12px",backgroundColor:D.paymentStatus==="completed"?"#d1fae5":D.paymentStatus==="failed"?"#fee2e2":D.paymentStatus==="refunded"?"#e0e7ff":"#fef3c7",color:D.paymentStatus==="completed"?"#065f46":D.paymentStatus==="failed"?"#991b1b":D.paymentStatus==="refunded"?"#5b21b6":"#92400e",cursor:"pointer"},children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})}),n.jsx("td",{style:{padding:"12px 16px"},children:D.items.length===0?n.jsxs("div",{style:{fontSize:"13px",color:"#6b7280",fontStyle:"italic"},children:["No ",t.categoryName," items"]}):D.items.map((R,H)=>(console.log(` CategoryOrders - Rendering item ${H}:`,{name:R.name,quantity:R.quantity,price:R.price,categoryId:R.categoryId,categoryName:R.categoryName,fullItem:R}),n.jsxs("div",{style:{fontSize:"13px"},children:[R.name||R.itemName||"Unknown Item"," x ",R.quantity||1]},H)))}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>I(D),style:{padding:"5px 10px",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"View"}),_(D)&&n.jsx("button",{onClick:()=>M(D,"preparing"),style:{padding:"5px 10px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Preparing"}),G(D)&&n.jsx("button",{onClick:()=>M(D,"served"),style:{padding:"5px 10px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Served"}),P(D)&&n.jsxs("button",{onClick:()=>L(D),style:{padding:"5px 10px",backgroundColor:"#6366f1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(ls,{size:12})," Print"]})]})})]},D.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"7",style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:"No orders found for your category"})})})]})}),C&&E&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("h3",{style:{margin:0},children:["Order Details - ",E.orderId]}),n.jsx("button",{onClick:()=>T(!1),style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px"},children:""})]}),n.jsxs("div",{style:{padding:"20px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Customer:"})," ",E.customer]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Type:"})," ",E.customerType]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Mobile:"})," ",E.customerMobile]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Table:"})," ",E.tableNumber]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Date:"})," ",E.date]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Branch:"})," ",E.branch]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textAlign:"center",minWidth:"60px",backgroundColor:E.status==="completed"?"#d1fae5":E.status==="preparing"?"#dbeafe":E.status==="served"?"#e0e7ff":E.status==="cancelled"?"#fee2e2":"#fef3c7",color:E.status==="completed"?"#065f46":E.status==="preparing"?"#1e40af":E.status==="served"?"#5b21b6":E.status==="cancelled"?"#991b1b":"#92400e",border:"1px solid "+(E.status==="completed"?"#10b981":E.status==="preparing"?"#3b82f6":E.status==="served"?"#8b5cf6":E.status==="cancelled"?"#ef4444":"#f59e0b")},children:E.status?E.status.charAt(0).toUpperCase()+E.status.slice(1):"Pending"})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Payment:"})," ",n.jsx("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textAlign:"center",minWidth:"60px",backgroundColor:E.paymentStatus==="completed"?"#d1fae5":E.paymentStatus==="failed"?"#fee2e2":E.paymentStatus==="refunded"?"#e0e7ff":"#fef3c7",color:E.paymentStatus==="completed"?"#065f46":E.paymentStatus==="failed"?"#991b1b":E.paymentStatus==="refunded"?"#5b21b6":"#92400e",border:"1px solid "+(E.paymentStatus==="completed"?"#10b981":E.paymentStatus==="failed"?"#ef4444":E.paymentStatus==="refunded"?"#8b5cf6":"#f59e0b")},children:E.paymentStatus?E.paymentStatus.charAt(0).toUpperCase()+E.paymentStatus.slice(1):"Pending"})]})]}),n.jsxs("h4",{style:{marginBottom:"10px"},children:["Items from ",t.categoryName,":"]}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"15px"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"#f9fafb"},children:[n.jsx("th",{style:{padding:"10px",textAlign:"left",border:"1px solid #e5e7eb"},children:"Item"}),n.jsx("th",{style:{padding:"10px",textAlign:"center",border:"1px solid #e5e7eb"},children:"Qty"}),n.jsx("th",{style:{padding:"10px",textAlign:"right",border:"1px solid #e5e7eb"},children:"Price"})]})}),n.jsx("tbody",{children:E.items.map((D,R)=>n.jsxs("tr",{children:[n.jsx("td",{style:{padding:"10px",border:"1px solid #e5e7eb"},children:D.name}),n.jsx("td",{style:{padding:"10px",textAlign:"center",border:"1px solid #e5e7eb"},children:D.quantity}),n.jsxs("td",{style:{padding:"10px",textAlign:"right",border:"1px solid #e5e7eb"},children:["",(D.price*D.quantity).toFixed(2)]})]},R))})]})]}),n.jsxs("div",{style:{padding:"16px 20px",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[_(E)&&n.jsx("button",{onClick:()=>{M(E,"preparing"),T(!1)},style:{padding:"8px 16px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Mark Preparing"}),G(E)&&n.jsx("button",{onClick:()=>{M(E,"served"),T(!1)},style:{padding:"8px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Mark Served"}),P(E)&&n.jsxs("button",{onClick:()=>L(E),style:{padding:"8px 16px",backgroundColor:"#6366f1",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(ls,{size:16})," Print Bill"]})]}),n.jsx("button",{onClick:()=>T(!1),style:{padding:"8px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Close"})]})]})})]}):n.jsx("div",{className:"loading-container",children:n.jsx(Gn,{size:24,className:"animate-spin"})})},Hfe=`
  .status-badge {
    display: inline-block;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
    text-transform: capitalize;
    min-width: 60px;
    text-align: center;
  }
  
  .status-badge.pending {
    background: #fef3c7;
    color: #92400e;
    border: 1px solid #f59e0b;
  }
  
  .status-badge.preparing {
    background: #dbeafe;
    color: #1e40af;
    border: 1px solid #3b82f6;
  }
  
  .status-badge.served {
    background: #e0e7ff;
    color: #5b21b6;
    border: 1px solid #8b5cf6;
  }
  
  .status-badge.completed {
    background: #d1fae5;
    color: #065f46;
    border: 1px solid #10b981;
  }
  
  .status-badge.cancelled {
    background: #fee2e2;
    color: #991b1b;
    border: 1px solid #ef4444;
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.type="text/css",e.innerText=Hfe,document.head.appendChild(e)}const Gfe=({user:e,onClose:t,onSave:r,branches:a,isEditMode:i})=>{const[s,l]=N.useState({name:(e==null?void 0:e.name)||"",username:(e==null?void 0:e.username)||"",password:"",branchId:(e==null?void 0:e.branchId)||"",branchName:(e==null?void 0:e.branchName)||"",isActive:(e==null?void 0:e.isActive)!==!1}),[d,u]=N.useState(!1),[f,p]=N.useState(null),[m,g]=N.useState(!1),v=b=>{const{name:y,value:C,type:T,checked:E}=b.target;if(y==="branchId"){const S=a.find(A=>A._id===C);l({...s,branchId:C,branchName:(S==null?void 0:S.name)||""})}else l({...s,[y]:T==="checkbox"?E:C});p(null)},j=async b=>{b.preventDefault(),p(null),g(!0);try{if(!i&&!s.password)throw new Error("Password is required");await r(s,e==null?void 0:e._id),t()}catch(y){p(y.message||"Failed to save receptionist")}finally{g(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:i?"Edit Receptionist":"Add Receptionist"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{className:"modal-body",children:[f&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626",padding:"10px",borderRadius:"4px",marginBottom:"15px"},children:f}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"branchId",children:"Branch"}),n.jsxs("select",{id:"branchId",name:"branchId",className:"form-select",value:s.branchId,onChange:v,disabled:m,children:[n.jsx("option",{value:"",children:"All Branches"}),a.map(b=>n.jsx("option",{value:b._id,children:b.name},b._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Receptionist Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:s.name,onChange:v,required:!0,disabled:m,placeholder:"Enter receptionist name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"username",children:["Username ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"username",name:"username",className:"form-input",value:s.username,onChange:v,required:!0,disabled:m,placeholder:"Enter username for login"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"password",children:["Password ",!i&&n.jsx("span",{className:"required",children:"*"})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("input",{type:d?"text":"password",id:"password",name:"password",className:"form-input",value:s.password,onChange:v,required:!i,disabled:m,placeholder:i?"Leave blank to keep current":"Enter password",style:{paddingRight:"40px"}}),n.jsx("button",{type:"button",onClick:()=>u(!d),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#6b7280"},children:d?n.jsx(rw,{size:18}):n.jsx(ci,{size:18})})]})]}),i&&n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"checkbox",name:"isActive",checked:s.isActive,onChange:v,disabled:m}),"Active"]})})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:m,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Saving...":i?"Update":"Add Receptionist"})]})]})]})})},Vfe=({user:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error("Error deleting:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Receptionist"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Yfe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(!1),[u,f]=N.useState(null),[p,m]=N.useState(!1),[g,v]=N.useState(null),[j,b]=N.useState(""),[y,C]=N.useState(""),[T,E]=N.useState(!1),S="https://hotelvirat.com/api/v1/hotel/receptionist-access",A="https://hotelvirat.com/api/v1/hotel/branch",k=async()=>{try{const D=await fetch(A);if(!D.ok)throw new Error("Failed to fetch branches");const R=await D.json();a(Array.isArray(R)?R:[])}catch(D){console.error("Error fetching branches:",D)}},I=async()=>{E(!0),C("");try{const D=await fetch(S);if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const R=await D.json();let H=[];R.success&&Array.isArray(R.data)?H=R.data:Array.isArray(R)?H=R:R.message&&R.message.includes("routes working")&&(H=[]),t(H)}catch(D){console.error("Fetch error:",D),C(`Failed to fetch receptionists: ${D.message}`),t([])}finally{E(!1)}};N.useEffect(()=>{k(),I()},[]);const B=()=>{f(null),d(!0)},M=D=>{f(D),d(!0)},L=D=>{v(D),m(!0)},F=async(D,R)=>{try{const H=R?`${S}/${R}`:S,ne=R?"PUT":"POST",me={...D};R&&!me.password&&delete me.password;const q=await fetch(H,{method:ne,headers:{"Content-Type":"application/json"},body:JSON.stringify(me)}),X=await q.json();if(!q.ok)throw new Error(X.message||"Failed to save");b(`Receptionist ${R?"updated":"added"} successfully`),setTimeout(()=>b(""),3e3),await I()}catch(H){throw new Error(H.message)}},_=async D=>{try{const R=await fetch(`${S}/${D}`,{method:"DELETE"}),H=await R.json();if(!R.ok)throw new Error(H.message||"Failed to delete");b("Receptionist deleted successfully"),setTimeout(()=>b(""),3e3),await I()}catch(R){C(R.message),setTimeout(()=>C(""),3e3)}},G=D=>D?new Date(D).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"N/A",P=e.filter(D=>{var R,H,ne;return((R=D.name)==null?void 0:R.toLowerCase().includes(i.toLowerCase()))||((H=D.username)==null?void 0:H.toLowerCase().includes(i.toLowerCase()))||((ne=D.branchName)==null?void 0:ne.toLowerCase().includes(i.toLowerCase()))});return n.jsxs("div",{className:"receptionist-access-page",children:[j&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),children:""})]}),y&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:y}),n.jsx("button",{onClick:()=>C(""),style:{color:"#dc2626"},children:""})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Receptionist Access"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:B,disabled:T,children:[n.jsx(Hc,{size:16}),n.jsx("span",{children:"Add Receptionist"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by name, username or branch...",className:"search-input",value:i,onChange:D=>s(D.target.value)})]})}),n.jsx("div",{className:"data-card",children:T?n.jsx("div",{className:"empty-state",children:"Loading..."}):P.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No receptionists found. ",i?"Try a different search.":"Add a new receptionist to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Username"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Created"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:P.map(D=>{var R;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:(R=D.name)==null?void 0:R.charAt(0).toUpperCase()}),D.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(LD,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),D.username]})}),n.jsx("td",{children:D.branchName||"All Branches"}),n.jsx("td",{children:n.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:D.isActive?"#dcfce7":"#fee2e2",color:D.isActive?"#166534":"#dc2626"},children:D.isActive?"Active":"Inactive"})}),n.jsx("td",{children:G(D.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>M(D),disabled:T,children:n.jsx(zn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>L(D),disabled:T,children:n.jsx(Qn,{size:14})})]})})]},D._id)})})]})}),l&&n.jsx(Gfe,{user:u,onClose:()=>d(!1),onSave:F,branches:r,isEditMode:!!u}),p&&n.jsx(Vfe,{user:g,onClose:()=>m(!1),onConfirm:_})]})},Xfe="https://hotelvirat.com/api/v1/hotel",Hn=Tt.create({baseURL:Xfe,headers:{"Content-Type":"application/json"}}),Kfe=({room:e,onClose:t,onBook:r})=>{const[a,i]=N.useState({guestName:"",guestPhone:"",guestEmail:"",guestGstNumber:"",aadhaarNumber:"",panNumber:"",checkInDate:new Date().toISOString().split("T")[0],checkOutDate:new Date(Date.now()+864e5).toISOString().split("T")[0],checkInTime:"12:00",checkOutTime:"11:00",gstType:"none",discountPercent:"",amountPaid:"",paymentMethod:"cash"}),[s,l]=N.useState(!1),[d,u]=N.useState(""),[f,p]=N.useState(!1),[m,g]=N.useState("checkIn"),[v,j]=N.useState(new Date),[b,y]=N.useState({}),[C,T]=N.useState(!1),S=(()=>{const U=new Date(a.checkInDate),ee=new Date(a.checkOutDate),le=Math.ceil((ee-U)/(1e3*60*60*24));return le>0?le:1})(),A=e.price*S,k=parseFloat(a.discountPercent)||0,I=A*k/100,B=A-I,M=a.gstType==="gst"?B*.025:0,L=a.gstType==="gst"?B*.025:0,F=a.gstType==="igst"?B*.05:0,_=M+L+F,G=B+_,P=U=>{const{name:ee,value:le}=U.target;i({...a,[ee]:le}),u("")},D=async(U,ee,le)=>{try{const ce=await Hn.get("/room-booking"),ie=(ce.data.bookings||ce.data||[]).filter(Ne=>{var Ye;return(((Ye=Ne.roomId)==null?void 0:Ye._id)||Ne.roomId)===U&&Ne.status!=="cancelled"}),ve={};return ie.forEach(Ne=>{const ge=new Date(Ne.checkInDate),Ye=new Date(Ne.checkOutDate),Te=new Date(ge);for(;Te<Ye;){const qe=Te.toISOString().split("T")[0],V=Te.getFullYear(),fe=Te.getMonth();V===ee&&fe===le&&(ve[qe]||(ve[qe]=[]),ve[qe].push({bookingId:Ne._id,guestName:Ne.userName,checkIn:Ne.checkInDate,checkOut:Ne.checkOutDate,status:Ne.status})),Te.setDate(Te.getDate()+1)}}),ve}catch(ce){return console.error("Error fetching room bookings:",ce),{}}},R=async(U,ee,le)=>{if(U){T(!0);try{const ce=await D(U,ee,le),je={},ie=new Date(ee,le+1,0).getDate();for(let ve=1;ve<=ie;ve++){const Ne=`${ee}-${String(le+1).padStart(2,"0")}-${String(ve).padStart(2,"0")}`,ge=ce[Ne]||[];je[Ne]={date:Ne,bookings:ge,hasBookings:ge.length>0,isFullyBooked:!1}}y(je)}catch(ce){console.error("Error fetching monthly bookings:",ce)}finally{T(!1)}}},H=U=>{g(U);const ee=new Date;j(ee),p(!0),y({}),e&&e._id&&R(e._id,ee.getFullYear(),ee.getMonth())},ne=U=>{const ee=new Date(v);ee.setMonth(ee.getMonth()+U),j(ee),e&&e._id&&R(e._id,ee.getFullYear(),ee.getMonth())},me=U=>{const ee=v.getFullYear(),le=String(v.getMonth()+1).padStart(2,"0"),ce=String(U).padStart(2,"0"),je=`${ee}-${le}-${ce}`;i(m==="checkIn"?{...a,checkInDate:je}:{...a,checkOutDate:je}),p(!1)},q=U=>{const ee=new Date;return ee.setHours(0,0,0,0),new Date(v.getFullYear(),v.getMonth(),U)<ee},X=U=>{const ee=v.getFullYear(),le=String(v.getMonth()+1).padStart(2,"0"),ce=String(U).padStart(2,"0"),je=`${ee}-${le}-${ce}`,ie=b[je];return(ie==null?void 0:ie.hasBookings)||!1},z=U=>{const ee=U.getFullYear(),le=U.getMonth(),ce=new Date(ee,le+1,0).getDate(),je=new Date(ee,le,1).getDay();return{daysInMonth:ce,firstDay:je}},te=async U=>{var ee,le;U.preventDefault(),l(!0),u("");try{if(!((ee=a.guestName)!=null&&ee.trim()))throw new Error("Guest name is required");if(!((le=a.guestPhone)!=null&&le.trim()))throw new Error("Guest phone number is required");if(!a.checkInDate)throw new Error("Check-in date is required");if(!a.checkOutDate)throw new Error("Check-out date is required");if(!/^[0-9]{10}$/.test(a.guestPhone.replace(/\D/g,"")))throw new Error("Please enter a valid 10-digit phone number");const je=new Date(a.checkInDate),ie=new Date(a.checkOutDate),ve=new Date;if(ve.setHours(0,0,0,0),je<ve)throw new Error("Check-in date cannot be in the past");if(ie<=je)throw new Error("Check-out date must be after check-in date");if(a.aadhaarNumber&&a.aadhaarNumber.trim()&&!/^\d{12}$/.test(a.aadhaarNumber.trim()))throw new Error("Aadhaar number must be exactly 12 digits");if(a.panNumber&&a.panNumber.trim()&&!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(a.panNumber.trim().toUpperCase()))throw new Error("PAN number must be in format: ABCDE1234F");const Ne=parseFloat(a.amountPaid)||0,ge=a.paymentMethod||"cash",Ye={roomId:e._id,branchId:e.branchId,userName:a.guestName,userPhone:a.guestPhone,userEmail:a.guestEmail,guestGstNumber:a.guestGstNumber,aadhaarNumber:a.aadhaarNumber?a.aadhaarNumber.trim():"",panNumber:a.panNumber?a.panNumber.trim().toUpperCase():"",checkInDate:a.checkInDate,checkOutDate:a.checkOutDate,checkInTime:a.checkInTime,checkOutTime:a.checkOutTime,nights:S,baseAmount:A,discountPercent:k||0,discountAmount:I||0,gstType:a.gstType,cgst:M,sgst:L,igst:F,totalPrice:G,amountPaid:Ne,cashAmount:ge==="cash"?Ne:0,onlineAmount:ge==="online"?Ne:0,status:"checked-in",paymentStatus:Ne>=G?"paid":"pending",payments:Ne>0?[{amount:Ne,method:ge,date:new Date}]:[]};await r(Ye),t()}catch(ce){console.error("Booking error:",ce);let je="Failed to book room";if(ce.response){const{status:ie,data:ve}=ce.response;ie===400?ve.message?je=ve.message:ve.error?je=ve.error:typeof ve=="string"?je=ve:je="Invalid booking data. Please check all required fields.":ie===404?je="Room not found. Please refresh and try again.":ie===409?je="Room is already booked for the selected dates.":ie>=500&&(je="Server error. Please try again later.")}else ce.request?je="Network error. Please check your connection and try again.":je=ce.message||"An unexpected error occurred";u(je)}finally{l(!1)}};return n.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:[n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"white",position:"relative",zIndex:10},children:[n.jsxs("h3",{style:{margin:0},children:["Book Room ",e.roomNumber]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px"},children:""})]}),d&&n.jsxs("div",{style:{padding:"12px 20px",backgroundColor:"#fee2e2",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px",borderBottom:"1px solid #fecaca",position:"relative",zIndex:10},children:[n.jsx($t,{size:16}),n.jsx("span",{style:{fontSize:"14px",fontWeight:"500"},children:d}),n.jsx("button",{onClick:()=>u(""),style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer",color:"#dc2626",fontSize:"18px",padding:"0 4px"},children:""})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px"},children:n.jsxs("form",{onSubmit:te,children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0fdf4",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Room Details"}),n.jsxs("p",{style:{margin:"5px 0"},children:[n.jsx("strong",{children:"Type:"})," ",e.roomType]}),n.jsxs("p",{style:{margin:"5px 0"},children:[n.jsx("strong",{children:"Floor:"})," ",e.floor]}),n.jsxs("p",{style:{margin:"5px 0"},children:[n.jsx("strong",{children:"Basic Price:"})," ",e.price,"/night ",n.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"(excl. GST)"})]})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(xc,{size:14,style:{marginRight:"6px"}}),"Guest Name *"]}),n.jsx("input",{type:"text",name:"guestName",value:a.guestName,onChange:P,required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter guest name"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(oi,{size:14,style:{marginRight:"6px"}}),"Phone *"]}),n.jsx("input",{type:"tel",name:"guestPhone",value:a.guestPhone,onChange:P,required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter phone number"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(eo,{size:14,style:{marginRight:"6px"}}),"Email"]}),n.jsx("input",{type:"email",name:"guestEmail",value:a.guestEmail,onChange:P,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter email (optional)"})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"20px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[n.jsx("h4",{style:{margin:"0 0 8px",fontSize:"16px",color:"#334155",fontWeight:"600"},children:"Identity Documents (Optional)"}),n.jsx("p",{style:{margin:"0 0 20px",fontSize:"14px",color:"#64748b",lineHeight:"1.5"},children:"Enter Aadhaar card and/or PAN card numbers for guest verification. Both are optional but recommended for corporate bookings."}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:" Aadhaar Number"}),n.jsx("input",{type:"text",name:"aadhaarNumber",value:a.aadhaarNumber||"",onChange:P,style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"},placeholder:"Enter 12-digit Aadhaar number",maxLength:12,pattern:"[0-9]{12}"}),n.jsx("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:"12-digit number (e.g., 123456789012)"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:" PAN Number"}),n.jsx("input",{type:"text",name:"panNumber",value:a.panNumber||"",onChange:U=>{const ee=U.target.value.toUpperCase();P({target:{name:"panNumber",value:ee}})},style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",textTransform:"uppercase"},placeholder:"Enter PAN number",maxLength:10,pattern:"[A-Z]{5}[0-9]{4}[A-Z]{1}"}),n.jsx("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:"10-character format (e.g., ABCDE1234F)"})]})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(Tr,{size:14,style:{marginRight:"6px"}}),"Check-in Date"]}),n.jsxs("button",{type:"button",onClick:()=>H("checkIn"),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Tr,{size:16}),a.checkInDate?new Date(a.checkInDate).toLocaleDateString():"Select Date"]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Check-out Date"}),n.jsxs("button",{type:"button",onClick:()=>H("checkOut"),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Tr,{size:16}),a.checkOutDate?new Date(a.checkOutDate).toLocaleDateString():"Select Date"]})]})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"GST Option"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:a.gstType==="none"?"2px solid #4f46e5":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.gstType==="none"?"#eef2ff":"white"},children:[n.jsx("input",{type:"radio",name:"gstType",value:"none",checked:a.gstType==="none",onChange:P}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Without GST"}),n.jsx("span",{style:{display:"block",fontSize:"12px",color:"#6b7280"},children:"Basic price only"})]})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:a.gstType==="gst"?"2px solid #4f46e5":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.gstType==="gst"?"#eef2ff":"white"},children:[n.jsx("input",{type:"radio",name:"gstType",value:"gst",checked:a.gstType==="gst",onChange:P}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"With GST (Within State)"}),n.jsx("span",{style:{display:"block",fontSize:"12px",color:"#6b7280"},children:"CGST 2.5% + SGST 2.5% = 5%"})]})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:a.gstType==="igst"?"2px solid #4f46e5":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.gstType==="igst"?"#eef2ff":"white"},children:[n.jsx("input",{type:"radio",name:"gstType",value:"igst",checked:a.gstType==="igst",onChange:P}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"With IGST (Out of State)"}),n.jsx("span",{style:{display:"block",fontSize:"12px",color:"#6b7280"},children:"IGST 5%"})]})]})]})]}),(a.gstType==="gst"||a.gstType==="igst")&&n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Guest GST Number"}),n.jsx("input",{type:"text",name:"guestGstNumber",value:a.guestGstNumber,onChange:P,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter guest's GST number (e.g., 22AAAAA0000A1Z5)",maxLength:15}),n.jsx("span",{style:{fontSize:"11px",color:"#6b7280"},children:"15-digit GST Identification Number"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Discount (%)"}),n.jsx("input",{type:"number",name:"discountPercent",value:a.discountPercent,onChange:P,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter discount percentage (0-100)",min:"0",max:"100",step:"0.01"}),k>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#059669"},children:["Discount Amount: ",I.toFixed(2)]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Price Summary"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[n.jsxs("span",{children:["Basic Price (",e.price," x ",S," night",S>1?"s":"",")"]}),n.jsxs("span",{children:["",A.toFixed(2)]})]}),k>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#059669",fontSize:"14px"},children:[n.jsxs("span",{children:["Discount (",k,"%)"]}),n.jsxs("span",{children:["- ",I.toFixed(2)]})]}),k>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontWeight:"500"},children:[n.jsx("span",{children:"Amount After Discount"}),n.jsxs("span",{children:["",B.toFixed(2)]})]}),a.gstType==="gst"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("span",{children:"CGST (2.5%)"}),n.jsxs("span",{children:["",M.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("span",{children:"SGST (2.5%)"}),n.jsxs("span",{children:["",L.toFixed(2)]})]})]}),a.gstType==="igst"&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("span",{children:"IGST (5%)"}),n.jsxs("span",{children:["",F.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",borderTop:"1px solid #e5e7eb",paddingTop:"10px",marginTop:"10px"},children:[n.jsx("span",{children:"Total Amount"}),n.jsxs("span",{children:["",G.toFixed(2)]})]})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Amount Paid ()"}),n.jsx("input",{type:"number",name:"amountPaid",value:a.amountPaid,onChange:P,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:`Enter amount paid (Total: ${G.toFixed(2)})`,min:"0",max:G}),a.amountPaid&&parseFloat(a.amountPaid)<G&&n.jsxs("span",{style:{fontSize:"12px",color:"#f59e0b"},children:["Balance Due: ",(G-parseFloat(a.amountPaid||0)).toFixed(2)]}),a.amountPaid&&parseFloat(a.amountPaid)>=G&&n.jsx("span",{style:{fontSize:"12px",color:"#059669"},children:" Fully Paid"})]}),a.amountPaid&&parseFloat(a.amountPaid)>0&&n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Payment Method"}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",padding:"12px",border:a.paymentMethod==="cash"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.paymentMethod==="cash"?"#f0fdf4":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:a.paymentMethod==="cash",onChange:P,style:{display:"none"}}),n.jsx("span",{style:{fontSize:"20px"},children:""}),n.jsx("span",{style:{fontWeight:"500",color:a.paymentMethod==="cash"?"#059669":"#374151"},children:"Cash"})]}),n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",padding:"12px",border:a.paymentMethod==="online"?"2px solid #3b82f6":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.paymentMethod==="online"?"#eff6ff":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:a.paymentMethod==="online",onChange:P,style:{display:"none"}}),n.jsx("span",{style:{fontSize:"20px"},children:""}),n.jsx("span",{style:{fontWeight:"500",color:a.paymentMethod==="online"?"#3b82f6":"#374151"},children:"Online"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #e5e7eb"},children:[n.jsx("button",{type:"button",onClick:t,style:{flex:1,padding:"12px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",cursor:"pointer",fontWeight:"500"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:s,style:{flex:1,padding:"12px",border:"none",borderRadius:"6px",backgroundColor:s?"#9ca3af":"#4f46e5",color:"white",cursor:s?"not-allowed":"pointer",fontWeight:"500"},children:s?"Booking...":"Confirm Booking"})]})]})})]}),f&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"20px",width:"90%",maxWidth:"400px",maxHeight:"80vh",overflow:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("button",{onClick:()=>ne(-1),disabled:C,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",padding:"5px"},children:""}),n.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:v.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),n.jsx("button",{onClick:()=>ne(1),disabled:C,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",padding:"5px"},children:""})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:"15px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"6px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#22c55e"}}),n.jsx("span",{style:{fontSize:"12px"},children:"Available"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#dc2626"}}),n.jsx("span",{style:{fontSize:"12px"},children:"Booked"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#9ca3af"}}),n.jsx("span",{style:{fontSize:"12px"},children:"Past"})]})]}),C&&n.jsx("div",{style:{textAlign:"center",padding:"10px",color:"#6b7280"},children:"Loading availability..."}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",marginBottom:"10px"},children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(U=>n.jsx("div",{style:{textAlign:"center",padding:"8px",fontSize:"12px",fontWeight:"600",color:"#6b7280"},children:U},U))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",marginBottom:"20px"},children:(()=>{const{daysInMonth:U,firstDay:ee}=z(v),le=[];for(let ce=0;ce<ee;ce++)le.push(n.jsx("div",{style:{aspectRatio:"1",padding:"8px"}},`empty-${ce}`));for(let ce=1;ce<=U;ce++){const je=q(ce),ie=X(ce),ve=!je;le.push(n.jsxs("button",{onClick:()=>ve&&me(ce),disabled:!ve,style:{aspectRatio:"1",border:ve?"1px solid #e5e7eb":"1px solid #fca5a5",borderRadius:"6px",backgroundColor:je?"#f3f4f6":ve?"white":"#fee2e2",color:je?"#9ca3af":ve?"#000":"#dc2626",cursor:ve?"pointer":"not-allowed",fontSize:"14px",fontWeight:"500",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseOver:Ne=>{ve&&(Ne.target.style.backgroundColor="#f0f9ff",Ne.target.style.borderColor="#3b82f6")},onMouseOut:Ne=>{ve&&(Ne.target.style.backgroundColor="white",Ne.target.style.borderColor="#e5e7eb")},children:[ce,ie&&!je&&n.jsx("div",{style:{position:"absolute",top:"3px",right:"3px",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#dc2626",border:"1px solid white",boxShadow:"0 1px 2px rgba(0,0,0,0.1)"}}),!ie&&!je&&n.jsx("div",{style:{position:"absolute",top:"3px",right:"3px",width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#22c55e",opacity:.7}})]},ce))}return le})()}),n.jsx("div",{style:{textAlign:"center",fontSize:"11px",color:"#6b7280",marginBottom:"15px",padding:"8px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:" Available for booking   Already booked (unavailable)   Today  Red background = Date conflicts with existing bookings"}),n.jsx("button",{onClick:()=>p(!1),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",cursor:"pointer",fontWeight:"500"},children:"Cancel"})]})})]})},Qfe=({booking:e,onClose:t,onAddBill:r,onRemoveBill:a})=>{var j,b,y;const[i,s]=N.useState(""),[l,d]=N.useState(""),[u,f]=N.useState(!1),[p,m]=N.useState(""),g=async C=>{C.preventDefault(),m(""),f(!0);try{if(!i||parseFloat(i)<=0)throw new Error("Please enter a valid amount");if(!l.trim())throw new Error("Please enter a description");await r(e._id,{amount:parseFloat(i),description:l.trim()}),s(""),d("")}catch(T){m(T.message)}finally{f(!1)}},v=C=>new Date(C).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f59e0b",color:"white"},children:[n.jsxs("h3",{style:{margin:0},children:["Restaurant Bills - Room ",(j=e.roomId)==null?void 0:j.roomNumber]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",color:"white"},children:""})]}),n.jsxs("div",{style:{padding:"20px"},children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0fdf4",borderRadius:"8px"},children:[n.jsxs("h4",{style:{margin:"0 0 10px"},children:["Guest: ",e.userName]}),n.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#6b7280"},children:["Room ",(b=e.roomId)==null?void 0:b.roomNumber,"  ",e.userPhone]})]}),p&&n.jsx("div",{style:{padding:"10px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",marginBottom:"15px"},children:p}),n.jsxs("form",{onSubmit:g,style:{marginBottom:"30px",padding:"20px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 15px",color:"#374151"},children:"Add Restaurant Bill"}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Amount ()"}),n.jsx("input",{type:"number",value:i,onChange:C=>s(C.target.value),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter amount",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Description"}),n.jsx("input",{type:"text",value:l,onChange:C=>d(C.target.value),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"e.g., Lunch, Dinner, Room Service",required:!0})]}),n.jsx("button",{type:"submit",disabled:u,style:{padding:"10px 20px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:u?"not-allowed":"pointer",fontWeight:"500"},children:u?"Adding...":"Add Bill"})]}),n.jsxs("div",{children:[n.jsxs("h4",{style:{margin:"0 0 15px",color:"#374151"},children:["Restaurant Bills (",((y=e.restaurantBills)==null?void 0:y.length)||0,")",e.restaurantTotal>0&&n.jsxs("span",{style:{color:"#dc2626",fontWeight:"600",marginLeft:"10px"},children:["Total: ",e.restaurantTotal.toFixed(2)]})]}),e.restaurantBills&&e.restaurantBills.length>0?n.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:e.restaurantBills.map((C,T)=>n.jsxs("div",{style:{padding:"12px",backgroundColor:"white",borderRadius:"6px",border:"1px solid #e5e7eb",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontWeight:"500",color:"#374151"},children:C.description}),n.jsxs("div",{style:{fontSize:"12px",color:"#6b7280"},children:[v(C.date||C.createdAt),"  Added by ",C.addedBy||"Receptionist"]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsxs("span",{style:{fontWeight:"600",color:"#dc2626"},children:["",C.amount.toFixed(2)]}),n.jsx("button",{onClick:()=>a(e._id,C._id),style:{padding:"4px 8px",backgroundColor:"#fee2e2",color:"#dc2626",border:"1px solid #fecaca",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"Remove bill",children:"Remove"})]})]},C._id||T))}):n.jsx("p",{style:{color:"#6b7280",fontStyle:"italic"},children:"No restaurant bills added yet."})]}),n.jsx("div",{style:{marginTop:"20px",textAlign:"center"},children:n.jsx("button",{onClick:t,style:{padding:"10px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Close"})})]})]})})},Zfe=({booking:e,onClose:t,onCheckout:r,onUpdatePayment:a})=>{var I;const[i,s]=N.useState(""),[l,d]=N.useState("cash"),[u,f]=N.useState(!1),[p,m]=N.useState(""),g=e.totalPrice||0,v=e.restaurantTotal||0,j=g+v,b=e.amountPaid||0,y=e.cashAmount||0,C=e.onlineAmount||0,T=j-b,E=async()=>{const B=parseFloat(i)||0;if(B<=0){m("Please enter a valid amount");return}f(!0),m("");try{await a(e._id,b+B,l,B),s("")}catch(M){m(M.message||"Failed to update payment")}finally{f(!1)}},S=async()=>{f(!0),m("");try{await r(e._id),t()}catch(B){m(B.message||"Failed to checkout")}finally{f(!1)}},A=B=>B?new Date(B).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",k=()=>{var L,F,_;const B=window.open("","_blank"),M=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Hotel Virat - Bill</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 15px; }
          .header img { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin-bottom: 10px; }
          .header h1 { font-size: 24px; margin-bottom: 5px; }
          .header p { font-size: 12px; color: #666; }
          .header .gst { font-size: 11px; color: #333; font-weight: bold; margin-top: 5px; }
          .bill-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .bill-info p { font-size: 13px; margin: 4px 0; }
          .guest-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .guest-info h3 { font-size: 14px; margin-bottom: 8px; }
          .guest-info p { font-size: 13px; margin: 4px 0; }
          .stay-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .stay-info h3 { font-size: 14px; margin-bottom: 8px; }
          .stay-info p { font-size: 13px; margin: 4px 0; }
          .charges { margin-bottom: 15px; }
          .charges h3 { font-size: 14px; margin-bottom: 8px; }
          .charge-row { display: flex; justify-content: space-between; font-size: 13px; margin: 5px 0; }
          .charge-row.total { font-weight: bold; font-size: 16px; border-top: 2px solid #000; padding-top: 10px; margin-top: 10px; }
          .footer { text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px dashed #ccc; }
          .footer p { font-size: 12px; color: #666; margin: 3px 0; }
          @media print { body { padding: 10px; } }
        </style>
      </head>
      <body>
        <div class="header">
          <img src="${rd}" alt="Hotel Virat Logo" />
          <h1>HOTEL VIRAT</h1>
          <p>Your Comfort, Our Priority</p>
          <p class="gst">GSTIN: 29AGZPV1558K2Z6</p>
        </div>
        
        <div class="bill-info">
          <p><strong>Bill No:</strong> ${((L=e._id)==null?void 0:L.slice(-8).toUpperCase())||"N/A"}</p>
          <p><strong>Date:</strong> ${new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
          <p><strong>Room No:</strong> ${((F=e.roomId)==null?void 0:F.roomNumber)||"N/A"}</p>
          <p><strong>Room Type:</strong> ${((_=e.roomId)==null?void 0:_.roomType)||"N/A"}</p>
        </div>
        
        <div class="guest-info">
          <h3>Guest Details</h3>
          <p><strong>Name:</strong> ${e.userName||"N/A"}</p>
          <p><strong>Phone:</strong> ${e.userPhone||"N/A"}</p>
          ${e.userEmail?`<p><strong>Email:</strong> ${e.userEmail}</p>`:""}
          ${e.guestGstNumber?`<p><strong>GSTIN:</strong> ${e.guestGstNumber}</p>`:""}
        </div>
        
        <div class="stay-info">
          <h3>Stay Details</h3>
          <p><strong>Check-in:</strong> ${A(e.checkInDate)} at ${e.checkInTime||"12:00"}</p>
          <p><strong>Check-out:</strong> ${A(e.checkOutDate)} at ${e.checkOutTime||"11:00"}</p>
          <p><strong>No. of Nights:</strong> ${e.nights||1}</p>
        </div>
        
        <div class="charges">
          <h3>Room Charges</h3>
          <div class="charge-row">
            <span>Room Charges (${e.nights||1} night${(e.nights||1)>1?"s":""})</span>
            <span>${(e.baseAmount||0).toFixed(2)}</span>
          </div>
          ${e.gstType==="gst"?`
            <div class="charge-row">
              <span>CGST (2.5%)</span>
              <span>${(e.cgst||0).toFixed(2)}</span>
            </div>
            <div class="charge-row">
              <span>SGST (2.5%)</span>
              <span>${(e.sgst||0).toFixed(2)}</span>
            </div>
          `:""}
          ${e.gstType==="igst"?`
            <div class="charge-row">
              <span>IGST (5%)</span>
              <span>${(e.igst||0).toFixed(2)}</span>
            </div>
          `:""}
          <div class="charge-row total">
            <span>Total Amount</span>
            <span>${g.toFixed(2)}</span>
          </div>
        </div>
        
        <div class="footer">
          <p>Thank you for staying with us!</p>
          <p>We hope to see you again soon.</p>
          <p style="margin-top: 10px; font-size: 10px;">This is a computer generated bill.</p>
        </div>
      </body>
      </html>
    `;B.document.write(M),B.document.close(),B.focus(),setTimeout(()=>{B.print()},250)};return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#fef2f2"},children:[n.jsxs("h3",{style:{margin:0},children:["Room ",(I=e.roomId)==null?void 0:I.roomNumber," - Checkout"]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px"},children:""})]}),n.jsxs("div",{style:{padding:"20px"},children:[p&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",marginBottom:"15px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:16}),p]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Guest Details"}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Name:"})," ",e.userName]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Phone:"})," ",e.userPhone]}),e.userEmail&&n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Email:"})," ",e.userEmail]}),e.guestGstNumber&&n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"GSTIN:"})," ",e.guestGstNumber]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0fdf4",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Stay Details"}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Check-in:"})," ",A(e.checkInDate)," at ",e.checkInTime]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Check-out:"})," ",A(e.checkOutDate)," at ",e.checkOutTime]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Nights:"})," ",e.nights]}),e.actualCheckInTime&&n.jsxs("p",{style:{margin:"8px 0 5px",fontSize:"13px",color:"#059669",fontWeight:"500"},children:[" ",n.jsx("strong",{children:"Actual Check-in:"})," ",new Date(e.actualCheckInTime).toLocaleString()]}),e.actualCheckOutTime&&n.jsxs("p",{style:{margin:"5px 0",fontSize:"13px",color:"#059669",fontWeight:"500"},children:[" ",n.jsx("strong",{children:"Actual Check-out:"})," ",new Date(e.actualCheckOutTime).toLocaleString()]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#fef3c7",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Payment Summary"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"14px"},children:[n.jsx("span",{children:"Room Charges:"}),n.jsxs("span",{children:["",g.toFixed(2)]})]}),v>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"14px",color:"#dc2626"},children:[n.jsx("span",{children:"Restaurant Bills:"}),n.jsxs("span",{children:["",v.toFixed(2)]})]}),e.gstType&&e.gstType!=="none"&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"14px",color:"#6b7280"},children:[n.jsxs("span",{children:["GST (",e.gstType==="gst"?"CGST+SGST":"IGST","):"]}),n.jsxs("span",{children:["",((e.cgst||0)+(e.sgst||0)+(e.igst||0)).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontWeight:"bold",borderTop:"1px solid #e5e7eb",paddingTop:"8px"},children:[n.jsx("span",{children:"Grand Total:"}),n.jsxs("span",{children:["",j.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"14px",color:"#059669"},children:[n.jsx("span",{children:"Amount Paid:"}),n.jsxs("span",{children:["",b.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",fontSize:"16px",color:T>0?"#dc2626":"#059669"},children:[n.jsx("span",{children:T>0?"Balance Due:":"Status:"}),n.jsx("span",{children:T>0?`${T.toFixed(2)}`:" Fully Paid"})]})]}),(y>0||C>0)&&n.jsxs("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#f0fdf4",borderRadius:"6px",fontSize:"13px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[n.jsx("span",{children:" Cash Received:"}),n.jsxs("span",{style:{color:"#059669",fontWeight:"500"},children:["",y.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:" Online Received:"}),n.jsxs("span",{style:{color:"#3b82f6",fontWeight:"500"},children:["",C.toFixed(2)]})]})]}),T>0&&n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Add Payment ()"}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[n.jsx("input",{type:"number",value:i,onChange:B=>s(B.target.value),style:{flex:1,padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:`Max: ${T.toFixed(2)}`,min:"0",max:T}),n.jsx("button",{onClick:E,disabled:u,style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:u?"not-allowed":"pointer"},children:u?"...":"Add"})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",padding:"10px",border:l==="cash"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:l==="cash"?"#f0fdf4":"white"},children:[n.jsx("input",{type:"radio",name:"checkoutPaymentMethod",value:"cash",checked:l==="cash",onChange:B=>d(B.target.value),style:{display:"none"}}),n.jsx("span",{children:""}),n.jsx("span",{style:{fontWeight:"500",fontSize:"14px",color:l==="cash"?"#059669":"#374151"},children:"Cash"})]}),n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",padding:"10px",border:l==="online"?"2px solid #3b82f6":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:l==="online"?"#eff6ff":"white"},children:[n.jsx("input",{type:"radio",name:"checkoutPaymentMethod",value:"online",checked:l==="online",onChange:B=>d(B.target.value),style:{display:"none"}}),n.jsx("span",{children:""}),n.jsx("span",{style:{fontWeight:"500",fontSize:"14px",color:l==="online"?"#3b82f6":"#374151"},children:"Online"})]})]}),n.jsxs("button",{onClick:()=>s(T.toString()),style:{padding:"6px 12px",backgroundColor:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:["Pay Full Balance (",T.toFixed(2),")"]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:t,style:{flex:1,minWidth:"100px",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",cursor:"pointer"},children:"Close"}),e.gstType&&e.gstType!=="none"&&n.jsxs("button",{onClick:k,style:{flex:1,minWidth:"100px",padding:"12px",border:"none",borderRadius:"6px",backgroundColor:"#3b82f6",color:"white",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[n.jsx(ls,{size:16})," Print Bill"]}),n.jsx("button",{onClick:S,disabled:u,style:{flex:1,minWidth:"100px",padding:"12px",border:"none",borderRadius:"6px",backgroundColor:T>0?"#f59e0b":"#059669",color:"white",cursor:u?"not-allowed":"pointer",fontWeight:"500"},children:u?"Processing...":T>0?`Checkout (${T.toFixed(2)} due)`:" Checkout (Paid)"})]})]})]})})},Jfe=()=>{const e=sn(),[t,r]=N.useState(null),[a,i]=N.useState([]),[s,l]=N.useState([]),[d,u]=N.useState([]),[f,p]=N.useState(!0),[m,g]=N.useState(""),[v,j]=N.useState(""),[b,y]=N.useState(""),[C,T]=N.useState("all"),[E,S]=N.useState(null),[A,k]=N.useState(!1),[I,B]=N.useState(null),[M,L]=N.useState(!1),[F,_]=N.useState(!1),[G,P]=N.useState(!1),[D,R]=N.useState(!1),[H,ne]=N.useState(!1),[me,q]=N.useState(!1),[X,z]=N.useState("rooms"),[te,U]=N.useState(new Date().toISOString().split("T")[0]),[ee,le]=N.useState("today");N.useEffect(()=>{const ye=localStorage.getItem("userType"),de=localStorage.getItem("receptionistData");if(ye!=="receptionist"||!de){e("/login");return}r(JSON.parse(de))},[e]),N.useEffect(()=>{t&&ce()},[t]);const ce=async()=>{p(!0),g("");try{const ye=await Hn.get("/room"),de=ye.data.rooms||ye.data||[],Se=await Hn.get("/room-booking");let Qe=Se.data.bookings||Se.data||[];Qe=Qe.map(ut=>{const tt={...ut};return Object.keys(tt).forEach(J=>{const Ae=tt[J];Ae&&typeof Ae=="object"&&(Ae.data||Ae.file||Ae.image||Ae.logo)&&(console.warn(`Removing suspicious field from booking: ${J}`,Ae),delete tt[J]),typeof Ae=="string"&&Ae.length>1e4&&(console.warn(`Removing large string field from booking: ${J}`),delete tt[J])}),tt});const ot=Qe.filter(ut=>ut.status==="checked-in");i(de),l(ot),u(Qe)}catch(ye){console.error("Error fetching data:",ye),g("Failed to load rooms. Please try again.")}finally{p(!1)}},je=ye=>({status:"available",booking:null}),ie=ye=>{S(ye),k(!0)},ve=async ye=>{var de,Se;try{const Qe=new Date(ye.checkInDate),ot=new Date(ye.checkOutDate),ut=d.filter(J=>{var ke;return(((ke=J.roomId)==null?void 0:ke._id)||J.roomId)===ye.roomId&&J.status!=="cancelled"&&J.status!=="checked-out"});if(ut.some(J=>{const Ae=new Date(J.checkInDate),ke=new Date(J.checkOutDate);return Qe<ke&&ot>Ae})){const Ae=ut.filter(ke=>{const nt=new Date(ke.checkInDate),rt=new Date(ke.checkOutDate);return Qe<rt&&ot>nt}).map(ke=>`${ke.userName} (${new Date(ke.checkInDate).toLocaleDateString()} - ${new Date(ke.checkOutDate).toLocaleDateString()})`).join(", ");throw new Error(`Room is already booked for overlapping dates by: ${Ae}. Please select different dates.`)}await Hn.post("/room-booking/walk-in",ye),j("Room booked successfully!"),setTimeout(()=>j(""),3e3),await ce()}catch(Qe){throw new Error(((Se=(de=Qe.response)==null?void 0:de.data)==null?void 0:Se.message)||Qe.message||"Failed to book room")}},Ne=async(ye,de,Se="cash",Qe=0)=>{var ot,ut;try{await Hn.put(`/room-booking/${ye}/payment`,{amountPaid:de,paymentMethod:Se,paymentAmount:Qe}),j("Payment updated successfully!"),setTimeout(()=>j(""),3e3),await ce();const tt=s.find(J=>J._id===ye);tt&&B({...tt,amountPaid:de})}catch(tt){throw new Error(((ut=(ot=tt.response)==null?void 0:ot.data)==null?void 0:ut.message)||"Failed to update payment")}},ge=async ye=>{var de,Se;try{await Hn.put(`/room-booking/${ye}/status`,{status:"checked-out"}),j("Guest checked out successfully! Room is now available."),setTimeout(()=>j(""),3e3),await ce()}catch(Qe){throw new Error(((Se=(de=Qe.response)==null?void 0:de.data)==null?void 0:Se.message)||"Failed to checkout")}},Ye=ye=>{B(ye),L(!0)},Te=async(ye,de)=>{var Se,Qe;try{await Hn.post(`/room-booking/${ye}/restaurant-bill`,de),j("Restaurant bill added successfully!"),setTimeout(()=>j(""),3e3),await ce();const ot=d.find(ut=>ut._id===ye);ot&&B(ot)}catch(ot){throw new Error(((Qe=(Se=ot.response)==null?void 0:Se.data)==null?void 0:Qe.message)||"Failed to add restaurant bill")}},qe=async(ye,de)=>{var Se,Qe;try{await Hn.delete(`/room-booking/${ye}/restaurant-bill/${de}`),j("Restaurant bill removed successfully!"),setTimeout(()=>j(""),3e3),await ce();const ot=d.find(ut=>ut._id===ye);ot&&B(ot)}catch(ot){throw new Error(((Qe=(Se=ot.response)==null?void 0:Se.data)==null?void 0:Qe.message)||"Failed to remove restaurant bill")}},V=async ye=>{var de,Se;try{await Hn.post("/room-booking/advance",ye),j("Advance booking created successfully!"),setTimeout(()=>j(""),3e3),await ce()}catch(Qe){throw new Error(((Se=(de=Qe.response)==null?void 0:de.data)==null?void 0:Se.message)||"Failed to create advance booking")}},fe=async(ye,de,Se)=>{var Qe,ot;try{await Hn.put(`/room-booking/${ye}/payment`,{amountPaid:de,paymentMethod:Se,paymentAmount:de}),j("Payment processed successfully!"),setTimeout(()=>j(""),3e3),await ce()}catch(ut){throw new Error(((ot=(Qe=ut.response)==null?void 0:Qe.data)==null?void 0:ot.message)||"Failed to process payment")}},Ee=async ye=>{var de,Se;try{await Hn.put(`/room-booking/${ye}/status`,{status:"cancelled"}),j("Booking cancelled successfully!"),setTimeout(()=>j(""),3e3),await ce()}catch(Qe){throw new Error(((Se=(de=Qe.response)==null?void 0:de.data)==null?void 0:Se.message)||"Failed to cancel booking")}},K=async(ye,de,Se,Qe)=>{var ot,ut;try{await Hn.put(`/room-booking/${ye}/extend`,{newCheckOutDate:de,additionalNights:Se,additionalAmount:Qe}),j("Booking extended successfully!"),setTimeout(()=>j(""),3e3),await ce()}catch(tt){throw new Error(((ut=(ot=tt.response)==null?void 0:ot.data)==null?void 0:ut.message)||"Failed to extend booking")}},re=async(ye,de)=>{var Se,Qe;try{const ot=await Hn.put(`/room-booking/${ye}/cancel-extension`,{daysToCancel:de});return j(`${de} day(s) cancelled from extension successfully!`),setTimeout(()=>j(""),5e3),await ce(),ot.data}catch(ot){throw new Error(((Qe=(Se=ot.response)==null?void 0:Se.data)==null?void 0:Qe.message)||"Failed to cancel extension")}},W=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userType"),localStorage.removeItem("receptionistData"),e("/login")},Z=Array.isArray(a)?a.filter(ye=>{var Qe,ot;const de=((Qe=ye.roomNumber)==null?void 0:Qe.toLowerCase().includes(b.toLowerCase()))||((ot=ye.roomType)==null?void 0:ot.toLowerCase().includes(b.toLowerCase()));if(C==="all")return de;const{status:Se}=je();return de&&Se===C}):[],be=(ye=>d.filter(de=>new Date(de.createdAt).toISOString().split("T")[0]===ye))(te),Me=ye=>ye?new Date(ye).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Ge=()=>{const ye=new Date,de=new Date(ye);de.setDate(de.getDate()-1);const Se=new Date(ye);return Se.setDate(Se.getDate()-2),[{label:"Today",date:ye.toISOString().split("T")[0]},{label:"Yesterday",date:de.toISOString().split("T")[0]},{label:"2 Days Ago",date:Se.toISOString().split("T")[0]}]},Le=ye=>{var ot,ut,tt;const de=ye.totalPrice||0,Se=window.open("","_blank"),Qe=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Hotel Virat - Bill</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 15px; }
          .header img { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin-bottom: 10px; }
          .header h1 { font-size: 24px; margin-bottom: 5px; }
          .header p { font-size: 12px; color: #666; }
          .header .gst { font-size: 11px; color: #333; font-weight: bold; margin-top: 5px; }
          .bill-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .bill-info p { font-size: 13px; margin: 4px 0; }
          .guest-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .guest-info h3 { font-size: 14px; margin-bottom: 8px; }
          .guest-info p { font-size: 13px; margin: 4px 0; }
          .stay-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .stay-info h3 { font-size: 14px; margin-bottom: 8px; }
          .stay-info p { font-size: 13px; margin: 4px 0; }
          .charges { margin-bottom: 15px; }
          .charges h3 { font-size: 14px; margin-bottom: 8px; }
          .charge-row { display: flex; justify-content: space-between; font-size: 13px; margin: 5px 0; }
          .charge-row.total { font-weight: bold; font-size: 16px; border-top: 2px solid #000; padding-top: 10px; margin-top: 10px; }
          .footer { text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px dashed #ccc; }
          .footer p { font-size: 12px; color: #666; margin: 3px 0; }
          @media print { body { padding: 10px; } }
        </style>
      </head>
      <body>
        <div class="header">
          <img src="${rd}" alt="Hotel Virat Logo" />
          <h1>HOTEL VIRAT</h1>
          <p>Your Comfort, Our Priority</p>
          <p class="gst">GSTIN: 29AGZPV1558K2Z6</p>
        </div>
        
        <div class="bill-info">
          <p><strong>Bill No:</strong> ${((ot=ye._id)==null?void 0:ot.slice(-8).toUpperCase())||"N/A"}</p>
          <p><strong>Date:</strong> ${new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
          <p><strong>Room No:</strong> ${((ut=ye.roomId)==null?void 0:ut.roomNumber)||"N/A"}</p>
          <p><strong>Room Type:</strong> ${((tt=ye.roomId)==null?void 0:tt.roomType)||"N/A"}</p>
        </div>
        
        <div class="guest-info">
          <h3>Guest Details</h3>
          <p><strong>Name:</strong> ${ye.userName||"N/A"}</p>
          <p><strong>Phone:</strong> ${ye.userPhone||"N/A"}</p>
          ${ye.userEmail?`<p><strong>Email:</strong> ${ye.userEmail}</p>`:""}
          ${ye.guestGstNumber?`<p><strong>GSTIN:</strong> ${ye.guestGstNumber}</p>`:""}
        </div>
        
        <div class="stay-info">
          <h3>Stay Details</h3>
          <p><strong>Check-in:</strong> ${Me(ye.checkInDate)} at ${ye.checkInTime||"12:00"}</p>
          <p><strong>Check-out:</strong> ${Me(ye.checkOutDate)} at ${ye.checkOutTime||"11:00"}</p>
          <p><strong>No. of Nights:</strong> ${ye.nights||1}</p>
        </div>
        
        <div class="charges">
          <h3>Room Charges</h3>
          <div class="charge-row">
            <span>Room Charges (${ye.nights||1} night${(ye.nights||1)>1?"s":""})</span>
            <span>${(ye.baseAmount||0).toFixed(2)}</span>
          </div>
          ${ye.gstType==="gst"?`
            <div class="charge-row">
              <span>CGST (2.5%)</span>
              <span>${(ye.cgst||0).toFixed(2)}</span>
            </div>
            <div class="charge-row">
              <span>SGST (2.5%)</span>
              <span>${(ye.sgst||0).toFixed(2)}</span>
            </div>
          `:""}
          ${ye.gstType==="igst"?`
            <div class="charge-row">
              <span>IGST (5%)</span>
              <span>${(ye.igst||0).toFixed(2)}</span>
            </div>
          `:""}
          <div class="charge-row total">
            <span>Total Amount</span>
            <span>${de.toFixed(2)}</span>
          </div>
        </div>
        
        <div class="footer">
          <p>Thank you for staying with us!</p>
          <p>We hope to see you again soon.</p>
          <p style="margin-top: 10px; font-size: 10px;">This is a computer generated bill.</p>
        </div>
      </body>
      </html>
    `;Se.document.write(Qe),Se.document.close(),Se.focus(),setTimeout(()=>{Se.print()},250)};return t?n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,overflowY:"auto",backgroundColor:"#f3f4f6"},children:n.jsxs("div",{style:{padding:"20px",paddingBottom:"100px",maxWidth:"1400px",margin:"0 auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",padding:"15px 20px",backgroundColor:"#059669",borderRadius:"8px",color:"white"},children:[n.jsxs("div",{children:[n.jsx("h1",{style:{margin:0,fontSize:"24px"},children:"Reception Dashboard"}),n.jsxs("p",{style:{margin:"5px 0 0",opacity:.9},children:[t.name," ",t.branchName?`- ${t.branchName}`:""]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("button",{onClick:ce,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},children:[n.jsx(ai,{size:16})," Refresh"]}),n.jsxs("button",{onClick:W,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#dc2626",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},children:[n.jsx(nw,{size:16})," Logout"]})]})]}),v&&n.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#dcfce7",color:"#166534",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(vn,{size:18}),n.jsx("span",{children:v})]}),m&&n.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:18}),n.jsx("span",{children:m})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[n.jsxs("div",{style:{padding:"20px",backgroundColor:"#dcfce7",borderRadius:"8px"},children:[n.jsx("h3",{style:{margin:0,color:"#166534"},children:"Available"}),n.jsx("p",{style:{margin:"10px 0 0",fontSize:"32px",fontWeight:"bold",color:"#166534"},children:a.filter(ye=>je().status==="available").length})]}),n.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee2e2",borderRadius:"8px"},children:[n.jsx("h3",{style:{margin:0,color:"#dc2626"},children:"Unavailable"}),n.jsx("p",{style:{margin:"10px 0 0",fontSize:"32px",fontWeight:"bold",color:"#dc2626"},children:a.filter(ye=>je().status==="unavailable").length})]}),n.jsxs("div",{style:{padding:"20px",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:[n.jsx("h3",{style:{margin:0,color:"#374151"},children:"Total Rooms"}),n.jsx("p",{style:{margin:"10px 0 0",fontSize:"32px",fontWeight:"bold",color:"#374151"},children:a.length})]})]}),n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"20px",marginBottom:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,fontSize:"20px",color:"#374151"},children:" Payment Collections"}),n.jsx("div",{style:{display:"flex",gap:"8px"},children:["today","week","month","all"].map(ye=>n.jsx("button",{onClick:()=>le(ye),style:{padding:"8px 16px",border:ee===ye?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:ee===ye?"#dcfce7":"white",color:ee===ye?"#059669":"#6b7280",cursor:"pointer",fontSize:"14px",fontWeight:ee===ye?"600":"400",textTransform:"capitalize"},children:ye==="all"?"All Time":ye==="week"?"This Week":ye==="month"?"This Month":"Today"},ye))})]}),(()=>{const ye=new Date,de=new Date(ye.getFullYear(),ye.getMonth(),ye.getDate()),Se=new Date(de),Qe=Se.getDay(),ot=Se.getDate()-Qe+(Qe===0?-6:1);Se.setDate(ot);const ut=new Date(ye.getFullYear(),ye.getMonth(),1),tt=d.filter(nt=>{if(!nt.createdAt)return!1;const rt=new Date(nt.createdAt);switch(ee){case"today":return rt>=de;case"week":return rt>=Se;case"month":return rt>=ut;case"all":default:return!0}}),J=tt.reduce((nt,rt)=>nt+(rt.cashAmount||0),0),Ae=tt.reduce((nt,rt)=>nt+(rt.onlineAmount||0),0),ke=tt.reduce((nt,rt)=>nt+(rt.amountPaid||0),0);return n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px"},children:[n.jsxs("div",{style:{padding:"20px",backgroundColor:"#fef3c7",borderRadius:"8px",border:"2px solid #fde68a"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx("span",{style:{fontSize:"32px"},children:""}),n.jsx("h3",{style:{margin:0,color:"#92400e",fontSize:"16px"},children:"Cash Collected"})]}),n.jsxs("p",{style:{margin:0,fontSize:"32px",fontWeight:"bold",color:"#92400e"},children:["",J.toFixed(2)]}),n.jsxs("p",{style:{margin:"8px 0 0",fontSize:"13px",color:"#92400e",opacity:.8},children:[tt.filter(nt=>(nt.cashAmount||0)>0).length," transaction(s)"]})]}),n.jsxs("div",{style:{padding:"20px",backgroundColor:"#dbeafe",borderRadius:"8px",border:"2px solid #bfdbfe"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx("span",{style:{fontSize:"32px"},children:""}),n.jsx("h3",{style:{margin:0,color:"#1e40af",fontSize:"16px"},children:"Online Collected"})]}),n.jsxs("p",{style:{margin:0,fontSize:"32px",fontWeight:"bold",color:"#1e40af"},children:["",Ae.toFixed(2)]}),n.jsxs("p",{style:{margin:"8px 0 0",fontSize:"13px",color:"#1e40af",opacity:.8},children:[tt.filter(nt=>(nt.onlineAmount||0)>0).length," transaction(s)"]})]}),n.jsxs("div",{style:{padding:"20px",backgroundColor:"#e0e7ff",borderRadius:"8px",border:"2px solid #c7d2fe"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx("span",{style:{fontSize:"32px"},children:""}),n.jsx("h3",{style:{margin:0,color:"#4338ca",fontSize:"16px"},children:"Total Collected"})]}),n.jsxs("p",{style:{margin:0,fontSize:"32px",fontWeight:"bold",color:"#4338ca"},children:["",ke.toFixed(2)]}),n.jsxs("p",{style:{margin:"8px 0 0",fontSize:"13px",color:"#4338ca",opacity:.8},children:[tt.filter(nt=>(nt.amountPaid||0)>0).length," booking(s)"]})]})]})})()]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",borderBottom:"2px solid #e5e7eb",paddingBottom:"10px"},children:[n.jsxs("button",{onClick:()=>z("rooms"),style:{padding:"10px 20px",border:"none",borderRadius:"6px",backgroundColor:X==="rooms"?"#059669":"#f3f4f6",color:X==="rooms"?"white":"#374151",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Hi,{size:18})," Rooms"]}),n.jsxs("button",{onClick:()=>z("advance"),style:{padding:"10px 20px",border:"none",borderRadius:"6px",backgroundColor:X==="advance"?"#059669":"#f3f4f6",color:X==="advance"?"white":"#374151",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Tr,{size:18})," Advance Booking"]}),n.jsxs("button",{onClick:()=>z("extend"),style:{padding:"10px 20px",border:"none",borderRadius:"6px",backgroundColor:X==="extend"?"#f59e0b":"#f3f4f6",color:X==="extend"?"white":"#374151",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(ai,{size:18})," Extend Booking"]}),n.jsxs("button",{onClick:()=>z("history"),style:{padding:"10px 20px",border:"none",borderRadius:"6px",backgroundColor:X==="history"?"#059669":"#f3f4f6",color:X==="history"?"white":"#374151",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Tr,{size:18})," Booking History"]})]}),X==="advance"&&n.jsxs("div",{children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0f9ff",borderRadius:"8px",borderLeft:"4px solid #0ea5e9"},children:[n.jsx("h3",{style:{margin:"0 0 5px",fontSize:"16px"},children:"Advance Bookings (Future Check-ins)"}),n.jsx("p",{style:{margin:0,color:"#6b7280"},children:(()=>{const ye=new Date;ye.setHours(0,0,0,0);const de=d.filter(Se=>{if(!Se.checkInDate)return!1;const Qe=new Date(Se.checkInDate);return Qe.setHours(0,0,0,0),Qe>=ye&&Se.status!=="cancelled"});return`${de.length} advance booking(s) found | Total Revenue: ${de.reduce((Se,Qe)=>Se+(Qe.totalPrice||0),0).toFixed(2)} | Collected: ${de.reduce((Se,Qe)=>Se+(Qe.amountPaid||0),0).toFixed(2)}`})()})]}),(()=>{const ye=new Date;ye.setHours(0,0,0,0);const de=d.filter(Se=>{if(!Se.checkInDate)return!1;const Qe=new Date(Se.checkInDate);Qe.setHours(0,0,0,0);const ot=Se.status!=="cancelled";return Qe>=ye&&ot}).sort((Se,Qe)=>new Date(Se.checkInDate)-new Date(Qe.checkInDate));return de.length>0?n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:de.map(Se=>{var ut,tt;const Qe=(Se.totalPrice||0)-(Se.amountPaid||0),ot=Math.ceil((new Date(Se.checkInDate)-new Date)/(1e3*60*60*24));return n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",border:"1px solid #e5e7eb",padding:"16px",display:"flex",gap:"20px",alignItems:"flex-start",justifyContent:"space-between"},children:[n.jsxs("div",{style:{flex:"1 1 auto",minWidth:0},children:[n.jsxs("div",{style:{marginBottom:"10px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[n.jsxs("span",{style:{fontSize:"17px",fontWeight:"600",color:"#111827"},children:["Room ",((ut=Se.roomId)==null?void 0:ut.roomNumber)||"N/A"]}),n.jsx("span",{style:{fontSize:"12px",color:"#6b7280",padding:"2px 8px",backgroundColor:"#f3f4f6",borderRadius:"4px"},children:((tt=Se.roomId)==null?void 0:tt.roomType)||"N/A"})]}),n.jsx("div",{style:{fontSize:"14px",color:"#374151",fontWeight:"500"},children:Se.userName}),n.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:[Se.userPhone,Se.userEmail&&`  ${Se.userEmail}`]})]}),n.jsxs("div",{style:{fontSize:"13px",color:"#6b7280",lineHeight:"1.5"},children:[n.jsxs("div",{children:[n.jsx("strong",{style:{color:"#374151"},children:"Check-in:"})," ",Me(Se.checkInDate)," at ",Se.checkInTime||"12:00"]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:"#374151"},children:"Check-out:"})," ",Me(Se.checkOutDate)," at ",Se.checkOutTime||"11:00"]}),n.jsxs("div",{style:{marginTop:"4px",color:"#059669",fontWeight:"500",fontSize:"12px"},children:[Se.nights," night",Se.nights>1?"s":"","  ",ot," day",ot!==1?"s":""," until check-in"]})]}),(Se.aadhaarNumber||Se.panNumber)&&n.jsxs("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #f3f4f6"},children:[Se.aadhaarNumber&&n.jsxs("span",{children:["Aadhaar: ",Se.aadhaarNumber]}),Se.aadhaarNumber&&Se.panNumber&&n.jsx("span",{children:"  "}),Se.panNumber&&n.jsxs("span",{children:["PAN: ",Se.panNumber]})]})]}),n.jsxs("div",{style:{width:"220px",flexShrink:0,display:"flex",flexDirection:"column",gap:"10px"},children:[n.jsxs("div",{style:{padding:"10px 12px",backgroundColor:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",marginBottom:"3px"},children:[n.jsx("span",{style:{color:"#6b7280"},children:"Total"}),n.jsxs("span",{style:{fontWeight:"600",color:"#374151"},children:["",(Se.totalPrice||0).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",marginBottom:"6px"},children:[n.jsx("span",{style:{color:"#6b7280"},children:"Paid"}),n.jsxs("span",{style:{fontWeight:"600",color:"#059669"},children:["",(Se.amountPaid||0).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px",paddingTop:"6px",borderTop:"1px solid #e5e7eb"},children:[n.jsx("span",{style:{fontWeight:"600",color:Qe>0?"#dc2626":"#059669"},children:"Balance"}),n.jsxs("span",{style:{fontWeight:"700",color:Qe>0?"#dc2626":"#059669"},children:["",Qe.toFixed(2)]})]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[Qe>0&&n.jsx("button",{onClick:()=>{B(Se),R(!0)},style:{padding:"8px 14px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:J=>J.target.style.backgroundColor="#047857",onMouseOut:J=>J.target.style.backgroundColor="#059669",children:"Add Payment"}),n.jsx("button",{onClick:()=>{B(Se),ne(!0)},style:{padding:"8px 14px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:J=>J.target.style.backgroundColor="#d97706",onMouseOut:J=>J.target.style.backgroundColor="#f59e0b",children:"Extend Booking"}),n.jsx("button",{onClick:()=>{var J;window.confirm(`Cancel booking for ${Se.userName}?

Room: ${(J=Se.roomId)==null?void 0:J.roomNumber}
Check-in: ${Me(Se.checkInDate)}`)&&Ee(Se._id)},style:{padding:"8px 14px",backgroundColor:"white",color:"#dc2626",border:"1px solid #dc2626",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"all 0.2s"},onMouseOver:J=>{J.target.style.backgroundColor="#dc2626",J.target.style.color="white"},onMouseOut:J=>{J.target.style.backgroundColor="white",J.target.style.color="#dc2626"},children:"Cancel Booking"})]})]})]},Se._id)})}):n.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280",backgroundColor:"white",borderRadius:"8px"},children:[n.jsx(Tr,{size:48,style:{marginBottom:"10px",opacity:.5}}),n.jsx("p",{children:"No advance bookings found"})]})})()]}),X==="extend"&&n.jsxs("div",{children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#fef3c7",borderRadius:"8px",borderLeft:"4px solid #f59e0b"},children:[n.jsx("h3",{style:{margin:"0 0 5px",fontSize:"16px"},children:"Current Bookings - Extend Stay"}),n.jsx("p",{style:{margin:0,color:"#6b7280"},children:(()=>{const ye=d.filter(de=>de.status==="checked-in");return`${ye.length} active booking(s) | Total Revenue: ${ye.reduce((de,Se)=>de+(Se.totalPrice||0),0).toFixed(2)} | Collected: ${ye.reduce((de,Se)=>de+(Se.amountPaid||0),0).toFixed(2)}`})()})]}),(()=>{const ye=d.filter(de=>de.status==="checked-in");return ye.length>0?n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:ye.map(de=>{var ut;const Se=de.totalPrice||0,Qe=de.amountPaid||0,ot=Se-Qe;return n.jsx("div",{style:{padding:"20px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",borderLeft:"4px solid #f59e0b"},children:n.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"15px"},children:n.jsxs("div",{style:{flex:1},children:[n.jsxs("h4",{style:{margin:"0 0 10px",display:"flex",alignItems:"center",gap:"10px",fontSize:"18px"},children:[n.jsx(Hi,{size:20})," Room ",((ut=de.roomId)==null?void 0:ut.roomNumber)||"N/A",n.jsx("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",backgroundColor:"#dcfce7",color:"#166534"},children:"CHECKED-IN"}),de.extensions&&de.extensions.length>0&&n.jsxs("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",backgroundColor:"#fef3c7",color:"#92400e",border:"1px solid #f59e0b"},children:["EXTENDED (",de.extensions.length,"x)"]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[n.jsxs("div",{children:[n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#374151"},children:[n.jsx(xc,{size:14,style:{marginRight:"6px"}}),n.jsx("strong",{children:"Guest:"})," ",de.userName]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#374151"},children:[n.jsx(oi,{size:14,style:{marginRight:"6px"}}),n.jsx("strong",{children:"Phone:"})," ",de.userPhone]}),de.userEmail&&n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#374151"},children:[n.jsx(eo,{size:14,style:{marginRight:"6px"}}),n.jsx("strong",{children:"Email:"})," ",de.userEmail]})]}),n.jsxs("div",{children:[n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#374151"},children:[n.jsx(Tr,{size:14,style:{marginRight:"6px"}}),n.jsx("strong",{children:"Check-in:"})," ",Me(de.checkInDate)]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#374151"},children:[n.jsx(Tr,{size:14,style:{marginRight:"6px"}}),n.jsx("strong",{children:"Check-out:"})," ",Me(de.checkOutDate)]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#374151"},children:[n.jsx("strong",{children:"Nights:"})," ",de.nights]})]})]}),n.jsxs("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:"6px",marginBottom:"15px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[n.jsx("span",{style:{fontSize:"14px",color:"#6b7280"},children:"Total Amount:"}),n.jsxs("span",{style:{fontSize:"14px",fontWeight:"600"},children:["",Se.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[n.jsx("span",{style:{fontSize:"14px",color:"#059669"},children:"Amount Paid:"}),n.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",color:"#059669"},children:["",Qe.toFixed(2)]})]}),ot>0&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"8px",borderTop:"1px solid #e5e7eb"},children:[n.jsx("span",{style:{fontSize:"14px",color:"#dc2626",fontWeight:"600"},children:"Balance Due:"}),n.jsxs("span",{style:{fontSize:"14px",fontWeight:"700",color:"#dc2626"},children:["",ot.toFixed(2)]})]}),de.gstType&&de.gstType!=="none"&&n.jsxs("div",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:["GST Applied: ",de.gstType==="gst"?"CGST + SGST (5%)":"IGST (5%)"]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[ot>0&&n.jsx("button",{onClick:()=>{B(de),R(!0)},style:{padding:"10px 16px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:tt=>tt.target.style.backgroundColor="#047857",onMouseOut:tt=>tt.target.style.backgroundColor="#059669",children:"Add Payment"}),n.jsxs("button",{onClick:()=>{B(de),ne(!0)},style:{padding:"10px 16px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"6px"},onMouseOver:tt=>tt.target.style.backgroundColor="#d97706",onMouseOut:tt=>tt.target.style.backgroundColor="#f59e0b",children:[n.jsx(ai,{size:16})," Extend Stay"]}),(()=>{var tt;return console.log("Booking extensions check:",{bookingId:de._id,hasExtensions:de.extensions,extensionsLength:(tt=de.extensions)==null?void 0:tt.length,extensionsData:de.extensions}),de.extensions&&de.extensions.length>0})()&&n.jsxs("button",{onClick:()=>{B(de),q(!0)},style:{padding:"10px 16px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s",display:"flex",alignItems:"center",gap:"6px"},onMouseOver:tt=>tt.target.style.backgroundColor="#b91c1c",onMouseOut:tt=>tt.target.style.backgroundColor="#dc2626",title:"Cancel specific days from extension",children:[n.jsx(On,{size:16})," Cancel Extension"]}),n.jsx("button",{onClick:()=>{B(de),_(!0)},style:{padding:"10px 16px",backgroundColor:"#8b5cf6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:tt=>tt.target.style.backgroundColor="#7c3aed",onMouseOut:tt=>tt.target.style.backgroundColor="#8b5cf6",children:"Restaurant Bill"}),n.jsx("button",{onClick:()=>Ye(de),style:{padding:"10px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:tt=>tt.target.style.backgroundColor="#2563eb",onMouseOut:tt=>tt.target.style.backgroundColor="#3b82f6",children:"Checkout"}),de.gstType&&de.gstType!=="none"&&n.jsxs("button",{onClick:()=>Le(de),style:{padding:"10px 16px",backgroundColor:"white",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},onMouseOver:tt=>{tt.target.style.backgroundColor="#f3f4f6"},onMouseOut:tt=>{tt.target.style.backgroundColor="white"},children:[n.jsx(ls,{size:16})," Print Bill"]})]})]})})},de._id)})}):n.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280",backgroundColor:"white",borderRadius:"8px"},children:[n.jsx(Hi,{size:48,style:{marginBottom:"10px",opacity:.5}}),n.jsx("p",{children:"No active bookings found"}),n.jsx("p",{style:{fontSize:"14px",marginTop:"5px"},children:"All checked-in guests will appear here"})]})})()]}),X==="history"&&n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap",alignItems:"center"},children:[n.jsx("div",{style:{display:"flex",gap:"8px"},children:Ge().map(({label:ye,date:de})=>n.jsx("button",{onClick:()=>U(de),style:{padding:"8px 16px",border:te===de?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:te===de?"#dcfce7":"white",cursor:"pointer",fontSize:"13px",fontWeight:te===de?"600":"400"},children:ye},de))}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontSize:"14px",color:"#6b7280"},children:"Or select date:"}),n.jsx("input",{type:"date",value:te,onChange:ye=>U(ye.target.value),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px"}})]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0f9ff",borderRadius:"8px",borderLeft:"4px solid #0ea5e9"},children:[n.jsxs("h3",{style:{margin:"0 0 5px",fontSize:"16px"},children:["Bookings for ",Me(te)]}),n.jsxs("p",{style:{margin:0,color:"#6b7280"},children:[be.length," booking(s) found | Total Revenue: ",be.reduce((ye,de)=>ye+(de.totalPrice||0),0).toFixed(2)," | Collected: ",be.reduce((ye,de)=>ye+(de.amountPaid||0),0).toFixed(2)]})]}),be.length>0?n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:be.map(ye=>{var de,Se;return n.jsx("div",{style:{padding:"15px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${ye.status==="checked-out"?"#22c55e":ye.status==="cancelled"?"#ef4444":"#f59e0b"}`},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"10px"},children:[n.jsxs("div",{children:[n.jsxs("h4",{style:{margin:"0 0 5px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Hi,{size:16})," Room ",((de=ye.roomId)==null?void 0:de.roomNumber)||"N/A",n.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"500",backgroundColor:ye.status==="checked-out"?"#dcfce7":ye.status==="cancelled"?"#fee2e2":"#fef3c7",color:ye.status==="checked-out"?"#166534":ye.status==="cancelled"?"#dc2626":"#92400e"},children:(Se=ye.status)==null?void 0:Se.toUpperCase()})]}),n.jsxs("p",{style:{margin:"3px 0",fontSize:"14px",color:"#374151"},children:[n.jsx("strong",{children:"Guest:"})," ",ye.userName," | ",n.jsx("strong",{children:"Phone:"})," ",ye.userPhone]}),n.jsxs("p",{style:{margin:"3px 0",fontSize:"13px",color:"#6b7280"},children:["Check-in: ",Me(ye.checkInDate),"  Check-out: ",Me(ye.checkOutDate)," (",ye.nights," nights)"]})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsxs("p",{style:{margin:"0 0 3px",fontSize:"14px"},children:[n.jsx("strong",{children:"Total:"})," ",(ye.totalPrice||0).toFixed(2)]}),n.jsxs("p",{style:{margin:"0 0 3px",fontSize:"13px",color:"#059669"},children:[n.jsx("strong",{children:"Paid:"})," ",(ye.amountPaid||0).toFixed(2)]}),ye.totalPrice-(ye.amountPaid||0)>0&&n.jsxs("p",{style:{margin:"0",fontSize:"13px",color:"#dc2626",fontWeight:"600"},children:["Due: ",(ye.totalPrice-(ye.amountPaid||0)).toFixed(2)]}),ye.gstType&&ye.gstType!=="none"&&n.jsxs("p",{style:{margin:"3px 0 0",fontSize:"11px",color:"#6b7280"},children:["GST: ",ye.gstType==="gst"?"CGST+SGST":"IGST"]}),ye.gstType&&ye.gstType!=="none"&&n.jsxs("button",{onClick:()=>Le(ye),style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px",marginLeft:"auto"},children:[n.jsx(ls,{size:14})," Print Bill"]})]})]})},ye._id)})}):n.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280",backgroundColor:"white",borderRadius:"8px"},children:[n.jsx(Tr,{size:48,style:{marginBottom:"10px",opacity:.5}}),n.jsxs("p",{children:["No bookings found for ",Me(te)]})]})]}),X==="rooms"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:"250px"},children:[n.jsx(Yt,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),n.jsx("input",{type:"text",placeholder:"Search by room number or type...",value:b,onChange:ye=>y(ye.target.value),style:{width:"100%",padding:"10px 10px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"6px"}})]}),n.jsxs("select",{value:C,onChange:ye=>T(ye.target.value),style:{padding:"10px 15px",border:"1px solid #e5e7eb",borderRadius:"6px",minWidth:"150px"},children:[n.jsx("option",{value:"all",children:"All Rooms"}),n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"unavailable",children:"Unavailable"})]})]}),f?n.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Loading rooms..."}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:Z.map(ye=>{var J;const de=new Date,Se=de.getMonth(),Qe=de.getFullYear(),ot=new Date(Qe,Se+1,0).getDate(),ut=d.filter(Ae=>{var Lt;if((((Lt=Ae.roomId)==null?void 0:Lt._id)||Ae.roomId)!==ye._id)return!1;const nt=new Date(Ae.checkInDate),rt=new Date(Ae.checkOutDate),lt=new Date(Qe,Se,1),jt=new Date(Qe,Se+1,0);return nt<=jt&&rt>=lt}),tt={};return ut.forEach(Ae=>{const ke=Ae.checkInDate.split("T")[0],nt=Ae.checkOutDate.split("T")[0],rt=new Date(ke),lt=new Date(nt),jt=new Date(rt);for(;jt<lt;){if(jt.getMonth()===Se&&jt.getFullYear()===Qe){const Lt=jt.getDate();tt[Lt]||(tt[Lt]=[]),tt[Lt].push({guestName:Ae.userName,phone:Ae.userPhone,checkIn:Ae.checkInDate,checkOut:Ae.checkOutDate,status:Ae.status,bookingId:Ae._id})}jt.setDate(jt.getDate()+1)}}),n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"2px solid #e5e7eb"},children:[n.jsx("div",{style:{padding:"15px",backgroundColor:"#f8fafc",borderBottom:"1px solid #e5e7eb"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Hi,{size:20})," Room ",ye.roomNumber]}),n.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:n.jsx("span",{style:{padding:"4px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:"500",backgroundColor:"#22c55e",color:"white"},children:"Available"})})]})}),n.jsxs("div",{style:{padding:"15px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[n.jsxs("div",{children:[n.jsxs("p",{style:{margin:"0 0 8px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("strong",{children:"Type:"})," ",ye.roomType]}),n.jsxs("p",{style:{margin:"0 0 8px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("strong",{children:"Floor:"})," ",ye.floor]}),n.jsxs("p",{style:{margin:"0 0 8px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("strong",{children:"Price:"})," ",ye.price,"/night"]}),n.jsxs("p",{style:{margin:"0 0 8px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("strong",{children:"Capacity:"})," ",((J=ye.capacity)==null?void 0:J.adults)||2," Adults"]})]}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px"},children:[n.jsx(Tr,{size:16}),n.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"},children:new Date(Qe,Se).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",fontSize:"10px"},children:[["S","M","T","W","T","F","S"].map((Ae,ke)=>n.jsx("div",{style:{textAlign:"center",fontWeight:"600",color:"#6b7280",padding:"2px"},children:Ae},`day-header-${ke}`)),(()=>{const Ae=new Date(Qe,Se,1).getDay(),ke=[];for(let nt=0;nt<Ae;nt++)ke.push(n.jsx("div",{style:{padding:"4px"}},`empty-${nt}`));for(let nt=1;nt<=ot;nt++){const rt=nt===de.getDate()&&Se===new Date().getMonth()&&Qe===new Date().getFullYear(),lt=tt[nt]||[],jt=lt.length>0,Lt=lt.length>0?lt.map(Ut=>`${Ut.guestName} (${Ut.phone})
${new Date(Ut.checkIn).toLocaleDateString()} - ${new Date(Ut.checkOut).toLocaleDateString()}
Status: ${Ut.status}`).join(`

`):"";ke.push(n.jsxs("div",{title:Lt,style:{textAlign:"center",padding:"4px",borderRadius:"3px",backgroundColor:rt?"#3b82f6":"transparent",color:rt?"white":"#374151",fontWeight:rt?"600":"400",position:"relative",minHeight:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:jt?"pointer":"default"},onClick:()=>{if(jt){const Ut=lt.map(Zt=>`Guest: ${Zt.guestName}
Phone: ${Zt.phone}
Check-in: ${new Date(Zt.checkIn).toLocaleDateString()}
Check-out: ${new Date(Zt.checkOut).toLocaleDateString()}
Status: ${Zt.status.toUpperCase()}`).join(`

`);alert(`Bookings for ${nt}/${Se+1}/${Qe}:

${Ut}`)}},children:[nt,jt&&n.jsx("div",{style:{position:"absolute",top:"2px",right:"2px",width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#ef4444"}}),lt.length>1&&n.jsx("div",{style:{position:"absolute",bottom:"1px",right:"1px",fontSize:"6px",fontWeight:"bold",color:"#ef4444",backgroundColor:"white",borderRadius:"50%",width:"8px",height:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:lt.length})]},nt))}return ke})()]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"8px",fontSize:"11px",color:"#6b7280"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#ef4444"}}),n.jsx("span",{children:"Booked (click for details)"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#3b82f6"}}),n.jsx("span",{children:"Today"})]})]})]})]}),!1,(()=>{const Ae=new Date().toISOString().split("T")[0];return d.filter(ke=>{var jt;if((((jt=ke.roomId)==null?void 0:jt._id)||ke.roomId)!==ye._id)return!1;const rt=ke.checkInDate.split("T")[0],lt=ke.checkOutDate.split("T")[0];return Ae>=rt&&Ae<lt&&ke.status!=="cancelled"}),d.filter(ke=>{var lt;return(((lt=ke.roomId)==null?void 0:lt._id)||ke.roomId)!==ye._id?!1:ke.checkInDate.split("T")[0]>Ae&&(ke.status==="confirmed"||ke.status==="checked-in")}),n.jsxs(n.Fragment,{children:[!1,!1]})})(),(()=>{const Ae=new Date().toISOString().split("T")[0],ke=d.find(nt=>{var Lt;if((((Lt=nt.roomId)==null?void 0:Lt._id)||nt.roomId)!==ye._id)return!1;const lt=nt.checkInDate.split("T")[0],jt=nt.checkOutDate.split("T")[0];return Ae>=lt&&Ae<jt&&nt.status==="checked-in"});return ke?n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>{B(ke),ne(!0)},style:{flex:1,padding:"10px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Extend Stay"}),n.jsx("button",{onClick:()=>Ye(ke),style:{flex:1,padding:"10px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Checkout"})]}):n.jsx("button",{onClick:()=>ie(ye),style:{width:"100%",padding:"10px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Book Now"})})()]})]},ye._id)})}),Z.length===0&&!f&&n.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:"No rooms found matching your criteria"})]}),A&&E&&n.jsx(Kfe,{room:E,onClose:()=>{k(!1),S(null)},onBook:ve}),F&&I&&n.jsx(Qfe,{booking:I,onClose:()=>{_(!1),B(null)},onAddBill:Te,onRemoveBill:qe}),M&&I&&n.jsx(Zfe,{booking:I,onClose:()=>{L(!1),B(null)},onCheckout:ge,onUpdatePayment:Ne}),G&&n.jsx(ehe,{onClose:()=>P(!1),onCreateBooking:V,onPayBooking:fe,onCancelBooking:Ee}),D&&I&&n.jsx(the,{booking:I,onClose:()=>{R(!1),B(null)},onAddPayment:fe}),H&&I&&n.jsx(rhe,{booking:I,onClose:()=>{ne(!1),B(null)},onExtend:K}),me&&I&&n.jsx(nhe,{booking:I,onClose:()=>{q(!1),B(null)},onCancelExtension:re})]})}):n.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Loading..."})},ehe=({onClose:e,onCreateBooking:t,onPayBooking:r,onCancelBooking:a})=>{const[i,s]=N.useState("create"),[l,d]=N.useState([]),[u,f]=N.useState(!1),[p,m]=N.useState({guestName:"",guestPhone:"",guestEmail:"",checkInDate:new Date(Date.now()+864e5).toISOString().split("T")[0],checkOutDate:new Date(Date.now()+2*864e5).toISOString().split("T")[0],roomType:"",advanceAmount:"",paymentMethod:"cash"});N.useEffect(()=>{i==="manage"&&g()},[i]);const g=async()=>{f(!0);try{const y=await Hn.get("/room-booking"),C=y.data.bookings||y.data||[],T=new Date;T.setHours(0,0,0,0);const E=C.filter(S=>{const A=new Date(S.checkInDate);return A.setHours(0,0,0,0),A>T&&S.status==="confirmed"});d(E)}catch(y){console.error("Error fetching future bookings:",y)}finally{f(!1)}},v=async y=>{y.preventDefault();try{const C={...p,status:"confirmed",amountPaid:parseFloat(p.advanceAmount)||0,paymentStatus:parseFloat(p.advanceAmount)>0?"partial":"pending"};await t(C),m({guestName:"",guestPhone:"",guestEmail:"",checkInDate:new Date(Date.now()+864e5).toISOString().split("T")[0],checkOutDate:new Date(Date.now()+2*864e5).toISOString().split("T")[0],roomType:"",advanceAmount:"",paymentMethod:"cash"}),s("manage")}catch(C){console.error("Error creating advance booking:",C)}},j=async(y,C,T)=>{try{await r(y._id,C,T),g()}catch(E){console.error("Error processing payment:",E)}},b=async y=>{if(window.confirm(`Are you sure you want to cancel booking for ${y.userName}?`))try{await a(y._id),g()}catch(C){console.error("Error cancelling booking:",C)}};return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#3b82f6",color:"white"},children:[n.jsx("h3",{style:{margin:0},children:"Advance Booking Management"}),n.jsx("button",{onClick:e,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",color:"white"},children:""})]}),n.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb"},children:[n.jsx("button",{onClick:()=>s("create"),style:{flex:1,padding:"12px",border:"none",backgroundColor:i==="create"?"#3b82f6":"#f3f4f6",color:i==="create"?"white":"#374151",cursor:"pointer",fontWeight:"500"},children:"Create New Booking"}),n.jsxs("button",{onClick:()=>s("manage"),style:{flex:1,padding:"12px",border:"none",backgroundColor:i==="manage"?"#3b82f6":"#f3f4f6",color:i==="manage"?"white":"#374151",cursor:"pointer",fontWeight:"500"},children:["Manage Bookings (",l.length,")"]})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px"},children:i==="create"?n.jsxs("form",{onSubmit:v,children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Guest Name *"}),n.jsx("input",{type:"text",value:p.guestName,onChange:y=>m({...p,guestName:y.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter guest name"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Phone *"}),n.jsx("input",{type:"tel",value:p.guestPhone,onChange:y=>m({...p,guestPhone:y.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Email"}),n.jsx("input",{type:"email",value:p.guestEmail,onChange:y=>m({...p,guestEmail:y.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter email (optional)"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Room Type"}),n.jsxs("select",{value:p.roomType,onChange:y=>m({...p,roomType:y.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},children:[n.jsx("option",{value:"",children:"Any Available"}),n.jsx("option",{value:"Single",children:"Single"}),n.jsx("option",{value:"Double",children:"Double"}),n.jsx("option",{value:"Suite",children:"Suite"}),n.jsx("option",{value:"Deluxe",children:"Deluxe"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Check-in Date *"}),n.jsx("input",{type:"date",value:p.checkInDate,onChange:y=>m({...p,checkInDate:y.target.value}),required:!0,min:new Date().toISOString().split("T")[0],style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Check-out Date *"}),n.jsx("input",{type:"date",value:p.checkOutDate,onChange:y=>m({...p,checkOutDate:y.target.value}),required:!0,min:p.checkInDate,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Advance Amount ()"}),n.jsx("input",{type:"number",value:p.advanceAmount,onChange:y=>m({...p,advanceAmount:y.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter advance payment",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Payment Method"}),n.jsxs("select",{value:p.paymentMethod,onChange:y=>m({...p,paymentMethod:y.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},children:[n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"online",children:"Online"})]})]})]}),n.jsx("button",{type:"submit",style:{width:"100%",padding:"12px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500",fontSize:"16px"},children:"Create Advance Booking"})]}):n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"15px"},children:"Future Bookings"}),u?n.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"Loading..."}):l.length===0?n.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:"No future bookings found"}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:l.map(y=>{var C,T,E,S;return n.jsx("div",{style:{padding:"15px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("h5",{style:{margin:"0 0 8px",color:"#1e293b"},children:y.userName}),n.jsxs("div",{style:{fontSize:"14px",color:"#64748b",marginBottom:"8px"},children:[n.jsxs("div",{children:[" ",y.userPhone]}),y.userEmail&&n.jsxs("div",{children:[" ",y.userEmail]}),n.jsxs("div",{children:[" Room: ",((C=y.roomId)==null?void 0:C.roomNumber)||"TBD"," (",((T=y.roomId)==null?void 0:T.roomType)||"Any",")"]}),n.jsxs("div",{children:[" ",new Date(y.checkInDate).toLocaleDateString()," - ",new Date(y.checkOutDate).toLocaleDateString()]}),n.jsxs("div",{children:[" Total: ",((E=y.totalPrice)==null?void 0:E.toFixed(2))||"0.00"," | Paid: ",((S=y.amountPaid)==null?void 0:S.toFixed(2))||"0.00"]}),y.totalPrice-y.amountPaid>0&&n.jsxs("div",{style:{color:"#dc2626",fontWeight:"500"},children:[" Due: ",(y.totalPrice-y.amountPaid).toFixed(2)]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[y.totalPrice-y.amountPaid>0&&n.jsx("button",{onClick:()=>{const A=prompt(`Enter payment amount (Due: ${(y.totalPrice-y.amountPaid).toFixed(2)}):`);if(A&&parseFloat(A)>0){const k=confirm("Click OK for Cash, Cancel for Online")?"cash":"online";j(y,parseFloat(A),k)}},style:{padding:"6px 12px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:" Pay"}),n.jsx("button",{onClick:()=>b(y),style:{padding:"6px 12px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:" Cancel"})]})]})},y._id)})})]})})]})})},the=({booking:e,onClose:t,onAddPayment:r})=>{var b;const[a,i]=N.useState(""),[s,l]=N.useState("cash"),[d,u]=N.useState(!1),[f,p]=N.useState(""),m=e.totalPrice||0,g=e.amountPaid||0,v=m-g,j=async y=>{y.preventDefault(),p("");const C=parseFloat(a);if(!C||C<=0){p("Please enter a valid payment amount");return}if(C>v){p(`Payment amount cannot exceed balance due (${v.toFixed(2)})`);return}u(!0);try{const T=g+C;await r(e._id,T,s),t()}catch(T){p(T.message||"Failed to add payment")}finally{u(!1)}};return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"500px",padding:"0",overflow:"hidden"},children:[n.jsxs("div",{style:{padding:"16px 20px",backgroundColor:"#059669",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("h3",{style:{margin:0},children:["Add Payment - Room ",(b=e.roomId)==null?void 0:b.roomNumber]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",color:"white"},children:""})]}),f&&n.jsxs("div",{style:{padding:"12px 20px",backgroundColor:"#fee2e2",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:16}),n.jsx("span",{style:{fontSize:"14px"},children:f})]}),n.jsxs("div",{style:{padding:"20px"},children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0fdf4",borderRadius:"8px"},children:[n.jsxs("h4",{style:{margin:"0 0 10px"},children:["Guest: ",e.userName]}),n.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#6b7280"},children:["Phone: ",e.userPhone]}),n.jsxs("p",{style:{margin:"5px 0 0",fontSize:"14px",color:"#6b7280"},children:["Check-in: ",new Date(e.checkInDate).toLocaleDateString()," | Check-out: ",new Date(e.checkOutDate).toLocaleDateString()]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Payment Summary"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[n.jsx("span",{children:"Total Amount:"}),n.jsxs("span",{style:{fontWeight:"600"},children:["",m.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#059669"},children:[n.jsx("span",{children:"Already Paid:"}),n.jsxs("span",{style:{fontWeight:"600"},children:["",g.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"10px",borderTop:"1px solid #e5e7eb"},children:[n.jsx("span",{style:{fontWeight:"600",color:"#dc2626"},children:"Balance Due:"}),n.jsxs("span",{style:{fontWeight:"700",fontSize:"18px",color:"#dc2626"},children:["",v.toFixed(2)]})]})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Payment Amount () *"}),n.jsx("input",{type:"number",value:a,onChange:y=>i(y.target.value),required:!0,min:"0.01",max:v,step:"0.01",style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:`Enter amount (Max: ${v.toFixed(2)})`})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Payment Method *"}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:s==="cash"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:s==="cash"?"#dcfce7":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:s==="cash",onChange:y=>l(y.target.value)}),n.jsx("span",{style:{fontWeight:"500"},children:" Cash"})]}),n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:s==="online"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:s==="online"?"#dcfce7":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:s==="online",onChange:y=>l(y.target.value)}),n.jsx("span",{style:{fontWeight:"500"},children:" Online"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsx("button",{type:"button",onClick:t,style:{flex:1,padding:"12px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:d,style:{flex:1,padding:"12px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:d?"not-allowed":"pointer",fontWeight:"500"},children:d?"Processing...":"Add Payment"})]})]})]})]})})},rhe=({booking:e,onClose:t,onExtend:r})=>{var C,T;const[a,i]=N.useState(1),[s,l]=N.useState(!1),[d,u]=N.useState(""),f=new Date(e.checkOutDate),p=new Date(f),m=typeof a=="string"?parseInt(a)||0:a;p.setDate(p.getDate()+m);const g=((C=e.roomId)==null?void 0:C.price)||0,v=g*m,j=e.gstType==="gst"||e.gstType==="igst"?v*.05:0,b=v+j,y=async E=>{E.preventDefault(),u("");const S=typeof a=="string"?parseInt(a):a;if(!S||S<1){u("Please select at least 1 additional night");return}l(!0);try{await r(e._id,p.toISOString().split("T")[0],S,b),t()}catch(A){u(A.message||"Failed to extend booking")}finally{l(!1)}};return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px 20px",backgroundColor:"#f59e0b",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",flexShrink:0},children:[n.jsxs("h3",{style:{margin:0},children:["Extend Stay - Room ",(T=e.roomId)==null?void 0:T.roomNumber]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",color:"white"},children:""})]}),d&&n.jsxs("div",{style:{padding:"12px 20px",backgroundColor:"#fee2e2",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[n.jsx($t,{size:16}),n.jsx("span",{style:{fontSize:"14px"},children:d})]}),n.jsxs("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0fdf4",borderRadius:"8px"},children:[n.jsxs("h4",{style:{margin:"0 0 10px"},children:["Guest: ",e.userName]}),n.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#6b7280"},children:["Phone: ",e.userPhone]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Current Booking"}),n.jsxs("div",{style:{fontSize:"14px",color:"#374151",marginBottom:"5px"},children:[n.jsx("strong",{children:"Check-in:"})," ",new Date(e.checkInDate).toLocaleDateString()]}),n.jsxs("div",{style:{fontSize:"14px",color:"#374151",marginBottom:"5px"},children:[n.jsx("strong",{children:"Current Check-out:"})," ",f.toLocaleDateString()]}),n.jsxs("div",{style:{fontSize:"14px",color:"#374151"},children:[n.jsx("strong",{children:"Current Nights:"})," ",e.nights]})]}),n.jsxs("form",{onSubmit:y,children:[n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Additional Nights *"}),n.jsx("input",{type:"number",value:a,onChange:E=>{const S=E.target.value;if(S===""||S===null)i("");else{const A=parseInt(S);!isNaN(A)&&A>=0&&i(A)}},onBlur:E=>{(E.target.value===""||parseInt(E.target.value)<1)&&i(1)},required:!0,min:"1",max:"30",style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"}})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#fef3c7",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px",color:"#92400e"},children:"Extended Booking Details"}),n.jsxs("div",{style:{fontSize:"14px",color:"#92400e",marginBottom:"5px"},children:[n.jsx("strong",{children:"New Check-out:"})," ",p.toLocaleDateString()]}),n.jsxs("div",{style:{fontSize:"14px",color:"#92400e",marginBottom:"5px"},children:[n.jsx("strong",{children:"Total Nights:"})," ",e.nights+m]}),n.jsxs("div",{style:{fontSize:"14px",color:"#92400e",marginBottom:"10px"},children:[n.jsx("strong",{children:"Additional Charge:"})," ",g,"  ",m," night",m>1?"s":""," = ",v.toFixed(2)]}),j>0&&n.jsxs("div",{style:{fontSize:"13px",color:"#92400e",marginBottom:"5px"},children:[n.jsxs("strong",{children:["GST (",e.gstType==="gst"?"CGST+SGST":"IGST"," 5%):"]})," ",j.toFixed(2)]}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"700",color:"#92400e",paddingTop:"10px",borderTop:"1px solid #fde68a"},children:[n.jsx("strong",{children:"Total Additional Amount:"})," ",b.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsx("button",{type:"button",onClick:t,style:{flex:1,padding:"12px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:s,style:{flex:1,padding:"12px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:s?"not-allowed":"pointer",fontWeight:"500"},children:s?"Extending...":"Extend Booking"})]})]})]})]})})},nhe=({booking:e,onClose:t,onCancelExtension:r})=>{var C;const[a,i]=N.useState(1),[s,l]=N.useState(!1),[d,u]=N.useState(""),f=e.extensions&&e.extensions.length>0?e.extensions[e.extensions.length-1]:null;if(!f)return null;const p=f.additionalNights,m=f.additionalAmount/f.additionalNights,g=m*a,v=T=>T?new Date(T).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",j=async T=>{T.preventDefault(),l(!0),u("");try{const E=await r(e._id,a);t()}catch(E){u(E.message)}finally{l(!1)}},b=new Date(e.checkOutDate),y=new Date(b);return y.setDate(b.getDate()-a),n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"0",maxWidth:"500px",width:"90%",margin:"16px",maxHeight:"90vh",overflowY:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #e5e7eb",backgroundColor:"#fef2f2",borderRadius:"12px 12px 0 0"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",margin:0,color:"#dc2626"},children:"Cancel Extension Days"}),n.jsxs("p",{style:{fontSize:"14px",color:"#6b7280",margin:"4px 0 0"},children:["Room ",(C=e.roomId)==null?void 0:C.roomNumber," - ",e.userName]})]}),n.jsx("button",{onClick:t,style:{color:"#6b7280",backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px"},children:n.jsx(On,{size:24})})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{style:{padding:"20px"},children:[d&&n.jsx("div",{style:{padding:"12px",backgroundColor:"#fef2f2",color:"#dc2626",borderRadius:"8px",marginBottom:"16px",fontSize:"14px"},children:d}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#fef3c7",borderRadius:"8px",marginBottom:"20px",border:"1px solid #f59e0b"},children:[n.jsx("h3",{style:{margin:"0 0 12px",fontSize:"16px",color:"#92400e"},children:"Current Extension Details"}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Extended Nights:"})," ",f.additionalNights," night(s)"]}),n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Extension Amount:"})," ",f.additionalAmount.toFixed(2)]}),n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Current Checkout:"})," ",v(e.checkOutDate)]}),n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Rate per Day:"})," ",m.toFixed(2)]})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Days to Cancel from Extension *"}),n.jsx("select",{value:a,onChange:T=>i(parseInt(T.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px"},required:!0,children:Array.from({length:p},(T,E)=>E+1).map(T=>n.jsxs("option",{value:T,children:[T," day",T>1?"s":""," - Refund ",(m*T).toFixed(2)]},T))}),n.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:["You can cancel 1 to ",p," days from the extension"]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",marginBottom:"20px",border:"1px solid #10b981"},children:[n.jsx("h3",{style:{margin:"0 0 12px",fontSize:"16px",color:"#166534"},children:"Cancellation Summary"}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Days to Cancel:"})," ",a," night",a>1?"s":""]}),n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Refund Amount:"})," ",g.toFixed(2)]}),n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"New Checkout Date:"})," ",v(y)]}),n.jsxs("p",{style:{margin:"4px 0"},children:[n.jsx("strong",{children:"Remaining Extension:"})," ",p-a," night",p-a!==1?"s":""]})]})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",padding:"20px",borderTop:"1px solid #e5e7eb",backgroundColor:"#f9fafb",borderRadius:"0 0 12px 12px"},children:[n.jsx("button",{type:"button",onClick:t,disabled:s,style:{padding:"10px 20px",backgroundColor:"white",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:s,style:{padding:"10px 20px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",opacity:s?.6:1},children:s?"Cancelling...":`Cancel ${a} Day${a>1?"s":""}`})]})]})]})})},ko=Tt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),ahe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState([]),[p,m]=N.useState(!0),[g,v]=N.useState(""),j=`
    .search-container {
      position: relative;
      flex: 1;
      max-width: 400px;
    }
    
    .search-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: #666;
      z-index: 1;
    }
    
    .search-input {
      width: 100%;
      padding: 10px 12px 10px 40px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      height: 38px;
    }
    
    .filter-buttons {
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    }
    
    .filter-select.compact {
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      height: 38px;
      min-width: 140px;
      background: white;
    }
    
    .legacy-filter-label {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      white-space: nowrap;
      cursor: pointer;
    }
    
    .legacy-filter-label input[type="checkbox"] {
      margin: 0;
    }
    
    .filters-bar {
      display: flex;
      gap: 16px;
      align-items: center;
      padding: 16px 20px;
      background: #f8f9fa;
      border-bottom: 1px solid #e5e7eb;
      flex-wrap: wrap;
    }
  `;N.useEffect(()=>{const ce=document.createElement("style");return ce.textContent=j,document.head.appendChild(ce),()=>{document.head.removeChild(ce)}},[]);const[b,y]=N.useState(!1),[C,T]=N.useState(null),[E,S]=N.useState(""),[A,k]=N.useState(""),[I,B]=N.useState("all"),[M,L]=N.useState("all"),[F,_]=N.useState(""),[G,P]=N.useState(!0),[D,R]=N.useState(1),[H,ne]=N.useState(1),me=10;N.useEffect(()=>{(async()=>{try{const[je,ie]=await Promise.all([ko.get("/branch"),ko.get("/table")]),ve=je.data||[];let Ne=[];ie.data&&ie.data.success&&Array.isArray(ie.data.data)?Ne=ie.data.data:Array.isArray(ie.data)&&(Ne=ie.data),console.log(" Branches API response:",ve),console.log(" Tables API response:",Ne),console.log(" Available branch IDs:",ve.map(ge=>ge._id)),console.log(" Available branch names:",ve.map(ge=>`${ge._id}: ${ge.name}`)),d(ve),f(Ne),await q(ve,Ne)}catch(je){console.error(" Error in fetchAllData:",je),d([]),f([]),v("Failed to load data. Please refresh the page.")}finally{m(!1)}})()},[]),N.useEffect(()=>{l.length>=0&&u.length>=0&&X()},[I,M,F]);const q=async(ce=l,je=u)=>{var ie,ve;try{if(!ce||ce.length===0){console.log(" Branches data is empty, fetching again...");try{ce=(await ko.get("/branch")).data||[],console.log(" Refetched branches:",ce),d(ce)}catch(V){console.error(" Error refetching branches:",V),ce=[]}}if(!je||je.length===0){console.log(" Tables data is empty, fetching again...");try{const fe=(await ko.get("/table")).data;fe&&fe.success&&Array.isArray(fe.data)?je=fe.data:Array.isArray(fe)?je=fe:je=[],console.log(" Refetched tables:",je),f(je)}catch(V){console.error(" Error refetching tables:",V),je=[]}}const Ne={};I!=="all"&&(Ne.status=I),F&&(Ne.date=F),console.log("Fetching reservations with params:",Ne);const ge=await ko.get("/reservation",{params:Ne});if(console.log(" Full reservation response:",ge),console.log(" Response status:",ge.status),console.log(" Response data:",ge.data),console.log(" Response data type:",typeof ge.data),console.log(" Response data keys:",ge.data?Object.keys(ge.data):"null"),ge.data&&ge.data.error)throw console.error(" API returned error:",ge.data.error),new Error(`API Error: ${ge.data.error}`);let Ye=[];if(ge.data&&ge.data.message==="Reservation routes working")console.log(" Server returning placeholder response - treating as empty result"),Ye=[];else if(ge.data&&ge.data.success&&Array.isArray(ge.data.data))console.log(" Using new format: {success, count, data}"),Ye=ge.data.data;else if(Array.isArray(ge.data))console.log(" Using old format: direct array"),Ye=ge.data;else if(ge.data&&ge.data.success===!1)console.log(" API returned success: false, treating as empty result"),Ye=[];else throw console.error(" Unexpected response format:",ge.data),console.error(" Expected either Array or {success, count, data}"),new Error("Invalid response format");console.log("Raw reservations data:",Ye),console.log("Available branches for processing:",ce),console.log("Available tables for processing:",je),console.log("Branches count:",ce.length),console.log("Tables count:",je.length);const Te=Ye.map(V=>{if(console.log("Processing reservation:",V),!V.tableId)return console.log("Legacy reservation without table:",V._id),{id:V._id,customerName:V.customerName,customerPhone:V.customerPhone,customerEmail:V.customerEmail||"",guestCount:V.guestCount,tableNumber:"N/A",tableName:"No Table Assigned",branchName:"Legacy Data",branchId:null,reservationDate:new Date(V.reservationDate).toLocaleDateString(),timeSlot:V.timeSlot,status:V.status,notes:V.notes||"",createdAt:new Date(V.createdAt).toLocaleString(),originalReservation:V,isLegacyReservation:!0};let fe="N/A";if(V.tableId)if(typeof V.tableId=="object")fe=V.tableId.number||"N/A";else{const W=je.find(Z=>Z._id===V.tableId);fe=(W==null?void 0:W.number)||"N/A"}let Ee="Unknown Branch",K=null;if(V.branchId)if(console.log(" Direct branchId found:",V.branchId),typeof V.branchId=="object")Ee=V.branchId.name||"Unknown Branch",K=V.branchId._id;else{console.log(` Looking for direct branch ID: ${V.branchId}`);const W=ce.find(Z=>Z._id===V.branchId);if(W)Ee=W.name,K=W._id,console.log(` Found direct branch: ${Ee}`);else{console.log(" Direct branch not found, trying string comparison...");const Z=ce.find(Q=>Q._id.toString()===V.branchId.toString());Z&&(Ee=Z.name,K=Z._id,console.log(` Found direct branch by string comparison: ${Ee}`))}}if(Ee==="Unknown Branch"&&V.tableId&&typeof V.tableId=="object"&&V.tableId.branchId){const W=V.tableId.branchId;if(console.log(` Looking for branch ID: ${W}`),console.log(" Available branches:",ce.map(Z=>`${Z._id}:${Z.name}`)),console.log(" Exact match check:",ce.find(Z=>Z._id===W)),typeof W=="object")Ee=W.name||"Unknown Branch",K=W._id;else{const Z=ce.find(Q=>Q._id===W);if(Z)Ee=Z.name,K=Z._id,console.log(` Found branch: ${Ee}`);else{console.log(` Branch not found for ID: ${W}`),console.log(" Trying string comparison...");const Q=ce.find(be=>be._id.toString()===W.toString());Q&&(Ee=Q.name,K=Q._id,console.log(` Found branch by string comparison: ${Ee}`))}}}if(Ee==="Unknown Branch"&&V.tableId){const W=typeof V.tableId=="object"?V.tableId._id:V.tableId,Z=je.find(Q=>Q._id===W);if(Z&&Z.branchId){const Q=ce.find(be=>be._id===(Z.branchId._id||Z.branchId));Q&&(Ee=Q.name,K=Q._id)}}console.log("Extracted info:",{tableNumber:fe,branchName:Ee,branchId:K});const re=new Date-new Date(V.createdAt)<24*60*60*1e3;return{id:V._id,customerName:V.customerName,customerPhone:V.customerPhone,customerEmail:V.customerEmail||"",guestCount:V.guestCount,tableNumber:fe,tableName:`Table ${fe}`,branchName:Ee,branchId:K,reservationDate:new Date(V.reservationDate).toLocaleDateString(),timeSlot:V.timeSlot,status:V.status,notes:V.notes||"",createdAt:new Date(V.createdAt).toLocaleString(),originalReservation:V,isNewReservation:re}});console.log("Formatted reservations:",Te);const qe=Array.isArray(Te)?Te.sort((V,fe)=>{const Ee=new Date(V.originalReservation.createdAt);return new Date(fe.originalReservation.createdAt)-Ee}):[];t(qe)}catch(Ne){console.error("Error fetching reservations:",Ne),console.error("Error details:",{message:Ne.message,response:(ie=Ne.response)==null?void 0:ie.data,status:(ve=Ne.response)==null?void 0:ve.status}),t([]),v("Failed to load reservations. Please refresh the page and try again.")}},X=async()=>{m(!0),v(""),await q(),m(!1)};N.useEffect(()=>{let ce=e;if(G||(ce=ce.filter(je=>!je.isLegacyReservation)),A.trim()){const je=A.trim().toLowerCase();ce=ce.filter(ie=>ie.customerName.toLowerCase().includes(je)||ie.customerPhone.includes(je)||ie.tableName.toLowerCase().includes(je)||ie.branchName.toLowerCase().includes(je)||ie.status.toLowerCase().includes(je))}M!=="all"&&(ce=ce.filter(je=>je.branchId===M)),s(ce),ne(Math.ceil(ce.length/me)),R(1)},[e,A,M,G]),N.useEffect(()=>{const ce=(D-1)*me,je=ce+me,ie=i.slice(ce,je);a(ie)},[i,D]);const z=ce=>{T(ce),y(!0)},te=async(ce,je)=>{try{await ko.put(`/reservation/${ce}`,{status:je}),S(`Reservation ${je} successfully`),X(),setTimeout(()=>S(""),3e3)}catch(ie){console.error("Error updating reservation:",ie),alert("Failed to update reservation status")}},U=async ce=>{if(window.confirm("Are you sure you want to cancel this reservation?"))try{await ko.put(`/reservation/${ce}/cancel`),S("Reservation cancelled successfully"),X(),setTimeout(()=>S(""),3e3)}catch(je){console.error("Error cancelling reservation:",je),alert("Failed to cancel reservation")}},ee=()=>{let ce=`Customer Name,Phone,Email,Table,Branch,Date,Time Slot,Guests,Status,Notes,Created At
`;i.forEach(Ne=>{ce+=`"${Ne.customerName}","${Ne.customerPhone}","${Ne.customerEmail}","${Ne.tableName}","${Ne.branchName}","${Ne.reservationDate}","${Ne.timeSlot}",${Ne.guestCount},"${Ne.status}","${Ne.notes}","${Ne.createdAt}"
`});const je=new Blob([ce],{type:"text/csv"}),ie=window.URL.createObjectURL(je),ve=document.createElement("a");ve.setAttribute("hidden",""),ve.setAttribute("href",ie),ve.setAttribute("download",`reservations-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(ve),ve.click(),document.body.removeChild(ve)},le=ce=>{switch(ce){case"confirmed":return"#28a745";case"reserved":return"#ffc107";case"cancelled":return"#dc3545";case"completed":return"#17a2b8";default:return"#6c757d"}};return n.jsxs("div",{className:"reservations-page",children:[E&&n.jsxs("div",{className:"success-message",children:[n.jsx(vn,{size:16}),n.jsx("span",{children:E}),n.jsx("button",{onClick:()=>S(""),children:n.jsx(On,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Table Reservations"}),e.length>0&&n.jsxs("div",{style:{fontSize:"14px",color:"#666",marginTop:"4px"},children:[e.filter(ce=>ce.isNewReservation).length," new reservations in the last 24 hours"]})]}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-outline",onClick:ee,children:[n.jsx(Ln,{size:16}),n.jsx("span",{children:"Export CSV"})]})})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Yt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by customer name, phone, table, or branch...",className:"search-input",value:A,onChange:ce=>k(ce.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select compact",value:I,onChange:ce=>B(ce.target.value),children:[n.jsx("option",{value:"all",children:"All Reservations"}),n.jsx("option",{value:"reserved",children:"New Reservations"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{className:"filter-select compact",value:M,onChange:ce=>L(ce.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(ce=>n.jsx("option",{value:ce._id,children:ce.name},ce._id))]}),n.jsx("input",{type:"date",className:"filter-select compact",value:F,onChange:ce=>_(ce.target.value),placeholder:"Filter by date"}),n.jsxs("label",{className:"legacy-filter-label",children:[n.jsx("input",{type:"checkbox",checked:G,onChange:ce=>P(ce.target.checked)}),n.jsx("span",{children:"Show Legacy Data"})]})]})]}),g&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx($t,{size:18}),n.jsx("span",{children:g})]}),n.jsx("div",{className:"data-card",children:p?n.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading reservations..."})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer Details"}),n.jsx("th",{children:"Table & Branch"}),n.jsx("th",{children:"Reservation Details"}),n.jsx("th",{children:"Guests"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(ce=>n.jsxs("tr",{style:{backgroundColor:ce.isNewReservation?"#f0f9ff":"transparent",borderLeft:ce.isNewReservation?"4px solid #0ea5e9":"none"},children:[n.jsx("td",{children:n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[n.jsx("strong",{style:{fontSize:"16px"},children:ce.customerName}),ce.isNewReservation&&n.jsx("span",{style:{backgroundColor:"#0ea5e9",color:"white",fontSize:"10px",fontWeight:"bold",padding:"2px 6px",borderRadius:"4px"},children:"NEW"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginTop:"4px"},children:[n.jsx(oi,{size:14}),n.jsx("span",{style:{fontSize:"14px"},children:ce.customerPhone})]}),ce.customerEmail&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginTop:"2px"},children:[n.jsx(eo,{size:14}),n.jsx("span",{style:{fontSize:"12px",color:"#666"},children:ce.customerEmail})]})]})}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px"},children:ce.tableName}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Iu,{size:14}),n.jsx("span",{style:{fontSize:"14px",color:ce.isLegacyReservation?"#999":"inherit",fontStyle:ce.isLegacyReservation?"italic":"normal"},children:ce.branchName})]})]})}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginBottom:"4px"},children:[n.jsx(Tr,{size:14}),n.jsx("span",{style:{fontSize:"14px",fontWeight:"bold"},children:ce.reservationDate})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(bi,{size:14}),n.jsx("span",{style:{fontSize:"14px"},children:ce.timeSlot})]}),ce.notes&&n.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px",fontStyle:"italic"},children:["Note: ",ce.notes]})]})}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",justifyContent:"center"},children:[n.jsx(Yi,{size:16}),n.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:ce.guestCount})]})}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>z(ce),title:"View full details",children:"View Details"}),ce.status==="reserved"&&n.jsx("button",{className:"action-btn edit",onClick:()=>te(ce.id,"confirmed"),title:"Confirm this reservation",children:" Confirm"}),ce.status==="confirmed"&&n.jsx("button",{className:"action-btn",style:{backgroundColor:"#17a2b8",color:"white"},onClick:()=>te(ce.id,"completed"),title:"Mark as completed",children:" Complete"}),(ce.status==="reserved"||ce.status==="confirmed")&&n.jsx("button",{className:"action-btn delete",onClick:()=>U(ce.id),title:"Cancel this reservation",children:" Cancel"}),ce.status==="completed"&&n.jsx("span",{style:{color:"#28a745",fontWeight:"bold",fontSize:"14px"},children:" Completed"})]})})]},ce.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"no-tables",children:"No reservations found matching your criteria"})})})]})}),H>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>R(ce=>Math.max(ce-1,1)),disabled:D===1||p,children:"Previous"}),n.jsx("div",{className:"pagination-pages",children:Array.from({length:Math.min(5,H)},(ce,je)=>{let ie;return H<=5||D<=3?ie=je+1:D>=H-2?ie=H-4+je:ie=D-2+je,n.jsx("button",{className:`pagination-page ${D===ie?"active":""}`,onClick:()=>R(ie),disabled:p,children:ie},ie)})}),n.jsx("button",{className:"pagination-btn",onClick:()=>R(ce=>Math.min(ce+1,H)),disabled:D===H||p,children:"Next"})]}),b&&C&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Reservation Details"}),n.jsx("button",{className:"modal-close",onClick:()=>y(!1),children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Customer Name"}),n.jsx("div",{className:"order-detail-value",children:C.customerName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Phone Number"}),n.jsx("div",{className:"order-detail-value",children:C.customerPhone})]}),C.customerEmail&&n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Email"}),n.jsx("div",{className:"order-detail-value",children:C.customerEmail})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table"}),n.jsx("div",{className:"order-detail-value",children:C.tableName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:C.branchName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Reservation Date"}),n.jsx("div",{className:"order-detail-value",children:C.reservationDate})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Time Slot"}),n.jsx("div",{className:"order-detail-value",children:C.timeSlot})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Number of Guests"}),n.jsx("div",{className:"order-detail-value",children:C.guestCount})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:"status-badge",style:{backgroundColor:le(C.status),color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold"},children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})})]}),C.notes&&n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Special Notes"}),n.jsx("div",{className:"order-detail-value",children:C.notes})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Created At"}),n.jsx("div",{className:"order-detail-value",children:C.createdAt})]})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:()=>y(!1),children:"Close"}),C.status==="reserved"&&n.jsx("button",{className:"btn btn-primary",onClick:()=>{te(C.id,"confirmed"),y(!1)},children:"Confirm Reservation"})]})]})})]})},ihe="https://hotelvirat.com/api/v1/hotel";class she{async request(t,r={}){const a=`${ihe}${t}`,i={headers:{"Content-Type":"application/json",...r.headers},...r},s=new AbortController,l=setTimeout(()=>s.abort(),15e3);i.signal=s.signal;try{const d=await fetch(a,i);if(clearTimeout(l),d.status===429)throw console.warn(" Rate limit hit, waiting 2 seconds before retry..."),await new Promise(p=>setTimeout(p,2e3)),new Error("Rate limit exceeded. Please wait a moment and try again.");const u=d.headers.get("content-type");if(!u||!u.includes("application/json")){const p=await d.text();throw console.error(" Non-JSON response:",p.substring(0,200)),new Error(`Server returned ${d.status}: Expected JSON but got ${u}`)}const f=await d.json();if(!d.ok)throw new Error(f.message||`HTTP error! status: ${d.status}`);return f}catch(d){throw clearTimeout(l),d.name==="AbortError"?new Error("Request timed out. Please check your connection and try again."):(console.error("API request failed:",d),d)}}async sendOtp(t){return this.request("/counter-auth/login/send-otp",{method:"POST",body:JSON.stringify({mobile:t})})}async resendOtp(t){return this.request("/counter-auth/login/resend-otp",{method:"POST",body:JSON.stringify({mobile:t})})}async verifyOtp(t,r){return this.request("/counter-auth/verify-otp",{method:"POST",body:JSON.stringify({mobile:t,otp:r,isRegistration:!1})})}async getBranches(){return this.request("/branch")}async getCategories(t){return this.request(`/category?branchId=${t}`)}async getMenuItems(t,r=null){let a=`/menu?branchId=${t}`;return r&&(a+=`&categoryId=${r}`),this.request(a)}async createInvoice(t){return this.request("/counter-invoice/invoices",{method:"POST",body:JSON.stringify(t)})}async createOrder(t){return this.request("/counter-order/orders-no-stock",{method:"POST",body:JSON.stringify(t)})}async getOrders(t){return this.request("/counter-order/orders")}async getOrdersByBranch(t){const r=await this.request("/counter-order/orders");let a=[];return r.success&&Array.isArray(r.data)?a=r.data:r.orders&&Array.isArray(r.orders)?a=r.orders:Array.isArray(r)&&(a=r),t?a.filter(i=>{var l,d;return(((l=i.branch)==null?void 0:l.id)||((d=i.branchId)==null?void 0:d._id)||i.branchId)===t}):a}async updateOrderStatus(t,r){return this.request(`/counter-order/orders/${t}/order-status`,{method:"PUT",body:JSON.stringify({orderStatus:r})})}async createBill(t){return this.request("/counter-bill",{method:"POST",body:JSON.stringify(t)})}async getBills(t){return this.request(`/counter-bill?branchId=${t}`)}async processPayment(t){return this.request("/counter-payment",{method:"POST",body:JSON.stringify(t)})}async generateInvoice(){const t=Date.now(),r=Math.floor(Math.random()*1e3);return{invoiceNumber:`INV-${t}-${r}`,invoiceId:`${t}${r}`,date:new Date().toLocaleDateString("en-IN"),time:new Date().toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"})}}}const Mn=new she,ohe=({message:e,type:t,onClose:r})=>(N.useEffect(()=>{const a=setTimeout(r,3e3);return()=>clearTimeout(a)},[r]),n.jsx("div",{className:`counter-toast ${t}`,children:e})),lhe=()=>{const e=sn(),[t,r]=N.useState(""),[a,i]=N.useState(""),[s,l]=N.useState(!1),[d,u]=N.useState(null),[f,p]=N.useState(!1),[m,g]=N.useState(30),[v,j]=N.useState(!1),[b,y]=N.useState(!1);N.useEffect(()=>{let A;return f&&m>0?A=setTimeout(()=>{g(m-1)},1e3):m===0&&p(!1),()=>clearTimeout(A)},[f,m]);const C=(A,k="success")=>{u({message:A,type:k})},T=async A=>{if(A.preventDefault(),t.length!==10||!/^\d{10}$/.test(t)){C("Please enter a valid 10-digit mobile number","error");return}j(!0);try{const k=await Mn.sendOtp(t);l(!0),p(!0),g(30),C(k.message),k.otp&&setTimeout(()=>{C(`Your OTP is ${k.otp}`,"success")},3e3)}catch(k){console.error("Error sending OTP:",k),C(k.message||"Error sending OTP","error")}finally{j(!1)}},E=async()=>{if(t.length!==10||!/^\d{10}$/.test(t)){C("Please enter a valid 10-digit mobile number","error");return}j(!0);try{const A=await Mn.resendOtp(t);p(!0),g(30),C(A.message),A.otp&&setTimeout(()=>{C(`Your new OTP is ${A.otp}`,"success")},3e3)}catch(A){console.error("Error resending OTP:",A),C(A.message||"Error resending OTP","error")}finally{j(!1)}},S=async A=>{if(A.preventDefault(),!a||a.length!==6){C("Please enter a valid 6-digit OTP","error");return}y(!0);try{const k=await Mn.verifyOtp(t,a),I=k.counter._id;console.log("Counter User ID:",I),localStorage.setItem("counterAuthenticated","true"),localStorage.setItem("counterUserId",I),localStorage.setItem("counterUserData",JSON.stringify(k.counter)),C(k.message),setTimeout(()=>{e("/counter/branch-selection")},1e3)}catch(k){console.error("Error verifying OTP:",k),C(k.message||"Error during login","error")}finally{y(!1)}};return n.jsxs("div",{className:"counter-container",children:[d&&n.jsx(ohe,{message:d.message,type:d.type,onClose:()=>u(null)}),n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("img",{src:"/logo.png",alt:"Virat Restaurant",style:{width:"120px",height:"120px",marginBottom:"20px"},onError:A=>{A.target.style.display="none"}}),n.jsx("h1",{className:"counter-title",children:"Counter Login"}),n.jsx("p",{className:"counter-subtitle",children:"Welcome back! Please login to continue"})]}),n.jsxs("form",{className:"counter-form",onSubmit:s?S:T,children:[n.jsxs("div",{className:"counter-form-group",children:[n.jsx("label",{className:"counter-label",children:"Mobile Number"}),n.jsx("input",{type:"tel",className:"counter-input",placeholder:"Enter 10 digit number",maxLength:10,value:t,onChange:A=>r(A.target.value),disabled:s||v,required:!0})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"counter-form-group",children:[n.jsx("label",{className:"counter-label",children:"OTP"}),n.jsx("input",{type:"text",className:"counter-input",placeholder:"Enter 6 digit OTP",maxLength:6,value:a,onChange:A=>i(A.target.value),required:!0})]}),n.jsx("div",{style:{textAlign:"right",marginBottom:"20px"},children:n.jsxs("button",{type:"button",className:"counter-button-secondary",onClick:E,disabled:f||v,style:{width:"auto",padding:"8px 16px",fontSize:"0.875rem",opacity:f?.5:1},children:[f?`Resend OTP in ${m}s`:"Resend OTP",v&&n.jsx("div",{className:"counter-spinner",style:{width:"16px",height:"16px",marginLeft:"8px"}})]})})]}),n.jsx("button",{type:"submit",className:"counter-button",disabled:v||b,children:v||b?n.jsx("div",{className:"counter-spinner",style:{width:"20px",height:"20px"}}):s?"Login":"Send OTP"})]})]})]})},che=()=>{const e=sn(),[t,r]=N.useState([]),[a,i]=N.useState(null),[s,l]=N.useState(!0),[d,u]=N.useState(null);N.useEffect(()=>{f()},[]);const f=async()=>{try{l(!0);const v=await Mn.getBranches(),j=v.branches||v.data||v||[];r(j)}catch(v){console.error("Error loading branches:",v),u("Failed to load branches. Please try again.")}finally{l(!1)}},p=v=>{i(v)},m=()=>{if(!a){alert("Please select a branch to continue");return}localStorage.setItem("selectedBranch",JSON.stringify(a)),e("/counter/menu",{state:{customerName:"Walk-in Customer",phoneNumber:"0000000000",selectedBranch:a,invoiceNumber:`INV-${Date.now()}`,date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),cartItems:[]}})},g=()=>{localStorage.removeItem("counterAuthenticated"),localStorage.removeItem("counterUserId"),localStorage.removeItem("counterUserData"),localStorage.removeItem("selectedBranch"),e("/counter/login")};return s?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading branches..."})]})})}):d?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("h3",{children:"Error"}),n.jsx("p",{children:d}),n.jsx("button",{className:"counter-button",onClick:f,children:"Retry"})]})})}):n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Select Branch"}),n.jsx("p",{className:"counter-subtitle",children:"Choose your branch to continue"}),n.jsx("button",{className:"counter-button-secondary",onClick:g,style:{position:"absolute",top:"20px",right:"20px",width:"auto",padding:"8px 16px"},children:"Logout"})]}),t.length===0?n.jsx("div",{className:"counter-error",children:n.jsx("p",{children:"No branches available. Please contact administrator."})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"counter-grid",children:t.map(v=>n.jsxs("div",{className:`counter-item ${(a==null?void 0:a._id)===v._id?"selected":""}`,onClick:()=>p(v),children:[n.jsx("h3",{style:{margin:"0 0 8px 0",color:"#1a202c"},children:v.name}),n.jsx("p",{style:{margin:"0 0 8px 0",color:"#718096",fontSize:"0.875rem"},children:v.address}),n.jsxs("p",{style:{margin:"0",color:"#4a5568",fontSize:"0.875rem"},children:[" ",v.phone]}),v.email&&n.jsxs("p",{style:{margin:"4px 0 0 0",color:"#4a5568",fontSize:"0.875rem"},children:[" ",v.email]})]},v._id))}),n.jsx("div",{style:{textAlign:"center",marginTop:"32px"},children:n.jsx("button",{className:"counter-button",onClick:m,disabled:!a,style:{maxWidth:"300px"},children:"Continue to Customer Details"})})]})]})})},dhe="modulepreload",uhe=function(e){return"/"+e},wD={},fhe=function(t,r,a){let i=Promise.resolve();if(r&&r.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),u=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=l(r.map(f=>{if(f=uhe(f),f in wD)return;wD[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":dhe,p||(g.as="script"),g.crossOrigin="",g.href=f,u&&g.setAttribute("nonce",u),document.head.appendChild(g),p)return new Promise((v,j)=>{g.addEventListener("load",v),g.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})},SD=e=>{if(!e)return null;if(e.startsWith("http://")||e.startsWith("https://"))return e;const t="https://hotelvirat.com";let r=e.toString().trim().replace(/\\/g,"/"),a;if(r.startsWith("/"))a=`${t}${r}`;else if(r.startsWith("uploads/"))a=`${t}/${r}`;else{const i=r.split("/").pop();a=`${t}/uploads/menu/${i}`}return a},hhe=e=>{if(!e)return null;if(e.startsWith("https://hotelvirat.com"))return e.replace("https://hotelvirat.com","https://hotelvirat.com");if(e.startsWith("https://hotelvirat.com")||e.startsWith("http://")||e.startsWith("https://"))return e;const t="https://hotelvirat.com";let r=e.toString().trim().replace(/\\/g,"/"),a;if(r.startsWith("/"))a=`${t}${r}`;else if(r.startsWith("uploads/"))a=`${t}/${r}`;else{const i=r.split("/").pop();a=`${t}/uploads/menu/${i}`}return a},phe=()=>{var qe;const e=sn(),r=ea().state,[a,i]=N.useState(""),[s,l]=N.useState(()=>localStorage.getItem("counterSelectedCategory")||"All"),[d,u]=N.useState([]),[f,p]=N.useState(["All"]),[m,g]=N.useState([]),[v,j]=N.useState([]),[b,y]=N.useState(!0),[C,T]=N.useState(null),[E,S]=N.useState({}),[A,k]=N.useState([]),[I,B]=N.useState(!1),[M,L]=N.useState(!1),[F,_]=N.useState(null),[G,P]=N.useState([]),[D,R]=N.useState(null),[H,ne]=N.useState(!1),[me,q]=N.useState(!1);N.useEffect(()=>{if(!r){e("/counter/customer-details");return}ee()},[r,e]),N.useEffect(()=>{const V=fe=>{const Ee=document.activeElement,K=Ee&&(Ee.tagName==="INPUT"||Ee.tagName==="TEXTAREA");if(fe.key==="Enter"&&d.length>0){if(K)return;console.log(` Global Enter key: Generating bill - ${d.length} items in cart`),Ye();return}if(H&&!K){const re=fe.key;if(/^[0-9a-zA-Z]$/.test(re)){let W=G.find(Z=>{var Q;return Z.number===re||Z.tableNumber===re||((Q=Z.number)==null?void 0:Q.toString())===re});if(!W&&/^[0-9]$/.test(re)){const Z=parseInt(re);W=G.find(Q=>{var be;return Q.number===Z||Q.tableNumber===Z||Q.tableNumber===`Table ${Z}`||Q.tableNumber===`${Z}`||((be=Q.number)==null?void 0:be.toString())===re})}if(W){R(W),console.log(` Table ${re} selected via keyboard shortcut:`,W);const Z=document.querySelector(`[data-table-id="${W._id}"]`);Z&&(Z.style.transform="scale(1.1)",Z.style.boxShadow="0 0 20px rgba(16, 185, 129, 0.6)",setTimeout(()=>{Z.style.transform="scale(1)",Z.style.boxShadow=""},300))}else console.log(` No table found with identifier: ${re}`)}}};return window.addEventListener("keydown",V),()=>{window.removeEventListener("keydown",V)}},[d,H,G]);const X=async()=>{L(!0);try{const V=await Mn.getOrdersByBranch().catch(()=>[]);console.log("Counter orders fetched:",V);const fe=new Date;fe.setDate(fe.getDate()-7);const Ee=V.filter(W=>new Date(W.createdAt||W.orderTime)>=fe);console.log("Recent counter orders (last 7 days):",Ee);const re=Ee.map(W=>({id:W.id||W._id,orderId:W.orderId||`COUNTER-${W.id}`,customerName:W.customerName||"Guest",phoneNumber:W.phoneNumber||"0000000000",createdAt:W.createdAt||W.orderTime,grandTotal:W.grandTotal||W.totalAmount,totalAmount:W.totalAmount||W.grandTotal,items:W.items||[],paymentStatus:W.paymentStatus||"completed",orderStatus:W.orderStatus||W.status||"completed",branchId:W.branchId||W.branch,subtotal:W.subtotal||W.totalAmount||W.grandTotal,invoiceId:W.invoiceId,paymentMethod:W.paymentMethod||"cash"})).sort((W,Z)=>new Date(Z.createdAt)-new Date(W.createdAt)).slice(0,15);k(re)}catch(V){console.error("Error loading order history:",V),k([])}finally{L(!1)}},z=async V=>{q(!0);try{console.log(` Fetching tables for category: ${V}`);const fe=await Mn.request("/table");console.log(" Raw tables response:",fe);let Ee=[];fe&&fe.success&&Array.isArray(fe.data)?(Ee=fe.data,console.log(" Using response.data format:",Ee)):Array.isArray(fe)?(Ee=fe,console.log(" Using direct array format:",Ee)):(console.log(" Unknown response format:",fe),Ee=[]);const K=Ee.map((W,Z)=>{var Q,be,Me,Ge;return{_id:W._id||`temp-id-${Z}`,id:W._id||`temp-id-${Z}`,number:W.number||`Table ${Z+1}`,tableNumber:W.number||`Table ${Z+1}`,capacity:W.capacity||null,status:W.status||"available",branchId:((Q=W.branchId)==null?void 0:Q._id)||W.branchId||null,branchName:((be=W.branchId)==null?void 0:be.name)||"Unknown Branch",categoryId:((Me=W.categoryId)==null?void 0:Me._id)||W.categoryId||null,categoryName:((Ge=W.categoryId)==null?void 0:Ge.name)||"All Categories"}});console.log(" All formatted tables:",K);const re=K.filter(W=>{var be;const Z=((be=W.categoryName)==null?void 0:be.toLowerCase())||"",Q=V.toLowerCase();return console.log(` Checking table ${W.number}: category="${Z}" vs target="${Q}"`),Q==="restaurant"?Z.includes("restaurant"):Q==="temple meals"?Z.includes("temple")||Z.includes("meals"):!1});console.log(` Filtered tables for ${V}:`,re),P(re)}catch(fe){console.error(" Error loading tables:",fe),P([])}finally{q(!1)}},te=V=>{l(V),localStorage.setItem("counterSelectedCategory",V),console.log(` Category selected and saved: ${V}`),V.toLowerCase()==="restaurant"||V.toLowerCase()==="temple meals"?(z(V),ne(!0),R(null),console.log(` Table selection required for category: ${V}`)):(ne(!1),R(null))},U=async V=>{if(F!==V.id){_(V.id);try{const fe=(await fhe(async()=>{const{default:re}=await Promise.resolve().then(()=>xhe);return{default:re}},[])).default,Ee=JSON.parse(localStorage.getItem("thermalPrinterSettings")||"{}"),K={selectedBranch:r.selectedBranch,invoiceNumber:V.orderId,date:new Date(V.createdAt).toLocaleDateString("en-IN"),time:new Date(V.createdAt).toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"}),customerName:V.customerName,phoneNumber:V.phoneNumber,cartItems:V.items.map(re=>({name:re.name,price:re.price,quantity:re.quantity})),total:V.grandTotal||V.totalAmount,paymentMethod:V.paymentMethod||"Cash",amountReceived:V.grandTotal||V.totalAmount,change:0};try{const re=fe.generateThermalBill(K),W="https://hotelvirat.com/api/v1/hotel",Z=Ee.ip||"192.168.1.100",Q=Ee.port||9100,be=new AbortController,Me=setTimeout(()=>be.abort(),3e3),Ge=await fetch(`${W}/print-thermal/network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:re,printerIP:Z,port:Q}),signal:be.signal});if(clearTimeout(Me),Ge.ok)alert(" Bill reprinted successfully!");else throw new Error("Thermal printer not responding")}catch(re){console.log("Direct thermal printing failed, trying thermal printer service:",re.message);const W={method:"network",printerIP:Ee.ip||"192.168.1.100",port:Ee.port||9100};await Promise.race([fe.printBill(K,W),new Promise((Z,Q)=>setTimeout(()=>Q(new Error("Print operation timed out")),5e3))]),alert(" Bill reprinted successfully!")}}catch(fe){console.error("Reprint error:",fe),alert(" Failed to reprint bill: "+(fe.message||"Unknown error"))}finally{_(null)}}},ee=async()=>{try{y(!0),T(null);const[V,fe]=await Promise.all([Mn.getCategories(r.selectedBranch._id),Mn.request("/menu")]),Ee=["All"];if(V){const re=V.categories||V;Array.isArray(re)&&re.length>0&&re.forEach(W=>{const Z=W.name||W.categoryName||W.title;Z&&!Ee.includes(Z)&&Ee.push(Z)})}let K=[];if(fe){const re=fe.menu||fe.menuItems||fe.data||fe;Array.isArray(re)&&(K=re.map(W=>{let Z=0;if(W.price!==void 0&&W.price!==null)Z=W.price;else if(W.prices&&typeof W.prices=="object"){const be=Object.values(W.prices);be.length>0&&(Z=be[0])}Z=Number(Z)||0;let Q=SD(W.image);return{...W,_id:W._id||W.id,name:W.name||W.itemName||W.title,price:Z,description:W.description||W.desc||"",image:Q,categoryId:W.categoryId||W.category||null}}))}p(Ee),console.log(" All categories loaded:",Ee),console.log(" Categories after Restaurant filter:",Ee.filter(re=>re.toLowerCase()!=="restaurant")),j(K),g(K)}catch(V){console.error("Error loading menu data:",V),V.message.includes("Rate limit")?T("Too many requests. Please wait a moment and refresh the page."):T("Failed to load menu data. Please try again.")}finally{y(!1)}};N.useEffect(()=>{le()},[a,s,v]),N.useEffect(()=>{if(f.length>0){const V=localStorage.getItem("counterSelectedCategory");V&&!f.includes(V)&&(l("All"),localStorage.setItem("counterSelectedCategory","All"),console.log(` Saved category "${V}" not found, reset to "All"`))}},[f]);const le=()=>{let V=[...v];if(s!=="All"&&(V=V.filter(fe=>{var K,re,W,Z;return(((K=fe.categoryId)==null?void 0:K.name)||((re=fe.categoryId)==null?void 0:re.categoryName)||((W=fe.category)==null?void 0:W.name)||((Z=fe.category)==null?void 0:Z.categoryName)||"").toLowerCase()===s.toLowerCase()})),a.trim()){const fe=a.trim(),Ee=fe.toLowerCase();V=V.filter(K=>{const re=(K.name||"").toLowerCase(),W=(K.description||"").toLowerCase();return/^\d+$/.test(fe)?re.startsWith(fe+" ")||re.startsWith(fe+"	"):re.includes(Ee)||W.includes(Ee)})}g(V)},ce=V=>{if((s.toLowerCase()==="restaurant"||s.toLowerCase()==="temple meals")&&!D){alert(`Please select a table first for ${s} orders`);return}ve(V._id,1)},je=(V,fe)=>{S(Ee=>({...Ee,[V]:fe})),ve(V,fe)},ie=(V,fe)=>{S(Ee=>{const K={...Ee};return delete K[V],K})},ve=(V,fe)=>{let Ee=parseInt(fe);(isNaN(Ee)||Ee<0)&&(Ee=0);const K=Math.max(0,Ee);u(re=>{const W=re.findIndex(Z=>Z._id===V);if(K===0){if(W>=0){const Z=[...re];return Z.splice(W,1),Z}return re}else if(W>=0){const Z=[...re];return Z[W]={...Z[W],quantity:K},Z}else{const Z=v.find(Q=>Q._id===V);return Z?[...re,{...Z,quantity:K}]:re}})},Ne=V=>{const fe=d.find(Ee=>Ee._id===V);return fe?fe.quantity:0},ge=()=>d.reduce((V,fe)=>V+(fe.price||0)*fe.quantity,0),Ye=()=>{if(d.length===0){alert("Please add items to the cart first");return}e("/counter/bill-generation",{state:{...r,cartItems:d,totalAmount:ge()}})},Te=()=>{e("/counter/customer-details")};return r?b?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading menu..."})]})})}):C?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("h3",{children:"Error"}),n.jsx("p",{children:C}),n.jsx("button",{className:"counter-button",onClick:ee,children:"Retry"})]})})}):n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsx("div",{className:"counter-header",style:{marginBottom:"24px"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"counter-title",style:{fontSize:"1.5rem"},children:[r.customerName,"'s Order"]}),n.jsxs("p",{className:"counter-subtitle",children:[r.selectedBranch.name,"  ",r.invoiceNumber,"  ",r.date,"  ",r.time]})]}),n.jsxs("button",{onClick:()=>{I||X(),B(!I)},style:{background:I?"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"12px",padding:"12px 20px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:I?"0 4px 15px rgba(239, 68, 68, 0.3)":"0 4px 15px rgba(102, 126, 234, 0.3)",display:"flex",alignItems:"center",gap:"8px"},onMouseOver:V=>{V.target.style.transform="translateY(-2px)",V.target.style.boxShadow=I?"0 6px 20px rgba(239, 68, 68, 0.4)":"0 6px 20px rgba(102, 126, 234, 0.4)"},onMouseOut:V=>{V.target.style.transform="translateY(0)",V.target.style.boxShadow=I?"0 4px 15px rgba(239, 68, 68, 0.3)":"0 4px 15px rgba(102, 126, 234, 0.3)"},title:I?"Hide order history":"View recent orders",children:[" ",I?"Hide History":"Order History"]})]})}),I&&n.jsxs("div",{style:{background:"white",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"20px",marginBottom:"24px",maxHeight:"400px",overflowY:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:"600",color:"#1f2937"},children:"Recent Orders"}),n.jsx("button",{onClick:X,disabled:M,style:{background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",padding:"6px 12px",fontSize:"0.75rem",cursor:M?"not-allowed":"pointer",opacity:M?.6:1},children:M?" Loading...":" Refresh"})]}),M?n.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#6b7280"},children:"Loading order history..."}):A.length===0?n.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#6b7280"},children:"No recent orders found"}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:A.map((V,fe)=>{var Ee;return n.jsxs("div",{style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"4px"},children:[n.jsx("span",{style:{fontWeight:"600",fontSize:"0.9rem",color:"#1f2937"},children:V.orderId||V.invoice||`Order #${fe+1}`}),n.jsx("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:V.customerName||"Unknown Customer"})]}),n.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:[new Date(V.createdAt||V.orderTime).toLocaleString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}),"  ",((Ee=V.items)==null?void 0:Ee.length)||0," items"]})]}),n.jsxs("div",{style:{textAlign:"right",display:"flex",alignItems:"center",gap:"12px"},children:[n.jsxs("div",{children:[n.jsxs("div",{style:{fontWeight:"600",fontSize:"0.9rem",color:"#1f2937"},children:["",(V.grandTotal||V.totalAmount||0).toFixed(2)]}),n.jsx("div",{style:{fontSize:"0.75rem",marginTop:"2px"},children:n.jsx("span",{style:{padding:"2px 6px",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"500",background:V.paymentStatus==="completed"?"#d1fae5":"#fef3c7",color:V.paymentStatus==="completed"?"#065f46":"#92400e"},children:V.paymentStatus==="completed"?"Paid":"Pending"})})]}),n.jsx("button",{onClick:()=>U(V),disabled:F===V.id,style:{background:F===V.id?"#9ca3af":"#3b82f6",color:"white",border:"none",borderRadius:"6px",padding:"8px 12px",fontSize:"0.75rem",fontWeight:"500",cursor:F===V.id?"not-allowed":"pointer",transition:"all 0.2s",whiteSpace:"nowrap"},onMouseOver:K=>{F!==V.id&&(K.target.style.background="#2563eb")},onMouseOut:K=>{F!==V.id&&(K.target.style.background="#3b82f6")},title:"Reprint bill for this order",children:F===V.id?" Printing...":" Reprint"})]})]},V.id||fe)})})]}),n.jsx("div",{style:{marginBottom:"20px"},children:n.jsx("input",{type:"text",className:"counter-input",placeholder:"Search for dishes... (Type number + Enter to add, Empty + Enter to generate bill)",value:a,onChange:V=>i(V.target.value),onKeyDown:V=>{if(V.key==="Enter"){const fe=a.trim();if(fe==="")d.length>0?(console.log(` Generating bill via Enter key - ${d.length} items in cart`),Ye()):console.log(" Cannot generate bill - cart is empty");else if(/^\d+$/.test(fe)&&m.length>0){const K=m.find(re=>{const W=(re.name||"").toLowerCase();return W.startsWith(fe+" ")||W.startsWith(fe+"	")});K?(ce(K),i(""),console.log(` Added ${K.name} to cart via Enter key`)):console.log(` No item found starting with "${fe}"`)}}}})}),n.jsx("div",{style:{marginBottom:"20px"},children:n.jsx("div",{className:"counter-category-scroll",children:f.map(V=>n.jsx("button",{className:`counter-button ${s===V?"":"counter-button-secondary"}`,onClick:()=>te(V),style:{minWidth:"auto",padding:"8px 16px",fontSize:"0.875rem",whiteSpace:"nowrap"},children:V},V))})}),H&&n.jsxs("div",{style:{background:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"16px",marginBottom:"20px"},children:[n.jsxs("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#1f2937",fontWeight:"600"},children:[" Select Table for ",s,n.jsx("span",{style:{fontSize:"0.75rem",color:"#6b7280",fontWeight:"400",marginLeft:"8px"},children:"(Click or press number key)"})]}),me?n.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#6b7280"},children:"Loading tables..."}):G.length===0?n.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#6b7280"},children:"No tables available"}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"8px",maxHeight:"200px",overflowY:"auto"},children:G.map(V=>{var fe;return n.jsx("button",{"data-table-id":V._id||V.id,onClick:()=>{R(V),console.log(" Table selected:",V)},style:{background:(D==null?void 0:D._id)===V._id||(D==null?void 0:D.id)===V.id?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"white",color:(D==null?void 0:D._id)===V._id||(D==null?void 0:D.id)===V.id?"white":"#374151",border:(D==null?void 0:D._id)===V._id||(D==null?void 0:D.id)===V.id?"2px solid #10b981":"2px solid #e5e7eb",borderRadius:"8px",padding:"12px 8px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center",minHeight:"50px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseOver:Ee=>{(D==null?void 0:D._id)!==V._id&&(D==null?void 0:D.id)!==V.id&&(Ee.target.style.background="#f3f4f6",Ee.target.style.borderColor="#d1d5db")},onMouseOut:Ee=>{(D==null?void 0:D._id)!==V._id&&(D==null?void 0:D.id)!==V.id&&(Ee.target.style.background="white",Ee.target.style.borderColor="#e5e7eb")},title:`Press ${V.number} on keyboard to select`,children:V.tableNumber||V.number||`Table ${(fe=V._id)==null?void 0:fe.slice(-3)}`},V._id||V.id)})}),D&&n.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",background:"#d1fae5",border:"1px solid #10b981",borderRadius:"6px",fontSize:"0.875rem",color:"#065f46",fontWeight:"500"},children:[" Selected: ",D.tableNumber||D.number||`Table ${(qe=D._id)==null?void 0:qe.slice(-3)}`]})]}),m.length===0?n.jsx("div",{className:"counter-error",children:n.jsx("p",{children:a?"No items found for your search":"No menu items available"})}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"12px",margin:"16px 0",maxHeight:"50vh",overflowY:"auto",paddingRight:"8px",width:"100%"},children:m.map(V=>{const fe=Ne(V._id);return n.jsxs("div",{id:`counter-item-${V._id}`,style:{background:"white",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"14px",cursor:"pointer",transition:"all 0.3s ease",minHeight:"110px",maxHeight:"130px",display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%"},children:[n.jsxs("div",{style:{display:"flex",gap:"12px",height:"65px"},children:[n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[n.jsx("h3",{style:{margin:"0 0 3px 0",fontSize:"0.9rem",lineHeight:"1.2",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:V.name}),n.jsxs("p",{style:{margin:"0 0 3px 0",color:"#718096",fontSize:"0.8rem",fontWeight:"600"},children:["",V.price.toFixed(2)]}),V.description&&n.jsx("p",{style:{margin:"0",color:"#4a5568",fontSize:"0.7rem",lineHeight:"1.2",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:V.description})]}),n.jsx("div",{style:{width:"55px",height:"55px",flexShrink:0},children:n.jsx("img",{src:SD(V.image)||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='55' height='55'%3E%3Crect fill='%23f3f4f6' width='55' height='55'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='9' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ENo Image%3C/text%3E%3C/svg%3E",alt:V.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px",backgroundColor:"#f3f4f6"},onError:Ee=>{const K=hhe(V.image);K&&Ee.target.src!==K?Ee.target.src=K:(Ee.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='55' height='55'%3E%3Crect fill='%23f3f4f6' width='55' height='55'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='9' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ENo Image%3C/text%3E%3C/svg%3E",Ee.target.onerror=null)}})})]}),n.jsx("div",{style:{marginTop:"8px"},children:fe>0?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"center"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:()=>ve(V._id,fe-1),style:{width:"26px",height:"26px",padding:"0",fontSize:"0.95rem",minHeight:"auto",border:"1px solid #667eea",borderRadius:"6px"},children:"-"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:n.jsx("input",{type:"number",min:"0",value:E[V._id]!==void 0?E[V._id]:fe,onChange:Ee=>je(V._id,Ee.target.value),onKeyDown:Ee=>{Ee.key==="Enter"&&Ee.target.blur()},style:{width:"40px",height:"26px",textAlign:"center",border:"1px solid #e2e8f0",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"600",padding:"0 4px",outline:"none",transition:"border-color 0.2s ease"},onFocus:Ee=>{Ee.target.select(),Ee.target.style.borderColor="#667eea"},onBlur:Ee=>{Ee.target.style.borderColor="#e2e8f0",ie(V._id,Ee.target.value)}})}),n.jsx("button",{className:"counter-button",onClick:()=>ve(V._id,fe+1),style:{width:"26px",height:"26px",padding:"0",fontSize:"0.95rem",minHeight:"auto",borderRadius:"6px"},children:"+"})]}):n.jsx("button",{className:"counter-button",onClick:()=>ce(V),style:{width:"100%",padding:"6px 12px",fontSize:"0.75rem",minHeight:"auto",borderRadius:"6px"},children:"ADD"})})]},V._id)})}),d.length>0&&n.jsxs("div",{className:"counter-cart-summary",children:[n.jsxs("div",{children:[n.jsxs("div",{style:{fontSize:"0.875rem",opacity:.9},children:[d.reduce((V,fe)=>V+fe.quantity,0)," Items"]}),n.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"700"},children:["",ge().toFixed(2)]})]}),n.jsx("button",{className:"counter-button",onClick:Ye,style:{background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",width:"auto",padding:"12px 24px"},children:"Generate Bill "})]}),n.jsx("div",{style:{marginTop:"20px",textAlign:"center"},children:n.jsx("button",{className:"counter-button-secondary",onClick:Te,style:{width:"auto",padding:"8px 16px"},children:" Back to Customer Details"})})]})}):n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Customer data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/customer-details"),children:"Go Back"})]})})})};class mhe{constructor(){this.printerWidth=42,this.isElectron=typeof window<"u"&&window.electronAPI}formatLine(t,r="left"){const a=this.printerWidth;if(t.length>a)return t.substring(0,a);switch(r){case"center":const i=Math.floor((a-t.length)/2);return" ".repeat(Math.max(0,i))+t;case"right":return" ".repeat(Math.max(0,a-t.length))+t;default:return t}}formatTwoColumn(t,r){const a=this.printerWidth,i=t.length+r.length;if(i>=a)return t.substring(0,a-r.length-1)+" "+r;const s=a-i;return t+" ".repeat(s)+r}createSeparator(t="-"){return t.repeat(this.printerWidth)}generateThermalReceipt(t){const r=[];r.push(this.formatLine("HOTEL VIRAT SIRI DARSHINI","center")),r.push(this.formatLine("ISKON FOOTHILLS, 149/A, R BLOCK","center")),r.push(this.formatLine("WOC ROAD, RAJAJINAGAR BLR 560010","center")),r.push(this.formatLine("GSTIN: 29AGZPV1558K2Z6","center")),r.push(this.formatTwoColumn("SELF SERVICE","C1/as")),r.push(this.createSeparator("-"));const a=new Date(t.date),i=`${a.getMonth()+1}/${a.getDate()}/${a.getFullYear()}`;r.push(this.formatLine(i,"right")),r.push(this.formatTwoColumn("BILL NO:",t.invoiceNumber.replace("INV-",""))),r.push(this.createSeparator("-")),r.push("ITEM NAME              QTY RATE AMOUNT"),r.push(this.createSeparator("-")),t.cartItems.forEach(l=>{const d=l.name.toUpperCase(),u=parseFloat(l.quantity).toString(),f=parseFloat(l.price).toString(),p=parseFloat(l.price*l.quantity).toString();let m=d.substring(0,22).padEnd(22);m+=u.padStart(4),m+=f.padStart(5),m+=p.padStart(7),r.push(m)}),r.push(this.createSeparator("-"));const s=t.cartItems.reduce((l,d)=>l+d.price*d.quantity,0);return r.push(this.createSeparator("-")),r.push(this.formatTwoColumn("GRAND TOTAL:",parseFloat(s).toString())),r.push(this.createSeparator("-")),t.paymentMethod!=="Pending"&&r.push(this.formatTwoColumn("PAYMENT:",t.paymentMethod.toUpperCase())),r.push(this.formatLine("!! THANK YOU, VISIT AGAIN !!","center")),r.push(""),r.push(""),r.join(`
`)}generateThermalBill(t){const r=[];r.push(this.formatLine("HOTEL VIRAT SIRI DARSHINI","center")),r.push(this.formatLine("ISKON FOOTHILLS, 149/A, R BLOCK","center")),r.push(this.formatLine("WOC ROAD, RAJAJINAGAR BLR 560010","center")),r.push(this.formatLine("GSTIN: 29AGZPV1558K2Z6","center")),r.push(this.formatTwoColumn("SELF SERVICE","C1/as")),r.push(this.createSeparator("-"));const a=new Date(t.date),i=`${a.getMonth()+1}/${a.getDate()}/${a.getFullYear()}`;r.push(this.formatLine(i,"right")),r.push(this.formatTwoColumn("BILL NO:",t.invoiceNumber.replace("INV-",""))),r.push(this.createSeparator("-")),r.push("ITEM NAME              QTY RATE AMOUNT"),r.push(this.createSeparator("-")),t.cartItems.forEach(l=>{const d=l.name.toUpperCase(),u=parseFloat(l.quantity).toString(),f=parseFloat(l.price).toString(),p=parseFloat(l.price*l.quantity).toString();let m=d.substring(0,22).padEnd(22);m+=u.padStart(4),m+=f.padStart(5),m+=p.padStart(7),r.push(m)}),r.push(this.createSeparator("-"));const s=t.cartItems.reduce((l,d)=>l+d.price*d.quantity,0);return r.push(this.createSeparator("-")),r.push(this.formatTwoColumn("GRAND TOTAL:",parseFloat(s).toString())),r.push(this.createSeparator("-")),r.push(this.formatLine("!! THANK YOU, VISIT AGAIN !!","center")),r.push(""),r.push(""),r.join(`
`)}async printViaElectron(t){if(!this.isElectron)throw new Error("Electron API not available");try{return await window.electronAPI.printThermal({text:t,options:{preview:!1,margin:{top:0,bottom:0,left:0,right:0},pageSize:{width:80,height:200}}})}catch(r){throw console.error("Electron thermal printing failed:",r),r}}async printViaWebSerial(t){if(!("serial"in navigator))throw new Error("Web Serial API not supported in this browser");try{const r=await navigator.serial.requestPort({filters:[{usbVendorId:1208},{usbVendorId:1305},{usbVendorId:4070}]});await r.open({baudRate:9600});const a=new TextEncoder,i=r.writable.getWriter();return await i.write(a.encode("\x1B@")),await i.write(a.encode("\x1B!\0")),await i.write(a.encode("\x1Ba\0")),await i.write(a.encode(t)),await i.write(a.encode("VB\0")),await i.write(a.encode(`


`)),i.releaseLock(),await r.close(),{success:!0,message:"Receipt printed successfully via USB"}}catch(r){throw r.name==="NotFoundError"?new Error("No thermal printer selected. Please connect a USB thermal printer and try again."):(console.error("Web Serial printing failed:",r),new Error(`USB printing failed: ${r.message}`))}}async printViaNetwork(t,r="192.168.1.100",a=9100){try{const i="https://hotelvirat.com/api/v1/hotel",s=new AbortController,l=setTimeout(()=>s.abort(),3e3),d=await fetch(`${i}/print-thermal/network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,printerIP:r,port:a}),signal:s.signal});clearTimeout(l);const u=await d.json();if(!d.ok)throw u.error&&(u.error.includes("timeout")||u.error.includes("Connection timeout")||u.error.includes("ECONNREFUSED")||u.error.includes("EHOSTUNREACH"))?new Error(`Thermal printer not found at ${r}:${a}. Please check printer connection and IP address.`):new Error(`Network printing failed: ${u.message||d.statusText}`);return u}catch(i){throw i.name==="AbortError"?new Error(`Network printing timed out. Printer at ${r}:${a} is not responding.`):(console.error("Network thermal printing failed:",i),i)}}printViaBrowser(t){return new Promise(r=>{try{const a=window.open("","_blank","width=400,height=600");if(!a){this.printInCurrentWindowSafe(t),r({success:!0,method:"current-window"});return}const i=`
          <!DOCTYPE html>
          <html>
          <head>
            <title>Receipt</title>
            <style>
              @media print {
                @page {
                  size: 80mm auto;
                  margin: 0;
                }
                body {
                  margin: 0;
                  padding: 5mm;
                  font-family: 'Courier New', monospace;
                  font-size: 12px;
                  line-height: 1.2;
                  width: 70mm;
                }
              }
              body {
                font-family: 'Courier New', monospace;
                font-size: 12px;
                line-height: 1.2;
                margin: 0;
                padding: 10px;
                width: 300px;
                background: white;
              }
              pre {
                margin: 0;
                white-space: pre-wrap;
                word-wrap: break-word;
              }
            </style>
          </head>
          <body>
            <pre>${t}</pre>
            <script>
              window.onload = function() {
                try {
                  window.print();
                  setTimeout(function() {
                    try {
                      window.close();
                    } catch(e) {
                      console.log('Could not close print window:', e);
                    }
                  }, 1000);
                } catch(e) {
                  console.log('Print failed:', e);
                  setTimeout(function() {
                    try {
                      window.close();
                    } catch(e2) {
                      console.log('Could not close window after print failure:', e2);
                    }
                  }, 500);
                }
              }
            <\/script>
          </body>
          </html>
        `;a.document.write(i),a.document.close(),r({success:!0,method:"popup-window"})}catch(a){console.error("Browser print failed:",a),this.printInCurrentWindowSafe(t),r({success:!0,method:"current-window-fallback"})}})}printInCurrentWindowSafe(t){try{const r=document.createElement("div");r.id="thermal-print-temp-"+Date.now(),r.innerHTML=`
        <div style="display: none;">
          <style>
            @media print {
              body * { visibility: hidden; }
              #${r.id}, #${r.id} * { visibility: visible; }
              #${r.id} {
                position: absolute;
                left: 0;
                top: 0;
                width: 80mm;
                font-family: 'Courier New', monospace;
                font-size: 12px;
                line-height: 1.2;
              }
            }
          </style>
          <pre>${t}</pre>
        </div>
      `,document.body.appendChild(r),setTimeout(()=>{try{window.print()}catch(a){console.error("Print dialog failed:",a)}setTimeout(()=>{try{document.body.contains(r)&&document.body.removeChild(r)}catch(a){console.error("Cleanup failed:",a)}},2e3)},100)}catch(r){console.error("Safe print method failed:",r),console.log("Receipt content:",t)}}async printReceipt(t,r={}){const a=this.generateThermalReceipt(t);return this.executePrintWithTimeout(a,r)}async printBill(t,r={}){const a=this.generateThermalBill(t);return this.executePrintWithTimeout(a,r)}async executePrintWithTimeout(t,r={},a=5e3){return Promise.race([this.executePrint(t,r),new Promise((i,s)=>setTimeout(()=>s(new Error("Print operation timed out")),a))]).catch(i=>{console.error("Print operation failed or timed out:",i);try{return this.printViaBrowser(t)}catch(s){return console.error("Even browser fallback failed:",s),{success:!1,method:"failed",error:i.message}}})}async executePrint(t,r={}){const{method:a="auto",printerIP:i,port:s}=r;console.log("Generated thermal print text:",t);try{switch(a){case"electron":return await this.printViaElectron(t);case"serial":return await this.printViaWebSerial(t);case"network":return await this.printViaNetwork(t,i,s);case"browser":return this.printViaBrowser(t);case"auto":default:let l=null;if(this.isElectron)try{return await this.printViaElectron(t)}catch(d){l=d,console.log("Electron printing failed, trying next method:",d.message)}if(i&&i!=="192.168.1.100")try{return await this.printViaNetwork(t,i,s)}catch(d){l=d,console.log("Network printing failed, trying next method:",d.message)}return console.log("Using browser print fallback"),this.printViaBrowser(t)}}catch(l){return console.error("Print method failed:",l),console.log("All methods failed, using browser fallback"),this.printViaBrowser(t)}}}const Zi=new mhe,xhe=Object.freeze(Object.defineProperty({__proto__:null,default:Zi},Symbol.toStringTag,{value:"Module"})),ghe=()=>{const e=sn(),r=ea().state,[a,i]=N.useState(!1),[s,l]=N.useState(null),[d,u]=N.useState((r==null?void 0:r.cartItems)||[]);if(N.useEffect(()=>{const T=async E=>{if(E.key==="Enter"){const S=document.activeElement;if(S&&(S.tagName==="INPUT"||S.tagName==="TEXTAREA")||a)return;await j(),setTimeout(()=>{f()},500)}};return window.addEventListener("keydown",T),()=>{window.removeEventListener("keydown",T)}},[a,d]),!r)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Order data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/menu"),children:"Go Back"})]})})});const f=async()=>{try{const T=localStorage.getItem("counterUserData"),E=T?JSON.parse(T):null;if(!E||!E.id){console.error(" Counter user not found in localStorage"),e("/counter/menu",{state:{customerName:r.customerName,phoneNumber:r.phoneNumber,selectedBranch:r.selectedBranch,invoiceNumber:`INV-${Date.now()}`,date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString()}});return}console.log(" Creating invoice...");const S={customerName:r.customerName||"Walk-in Customer",phoneNumber:r.phoneNumber||"0000000000",branchId:r.selectedBranch._id,date:r.date||new Date().toLocaleDateString("en-IN"),time:r.time||new Date().toLocaleTimeString("en-IN",{hour12:!0})},A=await Mn.createInvoice(S);console.log(" Invoice created:",A.invoice),console.log(" Creating order...");const k={userId:E.id,customerName:r.customerName||"Walk-in Customer",phoneNumber:r.phoneNumber||"0000000000",branchId:r.selectedBranch._id,invoiceId:A.invoice.id,items:d.map(B=>({menuItemId:B.id||"507f1f77bcf86cd799439013",name:B.name,quantity:B.quantity,price:B.price})),subtotal:y,tax:0,serviceCharge:0,totalAmount:y,grandTotal:y,paymentMethod:"cash",orderStatus:"completed",paymentStatus:"completed"};console.log(" Saving web order to CounterOrder collection:",k);const I=await Mn.createOrder(k);console.log(" Web order saved to database successfully:",I),console.log(" Order will now appear in /counter-orders and SalesReports!")}catch(T){console.error(" Failed to save web order to database:",T)}e("/counter/menu",{state:{customerName:r.customerName,phoneNumber:r.phoneNumber,selectedBranch:r.selectedBranch,invoiceNumber:`INV-${Date.now()}`,date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString()}})},p=()=>{e("/counter/menu",{state:{customerName:"",phoneNumber:"",selectedBranch:r.selectedBranch,invoiceNumber:`INV-${Date.now()}`,date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),cartItems:[]}})},m=T=>{const E=d.filter((S,A)=>A!==T);u(E),E.length===0&&e("/counter/menu",{state:{customerName:r.customerName,phoneNumber:r.phoneNumber,selectedBranch:r.selectedBranch,invoiceNumber:r.invoiceNumber,date:r.date,time:r.time,cartItems:[]}})},g=()=>{e("/counter/menu",{state:{...r,cartItems:d}})},v=async()=>{if(!a){i(!0),l(null);try{const T=JSON.parse(localStorage.getItem("thermalPrinterSettings")||"{}"),S=d.reduce((k,I)=>k+I.price*I.quantity,0),A={selectedBranch:r.selectedBranch,invoiceNumber:r.invoiceNumber,date:r.date,time:r.time,customerName:r.customerName,phoneNumber:r.phoneNumber,cartItems:d,total:S,paymentMethod:"Pending",amountReceived:0,change:0};try{const k=Zi.generateThermalBill(A),I="https://hotelvirat.com/api/v1/hotel",B=T.ip||"192.168.1.100",M=T.port||9100,L=new AbortController,F=setTimeout(()=>L.abort(),3e3),_=await fetch(`${I}/print-thermal/network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:k,printerIP:B,port:M}),signal:L.signal});if(clearTimeout(F),_.ok)l({type:"success",message:"Bill printed to thermal printer successfully!"});else throw new Error("Thermal printer not responding")}catch(k){console.log("Direct thermal printing failed, trying thermal printer service:",k.message);const I={method:"network",printerIP:T.ip||"192.168.1.100",port:T.port||9100},B=await Promise.race([Zi.printBill(A,I),new Promise((M,L)=>setTimeout(()=>L(new Error("Print operation timed out after 5 seconds")),5e3))]);if(B&&B.method){const L={"popup-window":"Bill printed using browser (thermal printer not found)","current-window":"Bill printed using browser (thermal printer not found)","current-window-fallback":"Bill printed using browser (thermal printer not found)",network:"Bill printed to thermal printer successfully!",usb:"Bill printed to USB thermal printer successfully!"}[B.method]||"Bill printed successfully!";l({type:"success",message:L})}else l({type:"success",message:"Bill printed successfully!"})}setTimeout(()=>l(null),3e3)}catch(T){console.error("Print error:",T),l({type:"error",message:T.message||"Failed to print bill. Please try again."}),setTimeout(()=>l(null),5e3)}finally{i(!1)}}},j=async()=>{if(!a){i(!0);try{const T=JSON.parse(localStorage.getItem("thermalPrinterSettings")||"{}"),S=d.reduce((k,I)=>k+I.price*I.quantity,0),A={selectedBranch:r.selectedBranch,invoiceNumber:r.invoiceNumber,date:r.date,time:r.time,customerName:r.customerName,phoneNumber:r.phoneNumber,cartItems:d,total:S,paymentMethod:"Pending",amountReceived:0,change:0};try{const k=Zi.generateThermalBill(A),I="https://hotelvirat.com/api/v1/hotel",B=T.ip||"192.168.1.100",M=T.port||9100,L=new AbortController,F=setTimeout(()=>L.abort(),2e3),_=await fetch(`${I}/print-thermal/network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:k,printerIP:B,port:M}),signal:L.signal});if(clearTimeout(F),!_.ok)throw new Error("Thermal printer not responding");console.log(" Enter key: Bill printed to thermal printer successfully")}catch(k){console.log(" Enter key: Direct thermal printing failed:",k.message);const I={method:"network",printerIP:T.ip||"192.168.1.100",port:T.port||9100};await Promise.race([Zi.printBill(A,I),new Promise((B,M)=>setTimeout(()=>M(new Error("Thermal printer service timeout")),3e3))]),console.log(" Enter key: Bill printed via thermal printer service")}}catch(T){console.error(" Enter key: All printing methods failed:",T)}finally{i(!1)}}},b=()=>{e("/counter/print-settings",{state:{returnTo:"/counter/bill-generation",orderData:r}})},y=d.reduce((T,E)=>T+E.price*E.quantity,0),C=y;return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Bill Summary"}),n.jsx("p",{className:"counter-subtitle",children:"Review your order details"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"20px",borderRadius:"12px",marginBottom:"24px",border:"2px dashed #e2e8f0"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"1.5rem",color:"#1a202c"},children:r.selectedBranch.name}),n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:r.selectedBranch.address}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#718096"},children:[" ",r.selectedBranch.phone]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Invoice No:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.invoiceNumber})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Date & Time:"}),n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:[r.date," ",r.time]})]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#1a202c"},children:"Order Items"}),d.length===0?n.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#718096",fontStyle:"italic"},children:"No items in cart"}):d.map((T,E)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:E<d.length-1?"1px solid #e2e8f0":"none"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:"0",fontWeight:"500",color:"#1a202c"},children:T.name}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#718096"},children:["",T.price.toFixed(2),"  ",T.quantity]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsxs("div",{style:{fontWeight:"600",color:"#1a202c"},children:["",(T.price*T.quantity).toFixed(2)]}),n.jsx("button",{onClick:()=>m(E),style:{background:"#dc2626",color:"white",border:"none",borderRadius:"6px",padding:"6px 10px",fontSize:"0.75rem",cursor:"pointer",fontWeight:"500",transition:"all 0.2s"},onMouseOver:S=>S.target.style.background="#b91c1c",onMouseOut:S=>S.target.style.background="#dc2626",title:"Remove this item",children:" Cancel"})]})]},E))]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsx("hr",{style:{border:"none",borderTop:"2px solid #1a202c",margin:"12px 0"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.5rem",fontWeight:"700",color:"#1a202c"},children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",C.toFixed(2)]})]})]})]}),s&&n.jsx("div",{style:{background:s.type==="success"?"#f0fff4":"#fed7d7",padding:"12px",borderRadius:"8px",border:`1px solid ${s.type==="success"?"#68d391":"#fc8181"}`,marginBottom:"16px",textAlign:"center"},children:n.jsxs("div",{style:{color:s.type==="success"?"#22543d":"#742a2a",fontWeight:"600"},children:[s.type==="success"?"":""," ",s.message]})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 2fr",gap:"12px",marginTop:"24px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:g,children:" Back"}),n.jsx("button",{className:"counter-button-secondary",onClick:p,style:{background:"#dc2626",borderColor:"#dc2626",color:"white"},title:"Cancel this order and start fresh",children:" Cancel Order"}),n.jsx("button",{className:"counter-button-secondary",onClick:v,disabled:a,style:{opacity:a?.6:1,cursor:a?"not-allowed":"pointer"},title:"Print bill to thermal printer",children:a?" Printing...":" Print Bill"}),n.jsx("button",{className:"counter-button-secondary",onClick:b,title:"Configure thermal printer settings",children:" Settings"}),n.jsx("button",{className:"counter-button",onClick:f,style:{background:"#10b981",borderColor:"#10b981"},children:" Done - Take New Order"})]})]})})},yhe=()=>{const e=sn(),r=ea().state,[a,i]=N.useState("cash"),[s,l]=N.useState(""),[d,u]=N.useState(!1),[f,p]=N.useState("");if(N.useEffect(()=>{if(r){const S=r.totalAmount||0,A=S*.05,k=S+A;l(k.toFixed(2))}},[r]),!r)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Order data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/bill-generation"),children:"Go Back"})]})})});const m=r.totalAmount||0,g=m*.05,v=m+g,j=a==="cash"&&s?Math.max(0,parseFloat(s)-v):0,b=S=>{i(S),l(v.toFixed(2)),p("")},y=S=>{l(S),p("")},C=()=>{if(a==="cash"){const S=parseFloat(s);if(!s||isNaN(S))return p("Amount received is required for cash payments"),!1;if(S<v)return p("Amount received is less than total amount"),!1}if(a==="card"||a==="upi"){const S=parseFloat(s);(!S||S!==v)&&l(v.toFixed(2))}return!0},T=async()=>{var S,A,k;if(C()){u(!0),p("");try{const I={customerName:r.customerName,phoneNumber:r.phoneNumber,branchId:r.selectedBranch._id,invoiceNumber:r.invoiceNumber,invoiceId:r.invoiceId,items:r.cartItems.map(R=>({menuItemId:R._id,name:R.name,price:R.price,quantity:R.quantity,total:R.price*R.quantity})),subtotal:m,tax:g,total:v,paymentMethod:a,amountReceived:a==="cash"?parseFloat(s):v,change:j,status:"completed",orderDate:new Date().toISOString(),counterUserId:localStorage.getItem("counterUserId")},B=R=>Promise.race([Mn.createOrder(R),new Promise((H,ne)=>setTimeout(()=>ne(new Error("Order creation timed out")),1e4))]),M=R=>Promise.race([Mn.createBill(R),new Promise((H,ne)=>setTimeout(()=>ne(new Error("Bill creation timed out")),1e4))]),L=R=>Promise.race([Mn.processPayment(R),new Promise((H,ne)=>setTimeout(()=>ne(new Error("Payment processing timed out")),1e4))]),F=await B(I);console.log("Order created:",F);const _={orderId:((S=F.order)==null?void 0:S._id)||F._id,...I},G=await M(_);console.log("Bill created:",G);const P={orderId:((A=F.order)==null?void 0:A._id)||F._id,billId:((k=G.bill)==null?void 0:k._id)||G._id,amount:v,paymentMethod:a,amountReceived:a==="cash"?parseFloat(s):v,change:j,status:"completed",paymentDate:new Date().toISOString()},D=await L(P);console.log("Payment processed:",D),setTimeout(()=>{var R,H,ne;e("/counter/payment-success",{state:{...r,orderId:((R=F.order)==null?void 0:R._id)||F._id,billId:((H=G.bill)==null?void 0:H._id)||G._id,paymentId:((ne=D.payment)==null?void 0:ne._id)||D._id,paymentMethod:a,amountReceived:a==="cash"?parseFloat(s):v,change:j,total:v}})},100)}catch(I){console.error("Error processing payment:",I),p(I.message||"Failed to process payment. Please try again.")}finally{u(!1)}}},E=()=>{e("/counter/bill-generation",{state:r})};return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Payment"}),n.jsx("p",{className:"counter-subtitle",children:"Process customer payment"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem"},children:"Order Summary"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",m.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{children:"Tax (5%):"}),n.jsxs("span",{children:["",g.toFixed(2)]})]}),n.jsx("hr",{style:{margin:"12px 0",border:"none",borderTop:"2px solid #1a202c"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.25rem",fontWeight:"700"},children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",v.toFixed(2)]})]})]}),n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem"},children:"Payment Method"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px"},children:[n.jsxs("button",{className:`counter-item ${a==="cash"?"selected":""}`,onClick:()=>b("cash"),style:{padding:"16px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontWeight:"600"},children:"Cash"})]}),n.jsxs("button",{className:`counter-item ${a==="card"?"selected":""}`,onClick:()=>b("card"),style:{padding:"16px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontWeight:"600"},children:"Card"})]}),n.jsxs("button",{className:`counter-item ${a==="upi"?"selected":""}`,onClick:()=>b("upi"),style:{padding:"16px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontWeight:"600"},children:"UPI"})]})]})]}),a==="cash"&&n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsxs("div",{className:"counter-form-group",children:[n.jsx("label",{className:"counter-label",children:"Amount Received * (Auto-filled)"}),n.jsx("input",{type:"number",className:"counter-input",placeholder:"Amount auto-filled with total",value:s,onChange:S=>y(S.target.value),min:v,step:"0.01"}),n.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px",fontStyle:"italic"},children:[" Amount is automatically filled with the total (",v.toFixed(2),"). You can adjust if needed."]})]}),s&&!isNaN(parseFloat(s))&&n.jsxs("div",{style:{background:j>0?"#f0fff4":"#fff5f5",padding:"12px",borderRadius:"8px",border:`1px solid ${j>0?"#68d391":"#fc8181"}`},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"4px"},children:["Change to Return: ",j.toFixed(2)]}),j<0&&n.jsx("div",{style:{color:"#e53e3e",fontSize:"0.875rem"},children:"Insufficient amount received"})]})]}),(a==="card"||a==="upi")&&n.jsxs("div",{style:{background:"#e6fffa",padding:"16px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #81e6d9"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:a==="card"?"Card Payment":"UPI Payment"}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#2d3748"},children:["Amount: ",v.toFixed(2)]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#2d3748",marginTop:"4px"},children:["Please complete the payment on the ",a==="card"?"card terminal":"UPI app"]})]}),f&&n.jsx("div",{className:"counter-error",style:{marginBottom:"24px"},children:f}),n.jsxs("div",{style:{display:"flex",gap:"16px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:E,disabled:d,style:{flex:1},children:" Back"}),n.jsx("button",{className:"counter-button",onClick:T,disabled:d,style:{flex:2},children:d?n.jsx("div",{className:"counter-spinner",style:{width:"20px",height:"20px"}}):"Complete Payment"})]})]})})};class vhe{constructor(){this.storageKey="counter_orders"}getAllOrders(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.error("Error loading orders from localStorage:",t),[]}}getOrdersByBranch(t){return this.getAllOrders().filter(a=>a.branchId===t)}saveOrder(t){try{const r=this.getAllOrders(),a={_id:`order-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,invoiceNumber:t.invoiceNumber,branchId:t.selectedBranch._id,branchName:t.selectedBranch.name,customerName:t.customerName,phoneNumber:t.phoneNumber,orderDate:new Date().toISOString(),createdAt:new Date().toISOString(),items:t.cartItems.map(i=>({name:i.name,price:i.price,quantity:i.quantity,total:i.price*i.quantity})),total:t.totalAmount||t.total||0,status:"completed",paymentMethod:t.paymentMethod||"cash",paymentStatus:"paid",date:t.date,time:t.time,amountReceived:t.amountReceived||0,change:t.change||0};return r.push(a),r.sort((i,s)=>new Date(s.orderDate)-new Date(i.orderDate)),localStorage.setItem(this.storageKey,JSON.stringify(r)),console.log(" Order saved successfully:",a.invoiceNumber),a}catch(r){throw console.error("Error saving order:",r),r}}updateOrderStatus(t,r){try{const a=this.getAllOrders(),i=a.findIndex(s=>s._id===t);if(i!==-1)return a[i].status=r,a[i].updatedAt=new Date().toISOString(),localStorage.setItem(this.storageKey,JSON.stringify(a)),a[i];throw new Error("Order not found")}catch(a){throw console.error("Error updating order status:",a),a}}deleteOrder(t){try{const a=this.getAllOrders().filter(i=>i._id!==t);return localStorage.setItem(this.storageKey,JSON.stringify(a)),!0}catch(r){throw console.error("Error deleting order:",r),r}}clearAllOrders(){try{return localStorage.removeItem(this.storageKey),console.log(" All orders cleared"),!0}catch(t){throw console.error("Error clearing orders:",t),t}}getOrderStats(t=null){const r=t?this.getOrdersByBranch(t):this.getAllOrders(),a=r.length,i=r.filter(d=>d.status==="completed").length,s=r.filter(d=>d.status==="pending").length,l=r.reduce((d,u)=>d+(u.total||0),0);return{totalOrders:a,completedOrders:i,pendingOrders:s,totalSales:l,averageOrderValue:a>0?l/a:0}}exportOrders(){const t=this.getAllOrders(),r=JSON.stringify(t,null,2),a=new Blob([r],{type:"application/json"}),i=URL.createObjectURL(a),s=document.createElement("a");s.href=i,s.download=`counter_orders_${new Date().toISOString().split("T")[0]}.json`,s.click(),URL.revokeObjectURL(i)}}const bhe=new vhe,jhe=()=>{const e=sn(),r=ea().state,[a,i]=N.useState(!1),[s,l]=N.useState(null);if(N.useEffect(()=>{if(r)try{const g=bhe.saveOrder(r);console.log("Order saved to storage:",g.invoiceNumber)}catch(g){console.error("Failed to save order:",g)}const m=setTimeout(()=>{e("/counter/branch-selection")},1e4);return()=>clearTimeout(m)},[e,r]),!r)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Payment data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/branch-selection"),children:"New Order"})]})})});const d=()=>{e("/counter/branch-selection")},u=async()=>{if(!a){i(!0),l(null);try{const m=JSON.parse(localStorage.getItem("thermalPrinterSettings")||"{}"),g={method:m.method||"auto",printerIP:m.ip||"192.168.1.100",port:m.port||9100},v=await Promise.race([Zi.printReceipt(r,g),new Promise((j,b)=>setTimeout(()=>b(new Error("Print operation timed out after 5 seconds")),5e3))]);if(v&&v.method){const b={"popup-window":"Receipt printed using browser (thermal printer not found)","current-window":"Receipt printed using browser (thermal printer not found)","current-window-fallback":"Receipt printed using browser (thermal printer not found)",network:"Receipt printed to thermal printer successfully!",usb:"Receipt printed to USB thermal printer successfully!"}[v.method]||"Receipt printed successfully!";l({type:"success",message:b})}else l({type:"success",message:"Receipt printed successfully!"});setTimeout(()=>l(null),3e3)}catch(m){console.error("Print error:",m),l({type:"error",message:m.message||"Failed to print receipt. Please try again."}),setTimeout(()=>l(null),5e3)}finally{i(!1)}}},f=()=>{e("/counter/print-settings",{state:{returnTo:"/counter/payment-success",paymentData:r}})},p=()=>{e("/counter/orders")};return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("div",{style:{fontSize:"4rem",color:"#48bb78",marginBottom:"16px",textAlign:"center"},children:""}),n.jsx("h1",{className:"counter-title",style:{color:"#48bb78"},children:"Payment Successful!"}),n.jsx("p",{className:"counter-subtitle",children:"Order has been processed successfully"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"24px",borderRadius:"12px",marginBottom:"24px",border:"2px solid #48bb78"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"1.5rem",color:"#1a202c"},children:r.selectedBranch.name}),n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:r.selectedBranch.address}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#718096"},children:[" ",r.selectedBranch.phone]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Invoice No:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.invoiceNumber})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Date & Time:"}),n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:[r.date," ",r.time]})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Customer:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.customerName})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Phone:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.phoneNumber})]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#1a202c"},children:"Items Ordered"}),r.cartItems.map((m,g)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:g<r.cartItems.length-1?"1px solid #e2e8f0":"none"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:"0",fontWeight:"500",color:"#1a202c"},children:m.name}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#718096"},children:["",m.price.toFixed(2),"  ",m.quantity]})]}),n.jsxs("div",{style:{fontWeight:"600",color:"#1a202c"},children:["",(m.price*m.quantity).toFixed(2)]})]},g))]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Subtotal:"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",(r.total-r.total*.05).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Tax (5%):"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",(r.total*.05).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Payment Method:"}),n.jsx("span",{style:{fontWeight:"500",textTransform:"capitalize"},children:r.paymentMethod})]}),r.paymentMethod==="cash"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Amount Received:"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",r.amountReceived.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Change:"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",r.change.toFixed(2)]})]})]}),n.jsx("hr",{style:{border:"none",borderTop:"2px solid #1a202c",margin:"12px 0"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.25rem",fontWeight:"700",color:"#1a202c"},children:[n.jsx("span",{children:"Total Paid:"}),n.jsxs("span",{children:["",r.total.toFixed(2)]})]})]}),n.jsxs("div",{style:{background:"#f0fff4",padding:"12px",borderRadius:"8px",border:"1px solid #68d391",textAlign:"center"},children:[n.jsx("div",{style:{color:"#22543d",fontWeight:"600"},children:" Payment Completed Successfully"}),n.jsx("div",{style:{color:"#2f855a",fontSize:"0.875rem",marginTop:"4px"},children:"Thank you for your business!"})]})]}),s&&n.jsx("div",{style:{background:s.type==="success"?"#f0fff4":"#fed7d7",padding:"12px",borderRadius:"8px",border:`1px solid ${s.type==="success"?"#68d391":"#fc8181"}`,marginBottom:"16px",textAlign:"center"},children:n.jsxs("div",{style:{color:s.type==="success"?"#22543d":"#742a2a",fontWeight:"600"},children:[s.type==="success"?"":""," ",s.message]})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"12px",marginBottom:"20px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:u,disabled:a,style:{opacity:a?.6:1,cursor:a?"not-allowed":"pointer"},title:"Print receipt to thermal printer",children:a?" Printing...":" Print Receipt"}),n.jsx("button",{className:"counter-button-secondary",onClick:f,title:"Configure thermal printer settings",children:" Print Settings"}),n.jsx("button",{className:"counter-button-secondary",onClick:p,children:" View Orders"}),n.jsx("button",{className:"counter-button",onClick:d,children:" New Order"})]}),n.jsx("div",{style:{textAlign:"center",fontSize:"0.875rem",color:"#718096",fontStyle:"italic"},children:"Automatically redirecting to new order in 10 seconds..."})]})})},whe=()=>{const e=sn(),[t,r]=N.useState([]),[a,i]=N.useState(!0),[s,l]=N.useState(null),[d,u]=N.useState(null);N.useEffect(()=>{const j=localStorage.getItem("selectedBranch");if(j){const b=JSON.parse(j);u(b),f(b._id)}else e("/counter/branch-selection")},[e]);const f=async j=>{try{i(!0),l(null);const b=await Mn.getOrders(j),C=(b.orders||b.data||b||[]).sort((T,E)=>new Date(E.orderDate||E.createdAt)-new Date(T.orderDate||T.createdAt));r(C)}catch(b){console.error("Error loading orders:",b),l("Failed to load orders. Please try again.")}finally{i(!1)}},p=()=>{e("/counter/branch-selection")},m=()=>{e("/counter/branch-selection")},g=j=>{try{const b=new Date(j);return b.toLocaleDateString("en-IN")+" "+b.toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"})}catch{return j}},v=j=>{switch(j==null?void 0:j.toLowerCase()){case"completed":return"#48bb78";case"pending":return"#ed8936";case"cancelled":return"#f56565";default:return"#718096"}};return a?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading orders..."})]})})}):s?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("h3",{children:"Error"}),n.jsx("p",{children:s}),n.jsx("button",{className:"counter-button",onClick:()=>d&&f(d._id),children:"Retry"})]})})}):n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Order History"}),n.jsxs("p",{className:"counter-subtitle",children:[d==null?void 0:d.name," - Recent Orders"]})]}),n.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"24px",justifyContent:"center"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:m,style:{flex:1,maxWidth:"200px"},children:" Back"}),n.jsx("button",{className:"counter-button",onClick:p,style:{flex:1,maxWidth:"200px"},children:" New Order"})]}),t.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#718096"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),n.jsx("h3",{style:{margin:"0 0 8px 0"},children:"No Orders Found"}),n.jsx("p",{style:{margin:"0"},children:"No orders have been placed yet."})]}):n.jsx("div",{style:{display:"grid",gap:"16px",maxHeight:"60vh",overflowY:"auto"},children:t.map((j,b)=>n.jsxs("div",{style:{background:"white",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"20px",transition:"all 0.2s"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"0 0 4px 0",fontSize:"1.1rem",color:"#1a202c"},children:j.invoiceNumber||`Order #${b+1}`}),n.jsxs("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:[j.customerName,"  ",j.phoneNumber]}),n.jsx("p",{style:{margin:"0",fontSize:"0.875rem",color:"#4a5568"},children:g(j.orderDate||j.createdAt)})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{background:v(j.status),color:"white",padding:"4px 12px",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",marginBottom:"8px"},children:j.status||"Completed"}),n.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#1a202c"},children:["",(j.total||0).toFixed(2)]})]})]}),j.items&&j.items.length>0&&n.jsxs("div",{style:{background:"#f7fafc",padding:"12px",borderRadius:"8px",marginBottom:"12px"},children:[n.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"0.875rem",color:"#4a5568",fontWeight:"600"},children:["Items (",j.items.length,")"]}),n.jsxs("div",{style:{display:"grid",gap:"4px"},children:[j.items.slice(0,3).map((y,C)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem"},children:[n.jsxs("span",{style:{color:"#2d3748"},children:[y.name,"  ",y.quantity]}),n.jsxs("span",{style:{color:"#1a202c",fontWeight:"500"},children:["",(y.total||y.price*y.quantity).toFixed(2)]})]},C)),j.items.length>3&&n.jsxs("div",{style:{fontSize:"0.75rem",color:"#718096",fontStyle:"italic"},children:["+",j.items.length-3," more items"]})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.875rem",color:"#4a5568"},children:[n.jsxs("span",{children:["Payment: ",j.paymentMethod?n.jsx("span",{style:{textTransform:"capitalize",fontWeight:"500"},children:j.paymentMethod}):"Cash"]}),j.paymentMethod==="cash"&&j.change>0&&n.jsxs("span",{children:["Change: ",j.change.toFixed(2)]})]})]},j._id||b))})]})})},She=()=>{const e=sn(),t=ea(),{returnTo:r,paymentData:a,orderData:i}=t.state||{},[s,l]=N.useState({method:"auto",ip:"192.168.1.100",port:"9100",devicePath:"/dev/usb/lp0"}),[d,u]=N.useState(!1),[f,p]=N.useState([]),[m,g]=N.useState(!1),[v,j]=N.useState(null);N.useEffect(()=>{const E=localStorage.getItem("thermalPrinterSettings");E&&l({...s,...JSON.parse(E)})},[]);const b=()=>{localStorage.setItem("thermalPrinterSettings",JSON.stringify(s)),alert("Printer settings saved successfully!"),r?r==="/counter/bill-generation"&&i?e(r,{state:i}):e(r,{state:{paymentData:a}}):e("/counter/branch-selection")},y=async()=>{u(!0),p([]);try{const A=await(await fetch("https://hotelvirat.com/api/v1/hotel/print-thermal/discover")).json();A.success?(p(A.printers),A.printers.length===0&&alert("No thermal printers found on the network. Make sure your thermal printer is connected to the same network and powered on.")):alert("Failed to discover printers: "+A.message)}catch(E){console.error("Discovery error:",E),alert("Failed to discover printers. Make sure the backend server is running on port 9000.")}finally{u(!1)}},C=async()=>{g(!0),j(null);try{const E={selectedBranch:{name:"Test Restaurant",address:"123 Test Street, Test City",phone:"123-456-7890"},invoiceNumber:"TEST-"+Date.now(),date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),customerName:"Test Customer",phoneNumber:"1234567890",cartItems:[{name:"Test Item 1",price:10,quantity:2},{name:"Test Item 2",price:15.5,quantity:1}],total:35.5,paymentMethod:"cash",amountReceived:40,change:4.5};await Zi.printReceipt(E,{method:s.method,printerIP:s.ip,port:parseInt(s.port)}),j({type:"success",message:"Test receipt printed successfully!"})}catch(E){console.error("Test print error:",E),j({type:"error",message:E.message})}finally{g(!1)}},T=E=>{l({...s,ip:E.ip,port:E.port.toString(),method:"network"})};return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Thermal Printer Settings"}),n.jsx("p",{className:"counter-subtitle",children:"Configure your thermal printer for receipt printing"})]}),n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("label",{className:"counter-label",children:"Print Method"}),n.jsxs("select",{className:"counter-input",value:s.method,onChange:E=>l({...s,method:E.target.value}),children:[n.jsx("option",{value:"auto",children:"Auto (Try all methods)"}),n.jsx("option",{value:"network",children:"Network Printer"}),n.jsx("option",{value:"serial",children:"USB/Serial Printer"}),n.jsx("option",{value:"browser",children:"Browser Print (Fallback)"})]})]}),(s.method==="network"||s.method==="auto")&&n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem"},children:"Network Printer Settings"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{className:"counter-label",children:"Printer IP Address"}),n.jsx("input",{type:"text",className:"counter-input",value:s.ip,onChange:E=>l({...s,ip:E.target.value}),placeholder:"192.168.1.100"}),n.jsx("p",{style:{fontSize:"0.75rem",color:"#718096",margin:"4px 0 0 0"},children:"Enter your thermal printer's IP address. Leave as default (192.168.1.100) to skip network printing and use browser fallback."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"counter-label",children:"Port"}),n.jsx("input",{type:"number",className:"counter-input",value:s.port,onChange:E=>l({...s,port:E.target.value}),placeholder:"9100"})]})]}),n.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:y,disabled:d,style:{flex:1},children:d?" Discovering...":" Discover Printers"}),n.jsx("button",{className:"counter-button-secondary",onClick:C,disabled:m,style:{flex:1},children:m?" Testing...":" Test Print"})]}),f.length>0&&n.jsxs("div",{children:[n.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"0.875rem",color:"#4a5568"},children:"Found Printers:"}),n.jsx("div",{style:{display:"grid",gap:"8px"},children:f.map((E,S)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"white",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer"},onClick:()=>T(E),children:[n.jsxs("span",{style:{fontWeight:"500"},children:[E.ip,":",E.port]}),n.jsxs("span",{style:{fontSize:"0.75rem",color:"#718096"},children:[E.responseTime,"ms"]})]},S))})]})]}),(s.method==="serial"||s.method==="auto")&&n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem"},children:"USB/Serial Printer Settings"}),n.jsxs("div",{children:[n.jsx("label",{className:"counter-label",children:"Device Path"}),n.jsx("input",{type:"text",className:"counter-input",value:s.devicePath,onChange:E=>l({...s,devicePath:E.target.value}),placeholder:"/dev/usb/lp0"}),n.jsx("p",{style:{fontSize:"0.75rem",color:"#718096",margin:"4px 0 0 0"},children:"Common paths: /dev/usb/lp0, /dev/ttyUSB0, COM1 (Windows)"})]})]}),v&&n.jsx("div",{style:{background:v.type==="success"?"#f0fff4":"#fed7d7",padding:"12px",borderRadius:"8px",border:`1px solid ${v.type==="success"?"#68d391":"#fc8181"}`,marginBottom:"24px",textAlign:"center"},children:n.jsxs("div",{style:{color:v.type==="success"?"#22543d":"#742a2a",fontWeight:"600"},children:[v.type==="success"?"":""," ",v.message]})}),n.jsxs("div",{style:{background:"#e6fffa",padding:"16px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #81e6d9"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#234e52"},children:" Setup Instructions"}),n.jsxs("ul",{style:{margin:"0",paddingLeft:"20px",color:"#2d3748",fontSize:"0.875rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Network Printer:"})," Connect your thermal printer to the same network and note its IP address"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"USB Printer:"})," Connect via USB and check device path in system settings"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Auto Mode:"})," Tries all methods automatically, recommended for most users"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Browser Fallback:"})," Uses regular browser printing with thermal-optimized formatting"]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"16px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:()=>e(r||"/counter/branch-selection",{state:r==="/counter/bill-generation"?i:{paymentData:a}}),style:{flex:1},children:" Cancel"}),n.jsx("button",{className:"counter-button",onClick:b,style:{flex:2},children:" Save Settings"})]})]})})},Nhe=()=>{const[e,t]=N.useState(!1),[r,a]=N.useState(null),i=async()=>{t(!0),a(null);try{const d={selectedBranch:{name:"Hotel Virat Test",address:"123 Test Street, Test City",phone:"123-456-7890"},invoiceNumber:"TEST-"+Date.now(),date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),customerName:"Test Customer",phoneNumber:"1234567890",cartItems:[{name:"Test Item 1",price:10,quantity:2},{name:"Test Item 2",price:15.5,quantity:1}],total:35.5,paymentMethod:"cash",amountReceived:40,change:4.5};console.log(" Testing thermal printer with data:",d);const u=await Zi.printReceipt(d,{method:"auto",printerIP:"192.168.1.100",port:9100});a({type:"success",message:"Test print successful!",details:u})}catch(d){console.error("Test print error:",d),a({type:"error",message:d.message,details:d})}finally{t(!1)}},s=async()=>{t(!0),a(null);try{const d={selectedBranch:{name:"Hotel Virat Test",address:"123 Test Street, Test City",phone:"123-456-7890"},invoiceNumber:"BILL-"+Date.now(),date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),customerName:"Test Customer",phoneNumber:"1234567890",cartItems:[{name:"Test Item 1",price:10,quantity:2},{name:"Test Item 2",price:15.5,quantity:1}],total:35.5};console.log(" Testing thermal bill with data:",d);const u=await Zi.printBill(d,{method:"auto",printerIP:"192.168.1.100",port:9100});a({type:"success",message:"Test bill print successful!",details:u})}catch(d){console.error("Test bill error:",d),a({type:"error",message:d.message,details:d})}finally{t(!1)}},l=async()=>{t(!0),a(null);try{const d="https://hotelvirat.com/api/v1/hotel";console.log(" Testing endpoint:",`${d}/print-thermal/network`);const u=await fetch(`${d}/print-thermal/network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:"Test endpoint connection",printerIP:"192.168.1.100",port:9100})}),f=await u.json();u.ok?a({type:"success",message:"Endpoint accessible!",details:f}):a({type:"info",message:"Endpoint accessible (printer not found is expected)",details:f})}catch(d){console.error("Endpoint test error:",d),a({type:"error",message:"Endpoint not accessible: "+d.message,details:d})}finally{t(!1)}};return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Thermal Printer Test"}),n.jsx("p",{className:"counter-subtitle",children:"Test thermal printing functionality"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",marginBottom:"24px"},children:[n.jsx("button",{className:"counter-button",onClick:l,disabled:e,children:e?" Testing...":" Test Endpoint"}),n.jsx("button",{className:"counter-button",onClick:s,disabled:e,children:e?" Testing...":" Test Bill"}),n.jsx("button",{className:"counter-button",onClick:i,disabled:e,children:e?" Testing...":" Test Receipt"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem"},children:"Environment Info"}),n.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"0.875rem"},children:[n.jsx("strong",{children:"Backend URL:"})," ","https://hotelvirat.com/api/v1/hotel"]}),n.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"0.875rem"},children:[n.jsx("strong",{children:"Print Endpoint:"})," ","https://hotelvirat.com/api/v1/hotel/print-thermal/network"]}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem"},children:[n.jsx("strong",{children:"Web Serial Support:"})," ","serial"in navigator?" Supported":" Not Supported"]})]}),r&&n.jsxs("div",{style:{background:r.type==="success"?"#f0fff4":r.type==="info"?"#e6fffa":"#fed7d7",padding:"16px",borderRadius:"8px",border:`1px solid ${r.type==="success"?"#68d391":r.type==="info"?"#81e6d9":"#fc8181"}`,marginBottom:"24px"},children:[n.jsxs("div",{style:{color:r.type==="success"?"#22543d":r.type==="info"?"#234e52":"#742a2a",fontWeight:"600",marginBottom:"8px"},children:[r.type==="success"?"":r.type==="info"?"":""," ",r.message]}),r.details&&n.jsxs("details",{style:{fontSize:"0.875rem",color:"#4a5568"},children:[n.jsx("summary",{style:{cursor:"pointer",marginBottom:"8px"},children:"View Details"}),n.jsx("pre",{style:{background:"rgba(0,0,0,0.1)",padding:"8px",borderRadius:"4px",overflow:"auto",fontSize:"0.75rem"},children:JSON.stringify(r.details,null,2)})]})]}),n.jsxs("div",{style:{background:"#e6fffa",padding:"16px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #81e6d9"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#234e52"},children:" Test Instructions"}),n.jsxs("ol",{style:{margin:"0",paddingLeft:"20px",color:"#2d3748",fontSize:"0.875rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Test Endpoint:"})," Checks if backend API is accessible"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Test Bill:"})," Tests bill printing (before payment)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Test Receipt:"})," Tests receipt printing (after payment)"]})]})]}),n.jsx("div",{style:{textAlign:"center"},children:n.jsx("button",{className:"counter-button-secondary",onClick:()=>window.history.back(),children:" Back"})})]})})},The=()=>{var G;const e=sn(),[t,r]=N.useState(null),[a,i]=N.useState("daily"),[s,l]=N.useState(!0),[d,u]=N.useState(null),[f,p]=N.useState({daily:null,weekly:null,monthly:null,all:null}),[m,g]=N.useState([]),[v,j]=N.useState(new Date().toISOString().split("T")[0]),[b,y]=N.useState(!1),[C,T]=N.useState(!1);N.useEffect(()=>{const P=localStorage.getItem("selectedBranch");if(P){const D=JSON.parse(P);r(D),E(D._id)}else e("/counter/branch-selection")},[e]);const E=async P=>{try{l(!0),u(null);let D=[];try{const H=await Mn.getOrders();let ne=[];H.success&&Array.isArray(H.data)?ne=H.data:H.orders&&Array.isArray(H.orders)?ne=H.orders:Array.isArray(H)&&(ne=H),P?D=ne.filter(me=>{var X,z;return(((X=me.branch)==null?void 0:X.id)||((z=me.branchId)==null?void 0:z._id)||me.branchId)===P}):D=ne,console.log(" Loaded counter orders:",D.length)}catch(H){console.log(" Error loading orders from database:",H),u(`Failed to load orders: ${H.message}`);return}const R=D.map(H=>{var ne,me,q;return{_id:H.id,invoiceNumber:((ne=H.invoice)==null?void 0:ne.invoiceNumber)||"N/A",customerName:H.customerName||"Walk-in Customer",phoneNumber:H.phoneNumber||"0000000000",orderDate:H.createdAt,createdAt:H.createdAt,items:H.items||[],total:H.grandTotal||H.totalAmount||0,subtotal:H.subtotal||H.totalAmount||0,tax:H.tax||0,serviceCharge:H.serviceCharge||0,status:H.orderStatus==="completed"?"completed":"pending",paymentMethod:H.paymentMethod||"cash",paymentStatus:H.paymentStatus||"pending",branchName:((me=H.branch)==null?void 0:me.name)||"Unknown Branch",counterUser:((q=H.userId)==null?void 0:q.name)||"Counter User",orderSource:"counter"}});if(console.log(" SalesReports - Transformed counter orders:",R.map(H=>({id:H._id,invoice:H.invoiceNumber,customer:H.customerName,date:H.createdAt,dateFormatted:new Date(H.createdAt).toISOString().split("T")[0],total:H.total,source:H.orderSource}))),g(R),!C&&R.length>0){const H=R[0],ne=new Date(H.orderDate||H.createdAt).toISOString().split("T")[0];j(ne),T(!0);const me=new Date(ne),q=S(R,me),X=A(R,me),z=k(R,me),te=R.reduce((ce,je)=>ce+(je.total||0),0),U=R.filter(ce=>ce.status==="completed"),ee=R.filter(ce=>ce.status==="pending"),le={totalOrders:R.length,completedOrders:U.length,pendingOrders:ee.length,totalSales:te,orders:R.sort((ce,je)=>new Date(je.orderDate||je.createdAt)-new Date(ce.orderDate||ce.createdAt))};p({daily:q,weekly:X,monthly:z,all:le})}else{const H=new Date(v),ne=S(R,H),me=A(R,H),q=k(R,H),X=R.reduce((ee,le)=>ee+(le.total||0),0),z=R.filter(ee=>ee.status==="completed"),te=R.filter(ee=>ee.status==="pending"),U={totalOrders:R.length,completedOrders:z.length,pendingOrders:te.length,totalSales:X,orders:R.sort((ee,le)=>new Date(le.orderDate||le.createdAt)-new Date(ee.orderDate||ee.createdAt))};p({daily:ne,weekly:me,monthly:q,all:U})}}catch(D){console.error("Error loading sales data:",D),u("Failed to load sales data. Please try again.")}finally{l(!1)}},S=(P,D)=>{const R=D.toISOString().split("T")[0],H=P.filter(z=>new Date(z.orderDate||z.createdAt).toISOString().split("T")[0]===R),ne=H.reduce((z,te)=>z+(te.total||0),0),me=H.filter(z=>z.status==="completed"),q=H.filter(z=>z.status==="pending");return{totalOrders:H.length,completedOrders:me.length,pendingOrders:q.length,totalSales:ne,orders:H.sort((z,te)=>new Date(te.orderDate||te.createdAt)-new Date(z.orderDate||z.createdAt))}},A=(P,D)=>{const R=new Date(D),H=R.getDay();R.setDate(R.getDate()-H),R.setHours(0,0,0,0);const ne=new Date(R);ne.setDate(R.getDate()+6),ne.setHours(23,59,59,999);const me=P.filter(te=>{const U=new Date(te.orderDate||te.createdAt);return U>=R&&U<=ne}),q=me.reduce((te,U)=>te+(U.total||0),0),X=me.filter(te=>te.status==="completed"),z=me.filter(te=>te.status==="pending");return{totalOrders:me.length,completedOrders:X.length,pendingOrders:z.length,totalSales:q,orders:me.sort((te,U)=>new Date(U.orderDate||U.createdAt)-new Date(te.orderDate||te.createdAt)),startDate:R.toLocaleDateString("en-IN"),endDate:ne.toLocaleDateString("en-IN")}},k=(P,D)=>{const R=new Date(D.getFullYear(),D.getMonth(),1);R.setHours(0,0,0,0);const H=new Date(D.getFullYear(),D.getMonth()+1,0);H.setHours(23,59,59,999);const ne=P.filter(z=>{const te=new Date(z.orderDate||z.createdAt);return te>=R&&te<=H}),me=ne.reduce((z,te)=>z+(te.total||0),0),q=ne.filter(z=>z.status==="completed"),X=ne.filter(z=>z.status==="pending");return{totalOrders:ne.length,completedOrders:q.length,pendingOrders:X.length,totalSales:me,orders:ne.sort((z,te)=>new Date(te.orderDate||te.createdAt)-new Date(z.orderDate||z.createdAt)),monthName:D.toLocaleDateString("en-IN",{month:"long",year:"numeric"})}},I=P=>{if(j(P),y(!1),t){const D=new Date(P),R=S(m,D);p(H=>({...H,daily:R}))}},B=P=>{if(i(P),y(!1),t&&m.length>0){const D=new Date;let R={};if(P==="daily"){const H=new Date(v);R.daily=S(m,H)}else if(P==="weekly")R.weekly=A(m,D);else if(P==="monthly")R.monthly=k(m,D);else if(P==="all"){const H=m.reduce((q,X)=>q+(X.total||0),0),ne=m.filter(q=>q.status==="completed"),me=m.filter(q=>q.status==="pending");R.all={totalOrders:m.length,completedOrders:ne.length,pendingOrders:me.length,totalSales:H,orders:m.sort((q,X)=>new Date(X.orderDate||X.createdAt)-new Date(q.orderDate||q.createdAt))}}p(H=>({...H,...R}))}},M=()=>{e("/counter/menu")},L=P=>{try{const D=new Date(P);return D.toLocaleDateString("en-IN")+" "+D.toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"})}catch{return P}},F=P=>{switch(P==null?void 0:P.toLowerCase()){case"completed":return"#48bb78";case"pending":return"#ed8936";case"cancelled":return"#f56565";default:return"#718096"}};if(s)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading sales data..."})]})})});if(d)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("h3",{children:"Error"}),n.jsx("p",{children:d}),n.jsx("button",{className:"counter-button",onClick:()=>t&&E(t._id),children:"Retry"})]})})});const _=f[a];return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsx("div",{className:"counter-header",style:{marginBottom:"24px"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("h1",{className:"counter-title",children:" Sales & Reports"}),n.jsxs("p",{className:"counter-subtitle",children:[t==null?void 0:t.name," - Track your business performance"]}),n.jsx("div",{style:{background:m.length>0?"#e6fffa":"#fef2f2",border:`1px solid ${m.length>0?"#38b2ac":"#f87171"}`,borderRadius:"8px",padding:"8px 12px",marginTop:"8px",fontSize:"0.75rem",color:m.length>0?"#234e52":"#991b1b"},children:m.length>0?n.jsxs(n.Fragment,{children:[" Live Data: Showing ",m.length," real orders from your counter system."]}):n.jsx(n.Fragment,{children:" No Orders Yet: Place orders through the counter menu to see sales data here."})})]}),n.jsx("button",{className:"counter-button-secondary",onClick:M,style:{padding:"8px 16px"},children:" Back to Menu"})]})}),n.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"24px",borderBottom:"2px solid #e2e8f0",paddingBottom:"16px"},children:[{key:"daily",label:" Daily",icon:""},{key:"weekly",label:" Weekly",icon:""},{key:"monthly",label:" Monthly",icon:""},{key:"all",label:" All Orders",icon:""}].map(P=>n.jsx("button",{onClick:()=>B(P.key),style:{background:a===P.key?"#667eea":"white",color:a===P.key?"white":"#4a5568",border:`2px solid ${a===P.key?"#667eea":"#e2e8f0"}`,borderRadius:"12px",padding:"12px 20px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",flex:1,textAlign:"center"},children:P.label},P.key))}),a==="daily"&&n.jsxs("div",{style:{marginBottom:"24px",textAlign:"center"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#4a5568"},children:"Select Date:"}),n.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",alignItems:"center"},children:[n.jsx("input",{type:"date",value:v,onChange:P=>I(P.target.value),style:{padding:"8px 12px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"500"}}),n.jsxs("button",{onClick:()=>{const P=new Date().toISOString().split("T")[0];I(P)},style:{background:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"8px 12px",fontSize:"0.75rem",cursor:"pointer",fontWeight:"500"},title:"Set to today's date and refresh",children:[" Today (",new Date().toLocaleDateString(),")"]})]}),m.length>0&&n.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.75rem",color:"#718096"},children:[" Tip: Your orders are from ",new Date(m[m.length-1].orderDate||m[m.length-1].createdAt).toLocaleDateString()," to ",new Date(m[0].orderDate||m[0].createdAt).toLocaleDateString()]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"32px"},children:[n.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"24px",borderRadius:"16px",textAlign:"center",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"4px"},children:(_==null?void 0:_.totalOrders)||0}),n.jsx("div",{style:{fontSize:"0.875rem",opacity:.9,marginBottom:"4px"},children:"Total Orders"}),n.jsxs("div",{style:{fontSize:"0.75rem",opacity:.8},children:[(_==null?void 0:_.completedOrders)||0," completed  ",(_==null?void 0:_.pendingOrders)||0," pending"]})]}),n.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"24px",borderRadius:"16px",textAlign:"center",boxShadow:"0 8px 32px rgba(240, 147, 251, 0.3)"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"4px"},children:["",((_==null?void 0:_.totalSales)||0).toFixed(2)]}),n.jsx("div",{style:{fontSize:"0.875rem",opacity:.9},children:"Total Sales"}),n.jsx("div",{style:{fontSize:"0.75rem",opacity:.8},children:"(all orders included)"})]}),n.jsxs("div",{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",padding:"24px",borderRadius:"16px",textAlign:"center",boxShadow:"0 8px 32px rgba(79, 172, 254, 0.3)"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"4px"},children:["",((_==null?void 0:_.totalOrders)||0)>0?(((_==null?void 0:_.totalSales)||0)/((_==null?void 0:_.totalOrders)||1)).toFixed(2):"0.00"]}),n.jsx("div",{style:{fontSize:"0.875rem",opacity:.9},children:"Average Order"}),n.jsx("div",{style:{fontSize:"0.75rem",opacity:.8},children:"across all orders"})]})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"12px",marginBottom:"24px",textAlign:"center"},children:[n.jsxs("h3",{style:{margin:"0 0 8px 0",color:"#2d3748"},children:[a==="daily"&&`Daily Report - ${new Date(v).toLocaleDateString()}`,a==="weekly"&&`Weekly Report - ${_==null?void 0:_.startDate} to ${_==null?void 0:_.endDate}`,a==="monthly"&&`Monthly Report - ${_==null?void 0:_.monthName}`,a==="all"&&"All Orders - Complete History"]}),n.jsxs("p",{style:{margin:"0",color:"#718096",fontSize:"0.875rem"},children:[a==="daily"&&"View sales performance for the selected day",a==="weekly"&&"View sales performance for the current week",a==="monthly"&&"View sales performance for the current month",a==="all"&&"View all orders from your database regardless of date"]})]}),n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsxs("h3",{style:{margin:"0 0 16px 0",color:"#2d3748"},children:["Recent Orders (",((G=_==null?void 0:_.orders)==null?void 0:G.length)||0,")"]}),!(_!=null&&_.orders)||_.orders.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#718096"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),n.jsx("h4",{style:{margin:"0 0 8px 0"},children:"No Orders Found"}),n.jsxs("p",{style:{margin:"0"},children:["No orders found for the selected ",a," period."]})]}):n.jsxs("div",{style:{display:"grid",gap:"12px",maxHeight:b?"none":"400px",overflowY:b?"visible":"auto"},children:[(b?_.orders:_.orders.slice(0,10)).map((P,D)=>n.jsxs("div",{style:{background:"white",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"16px",transition:"all 0.2s"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"1rem",color:"#1a202c"},children:P.invoiceNumber||`Order #${D+1}`}),n.jsxs("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:[P.customerName,"  ",P.phoneNumber]}),n.jsx("p",{style:{margin:"0",fontSize:"0.875rem",color:"#4a5568"},children:L(P.orderDate||P.createdAt)})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{background:F(P.status),color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",marginBottom:"8px"},children:P.status||"Completed"}),n.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"700",color:"#1a202c"},children:["",(P.total||0).toFixed(2)]})]})]}),P.items&&P.items.length>0&&n.jsxs("div",{style:{background:"#f7fafc",padding:"8px 12px",borderRadius:"8px",fontSize:"0.875rem"},children:[n.jsxs("strong",{children:[P.items.length," items:"]})," ",P.items.slice(0,2).map(R=>R.name).join(", "),P.items.length>2&&` +${P.items.length-2} more`]})]},P._id||D)),_.orders.length>10&&n.jsx("div",{style:{textAlign:"center",padding:"20px",background:"#f7fafc",borderRadius:"12px",border:"2px dashed #e2e8f0"},children:b?n.jsxs("div",{children:[n.jsxs("p",{style:{margin:"0 0 12px 0",color:"#718096",fontSize:"0.875rem"},children:["Showing all ",_.orders.length," orders"]}),n.jsx("button",{onClick:()=>y(!1),style:{background:"#718096",color:"white",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:P=>P.target.style.background="#4a5568",onMouseOut:P=>P.target.style.background="#718096",children:" Show Less (Top 10 Only)"})]}):n.jsxs("div",{children:[n.jsxs("p",{style:{margin:"0 0 12px 0",color:"#718096",fontSize:"0.875rem"},children:["Showing 10 of ",_.orders.length," orders"]}),n.jsxs("button",{onClick:()=>y(!0),style:{background:"#667eea",color:"white",border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:P=>P.target.style.background="#5a67d8",onMouseOut:P=>P.target.style.background="#667eea",children:[" Show All ",_.orders.length," Orders"]})]})})]})]})]})})},Wi=({children:e})=>localStorage.getItem("counterAuthenticated")==="true"?e:n.jsx(Dp,{to:"/counter/login",replace:!0});function Che(){const[e,t]=N.useState(!1);return N.useEffect(()=>{console.log(" CounterApp loaded!");const r=localStorage.getItem("counterAuthenticated")==="true";t(r);const a=()=>{t(localStorage.getItem("counterAuthenticated")==="true")};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),n.jsx("div",{className:"counter-app",children:n.jsxs(uj,{children:[n.jsx(yt,{path:"login",element:n.jsx(lhe,{})}),n.jsx(yt,{path:"branch-selection",element:n.jsx(Wi,{children:n.jsx(che,{})})}),n.jsx(yt,{path:"customer-details",element:n.jsx(Dp,{to:"/counter/branch-selection",replace:!0})}),n.jsx(yt,{path:"menu",element:n.jsx(Wi,{children:n.jsx(phe,{})})}),n.jsx(yt,{path:"bill-generation",element:n.jsx(Wi,{children:n.jsx(ghe,{})})}),n.jsx(yt,{path:"payment",element:n.jsx(Wi,{children:n.jsx(yhe,{})})}),n.jsx(yt,{path:"payment-success",element:n.jsx(Wi,{children:n.jsx(jhe,{})})}),n.jsx(yt,{path:"orders",element:n.jsx(Wi,{children:n.jsx(whe,{})})}),n.jsx(yt,{path:"print-settings",element:n.jsx(Wi,{children:n.jsx(She,{})})}),n.jsx(yt,{path:"print-test",element:n.jsx(Wi,{children:n.jsx(Nhe,{})})}),n.jsx(yt,{path:"sales-reports",element:n.jsx(Wi,{children:n.jsx(The,{})})}),n.jsx(yt,{path:"",element:n.jsx(Dp,{to:"login",replace:!0})})]})})}const Ahe=({children:e})=>localStorage.getItem("isAuthenticated")==="true"?e:n.jsx(Dp,{to:"/login",replace:!0});function Ehe(){const[e,t]=N.useState(!1),[r,a]=N.useState(!1);return N.useEffect(()=>{const i=localStorage.getItem("isAuthenticated")==="true";a(i);const s=()=>{a(localStorage.getItem("isAuthenticated")==="true")};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]),n.jsx(IL,{children:n.jsxs(uj,{children:[n.jsx(yt,{path:"/login",element:n.jsx(hae,{})}),n.jsx(yt,{path:"/menu",element:n.jsx(P3,{})}),n.jsx(yt,{path:"/public-menu",element:n.jsx(P3,{})}),n.jsx(yt,{path:"/privacy-policy",element:n.jsx(Fae,{})}),n.jsx(yt,{path:"/terms-conditions",element:n.jsx(Lae,{})}),n.jsx(yt,{path:"/category-orders",element:n.jsx(Wfe,{})}),n.jsx(yt,{path:"/receptionist-dashboard",element:n.jsx(Jfe,{})}),n.jsx(yt,{path:"/counter/*",element:n.jsx(Che,{})}),n.jsx(yt,{path:"/*",element:n.jsx(Ahe,{children:n.jsxs("div",{className:"app",children:[n.jsx(mz,{collapsed:e,setCollapsed:t}),n.jsx("main",{className:`content ${e?"content-expanded":""}`,children:n.jsxs(uj,{children:[n.jsx(yt,{path:"/",element:n.jsx(Fne,{})}),n.jsx(yt,{path:"/orders",element:n.jsx(Une,{})}),n.jsx(yt,{path:"/products",element:n.jsx(Gne,{})}),n.jsx(yt,{path:"/categories",element:n.jsx(Xne,{})}),n.jsx(yt,{path:"/branches",element:n.jsx(Zne,{})}),n.jsx(yt,{path:"/users",element:n.jsx(tae,{})}),n.jsx(yt,{path:"/coupons",element:n.jsx(iae,{})}),n.jsx(yt,{path:"/payments",element:n.jsx(oae,{})}),n.jsx(yt,{path:"/help-support",element:n.jsx(lae,{})}),n.jsx(yt,{path:"/about-us",element:n.jsx(cae,{})}),n.jsx(yt,{path:"/terms-policies",element:n.jsx(fae,{})}),n.jsx(yt,{path:"/staff-users",element:n.jsx(xae,{})}),n.jsx(yt,{path:"/counter-users",element:n.jsx(vae,{})}),n.jsx(yt,{path:"/staff-orders",element:n.jsx(bae,{})}),n.jsx(yt,{path:"/counter-orders",element:n.jsx(jae,{})}),n.jsx(yt,{path:"/tables",element:n.jsx(wae,{})}),n.jsx(yt,{path:"/staff-invoices",element:n.jsx(Sae,{})}),n.jsx(yt,{path:"/counter-bills",element:n.jsx(Nae,{})}),n.jsx(yt,{path:"/staff-payment",element:n.jsx(Cae,{})}),n.jsx(yt,{path:"/counter-payment",element:n.jsx(Eae,{})}),n.jsx(yt,{path:"/product-submissions",element:n.jsx(_ae,{})}),n.jsx(yt,{path:"/qr-uploads",element:n.jsx(Oae,{})}),n.jsx(yt,{path:"/purchase-users",element:n.jsx(Iae,{})}),n.jsx(yt,{path:"/qr-generator",element:n.jsx(Bae,{})}),n.jsx(yt,{path:"/subscription",element:n.jsx(zae,{})}),n.jsx(yt,{path:"/subscription-management",element:n.jsx($ae,{})}),n.jsx(yt,{path:"/meal-of-the-day",element:n.jsx(Uae,{})}),n.jsx(yt,{path:"/rooms",element:n.jsx(Pfe,{})}),n.jsx(yt,{path:"/room-bookings",element:n.jsx(Bfe,{})}),n.jsx(yt,{path:"/room-payments",element:n.jsx(zfe,{})}),n.jsx(yt,{path:"/category-access",element:n.jsx(qfe,{})}),n.jsx(yt,{path:"/receptionist-access",element:n.jsx(Yfe,{})}),n.jsx(yt,{path:"/reservations",element:n.jsx(ahe,{})})]})})]})})})]})})}const _he=N.createContext(),Ohe=[{id:1,name:"Central Branch",address:"123 Main St, City Center",phone:"123-456-7890",isActive:!0},{id:2,name:"North Branch",address:"456 North Ave, Northside",phone:"234-567-8901",isActive:!0},{id:3,name:"South Branch",address:"789 South Blvd, Southside",phone:"345-678-9012",isActive:!0},{id:4,name:"East Branch",address:"101 East Rd, Eastville",phone:"456-789-0123",isActive:!0},{id:5,name:"West Branch",address:"202 West St, Westtown",phone:"567-890-1234",isActive:!0}],khe=[{id:1,name:"Appetizers",branchId:1,description:"Starters and small plates",isActive:!0},{id:2,name:"Main Course",branchId:1,description:"Primary dishes",isActive:!0},{id:3,name:"Desserts",branchId:1,description:"Sweet treats",isActive:!0},{id:4,name:"Beverages",branchId:1,description:"Drinks and refreshments",isActive:!0},{id:5,name:"Breakfast",branchId:2,description:"Morning meals",isActive:!0},{id:6,name:"Lunch",branchId:2,description:"Midday meals",isActive:!0},{id:7,name:"Dinner",branchId:2,description:"Evening meals",isActive:!0},{id:8,name:"Snacks",branchId:3,description:"Light bites",isActive:!0},{id:9,name:"Soups",branchId:3,description:"Warm and comforting",isActive:!0},{id:10,name:"Salads",branchId:3,description:"Fresh and healthy",isActive:!0},{id:11,name:"Specials",branchId:4,description:"Chef's recommendations",isActive:!0},{id:12,name:"Combos",branchId:4,description:"Value meals",isActive:!0},{id:13,name:"Vegetarian",branchId:5,description:"Plant-based options",isActive:!0},{id:14,name:"Non-Vegetarian",branchId:5,description:"Meat-based dishes",isActive:!0}],Dhe=[{id:1,name:"Spring Rolls",categoryId:1,branchId:1,price:120,description:"Crispy vegetable spring rolls served with sweet chili sauce",image:"https://images.unsplash.com/photo-1606505662538-0a89eb33e0d9?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8c3ByaW5nJTIwcm9sbHN8ZW58MHx8MHx8fDA%3D",isAvailable:!0},{id:2,name:"Paneer Tikka",categoryId:1,branchId:1,price:180,description:"Marinated cottage cheese grilled to perfection",image:"https://images.unsplash.com/photo-1567188040759-fb8a883dc6d8?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGFuZWVyJTIwdGlra2F8ZW58MHx8MHx8fDA%3D",isAvailable:!0},{id:3,name:"Butter Paneer",categoryId:2,branchId:1,price:250,description:"Tender PAneer in a rich buttery tomato sauce",image:"https://images.unsplash.com/photo-1603894584373-5ac82b2ae398?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YnV0dGVyJTIwY2hpY2tlbnxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:4,name:"Vegetable Biryani",categoryId:2,branchId:1,price:220,description:"Fragrant rice cooked with mixed vegetables and spices",image:"https://images.unsplash.com/photo-1589302168068-964664d93dc0?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YmlyeWFuaXxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:5,name:"Gulab Jamun",categoryId:3,branchId:1,price:100,description:"Sweet milk solids balls soaked in sugar syrup",image:"https://images.unsplash.com/photo-1605197161470-5d2a9af0ac7e?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Z3VsYWIlMjBqYW11bnxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:6,name:"Mango Lassi",categoryId:4,branchId:1,price:80,description:"Refreshing yogurt drink with mango pulp",image:"https://images.unsplash.com/photo-1626078436898-7c7f4f6dccf4?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bWFuZ28lMjBsYXNzaXxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:7,name:"Masala Dosa",categoryId:5,branchId:2,price:150,description:"Crispy rice crepe filled with spiced potatoes",image:"https://images.unsplash.com/photo-1589301760014-d929f3979dbc?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8ZG9zYXxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:8,name:"Sandwich",categoryId:6,branchId:2,price:160,description:"Grilled Potato with lettuce and mayo in toasted bread",image:"https://images.unsplash.com/photo-1521390188846-e2a3a97453a0?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Y2hpY2tlbiUyMHNhbmR3aWNofGVufDB8fDB8fHww",isAvailable:!0},{id:9,name:"Tandoori Paneer",categoryId:7,branchId:2,price:280,description:"Paneer marinated in yogurt and spices, cooked in a tandoor",image:"https://images.unsplash.com/photo-1610057099431-d73a1c9d2f2f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dGFuZG9vcmklMjBjaGlja2VufGVufDB8fDB8fHww",isAvailable:!0},{id:10,name:"Samosa",categoryId:8,branchId:3,price:40,description:"Crispy pastry filled with spiced potatoes and peas",image:"https://images.unsplash.com/photo-1601050690597-df0568f70950?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8c2Ftb3NhfGVufDB8fDB8fHww",isAvailable:!0}],Ihe=({children:e})=>{const[t,r]=N.useState(Ohe),[a,i]=N.useState(khe),[s,l]=N.useState(Dhe),[d,u]=N.useState(1),f=A=>{const k={...A,id:t.length>0?Math.max(...t.map(I=>I.id))+1:1,isActive:!0};return r([...t,k]),k},p=A=>{r(t.map(k=>k.id===A.id?A:k))},m=A=>{r(t.filter(k=>k.id!==A)),i(a.filter(k=>k.branchId!==A)),l(s.filter(k=>k.branchId!==A))},g=A=>{const k={...A,id:a.length>0?Math.max(...a.map(I=>I.id))+1:1,isActive:!0};return i([...a,k]),k},v=A=>{i(a.map(k=>k.id===A.id?A:k))},j=A=>{i(a.filter(k=>k.id!==A)),l(s.filter(k=>k.categoryId!==A))},b=A=>{const k={...A,id:s.length>0?Math.max(...s.map(I=>I.id))+1:1,isAvailable:!0};return l([...s,k]),k},y=A=>{l(s.map(k=>k.id===A.id?A:k))},C=A=>{l(s.filter(k=>k.id!==A))},T=A=>a.filter(k=>k.branchId===A),E=A=>s.filter(k=>k.categoryId===A),S=A=>s.filter(k=>k.branchId===A);return n.jsx(_he.Provider,{value:{branches:t,categories:a,products:s,selectedBranch:d,setSelectedBranch:u,addBranch:f,updateBranch:p,deleteBranch:m,addCategory:g,updateCategory:v,deleteCategory:j,addProduct:b,updateProduct:y,deleteProduct:C,getCategoriesByBranch:T,getProductsByCategory:E,getProductsByBranch:S},children:e})},Rhe=console.error;console.error=(...e)=>{typeof e[0]=="string"&&e[0].includes("Received `true` for a non-boolean attribute `jsx`")||Rhe.apply(console,e)};vF.createRoot(document.getElementById("root")).render(n.jsx(_e.StrictMode,{children:n.jsx(Ihe,{children:n.jsx(Ehe,{})})}));
