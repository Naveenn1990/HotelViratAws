(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ir(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hg={exports:{}},Yd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA;function lB(){if(uA)return Yd;uA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:e,type:a,key:l,ref:i!==void 0?i:null,props:s}}return Yd.Fragment=t,Yd.jsx=r,Yd.jsxs=r,Yd}var fA;function cB(){return fA||(fA=1,Hg.exports=lB()),Hg.exports}var n=cB(),Wg={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA;function dB(){if(hA)return Nt;hA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,b={};function y(q,ee,z){this.props=q,this.context=ee,this.refs=b,this.updater=z||v}y.prototype.isReactComponent={},y.prototype.setState=function(q,ee){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ee,"setState")},y.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=y.prototype;function A(q,ee,z){this.props=q,this.context=ee,this.refs=b,this.updater=z||v}var E=A.prototype=new C;E.constructor=A,j(E,y.prototype),E.isPureReactComponent=!0;var S=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function P(q,ee,z,U,V,te){return z=te.ref,{$$typeof:e,type:q,key:ee,ref:z!==void 0?z:null,props:te}}function L(q,ee){return P(q.type,ee,void 0,void 0,void 0,q.props)}function D(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function B(q){var ee={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(z){return ee[z]})}var M=/\/+/g;function k(q,ee){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):ee.toString(36)}function W(){}function F(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(W,W):(q.status="pending",q.then(function(ee){q.status==="pending"&&(q.status="fulfilled",q.value=ee)},function(ee){q.status==="pending"&&(q.status="rejected",q.reason=ee)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function I(q,ee,z,U,V){var te=typeof q;(te==="undefined"||te==="boolean")&&(q=null);var se=!1;if(q===null)se=!0;else switch(te){case"bigint":case"string":case"number":se=!0;break;case"object":switch(q.$$typeof){case e:case t:se=!0;break;case p:return se=q._init,I(se(q._payload),ee,z,U,V)}}if(se)return V=V(q),se=U===""?"."+k(q,0):U,S(V)?(z="",se!=null&&(z=se.replace(M,"$&/")+"/"),I(V,ee,z,"",function(Y){return Y})):V!=null&&(D(V)&&(V=L(V,z+(V.key==null||q&&q.key===V.key?"":(""+V.key).replace(M,"$&/")+"/")+se)),ee.push(V)),1;se=0;var Z=U===""?".":U+":";if(S(q))for(var K=0;K<q.length;K++)U=q[K],te=Z+k(U,K),se+=I(U,ee,z,te,V);else if(K=g(q),typeof K=="function")for(q=K.call(q),K=0;!(U=q.next()).done;)U=U.value,te=Z+k(U,K++),se+=I(U,ee,z,te,V);else if(te==="object"){if(typeof q.then=="function")return I(F(q),ee,z,U,V);throw ee=String(q),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return se}function R(q,ee,z){if(q==null)return q;var U=[],V=0;return I(q,U,"","",function(te){return ee.call(z,te,V++)}),U}function X(q){if(q._status===-1){var ee=q._result;ee=ee(),ee.then(function(z){(q._status===0||q._status===-1)&&(q._status=1,q._result=z)},function(z){(q._status===0||q._status===-1)&&(q._status=2,q._result=z)}),q._status===-1&&(q._status=0,q._result=ee)}if(q._status===1)return q._result.default;throw q._result}var ne=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function ge(){}return Nt.Children={map:R,forEach:function(q,ee,z){R(q,function(){ee.apply(this,arguments)},z)},count:function(q){var ee=0;return R(q,function(){ee++}),ee},toArray:function(q){return R(q,function(ee){return ee})||[]},only:function(q){if(!D(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Nt.Component=y,Nt.Fragment=r,Nt.Profiler=i,Nt.PureComponent=A,Nt.StrictMode=a,Nt.Suspense=u,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return T.H.useMemoCache(q)}},Nt.cache=function(q){return function(){return q.apply(null,arguments)}},Nt.cloneElement=function(q,ee,z){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var U=j({},q.props),V=q.key,te=void 0;if(ee!=null)for(se in ee.ref!==void 0&&(te=void 0),ee.key!==void 0&&(V=""+ee.key),ee)!_.call(ee,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&ee.ref===void 0||(U[se]=ee[se]);var se=arguments.length-2;if(se===1)U.children=z;else if(1<se){for(var Z=Array(se),K=0;K<se;K++)Z[K]=arguments[K+2];U.children=Z}return P(q.type,V,void 0,void 0,te,U)},Nt.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Nt.createElement=function(q,ee,z){var U,V={},te=null;if(ee!=null)for(U in ee.key!==void 0&&(te=""+ee.key),ee)_.call(ee,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(V[U]=ee[U]);var se=arguments.length-2;if(se===1)V.children=z;else if(1<se){for(var Z=Array(se),K=0;K<se;K++)Z[K]=arguments[K+2];V.children=Z}if(q&&q.defaultProps)for(U in se=q.defaultProps,se)V[U]===void 0&&(V[U]=se[U]);return P(q,te,void 0,void 0,null,V)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(q){return{$$typeof:d,render:q}},Nt.isValidElement=D,Nt.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:X}},Nt.memo=function(q,ee){return{$$typeof:f,type:q,compare:ee===void 0?null:ee}},Nt.startTransition=function(q){var ee=T.T,z={};T.T=z;try{var U=q(),V=T.S;V!==null&&V(z,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(ge,ne)}catch(te){ne(te)}finally{T.T=ee}},Nt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Nt.use=function(q){return T.H.use(q)},Nt.useActionState=function(q,ee,z){return T.H.useActionState(q,ee,z)},Nt.useCallback=function(q,ee){return T.H.useCallback(q,ee)},Nt.useContext=function(q){return T.H.useContext(q)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(q,ee){return T.H.useDeferredValue(q,ee)},Nt.useEffect=function(q,ee,z){var U=T.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return U.useEffect(q,ee)},Nt.useId=function(){return T.H.useId()},Nt.useImperativeHandle=function(q,ee,z){return T.H.useImperativeHandle(q,ee,z)},Nt.useInsertionEffect=function(q,ee){return T.H.useInsertionEffect(q,ee)},Nt.useLayoutEffect=function(q,ee){return T.H.useLayoutEffect(q,ee)},Nt.useMemo=function(q,ee){return T.H.useMemo(q,ee)},Nt.useOptimistic=function(q,ee){return T.H.useOptimistic(q,ee)},Nt.useReducer=function(q,ee,z){return T.H.useReducer(q,ee,z)},Nt.useRef=function(q){return T.H.useRef(q)},Nt.useState=function(q){return T.H.useState(q)},Nt.useSyncExternalStore=function(q,ee,z){return T.H.useSyncExternalStore(q,ee,z)},Nt.useTransition=function(){return T.H.useTransition()},Nt.version="19.1.0",Nt}var pA;function G2(){return pA||(pA=1,Wg.exports=dB()),Wg.exports}var N=G2();const Te=ir(N);var Gg={exports:{}},Xd={},Vg={exports:{}},Yg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mA;function uB(){return mA||(mA=1,function(e){function t(R,X){var ne=R.length;R.push(X);e:for(;0<ne;){var ge=ne-1>>>1,q=R[ge];if(0<i(q,X))R[ge]=X,R[ne]=q,ne=ge;else break e}}function r(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var X=R[0],ne=R.pop();if(ne!==X){R[0]=ne;e:for(var ge=0,q=R.length,ee=q>>>1;ge<ee;){var z=2*(ge+1)-1,U=R[z],V=z+1,te=R[V];if(0>i(U,ne))V<q&&0>i(te,U)?(R[ge]=te,R[V]=ne,ge=V):(R[ge]=U,R[z]=ne,ge=z);else if(V<q&&0>i(te,ne))R[ge]=te,R[V]=ne,ge=V;else break e}}return X}function i(R,X){var ne=R.sortIndex-X.sortIndex;return ne!==0?ne:R.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var u=[],f=[],p=1,x=null,g=3,v=!1,j=!1,b=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function S(R){for(var X=r(f);X!==null;){if(X.callback===null)a(f);else if(X.startTime<=R)a(f),X.sortIndex=X.expirationTime,t(u,X);else break;X=r(f)}}function T(R){if(b=!1,S(R),!j)if(r(u)!==null)j=!0,_||(_=!0,k());else{var X=r(f);X!==null&&I(T,X.startTime-R)}}var _=!1,P=-1,L=5,D=-1;function B(){return y?!0:!(e.unstable_now()-D<L)}function M(){if(y=!1,_){var R=e.unstable_now();D=R;var X=!0;try{e:{j=!1,b&&(b=!1,A(P),P=-1),v=!0;var ne=g;try{t:{for(S(R),x=r(u);x!==null&&!(x.expirationTime>R&&B());){var ge=x.callback;if(typeof ge=="function"){x.callback=null,g=x.priorityLevel;var q=ge(x.expirationTime<=R);if(R=e.unstable_now(),typeof q=="function"){x.callback=q,S(R),X=!0;break t}x===r(u)&&a(u),S(R)}else a(u);x=r(u)}if(x!==null)X=!0;else{var ee=r(f);ee!==null&&I(T,ee.startTime-R),X=!1}}break e}finally{x=null,g=ne,v=!1}X=void 0}}finally{X?k():_=!1}}}var k;if(typeof E=="function")k=function(){E(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,F=W.port2;W.port1.onmessage=M,k=function(){F.postMessage(null)}}else k=function(){C(M,0)};function I(R,X){P=C(function(){R(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var ne=g;g=X;try{return R()}finally{g=ne}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(R,X){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ne=g;g=R;try{return X()}finally{g=ne}},e.unstable_scheduleCallback=function(R,X,ne){var ge=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ge+ne:ge):ne=ge,R){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ne+q,R={id:p++,callback:X,priorityLevel:R,startTime:ne,expirationTime:q,sortIndex:-1},ne>ge?(R.sortIndex=ne,t(f,R),r(u)===null&&R===r(f)&&(b?(A(P),P=-1):b=!0,I(T,ne-ge))):(R.sortIndex=q,t(u,R),j||v||(j=!0,_||(_=!0,k()))),R},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(R){var X=g;return function(){var ne=g;g=X;try{return R.apply(this,arguments)}finally{g=ne}}}}(Yg)),Yg}var xA;function fB(){return xA||(xA=1,Vg.exports=uB()),Vg.exports}var Xg={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA;function hB(){if(gA)return xn;gA=1;var e=G2();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,f,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:u,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,xn.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(u,f,null,p)},xn.flushSync=function(u){var f=l.T,p=a.p;try{if(l.T=null,a.p=2,u)return u()}finally{l.T=f,a.p=p,a.d.f()}},xn.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(u,f))},xn.prefetchDNS=function(u){typeof u=="string"&&a.d.D(u)},xn.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,x=d(p,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?a.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:g,fetchPriority:v}):p==="script"&&a.d.X(u,{crossOrigin:x,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},xn.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);a.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(u)},xn.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,x=d(p,f.crossOrigin);a.d.L(u,p,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},xn.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=d(f.as,f.crossOrigin);a.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(u)},xn.requestFormReset=function(u){a.d.r(u)},xn.unstable_batchedUpdates=function(u,f){return u(f)},xn.useFormState=function(u,f,p){return l.H.useFormState(u,f,p)},xn.useFormStatus=function(){return l.H.useHostTransitionStatus()},xn.version="19.1.0",xn}var yA;function pB(){if(yA)return Xg.exports;yA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xg.exports=hB(),Xg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA;function mB(){if(vA)return Xd;vA=1;var e=fB(),t=G2(),r=pB();function a(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(s(o)!==o)throw Error(a(188))}function u(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(a(188));return c!==o?null:o}for(var h=o,m=c;;){var w=h.return;if(w===null)break;var O=w.alternate;if(O===null){if(m=w.return,m!==null){h=m;continue}break}if(w.child===O.child){for(O=w.child;O;){if(O===h)return d(w),o;if(O===m)return d(w),c;O=O.sibling}throw Error(a(188))}if(h.return!==m.return)h=w,m=O;else{for(var G=!1,J=w.child;J;){if(J===h){G=!0,h=w,m=O;break}if(J===m){G=!0,m=w,h=O;break}J=J.sibling}if(!G){for(J=O.child;J;){if(J===h){G=!0,h=O,m=w;break}if(J===m){G=!0,m=O,h=w;break}J=J.sibling}if(!G)throw Error(a(189))}}if(h.alternate!==m)throw Error(a(190))}if(h.tag!==3)throw Error(a(188));return h.stateNode.current===h?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(o){return o===null||typeof o!="object"?null:(o=M&&o[M]||o["@@iterator"],typeof o=="function"?o:null)}var W=Symbol.for("react.client.reference");function F(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===W?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case y:return"Profiler";case b:return"StrictMode";case T:return"Suspense";case _:return"SuspenseList";case D:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case E:return(o.displayName||"Context")+".Provider";case A:return(o._context.displayName||"Context")+".Consumer";case S:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return c=o.displayName||null,c!==null?c:F(o.type)||"Memo";case L:c=o._payload,o=o._init;try{return F(o(c))}catch{}}return null}var I=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ge=[],q=-1;function ee(o){return{current:o}}function z(o){0>q||(o.current=ge[q],ge[q]=null,q--)}function U(o,c){q++,ge[q]=o.current,o.current=c}var V=ee(null),te=ee(null),se=ee(null),Z=ee(null);function K(o,c){switch(U(se,c),U(te,o),U(V,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?LC(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=LC(c),o=zC(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}z(V),U(V,o)}function Y(){z(V),z(te),z(se)}function ce(o){o.memoizedState!==null&&U(Z,o);var c=V.current,h=zC(c,o.type);c!==h&&(U(te,o),U(V,h))}function xe(o){te.current===o&&(z(V),z(te)),Z.current===o&&(z(Z),qd._currentValue=ne)}var pe=Object.prototype.hasOwnProperty,Ce=e.unstable_scheduleCallback,ve=e.unstable_cancelCallback,Le=e.unstable_shouldYield,le=e.unstable_requestPaint,Ae=e.unstable_now,qe=e.unstable_getCurrentPriorityLevel,me=e.unstable_ImmediatePriority,ae=e.unstable_UserBlockingPriority,re=e.unstable_NormalPriority,be=e.unstable_LowPriority,H=e.unstable_IdlePriority,de=e.log,Se=e.unstable_setDisableYieldValue,Ne=null,je=null;function Qe(o){if(typeof de=="function"&&Se(o),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ne,o)}catch{}}var rt=Math.clz32?Math.clz32:yr,ht=Math.log,lr=Math.LN2;function yr(o){return o>>>=0,o===0?32:31-(ht(o)/lr|0)|0}var _e=256,it=4194304;function Ee(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function lt(o,c,h){var m=o.pendingLanes;if(m===0)return 0;var w=0,O=o.suspendedLanes,G=o.pingedLanes;o=o.warmLanes;var J=m&134217727;return J!==0?(m=J&~O,m!==0?w=Ee(m):(G&=J,G!==0?w=Ee(G):h||(h=J&~o,h!==0&&(w=Ee(h))))):(J=m&~O,J!==0?w=Ee(J):G!==0?w=Ee(G):h||(h=m&~o,h!==0&&(w=Ee(h)))),w===0?0:c!==0&&c!==w&&(c&O)===0&&(O=w&-w,h=c&-c,O>=h||O===32&&(h&4194048)!==0)?c:w}function Xe(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function vt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qt(){var o=_e;return _e<<=1,(_e&4194048)===0&&(_e=256),o}function vr(){var o=it;return it<<=1,(it&62914560)===0&&(it=4194304),o}function en(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function pn(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Sn(o,c,h,m,w,O){var G=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var J=o.entanglements,ye=o.expirationTimes,Pe=o.hiddenUpdates;for(h=G&~h;0<h;){var We=31-rt(h),Ve=1<<We;J[We]=0,ye[We]=-1;var Me=Pe[We];if(Me!==null)for(Pe[We]=null,We=0;We<Me.length;We++){var Be=Me[We];Be!==null&&(Be.lane&=-536870913)}h&=~Ve}m!==0&&ti(o,m,0),O!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=O&~(G&~c))}function ti(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var m=31-rt(c);o.entangledLanes|=c,o.entanglements[m]=o.entanglements[m]|1073741824|h&4194090}function qf(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var m=31-rt(h),w=1<<m;w&c|o[m]&c&&(o[m]|=c),h&=~w}}function Jc(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ed(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Hf(){var o=X.p;return o!==0?o:(o=window.event,o===void 0?32:iA(o.type))}function L0(o,c){var h=X.p;try{return X.p=o,c()}finally{X.p=h}}var ri=Math.random().toString(36).slice(2),Ur="__reactFiber$"+ri,qr="__reactProps$"+ri,ls="__reactContainer$"+ri,td="__reactEvents$"+ri,z0="__reactListeners$"+ri,Q="__reactHandles$"+ri,fe="__reactResources$"+ri,ie="__reactMarker$"+ri;function oe(o){delete o[Ur],delete o[qr],delete o[td],delete o[z0],delete o[Q]}function ue(o){var c=o[Ur];if(c)return c;for(var h=o.parentNode;h;){if(c=h[ls]||h[Ur]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=HC(o);o!==null;){if(h=o[Ur])return h;o=HC(o)}return c}o=h,h=o.parentNode}return null}function he(o){if(o=o[Ur]||o[ls]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Re(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(a(33))}function $e(o){var c=o[fe];return c||(c=o[fe]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ke(o){o[ie]=!0}var De=new Set,Fe={};function Ke(o,c){Je(o,c),Je(o+"Capture",c)}function Je(o,c){for(Fe[o]=c,o=0;o<c.length;o++)De.add(c[o])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},at={};function jt(o){return pe.call(at,o)?!0:pe.call(Ze,o)?!1:st.test(o)?at[o]=!0:(Ze[o]=!0,!1)}function Zt(o,c,h){if(jt(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function Jt(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function cr(o,c,h,m){if(m===null)o.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+m)}}var bi,cs;function da(o){if(bi===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);bi=c&&c[1]||"",cs=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bi+o+cs}var Pa=!1;function eo(o,c){if(!o||Pa)return"";Pa=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Be){var Me=Be}Reflect.construct(o,[],Ve)}else{try{Ve.call()}catch(Be){Me=Be}o.call(Ve.prototype)}}else{try{throw Error()}catch(Be){Me=Be}(Ve=o())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Be){if(Be&&Me&&typeof Be.stack=="string")return[Be.stack,Me.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=m.DetermineComponentFrameRoot(),G=O[0],J=O[1];if(G&&J){var ye=G.split(`
`),Pe=J.split(`
`);for(w=m=0;m<ye.length&&!ye[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Pe.length&&!Pe[w].includes("DetermineComponentFrameRoot");)w++;if(m===ye.length||w===Pe.length)for(m=ye.length-1,w=Pe.length-1;1<=m&&0<=w&&ye[m]!==Pe[w];)w--;for(;1<=m&&0<=w;m--,w--)if(ye[m]!==Pe[w]){if(m!==1||w!==1)do if(m--,w--,0>w||ye[m]!==Pe[w]){var We=`
`+ye[m].replace(" at new "," at ");return o.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",o.displayName)),We}while(1<=m&&0<=w);break}}}finally{Pa=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?da(h):""}function Ra(o){switch(o.tag){case 26:case 27:case 5:return da(o.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 15:return eo(o.type,!1);case 11:return eo(o.type.render,!1);case 1:return eo(o.type,!0);case 31:return da("Activity");default:return""}}function PS(o){try{var c="";do c+=Ra(o),o=o.return;while(o);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function ua(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function RS(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function nM(o){var c=RS(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),m=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,O=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(G){m=""+G,O.call(this,G)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(G){m=""+G},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Wf(o){o._valueTracker||(o._valueTracker=nM(o))}function DS(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),m="";return o&&(m=RS(o)?o.checked?"true":"false":o.value),o=m,o!==h?(c.setValue(o),!0):!1}function Gf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var aM=/[\n"\\]/g;function fa(o){return o.replace(aM,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function $0(o,c,h,m,w,O,G,J){o.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?o.type=G:o.removeAttribute("type"),c!=null?G==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ua(c)):o.value!==""+ua(c)&&(o.value=""+ua(c)):G!=="submit"&&G!=="reset"||o.removeAttribute("value"),c!=null?U0(o,G,ua(c)):h!=null?U0(o,G,ua(h)):m!=null&&o.removeAttribute("value"),w==null&&O!=null&&(o.defaultChecked=!!O),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?o.name=""+ua(J):o.removeAttribute("name")}function MS(o,c,h,m,w,O,G,J){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.type=O),c!=null||h!=null){if(!(O!=="submit"&&O!=="reset"||c!=null))return;h=h!=null?""+ua(h):"",c=c!=null?""+ua(c):h,J||c===o.value||(o.value=c),o.defaultValue=c}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=J?o.checked:!!m,o.defaultChecked=!!m,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(o.name=G)}function U0(o,c,h){c==="number"&&Gf(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function nl(o,c,h,m){if(o=o.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=c.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&m&&(o[h].defaultSelected=!0)}else{for(h=""+ua(h),c=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,m&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function FS(o,c,h){if(c!=null&&(c=""+ua(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+ua(h):""}function BS(o,c,h,m){if(c==null){if(m!=null){if(h!=null)throw Error(a(92));if(I(m)){if(1<m.length)throw Error(a(93));m=m[0]}h=m}h==null&&(h=""),c=h}h=ua(c),o.defaultValue=h,m=o.textContent,m===h&&m!==""&&m!==null&&(o.value=m)}function al(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var iM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function LS(o,c,h){var m=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":m?o.setProperty(c,h):typeof h!="number"||h===0||iM.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function zS(o,c,h){if(c!=null&&typeof c!="object")throw Error(a(62));if(o=o.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var w in c)m=c[w],c.hasOwnProperty(w)&&h[w]!==m&&LS(o,w,m)}else for(var O in c)c.hasOwnProperty(O)&&LS(o,O,c[O])}function q0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vf(o){return oM.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var H0=null;function W0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var il=null,sl=null;function $S(o){var c=he(o);if(c&&(o=c.stateNode)){var h=o[qr]||null;e:switch(o=c.stateNode,c.type){case"input":if($0(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+fa(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var m=h[c];if(m!==o&&m.form===o.form){var w=m[qr]||null;if(!w)throw Error(a(90));$0(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<h.length;c++)m=h[c],m.form===o.form&&DS(m)}break e;case"textarea":FS(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&nl(o,!!h.multiple,c,!1)}}}var G0=!1;function US(o,c,h){if(G0)return o(c,h);G0=!0;try{var m=o(c);return m}finally{if(G0=!1,(il!==null||sl!==null)&&(Ih(),il&&(c=il,o=sl,sl=il=null,$S(c),o)))for(c=0;c<o.length;c++)$S(o[c])}}function rd(o,c){var h=o.stateNode;if(h===null)return null;var m=h[qr]||null;if(m===null)return null;h=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(a(231,c,typeof h));return h}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),V0=!1;if(ji)try{var nd={};Object.defineProperty(nd,"passive",{get:function(){V0=!0}}),window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch{V0=!1}var ds=null,Y0=null,Yf=null;function qS(){if(Yf)return Yf;var o,c=Y0,h=c.length,m,w="value"in ds?ds.value:ds.textContent,O=w.length;for(o=0;o<h&&c[o]===w[o];o++);var G=h-o;for(m=1;m<=G&&c[h-m]===w[O-m];m++);return Yf=w.slice(o,1<m?1-m:void 0)}function Xf(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Kf(){return!0}function HS(){return!1}function In(o){function c(h,m,w,O,G){this._reactName=h,this._targetInst=w,this.type=m,this.nativeEvent=O,this.target=G,this.currentTarget=null;for(var J in o)o.hasOwnProperty(J)&&(h=o[J],this[J]=h?h(O):O[J]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Kf:HS,this.isPropagationStopped=HS,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Kf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Kf)},persist:function(){},isPersistent:Kf}),c}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qf=In(to),ad=p({},to,{view:0,detail:0}),lM=In(ad),X0,K0,id,Zf=p({},ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==id&&(id&&o.type==="mousemove"?(X0=o.screenX-id.screenX,K0=o.screenY-id.screenY):K0=X0=0,id=o),X0)},movementY:function(o){return"movementY"in o?o.movementY:K0}}),WS=In(Zf),cM=p({},Zf,{dataTransfer:0}),dM=In(cM),uM=p({},ad,{relatedTarget:0}),Q0=In(uM),fM=p({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),hM=In(fM),pM=p({},to,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),mM=In(pM),xM=p({},to,{data:0}),GS=In(xM),gM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bM(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=vM[o])?!!c[o]:!1}function Z0(){return bM}var jM=p({},ad,{key:function(o){if(o.key){var c=gM[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Xf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?yM[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z0,charCode:function(o){return o.type==="keypress"?Xf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Xf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),wM=In(jM),SM=p({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VS=In(SM),NM=p({},ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z0}),TM=In(NM),CM=p({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),AM=In(CM),_M=p({},Zf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),EM=In(_M),OM=p({},to,{newState:0,oldState:0}),kM=In(OM),IM=[9,13,27,32],J0=ji&&"CompositionEvent"in window,sd=null;ji&&"documentMode"in document&&(sd=document.documentMode);var PM=ji&&"TextEvent"in window&&!sd,YS=ji&&(!J0||sd&&8<sd&&11>=sd),XS=" ",KS=!1;function QS(o,c){switch(o){case"keyup":return IM.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ol=!1;function RM(o,c){switch(o){case"compositionend":return ZS(c);case"keypress":return c.which!==32?null:(KS=!0,XS);case"textInput":return o=c.data,o===XS&&KS?null:o;default:return null}}function DM(o,c){if(ol)return o==="compositionend"||!J0&&QS(o,c)?(o=qS(),Yf=Y0=ds=null,ol=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return YS&&c.locale!=="ko"?null:c.data;default:return null}}var MM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JS(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!MM[o.type]:c==="textarea"}function eN(o,c,h,m){il?sl?sl.push(m):sl=[m]:il=m,c=Bh(c,"onChange"),0<c.length&&(h=new Qf("onChange","change",null,h,m),o.push({event:h,listeners:c}))}var od=null,ld=null;function FM(o){RC(o,0)}function Jf(o){var c=Re(o);if(DS(c))return o}function tN(o,c){if(o==="change")return c}var rN=!1;if(ji){var ex;if(ji){var tx="oninput"in document;if(!tx){var nN=document.createElement("div");nN.setAttribute("oninput","return;"),tx=typeof nN.oninput=="function"}ex=tx}else ex=!1;rN=ex&&(!document.documentMode||9<document.documentMode)}function aN(){od&&(od.detachEvent("onpropertychange",iN),ld=od=null)}function iN(o){if(o.propertyName==="value"&&Jf(ld)){var c=[];eN(c,ld,o,W0(o)),US(FM,c)}}function BM(o,c,h){o==="focusin"?(aN(),od=c,ld=h,od.attachEvent("onpropertychange",iN)):o==="focusout"&&aN()}function LM(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Jf(ld)}function zM(o,c){if(o==="click")return Jf(c)}function $M(o,c){if(o==="input"||o==="change")return Jf(c)}function UM(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Vn=typeof Object.is=="function"?Object.is:UM;function cd(o,c){if(Vn(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),m=Object.keys(c);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var w=h[m];if(!pe.call(c,w)||!Vn(o[w],c[w]))return!1}return!0}function sN(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function oN(o,c){var h=sN(o);o=0;for(var m;h;){if(h.nodeType===3){if(m=o+h.textContent.length,o<=c&&m>=c)return{node:h,offset:c-o};o=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=sN(h)}}function lN(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?lN(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function cN(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Gf(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Gf(o.document)}return c}function rx(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var qM=ji&&"documentMode"in document&&11>=document.documentMode,ll=null,nx=null,dd=null,ax=!1;function dN(o,c,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ax||ll==null||ll!==Gf(m)||(m=ll,"selectionStart"in m&&rx(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),dd&&cd(dd,m)||(dd=m,m=Bh(nx,"onSelect"),0<m.length&&(c=new Qf("onSelect","select",null,c,h),o.push({event:c,listeners:m}),c.target=ll)))}function ro(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var cl={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionrun:ro("Transition","TransitionRun"),transitionstart:ro("Transition","TransitionStart"),transitioncancel:ro("Transition","TransitionCancel"),transitionend:ro("Transition","TransitionEnd")},ix={},uN={};ji&&(uN=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function no(o){if(ix[o])return ix[o];if(!cl[o])return o;var c=cl[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in uN)return ix[o]=c[h];return o}var fN=no("animationend"),hN=no("animationiteration"),pN=no("animationstart"),HM=no("transitionrun"),WM=no("transitionstart"),GM=no("transitioncancel"),mN=no("transitionend"),xN=new Map,sx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sx.push("scrollEnd");function Da(o,c){xN.set(o,c),Ke(c,[o])}var gN=new WeakMap;function ha(o,c){if(typeof o=="object"&&o!==null){var h=gN.get(o);return h!==void 0?h:(c={value:o,source:c,stack:PS(c)},gN.set(o,c),c)}return{value:o,source:c,stack:PS(c)}}var pa=[],dl=0,ox=0;function eh(){for(var o=dl,c=ox=dl=0;c<o;){var h=pa[c];pa[c++]=null;var m=pa[c];pa[c++]=null;var w=pa[c];pa[c++]=null;var O=pa[c];if(pa[c++]=null,m!==null&&w!==null){var G=m.pending;G===null?w.next=w:(w.next=G.next,G.next=w),m.pending=w}O!==0&&yN(h,w,O)}}function th(o,c,h,m){pa[dl++]=o,pa[dl++]=c,pa[dl++]=h,pa[dl++]=m,ox|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function lx(o,c,h,m){return th(o,c,h,m),rh(o)}function ul(o,c){return th(o,null,null,c),rh(o)}function yN(o,c,h){o.lanes|=h;var m=o.alternate;m!==null&&(m.lanes|=h);for(var w=!1,O=o.return;O!==null;)O.childLanes|=h,m=O.alternate,m!==null&&(m.childLanes|=h),O.tag===22&&(o=O.stateNode,o===null||o._visibility&1||(w=!0)),o=O,O=O.return;return o.tag===3?(O=o.stateNode,w&&c!==null&&(w=31-rt(h),o=O.hiddenUpdates,m=o[w],m===null?o[w]=[c]:m.push(c),c.lane=h|536870912),O):null}function rh(o){if(50<Dd)throw Dd=0,pg=null,Error(a(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var fl={};function VM(o,c,h,m){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(o,c,h,m){return new VM(o,c,h,m)}function cx(o){return o=o.prototype,!(!o||!o.isReactComponent)}function wi(o,c){var h=o.alternate;return h===null?(h=Yn(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function vN(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function nh(o,c,h,m,w,O){var G=0;if(m=o,typeof o=="function")cx(o)&&(G=1);else if(typeof o=="string")G=XF(o,h,V.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case D:return o=Yn(31,h,c,w),o.elementType=D,o.lanes=O,o;case j:return ao(h.children,w,O,c);case b:G=8,w|=24;break;case y:return o=Yn(12,h,c,w|2),o.elementType=y,o.lanes=O,o;case T:return o=Yn(13,h,c,w),o.elementType=T,o.lanes=O,o;case _:return o=Yn(19,h,c,w),o.elementType=_,o.lanes=O,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:case E:G=10;break e;case A:G=9;break e;case S:G=11;break e;case P:G=14;break e;case L:G=16,m=null;break e}G=29,h=Error(a(130,o===null?"null":typeof o,"")),m=null}return c=Yn(G,h,c,w),c.elementType=o,c.type=m,c.lanes=O,c}function ao(o,c,h,m){return o=Yn(7,o,m,c),o.lanes=h,o}function dx(o,c,h){return o=Yn(6,o,null,c),o.lanes=h,o}function ux(o,c,h){return c=Yn(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var hl=[],pl=0,ah=null,ih=0,ma=[],xa=0,io=null,Si=1,Ni="";function so(o,c){hl[pl++]=ih,hl[pl++]=ah,ah=o,ih=c}function bN(o,c,h){ma[xa++]=Si,ma[xa++]=Ni,ma[xa++]=io,io=o;var m=Si;o=Ni;var w=32-rt(m)-1;m&=~(1<<w),h+=1;var O=32-rt(c)+w;if(30<O){var G=w-w%5;O=(m&(1<<G)-1).toString(32),m>>=G,w-=G,Si=1<<32-rt(c)+w|h<<w|m,Ni=O+o}else Si=1<<O|h<<w|m,Ni=o}function fx(o){o.return!==null&&(so(o,1),bN(o,1,0))}function hx(o){for(;o===ah;)ah=hl[--pl],hl[pl]=null,ih=hl[--pl],hl[pl]=null;for(;o===io;)io=ma[--xa],ma[xa]=null,Ni=ma[--xa],ma[xa]=null,Si=ma[--xa],ma[xa]=null}var Nn=null,br=null,$t=!1,oo=null,ni=!1,px=Error(a(519));function lo(o){var c=Error(a(418,""));throw hd(ha(c,o)),px}function jN(o){var c=o.stateNode,h=o.type,m=o.memoizedProps;switch(c[Ur]=o,c[qr]=m,h){case"dialog":Ot("cancel",c),Ot("close",c);break;case"iframe":case"object":case"embed":Ot("load",c);break;case"video":case"audio":for(h=0;h<Fd.length;h++)Ot(Fd[h],c);break;case"source":Ot("error",c);break;case"img":case"image":case"link":Ot("error",c),Ot("load",c);break;case"details":Ot("toggle",c);break;case"input":Ot("invalid",c),MS(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Wf(c);break;case"select":Ot("invalid",c);break;case"textarea":Ot("invalid",c),BS(c,m.value,m.defaultValue,m.children),Wf(c)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||m.suppressHydrationWarning===!0||BC(c.textContent,h)?(m.popover!=null&&(Ot("beforetoggle",c),Ot("toggle",c)),m.onScroll!=null&&Ot("scroll",c),m.onScrollEnd!=null&&Ot("scrollend",c),m.onClick!=null&&(c.onclick=Lh),c=!0):c=!1,c||lo(o)}function wN(o){for(Nn=o.return;Nn;)switch(Nn.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:Nn=Nn.return}}function ud(o){if(o!==Nn)return!1;if(!$t)return wN(o),$t=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||Og(o.type,o.memoizedProps)),h=!h),h&&br&&lo(o),wN(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(c===0){br=Fa(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;o=o.nextSibling}br=null}}else c===27?(c=br,Cs(o.type)?(o=Rg,Rg=null,br=o):br=c):br=Nn?Fa(o.stateNode.nextSibling):null;return!0}function fd(){br=Nn=null,$t=!1}function SN(){var o=oo;return o!==null&&(Dn===null?Dn=o:Dn.push.apply(Dn,o),oo=null),o}function hd(o){oo===null?oo=[o]:oo.push(o)}var mx=ee(null),co=null,Ti=null;function us(o,c,h){U(mx,c._currentValue),c._currentValue=h}function Ci(o){o._currentValue=mx.current,z(mx)}function xx(o,c,h){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===h)break;o=o.return}}function gx(o,c,h,m){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var O=w.dependencies;if(O!==null){var G=w.child;O=O.firstContext;e:for(;O!==null;){var J=O;O=w;for(var ye=0;ye<c.length;ye++)if(J.context===c[ye]){O.lanes|=h,J=O.alternate,J!==null&&(J.lanes|=h),xx(O.return,h,o),m||(G=null);break e}O=J.next}}else if(w.tag===18){if(G=w.return,G===null)throw Error(a(341));G.lanes|=h,O=G.alternate,O!==null&&(O.lanes|=h),xx(G,h,o),G=null}else G=w.child;if(G!==null)G.return=w;else for(G=w;G!==null;){if(G===o){G=null;break}if(w=G.sibling,w!==null){w.return=G.return,G=w;break}G=G.return}w=G}}function pd(o,c,h,m){o=null;for(var w=c,O=!1;w!==null;){if(!O){if((w.flags&524288)!==0)O=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var G=w.alternate;if(G===null)throw Error(a(387));if(G=G.memoizedProps,G!==null){var J=w.type;Vn(w.pendingProps.value,G.value)||(o!==null?o.push(J):o=[J])}}else if(w===Z.current){if(G=w.alternate,G===null)throw Error(a(387));G.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(qd):o=[qd])}w=w.return}o!==null&&gx(c,o,h,m),c.flags|=262144}function sh(o){for(o=o.firstContext;o!==null;){if(!Vn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function uo(o){co=o,Ti=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function mn(o){return NN(co,o)}function oh(o,c){return co===null&&uo(o),NN(o,c)}function NN(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Ti===null){if(o===null)throw Error(a(308));Ti=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Ti=Ti.next=c;return h}var YM=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,m){o.push(m)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},XM=e.unstable_scheduleCallback,KM=e.unstable_NormalPriority,Dr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yx(){return{controller:new YM,data:new Map,refCount:0}}function md(o){o.refCount--,o.refCount===0&&XM(KM,function(){o.controller.abort()})}var xd=null,vx=0,ml=0,xl=null;function QM(o,c){if(xd===null){var h=xd=[];vx=0,ml=jg(),xl={status:"pending",value:void 0,then:function(m){h.push(m)}}}return vx++,c.then(TN,TN),c}function TN(){if(--vx===0&&xd!==null){xl!==null&&(xl.status="fulfilled");var o=xd;xd=null,ml=0,xl=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function ZM(o,c){var h=[],m={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return o.then(function(){m.status="fulfilled",m.value=c;for(var w=0;w<h.length;w++)(0,h[w])(c)},function(w){for(m.status="rejected",m.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),m}var CN=R.S;R.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&QM(o,c),CN!==null&&CN(o,c)};var fo=ee(null);function bx(){var o=fo.current;return o!==null?o:dr.pooledCache}function lh(o,c){c===null?U(fo,fo.current):U(fo,c.pool)}function AN(){var o=bx();return o===null?null:{parent:Dr._currentValue,pool:o}}var gd=Error(a(460)),_N=Error(a(474)),ch=Error(a(542)),jx={then:function(){}};function EN(o){return o=o.status,o==="fulfilled"||o==="rejected"}function dh(){}function ON(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(dh,dh),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,IN(o),o;default:if(typeof c.status=="string")c.then(dh,dh);else{if(o=dr,o!==null&&100<o.shellSuspendCounter)throw Error(a(482));o=c,o.status="pending",o.then(function(m){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=m}},function(m){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,IN(o),o}throw yd=c,gd}}var yd=null;function kN(){if(yd===null)throw Error(a(459));var o=yd;return yd=null,o}function IN(o){if(o===gd||o===ch)throw Error(a(483))}var fs=!1;function wx(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sx(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function hs(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ps(o,c,h){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Wt&2)!==0){var w=m.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),m.pending=c,c=rh(o),yN(o,null,h),c}return th(o,m,c,h),rh(o)}function vd(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var m=c.lanes;m&=o.pendingLanes,h|=m,c.lanes=h,qf(o,h)}}function Nx(o,c){var h=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var w=null,O=null;if(h=h.firstBaseUpdate,h!==null){do{var G={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};O===null?w=O=G:O=O.next=G,h=h.next}while(h!==null);O===null?w=O=c:O=O.next=c}else w=O=c;h={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:O,shared:m.shared,callbacks:m.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var Tx=!1;function bd(){if(Tx){var o=xl;if(o!==null)throw o}}function jd(o,c,h,m){Tx=!1;var w=o.updateQueue;fs=!1;var O=w.firstBaseUpdate,G=w.lastBaseUpdate,J=w.shared.pending;if(J!==null){w.shared.pending=null;var ye=J,Pe=ye.next;ye.next=null,G===null?O=Pe:G.next=Pe,G=ye;var We=o.alternate;We!==null&&(We=We.updateQueue,J=We.lastBaseUpdate,J!==G&&(J===null?We.firstBaseUpdate=Pe:J.next=Pe,We.lastBaseUpdate=ye))}if(O!==null){var Ve=w.baseState;G=0,We=Pe=ye=null,J=O;do{var Me=J.lane&-536870913,Be=Me!==J.lane;if(Be?(Pt&Me)===Me:(m&Me)===Me){Me!==0&&Me===ml&&(Tx=!0),We!==null&&(We=We.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var yt=o,mt=J;Me=c;var rr=h;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){Ve=yt.call(rr,Ve,Me);break e}Ve=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,Me=typeof yt=="function"?yt.call(rr,Ve,Me):yt,Me==null)break e;Ve=p({},Ve,Me);break e;case 2:fs=!0}}Me=J.callback,Me!==null&&(o.flags|=64,Be&&(o.flags|=8192),Be=w.callbacks,Be===null?w.callbacks=[Me]:Be.push(Me))}else Be={lane:Me,tag:J.tag,payload:J.payload,callback:J.callback,next:null},We===null?(Pe=We=Be,ye=Ve):We=We.next=Be,G|=Me;if(J=J.next,J===null){if(J=w.shared.pending,J===null)break;Be=J,J=Be.next,Be.next=null,w.lastBaseUpdate=Be,w.shared.pending=null}}while(!0);We===null&&(ye=Ve),w.baseState=ye,w.firstBaseUpdate=Pe,w.lastBaseUpdate=We,O===null&&(w.shared.lanes=0),ws|=G,o.lanes=G,o.memoizedState=Ve}}function PN(o,c){if(typeof o!="function")throw Error(a(191,o));o.call(c)}function RN(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)PN(h[o],c)}var gl=ee(null),uh=ee(0);function DN(o,c){o=Pi,U(uh,o),U(gl,c),Pi=o|c.baseLanes}function Cx(){U(uh,Pi),U(gl,gl.current)}function Ax(){Pi=uh.current,z(gl),z(uh)}var ms=0,Ct=null,er=null,_r=null,fh=!1,yl=!1,ho=!1,hh=0,wd=0,vl=null,JM=0;function Tr(){throw Error(a(321))}function _x(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Vn(o[h],c[h]))return!1;return!0}function Ex(o,c,h,m,w,O){return ms=O,Ct=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,R.H=o===null||o.memoizedState===null?yT:vT,ho=!1,O=h(m,w),ho=!1,yl&&(O=FN(c,h,m,w)),MN(o),O}function MN(o){R.H=vh;var c=er!==null&&er.next!==null;if(ms=0,_r=er=Ct=null,fh=!1,wd=0,vl=null,c)throw Error(a(300));o===null||Hr||(o=o.dependencies,o!==null&&sh(o)&&(Hr=!0))}function FN(o,c,h,m){Ct=o;var w=0;do{if(yl&&(vl=null),wd=0,yl=!1,25<=w)throw Error(a(301));if(w+=1,_r=er=null,o.updateQueue!=null){var O=o.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}R.H=sF,O=c(h,m)}while(yl);return O}function eF(){var o=R.H,c=o.useState()[0];return c=typeof c.then=="function"?Sd(c):c,o=o.useState()[0],(er!==null?er.memoizedState:null)!==o&&(Ct.flags|=1024),c}function Ox(){var o=hh!==0;return hh=0,o}function kx(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Ix(o){if(fh){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}fh=!1}ms=0,_r=er=Ct=null,yl=!1,wd=hh=0,vl=null}function Pn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Ct.memoizedState=_r=o:_r=_r.next=o,_r}function Er(){if(er===null){var o=Ct.alternate;o=o!==null?o.memoizedState:null}else o=er.next;var c=_r===null?Ct.memoizedState:_r.next;if(c!==null)_r=c,er=o;else{if(o===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));er=o,o={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},_r===null?Ct.memoizedState=_r=o:_r=_r.next=o}return _r}function Px(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sd(o){var c=wd;return wd+=1,vl===null&&(vl=[]),o=ON(vl,o,c),c=Ct,(_r===null?c.memoizedState:_r.next)===null&&(c=c.alternate,R.H=c===null||c.memoizedState===null?yT:vT),o}function ph(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Sd(o);if(o.$$typeof===E)return mn(o)}throw Error(a(438,String(o)))}function Rx(o){var c=null,h=Ct.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var m=Ct.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Px(),Ct.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),m=0;m<o;m++)h[m]=B;return c.index++,h}function Ai(o,c){return typeof c=="function"?c(o):c}function mh(o){var c=Er();return Dx(c,er,o)}function Dx(o,c,h){var m=o.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=h;var w=o.baseQueue,O=m.pending;if(O!==null){if(w!==null){var G=w.next;w.next=O.next,O.next=G}c.baseQueue=w=O,m.pending=null}if(O=o.baseState,w===null)o.memoizedState=O;else{c=w.next;var J=G=null,ye=null,Pe=c,We=!1;do{var Ve=Pe.lane&-536870913;if(Ve!==Pe.lane?(Pt&Ve)===Ve:(ms&Ve)===Ve){var Me=Pe.revertLane;if(Me===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),Ve===ml&&(We=!0);else if((ms&Me)===Me){Pe=Pe.next,Me===ml&&(We=!0);continue}else Ve={lane:0,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},ye===null?(J=ye=Ve,G=O):ye=ye.next=Ve,Ct.lanes|=Me,ws|=Me;Ve=Pe.action,ho&&h(O,Ve),O=Pe.hasEagerState?Pe.eagerState:h(O,Ve)}else Me={lane:Ve,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},ye===null?(J=ye=Me,G=O):ye=ye.next=Me,Ct.lanes|=Ve,ws|=Ve;Pe=Pe.next}while(Pe!==null&&Pe!==c);if(ye===null?G=O:ye.next=J,!Vn(O,o.memoizedState)&&(Hr=!0,We&&(h=xl,h!==null)))throw h;o.memoizedState=O,o.baseState=G,o.baseQueue=ye,m.lastRenderedState=O}return w===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Mx(o){var c=Er(),h=c.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=o;var m=h.dispatch,w=h.pending,O=c.memoizedState;if(w!==null){h.pending=null;var G=w=w.next;do O=o(O,G.action),G=G.next;while(G!==w);Vn(O,c.memoizedState)||(Hr=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),h.lastRenderedState=O}return[O,m]}function BN(o,c,h){var m=Ct,w=Er(),O=$t;if(O){if(h===void 0)throw Error(a(407));h=h()}else h=c();var G=!Vn((er||w).memoizedState,h);G&&(w.memoizedState=h,Hr=!0),w=w.queue;var J=$N.bind(null,m,w,o);if(Nd(2048,8,J,[o]),w.getSnapshot!==c||G||_r!==null&&_r.memoizedState.tag&1){if(m.flags|=2048,bl(9,xh(),zN.bind(null,m,w,h,c),null),dr===null)throw Error(a(349));O||(ms&124)!==0||LN(m,c,h)}return h}function LN(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=Ct.updateQueue,c===null?(c=Px(),Ct.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function zN(o,c,h,m){c.value=h,c.getSnapshot=m,UN(c)&&qN(o)}function $N(o,c,h){return h(function(){UN(c)&&qN(o)})}function UN(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Vn(o,h)}catch{return!0}}function qN(o){var c=ul(o,2);c!==null&&Jn(c,o,2)}function Fx(o){var c=Pn();if(typeof o=="function"){var h=o;if(o=h(),ho){Qe(!0);try{h()}finally{Qe(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:o},c}function HN(o,c,h,m){return o.baseState=h,Dx(o,er,typeof m=="function"?m:Ai)}function tF(o,c,h,m,w){if(yh(o))throw Error(a(485));if(o=c.action,o!==null){var O={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){O.listeners.push(G)}};R.T!==null?h(!0):O.isTransition=!1,m(O),h=c.pending,h===null?(O.next=c.pending=O,WN(c,O)):(O.next=h.next,c.pending=h.next=O)}}function WN(o,c){var h=c.action,m=c.payload,w=o.state;if(c.isTransition){var O=R.T,G={};R.T=G;try{var J=h(w,m),ye=R.S;ye!==null&&ye(G,J),GN(o,c,J)}catch(Pe){Bx(o,c,Pe)}finally{R.T=O}}else try{O=h(w,m),GN(o,c,O)}catch(Pe){Bx(o,c,Pe)}}function GN(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){VN(o,c,m)},function(m){return Bx(o,c,m)}):VN(o,c,h)}function VN(o,c,h){c.status="fulfilled",c.value=h,YN(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,WN(o,h)))}function Bx(o,c,h){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=h,YN(c),c=c.next;while(c!==m)}o.action=null}function YN(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function XN(o,c){return c}function KN(o,c){if($t){var h=dr.formState;if(h!==null){e:{var m=Ct;if($t){if(br){t:{for(var w=br,O=ni;w.nodeType!==8;){if(!O){w=null;break t}if(w=Fa(w.nextSibling),w===null){w=null;break t}}O=w.data,w=O==="F!"||O==="F"?w:null}if(w){br=Fa(w.nextSibling),m=w.data==="F!";break e}}lo(m)}m=!1}m&&(c=h[0])}}return h=Pn(),h.memoizedState=h.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XN,lastRenderedState:c},h.queue=m,h=mT.bind(null,Ct,m),m.dispatch=h,m=Fx(!1),O=qx.bind(null,Ct,!1,m.queue),m=Pn(),w={state:c,dispatch:null,action:o,pending:null},m.queue=w,h=tF.bind(null,Ct,w,O,h),w.dispatch=h,m.memoizedState=o,[c,h,!1]}function QN(o){var c=Er();return ZN(c,er,o)}function ZN(o,c,h){if(c=Dx(o,c,XN)[0],o=mh(Ai)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=Sd(c)}catch(G){throw G===gd?ch:G}else m=c;c=Er();var w=c.queue,O=w.dispatch;return h!==c.memoizedState&&(Ct.flags|=2048,bl(9,xh(),rF.bind(null,w,h),null)),[m,O,o]}function rF(o,c){o.action=c}function JN(o){var c=Er(),h=er;if(h!==null)return ZN(c,h,o);Er(),c=c.memoizedState,h=Er();var m=h.queue.dispatch;return h.memoizedState=o,[c,m,!1]}function bl(o,c,h,m){return o={tag:o,create:h,deps:m,inst:c,next:null},c=Ct.updateQueue,c===null&&(c=Px(),Ct.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(m=h.next,h.next=o,o.next=m,c.lastEffect=o),o}function xh(){return{destroy:void 0,resource:void 0}}function eT(){return Er().memoizedState}function gh(o,c,h,m){var w=Pn();m=m===void 0?null:m,Ct.flags|=o,w.memoizedState=bl(1|c,xh(),h,m)}function Nd(o,c,h,m){var w=Er();m=m===void 0?null:m;var O=w.memoizedState.inst;er!==null&&m!==null&&_x(m,er.memoizedState.deps)?w.memoizedState=bl(c,O,h,m):(Ct.flags|=o,w.memoizedState=bl(1|c,O,h,m))}function tT(o,c){gh(8390656,8,o,c)}function rT(o,c){Nd(2048,8,o,c)}function nT(o,c){return Nd(4,2,o,c)}function aT(o,c){return Nd(4,4,o,c)}function iT(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function sT(o,c,h){h=h!=null?h.concat([o]):null,Nd(4,4,iT.bind(null,c,o),h)}function Lx(){}function oT(o,c){var h=Er();c=c===void 0?null:c;var m=h.memoizedState;return c!==null&&_x(c,m[1])?m[0]:(h.memoizedState=[o,c],o)}function lT(o,c){var h=Er();c=c===void 0?null:c;var m=h.memoizedState;if(c!==null&&_x(c,m[1]))return m[0];if(m=o(),ho){Qe(!0);try{o()}finally{Qe(!1)}}return h.memoizedState=[m,c],m}function zx(o,c,h){return h===void 0||(ms&1073741824)!==0?o.memoizedState=c:(o.memoizedState=h,o=uC(),Ct.lanes|=o,ws|=o,h)}function cT(o,c,h,m){return Vn(h,c)?h:gl.current!==null?(o=zx(o,h,m),Vn(o,c)||(Hr=!0),o):(ms&42)===0?(Hr=!0,o.memoizedState=h):(o=uC(),Ct.lanes|=o,ws|=o,c)}function dT(o,c,h,m,w){var O=X.p;X.p=O!==0&&8>O?O:8;var G=R.T,J={};R.T=J,qx(o,!1,c,h);try{var ye=w(),Pe=R.S;if(Pe!==null&&Pe(J,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var We=ZM(ye,m);Td(o,c,We,Zn(o))}else Td(o,c,m,Zn(o))}catch(Ve){Td(o,c,{then:function(){},status:"rejected",reason:Ve},Zn())}finally{X.p=O,R.T=G}}function nF(){}function $x(o,c,h,m){if(o.tag!==5)throw Error(a(476));var w=uT(o).queue;dT(o,w,c,ne,h===null?nF:function(){return fT(o),h(m)})}function uT(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:ne},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function fT(o){var c=uT(o).next.queue;Td(o,c,{},Zn())}function Ux(){return mn(qd)}function hT(){return Er().memoizedState}function pT(){return Er().memoizedState}function aF(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Zn();o=hs(h);var m=ps(c,o,h);m!==null&&(Jn(m,c,h),vd(m,c,h)),c={cache:yx()},o.payload=c;return}c=c.return}}function iF(o,c,h){var m=Zn();h={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},yh(o)?xT(c,h):(h=lx(o,c,h,m),h!==null&&(Jn(h,o,m),gT(h,c,m)))}function mT(o,c,h){var m=Zn();Td(o,c,h,m)}function Td(o,c,h,m){var w={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(yh(o))xT(c,w);else{var O=o.alternate;if(o.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var G=c.lastRenderedState,J=O(G,h);if(w.hasEagerState=!0,w.eagerState=J,Vn(J,G))return th(o,c,w,0),dr===null&&eh(),!1}catch{}finally{}if(h=lx(o,c,w,m),h!==null)return Jn(h,o,m),gT(h,c,m),!0}return!1}function qx(o,c,h,m){if(m={lane:2,revertLane:jg(),action:m,hasEagerState:!1,eagerState:null,next:null},yh(o)){if(c)throw Error(a(479))}else c=lx(o,h,m,2),c!==null&&Jn(c,o,2)}function yh(o){var c=o.alternate;return o===Ct||c!==null&&c===Ct}function xT(o,c){yl=fh=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function gT(o,c,h){if((h&4194048)!==0){var m=c.lanes;m&=o.pendingLanes,h|=m,c.lanes=h,qf(o,h)}}var vh={readContext:mn,use:ph,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useLayoutEffect:Tr,useInsertionEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useSyncExternalStore:Tr,useId:Tr,useHostTransitionStatus:Tr,useFormState:Tr,useActionState:Tr,useOptimistic:Tr,useMemoCache:Tr,useCacheRefresh:Tr},yT={readContext:mn,use:ph,useCallback:function(o,c){return Pn().memoizedState=[o,c===void 0?null:c],o},useContext:mn,useEffect:tT,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,gh(4194308,4,iT.bind(null,c,o),h)},useLayoutEffect:function(o,c){return gh(4194308,4,o,c)},useInsertionEffect:function(o,c){gh(4,2,o,c)},useMemo:function(o,c){var h=Pn();c=c===void 0?null:c;var m=o();if(ho){Qe(!0);try{o()}finally{Qe(!1)}}return h.memoizedState=[m,c],m},useReducer:function(o,c,h){var m=Pn();if(h!==void 0){var w=h(c);if(ho){Qe(!0);try{h(c)}finally{Qe(!1)}}}else w=c;return m.memoizedState=m.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},m.queue=o,o=o.dispatch=iF.bind(null,Ct,o),[m.memoizedState,o]},useRef:function(o){var c=Pn();return o={current:o},c.memoizedState=o},useState:function(o){o=Fx(o);var c=o.queue,h=mT.bind(null,Ct,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:Lx,useDeferredValue:function(o,c){var h=Pn();return zx(h,o,c)},useTransition:function(){var o=Fx(!1);return o=dT.bind(null,Ct,o.queue,!0,!1),Pn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var m=Ct,w=Pn();if($t){if(h===void 0)throw Error(a(407));h=h()}else{if(h=c(),dr===null)throw Error(a(349));(Pt&124)!==0||LN(m,c,h)}w.memoizedState=h;var O={value:h,getSnapshot:c};return w.queue=O,tT($N.bind(null,m,O,o),[o]),m.flags|=2048,bl(9,xh(),zN.bind(null,m,O,h,c),null),h},useId:function(){var o=Pn(),c=dr.identifierPrefix;if($t){var h=Ni,m=Si;h=(m&~(1<<32-rt(m)-1)).toString(32)+h,c=""+c+"R"+h,h=hh++,0<h&&(c+="H"+h.toString(32)),c+=""}else h=JM++,c=""+c+"r"+h.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Ux,useFormState:KN,useActionState:KN,useOptimistic:function(o){var c=Pn();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=qx.bind(null,Ct,!0,h),h.dispatch=c,[o,c]},useMemoCache:Rx,useCacheRefresh:function(){return Pn().memoizedState=aF.bind(null,Ct)}},vT={readContext:mn,use:ph,useCallback:oT,useContext:mn,useEffect:rT,useImperativeHandle:sT,useInsertionEffect:nT,useLayoutEffect:aT,useMemo:lT,useReducer:mh,useRef:eT,useState:function(){return mh(Ai)},useDebugValue:Lx,useDeferredValue:function(o,c){var h=Er();return cT(h,er.memoizedState,o,c)},useTransition:function(){var o=mh(Ai)[0],c=Er().memoizedState;return[typeof o=="boolean"?o:Sd(o),c]},useSyncExternalStore:BN,useId:hT,useHostTransitionStatus:Ux,useFormState:QN,useActionState:QN,useOptimistic:function(o,c){var h=Er();return HN(h,er,o,c)},useMemoCache:Rx,useCacheRefresh:pT},sF={readContext:mn,use:ph,useCallback:oT,useContext:mn,useEffect:rT,useImperativeHandle:sT,useInsertionEffect:nT,useLayoutEffect:aT,useMemo:lT,useReducer:Mx,useRef:eT,useState:function(){return Mx(Ai)},useDebugValue:Lx,useDeferredValue:function(o,c){var h=Er();return er===null?zx(h,o,c):cT(h,er.memoizedState,o,c)},useTransition:function(){var o=Mx(Ai)[0],c=Er().memoizedState;return[typeof o=="boolean"?o:Sd(o),c]},useSyncExternalStore:BN,useId:hT,useHostTransitionStatus:Ux,useFormState:JN,useActionState:JN,useOptimistic:function(o,c){var h=Er();return er!==null?HN(h,er,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Rx,useCacheRefresh:pT},jl=null,Cd=0;function bh(o){var c=Cd;return Cd+=1,jl===null&&(jl=[]),ON(jl,o,c)}function Ad(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function jh(o,c){throw c.$$typeof===x?Error(a(525)):(o=Object.prototype.toString.call(c),Error(a(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function bT(o){var c=o._init;return c(o._payload)}function jT(o){function c(Oe,we){if(o){var Ie=Oe.deletions;Ie===null?(Oe.deletions=[we],Oe.flags|=16):Ie.push(we)}}function h(Oe,we){if(!o)return null;for(;we!==null;)c(Oe,we),we=we.sibling;return null}function m(Oe){for(var we=new Map;Oe!==null;)Oe.key!==null?we.set(Oe.key,Oe):we.set(Oe.index,Oe),Oe=Oe.sibling;return we}function w(Oe,we){return Oe=wi(Oe,we),Oe.index=0,Oe.sibling=null,Oe}function O(Oe,we,Ie){return Oe.index=Ie,o?(Ie=Oe.alternate,Ie!==null?(Ie=Ie.index,Ie<we?(Oe.flags|=67108866,we):Ie):(Oe.flags|=67108866,we)):(Oe.flags|=1048576,we)}function G(Oe){return o&&Oe.alternate===null&&(Oe.flags|=67108866),Oe}function J(Oe,we,Ie,Ge){return we===null||we.tag!==6?(we=dx(Ie,Oe.mode,Ge),we.return=Oe,we):(we=w(we,Ie),we.return=Oe,we)}function ye(Oe,we,Ie,Ge){var ct=Ie.type;return ct===j?We(Oe,we,Ie.props.children,Ge,Ie.key):we!==null&&(we.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===L&&bT(ct)===we.type)?(we=w(we,Ie.props),Ad(we,Ie),we.return=Oe,we):(we=nh(Ie.type,Ie.key,Ie.props,null,Oe.mode,Ge),Ad(we,Ie),we.return=Oe,we)}function Pe(Oe,we,Ie,Ge){return we===null||we.tag!==4||we.stateNode.containerInfo!==Ie.containerInfo||we.stateNode.implementation!==Ie.implementation?(we=ux(Ie,Oe.mode,Ge),we.return=Oe,we):(we=w(we,Ie.children||[]),we.return=Oe,we)}function We(Oe,we,Ie,Ge,ct){return we===null||we.tag!==7?(we=ao(Ie,Oe.mode,Ge,ct),we.return=Oe,we):(we=w(we,Ie),we.return=Oe,we)}function Ve(Oe,we,Ie){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=dx(""+we,Oe.mode,Ie),we.return=Oe,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case g:return Ie=nh(we.type,we.key,we.props,null,Oe.mode,Ie),Ad(Ie,we),Ie.return=Oe,Ie;case v:return we=ux(we,Oe.mode,Ie),we.return=Oe,we;case L:var Ge=we._init;return we=Ge(we._payload),Ve(Oe,we,Ie)}if(I(we)||k(we))return we=ao(we,Oe.mode,Ie,null),we.return=Oe,we;if(typeof we.then=="function")return Ve(Oe,bh(we),Ie);if(we.$$typeof===E)return Ve(Oe,oh(Oe,we),Ie);jh(Oe,we)}return null}function Me(Oe,we,Ie,Ge){var ct=we!==null?we.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return ct!==null?null:J(Oe,we,""+Ie,Ge);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case g:return Ie.key===ct?ye(Oe,we,Ie,Ge):null;case v:return Ie.key===ct?Pe(Oe,we,Ie,Ge):null;case L:return ct=Ie._init,Ie=ct(Ie._payload),Me(Oe,we,Ie,Ge)}if(I(Ie)||k(Ie))return ct!==null?null:We(Oe,we,Ie,Ge,null);if(typeof Ie.then=="function")return Me(Oe,we,bh(Ie),Ge);if(Ie.$$typeof===E)return Me(Oe,we,oh(Oe,Ie),Ge);jh(Oe,Ie)}return null}function Be(Oe,we,Ie,Ge,ct){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Oe=Oe.get(Ie)||null,J(we,Oe,""+Ge,ct);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case g:return Oe=Oe.get(Ge.key===null?Ie:Ge.key)||null,ye(we,Oe,Ge,ct);case v:return Oe=Oe.get(Ge.key===null?Ie:Ge.key)||null,Pe(we,Oe,Ge,ct);case L:var _t=Ge._init;return Ge=_t(Ge._payload),Be(Oe,we,Ie,Ge,ct)}if(I(Ge)||k(Ge))return Oe=Oe.get(Ie)||null,We(we,Oe,Ge,ct,null);if(typeof Ge.then=="function")return Be(Oe,we,Ie,bh(Ge),ct);if(Ge.$$typeof===E)return Be(Oe,we,Ie,oh(we,Ge),ct);jh(we,Ge)}return null}function yt(Oe,we,Ie,Ge){for(var ct=null,_t=null,ut=we,xt=we=0,Gr=null;ut!==null&&xt<Ie.length;xt++){ut.index>xt?(Gr=ut,ut=null):Gr=ut.sibling;var Ft=Me(Oe,ut,Ie[xt],Ge);if(Ft===null){ut===null&&(ut=Gr);break}o&&ut&&Ft.alternate===null&&c(Oe,ut),we=O(Ft,we,xt),_t===null?ct=Ft:_t.sibling=Ft,_t=Ft,ut=Gr}if(xt===Ie.length)return h(Oe,ut),$t&&so(Oe,xt),ct;if(ut===null){for(;xt<Ie.length;xt++)ut=Ve(Oe,Ie[xt],Ge),ut!==null&&(we=O(ut,we,xt),_t===null?ct=ut:_t.sibling=ut,_t=ut);return $t&&so(Oe,xt),ct}for(ut=m(ut);xt<Ie.length;xt++)Gr=Be(ut,Oe,xt,Ie[xt],Ge),Gr!==null&&(o&&Gr.alternate!==null&&ut.delete(Gr.key===null?xt:Gr.key),we=O(Gr,we,xt),_t===null?ct=Gr:_t.sibling=Gr,_t=Gr);return o&&ut.forEach(function(ks){return c(Oe,ks)}),$t&&so(Oe,xt),ct}function mt(Oe,we,Ie,Ge){if(Ie==null)throw Error(a(151));for(var ct=null,_t=null,ut=we,xt=we=0,Gr=null,Ft=Ie.next();ut!==null&&!Ft.done;xt++,Ft=Ie.next()){ut.index>xt?(Gr=ut,ut=null):Gr=ut.sibling;var ks=Me(Oe,ut,Ft.value,Ge);if(ks===null){ut===null&&(ut=Gr);break}o&&ut&&ks.alternate===null&&c(Oe,ut),we=O(ks,we,xt),_t===null?ct=ks:_t.sibling=ks,_t=ks,ut=Gr}if(Ft.done)return h(Oe,ut),$t&&so(Oe,xt),ct;if(ut===null){for(;!Ft.done;xt++,Ft=Ie.next())Ft=Ve(Oe,Ft.value,Ge),Ft!==null&&(we=O(Ft,we,xt),_t===null?ct=Ft:_t.sibling=Ft,_t=Ft);return $t&&so(Oe,xt),ct}for(ut=m(ut);!Ft.done;xt++,Ft=Ie.next())Ft=Be(ut,Oe,xt,Ft.value,Ge),Ft!==null&&(o&&Ft.alternate!==null&&ut.delete(Ft.key===null?xt:Ft.key),we=O(Ft,we,xt),_t===null?ct=Ft:_t.sibling=Ft,_t=Ft);return o&&ut.forEach(function(oB){return c(Oe,oB)}),$t&&so(Oe,xt),ct}function rr(Oe,we,Ie,Ge){if(typeof Ie=="object"&&Ie!==null&&Ie.type===j&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case g:e:{for(var ct=Ie.key;we!==null;){if(we.key===ct){if(ct=Ie.type,ct===j){if(we.tag===7){h(Oe,we.sibling),Ge=w(we,Ie.props.children),Ge.return=Oe,Oe=Ge;break e}}else if(we.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===L&&bT(ct)===we.type){h(Oe,we.sibling),Ge=w(we,Ie.props),Ad(Ge,Ie),Ge.return=Oe,Oe=Ge;break e}h(Oe,we);break}else c(Oe,we);we=we.sibling}Ie.type===j?(Ge=ao(Ie.props.children,Oe.mode,Ge,Ie.key),Ge.return=Oe,Oe=Ge):(Ge=nh(Ie.type,Ie.key,Ie.props,null,Oe.mode,Ge),Ad(Ge,Ie),Ge.return=Oe,Oe=Ge)}return G(Oe);case v:e:{for(ct=Ie.key;we!==null;){if(we.key===ct)if(we.tag===4&&we.stateNode.containerInfo===Ie.containerInfo&&we.stateNode.implementation===Ie.implementation){h(Oe,we.sibling),Ge=w(we,Ie.children||[]),Ge.return=Oe,Oe=Ge;break e}else{h(Oe,we);break}else c(Oe,we);we=we.sibling}Ge=ux(Ie,Oe.mode,Ge),Ge.return=Oe,Oe=Ge}return G(Oe);case L:return ct=Ie._init,Ie=ct(Ie._payload),rr(Oe,we,Ie,Ge)}if(I(Ie))return yt(Oe,we,Ie,Ge);if(k(Ie)){if(ct=k(Ie),typeof ct!="function")throw Error(a(150));return Ie=ct.call(Ie),mt(Oe,we,Ie,Ge)}if(typeof Ie.then=="function")return rr(Oe,we,bh(Ie),Ge);if(Ie.$$typeof===E)return rr(Oe,we,oh(Oe,Ie),Ge);jh(Oe,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,we!==null&&we.tag===6?(h(Oe,we.sibling),Ge=w(we,Ie),Ge.return=Oe,Oe=Ge):(h(Oe,we),Ge=dx(Ie,Oe.mode,Ge),Ge.return=Oe,Oe=Ge),G(Oe)):h(Oe,we)}return function(Oe,we,Ie,Ge){try{Cd=0;var ct=rr(Oe,we,Ie,Ge);return jl=null,ct}catch(ut){if(ut===gd||ut===ch)throw ut;var _t=Yn(29,ut,null,Oe.mode);return _t.lanes=Ge,_t.return=Oe,_t}finally{}}}var wl=jT(!0),wT=jT(!1),ga=ee(null),ai=null;function xs(o){var c=o.alternate;U(Mr,Mr.current&1),U(ga,o),ai===null&&(c===null||gl.current!==null||c.memoizedState!==null)&&(ai=o)}function ST(o){if(o.tag===22){if(U(Mr,Mr.current),U(ga,o),ai===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(ai=o)}}else gs()}function gs(){U(Mr,Mr.current),U(ga,ga.current)}function _i(o){z(ga),ai===o&&(ai=null),z(Mr)}var Mr=ee(0);function wh(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Pg(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Hx(o,c,h,m){c=o.memoizedState,h=h(m,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Wx={enqueueSetState:function(o,c,h){o=o._reactInternals;var m=Zn(),w=hs(m);w.payload=c,h!=null&&(w.callback=h),c=ps(o,w,m),c!==null&&(Jn(c,o,m),vd(c,o,m))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var m=Zn(),w=hs(m);w.tag=1,w.payload=c,h!=null&&(w.callback=h),c=ps(o,w,m),c!==null&&(Jn(c,o,m),vd(c,o,m))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Zn(),m=hs(h);m.tag=2,c!=null&&(m.callback=c),c=ps(o,m,h),c!==null&&(Jn(c,o,h),vd(c,o,h))}};function NT(o,c,h,m,w,O,G){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,O,G):c.prototype&&c.prototype.isPureReactComponent?!cd(h,m)||!cd(w,O):!0}function TT(o,c,h,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,m),c.state!==o&&Wx.enqueueReplaceState(c,c.state,null)}function po(o,c){var h=c;if("ref"in c){h={};for(var m in c)m!=="ref"&&(h[m]=c[m])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var w in o)h[w]===void 0&&(h[w]=o[w])}return h}var Sh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function CT(o){Sh(o)}function AT(o){console.error(o)}function _T(o){Sh(o)}function Nh(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function ET(o,c,h){try{var m=o.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Gx(o,c,h){return h=hs(h),h.tag=3,h.payload={element:null},h.callback=function(){Nh(o,c)},h}function OT(o){return o=hs(o),o.tag=3,o}function kT(o,c,h,m){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var O=m.value;o.payload=function(){return w(O)},o.callback=function(){ET(c,h,m)}}var G=h.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(o.callback=function(){ET(c,h,m),typeof w!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var J=m.stack;this.componentDidCatch(m.value,{componentStack:J!==null?J:""})})}function oF(o,c,h,m,w){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=h.alternate,c!==null&&pd(c,h,w,!0),h=ga.current,h!==null){switch(h.tag){case 13:return ai===null?xg():h.alternate===null&&jr===0&&(jr=3),h.flags&=-257,h.flags|=65536,h.lanes=w,m===jx?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([m]):c.add(m),yg(o,m,w)),!1;case 22:return h.flags|=65536,m===jx?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([m]):h.add(m)),yg(o,m,w)),!1}throw Error(a(435,h.tag))}return yg(o,m,w),xg(),!1}if($t)return c=ga.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,m!==px&&(o=Error(a(422),{cause:m}),hd(ha(o,h)))):(m!==px&&(c=Error(a(423),{cause:m}),hd(ha(c,h))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,m=ha(m,h),w=Gx(o.stateNode,m,w),Nx(o,w),jr!==4&&(jr=2)),!1;var O=Error(a(520),{cause:m});if(O=ha(O,h),Rd===null?Rd=[O]:Rd.push(O),jr!==4&&(jr=2),c===null)return!0;m=ha(m,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=w&-w,h.lanes|=o,o=Gx(h.stateNode,m,o),Nx(h,o),!1;case 1:if(c=h.type,O=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ss===null||!Ss.has(O))))return h.flags|=65536,w&=-w,h.lanes|=w,w=OT(w),kT(w,o,h,m),Nx(h,w),!1}h=h.return}while(h!==null);return!1}var IT=Error(a(461)),Hr=!1;function tn(o,c,h,m){c.child=o===null?wT(c,null,h,m):wl(c,o.child,h,m)}function PT(o,c,h,m,w){h=h.render;var O=c.ref;if("ref"in m){var G={};for(var J in m)J!=="ref"&&(G[J]=m[J])}else G=m;return uo(c),m=Ex(o,c,h,G,O,w),J=Ox(),o!==null&&!Hr?(kx(o,c,w),Ei(o,c,w)):($t&&J&&fx(c),c.flags|=1,tn(o,c,m,w),c.child)}function RT(o,c,h,m,w){if(o===null){var O=h.type;return typeof O=="function"&&!cx(O)&&O.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=O,DT(o,c,O,m,w)):(o=nh(h.type,null,m,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(O=o.child,!eg(o,w)){var G=O.memoizedProps;if(h=h.compare,h=h!==null?h:cd,h(G,m)&&o.ref===c.ref)return Ei(o,c,w)}return c.flags|=1,o=wi(O,m),o.ref=c.ref,o.return=c,c.child=o}function DT(o,c,h,m,w){if(o!==null){var O=o.memoizedProps;if(cd(O,m)&&o.ref===c.ref)if(Hr=!1,c.pendingProps=m=O,eg(o,w))(o.flags&131072)!==0&&(Hr=!0);else return c.lanes=o.lanes,Ei(o,c,w)}return Vx(o,c,h,m,w)}function MT(o,c,h){var m=c.pendingProps,w=m.children,O=o!==null?o.memoizedState:null;if(m.mode==="hidden"){if((c.flags&128)!==0){if(m=O!==null?O.baseLanes|h:h,o!==null){for(w=c.child=o.child,O=0;w!==null;)O=O|w.lanes|w.childLanes,w=w.sibling;c.childLanes=O&~m}else c.childLanes=0,c.child=null;return FT(o,c,m,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&lh(c,O!==null?O.cachePool:null),O!==null?DN(c,O):Cx(),ST(c);else return c.lanes=c.childLanes=536870912,FT(o,c,O!==null?O.baseLanes|h:h,h)}else O!==null?(lh(c,O.cachePool),DN(c,O),gs(),c.memoizedState=null):(o!==null&&lh(c,null),Cx(),gs());return tn(o,c,w,h),c.child}function FT(o,c,h,m){var w=bx();return w=w===null?null:{parent:Dr._currentValue,pool:w},c.memoizedState={baseLanes:h,cachePool:w},o!==null&&lh(c,null),Cx(),ST(c),o!==null&&pd(o,c,m,!0),null}function Th(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(a(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function Vx(o,c,h,m,w){return uo(c),h=Ex(o,c,h,m,void 0,w),m=Ox(),o!==null&&!Hr?(kx(o,c,w),Ei(o,c,w)):($t&&m&&fx(c),c.flags|=1,tn(o,c,h,w),c.child)}function BT(o,c,h,m,w,O){return uo(c),c.updateQueue=null,h=FN(c,m,h,w),MN(o),m=Ox(),o!==null&&!Hr?(kx(o,c,O),Ei(o,c,O)):($t&&m&&fx(c),c.flags|=1,tn(o,c,h,O),c.child)}function LT(o,c,h,m,w){if(uo(c),c.stateNode===null){var O=fl,G=h.contextType;typeof G=="object"&&G!==null&&(O=mn(G)),O=new h(m,O),c.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Wx,c.stateNode=O,O._reactInternals=c,O=c.stateNode,O.props=m,O.state=c.memoizedState,O.refs={},wx(c),G=h.contextType,O.context=typeof G=="object"&&G!==null?mn(G):fl,O.state=c.memoizedState,G=h.getDerivedStateFromProps,typeof G=="function"&&(Hx(c,h,G,m),O.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(G=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),G!==O.state&&Wx.enqueueReplaceState(O,O.state,null),jd(c,m,O,w),bd(),O.state=c.memoizedState),typeof O.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(o===null){O=c.stateNode;var J=c.memoizedProps,ye=po(h,J);O.props=ye;var Pe=O.context,We=h.contextType;G=fl,typeof We=="object"&&We!==null&&(G=mn(We));var Ve=h.getDerivedStateFromProps;We=typeof Ve=="function"||typeof O.getSnapshotBeforeUpdate=="function",J=c.pendingProps!==J,We||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(J||Pe!==G)&&TT(c,O,m,G),fs=!1;var Me=c.memoizedState;O.state=Me,jd(c,m,O,w),bd(),Pe=c.memoizedState,J||Me!==Pe||fs?(typeof Ve=="function"&&(Hx(c,h,Ve,m),Pe=c.memoizedState),(ye=fs||NT(c,h,ye,m,Me,Pe,G))?(We||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(c.flags|=4194308)):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=Pe),O.props=m,O.state=Pe,O.context=G,m=ye):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{O=c.stateNode,Sx(o,c),G=c.memoizedProps,We=po(h,G),O.props=We,Ve=c.pendingProps,Me=O.context,Pe=h.contextType,ye=fl,typeof Pe=="object"&&Pe!==null&&(ye=mn(Pe)),J=h.getDerivedStateFromProps,(Pe=typeof J=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(G!==Ve||Me!==ye)&&TT(c,O,m,ye),fs=!1,Me=c.memoizedState,O.state=Me,jd(c,m,O,w),bd();var Be=c.memoizedState;G!==Ve||Me!==Be||fs||o!==null&&o.dependencies!==null&&sh(o.dependencies)?(typeof J=="function"&&(Hx(c,h,J,m),Be=c.memoizedState),(We=fs||NT(c,h,We,m,Me,Be,ye)||o!==null&&o.dependencies!==null&&sh(o.dependencies))?(Pe||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(m,Be,ye),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(m,Be,ye)),typeof O.componentDidUpdate=="function"&&(c.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof O.componentDidUpdate!="function"||G===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=Be),O.props=m,O.state=Be,O.context=ye,m=We):(typeof O.componentDidUpdate!="function"||G===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),m=!1)}return O=m,Th(o,c),m=(c.flags&128)!==0,O||m?(O=c.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:O.render(),c.flags|=1,o!==null&&m?(c.child=wl(c,o.child,null,w),c.child=wl(c,null,h,w)):tn(o,c,h,w),c.memoizedState=O.state,o=c.child):o=Ei(o,c,w),o}function zT(o,c,h,m){return fd(),c.flags|=256,tn(o,c,h,m),c.child}var Yx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xx(o){return{baseLanes:o,cachePool:AN()}}function Kx(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=ya),o}function $T(o,c,h){var m=c.pendingProps,w=!1,O=(c.flags&128)!==0,G;if((G=O)||(G=o!==null&&o.memoizedState===null?!1:(Mr.current&2)!==0),G&&(w=!0,c.flags&=-129),G=(c.flags&32)!==0,c.flags&=-33,o===null){if($t){if(w?xs(c):gs(),$t){var J=br,ye;if(ye=J){e:{for(ye=J,J=ni;ye.nodeType!==8;){if(!J){J=null;break e}if(ye=Fa(ye.nextSibling),ye===null){J=null;break e}}J=ye}J!==null?(c.memoizedState={dehydrated:J,treeContext:io!==null?{id:Si,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},ye=Yn(18,null,null,0),ye.stateNode=J,ye.return=c,c.child=ye,Nn=c,br=null,ye=!0):ye=!1}ye||lo(c)}if(J=c.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return Pg(J)?c.lanes=32:c.lanes=536870912,null;_i(c)}return J=m.children,m=m.fallback,w?(gs(),w=c.mode,J=Ch({mode:"hidden",children:J},w),m=ao(m,w,h,null),J.return=c,m.return=c,J.sibling=m,c.child=J,w=c.child,w.memoizedState=Xx(h),w.childLanes=Kx(o,G,h),c.memoizedState=Yx,m):(xs(c),Qx(c,J))}if(ye=o.memoizedState,ye!==null&&(J=ye.dehydrated,J!==null)){if(O)c.flags&256?(xs(c),c.flags&=-257,c=Zx(o,c,h)):c.memoizedState!==null?(gs(),c.child=o.child,c.flags|=128,c=null):(gs(),w=m.fallback,J=c.mode,m=Ch({mode:"visible",children:m.children},J),w=ao(w,J,h,null),w.flags|=2,m.return=c,w.return=c,m.sibling=w,c.child=m,wl(c,o.child,null,h),m=c.child,m.memoizedState=Xx(h),m.childLanes=Kx(o,G,h),c.memoizedState=Yx,c=w);else if(xs(c),Pg(J)){if(G=J.nextSibling&&J.nextSibling.dataset,G)var Pe=G.dgst;G=Pe,m=Error(a(419)),m.stack="",m.digest=G,hd({value:m,source:null,stack:null}),c=Zx(o,c,h)}else if(Hr||pd(o,c,h,!1),G=(h&o.childLanes)!==0,Hr||G){if(G=dr,G!==null&&(m=h&-h,m=(m&42)!==0?1:Jc(m),m=(m&(G.suspendedLanes|h))!==0?0:m,m!==0&&m!==ye.retryLane))throw ye.retryLane=m,ul(o,m),Jn(G,o,m),IT;J.data==="$?"||xg(),c=Zx(o,c,h)}else J.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=ye.treeContext,br=Fa(J.nextSibling),Nn=c,$t=!0,oo=null,ni=!1,o!==null&&(ma[xa++]=Si,ma[xa++]=Ni,ma[xa++]=io,Si=o.id,Ni=o.overflow,io=c),c=Qx(c,m.children),c.flags|=4096);return c}return w?(gs(),w=m.fallback,J=c.mode,ye=o.child,Pe=ye.sibling,m=wi(ye,{mode:"hidden",children:m.children}),m.subtreeFlags=ye.subtreeFlags&65011712,Pe!==null?w=wi(Pe,w):(w=ao(w,J,h,null),w.flags|=2),w.return=c,m.return=c,m.sibling=w,c.child=m,m=w,w=c.child,J=o.child.memoizedState,J===null?J=Xx(h):(ye=J.cachePool,ye!==null?(Pe=Dr._currentValue,ye=ye.parent!==Pe?{parent:Pe,pool:Pe}:ye):ye=AN(),J={baseLanes:J.baseLanes|h,cachePool:ye}),w.memoizedState=J,w.childLanes=Kx(o,G,h),c.memoizedState=Yx,m):(xs(c),h=o.child,o=h.sibling,h=wi(h,{mode:"visible",children:m.children}),h.return=c,h.sibling=null,o!==null&&(G=c.deletions,G===null?(c.deletions=[o],c.flags|=16):G.push(o)),c.child=h,c.memoizedState=null,h)}function Qx(o,c){return c=Ch({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Ch(o,c){return o=Yn(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Zx(o,c,h){return wl(c,o.child,null,h),o=Qx(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function UT(o,c,h){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),xx(o.return,c,h)}function Jx(o,c,h,m,w){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:w}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=h,O.tailMode=w)}function qT(o,c,h){var m=c.pendingProps,w=m.revealOrder,O=m.tail;if(tn(o,c,m.children,h),m=Mr.current,(m&2)!==0)m=m&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&UT(o,h,c);else if(o.tag===19)UT(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(U(Mr,m),w){case"forwards":for(h=c.child,w=null;h!==null;)o=h.alternate,o!==null&&wh(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),Jx(c,!1,w,h,O);break;case"backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&wh(o)===null){c.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}Jx(c,!0,h,null,O);break;case"together":Jx(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Ei(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),ws|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(pd(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(a(153));if(c.child!==null){for(o=c.child,h=wi(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=wi(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function eg(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&sh(o)))}function lF(o,c,h){switch(c.tag){case 3:K(c,c.stateNode.containerInfo),us(c,Dr,o.memoizedState.cache),fd();break;case 27:case 5:ce(c);break;case 4:K(c,c.stateNode.containerInfo);break;case 10:us(c,c.type,c.memoizedProps.value);break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(xs(c),c.flags|=128,null):(h&c.child.childLanes)!==0?$T(o,c,h):(xs(c),o=Ei(o,c,h),o!==null?o.sibling:null);xs(c);break;case 19:var w=(o.flags&128)!==0;if(m=(h&c.childLanes)!==0,m||(pd(o,c,h,!1),m=(h&c.childLanes)!==0),w){if(m)return qT(o,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),U(Mr,Mr.current),m)break;return null;case 22:case 23:return c.lanes=0,MT(o,c,h);case 24:us(c,Dr,o.memoizedState.cache)}return Ei(o,c,h)}function HT(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Hr=!0;else{if(!eg(o,h)&&(c.flags&128)===0)return Hr=!1,lF(o,c,h);Hr=(o.flags&131072)!==0}else Hr=!1,$t&&(c.flags&1048576)!==0&&bN(c,ih,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var m=c.elementType,w=m._init;if(m=w(m._payload),c.type=m,typeof m=="function")cx(m)?(o=po(m,o),c.tag=1,c=LT(null,c,m,o,h)):(c.tag=0,c=Vx(null,c,m,o,h));else{if(m!=null){if(w=m.$$typeof,w===S){c.tag=11,c=PT(null,c,m,o,h);break e}else if(w===P){c.tag=14,c=RT(null,c,m,o,h);break e}}throw c=F(m)||m,Error(a(306,c,""))}}return c;case 0:return Vx(o,c,c.type,c.pendingProps,h);case 1:return m=c.type,w=po(m,c.pendingProps),LT(o,c,m,w,h);case 3:e:{if(K(c,c.stateNode.containerInfo),o===null)throw Error(a(387));m=c.pendingProps;var O=c.memoizedState;w=O.element,Sx(o,c),jd(c,m,null,h);var G=c.memoizedState;if(m=G.cache,us(c,Dr,m),m!==O.cache&&gx(c,[Dr],h,!0),bd(),m=G.element,O.isDehydrated)if(O={element:m,isDehydrated:!1,cache:G.cache},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){c=zT(o,c,m,h);break e}else if(m!==w){w=ha(Error(a(424)),c),hd(w),c=zT(o,c,m,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(br=Fa(o.firstChild),Nn=c,$t=!0,oo=null,ni=!0,h=wT(c,null,m,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(fd(),m===w){c=Ei(o,c,h);break e}tn(o,c,m,h)}c=c.child}return c;case 26:return Th(o,c),o===null?(h=YC(c.type,null,c.pendingProps,null))?c.memoizedState=h:$t||(h=c.type,o=c.pendingProps,m=zh(se.current).createElement(h),m[Ur]=c,m[qr]=o,nn(m,h,o),ke(m),c.stateNode=m):c.memoizedState=YC(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return ce(c),o===null&&$t&&(m=c.stateNode=WC(c.type,c.pendingProps,se.current),Nn=c,ni=!0,w=br,Cs(c.type)?(Rg=w,br=Fa(m.firstChild)):br=w),tn(o,c,c.pendingProps.children,h),Th(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&$t&&((w=m=br)&&(m=MF(m,c.type,c.pendingProps,ni),m!==null?(c.stateNode=m,Nn=c,br=Fa(m.firstChild),ni=!1,w=!0):w=!1),w||lo(c)),ce(c),w=c.type,O=c.pendingProps,G=o!==null?o.memoizedProps:null,m=O.children,Og(w,O)?m=null:G!==null&&Og(w,G)&&(c.flags|=32),c.memoizedState!==null&&(w=Ex(o,c,eF,null,null,h),qd._currentValue=w),Th(o,c),tn(o,c,m,h),c.child;case 6:return o===null&&$t&&((o=h=br)&&(h=FF(h,c.pendingProps,ni),h!==null?(c.stateNode=h,Nn=c,br=null,o=!0):o=!1),o||lo(c)),null;case 13:return $T(o,c,h);case 4:return K(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=wl(c,null,m,h):tn(o,c,m,h),c.child;case 11:return PT(o,c,c.type,c.pendingProps,h);case 7:return tn(o,c,c.pendingProps,h),c.child;case 8:return tn(o,c,c.pendingProps.children,h),c.child;case 12:return tn(o,c,c.pendingProps.children,h),c.child;case 10:return m=c.pendingProps,us(c,c.type,m.value),tn(o,c,m.children,h),c.child;case 9:return w=c.type._context,m=c.pendingProps.children,uo(c),w=mn(w),m=m(w),c.flags|=1,tn(o,c,m,h),c.child;case 14:return RT(o,c,c.type,c.pendingProps,h);case 15:return DT(o,c,c.type,c.pendingProps,h);case 19:return qT(o,c,h);case 31:return m=c.pendingProps,h=c.mode,m={mode:m.mode,children:m.children},o===null?(h=Ch(m,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=wi(o.child,m),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return MT(o,c,h);case 24:return uo(c),m=mn(Dr),o===null?(w=bx(),w===null&&(w=dr,O=yx(),w.pooledCache=O,O.refCount++,O!==null&&(w.pooledCacheLanes|=h),w=O),c.memoizedState={parent:m,cache:w},wx(c),us(c,Dr,w)):((o.lanes&h)!==0&&(Sx(o,c),jd(c,null,null,h),bd()),w=o.memoizedState,O=c.memoizedState,w.parent!==m?(w={parent:m,cache:m},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),us(c,Dr,m)):(m=O.cache,us(c,Dr,m),m!==w.cache&&gx(c,[Dr],h,!0))),tn(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(a(156,c.tag))}function Oi(o){o.flags|=4}function WT(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!JC(c)){if(c=ga.current,c!==null&&((Pt&4194048)===Pt?ai!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||c!==ai))throw yd=jx,_N;o.flags|=8192}}function Ah(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?vr():536870912,o.lanes|=c,Cl|=c)}function _d(o,c){if(!$t)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function gr(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,m=0;if(c)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=m,o.childLanes=h,c}function cF(o,c,h){var m=c.pendingProps;switch(hx(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(c),null;case 1:return gr(c),null;case 3:return h=c.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Ci(Dr),Y(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(ud(c)?Oi(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,SN())),gr(c),null;case 26:return h=c.memoizedState,o===null?(Oi(c),h!==null?(gr(c),WT(c,h)):(gr(c),c.flags&=-16777217)):h?h!==o.memoizedState?(Oi(c),gr(c),WT(c,h)):(gr(c),c.flags&=-16777217):(o.memoizedProps!==m&&Oi(c),gr(c),c.flags&=-16777217),null;case 27:xe(c),h=se.current;var w=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==m&&Oi(c);else{if(!m){if(c.stateNode===null)throw Error(a(166));return gr(c),null}o=V.current,ud(c)?jN(c):(o=WC(w,m,h),c.stateNode=o,Oi(c))}return gr(c),null;case 5:if(xe(c),h=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&Oi(c);else{if(!m){if(c.stateNode===null)throw Error(a(166));return gr(c),null}if(o=V.current,ud(c))jN(c);else{switch(w=zh(se.current),o){case 1:o=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=w.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?w.createElement("select",{is:m.is}):w.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?w.createElement(h,{is:m.is}):w.createElement(h)}}o[Ur]=c,o[qr]=m;e:for(w=c.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===c)break e;for(;w.sibling===null;){if(w.return===null||w.return===c)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}c.stateNode=o;e:switch(nn(o,h,m),h){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Oi(c)}}return gr(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==m&&Oi(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(a(166));if(o=se.current,ud(c)){if(o=c.stateNode,h=c.memoizedProps,m=null,w=Nn,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}o[Ur]=c,o=!!(o.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||BC(o.nodeValue,h)),o||lo(c)}else o=zh(o).createTextNode(m),o[Ur]=c,c.stateNode=o}return gr(c),null;case 13:if(m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=ud(c),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(a(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(a(317));w[Ur]=c}else fd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;gr(c),w=!1}else w=SN(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(_i(c),c):(_i(c),null)}if(_i(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=m!==null,o=o!==null&&o.memoizedState!==null,h){m=c.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool);var O=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(O=m.memoizedState.cachePool.pool),O!==w&&(m.flags|=2048)}return h!==o&&h&&(c.child.flags|=8192),Ah(c,c.updateQueue),gr(c),null;case 4:return Y(),o===null&&Tg(c.stateNode.containerInfo),gr(c),null;case 10:return Ci(c.type),gr(c),null;case 19:if(z(Mr),w=c.memoizedState,w===null)return gr(c),null;if(m=(c.flags&128)!==0,O=w.rendering,O===null)if(m)_d(w,!1);else{if(jr!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(O=wh(o),O!==null){for(c.flags|=128,_d(w,!1),o=O.updateQueue,c.updateQueue=o,Ah(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)vN(h,o),h=h.sibling;return U(Mr,Mr.current&1|2),c.child}o=o.sibling}w.tail!==null&&Ae()>Oh&&(c.flags|=128,m=!0,_d(w,!1),c.lanes=4194304)}else{if(!m)if(o=wh(O),o!==null){if(c.flags|=128,m=!0,o=o.updateQueue,c.updateQueue=o,Ah(c,o),_d(w,!0),w.tail===null&&w.tailMode==="hidden"&&!O.alternate&&!$t)return gr(c),null}else 2*Ae()-w.renderingStartTime>Oh&&h!==536870912&&(c.flags|=128,m=!0,_d(w,!1),c.lanes=4194304);w.isBackwards?(O.sibling=c.child,c.child=O):(o=w.last,o!==null?o.sibling=O:c.child=O,w.last=O)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=Ae(),c.sibling=null,o=Mr.current,U(Mr,m?o&1|2:o&1),c):(gr(c),null);case 22:case 23:return _i(c),Ax(),m=c.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(h&536870912)!==0&&(c.flags&128)===0&&(gr(c),c.subtreeFlags&6&&(c.flags|=8192)):gr(c),h=c.updateQueue,h!==null&&Ah(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048),o!==null&&z(fo),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Ci(Dr),gr(c),null;case 25:return null;case 30:return null}throw Error(a(156,c.tag))}function dF(o,c){switch(hx(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ci(Dr),Y(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return xe(c),null;case 13:if(_i(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(a(340));fd()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return z(Mr),null;case 4:return Y(),null;case 10:return Ci(c.type),null;case 22:case 23:return _i(c),Ax(),o!==null&&z(fo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Ci(Dr),null;case 25:return null;default:return null}}function GT(o,c){switch(hx(c),c.tag){case 3:Ci(Dr),Y();break;case 26:case 27:case 5:xe(c);break;case 4:Y();break;case 13:_i(c);break;case 19:z(Mr);break;case 10:Ci(c.type);break;case 22:case 23:_i(c),Ax(),o!==null&&z(fo);break;case 24:Ci(Dr)}}function Ed(o,c){try{var h=c.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var w=m.next;h=w;do{if((h.tag&o)===o){m=void 0;var O=h.create,G=h.inst;m=O(),G.destroy=m}h=h.next}while(h!==w)}}catch(J){sr(c,c.return,J)}}function ys(o,c,h){try{var m=c.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var O=w.next;m=O;do{if((m.tag&o)===o){var G=m.inst,J=G.destroy;if(J!==void 0){G.destroy=void 0,w=c;var ye=h,Pe=J;try{Pe()}catch(We){sr(w,ye,We)}}}m=m.next}while(m!==O)}}catch(We){sr(c,c.return,We)}}function VT(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{RN(c,h)}catch(m){sr(o,o.return,m)}}}function YT(o,c,h){h.props=po(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(m){sr(o,c,m)}}function Od(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof h=="function"?o.refCleanup=h(m):h.current=m}}catch(w){sr(o,c,w)}}function ii(o,c){var h=o.ref,m=o.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(w){sr(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){sr(o,c,w)}else h.current=null}function XT(o){var c=o.type,h=o.memoizedProps,m=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(w){sr(o,o.return,w)}}function tg(o,c,h){try{var m=o.stateNode;kF(m,o.type,h,c),m[qr]=c}catch(w){sr(o,o.return,w)}}function KT(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Cs(o.type)||o.tag===4}function rg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||KT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Cs(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ng(o,c,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Lh));else if(m!==4&&(m===27&&Cs(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(ng(o,c,h),o=o.sibling;o!==null;)ng(o,c,h),o=o.sibling}function _h(o,c,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(m!==4&&(m===27&&Cs(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(_h(o,c,h),o=o.sibling;o!==null;)_h(o,c,h),o=o.sibling}function QT(o){var c=o.stateNode,h=o.memoizedProps;try{for(var m=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);nn(c,m,h),c[Ur]=o,c[qr]=h}catch(O){sr(o,o.return,O)}}var ki=!1,Cr=!1,ag=!1,ZT=typeof WeakSet=="function"?WeakSet:Set,Wr=null;function uF(o,c){if(o=o.containerInfo,_g=Gh,o=cN(o),rx(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var w=m.anchorOffset,O=m.focusNode;m=m.focusOffset;try{h.nodeType,O.nodeType}catch{h=null;break e}var G=0,J=-1,ye=-1,Pe=0,We=0,Ve=o,Me=null;t:for(;;){for(var Be;Ve!==h||w!==0&&Ve.nodeType!==3||(J=G+w),Ve!==O||m!==0&&Ve.nodeType!==3||(ye=G+m),Ve.nodeType===3&&(G+=Ve.nodeValue.length),(Be=Ve.firstChild)!==null;)Me=Ve,Ve=Be;for(;;){if(Ve===o)break t;if(Me===h&&++Pe===w&&(J=G),Me===O&&++We===m&&(ye=G),(Be=Ve.nextSibling)!==null)break;Ve=Me,Me=Ve.parentNode}Ve=Be}h=J===-1||ye===-1?null:{start:J,end:ye}}else h=null}h=h||{start:0,end:0}}else h=null;for(Eg={focusedElem:o,selectionRange:h},Gh=!1,Wr=c;Wr!==null;)if(c=Wr,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Wr=o;else for(;Wr!==null;){switch(c=Wr,O=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&O!==null){o=void 0,h=c,w=O.memoizedProps,O=O.memoizedState,m=h.stateNode;try{var yt=po(h.type,w,h.elementType===h.type);o=m.getSnapshotBeforeUpdate(yt,O),m.__reactInternalSnapshotBeforeUpdate=o}catch(mt){sr(h,h.return,mt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)Ig(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Ig(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(a(163))}if(o=c.sibling,o!==null){o.return=c.return,Wr=o;break}Wr=c.return}}function JT(o,c,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:vs(o,h),m&4&&Ed(5,h);break;case 1:if(vs(o,h),m&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(G){sr(h,h.return,G)}else{var w=po(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(G){sr(h,h.return,G)}}m&64&&VT(h),m&512&&Od(h,h.return);break;case 3:if(vs(o,h),m&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{RN(o,c)}catch(G){sr(h,h.return,G)}}break;case 27:c===null&&m&4&&QT(h);case 26:case 5:vs(o,h),c===null&&m&4&&XT(h),m&512&&Od(h,h.return);break;case 12:vs(o,h);break;case 13:vs(o,h),m&4&&rC(o,h),m&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=bF.bind(null,h),BF(o,h))));break;case 22:if(m=h.memoizedState!==null||ki,!m){c=c!==null&&c.memoizedState!==null||Cr,w=ki;var O=Cr;ki=m,(Cr=c)&&!O?bs(o,h,(h.subtreeFlags&8772)!==0):vs(o,h),ki=w,Cr=O}break;case 30:break;default:vs(o,h)}}function eC(o){var c=o.alternate;c!==null&&(o.alternate=null,eC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&oe(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var pr=null,Rn=!1;function Ii(o,c,h){for(h=h.child;h!==null;)tC(o,c,h),h=h.sibling}function tC(o,c,h){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ne,h)}catch{}switch(h.tag){case 26:Cr||ii(h,c),Ii(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Cr||ii(h,c);var m=pr,w=Rn;Cs(h.type)&&(pr=h.stateNode,Rn=!1),Ii(o,c,h),Ld(h.stateNode),pr=m,Rn=w;break;case 5:Cr||ii(h,c);case 6:if(m=pr,w=Rn,pr=null,Ii(o,c,h),pr=m,Rn=w,pr!==null)if(Rn)try{(pr.nodeType===9?pr.body:pr.nodeName==="HTML"?pr.ownerDocument.body:pr).removeChild(h.stateNode)}catch(O){sr(h,c,O)}else try{pr.removeChild(h.stateNode)}catch(O){sr(h,c,O)}break;case 18:pr!==null&&(Rn?(o=pr,qC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Vd(o)):qC(pr,h.stateNode));break;case 4:m=pr,w=Rn,pr=h.stateNode.containerInfo,Rn=!0,Ii(o,c,h),pr=m,Rn=w;break;case 0:case 11:case 14:case 15:Cr||ys(2,h,c),Cr||ys(4,h,c),Ii(o,c,h);break;case 1:Cr||(ii(h,c),m=h.stateNode,typeof m.componentWillUnmount=="function"&&YT(h,c,m)),Ii(o,c,h);break;case 21:Ii(o,c,h);break;case 22:Cr=(m=Cr)||h.memoizedState!==null,Ii(o,c,h),Cr=m;break;default:Ii(o,c,h)}}function rC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Vd(o)}catch(h){sr(c,c.return,h)}}function fF(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new ZT),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new ZT),c;default:throw Error(a(435,o.tag))}}function ig(o,c){var h=fF(o);c.forEach(function(m){var w=jF.bind(null,o,m);h.has(m)||(h.add(m),m.then(w,w))})}function Xn(o,c){var h=c.deletions;if(h!==null)for(var m=0;m<h.length;m++){var w=h[m],O=o,G=c,J=G;e:for(;J!==null;){switch(J.tag){case 27:if(Cs(J.type)){pr=J.stateNode,Rn=!1;break e}break;case 5:pr=J.stateNode,Rn=!1;break e;case 3:case 4:pr=J.stateNode.containerInfo,Rn=!0;break e}J=J.return}if(pr===null)throw Error(a(160));tC(O,G,w),pr=null,Rn=!1,O=w.alternate,O!==null&&(O.return=null),w.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)nC(c,o),c=c.sibling}var Ma=null;function nC(o,c){var h=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Xn(c,o),Kn(o),m&4&&(ys(3,o,o.return),Ed(3,o),ys(5,o,o.return));break;case 1:Xn(c,o),Kn(o),m&512&&(Cr||h===null||ii(h,h.return)),m&64&&ki&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var w=Ma;if(Xn(c,o),Kn(o),m&512&&(Cr||h===null||ii(h,h.return)),m&4){var O=h!==null?h.memoizedState:null;if(m=o.memoizedState,h===null)if(m===null)if(o.stateNode===null){e:{m=o.type,h=o.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":O=w.getElementsByTagName("title")[0],(!O||O[ie]||O[Ur]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=w.createElement(m),w.head.insertBefore(O,w.querySelector("head > title"))),nn(O,m,h),O[Ur]=o,ke(O),m=O;break e;case"link":var G=QC("link","href",w).get(m+(h.href||""));if(G){for(var J=0;J<G.length;J++)if(O=G[J],O.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&O.getAttribute("rel")===(h.rel==null?null:h.rel)&&O.getAttribute("title")===(h.title==null?null:h.title)&&O.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){G.splice(J,1);break t}}O=w.createElement(m),nn(O,m,h),w.head.appendChild(O);break;case"meta":if(G=QC("meta","content",w).get(m+(h.content||""))){for(J=0;J<G.length;J++)if(O=G[J],O.getAttribute("content")===(h.content==null?null:""+h.content)&&O.getAttribute("name")===(h.name==null?null:h.name)&&O.getAttribute("property")===(h.property==null?null:h.property)&&O.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&O.getAttribute("charset")===(h.charSet==null?null:h.charSet)){G.splice(J,1);break t}}O=w.createElement(m),nn(O,m,h),w.head.appendChild(O);break;default:throw Error(a(468,m))}O[Ur]=o,ke(O),m=O}o.stateNode=m}else ZC(w,o.type,o.stateNode);else o.stateNode=KC(w,m,o.memoizedProps);else O!==m?(O===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):O.count--,m===null?ZC(w,o.type,o.stateNode):KC(w,m,o.memoizedProps)):m===null&&o.stateNode!==null&&tg(o,o.memoizedProps,h.memoizedProps)}break;case 27:Xn(c,o),Kn(o),m&512&&(Cr||h===null||ii(h,h.return)),h!==null&&m&4&&tg(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Xn(c,o),Kn(o),m&512&&(Cr||h===null||ii(h,h.return)),o.flags&32){w=o.stateNode;try{al(w,"")}catch(Be){sr(o,o.return,Be)}}m&4&&o.stateNode!=null&&(w=o.memoizedProps,tg(o,w,h!==null?h.memoizedProps:w)),m&1024&&(ag=!0);break;case 6:if(Xn(c,o),Kn(o),m&4){if(o.stateNode===null)throw Error(a(162));m=o.memoizedProps,h=o.stateNode;try{h.nodeValue=m}catch(Be){sr(o,o.return,Be)}}break;case 3:if(qh=null,w=Ma,Ma=$h(c.containerInfo),Xn(c,o),Ma=w,Kn(o),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Vd(c.containerInfo)}catch(Be){sr(o,o.return,Be)}ag&&(ag=!1,aC(o));break;case 4:m=Ma,Ma=$h(o.stateNode.containerInfo),Xn(c,o),Kn(o),Ma=m;break;case 12:Xn(c,o),Kn(o);break;case 13:Xn(c,o),Kn(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(ug=Ae()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,ig(o,m)));break;case 22:w=o.memoizedState!==null;var ye=h!==null&&h.memoizedState!==null,Pe=ki,We=Cr;if(ki=Pe||w,Cr=We||ye,Xn(c,o),Cr=We,ki=Pe,Kn(o),m&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(h===null||ye||ki||Cr||mo(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){ye=h=c;try{if(O=ye.stateNode,w)G=O.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{J=ye.stateNode;var Ve=ye.memoizedProps.style,Me=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;J.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(Be){sr(ye,ye.return,Be)}}}else if(c.tag===6){if(h===null){ye=c;try{ye.stateNode.nodeValue=w?"":ye.memoizedProps}catch(Be){sr(ye,ye.return,Be)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=o.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,ig(o,h))));break;case 19:Xn(c,o),Kn(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,ig(o,m)));break;case 30:break;case 21:break;default:Xn(c,o),Kn(o)}}function Kn(o){var c=o.flags;if(c&2){try{for(var h,m=o.return;m!==null;){if(KT(m)){h=m;break}m=m.return}if(h==null)throw Error(a(160));switch(h.tag){case 27:var w=h.stateNode,O=rg(o);_h(o,O,w);break;case 5:var G=h.stateNode;h.flags&32&&(al(G,""),h.flags&=-33);var J=rg(o);_h(o,J,G);break;case 3:case 4:var ye=h.stateNode.containerInfo,Pe=rg(o);ng(o,Pe,ye);break;default:throw Error(a(161))}}catch(We){sr(o,o.return,We)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function aC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;aC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function vs(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)JT(o,c.alternate,c),c=c.sibling}function mo(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:ys(4,c,c.return),mo(c);break;case 1:ii(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&YT(c,c.return,h),mo(c);break;case 27:Ld(c.stateNode);case 26:case 5:ii(c,c.return),mo(c);break;case 22:c.memoizedState===null&&mo(c);break;case 30:mo(c);break;default:mo(c)}o=o.sibling}}function bs(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,w=o,O=c,G=O.flags;switch(O.tag){case 0:case 11:case 15:bs(w,O,h),Ed(4,O);break;case 1:if(bs(w,O,h),m=O,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Pe){sr(m,m.return,Pe)}if(m=O,w=m.updateQueue,w!==null){var J=m.stateNode;try{var ye=w.shared.hiddenCallbacks;if(ye!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ye.length;w++)PN(ye[w],J)}catch(Pe){sr(m,m.return,Pe)}}h&&G&64&&VT(O),Od(O,O.return);break;case 27:QT(O);case 26:case 5:bs(w,O,h),h&&m===null&&G&4&&XT(O),Od(O,O.return);break;case 12:bs(w,O,h);break;case 13:bs(w,O,h),h&&G&4&&rC(w,O);break;case 22:O.memoizedState===null&&bs(w,O,h),Od(O,O.return);break;case 30:break;default:bs(w,O,h)}c=c.sibling}}function sg(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&md(h))}function og(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&md(o))}function si(o,c,h,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)iC(o,c,h,m),c=c.sibling}function iC(o,c,h,m){var w=c.flags;switch(c.tag){case 0:case 11:case 15:si(o,c,h,m),w&2048&&Ed(9,c);break;case 1:si(o,c,h,m);break;case 3:si(o,c,h,m),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&md(o)));break;case 12:if(w&2048){si(o,c,h,m),o=c.stateNode;try{var O=c.memoizedProps,G=O.id,J=O.onPostCommit;typeof J=="function"&&J(G,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ye){sr(c,c.return,ye)}}else si(o,c,h,m);break;case 13:si(o,c,h,m);break;case 23:break;case 22:O=c.stateNode,G=c.alternate,c.memoizedState!==null?O._visibility&2?si(o,c,h,m):kd(o,c):O._visibility&2?si(o,c,h,m):(O._visibility|=2,Sl(o,c,h,m,(c.subtreeFlags&10256)!==0)),w&2048&&sg(G,c);break;case 24:si(o,c,h,m),w&2048&&og(c.alternate,c);break;default:si(o,c,h,m)}}function Sl(o,c,h,m,w){for(w=w&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var O=o,G=c,J=h,ye=m,Pe=G.flags;switch(G.tag){case 0:case 11:case 15:Sl(O,G,J,ye,w),Ed(8,G);break;case 23:break;case 22:var We=G.stateNode;G.memoizedState!==null?We._visibility&2?Sl(O,G,J,ye,w):kd(O,G):(We._visibility|=2,Sl(O,G,J,ye,w)),w&&Pe&2048&&sg(G.alternate,G);break;case 24:Sl(O,G,J,ye,w),w&&Pe&2048&&og(G.alternate,G);break;default:Sl(O,G,J,ye,w)}c=c.sibling}}function kd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,m=c,w=m.flags;switch(m.tag){case 22:kd(h,m),w&2048&&sg(m.alternate,m);break;case 24:kd(h,m),w&2048&&og(m.alternate,m);break;default:kd(h,m)}c=c.sibling}}var Id=8192;function Nl(o){if(o.subtreeFlags&Id)for(o=o.child;o!==null;)sC(o),o=o.sibling}function sC(o){switch(o.tag){case 26:Nl(o),o.flags&Id&&o.memoizedState!==null&&QF(Ma,o.memoizedState,o.memoizedProps);break;case 5:Nl(o);break;case 3:case 4:var c=Ma;Ma=$h(o.stateNode.containerInfo),Nl(o),Ma=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Id,Id=16777216,Nl(o),Id=c):Nl(o));break;default:Nl(o)}}function oC(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Pd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];Wr=m,cC(m,o)}oC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)lC(o),o=o.sibling}function lC(o){switch(o.tag){case 0:case 11:case 15:Pd(o),o.flags&2048&&ys(9,o,o.return);break;case 3:Pd(o);break;case 12:Pd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Eh(o)):Pd(o);break;default:Pd(o)}}function Eh(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];Wr=m,cC(m,o)}oC(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:ys(8,c,c.return),Eh(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Eh(c));break;default:Eh(c)}o=o.sibling}}function cC(o,c){for(;Wr!==null;){var h=Wr;switch(h.tag){case 0:case 11:case 15:ys(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:md(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Wr=m;else e:for(h=o;Wr!==null;){m=Wr;var w=m.sibling,O=m.return;if(eC(m),m===h){Wr=null;break e}if(w!==null){w.return=O,Wr=w;break e}Wr=O}}}var hF={getCacheForType:function(o){var c=mn(Dr),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h}},pF=typeof WeakMap=="function"?WeakMap:Map,Wt=0,dr=null,Et=null,Pt=0,Gt=0,Qn=null,js=!1,Tl=!1,lg=!1,Pi=0,jr=0,ws=0,xo=0,cg=0,ya=0,Cl=0,Rd=null,Dn=null,dg=!1,ug=0,Oh=1/0,kh=null,Ss=null,rn=0,Ns=null,Al=null,_l=0,fg=0,hg=null,dC=null,Dd=0,pg=null;function Zn(){if((Wt&2)!==0&&Pt!==0)return Pt&-Pt;if(R.T!==null){var o=ml;return o!==0?o:jg()}return Hf()}function uC(){ya===0&&(ya=(Pt&536870912)===0||$t?Qt():536870912);var o=ga.current;return o!==null&&(o.flags|=32),ya}function Jn(o,c,h){(o===dr&&(Gt===2||Gt===9)||o.cancelPendingCommit!==null)&&(El(o,0),Ts(o,Pt,ya,!1)),pn(o,h),((Wt&2)===0||o!==dr)&&(o===dr&&((Wt&2)===0&&(xo|=h),jr===4&&Ts(o,Pt,ya,!1)),oi(o))}function fC(o,c,h){if((Wt&6)!==0)throw Error(a(327));var m=!h&&(c&124)===0&&(c&o.expiredLanes)===0||Xe(o,c),w=m?gF(o,c):gg(o,c,!0),O=m;do{if(w===0){Tl&&!m&&Ts(o,c,0,!1);break}else{if(h=o.current.alternate,O&&!mF(h)){w=gg(o,c,!1),O=!1;continue}if(w===2){if(O=c,o.errorRecoveryDisabledLanes&O)var G=0;else G=o.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){c=G;e:{var J=o;w=Rd;var ye=J.current.memoizedState.isDehydrated;if(ye&&(El(J,G).flags|=256),G=gg(J,G,!1),G!==2){if(lg&&!ye){J.errorRecoveryDisabledLanes|=O,xo|=O,w=4;break e}O=Dn,Dn=w,O!==null&&(Dn===null?Dn=O:Dn.push.apply(Dn,O))}w=G}if(O=!1,w!==2)continue}}if(w===1){El(o,0),Ts(o,c,0,!0);break}e:{switch(m=o,O=w,O){case 0:case 1:throw Error(a(345));case 4:if((c&4194048)!==c)break;case 6:Ts(m,c,ya,!js);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((c&62914560)===c&&(w=ug+300-Ae(),10<w)){if(Ts(m,c,ya,!js),lt(m,0,!0)!==0)break e;m.timeoutHandle=$C(hC.bind(null,m,h,Dn,kh,dg,c,ya,xo,Cl,js,O,2,-0,0),w);break e}hC(m,h,Dn,kh,dg,c,ya,xo,Cl,js,O,0,-0,0)}}break}while(!0);oi(o)}function hC(o,c,h,m,w,O,G,J,ye,Pe,We,Ve,Me,Be){if(o.timeoutHandle=-1,Ve=c.subtreeFlags,(Ve&8192||(Ve&16785408)===16785408)&&(Ud={stylesheets:null,count:0,unsuspend:KF},sC(c),Ve=ZF(),Ve!==null)){o.cancelPendingCommit=Ve(bC.bind(null,o,c,O,h,m,w,G,J,ye,We,1,Me,Be)),Ts(o,O,G,!Pe);return}bC(o,c,O,h,m,w,G,J,ye)}function mF(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var w=h[m],O=w.getSnapshot;w=w.value;try{if(!Vn(O(),w))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ts(o,c,h,m){c&=~cg,c&=~xo,o.suspendedLanes|=c,o.pingedLanes&=~c,m&&(o.warmLanes|=c),m=o.expirationTimes;for(var w=c;0<w;){var O=31-rt(w),G=1<<O;m[O]=-1,w&=~G}h!==0&&ti(o,h,c)}function Ih(){return(Wt&6)===0?(Md(0),!1):!0}function mg(){if(Et!==null){if(Gt===0)var o=Et.return;else o=Et,Ti=co=null,Ix(o),jl=null,Cd=0,o=Et;for(;o!==null;)GT(o.alternate,o),o=o.return;Et=null}}function El(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,PF(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),mg(),dr=o,Et=h=wi(o.current,null),Pt=c,Gt=0,Qn=null,js=!1,Tl=Xe(o,c),lg=!1,Cl=ya=cg=xo=ws=jr=0,Dn=Rd=null,dg=!1,(c&8)!==0&&(c|=c&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=c;0<m;){var w=31-rt(m),O=1<<w;c|=o[w],m&=~O}return Pi=c,eh(),h}function pC(o,c){Ct=null,R.H=vh,c===gd||c===ch?(c=kN(),Gt=3):c===_N?(c=kN(),Gt=4):Gt=c===IT?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Qn=c,Et===null&&(jr=1,Nh(o,ha(c,o.current)))}function mC(){var o=R.H;return R.H=vh,o===null?vh:o}function xC(){var o=R.A;return R.A=hF,o}function xg(){jr=4,js||(Pt&4194048)!==Pt&&ga.current!==null||(Tl=!0),(ws&134217727)===0&&(xo&134217727)===0||dr===null||Ts(dr,Pt,ya,!1)}function gg(o,c,h){var m=Wt;Wt|=2;var w=mC(),O=xC();(dr!==o||Pt!==c)&&(kh=null,El(o,c)),c=!1;var G=jr;e:do try{if(Gt!==0&&Et!==null){var J=Et,ye=Qn;switch(Gt){case 8:mg(),G=6;break e;case 3:case 2:case 9:case 6:ga.current===null&&(c=!0);var Pe=Gt;if(Gt=0,Qn=null,Ol(o,J,ye,Pe),h&&Tl){G=0;break e}break;default:Pe=Gt,Gt=0,Qn=null,Ol(o,J,ye,Pe)}}xF(),G=jr;break}catch(We){pC(o,We)}while(!0);return c&&o.shellSuspendCounter++,Ti=co=null,Wt=m,R.H=w,R.A=O,Et===null&&(dr=null,Pt=0,eh()),G}function xF(){for(;Et!==null;)gC(Et)}function gF(o,c){var h=Wt;Wt|=2;var m=mC(),w=xC();dr!==o||Pt!==c?(kh=null,Oh=Ae()+500,El(o,c)):Tl=Xe(o,c);e:do try{if(Gt!==0&&Et!==null){c=Et;var O=Qn;t:switch(Gt){case 1:Gt=0,Qn=null,Ol(o,c,O,1);break;case 2:case 9:if(EN(O)){Gt=0,Qn=null,yC(c);break}c=function(){Gt!==2&&Gt!==9||dr!==o||(Gt=7),oi(o)},O.then(c,c);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:EN(O)?(Gt=0,Qn=null,yC(c)):(Gt=0,Qn=null,Ol(o,c,O,7));break;case 5:var G=null;switch(Et.tag){case 26:G=Et.memoizedState;case 5:case 27:var J=Et;if(!G||JC(G)){Gt=0,Qn=null;var ye=J.sibling;if(ye!==null)Et=ye;else{var Pe=J.return;Pe!==null?(Et=Pe,Ph(Pe)):Et=null}break t}}Gt=0,Qn=null,Ol(o,c,O,5);break;case 6:Gt=0,Qn=null,Ol(o,c,O,6);break;case 8:mg(),jr=6;break e;default:throw Error(a(462))}}yF();break}catch(We){pC(o,We)}while(!0);return Ti=co=null,R.H=m,R.A=w,Wt=h,Et!==null?0:(dr=null,Pt=0,eh(),jr)}function yF(){for(;Et!==null&&!Le();)gC(Et)}function gC(o){var c=HT(o.alternate,o,Pi);o.memoizedProps=o.pendingProps,c===null?Ph(o):Et=c}function yC(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=BT(h,c,c.pendingProps,c.type,void 0,Pt);break;case 11:c=BT(h,c,c.pendingProps,c.type.render,c.ref,Pt);break;case 5:Ix(c);default:GT(h,c),c=Et=vN(c,Pi),c=HT(h,c,Pi)}o.memoizedProps=o.pendingProps,c===null?Ph(o):Et=c}function Ol(o,c,h,m){Ti=co=null,Ix(c),jl=null,Cd=0;var w=c.return;try{if(oF(o,w,c,h,Pt)){jr=1,Nh(o,ha(h,o.current)),Et=null;return}}catch(O){if(w!==null)throw Et=w,O;jr=1,Nh(o,ha(h,o.current)),Et=null;return}c.flags&32768?($t||m===1?o=!0:Tl||(Pt&536870912)!==0?o=!1:(js=o=!0,(m===2||m===9||m===3||m===6)&&(m=ga.current,m!==null&&m.tag===13&&(m.flags|=16384))),vC(c,o)):Ph(c)}function Ph(o){var c=o;do{if((c.flags&32768)!==0){vC(c,js);return}o=c.return;var h=cF(c.alternate,c,Pi);if(h!==null){Et=h;return}if(c=c.sibling,c!==null){Et=c;return}Et=c=o}while(c!==null);jr===0&&(jr=5)}function vC(o,c){do{var h=dF(o.alternate,o);if(h!==null){h.flags&=32767,Et=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){Et=o;return}Et=o=h}while(o!==null);jr=6,Et=null}function bC(o,c,h,m,w,O,G,J,ye){o.cancelPendingCommit=null;do Rh();while(rn!==0);if((Wt&6)!==0)throw Error(a(327));if(c!==null){if(c===o.current)throw Error(a(177));if(O=c.lanes|c.childLanes,O|=ox,Sn(o,h,O,G,J,ye),o===dr&&(Et=dr=null,Pt=0),Al=c,Ns=o,_l=h,fg=O,hg=w,dC=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,wF(re,function(){return TC(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=R.T,R.T=null,w=X.p,X.p=2,G=Wt,Wt|=4;try{uF(o,c,h)}finally{Wt=G,X.p=w,R.T=m}}rn=1,jC(),wC(),SC()}}function jC(){if(rn===1){rn=0;var o=Ns,c=Al,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=R.T,R.T=null;var m=X.p;X.p=2;var w=Wt;Wt|=4;try{nC(c,o);var O=Eg,G=cN(o.containerInfo),J=O.focusedElem,ye=O.selectionRange;if(G!==J&&J&&J.ownerDocument&&lN(J.ownerDocument.documentElement,J)){if(ye!==null&&rx(J)){var Pe=ye.start,We=ye.end;if(We===void 0&&(We=Pe),"selectionStart"in J)J.selectionStart=Pe,J.selectionEnd=Math.min(We,J.value.length);else{var Ve=J.ownerDocument||document,Me=Ve&&Ve.defaultView||window;if(Me.getSelection){var Be=Me.getSelection(),yt=J.textContent.length,mt=Math.min(ye.start,yt),rr=ye.end===void 0?mt:Math.min(ye.end,yt);!Be.extend&&mt>rr&&(G=rr,rr=mt,mt=G);var Oe=oN(J,mt),we=oN(J,rr);if(Oe&&we&&(Be.rangeCount!==1||Be.anchorNode!==Oe.node||Be.anchorOffset!==Oe.offset||Be.focusNode!==we.node||Be.focusOffset!==we.offset)){var Ie=Ve.createRange();Ie.setStart(Oe.node,Oe.offset),Be.removeAllRanges(),mt>rr?(Be.addRange(Ie),Be.extend(we.node,we.offset)):(Ie.setEnd(we.node,we.offset),Be.addRange(Ie))}}}}for(Ve=[],Be=J;Be=Be.parentNode;)Be.nodeType===1&&Ve.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Ve.length;J++){var Ge=Ve[J];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}Gh=!!_g,Eg=_g=null}finally{Wt=w,X.p=m,R.T=h}}o.current=c,rn=2}}function wC(){if(rn===2){rn=0;var o=Ns,c=Al,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=R.T,R.T=null;var m=X.p;X.p=2;var w=Wt;Wt|=4;try{JT(o,c.alternate,c)}finally{Wt=w,X.p=m,R.T=h}}rn=3}}function SC(){if(rn===4||rn===3){rn=0,le();var o=Ns,c=Al,h=_l,m=dC;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?rn=5:(rn=0,Al=Ns=null,NC(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Ss=null),ed(h),c=c.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ne,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=R.T,w=X.p,X.p=2,R.T=null;try{for(var O=o.onRecoverableError,G=0;G<m.length;G++){var J=m[G];O(J.value,{componentStack:J.stack})}}finally{R.T=c,X.p=w}}(_l&3)!==0&&Rh(),oi(o),w=o.pendingLanes,(h&4194090)!==0&&(w&42)!==0?o===pg?Dd++:(Dd=0,pg=o):Dd=0,Md(0)}}function NC(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,md(c)))}function Rh(o){return jC(),wC(),SC(),TC()}function TC(){if(rn!==5)return!1;var o=Ns,c=fg;fg=0;var h=ed(_l),m=R.T,w=X.p;try{X.p=32>h?32:h,R.T=null,h=hg,hg=null;var O=Ns,G=_l;if(rn=0,Al=Ns=null,_l=0,(Wt&6)!==0)throw Error(a(331));var J=Wt;if(Wt|=4,lC(O.current),iC(O,O.current,G,h),Wt=J,Md(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ne,O)}catch{}return!0}finally{X.p=w,R.T=m,NC(o,c)}}function CC(o,c,h){c=ha(h,c),c=Gx(o.stateNode,c,2),o=ps(o,c,2),o!==null&&(pn(o,2),oi(o))}function sr(o,c,h){if(o.tag===3)CC(o,o,h);else for(;c!==null;){if(c.tag===3){CC(c,o,h);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ss===null||!Ss.has(m))){o=ha(h,o),h=OT(2),m=ps(c,h,2),m!==null&&(kT(h,m,c,o),pn(m,2),oi(m));break}}c=c.return}}function yg(o,c,h){var m=o.pingCache;if(m===null){m=o.pingCache=new pF;var w=new Set;m.set(c,w)}else w=m.get(c),w===void 0&&(w=new Set,m.set(c,w));w.has(h)||(lg=!0,w.add(h),o=vF.bind(null,o,c,h),c.then(o,o))}function vF(o,c,h){var m=o.pingCache;m!==null&&m.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,dr===o&&(Pt&h)===h&&(jr===4||jr===3&&(Pt&62914560)===Pt&&300>Ae()-ug?(Wt&2)===0&&El(o,0):cg|=h,Cl===Pt&&(Cl=0)),oi(o)}function AC(o,c){c===0&&(c=vr()),o=ul(o,c),o!==null&&(pn(o,c),oi(o))}function bF(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),AC(o,h)}function jF(o,c){var h=0;switch(o.tag){case 13:var m=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(c),AC(o,h)}function wF(o,c){return Ce(o,c)}var Dh=null,kl=null,vg=!1,Mh=!1,bg=!1,go=0;function oi(o){o!==kl&&o.next===null&&(kl===null?Dh=kl=o:kl=kl.next=o),Mh=!0,vg||(vg=!0,NF())}function Md(o,c){if(!bg&&Mh){bg=!0;do for(var h=!1,m=Dh;m!==null;){if(o!==0){var w=m.pendingLanes;if(w===0)var O=0;else{var G=m.suspendedLanes,J=m.pingedLanes;O=(1<<31-rt(42|o)+1)-1,O&=w&~(G&~J),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(h=!0,kC(m,O))}else O=Pt,O=lt(m,m===dr?O:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(O&3)===0||Xe(m,O)||(h=!0,kC(m,O));m=m.next}while(h);bg=!1}}function SF(){_C()}function _C(){Mh=vg=!1;var o=0;go!==0&&(IF()&&(o=go),go=0);for(var c=Ae(),h=null,m=Dh;m!==null;){var w=m.next,O=EC(m,c);O===0?(m.next=null,h===null?Dh=w:h.next=w,w===null&&(kl=h)):(h=m,(o!==0||(O&3)!==0)&&(Mh=!0)),m=w}Md(o)}function EC(o,c){for(var h=o.suspendedLanes,m=o.pingedLanes,w=o.expirationTimes,O=o.pendingLanes&-62914561;0<O;){var G=31-rt(O),J=1<<G,ye=w[G];ye===-1?((J&h)===0||(J&m)!==0)&&(w[G]=vt(J,c)):ye<=c&&(o.expiredLanes|=J),O&=~J}if(c=dr,h=Pt,h=lt(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,h===0||o===c&&(Gt===2||Gt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&ve(m),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Xe(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(m!==null&&ve(m),ed(h)){case 2:case 8:h=ae;break;case 32:h=re;break;case 268435456:h=H;break;default:h=re}return m=OC.bind(null,o),h=Ce(h,m),o.callbackPriority=c,o.callbackNode=h,c}return m!==null&&m!==null&&ve(m),o.callbackPriority=2,o.callbackNode=null,2}function OC(o,c){if(rn!==0&&rn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Rh()&&o.callbackNode!==h)return null;var m=Pt;return m=lt(o,o===dr?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(fC(o,m,c),EC(o,Ae()),o.callbackNode!=null&&o.callbackNode===h?OC.bind(null,o):null)}function kC(o,c){if(Rh())return null;fC(o,c,!0)}function NF(){RF(function(){(Wt&6)!==0?Ce(me,SF):_C()})}function jg(){return go===0&&(go=Qt()),go}function IC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Vf(""+o)}function PC(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function TF(o,c,h,m,w){if(c==="submit"&&h&&h.stateNode===w){var O=IC((w[qr]||null).action),G=m.submitter;G&&(c=(c=G[qr]||null)?IC(c.formAction):G.getAttribute("formAction"),c!==null&&(O=c,G=null));var J=new Qf("action","action",null,m,w);o.push({event:J,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(go!==0){var ye=G?PC(w,G):new FormData(w);$x(h,{pending:!0,data:ye,method:w.method,action:O},null,ye)}}else typeof O=="function"&&(J.preventDefault(),ye=G?PC(w,G):new FormData(w),$x(h,{pending:!0,data:ye,method:w.method,action:O},O,ye))},currentTarget:w}]})}}for(var wg=0;wg<sx.length;wg++){var Sg=sx[wg],CF=Sg.toLowerCase(),AF=Sg[0].toUpperCase()+Sg.slice(1);Da(CF,"on"+AF)}Da(fN,"onAnimationEnd"),Da(hN,"onAnimationIteration"),Da(pN,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(HM,"onTransitionRun"),Da(WM,"onTransitionStart"),Da(GM,"onTransitionCancel"),Da(mN,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_F=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fd));function RC(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var m=o[h],w=m.event;m=m.listeners;e:{var O=void 0;if(c)for(var G=m.length-1;0<=G;G--){var J=m[G],ye=J.instance,Pe=J.currentTarget;if(J=J.listener,ye!==O&&w.isPropagationStopped())break e;O=J,w.currentTarget=Pe;try{O(w)}catch(We){Sh(We)}w.currentTarget=null,O=ye}else for(G=0;G<m.length;G++){if(J=m[G],ye=J.instance,Pe=J.currentTarget,J=J.listener,ye!==O&&w.isPropagationStopped())break e;O=J,w.currentTarget=Pe;try{O(w)}catch(We){Sh(We)}w.currentTarget=null,O=ye}}}}function Ot(o,c){var h=c[td];h===void 0&&(h=c[td]=new Set);var m=o+"__bubble";h.has(m)||(DC(c,o,2,!1),h.add(m))}function Ng(o,c,h){var m=0;c&&(m|=4),DC(h,o,m,c)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function Tg(o){if(!o[Fh]){o[Fh]=!0,De.forEach(function(h){h!=="selectionchange"&&(_F.has(h)||Ng(h,!1,o),Ng(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Fh]||(c[Fh]=!0,Ng("selectionchange",!1,c))}}function DC(o,c,h,m){switch(iA(c)){case 2:var w=tB;break;case 8:w=rB;break;default:w=Lg}h=w.bind(null,c,h,o),w=void 0,!V0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),m?w!==void 0?o.addEventListener(c,h,{capture:!0,passive:w}):o.addEventListener(c,h,!0):w!==void 0?o.addEventListener(c,h,{passive:w}):o.addEventListener(c,h,!1)}function Cg(o,c,h,m,w){var O=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var G=m.tag;if(G===3||G===4){var J=m.stateNode.containerInfo;if(J===w)break;if(G===4)for(G=m.return;G!==null;){var ye=G.tag;if((ye===3||ye===4)&&G.stateNode.containerInfo===w)return;G=G.return}for(;J!==null;){if(G=ue(J),G===null)return;if(ye=G.tag,ye===5||ye===6||ye===26||ye===27){m=O=G;continue e}J=J.parentNode}}m=m.return}US(function(){var Pe=O,We=W0(h),Ve=[];e:{var Me=xN.get(o);if(Me!==void 0){var Be=Qf,yt=o;switch(o){case"keypress":if(Xf(h)===0)break e;case"keydown":case"keyup":Be=wM;break;case"focusin":yt="focus",Be=Q0;break;case"focusout":yt="blur",Be=Q0;break;case"beforeblur":case"afterblur":Be=Q0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=WS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=dM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=TM;break;case fN:case hN:case pN:Be=hM;break;case mN:Be=AM;break;case"scroll":case"scrollend":Be=lM;break;case"wheel":Be=EM;break;case"copy":case"cut":case"paste":Be=mM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=VS;break;case"toggle":case"beforetoggle":Be=kM}var mt=(c&4)!==0,rr=!mt&&(o==="scroll"||o==="scrollend"),Oe=mt?Me!==null?Me+"Capture":null:Me;mt=[];for(var we=Pe,Ie;we!==null;){var Ge=we;if(Ie=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||Ie===null||Oe===null||(Ge=rd(we,Oe),Ge!=null&&mt.push(Bd(we,Ge,Ie))),rr)break;we=we.return}0<mt.length&&(Me=new Be(Me,yt,null,h,We),Ve.push({event:Me,listeners:mt}))}}if((c&7)===0){e:{if(Me=o==="mouseover"||o==="pointerover",Be=o==="mouseout"||o==="pointerout",Me&&h!==H0&&(yt=h.relatedTarget||h.fromElement)&&(ue(yt)||yt[ls]))break e;if((Be||Me)&&(Me=We.window===We?We:(Me=We.ownerDocument)?Me.defaultView||Me.parentWindow:window,Be?(yt=h.relatedTarget||h.toElement,Be=Pe,yt=yt?ue(yt):null,yt!==null&&(rr=s(yt),mt=yt.tag,yt!==rr||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(Be=null,yt=Pe),Be!==yt)){if(mt=WS,Ge="onMouseLeave",Oe="onMouseEnter",we="mouse",(o==="pointerout"||o==="pointerover")&&(mt=VS,Ge="onPointerLeave",Oe="onPointerEnter",we="pointer"),rr=Be==null?Me:Re(Be),Ie=yt==null?Me:Re(yt),Me=new mt(Ge,we+"leave",Be,h,We),Me.target=rr,Me.relatedTarget=Ie,Ge=null,ue(We)===Pe&&(mt=new mt(Oe,we+"enter",yt,h,We),mt.target=Ie,mt.relatedTarget=rr,Ge=mt),rr=Ge,Be&&yt)t:{for(mt=Be,Oe=yt,we=0,Ie=mt;Ie;Ie=Il(Ie))we++;for(Ie=0,Ge=Oe;Ge;Ge=Il(Ge))Ie++;for(;0<we-Ie;)mt=Il(mt),we--;for(;0<Ie-we;)Oe=Il(Oe),Ie--;for(;we--;){if(mt===Oe||Oe!==null&&mt===Oe.alternate)break t;mt=Il(mt),Oe=Il(Oe)}mt=null}else mt=null;Be!==null&&MC(Ve,Me,Be,mt,!1),yt!==null&&rr!==null&&MC(Ve,rr,yt,mt,!0)}}e:{if(Me=Pe?Re(Pe):window,Be=Me.nodeName&&Me.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Me.type==="file")var ct=tN;else if(JS(Me))if(rN)ct=$M;else{ct=LM;var _t=BM}else Be=Me.nodeName,!Be||Be.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?Pe&&q0(Pe.elementType)&&(ct=tN):ct=zM;if(ct&&(ct=ct(o,Pe))){eN(Ve,ct,h,We);break e}_t&&_t(o,Me,Pe),o==="focusout"&&Pe&&Me.type==="number"&&Pe.memoizedProps.value!=null&&U0(Me,"number",Me.value)}switch(_t=Pe?Re(Pe):window,o){case"focusin":(JS(_t)||_t.contentEditable==="true")&&(ll=_t,nx=Pe,dd=null);break;case"focusout":dd=nx=ll=null;break;case"mousedown":ax=!0;break;case"contextmenu":case"mouseup":case"dragend":ax=!1,dN(Ve,h,We);break;case"selectionchange":if(qM)break;case"keydown":case"keyup":dN(Ve,h,We)}var ut;if(J0)e:{switch(o){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else ol?QS(o,h)&&(xt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(xt="onCompositionStart");xt&&(YS&&h.locale!=="ko"&&(ol||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ol&&(ut=qS()):(ds=We,Y0="value"in ds?ds.value:ds.textContent,ol=!0)),_t=Bh(Pe,xt),0<_t.length&&(xt=new GS(xt,o,null,h,We),Ve.push({event:xt,listeners:_t}),ut?xt.data=ut:(ut=ZS(h),ut!==null&&(xt.data=ut)))),(ut=PM?RM(o,h):DM(o,h))&&(xt=Bh(Pe,"onBeforeInput"),0<xt.length&&(_t=new GS("onBeforeInput","beforeinput",null,h,We),Ve.push({event:_t,listeners:xt}),_t.data=ut)),TF(Ve,o,Pe,h,We)}RC(Ve,c)})}function Bd(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Bh(o,c){for(var h=c+"Capture",m=[];o!==null;){var w=o,O=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||O===null||(w=rd(o,h),w!=null&&m.unshift(Bd(o,w,O)),w=rd(o,c),w!=null&&m.push(Bd(o,w,O))),o.tag===3)return m;o=o.return}return[]}function Il(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function MC(o,c,h,m,w){for(var O=c._reactName,G=[];h!==null&&h!==m;){var J=h,ye=J.alternate,Pe=J.stateNode;if(J=J.tag,ye!==null&&ye===m)break;J!==5&&J!==26&&J!==27||Pe===null||(ye=Pe,w?(Pe=rd(h,O),Pe!=null&&G.unshift(Bd(h,Pe,ye))):w||(Pe=rd(h,O),Pe!=null&&G.push(Bd(h,Pe,ye)))),h=h.return}G.length!==0&&o.push({event:c,listeners:G})}var EF=/\r\n?/g,OF=/\u0000|\uFFFD/g;function FC(o){return(typeof o=="string"?o:""+o).replace(EF,`
`).replace(OF,"")}function BC(o,c){return c=FC(c),FC(o)===c}function Lh(){}function tr(o,c,h,m,w,O){switch(h){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||al(o,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&al(o,""+m);break;case"className":Jt(o,"class",m);break;case"tabIndex":Jt(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Jt(o,h,m);break;case"style":zS(o,m,O);break;case"data":if(c!=="object"){Jt(o,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=Vf(""+m),o.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(h==="formAction"?(c!=="input"&&tr(o,c,"name",w.name,w,null),tr(o,c,"formEncType",w.formEncType,w,null),tr(o,c,"formMethod",w.formMethod,w,null),tr(o,c,"formTarget",w.formTarget,w,null)):(tr(o,c,"encType",w.encType,w,null),tr(o,c,"method",w.method,w,null),tr(o,c,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=Vf(""+m),o.setAttribute(h,m);break;case"onClick":m!=null&&(o.onclick=Lh);break;case"onScroll":m!=null&&Ot("scroll",o);break;case"onScrollEnd":m!=null&&Ot("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(a(60));o.innerHTML=h}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}h=Vf(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""+m):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":m===!0?o.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,m):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(h,m):o.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(h):o.setAttribute(h,m);break;case"popover":Ot("beforetoggle",o),Ot("toggle",o),Zt(o,"popover",m);break;case"xlinkActuate":cr(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":cr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":cr(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":cr(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":cr(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":cr(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":cr(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":cr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":cr(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Zt(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=sM.get(h)||h,Zt(o,h,m))}}function Ag(o,c,h,m,w,O){switch(h){case"style":zS(o,m,O);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(h=m.__html,h!=null){if(w.children!=null)throw Error(a(60));o.innerHTML=h}}break;case"children":typeof m=="string"?al(o,m):(typeof m=="number"||typeof m=="bigint")&&al(o,""+m);break;case"onScroll":m!=null&&Ot("scroll",o);break;case"onScrollEnd":m!=null&&Ot("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Lh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fe.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),c=h.slice(2,w?h.length-7:void 0),O=o[qr]||null,O=O!=null?O[h]:null,typeof O=="function"&&o.removeEventListener(c,O,w),typeof m=="function")){typeof O!="function"&&O!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,m,w);break e}h in o?o[h]=m:m===!0?o.setAttribute(h,""):Zt(o,h,m)}}}function nn(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",o),Ot("load",o);var m=!1,w=!1,O;for(O in h)if(h.hasOwnProperty(O)){var G=h[O];if(G!=null)switch(O){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,c));default:tr(o,c,O,G,h,null)}}w&&tr(o,c,"srcSet",h.srcSet,h,null),m&&tr(o,c,"src",h.src,h,null);return;case"input":Ot("invalid",o);var J=O=G=w=null,ye=null,Pe=null;for(m in h)if(h.hasOwnProperty(m)){var We=h[m];if(We!=null)switch(m){case"name":w=We;break;case"type":G=We;break;case"checked":ye=We;break;case"defaultChecked":Pe=We;break;case"value":O=We;break;case"defaultValue":J=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(a(137,c));break;default:tr(o,c,m,We,h,null)}}MS(o,O,J,ye,Pe,G,w,!1),Wf(o);return;case"select":Ot("invalid",o),m=G=O=null;for(w in h)if(h.hasOwnProperty(w)&&(J=h[w],J!=null))switch(w){case"value":O=J;break;case"defaultValue":G=J;break;case"multiple":m=J;default:tr(o,c,w,J,h,null)}c=O,h=G,o.multiple=!!m,c!=null?nl(o,!!m,c,!1):h!=null&&nl(o,!!m,h,!0);return;case"textarea":Ot("invalid",o),O=w=m=null;for(G in h)if(h.hasOwnProperty(G)&&(J=h[G],J!=null))switch(G){case"value":m=J;break;case"defaultValue":w=J;break;case"children":O=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(91));break;default:tr(o,c,G,J,h,null)}BS(o,m,w,O),Wf(o);return;case"option":for(ye in h)if(h.hasOwnProperty(ye)&&(m=h[ye],m!=null))switch(ye){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:tr(o,c,ye,m,h,null)}return;case"dialog":Ot("beforetoggle",o),Ot("toggle",o),Ot("cancel",o),Ot("close",o);break;case"iframe":case"object":Ot("load",o);break;case"video":case"audio":for(m=0;m<Fd.length;m++)Ot(Fd[m],o);break;case"image":Ot("error",o),Ot("load",o);break;case"details":Ot("toggle",o);break;case"embed":case"source":case"link":Ot("error",o),Ot("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in h)if(h.hasOwnProperty(Pe)&&(m=h[Pe],m!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,c));default:tr(o,c,Pe,m,h,null)}return;default:if(q0(c)){for(We in h)h.hasOwnProperty(We)&&(m=h[We],m!==void 0&&Ag(o,c,We,m,h,void 0));return}}for(J in h)h.hasOwnProperty(J)&&(m=h[J],m!=null&&tr(o,c,J,m,h,null))}function kF(o,c,h,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,O=null,G=null,J=null,ye=null,Pe=null,We=null;for(Be in h){var Ve=h[Be];if(h.hasOwnProperty(Be)&&Ve!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":ye=Ve;default:m.hasOwnProperty(Be)||tr(o,c,Be,null,m,Ve)}}for(var Me in m){var Be=m[Me];if(Ve=h[Me],m.hasOwnProperty(Me)&&(Be!=null||Ve!=null))switch(Me){case"type":O=Be;break;case"name":w=Be;break;case"checked":Pe=Be;break;case"defaultChecked":We=Be;break;case"value":G=Be;break;case"defaultValue":J=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(a(137,c));break;default:Be!==Ve&&tr(o,c,Me,Be,m,Ve)}}$0(o,G,J,ye,Pe,We,O,w);return;case"select":Be=G=J=Me=null;for(O in h)if(ye=h[O],h.hasOwnProperty(O)&&ye!=null)switch(O){case"value":break;case"multiple":Be=ye;default:m.hasOwnProperty(O)||tr(o,c,O,null,m,ye)}for(w in m)if(O=m[w],ye=h[w],m.hasOwnProperty(w)&&(O!=null||ye!=null))switch(w){case"value":Me=O;break;case"defaultValue":J=O;break;case"multiple":G=O;default:O!==ye&&tr(o,c,w,O,m,ye)}c=J,h=G,m=Be,Me!=null?nl(o,!!h,Me,!1):!!m!=!!h&&(c!=null?nl(o,!!h,c,!0):nl(o,!!h,h?[]:"",!1));return;case"textarea":Be=Me=null;for(J in h)if(w=h[J],h.hasOwnProperty(J)&&w!=null&&!m.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:tr(o,c,J,null,m,w)}for(G in m)if(w=m[G],O=h[G],m.hasOwnProperty(G)&&(w!=null||O!=null))switch(G){case"value":Me=w;break;case"defaultValue":Be=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:w!==O&&tr(o,c,G,w,m,O)}FS(o,Me,Be);return;case"option":for(var yt in h)if(Me=h[yt],h.hasOwnProperty(yt)&&Me!=null&&!m.hasOwnProperty(yt))switch(yt){case"selected":o.selected=!1;break;default:tr(o,c,yt,null,m,Me)}for(ye in m)if(Me=m[ye],Be=h[ye],m.hasOwnProperty(ye)&&Me!==Be&&(Me!=null||Be!=null))switch(ye){case"selected":o.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:tr(o,c,ye,Me,m,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in h)Me=h[mt],h.hasOwnProperty(mt)&&Me!=null&&!m.hasOwnProperty(mt)&&tr(o,c,mt,null,m,Me);for(Pe in m)if(Me=m[Pe],Be=h[Pe],m.hasOwnProperty(Pe)&&Me!==Be&&(Me!=null||Be!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(a(137,c));break;default:tr(o,c,Pe,Me,m,Be)}return;default:if(q0(c)){for(var rr in h)Me=h[rr],h.hasOwnProperty(rr)&&Me!==void 0&&!m.hasOwnProperty(rr)&&Ag(o,c,rr,void 0,m,Me);for(We in m)Me=m[We],Be=h[We],!m.hasOwnProperty(We)||Me===Be||Me===void 0&&Be===void 0||Ag(o,c,We,Me,m,Be);return}}for(var Oe in h)Me=h[Oe],h.hasOwnProperty(Oe)&&Me!=null&&!m.hasOwnProperty(Oe)&&tr(o,c,Oe,null,m,Me);for(Ve in m)Me=m[Ve],Be=h[Ve],!m.hasOwnProperty(Ve)||Me===Be||Me==null&&Be==null||tr(o,c,Ve,Me,m,Be)}var _g=null,Eg=null;function zh(o){return o.nodeType===9?o:o.ownerDocument}function LC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zC(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Og(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var kg=null;function IF(){var o=window.event;return o&&o.type==="popstate"?o===kg?!1:(kg=o,!0):(kg=null,!1)}var $C=typeof setTimeout=="function"?setTimeout:void 0,PF=typeof clearTimeout=="function"?clearTimeout:void 0,UC=typeof Promise=="function"?Promise:void 0,RF=typeof queueMicrotask=="function"?queueMicrotask:typeof UC<"u"?function(o){return UC.resolve(null).then(o).catch(DF)}:$C;function DF(o){setTimeout(function(){throw o})}function Cs(o){return o==="head"}function qC(o,c){var h=c,m=0,w=0;do{var O=h.nextSibling;if(o.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"){if(0<m&&8>m){h=m;var G=o.ownerDocument;if(h&1&&Ld(G.documentElement),h&2&&Ld(G.body),h&4)for(h=G.head,Ld(h),G=h.firstChild;G;){var J=G.nextSibling,ye=G.nodeName;G[ie]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&G.rel.toLowerCase()==="stylesheet"||h.removeChild(G),G=J}}if(w===0){o.removeChild(O),Vd(c);return}w--}else h==="$"||h==="$?"||h==="$!"?w++:m=h.charCodeAt(0)-48;else m=0;h=O}while(h);Vd(c)}function Ig(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Ig(h),oe(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function MF(o,c,h,m){for(;o.nodeType===1;){var w=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[ie])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(O=o.getAttribute("rel"),O==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(O!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(O=o.getAttribute("src"),(O!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&O&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var O=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===O)return o}else return o;if(o=Fa(o.nextSibling),o===null)break}return null}function FF(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Fa(o.nextSibling),o===null))return null;return o}function Pg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function BF(o,c){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")c();else{var m=function(){c(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function Fa(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var Rg=null;function HC(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}function WC(o,c,h){switch(c=zh(h),o){case"html":if(o=c.documentElement,!o)throw Error(a(452));return o;case"head":if(o=c.head,!o)throw Error(a(453));return o;case"body":if(o=c.body,!o)throw Error(a(454));return o;default:throw Error(a(451))}}function Ld(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);oe(o)}var va=new Map,GC=new Set;function $h(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ri=X.d;X.d={f:LF,r:zF,D:$F,C:UF,L:qF,m:HF,X:GF,S:WF,M:VF};function LF(){var o=Ri.f(),c=Ih();return o||c}function zF(o){var c=he(o);c!==null&&c.tag===5&&c.type==="form"?fT(c):Ri.r(o)}var Pl=typeof document>"u"?null:document;function VC(o,c,h){var m=Pl;if(m&&typeof c=="string"&&c){var w=fa(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),GC.has(w)||(GC.add(w),o={rel:o,crossOrigin:h,href:c},m.querySelector(w)===null&&(c=m.createElement("link"),nn(c,"link",o),ke(c),m.head.appendChild(c)))}}function $F(o){Ri.D(o),VC("dns-prefetch",o,null)}function UF(o,c){Ri.C(o,c),VC("preconnect",o,c)}function qF(o,c,h){Ri.L(o,c,h);var m=Pl;if(m&&o&&c){var w='link[rel="preload"][as="'+fa(c)+'"]';c==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+fa(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+fa(h.imageSizes)+'"]')):w+='[href="'+fa(o)+'"]';var O=w;switch(c){case"style":O=Rl(o);break;case"script":O=Dl(o)}va.has(O)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),va.set(O,o),m.querySelector(w)!==null||c==="style"&&m.querySelector(zd(O))||c==="script"&&m.querySelector($d(O))||(c=m.createElement("link"),nn(c,"link",o),ke(c),m.head.appendChild(c)))}}function HF(o,c){Ri.m(o,c);var h=Pl;if(h&&o){var m=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+fa(m)+'"][href="'+fa(o)+'"]',O=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Dl(o)}if(!va.has(O)&&(o=p({rel:"modulepreload",href:o},c),va.set(O,o),h.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector($d(O)))return}m=h.createElement("link"),nn(m,"link",o),ke(m),h.head.appendChild(m)}}}function WF(o,c,h){Ri.S(o,c,h);var m=Pl;if(m&&o){var w=$e(m).hoistableStyles,O=Rl(o);c=c||"default";var G=w.get(O);if(!G){var J={loading:0,preload:null};if(G=m.querySelector(zd(O)))J.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=va.get(O))&&Dg(o,h);var ye=G=m.createElement("link");ke(ye),nn(ye,"link",o),ye._p=new Promise(function(Pe,We){ye.onload=Pe,ye.onerror=We}),ye.addEventListener("load",function(){J.loading|=1}),ye.addEventListener("error",function(){J.loading|=2}),J.loading|=4,Uh(G,c,m)}G={type:"stylesheet",instance:G,count:1,state:J},w.set(O,G)}}}function GF(o,c){Ri.X(o,c);var h=Pl;if(h&&o){var m=$e(h).hoistableScripts,w=Dl(o),O=m.get(w);O||(O=h.querySelector($d(w)),O||(o=p({src:o,async:!0},c),(c=va.get(w))&&Mg(o,c),O=h.createElement("script"),ke(O),nn(O,"link",o),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},m.set(w,O))}}function VF(o,c){Ri.M(o,c);var h=Pl;if(h&&o){var m=$e(h).hoistableScripts,w=Dl(o),O=m.get(w);O||(O=h.querySelector($d(w)),O||(o=p({src:o,async:!0,type:"module"},c),(c=va.get(w))&&Mg(o,c),O=h.createElement("script"),ke(O),nn(O,"link",o),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},m.set(w,O))}}function YC(o,c,h,m){var w=(w=se.current)?$h(w):null;if(!w)throw Error(a(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Rl(h.href),h=$e(w).hoistableStyles,m=h.get(c),m||(m={type:"style",instance:null,count:0,state:null},h.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Rl(h.href);var O=$e(w).hoistableStyles,G=O.get(o);if(G||(w=w.ownerDocument||w,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(o,G),(O=w.querySelector(zd(o)))&&!O._p&&(G.instance=O,G.state.loading=5),va.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},va.set(o,h),O||YF(w,o,h,G.state))),c&&m===null)throw Error(a(528,""));return G}if(c&&m!==null)throw Error(a(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Dl(h),h=$e(w).hoistableScripts,m=h.get(c),m||(m={type:"script",instance:null,count:0,state:null},h.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,o))}}function Rl(o){return'href="'+fa(o)+'"'}function zd(o){return'link[rel="stylesheet"]['+o+"]"}function XC(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function YF(o,c,h,m){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=o.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),nn(c,"link",h),ke(c),o.head.appendChild(c))}function Dl(o){return'[src="'+fa(o)+'"]'}function $d(o){return"script[async]"+o}function KC(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var m=o.querySelector('style[data-href~="'+fa(h.href)+'"]');if(m)return c.instance=m,ke(m),m;var w=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),ke(m),nn(m,"style",w),Uh(m,h.precedence,o),c.instance=m;case"stylesheet":w=Rl(h.href);var O=o.querySelector(zd(w));if(O)return c.state.loading|=4,c.instance=O,ke(O),O;m=XC(h),(w=va.get(w))&&Dg(m,w),O=(o.ownerDocument||o).createElement("link"),ke(O);var G=O;return G._p=new Promise(function(J,ye){G.onload=J,G.onerror=ye}),nn(O,"link",m),c.state.loading|=4,Uh(O,h.precedence,o),c.instance=O;case"script":return O=Dl(h.src),(w=o.querySelector($d(O)))?(c.instance=w,ke(w),w):(m=h,(w=va.get(O))&&(m=p({},h),Mg(m,w)),o=o.ownerDocument||o,w=o.createElement("script"),ke(w),nn(w,"link",m),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(a(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,Uh(m,h.precedence,o));return c.instance}function Uh(o,c,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,O=w,G=0;G<m.length;G++){var J=m[G];if(J.dataset.precedence===c)O=J;else if(O!==w)break}O?O.parentNode.insertBefore(o,O.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function Dg(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Mg(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var qh=null;function QC(o,c,h){if(qh===null){var m=new Map,w=qh=new Map;w.set(h,m)}else w=qh,m=w.get(h),m||(m=new Map,w.set(h,m));if(m.has(o))return m;for(m.set(o,null),h=h.getElementsByTagName(o),w=0;w<h.length;w++){var O=h[w];if(!(O[ie]||O[Ur]||o==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var G=O.getAttribute(c)||"";G=o+G;var J=m.get(G);J?J.push(O):m.set(G,[O])}}return m}function ZC(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function XF(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function JC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Ud=null;function KF(){}function QF(o,c,h){if(Ud===null)throw Error(a(475));var m=Ud;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var w=Rl(h.href),O=o.querySelector(zd(w));if(O){o=O._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=Hh.bind(m),o.then(m,m)),c.state.loading|=4,c.instance=O,ke(O);return}O=o.ownerDocument||o,h=XC(h),(w=va.get(w))&&Dg(h,w),O=O.createElement("link"),ke(O);var G=O;G._p=new Promise(function(J,ye){G.onload=J,G.onerror=ye}),nn(O,"link",h),c.instance=O}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(m.count++,c=Hh.bind(m),o.addEventListener("load",c),o.addEventListener("error",c))}}function ZF(){if(Ud===null)throw Error(a(475));var o=Ud;return o.stylesheets&&o.count===0&&Fg(o,o.stylesheets),0<o.count?function(c){var h=setTimeout(function(){if(o.stylesheets&&Fg(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(h)}}:null}function Hh(){if(this.count--,this.count===0){if(this.stylesheets)Fg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Wh=null;function Fg(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Wh=new Map,c.forEach(JF,o),Wh=null,Hh.call(o))}function JF(o,c){if(!(c.state.loading&4)){var h=Wh.get(o);if(h)var m=h.get(null);else{h=new Map,Wh.set(o,h);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<w.length;O++){var G=w[O];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(h.set(G.dataset.precedence,G),m=G)}m&&h.set(null,m)}w=c.instance,G=w.getAttribute("data-precedence"),O=h.get(G)||m,O===m&&h.set(null,w),h.set(G,w),this.count++,m=Hh.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),O?O.parentNode.insertBefore(w,O.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var qd={$$typeof:E,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function eB(o,c,h,m,w,O,G,J){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=en(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.hiddenUpdates=en(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=O,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function eA(o,c,h,m,w,O,G,J,ye,Pe,We,Ve){return o=new eB(o,c,h,G,J,ye,Pe,Ve),c=1,O===!0&&(c|=24),O=Yn(3,null,null,c),o.current=O,O.stateNode=o,c=yx(),c.refCount++,o.pooledCache=c,c.refCount++,O.memoizedState={element:m,isDehydrated:h,cache:c},wx(O),o}function tA(o){return o?(o=fl,o):fl}function rA(o,c,h,m,w,O){w=tA(w),m.context===null?m.context=w:m.pendingContext=w,m=hs(c),m.payload={element:h},O=O===void 0?null:O,O!==null&&(m.callback=O),h=ps(o,m,c),h!==null&&(Jn(h,o,c),vd(h,o,c))}function nA(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Bg(o,c){nA(o,c),(o=o.alternate)&&nA(o,c)}function aA(o){if(o.tag===13){var c=ul(o,67108864);c!==null&&Jn(c,o,67108864),Bg(o,67108864)}}var Gh=!0;function tB(o,c,h,m){var w=R.T;R.T=null;var O=X.p;try{X.p=2,Lg(o,c,h,m)}finally{X.p=O,R.T=w}}function rB(o,c,h,m){var w=R.T;R.T=null;var O=X.p;try{X.p=8,Lg(o,c,h,m)}finally{X.p=O,R.T=w}}function Lg(o,c,h,m){if(Gh){var w=zg(m);if(w===null)Cg(o,c,m,Vh,h),sA(o,m);else if(aB(w,o,c,h,m))m.stopPropagation();else if(sA(o,m),c&4&&-1<nB.indexOf(o)){for(;w!==null;){var O=he(w);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var G=Ee(O.pendingLanes);if(G!==0){var J=O;for(J.pendingLanes|=2,J.entangledLanes|=2;G;){var ye=1<<31-rt(G);J.entanglements[1]|=ye,G&=~ye}oi(O),(Wt&6)===0&&(Oh=Ae()+500,Md(0))}}break;case 13:J=ul(O,2),J!==null&&Jn(J,O,2),Ih(),Bg(O,2)}if(O=zg(m),O===null&&Cg(o,c,m,Vh,h),O===w)break;w=O}w!==null&&m.stopPropagation()}else Cg(o,c,m,null,h)}}function zg(o){return o=W0(o),$g(o)}var Vh=null;function $g(o){if(Vh=null,o=ue(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=l(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Vh=o,null}function iA(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qe()){case me:return 2;case ae:return 8;case re:case be:return 32;case H:return 268435456;default:return 32}default:return 32}}var Ug=!1,As=null,_s=null,Es=null,Hd=new Map,Wd=new Map,Os=[],nB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sA(o,c){switch(o){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Hd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wd.delete(c.pointerId)}}function Gd(o,c,h,m,w,O){return o===null||o.nativeEvent!==O?(o={blockedOn:c,domEventName:h,eventSystemFlags:m,nativeEvent:O,targetContainers:[w]},c!==null&&(c=he(c),c!==null&&aA(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function aB(o,c,h,m,w){switch(c){case"focusin":return As=Gd(As,o,c,h,m,w),!0;case"dragenter":return _s=Gd(_s,o,c,h,m,w),!0;case"mouseover":return Es=Gd(Es,o,c,h,m,w),!0;case"pointerover":var O=w.pointerId;return Hd.set(O,Gd(Hd.get(O)||null,o,c,h,m,w)),!0;case"gotpointercapture":return O=w.pointerId,Wd.set(O,Gd(Wd.get(O)||null,o,c,h,m,w)),!0}return!1}function oA(o){var c=ue(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=l(h),c!==null){o.blockedOn=c,L0(o.priority,function(){if(h.tag===13){var m=Zn();m=Jc(m);var w=ul(h,m);w!==null&&Jn(w,h,m),Bg(h,m)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Yh(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=zg(o.nativeEvent);if(h===null){h=o.nativeEvent;var m=new h.constructor(h.type,h);H0=m,h.target.dispatchEvent(m),H0=null}else return c=he(h),c!==null&&aA(c),o.blockedOn=h,!1;c.shift()}return!0}function lA(o,c,h){Yh(o)&&h.delete(c)}function iB(){Ug=!1,As!==null&&Yh(As)&&(As=null),_s!==null&&Yh(_s)&&(_s=null),Es!==null&&Yh(Es)&&(Es=null),Hd.forEach(lA),Wd.forEach(lA)}function Xh(o,c){o.blockedOn===c&&(o.blockedOn=null,Ug||(Ug=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iB)))}var Kh=null;function cA(o){Kh!==o&&(Kh=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Kh===o&&(Kh=null);for(var c=0;c<o.length;c+=3){var h=o[c],m=o[c+1],w=o[c+2];if(typeof m!="function"){if($g(m||h)===null)continue;break}var O=he(h);O!==null&&(o.splice(c,3),c-=3,$x(O,{pending:!0,data:w,method:h.method,action:m},m,w))}}))}function Vd(o){function c(ye){return Xh(ye,o)}As!==null&&Xh(As,o),_s!==null&&Xh(_s,o),Es!==null&&Xh(Es,o),Hd.forEach(c),Wd.forEach(c);for(var h=0;h<Os.length;h++){var m=Os[h];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Os.length&&(h=Os[0],h.blockedOn===null);)oA(h),h.blockedOn===null&&Os.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var w=h[m],O=h[m+1],G=w[qr]||null;if(typeof O=="function")G||cA(h);else if(G){var J=null;if(O&&O.hasAttribute("formAction")){if(w=O,G=O[qr]||null)J=G.formAction;else if($g(w)!==null)continue}else J=G.action;typeof J=="function"?h[m+1]=J:(h.splice(m,3),m-=3),cA(h)}}}function qg(o){this._internalRoot=o}Qh.prototype.render=qg.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(a(409));var h=c.current,m=Zn();rA(h,m,o,c,null,null)},Qh.prototype.unmount=qg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;rA(o.current,2,null,o,null,null),Ih(),c[ls]=null}};function Qh(o){this._internalRoot=o}Qh.prototype.unstable_scheduleHydration=function(o){if(o){var c=Hf();o={blockedOn:null,target:o,priority:c};for(var h=0;h<Os.length&&c!==0&&c<Os[h].priority;h++);Os.splice(h,0,o),h===0&&oA(o)}};var dA=t.version;if(dA!=="19.1.0")throw Error(a(527,dA,"19.1.0"));X.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(a(188)):(o=Object.keys(o).join(","),Error(a(268,o)));return o=u(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var sB={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{Ne=Zh.inject(sB),je=Zh}catch{}}return Xd.createRoot=function(o,c){if(!i(o))throw Error(a(299));var h=!1,m="",w=CT,O=AT,G=_T,J=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(G=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(J=c.unstable_transitionCallbacks)),c=eA(o,1,!1,null,null,h,m,w,O,G,J,null),o[ls]=c.current,Tg(o),new qg(c)},Xd.hydrateRoot=function(o,c,h){if(!i(o))throw Error(a(299));var m=!1,w="",O=CT,G=AT,J=_T,ye=null,Pe=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(O=h.onUncaughtError),h.onCaughtError!==void 0&&(G=h.onCaughtError),h.onRecoverableError!==void 0&&(J=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ye=h.unstable_transitionCallbacks),h.formState!==void 0&&(Pe=h.formState)),c=eA(o,1,!0,c,h??null,m,w,O,G,J,ye,Pe),c.context=tA(null),h=c.current,m=Zn(),m=Jc(m),w=hs(m),w.callback=null,ps(h,w,m),h=m,c.current.lanes=h,pn(c,h),oi(c),o[ls]=c.current,Tg(o),new Qh(c)},Xd.version="19.1.0",Xd}var bA;function xB(){if(bA)return Gg.exports;bA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gg.exports=mB(),Gg.exports}var gB=xB();const yB=ir(gB);var Kd={},jA;function vB(){if(jA)return Kd;jA=1,Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.parse=l,Kd.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function l(g,v){const j=new s,b=g.length;if(b<2)return j;const y=(v==null?void 0:v.decode)||p;let C=0;do{const A=g.indexOf("=",C);if(A===-1)break;const E=g.indexOf(";",C),S=E===-1?b:E;if(A>S){C=g.lastIndexOf(";",A-1)+1;continue}const T=d(g,C,A),_=u(g,A,T),P=g.slice(T,_);if(j[P]===void 0){let L=d(g,A+1,S),D=u(g,S,L);const B=y(g.slice(L,D));j[P]=B}C=S+1}while(C<b);return j}function d(g,v,j){do{const b=g.charCodeAt(v);if(b!==32&&b!==9)return v}while(++v<j);return j}function u(g,v,j){for(;v>j;){const b=g.charCodeAt(--v);if(b!==32&&b!==9)return v+1}return j}function f(g,v,j){const b=(j==null?void 0:j.encode)||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const y=b(v);if(!t.test(y))throw new TypeError(`argument val is invalid: ${v}`);let C=g+"="+y;if(!j)return C;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);C+="; Max-Age="+j.maxAge}if(j.domain){if(!r.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);C+="; Domain="+j.domain}if(j.path){if(!a.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);C+="; Path="+j.path}if(j.expires){if(!x(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);C+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(C+="; HttpOnly"),j.secure&&(C+="; Secure"),j.partitioned&&(C+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return C}function p(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function x(g){return i.call(g)==="[object Date]"}return Kd}vB();var wA="popstate";function bB(e={}){function t(a,i){let{pathname:s,search:l,hash:d}=a.location;return cj("",{pathname:s,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:Cu(i)}return wB(t,r,null,e)}function xr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ka(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jB(){return Math.random().toString(36).substring(2,10)}function SA(e,t){return{usr:e.state,key:e.key,idx:t}}function cj(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Rc(t):t,state:r,key:t&&t.key||a||jB()}}function Cu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function wB(e,t,r,a={}){let{window:i=document.defaultView,v5Compat:s=!1}=a,l=i.history,d="POP",u=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function x(){d="POP";let y=p(),C=y==null?null:y-f;f=y,u&&u({action:d,location:b.location,delta:C})}function g(y,C){d="PUSH";let A=cj(b.location,y,C);f=p()+1;let E=SA(A,f),S=b.createHref(A);try{l.pushState(E,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}s&&u&&u({action:d,location:b.location,delta:1})}function v(y,C){d="REPLACE";let A=cj(b.location,y,C);f=p();let E=SA(A,f),S=b.createHref(A);l.replaceState(E,"",S),s&&u&&u({action:d,location:b.location,delta:0})}function j(y){return SB(y)}let b={get action(){return d},get location(){return e(i,l)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(wA,x),u=y,()=>{i.removeEventListener(wA,x),u=null}},createHref(y){return t(i,y)},createURL:j,encodeLocation(y){let C=j(y);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:v,go(y){return l.go(y)}};return b}function SB(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),xr(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Cu(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function SI(e,t,r="/"){return NB(e,t,r,!1)}function NB(e,t,r,a){let i=typeof t=="string"?Rc(t):t,s=Ki(i.pathname||"/",r);if(s==null)return null;let l=NI(e);TB(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let f=MB(s);d=RB(l[u],f,a)}return d}function NI(e,t=[],r=[],a=""){let i=(s,l,d)=>{let u={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};u.relativePath.startsWith("/")&&(xr(u.relativePath.startsWith(a),`Absolute route path "${u.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(a.length));let f=Ui([a,u.relativePath]),p=r.concat(u);s.children&&s.children.length>0&&(xr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),NI(s.children,t,p,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:IB(f,s.index),routesMeta:p})};return e.forEach((s,l)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))i(s,l);else for(let u of TI(s.path))i(s,l,u)}),t}function TI(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(a.length===0)return i?[s,""]:[s];let l=TI(a.join("/")),d=[];return d.push(...l.map(u=>u===""?s:[s,u].join("/"))),i&&d.push(...l),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function TB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:PB(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var CB=/^:[\w-]+$/,AB=3,_B=2,EB=1,OB=10,kB=-2,NA=e=>e==="*";function IB(e,t){let r=e.split("/"),a=r.length;return r.some(NA)&&(a+=kB),t&&(a+=_B),r.filter(i=>!NA(i)).reduce((i,s)=>i+(CB.test(s)?AB:s===""?EB:OB),a)}function PB(e,t){return e.length===t.length&&e.slice(0,-1).every((a,i)=>a===t[i])?e[e.length-1]-t[t.length-1]:0}function RB(e,t,r=!1){let{routesMeta:a}=e,i={},s="/",l=[];for(let d=0;d<a.length;++d){let u=a[d],f=d===a.length-1,p=s==="/"?t:t.slice(s.length)||"/",x=Ep({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),g=u.route;if(!x&&f&&r&&!a[a.length-1].route.index&&(x=Ep({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!x)return null;Object.assign(i,x.params),l.push({params:i,pathname:Ui([s,x.pathname]),pathnameBase:zB(Ui([s,x.pathnameBase])),route:g}),x.pathnameBase!=="/"&&(s=Ui([s,x.pathnameBase]))}return l}function Ep(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=DB(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((f,{paramName:p,isOptional:x},g)=>{if(p==="*"){let j=d[g]||"";l=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const v=d[g];return x&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:e}}function DB(e,t=!1,r=!0){Ka(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(a.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function MB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ka(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ki(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function FB(e,t="/"){let{pathname:r,search:a="",hash:i=""}=typeof e=="string"?Rc(e):e;return{pathname:r?r.startsWith("/")?r:BB(r,t):t,search:$B(a),hash:UB(i)}}function BB(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Kg(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function V2(e){let t=LB(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function Y2(e,t,r,a=!1){let i;typeof e=="string"?i=Rc(e):(i={...e},xr(!i.pathname||!i.pathname.includes("?"),Kg("?","pathname","search",i)),xr(!i.pathname||!i.pathname.includes("#"),Kg("#","pathname","hash",i)),xr(!i.search||!i.search.includes("#"),Kg("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,d;if(l==null)d=r;else{let x=t.length-1;if(!a&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),x-=1;i.pathname=g.join("/")}d=x>=0?t[x]:"/"}let u=FB(i,d),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var Ui=e=>e.join("/").replace(/\/\/+/g,"/"),zB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$B=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var CI=["POST","PUT","PATCH","DELETE"];new Set(CI);var HB=["GET",...CI];new Set(HB);var Dc=N.createContext(null);Dc.displayName="DataRouter";var Wm=N.createContext(null);Wm.displayName="DataRouterState";var AI=N.createContext({isTransitioning:!1});AI.displayName="ViewTransition";var WB=N.createContext(new Map);WB.displayName="Fetchers";var GB=N.createContext(null);GB.displayName="Await";var Qa=N.createContext(null);Qa.displayName="Navigation";var jf=N.createContext(null);jf.displayName="Location";var yi=N.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var X2=N.createContext(null);X2.displayName="RouteError";function VB(e,{relative:t}={}){xr(Mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=N.useContext(Qa),{hash:i,pathname:s,search:l}=wf(e,{relative:t}),d=s;return r!=="/"&&(d=s==="/"?r:Ui([r,s])),a.createHref({pathname:d,search:l,hash:i})}function Mc(){return N.useContext(jf)!=null}function Wn(){return xr(Mc(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(jf).location}var _I="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EI(e){N.useContext(Qa).static||N.useLayoutEffect(e)}function Zr(){let{isDataRoute:e}=N.useContext(yi);return e?sL():YB()}function YB(){xr(Mc(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Dc),{basename:t,navigator:r}=N.useContext(Qa),{matches:a}=N.useContext(yi),{pathname:i}=Wn(),s=JSON.stringify(V2(a)),l=N.useRef(!1);return EI(()=>{l.current=!0}),N.useCallback((u,f={})=>{if(Ka(l.current,_I),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=Y2(u,JSON.parse(s),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ui([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,s,i,e])}N.createContext(null);function wf(e,{relative:t}={}){let{matches:r}=N.useContext(yi),{pathname:a}=Wn(),i=JSON.stringify(V2(r));return N.useMemo(()=>Y2(e,JSON.parse(i),a,t==="path"),[e,i,a,t])}function XB(e,t){return OI(e,t)}function OI(e,t,r,a){var C;xr(Mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(Qa),{matches:s}=N.useContext(yi),l=s[s.length-1],d=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let A=p&&p.path||"";kI(u,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=Wn(),g;if(t){let A=typeof t=="string"?Rc(t):t;xr(f==="/"||((C=A.pathname)==null?void 0:C.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),g=A}else g=x;let v=g.pathname||"/",j=v;if(f!=="/"){let A=f.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let b=SI(e,{pathname:j});Ka(p||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ka(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=eL(b&&b.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:Ui([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Ui([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,r,a);return t&&y?N.createElement(jf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},y):y}function KB(){let e=iL(),t=qB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:i},r):null,l)}var QB=N.createElement(KB,null),ZB=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(yi.Provider,{value:this.props.routeContext},N.createElement(X2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JB({routeContext:e,match:t,children:r}){let a=N.useContext(Dc);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(yi.Provider,{value:e},r)}function eL(e,t=[],r=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let u=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);xr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,d=-1;if(r)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:p,errors:x}=r,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||g){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,f,p)=>{let x,g=!1,v=null,j=null;r&&(x=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||QB,l&&(d<0&&p===0?(kI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,j=null):d===p&&(g=!0,j=f.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,p+1)),y=()=>{let C;return x?C=v:g?C=j:f.route.Component?C=N.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=u,N.createElement(JB,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:C})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement(ZB,{location:r.location,revalidation:r.revalidation,component:v,error:x,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}function K2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tL(e){let t=N.useContext(Dc);return xr(t,K2(e)),t}function rL(e){let t=N.useContext(Wm);return xr(t,K2(e)),t}function nL(e){let t=N.useContext(yi);return xr(t,K2(e)),t}function Q2(e){let t=nL(e),r=t.matches[t.matches.length-1];return xr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function aL(){return Q2("useRouteId")}function iL(){var a;let e=N.useContext(X2),t=rL("useRouteError"),r=Q2("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function sL(){let{router:e}=tL("useNavigate"),t=Q2("useNavigate"),r=N.useRef(!1);return EI(()=>{r.current=!0}),N.useCallback(async(i,s={})=>{Ka(r.current,_I),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var TA={};function kI(e,t,r){!t&&!TA[e]&&(TA[e]=!0,Ka(!1,r))}N.memo(oL);function oL({routes:e,future:t,state:r}){return OI(e,void 0,r,t)}function Z2({to:e,replace:t,state:r,relative:a}){xr(Mc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(Qa);Ka(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(yi),{pathname:l}=Wn(),d=Zr(),u=Y2(e,V2(s),l,a==="path"),f=JSON.stringify(u);return N.useEffect(()=>{d(JSON.parse(f),{replace:t,state:r,relative:a})},[d,f,a,t,r]),null}function ft(e){xr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lL({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:i,static:s=!1}){xr(!Mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof r=="string"&&(r=Rc(r));let{pathname:u="/",search:f="",hash:p="",state:x=null,key:g="default"}=r,v=N.useMemo(()=>{let j=Ki(u,l);return j==null?null:{location:{pathname:j,search:f,hash:p,state:x,key:g},navigationType:a}},[l,u,f,p,x,g,a]);return Ka(v!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(Qa.Provider,{value:d},N.createElement(jf.Provider,{children:t,value:v}))}function dj({children:e,location:t}){return XB(uj(e),t)}function uj(e,t=[]){let r=[];return N.Children.forEach(e,(a,i)=>{if(!N.isValidElement(a))return;let s=[...t,i];if(a.type===N.Fragment){r.push.apply(r,uj(a.props.children,s));return}xr(a.type===ft,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xr(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=uj(a.props.children,s)),r.push(l)}),r}var wp="get",Sp="application/x-www-form-urlencoded";function Gm(e){return e!=null&&typeof e.tagName=="string"}function cL(e){return Gm(e)&&e.tagName.toLowerCase()==="button"}function dL(e){return Gm(e)&&e.tagName.toLowerCase()==="form"}function uL(e){return Gm(e)&&e.tagName.toLowerCase()==="input"}function fL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hL(e,t){return e.button===0&&(!t||t==="_self")&&!fL(e)}var ep=null;function pL(){if(ep===null)try{new FormData(document.createElement("form"),0),ep=!1}catch{ep=!0}return ep}var mL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qg(e){return e!=null&&!mL.has(e)?(Ka(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sp}"`),null):e}function xL(e,t){let r,a,i,s,l;if(dL(e)){let d=e.getAttribute("action");a=d?Ki(d,t):null,r=e.getAttribute("method")||wp,i=Qg(e.getAttribute("enctype"))||Sp,s=new FormData(e)}else if(cL(e)||uL(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||d.getAttribute("action");if(a=u?Ki(u,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||wp,i=Qg(e.getAttribute("formenctype"))||Qg(d.getAttribute("enctype"))||Sp,s=new FormData(d,e),!pL()){let{name:f,type:p,value:x}=e;if(p==="image"){let g=f?`${f}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else f&&s.append(f,x)}}else{if(Gm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wp,a=null,i=Sp,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:s,body:l}}function J2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function gL(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function vL(e,t,r){let a=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await gL(s,r);return l.links?l.links():[]}return[]}));return SL(a.flat(1).filter(yL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function CA(e,t,r,a,i,s){let l=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,d=(u,f)=>{var p;return r[f].pathname!==u.pathname||((p=r[f].route.path)==null?void 0:p.endsWith("*"))&&r[f].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,f)=>l(u,f)||d(u,f)):s==="data"?t.filter((u,f)=>{var x;let p=a.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(l(u,f)||d(u,f))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=r[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function bL(e,t,{includeHydrateFallback:r}={}){return jL(e.map(a=>{let i=t.routes[a.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function jL(e){return[...new Set(e)]}function wL(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function SL(e,t){let r=new Set;return new Set(t),e.reduce((a,i)=>{let s=JSON.stringify(wL(i));return r.has(s)||(r.add(s),a.push({key:s,link:i})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NL=new Set([100,101,204,205]);function TL(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Ki(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function II(){let e=N.useContext(Dc);return J2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function CL(){let e=N.useContext(Wm);return J2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ew=N.createContext(void 0);ew.displayName="FrameworkContext";function PI(){let e=N.useContext(ew);return J2(e,"You must render this element inside a <HydratedRouter> element"),e}function AL(e,t){let r=N.useContext(ew),[a,i]=N.useState(!1),[s,l]=N.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:x}=t,g=N.useRef(null);N.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let b=C=>{C.forEach(A=>{l(A.isIntersecting)})},y=new IntersectionObserver(b,{threshold:.5});return g.current&&y.observe(g.current),()=>{y.disconnect()}}},[e]),N.useEffect(()=>{if(a){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[a]);let v=()=>{i(!0)},j=()=>{i(!1),l(!1)};return r?e!=="intent"?[s,g,{}]:[s,g,{onFocus:Qd(d,v),onBlur:Qd(u,j),onMouseEnter:Qd(f,v),onMouseLeave:Qd(p,j),onTouchStart:Qd(x,v)}]:[!1,g,{}]}function Qd(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function _L({page:e,...t}){let{router:r}=II(),a=N.useMemo(()=>SI(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?N.createElement(OL,{page:e,matches:a,...t}):null}function EL(e){let{manifest:t,routeModules:r}=PI(),[a,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return vL(e,t,r).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,r]),a}function OL({page:e,matches:t,...r}){let a=Wn(),{manifest:i,routeModules:s}=PI(),{basename:l}=II(),{loaderData:d,matches:u}=CL(),f=N.useMemo(()=>CA(e,t,u,i,a,"data"),[e,t,u,i,a]),p=N.useMemo(()=>CA(e,t,u,i,a,"assets"),[e,t,u,i,a]),x=N.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,b=!1;if(t.forEach(C=>{var E;let A=i.routes[C.route.id];!A||!A.hasLoader||(!f.some(S=>S.route.id===C.route.id)&&C.route.id in d&&((E=s[C.route.id])!=null&&E.shouldRevalidate)||A.hasClientLoader?b=!0:j.add(C.route.id))}),j.size===0)return[];let y=TL(e,l);return b&&j.size>0&&y.searchParams.set("_routes",t.filter(C=>j.has(C.route.id)).map(C=>C.route.id).join(",")),[y.pathname+y.search]},[l,d,a,i,f,t,e,s]),g=N.useMemo(()=>bL(p,i),[p,i]),v=EL(p);return N.createElement(N.Fragment,null,x.map(j=>N.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),g.map(j=>N.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),v.map(({key:j,link:b})=>N.createElement("link",{key:j,...b})))}function kL(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var RI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RI&&(window.__reactRouterVersion="7.6.2")}catch{}function IL({basename:e,children:t,window:r}){let a=N.useRef();a.current==null&&(a.current=bB({window:r,v5Compat:!0}));let i=a.current,[s,l]=N.useState({action:i.action,location:i.location}),d=N.useCallback(u=>{N.startTransition(()=>l(u))},[l]);return N.useLayoutEffect(()=>i.listen(d),[i,d]),N.createElement(lL,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var DI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tw=N.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:i,reloadDocument:s,replace:l,state:d,target:u,to:f,preventScrollReset:p,viewTransition:x,...g},v){let{basename:j}=N.useContext(Qa),b=typeof f=="string"&&DI.test(f),y,C=!1;if(typeof f=="string"&&b&&(y=f,RI))try{let D=new URL(window.location.href),B=f.startsWith("//")?new URL(D.protocol+f):new URL(f),M=Ki(B.pathname,j);B.origin===D.origin&&M!=null?f=M+B.search+B.hash:C=!0}catch{Ka(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=VB(f,{relative:i}),[E,S,T]=AL(a,g),_=ML(f,{replace:l,state:d,target:u,preventScrollReset:p,relative:i,viewTransition:x});function P(D){t&&t(D),D.defaultPrevented||_(D)}let L=N.createElement("a",{...g,...T,href:y||A,onClick:C||s?t:P,ref:kL(v,S),target:u,"data-discover":!b&&r==="render"?"true":void 0});return E&&!b?N.createElement(N.Fragment,null,L,N.createElement(_L,{page:A})):L});tw.displayName="Link";var PL=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:i=!1,style:s,to:l,viewTransition:d,children:u,...f},p){let x=wf(l,{relative:f.relative}),g=Wn(),v=N.useContext(Wm),{navigator:j,basename:b}=N.useContext(Qa),y=v!=null&&$L(x)&&d===!0,C=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,A=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(A=A.toLowerCase(),E=E?E.toLowerCase():null,C=C.toLowerCase()),E&&b&&(E=Ki(E,b)||E);const S=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=A===C||!i&&A.startsWith(C)&&A.charAt(S)==="/",_=E!=null&&(E===C||!i&&E.startsWith(C)&&E.charAt(C.length)==="/"),P={isActive:T,isPending:_,isTransitioning:y},L=T?t:void 0,D;typeof a=="function"?D=a(P):D=[a,T?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(P):s;return N.createElement(tw,{...f,"aria-current":L,className:D,ref:p,style:B,to:l,viewTransition:d},typeof u=="function"?u(P):u)});PL.displayName="NavLink";var RL=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:i,state:s,method:l=wp,action:d,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:x,...g},v)=>{let j=LL(),b=zL(d,{relative:f}),y=l.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&DI.test(d),A=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let S=E.nativeEvent.submitter,T=(S==null?void 0:S.getAttribute("formmethod"))||l;j(S||E.currentTarget,{fetcherKey:t,method:T,navigate:r,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:x})};return N.createElement("form",{ref:v,method:y,action:b,onSubmit:a?u:A,...g,"data-discover":!C&&e==="render"?"true":void 0})});RL.displayName="Form";function DL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MI(e){let t=N.useContext(Dc);return xr(t,DL(e)),t}function ML(e,{target:t,replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:l}={}){let d=Zr(),u=Wn(),f=wf(e,{relative:s});return N.useCallback(p=>{if(hL(p,t)){p.preventDefault();let x=r!==void 0?r:Cu(u)===Cu(f);d(e,{replace:x,state:a,preventScrollReset:i,relative:s,viewTransition:l})}},[u,d,f,r,a,t,e,i,s,l])}var FL=0,BL=()=>`__${String(++FL)}__`;function LL(){let{router:e}=MI("useSubmit"),{basename:t}=N.useContext(Qa),r=aL();return N.useCallback(async(a,i={})=>{let{action:s,method:l,encType:d,formData:u,body:f}=xL(a,t);if(i.navigate===!1){let p=i.fetcherKey||BL();await e.fetch(p,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function zL(e,{relative:t}={}){let{basename:r}=N.useContext(Qa),a=N.useContext(yi);xr(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s={...wf(e||".",{relative:t})},l=Wn();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),u=d.getAll("index");if(u.some(p=>p==="")){d.delete("index"),u.filter(x=>x).forEach(x=>d.append("index",x));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ui([r,s.pathname])),Cu(s)}function $L(e,t={}){let r=N.useContext(AI);xr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=MI("useViewTransitionState"),i=wf(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=Ki(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=Ki(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Ep(i.pathname,l)!=null||Ep(i.pathname,s)!=null}[...NL];/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),AA=e=>{const t=qL(e);return t.charAt(0).toUpperCase()+t.slice(1)},FI=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),HL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:s,iconNode:l,...d},u)=>N.createElement("svg",{ref:u,...WL,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:FI("lucide",i),...!s&&!HL(d)&&{"aria-hidden":"true"},...d},[...l.map(([f,p])=>N.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(e,t)=>{const r=N.forwardRef(({className:a,...i},s)=>N.createElement(GL,{ref:s,iconNode:t,className:FI(`lucide-${UL(AA(e))}`,`lucide-${e}`,a),...i}));return r.displayName=AA(e),r};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Us=dt("arrow-down",VL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],qs=dt("arrow-up",YL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],KL=dt("award",XL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],ZL=dt("banknote",QL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],Oo=dt("bed",JL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Lr=dt("calendar",e7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Zl=dt("chart-column",t7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fn=dt("check",r7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Sf=dt("chevron-left",n7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nf=dt("chevron-right",a7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dt=dt("circle-alert",i7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ko=dt("circle-check-big",s7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],l7=dt("circle-help",o7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Np=dt("circle-x",c7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ui=dt("clock",d7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Xr=dt("credit-card",u7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],fj=dt("dollar-sign",f7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],On=dt("download",h7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rw=dt("eye-off",p7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Za=dt("eye",m7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lc=dt("file-text",x7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Op=dt("funnel",g7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],_A=dt("heart",y7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Go=dt("image",v7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],qi=dt("indian-rupee",b7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],w7=dt("info",j7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],EA=dt("key-round",S7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],BI=dt("key",N7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],C7=dt("layout-dashboard",T7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Mn=dt("loader",A7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],E7=dt("lock",_7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],nw=dt("log-out",O7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mo=dt("mail",k7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Au=dt("map-pin",I7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M5 12h14",key:"1ays0h"}]],OA=dt("minus",P7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kA=dt("package",R7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],mi=dt("phone",D7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ca=dt("plus",M7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Hs=dt("printer",F7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Fi=dt("qr-code",B7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Ds=dt("receipt",L7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Qi=dt("refresh-cw",z7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],U7=dt("rotate-cw",$7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],LI=dt("save",q7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Mt=dt("search",H7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],G7=dt("shopping-bag",W7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],pu=dt("shopping-cart",V7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],kn=dt("square-pen",Y7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],hj=dt("store",X7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Q7=dt("table",K7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],J7=dt("tags",Z7);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],tz=dt("ticket",ez);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$n=dt("trash-2",rz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],kp=dt("trending-up",nz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Ms=dt("upload",az);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Fc=dt("user-plus",iz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_u=dt("user",sz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Bi=dt("users",oz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Eu=dt("wallet",lz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Un=dt("x",cz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],uz=dt("zoom-in",dz);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],hz=dt("zoom-out",fz),pz=({collapsed:e,setCollapsed:t})=>{const r=Wn(),a=Zr(),[i,s]=N.useState(r.pathname),[l,d]=N.useState(null);N.useEffect(()=>{s(r.pathname);const p=localStorage.getItem("userData");p&&d(JSON.parse(p))},[r.pathname]);const u=[{path:"/",name:"Dashboard",icon:n.jsx(C7,{size:20})},{path:"/branches",name:"Branches",icon:n.jsx(hj,{size:20})},{path:"/rooms",name:"Rooms",icon:n.jsx(Oo,{size:20})},{path:"/room-bookings",name:"Room Bookings",icon:n.jsx(Lr,{size:20})},{path:"/room-payments",name:"Room Payments",icon:n.jsx(Xr,{size:20})},{path:"/categories",name:"Categories",icon:n.jsx(J7,{size:20})},{path:"/products",name:"Menu",icon:n.jsx(kA,{size:20})},{path:"/subscription-management",name:"Subscription Orders",icon:n.jsx(Qi,{size:20})},{path:"/meal-of-the-day",name:"Meal of the Day",icon:n.jsx(KL,{size:20})},{path:"/qr-generator",name:"Menu QrGenerator",icon:n.jsx(kA,{size:20})},{path:"/tables",name:"Tables",icon:n.jsx(Q7,{size:20})},{path:"/reservations",name:"Table Reservations",icon:n.jsx(Lr,{size:20})},{path:"/orders",name:"Online Orders",icon:n.jsx(pu,{size:20})},{path:"/staff-orders",name:"Staff Orders",icon:n.jsx(pu,{size:20})},{path:"/counter-orders",name:"Counter Orders",icon:n.jsx(pu,{size:20})},{path:"/payments",name:"Payments",icon:n.jsx(Xr,{size:20})},{path:"/staff-payment",name:"Staff Payments",icon:n.jsx(Xr,{size:20})},{path:"/counter-payment",name:"Counter Payments",icon:n.jsx(Xr,{size:20})},{path:"/staff-invoices",name:"Staff Invoices",icon:n.jsx(Ds,{size:20})},{path:"/counter-bills",name:"Counter Bills",icon:n.jsx(Ds,{size:20})},{path:"/product-submissions",name:"Purchase Orders",icon:n.jsx(Ds,{size:20})},{path:"/qr-uploads",name:"QR Uploads",icon:n.jsx(Ds,{size:20})},{path:"/users",name:"Users",icon:n.jsx(Bi,{size:20})},{path:"/staff-users",name:"Staff Users",icon:n.jsx(Bi,{size:20})},{path:"/counter-users",name:"Counter Users",icon:n.jsx(Bi,{size:20})},{path:"/purchase-users",name:"Purchase Users",icon:n.jsx(Bi,{size:20})},{path:"/category-access",name:"Category Access",icon:n.jsx(EA,{size:20})},{path:"/receptionist-access",name:"Receptionist Access",icon:n.jsx(EA,{size:20})},{path:"/coupons",name:"Coupons",icon:n.jsx(tz,{size:20})},{path:"/help-support",name:"Help & Support",icon:n.jsx(l7,{size:20})},{path:"/about-us",name:"About Us",icon:n.jsx(w7,{size:20})},{path:"/terms-policies",name:"Terms & Policies",icon:n.jsx(lc,{size:20})}],f=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userData"),localStorage.removeItem("authToken"),a("/login")};return n.jsxs("aside",{className:`sidebar ${e?"sidebar-collapsed":""}`,children:[n.jsxs("div",{className:"sidebar-header",children:[!e&&n.jsxs("div",{className:"logo",children:[n.jsx("div",{className:"logo-icon",children:n.jsx(hj,{size:24})}),n.jsx("h2",{children:"Hotel Virat"})]}),n.jsx("button",{className:"collapse-btn",onClick:()=>t(!e),children:e?n.jsx(Nf,{size:20}):n.jsx(Sf,{size:20})})]}),n.jsx("nav",{className:"sidebar-nav",children:n.jsx("ul",{children:u.map(p=>n.jsx("li",{children:n.jsxs(tw,{to:p.path,className:`nav-link ${i===p.path?"active":""}`,onClick:()=>s(p.path),children:[n.jsx("span",{className:"icon",children:p.icon}),!e&&n.jsx("span",{className:"text",children:p.name})]})},p.path))})}),n.jsxs("div",{className:"sidebar-footer",children:[e?n.jsx("div",{className:"avatar-small",children:n.jsx("img",{src:(l==null?void 0:l.profileImage)||`https://ui-avatars.com/api/?name=${(l==null?void 0:l.name)||"Admin"}&background=f0f0f0&color=333`,alt:(l==null?void 0:l.name)||"Admin"})}):n.jsxs("div",{className:"user-info",children:[n.jsx("div",{className:"avatar",children:n.jsx("img",{src:(l==null?void 0:l.profileImage)||`https://ui-avatars.com/api/?name=${(l==null?void 0:l.name)||"Admin"}&background=f0f0f0&color=333`,alt:(l==null?void 0:l.name)||"Admin"})}),n.jsxs("div",{className:"user-details",children:[n.jsx("h4",{children:(l==null?void 0:l.name)||"Admin"}),n.jsx("p",{children:(l==null?void 0:l.email)||""})]})]}),n.jsxs("button",{className:"logout-btn",onClick:f,children:[n.jsx(nw,{size:18}),!e&&n.jsx("span",{children:"Logout"})]})]})]})};function zI(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=zI(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Lt(){for(var e,t,r=0,a="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=zI(e))&&(a&&(a+=" "),a+=t);return a}var Zg,IA;function Gn(){if(IA)return Zg;IA=1;var e=Array.isArray;return Zg=e,Zg}var Jg,PA;function $I(){if(PA)return Jg;PA=1;var e=typeof Jh=="object"&&Jh&&Jh.Object===Object&&Jh;return Jg=e,Jg}var ey,RA;function vi(){if(RA)return ey;RA=1;var e=$I(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return ey=r,ey}var ty,DA;function Tf(){if(DA)return ty;DA=1;var e=vi(),t=e.Symbol;return ty=t,ty}var ry,MA;function mz(){if(MA)return ry;MA=1;var e=Tf(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,i=e?e.toStringTag:void 0;function s(l){var d=r.call(l,i),u=l[i];try{l[i]=void 0;var f=!0}catch{}var p=a.call(l);return f&&(d?l[i]=u:delete l[i]),p}return ry=s,ry}var ny,FA;function xz(){if(FA)return ny;FA=1;var e=Object.prototype,t=e.toString;function r(a){return t.call(a)}return ny=r,ny}var ay,BA;function as(){if(BA)return ay;BA=1;var e=Tf(),t=mz(),r=xz(),a="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function l(d){return d==null?d===void 0?i:a:s&&s in Object(d)?t(d):r(d)}return ay=l,ay}var iy,LA;function is(){if(LA)return iy;LA=1;function e(t){return t!=null&&typeof t=="object"}return iy=e,iy}var sy,zA;function Bc(){if(zA)return sy;zA=1;var e=as(),t=is(),r="[object Symbol]";function a(i){return typeof i=="symbol"||t(i)&&e(i)==r}return sy=a,sy}var oy,$A;function aw(){if($A)return oy;$A=1;var e=Gn(),t=Bc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(s,l){if(e(s))return!1;var d=typeof s;return d=="number"||d=="symbol"||d=="boolean"||s==null||t(s)?!0:a.test(s)||!r.test(s)||l!=null&&s in Object(l)}return oy=i,oy}var ly,UA;function Ys(){if(UA)return ly;UA=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return ly=e,ly}var cy,qA;function iw(){if(qA)return cy;qA=1;var e=as(),t=Ys(),r="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(d){if(!t(d))return!1;var u=e(d);return u==a||u==i||u==r||u==s}return cy=l,cy}var dy,HA;function gz(){if(HA)return dy;HA=1;var e=vi(),t=e["__core-js_shared__"];return dy=t,dy}var uy,WA;function yz(){if(WA)return uy;WA=1;var e=gz(),t=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function r(a){return!!t&&t in a}return uy=r,uy}var fy,GA;function UI(){if(GA)return fy;GA=1;var e=Function.prototype,t=e.toString;function r(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return fy=r,fy}var hy,VA;function vz(){if(VA)return hy;VA=1;var e=iw(),t=yz(),r=Ys(),a=UI(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,u=l.toString,f=d.hasOwnProperty,p=RegExp("^"+u.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x(g){if(!r(g)||t(g))return!1;var v=e(g)?p:s;return v.test(a(g))}return hy=x,hy}var py,YA;function bz(){if(YA)return py;YA=1;function e(t,r){return t==null?void 0:t[r]}return py=e,py}var my,XA;function Vo(){if(XA)return my;XA=1;var e=vz(),t=bz();function r(a,i){var s=t(a,i);return e(s)?s:void 0}return my=r,my}var xy,KA;function Vm(){if(KA)return xy;KA=1;var e=Vo(),t=e(Object,"create");return xy=t,xy}var gy,QA;function jz(){if(QA)return gy;QA=1;var e=Vm();function t(){this.__data__=e?e(null):{},this.size=0}return gy=t,gy}var yy,ZA;function wz(){if(ZA)return yy;ZA=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return yy=e,yy}var vy,JA;function Sz(){if(JA)return vy;JA=1;var e=Vm(),t="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function i(s){var l=this.__data__;if(e){var d=l[s];return d===t?void 0:d}return a.call(l,s)?l[s]:void 0}return vy=i,vy}var by,e_;function Nz(){if(e_)return by;e_=1;var e=Vm(),t=Object.prototype,r=t.hasOwnProperty;function a(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return by=a,by}var jy,t_;function Tz(){if(t_)return jy;t_=1;var e=Vm(),t="__lodash_hash_undefined__";function r(a,i){var s=this.__data__;return this.size+=this.has(a)?0:1,s[a]=e&&i===void 0?t:i,this}return jy=r,jy}var wy,r_;function Cz(){if(r_)return wy;r_=1;var e=jz(),t=wz(),r=Sz(),a=Nz(),i=Tz();function s(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var f=l[d];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,wy=s,wy}var Sy,n_;function Az(){if(n_)return Sy;n_=1;function e(){this.__data__=[],this.size=0}return Sy=e,Sy}var Ny,a_;function sw(){if(a_)return Ny;a_=1;function e(t,r){return t===r||t!==t&&r!==r}return Ny=e,Ny}var Ty,i_;function Ym(){if(i_)return Ty;i_=1;var e=sw();function t(r,a){for(var i=r.length;i--;)if(e(r[i][0],a))return i;return-1}return Ty=t,Ty}var Cy,s_;function _z(){if(s_)return Cy;s_=1;var e=Ym(),t=Array.prototype,r=t.splice;function a(i){var s=this.__data__,l=e(s,i);if(l<0)return!1;var d=s.length-1;return l==d?s.pop():r.call(s,l,1),--this.size,!0}return Cy=a,Cy}var Ay,o_;function Ez(){if(o_)return Ay;o_=1;var e=Ym();function t(r){var a=this.__data__,i=e(a,r);return i<0?void 0:a[i][1]}return Ay=t,Ay}var _y,l_;function Oz(){if(l_)return _y;l_=1;var e=Ym();function t(r){return e(this.__data__,r)>-1}return _y=t,_y}var Ey,c_;function kz(){if(c_)return Ey;c_=1;var e=Ym();function t(r,a){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,a])):i[s][1]=a,this}return Ey=t,Ey}var Oy,d_;function Xm(){if(d_)return Oy;d_=1;var e=Az(),t=_z(),r=Ez(),a=Oz(),i=kz();function s(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var f=l[d];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,Oy=s,Oy}var ky,u_;function ow(){if(u_)return ky;u_=1;var e=Vo(),t=vi(),r=e(t,"Map");return ky=r,ky}var Iy,f_;function Iz(){if(f_)return Iy;f_=1;var e=Cz(),t=Xm(),r=ow();function a(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Iy=a,Iy}var Py,h_;function Pz(){if(h_)return Py;h_=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Py=e,Py}var Ry,p_;function Km(){if(p_)return Ry;p_=1;var e=Pz();function t(r,a){var i=r.__data__;return e(a)?i[typeof a=="string"?"string":"hash"]:i.map}return Ry=t,Ry}var Dy,m_;function Rz(){if(m_)return Dy;m_=1;var e=Km();function t(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return Dy=t,Dy}var My,x_;function Dz(){if(x_)return My;x_=1;var e=Km();function t(r){return e(this,r).get(r)}return My=t,My}var Fy,g_;function Mz(){if(g_)return Fy;g_=1;var e=Km();function t(r){return e(this,r).has(r)}return Fy=t,Fy}var By,y_;function Fz(){if(y_)return By;y_=1;var e=Km();function t(r,a){var i=e(this,r),s=i.size;return i.set(r,a),this.size+=i.size==s?0:1,this}return By=t,By}var Ly,v_;function lw(){if(v_)return Ly;v_=1;var e=Iz(),t=Rz(),r=Dz(),a=Mz(),i=Fz();function s(l){var d=-1,u=l==null?0:l.length;for(this.clear();++d<u;){var f=l[d];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,Ly=s,Ly}var zy,b_;function qI(){if(b_)return zy;b_=1;var e=lw(),t="Expected a function";function r(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var l=arguments,d=i?i.apply(this,l):l[0],u=s.cache;if(u.has(d))return u.get(d);var f=a.apply(this,l);return s.cache=u.set(d,f)||u,f};return s.cache=new(r.Cache||e),s}return r.Cache=e,zy=r,zy}var $y,j_;function Bz(){if(j_)return $y;j_=1;var e=qI(),t=500;function r(a){var i=e(a,function(l){return s.size===t&&s.clear(),l}),s=i.cache;return i}return $y=r,$y}var Uy,w_;function Lz(){if(w_)return Uy;w_=1;var e=Bz(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(l,d,u,f){s.push(u?f.replace(r,"$1"):d||l)}),s});return Uy=a,Uy}var qy,S_;function cw(){if(S_)return qy;S_=1;function e(t,r){for(var a=-1,i=t==null?0:t.length,s=Array(i);++a<i;)s[a]=r(t[a],a,t);return s}return qy=e,qy}var Hy,N_;function zz(){if(N_)return Hy;N_=1;var e=Tf(),t=cw(),r=Gn(),a=Bc(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function l(d){if(typeof d=="string")return d;if(r(d))return t(d,l)+"";if(a(d))return s?s.call(d):"";var u=d+"";return u=="0"&&1/d==-1/0?"-0":u}return Hy=l,Hy}var Wy,T_;function HI(){if(T_)return Wy;T_=1;var e=zz();function t(r){return r==null?"":e(r)}return Wy=t,Wy}var Gy,C_;function WI(){if(C_)return Gy;C_=1;var e=Gn(),t=aw(),r=Lz(),a=HI();function i(s,l){return e(s)?s:t(s,l)?[s]:r(a(s))}return Gy=i,Gy}var Vy,A_;function Qm(){if(A_)return Vy;A_=1;var e=Bc();function t(r){if(typeof r=="string"||e(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return Vy=t,Vy}var Yy,__;function dw(){if(__)return Yy;__=1;var e=WI(),t=Qm();function r(a,i){i=e(i,a);for(var s=0,l=i.length;a!=null&&s<l;)a=a[t(i[s++])];return s&&s==l?a:void 0}return Yy=r,Yy}var Xy,E_;function GI(){if(E_)return Xy;E_=1;var e=dw();function t(r,a,i){var s=r==null?void 0:e(r,a);return s===void 0?i:s}return Xy=t,Xy}var $z=GI();const Aa=ir($z);var Ky,O_;function Uz(){if(O_)return Ky;O_=1;function e(t){return t==null}return Ky=e,Ky}var qz=Uz();const kt=ir(qz);var Qy,k_;function Hz(){if(k_)return Qy;k_=1;var e=as(),t=Gn(),r=is(),a="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==a}return Qy=i,Qy}var Wz=Hz();const Fo=ir(Wz);var Gz=iw();const At=ir(Gz);var Vz=Ys();const Lc=ir(Vz);var Zy={exports:{}},qt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function Yz(){if(I_)return qt;I_=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var C=y.$$typeof;switch(C){case e:switch(y=y.type,y){case r:case i:case a:case f:case p:return y;default:switch(y=y&&y.$$typeof,y){case d:case l:case u:case g:case x:case s:return y;default:return C}}case t:return C}}}return qt.ContextConsumer=l,qt.ContextProvider=s,qt.Element=e,qt.ForwardRef=u,qt.Fragment=r,qt.Lazy=g,qt.Memo=x,qt.Portal=t,qt.Profiler=i,qt.StrictMode=a,qt.Suspense=f,qt.SuspenseList=p,qt.isAsyncMode=function(){return!1},qt.isConcurrentMode=function(){return!1},qt.isContextConsumer=function(y){return b(y)===l},qt.isContextProvider=function(y){return b(y)===s},qt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},qt.isForwardRef=function(y){return b(y)===u},qt.isFragment=function(y){return b(y)===r},qt.isLazy=function(y){return b(y)===g},qt.isMemo=function(y){return b(y)===x},qt.isPortal=function(y){return b(y)===t},qt.isProfiler=function(y){return b(y)===i},qt.isStrictMode=function(y){return b(y)===a},qt.isSuspense=function(y){return b(y)===f},qt.isSuspenseList=function(y){return b(y)===p},qt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===a||y===f||y===p||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===x||y.$$typeof===s||y.$$typeof===l||y.$$typeof===u||y.$$typeof===j||y.getModuleId!==void 0)},qt.typeOf=b,qt}var P_;function Xz(){return P_||(P_=1,Zy.exports=Yz()),Zy.exports}var Kz=Xz(),Jy,R_;function VI(){if(R_)return Jy;R_=1;var e=as(),t=is(),r="[object Number]";function a(i){return typeof i=="number"||t(i)&&e(i)==r}return Jy=a,Jy}var ev,D_;function Qz(){if(D_)return ev;D_=1;var e=VI();function t(r){return e(r)&&r!=+r}return ev=t,ev}var Zz=Qz();const Cf=ir(Zz);var Jz=VI();const e$=ir(Jz);var Va=function(t){return t===0?0:t>0?1:-1},To=function(t){return Fo(t)&&t.indexOf("%")===t.length-1},nt=function(t){return e$(t)&&!Cf(t)},zr=function(t){return nt(t)||Fo(t)},t$=0,Af=function(t){var r=++t$;return"".concat(t||"").concat(r)},Bo=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nt(t)&&!Fo(t))return a;var s;if(To(t)){var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Cf(s)&&(s=a),i&&s>r&&(s=r),s},Rs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},r$=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},i=0;i<r;i++)if(!a[t[i]])a[t[i]]=!0;else return!0;return!1},Ha=function(t,r){return nt(t)&&nt(r)?function(a){return t+a*(r-t)}:function(){return r}};function Ip(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Aa(a,t))===r})}var n$=function(t,r){return nt(t)&&nt(r)?t-r:Fo(t)&&Fo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Jl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function pj(e){"@babel/helpers - typeof";return pj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pj(e)}var a$=["viewBox","children"],i$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],M_=["points","pathLength"],tv={svg:a$,polygon:M_,polyline:M_},uw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Pp=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!Lc(a))return null;var i={};return Object.keys(a).forEach(function(s){uw.includes(s)&&(i[s]=r||function(l){return a[s](a,l)})}),i},s$=function(t,r,a){return function(i){return t(r,a,i),null}},Rp=function(t,r,a){if(!Lc(t)||pj(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var l=t[s];uw.includes(s)&&typeof l=="function"&&(i||(i={}),i[s]=s$(l,r,a))}),i},o$=["children"],l$=["children"];function F_(e,t){if(e==null)return{};var r=c$(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function c$(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function mj(e){"@babel/helpers - typeof";return mj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mj(e)}var B_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},L_=null,rv=null,fw=function e(t){if(t===L_&&Array.isArray(rv))return rv;var r=[];return N.Children.forEach(t,function(a){kt(a)||(Kz.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),rv=r,L_=t,r};function _a(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(i){return Hi(i)}):a=[Hi(t)],fw(e).forEach(function(i){var s=Aa(i,"type.displayName")||Aa(i,"type.name");a.indexOf(s)!==-1&&r.push(i)}),r}function na(e,t){var r=_a(e,t);return r&&r[0]}var z_=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,i=r.height;return!(!nt(a)||a<=0||!nt(i)||i<=0)},d$=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],u$=function(t){return t&&t.type&&Fo(t.type)&&d$.indexOf(t.type)>=0},f$=function(t){return t&&mj(t)==="object"&&"clipDot"in t},h$=function(t,r,a,i){var s,l=(s=tv==null?void 0:tv[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!At(t)&&(i&&l.includes(r)||i$.includes(r))||a&&uw.includes(r)},It=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(N.isValidElement(t)&&(i=t.props),!Lc(i))return null;var s={};return Object.keys(i).forEach(function(l){var d;h$((d=i)===null||d===void 0?void 0:d[l],l,r,a)&&(s[l]=i[l])}),s},xj=function e(t,r){if(t===r)return!0;var a=N.Children.count(t);if(a!==N.Children.count(r))return!1;if(a===0)return!0;if(a===1)return $_(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<a;i++){var s=t[i],l=r[i];if(Array.isArray(s)||Array.isArray(l)){if(!e(s,l))return!1}else if(!$_(s,l))return!1}return!0},$_=function(t,r){if(kt(t)&&kt(r))return!0;if(!kt(t)&&!kt(r)){var a=t.props||{},i=a.children,s=F_(a,o$),l=r.props||{},d=l.children,u=F_(l,l$);return i&&d?Jl(s,u)&&xj(i,d):!i&&!d?Jl(s,u):!1}return!1},U_=function(t,r){var a=[],i={};return fw(t).forEach(function(s,l){if(u$(s))a.push(s);else if(s){var d=Hi(s.type),u=r[d]||{},f=u.handler,p=u.once;if(f&&(!p||!i[d])){var x=f(s,d,l);a.push(x),i[d]=!0}}}),a},p$=function(t){var r=t&&t.type;return r&&B_[r]?B_[r]:null},m$=function(t,r){return fw(r).indexOf(t)},x$=["children","width","height","viewBox","className","style","title","desc"];function gj(){return gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gj.apply(this,arguments)}function g$(e,t){if(e==null)return{};var r=y$(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function y$(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function yj(e){var t=e.children,r=e.width,a=e.height,i=e.viewBox,s=e.className,l=e.style,d=e.title,u=e.desc,f=g$(e,x$),p=i||{width:r,height:a,x:0,y:0},x=Lt("recharts-surface",s);return Te.createElement("svg",gj({},It(f,!0,"svg"),{className:x,width:r,height:a,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),Te.createElement("title",null,d),Te.createElement("desc",null,u),t)}var v$=["children","className"];function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vj.apply(this,arguments)}function b$(e,t){if(e==null)return{};var r=j$(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function j$(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Ar=Te.forwardRef(function(e,t){var r=e.children,a=e.className,i=b$(e,v$),s=Lt("recharts-layer",a);return Te.createElement("g",vj({className:s},It(i,!0),{ref:t}),r)}),Wi=function(t,r){for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s]},nv,q_;function w$(){if(q_)return nv;q_=1;function e(t,r,a){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),a=a>s?s:a,a<0&&(a+=s),s=r>a?0:a-r>>>0,r>>>=0;for(var l=Array(s);++i<s;)l[i]=t[i+r];return l}return nv=e,nv}var av,H_;function S$(){if(H_)return av;H_=1;var e=w$();function t(r,a,i){var s=r.length;return i=i===void 0?s:i,!a&&i>=s?r:e(r,a,i)}return av=t,av}var iv,W_;function YI(){if(W_)return iv;W_=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=t+r+a,s="\\ufe0e\\ufe0f",l="\\u200d",d=RegExp("["+l+e+i+s+"]");function u(f){return d.test(f)}return iv=u,iv}var sv,G_;function N$(){if(G_)return sv;G_=1;function e(t){return t.split("")}return sv=e,sv}var ov,V_;function T$(){if(V_)return ov;V_=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=t+r+a,s="\\ufe0e\\ufe0f",l="["+e+"]",d="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+d+"|"+u+")",p="[^"+e+"]",x="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",j=f+"?",b="["+s+"]?",y="(?:"+v+"(?:"+[p,x,g].join("|")+")"+b+j+")*",C=b+j+y,A="(?:"+[p+d+"?",d,x,g,l].join("|")+")",E=RegExp(u+"(?="+u+")|"+A+C,"g");function S(T){return T.match(E)||[]}return ov=S,ov}var lv,Y_;function C$(){if(Y_)return lv;Y_=1;var e=N$(),t=YI(),r=T$();function a(i){return t(i)?r(i):e(i)}return lv=a,lv}var cv,X_;function A$(){if(X_)return cv;X_=1;var e=S$(),t=YI(),r=C$(),a=HI();function i(s){return function(l){l=a(l);var d=t(l)?r(l):void 0,u=d?d[0]:l.charAt(0),f=d?e(d,1).join(""):l.slice(1);return u[s]()+f}}return cv=i,cv}var dv,K_;function _$(){if(K_)return dv;K_=1;var e=A$(),t=e("toUpperCase");return dv=t,dv}var E$=_$();const Zm=ir(E$);function ur(e){return function(){return e}}const XI=Math.cos,Dp=Math.sin,Ja=Math.sqrt,Mp=Math.PI,Jm=2*Mp,bj=Math.PI,jj=2*bj,wo=1e-6,O$=jj-wo;function KI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function k$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KI;const r=10**t;return function(a){this._+=a[0];for(let i=1,s=a.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+a[i]}}class I${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?KI:k$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,i){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+i}`}bezierCurveTo(t,r,a,i,s,l){this._append`C${+t},${+r},${+a},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,a,i,s){if(t=+t,r=+r,a=+a,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,u=a-t,f=i-r,p=l-t,x=d-r,g=p*p+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>wo)if(!(Math.abs(x*u-f*p)>wo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=a-l,j=i-d,b=u*u+f*f,y=v*v+j*j,C=Math.sqrt(b),A=Math.sqrt(g),E=s*Math.tan((bj-Math.acos((b+g-y)/(2*C*A)))/2),S=E/A,T=E/C;Math.abs(S-1)>wo&&this._append`L${t+S*p},${r+S*x}`,this._append`A${s},${s},0,0,${+(x*v>p*j)},${this._x1=t+T*u},${this._y1=r+T*f}`}}arc(t,r,a,i,s,l){if(t=+t,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(i),u=a*Math.sin(i),f=t+d,p=r+u,x=1^l,g=l?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>wo||Math.abs(this._y1-p)>wo)&&this._append`L${f},${p}`,a&&(g<0&&(g=g%jj+jj),g>O$?this._append`A${a},${a},0,1,${x},${t-d},${r-u}A${a},${a},0,1,${x},${this._x1=f},${this._y1=p}`:g>wo&&this._append`A${a},${a},0,${+(g>=bj)},${x},${this._x1=t+a*Math.cos(s)},${this._y1=r+a*Math.sin(s)}`)}rect(t,r,a,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+i}h${-a}Z`}toString(){return this._}}function hw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new I$(t)}function pw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QI(e){this._context=e}QI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function e0(e){return new QI(e)}function ZI(e){return e[0]}function JI(e){return e[1]}function eP(e,t){var r=ur(!0),a=null,i=e0,s=null,l=hw(d);e=typeof e=="function"?e:e===void 0?ZI:ur(e),t=typeof t=="function"?t:t===void 0?JI:ur(t);function d(u){var f,p=(u=pw(u)).length,x,g=!1,v;for(a==null&&(s=i(v=l())),f=0;f<=p;++f)!(f<p&&r(x=u[f],f,u))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(x,f,u),+t(x,f,u));if(v)return s=null,v+""||null}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:ur(+u),d):e},d.y=function(u){return arguments.length?(t=typeof u=="function"?u:ur(+u),d):t},d.defined=function(u){return arguments.length?(r=typeof u=="function"?u:ur(!!u),d):r},d.curve=function(u){return arguments.length?(i=u,a!=null&&(s=i(a)),d):i},d.context=function(u){return arguments.length?(u==null?a=s=null:s=i(a=u),d):a},d}function tp(e,t,r){var a=null,i=ur(!0),s=null,l=e0,d=null,u=hw(f);e=typeof e=="function"?e:e===void 0?ZI:ur(+e),t=typeof t=="function"?t:ur(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?JI:ur(+r);function f(x){var g,v,j,b=(x=pw(x)).length,y,C=!1,A,E=new Array(b),S=new Array(b);for(s==null&&(d=l(A=u())),g=0;g<=b;++g){if(!(g<b&&i(y=x[g],g,x))===C)if(C=!C)v=g,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=g-1;j>=v;--j)d.point(E[j],S[j]);d.lineEnd(),d.areaEnd()}C&&(E[g]=+e(y,g,x),S[g]=+t(y,g,x),d.point(a?+a(y,g,x):E[g],r?+r(y,g,x):S[g]))}if(A)return d=null,A+""||null}function p(){return eP().defined(i).curve(l).context(s)}return f.x=function(x){return arguments.length?(e=typeof x=="function"?x:ur(+x),a=null,f):e},f.x0=function(x){return arguments.length?(e=typeof x=="function"?x:ur(+x),f):e},f.x1=function(x){return arguments.length?(a=x==null?null:typeof x=="function"?x:ur(+x),f):a},f.y=function(x){return arguments.length?(t=typeof x=="function"?x:ur(+x),r=null,f):t},f.y0=function(x){return arguments.length?(t=typeof x=="function"?x:ur(+x),f):t},f.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:ur(+x),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(a).y(t)},f.defined=function(x){return arguments.length?(i=typeof x=="function"?x:ur(!!x),f):i},f.curve=function(x){return arguments.length?(l=x,s!=null&&(d=l(s)),f):l},f.context=function(x){return arguments.length?(x==null?s=d=null:d=l(s=x),f):s},f}class tP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function P$(e){return new tP(e,!0)}function R$(e){return new tP(e,!1)}const mw={draw(e,t){const r=Ja(t/Mp);e.moveTo(r,0),e.arc(0,0,r,0,Jm)}},D$={draw(e,t){const r=Ja(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rP=Ja(1/3),M$=rP*2,F$={draw(e,t){const r=Ja(t/M$),a=r*rP;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},B$={draw(e,t){const r=Ja(t),a=-r/2;e.rect(a,a,r,r)}},L$=.8908130915292852,nP=Dp(Mp/10)/Dp(7*Mp/10),z$=Dp(Jm/10)*nP,$$=-XI(Jm/10)*nP,U$={draw(e,t){const r=Ja(t*L$),a=z$*r,i=$$*r;e.moveTo(0,-r),e.lineTo(a,i);for(let s=1;s<5;++s){const l=Jm*s/5,d=XI(l),u=Dp(l);e.lineTo(u*r,-d*r),e.lineTo(d*a-u*i,u*a+d*i)}e.closePath()}},uv=Ja(3),q$={draw(e,t){const r=-Ja(t/(uv*3));e.moveTo(0,r*2),e.lineTo(-uv*r,-r),e.lineTo(uv*r,-r),e.closePath()}},ba=-.5,ja=Ja(3)/2,wj=1/Ja(12),H$=(wj/2+1)*3,W$={draw(e,t){const r=Ja(t/H$),a=r/2,i=r*wj,s=a,l=r*wj+r,d=-s,u=l;e.moveTo(a,i),e.lineTo(s,l),e.lineTo(d,u),e.lineTo(ba*a-ja*i,ja*a+ba*i),e.lineTo(ba*s-ja*l,ja*s+ba*l),e.lineTo(ba*d-ja*u,ja*d+ba*u),e.lineTo(ba*a+ja*i,ba*i-ja*a),e.lineTo(ba*s+ja*l,ba*l-ja*s),e.lineTo(ba*d+ja*u,ba*u-ja*d),e.closePath()}};function G$(e,t){let r=null,a=hw(i);e=typeof e=="function"?e:ur(e||mw),t=typeof t=="function"?t:ur(t===void 0?64:+t);function i(){let s;if(r||(r=s=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:ur(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:ur(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Fp(){}function Bp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function aP(e){this._context=e}aP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function V$(e){return new aP(e)}function iP(e){this._context=e}iP.prototype={areaStart:Fp,areaEnd:Fp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y$(e){return new iP(e)}function sP(e){this._context=e}sP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Bp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X$(e){return new sP(e)}function oP(e){this._context=e}oP.prototype={areaStart:Fp,areaEnd:Fp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function K$(e){return new oP(e)}function Q_(e){return e<0?-1:1}function Z_(e,t,r){var a=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(a||i<0&&-0),l=(r-e._y1)/(i||a<0&&-0),d=(s*i+l*a)/(a+i);return(Q_(s)+Q_(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function J_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function fv(e,t,r){var a=e._x0,i=e._y0,s=e._x1,l=e._y1,d=(s-a)/3;e._context.bezierCurveTo(a+d,i+d*t,s-d,l-d*r,s,l)}function Lp(e){this._context=e}Lp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fv(this,this._t0,J_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fv(this,J_(this,r=Z_(this,e,t)),r);break;default:fv(this,this._t0,r=Z_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lP(e){this._context=new cP(e)}(lP.prototype=Object.create(Lp.prototype)).point=function(e,t){Lp.prototype.point.call(this,t,e)};function cP(e){this._context=e}cP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,i,s){this._context.bezierCurveTo(t,e,a,r,s,i)}};function Q$(e){return new Lp(e)}function Z$(e){return new lP(e)}function dP(e){this._context=e}dP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=eE(e),i=eE(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(a[0][s],i[0][s],a[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function eE(e){var t,r=e.length-1,a,i=new Array(r),s=new Array(r),l=new Array(r);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=i[t]/s[t-1],s[t]-=a,l[t]-=a*l[t-1];for(i[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function J$(e){return new dP(e)}function t0(e,t){this._context=e,this._t=t}t0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function e9(e){return new t0(e,.5)}function t9(e){return new t0(e,0)}function r9(e){return new t0(e,1)}function cc(e,t){if((l=e.length)>1)for(var r=1,a,i,s=e[t[0]],l,d=s.length;r<l;++r)for(i=s,s=e[t[r]],a=0;a<d;++a)s[a][1]+=s[a][0]=isNaN(i[a][1])?i[a][0]:i[a][1]}function Sj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function n9(e,t){return e[t]}function a9(e){const t=[];return t.key=e,t}function i9(){var e=ur([]),t=Sj,r=cc,a=n9;function i(s){var l=Array.from(e.apply(this,arguments),a9),d,u=l.length,f=-1,p;for(const x of s)for(d=0,++f;d<u;++d)(l[d][f]=[0,+a(x,l[d].key,f,s)]).data=x;for(d=0,p=pw(t(l));d<u;++d)l[p[d]].index=d;return r(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:ur(Array.from(s)),i):e},i.value=function(s){return arguments.length?(a=typeof s=="function"?s:ur(+s),i):a},i.order=function(s){return arguments.length?(t=s==null?Sj:typeof s=="function"?s:ur(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??cc,i):r},i}function s9(e,t){if((a=e.length)>0){for(var r,a,i=0,s=e[0].length,l;i<s;++i){for(l=r=0;r<a;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<a;++r)e[r][i][1]/=l}cc(e,t)}}function o9(e,t){if((i=e.length)>0){for(var r=0,a=e[t[0]],i,s=a.length;r<s;++r){for(var l=0,d=0;l<i;++l)d+=e[l][r][1]||0;a[r][1]+=a[r][0]=-d/2}cc(e,t)}}function l9(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,a=1,i,s,l;a<s;++a){for(var d=0,u=0,f=0;d<l;++d){for(var p=e[t[d]],x=p[a][1]||0,g=p[a-1][1]||0,v=(x-g)/2,j=0;j<d;++j){var b=e[t[j]],y=b[a][1]||0,C=b[a-1][1]||0;v+=y-C}u+=x,f+=v*x}i[a-1][1]+=i[a-1][0]=r,u&&(r-=f/u)}i[a-1][1]+=i[a-1][0]=r,cc(e,t)}}function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}var c9=["type","size","sizeType"];function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Nj.apply(this,arguments)}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function rE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(a){d9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function d9(e,t,r){return t=u9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u9(e){var t=f9(e,"string");return Ou(t)=="symbol"?t:t+""}function f9(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ou(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h9(e,t){if(e==null)return{};var r=p9(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function p9(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var uP={symbolCircle:mw,symbolCross:D$,symbolDiamond:F$,symbolSquare:B$,symbolStar:U$,symbolTriangle:q$,symbolWye:W$},m9=Math.PI/180,x9=function(t){var r="symbol".concat(Zm(t));return uP[r]||mw},g9=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*m9;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},y9=function(t,r){uP["symbol".concat(Zm(t))]=r},xw=function(t){var r=t.type,a=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,l=t.sizeType,d=l===void 0?"area":l,u=h9(t,c9),f=rE(rE({},u),{},{type:a,size:s,sizeType:d}),p=function(){var y=x9(a),C=G$().type(y).size(g9(s,d,a));return C()},x=f.className,g=f.cx,v=f.cy,j=It(f,!0);return g===+g&&v===+v&&s===+s?Te.createElement("path",Nj({},j,{className:Lt("recharts-symbols",x),transform:"translate(".concat(g,", ").concat(v,")"),d:p()})):null};xw.registerSymbol=y9;function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tj.apply(this,arguments)}function nE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function v9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(r),!0).forEach(function(a){ku(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function b9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j9(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,hP(a.key),a)}}function w9(e,t,r){return t&&j9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S9(e,t,r){return t=zp(t),N9(e,fP()?Reflect.construct(t,r||[],zp(e).constructor):t.apply(e,r))}function N9(e,t){if(t&&(dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T9(e)}function T9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fP=function(){return!!e})()}function zp(e){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zp(e)}function C9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cj(e,t)}function Cj(e,t){return Cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Cj(e,t)}function ku(e,t,r){return t=hP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hP(e){var t=A9(e,"string");return dc(t)=="symbol"?t:t+""}function A9(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(dc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wa=32,gw=function(e){function t(){return b9(this,t),S9(this,t,arguments)}return C9(t,e),w9(t,[{key:"renderIcon",value:function(a){var i=this.props.inactiveColor,s=wa/2,l=wa/6,d=wa/3,u=a.inactive?i:a.color;if(a.type==="plainline")return Te.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:s,x2:wa,y2:s,className:"recharts-legend-icon"});if(a.type==="line")return Te.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(d,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*d,",").concat(s,`
            H`).concat(wa,"M").concat(2*d,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(d,",").concat(s),className:"recharts-legend-icon"});if(a.type==="rect")return Te.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(wa/8,"h").concat(wa,"v").concat(wa*3/4,"h").concat(-wa,"z"),className:"recharts-legend-icon"});if(Te.isValidElement(a.legendIcon)){var f=v9({},a);return delete f.legendIcon,Te.cloneElement(a.legendIcon,f)}return Te.createElement(xw,{fill:u,cx:s,cy:s,size:wa,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,i=this.props,s=i.payload,l=i.iconSize,d=i.layout,u=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:wa,height:wa},x={display:d==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,j){var b=v.formatter||u,y=Lt(ku(ku({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var C=At(v.value)?null:v.value;Wi(!At(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=v.inactive?f:v.color;return Te.createElement("li",Tj({className:y,style:x,key:"legend-item-".concat(j)},Rp(a.props,v,j)),Te.createElement(yj,{width:l,height:l,viewBox:p,style:g},a.renderIcon(v)),Te.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},b?b(C,v,j):C))})}},{key:"render",value:function(){var a=this.props,i=a.payload,s=a.layout,l=a.align;if(!i||!i.length)return null;var d={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return Te.createElement("ul",{className:"recharts-default-legend",style:d},this.renderItems())}}])}(N.PureComponent);ku(gw,"displayName","Legend");ku(gw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hv,aE;function _9(){if(aE)return hv;aE=1;var e=Xm();function t(){this.__data__=new e,this.size=0}return hv=t,hv}var pv,iE;function E9(){if(iE)return pv;iE=1;function e(t){var r=this.__data__,a=r.delete(t);return this.size=r.size,a}return pv=e,pv}var mv,sE;function O9(){if(sE)return mv;sE=1;function e(t){return this.__data__.get(t)}return mv=e,mv}var xv,oE;function k9(){if(oE)return xv;oE=1;function e(t){return this.__data__.has(t)}return xv=e,xv}var gv,lE;function I9(){if(lE)return gv;lE=1;var e=Xm(),t=ow(),r=lw(),a=200;function i(s,l){var d=this.__data__;if(d instanceof e){var u=d.__data__;if(!t||u.length<a-1)return u.push([s,l]),this.size=++d.size,this;d=this.__data__=new r(u)}return d.set(s,l),this.size=d.size,this}return gv=i,gv}var yv,cE;function pP(){if(cE)return yv;cE=1;var e=Xm(),t=_9(),r=E9(),a=O9(),i=k9(),s=I9();function l(d){var u=this.__data__=new e(d);this.size=u.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,yv=l,yv}var vv,dE;function P9(){if(dE)return vv;dE=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return vv=t,vv}var bv,uE;function R9(){if(uE)return bv;uE=1;function e(t){return this.__data__.has(t)}return bv=e,bv}var jv,fE;function mP(){if(fE)return jv;fE=1;var e=lw(),t=P9(),r=R9();function a(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new e;++s<l;)this.add(i[s])}return a.prototype.add=a.prototype.push=t,a.prototype.has=r,jv=a,jv}var wv,hE;function xP(){if(hE)return wv;hE=1;function e(t,r){for(var a=-1,i=t==null?0:t.length;++a<i;)if(r(t[a],a,t))return!0;return!1}return wv=e,wv}var Sv,pE;function gP(){if(pE)return Sv;pE=1;function e(t,r){return t.has(r)}return Sv=e,Sv}var Nv,mE;function yP(){if(mE)return Nv;mE=1;var e=mP(),t=xP(),r=gP(),a=1,i=2;function s(l,d,u,f,p,x){var g=u&a,v=l.length,j=d.length;if(v!=j&&!(g&&j>v))return!1;var b=x.get(l),y=x.get(d);if(b&&y)return b==d&&y==l;var C=-1,A=!0,E=u&i?new e:void 0;for(x.set(l,d),x.set(d,l);++C<v;){var S=l[C],T=d[C];if(f)var _=g?f(T,S,C,d,l,x):f(S,T,C,l,d,x);if(_!==void 0){if(_)continue;A=!1;break}if(E){if(!t(d,function(P,L){if(!r(E,L)&&(S===P||p(S,P,u,f,x)))return E.push(L)})){A=!1;break}}else if(!(S===T||p(S,T,u,f,x))){A=!1;break}}return x.delete(l),x.delete(d),A}return Nv=s,Nv}var Tv,xE;function D9(){if(xE)return Tv;xE=1;var e=vi(),t=e.Uint8Array;return Tv=t,Tv}var Cv,gE;function M9(){if(gE)return Cv;gE=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(i,s){a[++r]=[s,i]}),a}return Cv=e,Cv}var Av,yE;function yw(){if(yE)return Av;yE=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(i){a[++r]=i}),a}return Av=e,Av}var _v,vE;function F9(){if(vE)return _v;vE=1;var e=Tf(),t=D9(),r=sw(),a=yP(),i=M9(),s=yw(),l=1,d=2,u="[object Boolean]",f="[object Date]",p="[object Error]",x="[object Map]",g="[object Number]",v="[object RegExp]",j="[object Set]",b="[object String]",y="[object Symbol]",C="[object ArrayBuffer]",A="[object DataView]",E=e?e.prototype:void 0,S=E?E.valueOf:void 0;function T(_,P,L,D,B,M,k){switch(L){case A:if(_.byteLength!=P.byteLength||_.byteOffset!=P.byteOffset)return!1;_=_.buffer,P=P.buffer;case C:return!(_.byteLength!=P.byteLength||!M(new t(_),new t(P)));case u:case f:case g:return r(+_,+P);case p:return _.name==P.name&&_.message==P.message;case v:case b:return _==P+"";case x:var W=i;case j:var F=D&l;if(W||(W=s),_.size!=P.size&&!F)return!1;var I=k.get(_);if(I)return I==P;D|=d,k.set(_,P);var R=a(W(_),W(P),D,B,M,k);return k.delete(_),R;case y:if(S)return S.call(_)==S.call(P)}return!1}return _v=T,_v}var Ev,bE;function vP(){if(bE)return Ev;bE=1;function e(t,r){for(var a=-1,i=r.length,s=t.length;++a<i;)t[s+a]=r[a];return t}return Ev=e,Ev}var Ov,jE;function B9(){if(jE)return Ov;jE=1;var e=vP(),t=Gn();function r(a,i,s){var l=i(a);return t(a)?l:e(l,s(a))}return Ov=r,Ov}var kv,wE;function L9(){if(wE)return kv;wE=1;function e(t,r){for(var a=-1,i=t==null?0:t.length,s=0,l=[];++a<i;){var d=t[a];r(d,a,t)&&(l[s++]=d)}return l}return kv=e,kv}var Iv,SE;function z9(){if(SE)return Iv;SE=1;function e(){return[]}return Iv=e,Iv}var Pv,NE;function $9(){if(NE)return Pv;NE=1;var e=L9(),t=z9(),r=Object.prototype,a=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(d){return a.call(l,d)}))}:t;return Pv=s,Pv}var Rv,TE;function U9(){if(TE)return Rv;TE=1;function e(t,r){for(var a=-1,i=Array(t);++a<t;)i[a]=r(a);return i}return Rv=e,Rv}var Dv,CE;function q9(){if(CE)return Dv;CE=1;var e=as(),t=is(),r="[object Arguments]";function a(i){return t(i)&&e(i)==r}return Dv=a,Dv}var Mv,AE;function vw(){if(AE)return Mv;AE=1;var e=q9(),t=is(),r=Object.prototype,a=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(l){return t(l)&&a.call(l,"callee")&&!i.call(l,"callee")};return Mv=s,Mv}var du={exports:{}},Fv,_E;function H9(){if(_E)return Fv;_E=1;function e(){return!1}return Fv=e,Fv}du.exports;var EE;function bP(){return EE||(EE=1,function(e,t){var r=vi(),a=H9(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,l=s&&s.exports===i,d=l?r.Buffer:void 0,u=d?d.isBuffer:void 0,f=u||a;e.exports=f}(du,du.exports)),du.exports}var Bv,OE;function bw(){if(OE)return Bv;OE=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(a,i){var s=typeof a;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<i}return Bv=r,Bv}var Lv,kE;function jw(){if(kE)return Lv;kE=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Lv=t,Lv}var zv,IE;function W9(){if(IE)return zv;IE=1;var e=as(),t=jw(),r=is(),a="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",d="[object Error]",u="[object Function]",f="[object Map]",p="[object Number]",x="[object Object]",g="[object RegExp]",v="[object Set]",j="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",C="[object DataView]",A="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",_="[object Int32Array]",P="[object Uint8Array]",L="[object Uint8ClampedArray]",D="[object Uint16Array]",B="[object Uint32Array]",M={};M[A]=M[E]=M[S]=M[T]=M[_]=M[P]=M[L]=M[D]=M[B]=!0,M[a]=M[i]=M[y]=M[s]=M[C]=M[l]=M[d]=M[u]=M[f]=M[p]=M[x]=M[g]=M[v]=M[j]=M[b]=!1;function k(W){return r(W)&&t(W.length)&&!!M[e(W)]}return zv=k,zv}var $v,PE;function jP(){if(PE)return $v;PE=1;function e(t){return function(r){return t(r)}}return $v=e,$v}var uu={exports:{}};uu.exports;var RE;function G9(){return RE||(RE=1,function(e,t){var r=$I(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s&&r.process,d=function(){try{var u=i&&i.require&&i.require("util").types;return u||l&&l.binding&&l.binding("util")}catch{}}();e.exports=d}(uu,uu.exports)),uu.exports}var Uv,DE;function wP(){if(DE)return Uv;DE=1;var e=W9(),t=jP(),r=G9(),a=r&&r.isTypedArray,i=a?t(a):e;return Uv=i,Uv}var qv,ME;function V9(){if(ME)return qv;ME=1;var e=U9(),t=vw(),r=Gn(),a=bP(),i=bw(),s=wP(),l=Object.prototype,d=l.hasOwnProperty;function u(f,p){var x=r(f),g=!x&&t(f),v=!x&&!g&&a(f),j=!x&&!g&&!v&&s(f),b=x||g||v||j,y=b?e(f.length,String):[],C=y.length;for(var A in f)(p||d.call(f,A))&&!(b&&(A=="length"||v&&(A=="offset"||A=="parent")||j&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,C)))&&y.push(A);return y}return qv=u,qv}var Hv,FE;function Y9(){if(FE)return Hv;FE=1;var e=Object.prototype;function t(r){var a=r&&r.constructor,i=typeof a=="function"&&a.prototype||e;return r===i}return Hv=t,Hv}var Wv,BE;function SP(){if(BE)return Wv;BE=1;function e(t,r){return function(a){return t(r(a))}}return Wv=e,Wv}var Gv,LE;function X9(){if(LE)return Gv;LE=1;var e=SP(),t=e(Object.keys,Object);return Gv=t,Gv}var Vv,zE;function K9(){if(zE)return Vv;zE=1;var e=Y9(),t=X9(),r=Object.prototype,a=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var l=[];for(var d in Object(s))a.call(s,d)&&d!="constructor"&&l.push(d);return l}return Vv=i,Vv}var Yv,$E;function _f(){if($E)return Yv;$E=1;var e=iw(),t=jw();function r(a){return a!=null&&t(a.length)&&!e(a)}return Yv=r,Yv}var Xv,UE;function r0(){if(UE)return Xv;UE=1;var e=V9(),t=K9(),r=_f();function a(i){return r(i)?e(i):t(i)}return Xv=a,Xv}var Kv,qE;function Q9(){if(qE)return Kv;qE=1;var e=B9(),t=$9(),r=r0();function a(i){return e(i,r,t)}return Kv=a,Kv}var Qv,HE;function Z9(){if(HE)return Qv;HE=1;var e=Q9(),t=1,r=Object.prototype,a=r.hasOwnProperty;function i(s,l,d,u,f,p){var x=d&t,g=e(s),v=g.length,j=e(l),b=j.length;if(v!=b&&!x)return!1;for(var y=v;y--;){var C=g[y];if(!(x?C in l:a.call(l,C)))return!1}var A=p.get(s),E=p.get(l);if(A&&E)return A==l&&E==s;var S=!0;p.set(s,l),p.set(l,s);for(var T=x;++y<v;){C=g[y];var _=s[C],P=l[C];if(u)var L=x?u(P,_,C,l,s,p):u(_,P,C,s,l,p);if(!(L===void 0?_===P||f(_,P,d,u,p):L)){S=!1;break}T||(T=C=="constructor")}if(S&&!T){var D=s.constructor,B=l.constructor;D!=B&&"constructor"in s&&"constructor"in l&&!(typeof D=="function"&&D instanceof D&&typeof B=="function"&&B instanceof B)&&(S=!1)}return p.delete(s),p.delete(l),S}return Qv=i,Qv}var Zv,WE;function J9(){if(WE)return Zv;WE=1;var e=Vo(),t=vi(),r=e(t,"DataView");return Zv=r,Zv}var Jv,GE;function eU(){if(GE)return Jv;GE=1;var e=Vo(),t=vi(),r=e(t,"Promise");return Jv=r,Jv}var eb,VE;function NP(){if(VE)return eb;VE=1;var e=Vo(),t=vi(),r=e(t,"Set");return eb=r,eb}var tb,YE;function tU(){if(YE)return tb;YE=1;var e=Vo(),t=vi(),r=e(t,"WeakMap");return tb=r,tb}var rb,XE;function rU(){if(XE)return rb;XE=1;var e=J9(),t=ow(),r=eU(),a=NP(),i=tU(),s=as(),l=UI(),d="[object Map]",u="[object Object]",f="[object Promise]",p="[object Set]",x="[object WeakMap]",g="[object DataView]",v=l(e),j=l(t),b=l(r),y=l(a),C=l(i),A=s;return(e&&A(new e(new ArrayBuffer(1)))!=g||t&&A(new t)!=d||r&&A(r.resolve())!=f||a&&A(new a)!=p||i&&A(new i)!=x)&&(A=function(E){var S=s(E),T=S==u?E.constructor:void 0,_=T?l(T):"";if(_)switch(_){case v:return g;case j:return d;case b:return f;case y:return p;case C:return x}return S}),rb=A,rb}var nb,KE;function nU(){if(KE)return nb;KE=1;var e=pP(),t=yP(),r=F9(),a=Z9(),i=rU(),s=Gn(),l=bP(),d=wP(),u=1,f="[object Arguments]",p="[object Array]",x="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function j(b,y,C,A,E,S){var T=s(b),_=s(y),P=T?p:i(b),L=_?p:i(y);P=P==f?x:P,L=L==f?x:L;var D=P==x,B=L==x,M=P==L;if(M&&l(b)){if(!l(y))return!1;T=!0,D=!1}if(M&&!D)return S||(S=new e),T||d(b)?t(b,y,C,A,E,S):r(b,y,P,C,A,E,S);if(!(C&u)){var k=D&&v.call(b,"__wrapped__"),W=B&&v.call(y,"__wrapped__");if(k||W){var F=k?b.value():b,I=W?y.value():y;return S||(S=new e),E(F,I,C,A,S)}}return M?(S||(S=new e),a(b,y,C,A,E,S)):!1}return nb=j,nb}var ab,QE;function ww(){if(QE)return ab;QE=1;var e=nU(),t=is();function r(a,i,s,l,d){return a===i?!0:a==null||i==null||!t(a)&&!t(i)?a!==a&&i!==i:e(a,i,s,l,r,d)}return ab=r,ab}var ib,ZE;function aU(){if(ZE)return ib;ZE=1;var e=pP(),t=ww(),r=1,a=2;function i(s,l,d,u){var f=d.length,p=f,x=!u;if(s==null)return!p;for(s=Object(s);f--;){var g=d[f];if(x&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++f<p;){g=d[f];var v=g[0],j=s[v],b=g[1];if(x&&g[2]){if(j===void 0&&!(v in s))return!1}else{var y=new e;if(u)var C=u(j,b,v,s,l,y);if(!(C===void 0?t(b,j,r|a,u,y):C))return!1}}return!0}return ib=i,ib}var sb,JE;function TP(){if(JE)return sb;JE=1;var e=Ys();function t(r){return r===r&&!e(r)}return sb=t,sb}var ob,eO;function iU(){if(eO)return ob;eO=1;var e=TP(),t=r0();function r(a){for(var i=t(a),s=i.length;s--;){var l=i[s],d=a[l];i[s]=[l,d,e(d)]}return i}return ob=r,ob}var lb,tO;function CP(){if(tO)return lb;tO=1;function e(t,r){return function(a){return a==null?!1:a[t]===r&&(r!==void 0||t in Object(a))}}return lb=e,lb}var cb,rO;function sU(){if(rO)return cb;rO=1;var e=aU(),t=iU(),r=CP();function a(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(l){return l===i||e(l,i,s)}}return cb=a,cb}var db,nO;function oU(){if(nO)return db;nO=1;function e(t,r){return t!=null&&r in Object(t)}return db=e,db}var ub,aO;function lU(){if(aO)return ub;aO=1;var e=WI(),t=vw(),r=Gn(),a=bw(),i=jw(),s=Qm();function l(d,u,f){u=e(u,d);for(var p=-1,x=u.length,g=!1;++p<x;){var v=s(u[p]);if(!(g=d!=null&&f(d,v)))break;d=d[v]}return g||++p!=x?g:(x=d==null?0:d.length,!!x&&i(x)&&a(v,x)&&(r(d)||t(d)))}return ub=l,ub}var fb,iO;function cU(){if(iO)return fb;iO=1;var e=oU(),t=lU();function r(a,i){return a!=null&&t(a,i,e)}return fb=r,fb}var hb,sO;function dU(){if(sO)return hb;sO=1;var e=ww(),t=GI(),r=cU(),a=aw(),i=TP(),s=CP(),l=Qm(),d=1,u=2;function f(p,x){return a(p)&&i(x)?s(l(p),x):function(g){var v=t(g,p);return v===void 0&&v===x?r(g,p):e(x,v,d|u)}}return hb=f,hb}var pb,oO;function zc(){if(oO)return pb;oO=1;function e(t){return t}return pb=e,pb}var mb,lO;function uU(){if(lO)return mb;lO=1;function e(t){return function(r){return r==null?void 0:r[t]}}return mb=e,mb}var xb,cO;function fU(){if(cO)return xb;cO=1;var e=dw();function t(r){return function(a){return e(a,r)}}return xb=t,xb}var gb,dO;function hU(){if(dO)return gb;dO=1;var e=uU(),t=fU(),r=aw(),a=Qm();function i(s){return r(s)?e(a(s)):t(s)}return gb=i,gb}var yb,uO;function Xs(){if(uO)return yb;uO=1;var e=sU(),t=dU(),r=zc(),a=Gn(),i=hU();function s(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?a(l)?t(l[0],l[1]):e(l):i(l)}return yb=s,yb}var vb,fO;function AP(){if(fO)return vb;fO=1;function e(t,r,a,i){for(var s=t.length,l=a+(i?1:-1);i?l--:++l<s;)if(r(t[l],l,t))return l;return-1}return vb=e,vb}var bb,hO;function pU(){if(hO)return bb;hO=1;function e(t){return t!==t}return bb=e,bb}var jb,pO;function mU(){if(pO)return jb;pO=1;function e(t,r,a){for(var i=a-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return jb=e,jb}var wb,mO;function xU(){if(mO)return wb;mO=1;var e=AP(),t=pU(),r=mU();function a(i,s,l){return s===s?r(i,s,l):e(i,t,l)}return wb=a,wb}var Sb,xO;function gU(){if(xO)return Sb;xO=1;var e=xU();function t(r,a){var i=r==null?0:r.length;return!!i&&e(r,a,0)>-1}return Sb=t,Sb}var Nb,gO;function yU(){if(gO)return Nb;gO=1;function e(t,r,a){for(var i=-1,s=t==null?0:t.length;++i<s;)if(a(r,t[i]))return!0;return!1}return Nb=e,Nb}var Tb,yO;function vU(){if(yO)return Tb;yO=1;function e(){}return Tb=e,Tb}var Cb,vO;function bU(){if(vO)return Cb;vO=1;var e=NP(),t=vU(),r=yw(),a=1/0,i=e&&1/r(new e([,-0]))[1]==a?function(s){return new e(s)}:t;return Cb=i,Cb}var Ab,bO;function jU(){if(bO)return Ab;bO=1;var e=mP(),t=gU(),r=yU(),a=gP(),i=bU(),s=yw(),l=200;function d(u,f,p){var x=-1,g=t,v=u.length,j=!0,b=[],y=b;if(p)j=!1,g=r;else if(v>=l){var C=f?null:i(u);if(C)return s(C);j=!1,g=a,y=new e}else y=f?[]:b;e:for(;++x<v;){var A=u[x],E=f?f(A):A;if(A=p||A!==0?A:0,j&&E===E){for(var S=y.length;S--;)if(y[S]===E)continue e;f&&y.push(E),b.push(A)}else g(y,E,p)||(y!==b&&y.push(E),b.push(A))}return b}return Ab=d,Ab}var _b,jO;function wU(){if(jO)return _b;jO=1;var e=Xs(),t=jU();function r(a,i){return a&&a.length?t(a,e(i,2)):[]}return _b=r,_b}var SU=wU();const wO=ir(SU);function _P(e,t,r){return t===!0?wO(e,r):At(t)?wO(e,t):e}function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}var NU=["ref"];function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(a){n0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function TU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NO(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,OP(a.key),a)}}function CU(e,t,r){return t&&NO(e.prototype,t),r&&NO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AU(e,t,r){return t=$p(t),_U(e,EP()?Reflect.construct(t,r||[],$p(e).constructor):t.apply(e,r))}function _U(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EU(e)}function EU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!e})()}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(e)}function OU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aj(e,t)}function Aj(e,t){return Aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Aj(e,t)}function n0(e,t,r){return t=OP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OP(e){var t=kU(e,"string");return uc(t)=="symbol"?t:t+""}function kU(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(uc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IU(e,t){if(e==null)return{};var r=PU(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function PU(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function RU(e){return e.value}function DU(e,t){if(Te.isValidElement(e))return Te.cloneElement(e,t);if(typeof e=="function")return Te.createElement(e,t);t.ref;var r=IU(t,NU);return Te.createElement(gw,r)}var TO=1,ec=function(e){function t(){var r;TU(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=AU(this,t,[].concat(i)),n0(r,"lastBoundingBox",{width:-1,height:-1}),r}return OU(t,e),CU(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>TO||Math.abs(i.height-this.lastBoundingBox.height)>TO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,a&&a(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Di({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var i=this.props,s=i.layout,l=i.align,d=i.verticalAlign,u=i.margin,f=i.chartWidth,p=i.chartHeight,x,g;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();x={left:((f||0)-v.width)/2}}else x=l==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(d==="middle"){var j=this.getBBoxSnapshot();g={top:((p||0)-j.height)/2}}else g=d==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Di(Di({},x),g)}},{key:"render",value:function(){var a=this,i=this.props,s=i.content,l=i.width,d=i.height,u=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,x=Di(Di({position:"absolute",width:l||"auto",height:d||"auto"},this.getDefaultPosition(u)),u);return Te.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:function(v){a.wrapperNode=v}},DU(s,Di(Di({},this.props),{},{payload:_P(p,f,RU)})))}}],[{key:"getWithHeight",value:function(a,i){var s=Di(Di({},this.defaultProps),a.props),l=s.layout;return l==="vertical"&&nt(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||i}:null}}])}(N.PureComponent);n0(ec,"displayName","Legend");n0(ec,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Eb,CO;function MU(){if(CO)return Eb;CO=1;var e=Tf(),t=vw(),r=Gn(),a=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(a&&s&&s[a])}return Eb=i,Eb}var Ob,AO;function kP(){if(AO)return Ob;AO=1;var e=vP(),t=MU();function r(a,i,s,l,d){var u=-1,f=a.length;for(s||(s=t),d||(d=[]);++u<f;){var p=a[u];i>0&&s(p)?i>1?r(p,i-1,s,l,d):e(d,p):l||(d[d.length]=p)}return d}return Ob=r,Ob}var kb,_O;function FU(){if(_O)return kb;_O=1;function e(t){return function(r,a,i){for(var s=-1,l=Object(r),d=i(r),u=d.length;u--;){var f=d[t?u:++s];if(a(l[f],f,l)===!1)break}return r}}return kb=e,kb}var Ib,EO;function BU(){if(EO)return Ib;EO=1;var e=FU(),t=e();return Ib=t,Ib}var Pb,OO;function IP(){if(OO)return Pb;OO=1;var e=BU(),t=r0();function r(a,i){return a&&e(a,i,t)}return Pb=r,Pb}var Rb,kO;function LU(){if(kO)return Rb;kO=1;var e=_f();function t(r,a){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var l=i.length,d=a?l:-1,u=Object(i);(a?d--:++d<l)&&s(u[d],d,u)!==!1;);return i}}return Rb=t,Rb}var Db,IO;function Sw(){if(IO)return Db;IO=1;var e=IP(),t=LU(),r=t(e);return Db=r,Db}var Mb,PO;function PP(){if(PO)return Mb;PO=1;var e=Sw(),t=_f();function r(a,i){var s=-1,l=t(a)?Array(a.length):[];return e(a,function(d,u,f){l[++s]=i(d,u,f)}),l}return Mb=r,Mb}var Fb,RO;function zU(){if(RO)return Fb;RO=1;function e(t,r){var a=t.length;for(t.sort(r);a--;)t[a]=t[a].value;return t}return Fb=e,Fb}var Bb,DO;function $U(){if(DO)return Bb;DO=1;var e=Bc();function t(r,a){if(r!==a){var i=r!==void 0,s=r===null,l=r===r,d=e(r),u=a!==void 0,f=a===null,p=a===a,x=e(a);if(!f&&!x&&!d&&r>a||d&&u&&p&&!f&&!x||s&&u&&p||!i&&p||!l)return 1;if(!s&&!d&&!x&&r<a||x&&i&&l&&!s&&!d||f&&i&&l||!u&&l||!p)return-1}return 0}return Bb=t,Bb}var Lb,MO;function UU(){if(MO)return Lb;MO=1;var e=$U();function t(r,a,i){for(var s=-1,l=r.criteria,d=a.criteria,u=l.length,f=i.length;++s<u;){var p=e(l[s],d[s]);if(p){if(s>=f)return p;var x=i[s];return p*(x=="desc"?-1:1)}}return r.index-a.index}return Lb=t,Lb}var zb,FO;function qU(){if(FO)return zb;FO=1;var e=cw(),t=dw(),r=Xs(),a=PP(),i=zU(),s=jP(),l=UU(),d=zc(),u=Gn();function f(p,x,g){x.length?x=e(x,function(b){return u(b)?function(y){return t(y,b.length===1?b[0]:b)}:b}):x=[d];var v=-1;x=e(x,s(r));var j=a(p,function(b,y,C){var A=e(x,function(E){return E(b)});return{criteria:A,index:++v,value:b}});return i(j,function(b,y){return l(b,y,g)})}return zb=f,zb}var $b,BO;function HU(){if(BO)return $b;BO=1;function e(t,r,a){switch(a.length){case 0:return t.call(r);case 1:return t.call(r,a[0]);case 2:return t.call(r,a[0],a[1]);case 3:return t.call(r,a[0],a[1],a[2])}return t.apply(r,a)}return $b=e,$b}var Ub,LO;function WU(){if(LO)return Ub;LO=1;var e=HU(),t=Math.max;function r(a,i,s){return i=t(i===void 0?a.length-1:i,0),function(){for(var l=arguments,d=-1,u=t(l.length-i,0),f=Array(u);++d<u;)f[d]=l[i+d];d=-1;for(var p=Array(i+1);++d<i;)p[d]=l[d];return p[i]=s(f),e(a,this,p)}}return Ub=r,Ub}var qb,zO;function GU(){if(zO)return qb;zO=1;function e(t){return function(){return t}}return qb=e,qb}var Hb,$O;function RP(){if($O)return Hb;$O=1;var e=Vo(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Hb=t,Hb}var Wb,UO;function VU(){if(UO)return Wb;UO=1;var e=GU(),t=RP(),r=zc(),a=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return Wb=a,Wb}var Gb,qO;function YU(){if(qO)return Gb;qO=1;var e=800,t=16,r=Date.now;function a(i){var s=0,l=0;return function(){var d=r(),u=t-(d-l);if(l=d,u>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Gb=a,Gb}var Vb,HO;function XU(){if(HO)return Vb;HO=1;var e=VU(),t=YU(),r=t(e);return Vb=r,Vb}var Yb,WO;function KU(){if(WO)return Yb;WO=1;var e=zc(),t=WU(),r=XU();function a(i,s){return r(t(i,s,e),i+"")}return Yb=a,Yb}var Xb,GO;function a0(){if(GO)return Xb;GO=1;var e=sw(),t=_f(),r=bw(),a=Ys();function i(s,l,d){if(!a(d))return!1;var u=typeof l;return(u=="number"?t(d)&&r(l,d.length):u=="string"&&l in d)?e(d[l],s):!1}return Xb=i,Xb}var Kb,VO;function QU(){if(VO)return Kb;VO=1;var e=kP(),t=qU(),r=KU(),a=a0(),i=r(function(s,l){if(s==null)return[];var d=l.length;return d>1&&a(s,l[0],l[1])?l=[]:d>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),t(s,e(l,1),[])});return Kb=i,Kb}var ZU=QU();const Nw=ir(ZU);function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_j.apply(this,arguments)}function JU(e,t){return nq(e)||rq(e,t)||tq(e,t)||eq()}function eq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tq(e,t){if(e){if(typeof e=="string")return YO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YO(e,t)}}function YO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function rq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function nq(e){if(Array.isArray(e))return e}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(a){aq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function aq(e,t,r){return t=iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=sq(e,"string");return Iu(t)=="symbol"?t:t+""}function sq(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Iu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oq(e){return Array.isArray(e)&&zr(e[0])&&zr(e[1])?e.join(" ~ "):e}var lq=function(t){var r=t.separator,a=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,l=t.itemStyle,d=l===void 0?{}:l,u=t.labelStyle,f=u===void 0?{}:u,p=t.payload,x=t.formatter,g=t.itemSorter,v=t.wrapperClassName,j=t.labelClassName,b=t.label,y=t.labelFormatter,C=t.accessibilityLayer,A=C===void 0?!1:C,E=function(){if(p&&p.length){var k={padding:0,margin:0},W=(g?Nw(p,g):p).map(function(F,I){if(F.type==="none")return null;var R=Qb({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},d),X=F.formatter||x||oq,ne=F.value,ge=F.name,q=ne,ee=ge;if(X&&q!=null&&ee!=null){var z=X(ne,ge,F,I,p);if(Array.isArray(z)){var U=JU(z,2);q=U[0],ee=U[1]}else q=z}return Te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:R},zr(ee)?Te.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,zr(ee)?Te.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,Te.createElement("span",{className:"recharts-tooltip-item-value"},q),Te.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return Te.createElement("ul",{className:"recharts-tooltip-item-list",style:k},W)}return null},S=Qb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),T=Qb({margin:0},f),_=!kt(b),P=_?b:"",L=Lt("recharts-default-tooltip",v),D=Lt("recharts-tooltip-label",j);_&&y&&p!==void 0&&p!==null&&(P=y(b,p));var B=A?{role:"status","aria-live":"assertive"}:{};return Te.createElement("div",_j({className:L,style:S},B),Te.createElement("p",{className:D,style:T},Te.isValidElement(P)?P:"".concat(P)),E())};function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function rp(e,t,r){return t=cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=dq(e,"string");return Pu(t)=="symbol"?t:t+""}function dq(e,t){if(Pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Pu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zd="recharts-tooltip-wrapper",uq={visibility:"hidden"};function fq(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return Lt(Zd,rp(rp(rp(rp({},"".concat(Zd,"-right"),nt(r)&&t&&nt(t.x)&&r>=t.x),"".concat(Zd,"-left"),nt(r)&&t&&nt(t.x)&&r<t.x),"".concat(Zd,"-bottom"),nt(a)&&t&&nt(t.y)&&a>=t.y),"".concat(Zd,"-top"),nt(a)&&t&&nt(t.y)&&a<t.y))}function KO(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,i=e.offsetTopLeft,s=e.position,l=e.reverseDirection,d=e.tooltipDimension,u=e.viewBox,f=e.viewBoxDimension;if(s&&nt(s[a]))return s[a];var p=r[a]-d-i,x=r[a]+i;if(t[a])return l[a]?p:x;if(l[a]){var g=p,v=u[a];return g<v?Math.max(x,u[a]):Math.max(p,u[a])}var j=x+d,b=u[a]+f;return j>b?Math.max(p,u[a]):Math.max(x,u[a])}function hq(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function pq(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipBox,d=e.useTranslate3d,u=e.viewBox,f,p,x;return l.height>0&&l.width>0&&r?(p=KO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),x=KO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),f=hq({translateX:p,translateY:x,useTranslate3d:d})):f=uq,{cssProperties:f,cssClasses:fq({translateX:p,translateY:x,coordinate:r})}}function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function ZO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(a){Oj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xq(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,MP(a.key),a)}}function gq(e,t,r){return t&&xq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yq(e,t,r){return t=Up(t),vq(e,DP()?Reflect.construct(t,r||[],Up(e).constructor):t.apply(e,r))}function vq(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bq(e)}function bq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DP=function(){return!!e})()}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(e)}function jq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ej(e,t)}function Ej(e,t){return Ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Ej(e,t)}function Oj(e,t,r){return t=MP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MP(e){var t=wq(e,"string");return fc(t)=="symbol"?t:t+""}function wq(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(fc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JO=1,Sq=function(e){function t(){var r;mq(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=yq(this,t,[].concat(i)),Oj(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Oj(r,"handleKeyDown",function(l){if(l.key==="Escape"){var d,u,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&d!==void 0?d:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return jq(t,e),gq(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>JO||Math.abs(a.height-this.state.lastBoundingBox.height)>JO)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,d=i.animationDuration,u=i.animationEasing,f=i.children,p=i.coordinate,x=i.hasPayload,g=i.isAnimationActive,v=i.offset,j=i.position,b=i.reverseDirection,y=i.useTranslate3d,C=i.viewBox,A=i.wrapperStyle,E=pq({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:v,position:j,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:C}),S=E.cssClasses,T=E.cssProperties,_=ZO(ZO({transition:g&&s?"transform ".concat(d,"ms ").concat(u):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&x?"visible":"hidden",position:"absolute",top:0,left:0},A);return Te.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(L){a.wrapperNode=L}},f)}}])}(N.PureComponent),Nq=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},$c={isSsr:Nq()};function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function t4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(a){Tw(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cq(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,BP(a.key),a)}}function Aq(e,t,r){return t&&Cq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _q(e,t,r){return t=qp(t),Eq(e,FP()?Reflect.construct(t,r||[],qp(e).constructor):t.apply(e,r))}function Eq(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oq(e)}function Oq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FP=function(){return!!e})()}function qp(e){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(e)}function kq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kj(e,t)}function kj(e,t){return kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},kj(e,t)}function Tw(e,t,r){return t=BP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BP(e){var t=Iq(e,"string");return hc(t)=="symbol"?t:t+""}function Iq(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(hc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Pq(e){return e.dataKey}function Rq(e,t){return Te.isValidElement(e)?Te.cloneElement(e,t):typeof e=="function"?Te.createElement(e,t):Te.createElement(lq,t)}var $a=function(e){function t(){return Tq(this,t),_q(this,t,arguments)}return kq(t,e),Aq(t,[{key:"render",value:function(){var a=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,d=i.animationDuration,u=i.animationEasing,f=i.content,p=i.coordinate,x=i.filterNull,g=i.isAnimationActive,v=i.offset,j=i.payload,b=i.payloadUniqBy,y=i.position,C=i.reverseDirection,A=i.useTranslate3d,E=i.viewBox,S=i.wrapperStyle,T=j??[];x&&T.length&&(T=_P(j.filter(function(P){return P.value!=null&&(P.hide!==!0||a.props.includeHidden)}),b,Pq));var _=T.length>0;return Te.createElement(Sq,{allowEscapeViewBox:l,animationDuration:d,animationEasing:u,isAnimationActive:g,active:s,coordinate:p,hasPayload:_,offset:v,position:y,reverseDirection:C,useTranslate3d:A,viewBox:E,wrapperStyle:S},Rq(f,t4(t4({},this.props),{},{payload:T})))}}])}(N.PureComponent);Tw($a,"displayName","Tooltip");Tw($a,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$c.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Zb,r4;function Dq(){if(r4)return Zb;r4=1;var e=vi(),t=function(){return e.Date.now()};return Zb=t,Zb}var Jb,n4;function Mq(){if(n4)return Jb;n4=1;var e=/\s/;function t(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return Jb=t,Jb}var e1,a4;function Fq(){if(a4)return e1;a4=1;var e=Mq(),t=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return e1=r,e1}var t1,i4;function LP(){if(i4)return t1;i4=1;var e=Fq(),t=Ys(),r=Bc(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return a;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var x=s.test(f);return x||l.test(f)?d(f.slice(2),x?2:8):i.test(f)?a:+f}return t1=u,t1}var r1,s4;function Bq(){if(s4)return r1;s4=1;var e=Ys(),t=Dq(),r=LP(),a="Expected a function",i=Math.max,s=Math.min;function l(d,u,f){var p,x,g,v,j,b,y=0,C=!1,A=!1,E=!0;if(typeof d!="function")throw new TypeError(a);u=r(u)||0,e(f)&&(C=!!f.leading,A="maxWait"in f,g=A?i(r(f.maxWait)||0,u):g,E="trailing"in f?!!f.trailing:E);function S(W){var F=p,I=x;return p=x=void 0,y=W,v=d.apply(I,F),v}function T(W){return y=W,j=setTimeout(L,u),C?S(W):v}function _(W){var F=W-b,I=W-y,R=u-F;return A?s(R,g-I):R}function P(W){var F=W-b,I=W-y;return b===void 0||F>=u||F<0||A&&I>=g}function L(){var W=t();if(P(W))return D(W);j=setTimeout(L,_(W))}function D(W){return j=void 0,E&&p?S(W):(p=x=void 0,v)}function B(){j!==void 0&&clearTimeout(j),y=0,p=b=x=j=void 0}function M(){return j===void 0?v:D(t())}function k(){var W=t(),F=P(W);if(p=arguments,x=this,b=W,F){if(j===void 0)return T(b);if(A)return clearTimeout(j),j=setTimeout(L,u),S(b)}return j===void 0&&(j=setTimeout(L,u)),v}return k.cancel=B,k.flush=M,k}return r1=l,r1}var n1,o4;function Lq(){if(o4)return n1;o4=1;var e=Bq(),t=Ys(),r="Expected a function";function a(i,s,l){var d=!0,u=!0;if(typeof i!="function")throw new TypeError(r);return t(l)&&(d="leading"in l?!!l.leading:d,u="trailing"in l?!!l.trailing:u),e(i,s,{leading:d,maxWait:s,trailing:u})}return n1=a,n1}var zq=Lq();const zP=ir(zq);function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function l4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(r),!0).forEach(function(a){$q(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $q(e,t,r){return t=Uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uq(e){var t=qq(e,"string");return Ru(t)=="symbol"?t:t+""}function qq(e,t){if(Ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ru(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hq(e,t){return Yq(e)||Vq(e,t)||Gq(e,t)||Wq()}function Wq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gq(e,t){if(e){if(typeof e=="string")return c4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c4(e,t)}}function c4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Vq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function Yq(e){if(Array.isArray(e))return e}var d4=N.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,i=a===void 0?{width:-1,height:-1}:a,s=e.width,l=s===void 0?"100%":s,d=e.height,u=d===void 0?"100%":d,f=e.minWidth,p=f===void 0?0:f,x=e.minHeight,g=e.maxHeight,v=e.children,j=e.debounce,b=j===void 0?0:j,y=e.id,C=e.className,A=e.onResize,E=e.style,S=E===void 0?{}:E,T=N.useRef(null),_=N.useRef();_.current=A,N.useImperativeHandle(t,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var P=N.useState({containerWidth:i.width,containerHeight:i.height}),L=Hq(P,2),D=L[0],B=L[1],M=N.useCallback(function(W,F){B(function(I){var R=Math.round(W),X=Math.round(F);return I.containerWidth===R&&I.containerHeight===X?I:{containerWidth:R,containerHeight:X}})},[]);N.useEffect(function(){var W=function(ge){var q,ee=ge[0].contentRect,z=ee.width,U=ee.height;M(z,U),(q=_.current)===null||q===void 0||q.call(_,z,U)};b>0&&(W=zP(W,b,{trailing:!0,leading:!1}));var F=new ResizeObserver(W),I=T.current.getBoundingClientRect(),R=I.width,X=I.height;return M(R,X),F.observe(T.current),function(){F.disconnect()}},[M,b]);var k=N.useMemo(function(){var W=D.containerWidth,F=D.containerHeight;if(W<0||F<0)return null;Wi(To(l)||To(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,u),Wi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=To(l)?W:l,R=To(u)?F:u;r&&r>0&&(I?R=I/r:R&&(I=R*r),g&&R>g&&(R=g)),Wi(I>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,R,l,u,p,x,r);var X=!Array.isArray(v)&&Hi(v.type).endsWith("Chart");return Te.Children.map(v,function(ne){return Te.isValidElement(ne)?N.cloneElement(ne,np({width:I,height:R},X?{style:np({height:"100%",width:"100%",maxHeight:R,maxWidth:I},ne.props.style)}:{})):ne})},[r,v,u,g,x,p,D,l]);return Te.createElement("div",{id:y?"".concat(y):void 0,className:Lt("recharts-responsive-container",C),style:np(np({},S),{},{width:l,height:u,minWidth:p,minHeight:x,maxHeight:g}),ref:T},k)}),$P=function(t){return null};$P.displayName="Cell";function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(a){Xq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xq(e,t,r){return t=Kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=Qq(e,"string");return Du(t)=="symbol"?t:t+""}function Qq(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Du(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ml={widthCache:{},cacheCount:0},Zq=2e3,Jq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},f4="recharts_measurement_span";function eH(e){var t=Ij({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var mu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$c.isSsr)return{width:0,height:0};var a=eH(r),i=JSON.stringify({text:t,copyStyle:a});if(Ml.widthCache[i])return Ml.widthCache[i];try{var s=document.getElementById(f4);s||(s=document.createElement("span"),s.setAttribute("id",f4),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=Ij(Ij({},Jq),a);Object.assign(s.style,l),s.textContent="".concat(t);var d=s.getBoundingClientRect(),u={width:d.width,height:d.height};return Ml.widthCache[i]=u,++Ml.cacheCount>Zq&&(Ml.cacheCount=0,Ml.widthCache={}),u}catch{return{width:0,height:0}}},tH=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function Hp(e,t){return iH(e)||aH(e,t)||nH(e,t)||rH()}function rH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nH(e,t){if(e){if(typeof e=="string")return h4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h4(e,t)}}function h4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function aH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function iH(e){if(Array.isArray(e))return e}function sH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p4(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lH(a.key),a)}}function oH(e,t,r){return t&&p4(e.prototype,t),r&&p4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lH(e){var t=cH(e,"string");return Mu(t)=="symbol"?t:t+""}function cH(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Mu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var m4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fH=Object.keys(UP),Yl="NaN";function hH(e,t){return e*UP[t]}var ap=function(){function e(t,r){sH(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!dH.test(r)&&(this.num=NaN,this.unit=""),fH.includes(r)&&(this.num=hH(t,r),this.unit="px")}return oH(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,i=(a=uH.exec(r))!==null&&a!==void 0?a:[],s=Hp(i,3),l=s[1],d=s[2];return new e(parseFloat(l),d??"")}}])}();function qP(e){if(e.includes(Yl))return Yl;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=m4.exec(t))!==null&&r!==void 0?r:[],i=Hp(a,4),s=i[1],l=i[2],d=i[3],u=ap.parse(s??""),f=ap.parse(d??""),p=l==="*"?u.multiply(f):u.divide(f);if(p.isNaN())return Yl;t=t.replace(m4,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var x,g=(x=x4.exec(t))!==null&&x!==void 0?x:[],v=Hp(g,4),j=v[1],b=v[2],y=v[3],C=ap.parse(j??""),A=ap.parse(y??""),E=b==="+"?C.add(A):C.subtract(A);if(E.isNaN())return Yl;t=t.replace(x4,E.toString())}return t}var g4=/\(([^()]*)\)/;function pH(e){for(var t=e;t.includes("(");){var r=g4.exec(t),a=Hp(r,2),i=a[1];t=t.replace(g4,qP(i))}return t}function mH(e){var t=e.replace(/\s+/g,"");return t=pH(t),t=qP(t),t}function xH(e){try{return mH(e)}catch{return Yl}}function a1(e){var t=xH(e.slice(5,-1));return t===Yl?"":t}var gH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yH=["dx","dy","angle","className","breakAll"];function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pj.apply(this,arguments)}function y4(e,t){if(e==null)return{};var r=vH(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function vH(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function v4(e,t){return SH(e)||wH(e,t)||jH(e,t)||bH()}function bH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jH(e,t){if(e){if(typeof e=="string")return b4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b4(e,t)}}function b4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function wH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function SH(e){if(Array.isArray(e))return e}var HP=/[ \f\n\r\t\v\u2028\u2029]+/,WP=function(t){var r=t.children,a=t.breakAll,i=t.style;try{var s=[];kt(r)||(a?s=r.toString().split(""):s=r.toString().split(HP));var l=s.map(function(u){return{word:u,width:mu(u,i).width}}),d=a?0:mu("",i).width;return{wordsWithComputedWidth:l,spaceWidth:d}}catch{return null}},NH=function(t,r,a,i,s){var l=t.maxLines,d=t.children,u=t.style,f=t.breakAll,p=nt(l),x=d,g=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(R,X){var ne=X.word,ge=X.width,q=R[R.length-1];if(q&&(i==null||s||q.width+ge+a<Number(i)))q.words.push(ne),q.width+=ge+a;else{var ee={words:[ne],width:ge};R.push(ee)}return R},[])},v=g(r),j=function(I){return I.reduce(function(R,X){return R.width>X.width?R:X})};if(!p)return v;for(var b="",y=function(I){var R=x.slice(0,I),X=WP({breakAll:f,style:u,children:R+b}).wordsWithComputedWidth,ne=g(X),ge=ne.length>l||j(ne).width>Number(i);return[ge,ne]},C=0,A=x.length-1,E=0,S;C<=A&&E<=x.length-1;){var T=Math.floor((C+A)/2),_=T-1,P=y(_),L=v4(P,2),D=L[0],B=L[1],M=y(T),k=v4(M,1),W=k[0];if(!D&&!W&&(C=T+1),D&&W&&(A=T-1),!D&&W){S=B;break}E++}return S||v},j4=function(t){var r=kt(t)?[]:t.toString().split(HP);return[{words:r}]},TH=function(t){var r=t.width,a=t.scaleToFit,i=t.children,s=t.style,l=t.breakAll,d=t.maxLines;if((r||a)&&!$c.isSsr){var u,f,p=WP({breakAll:l,children:i,style:s});if(p){var x=p.wordsWithComputedWidth,g=p.spaceWidth;u=x,f=g}else return j4(i);return NH({breakAll:l,children:i,maxLines:d,style:s},u,f,r,a)}return j4(i)},w4="#808080",Wp=function(t){var r=t.x,a=r===void 0?0:r,i=t.y,s=i===void 0?0:i,l=t.lineHeight,d=l===void 0?"1em":l,u=t.capHeight,f=u===void 0?"0.71em":u,p=t.scaleToFit,x=p===void 0?!1:p,g=t.textAnchor,v=g===void 0?"start":g,j=t.verticalAnchor,b=j===void 0?"end":j,y=t.fill,C=y===void 0?w4:y,A=y4(t,gH),E=N.useMemo(function(){return TH({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:x,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,x,A.style,A.width]),S=A.dx,T=A.dy,_=A.angle,P=A.className,L=A.breakAll,D=y4(A,yH);if(!zr(a)||!zr(s))return null;var B=a+(nt(S)?S:0),M=s+(nt(T)?T:0),k;switch(b){case"start":k=a1("calc(".concat(f,")"));break;case"middle":k=a1("calc(".concat((E.length-1)/2," * -").concat(d," + (").concat(f," / 2))"));break;default:k=a1("calc(".concat(E.length-1," * -").concat(d,")"));break}var W=[];if(x){var F=E[0].width,I=A.width;W.push("scale(".concat((nt(I)?I/F:1)/F,")"))}return _&&W.push("rotate(".concat(_,", ").concat(B,", ").concat(M,")")),W.length&&(D.transform=W.join(" ")),Te.createElement("text",Pj({},It(D,!0),{x:B,y:M,className:Lt("recharts-text",P),textAnchor:v,fill:C.includes("url")?w4:C}),E.map(function(R,X){var ne=R.words.join(L?"":" ");return Te.createElement("tspan",{x:B,dy:X===0?k:d,key:"".concat(ne,"-").concat(X)},ne)}))};function zs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cw(e){let t,r,a;e.length!==2?(t=zs,r=(d,u)=>zs(e(d),u),a=(d,u)=>e(d)-u):(t=e===zs||e===CH?e:AH,r=e,a=e);function i(d,u,f=0,p=d.length){if(f<p){if(t(u,u)!==0)return p;do{const x=f+p>>>1;r(d[x],u)<0?f=x+1:p=x}while(f<p)}return f}function s(d,u,f=0,p=d.length){if(f<p){if(t(u,u)!==0)return p;do{const x=f+p>>>1;r(d[x],u)<=0?f=x+1:p=x}while(f<p)}return f}function l(d,u,f=0,p=d.length){const x=i(d,u,f,p-1);return x>f&&a(d[x-1],u)>-a(d[x],u)?x-1:x}return{left:i,center:l,right:s}}function AH(){return 0}function GP(e){return e===null?NaN:+e}function*_H(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const EH=Cw(zs),Ef=EH.right;Cw(GP).center;class S4 extends Map{constructor(t,r=IH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,i]of t)this.set(a,i)}get(t){return super.get(N4(this,t))}has(t){return super.has(N4(this,t))}set(t,r){return super.set(OH(this,t),r)}delete(t){return super.delete(kH(this,t))}}function N4({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function OH({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function kH({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function IH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function PH(e=zs){if(e===zs)return VP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function VP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const RH=Math.sqrt(50),DH=Math.sqrt(10),MH=Math.sqrt(2);function Gp(e,t,r){const a=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(a)),s=a/Math.pow(10,i),l=s>=RH?10:s>=DH?5:s>=MH?2:1;let d,u,f;return i<0?(f=Math.pow(10,-i)/l,d=Math.round(e*f),u=Math.round(t*f),d/f<e&&++d,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*l,d=Math.round(e/f),u=Math.round(t/f),d*f<e&&++d,u*f>t&&--u),u<d&&.5<=r&&r<2?Gp(e,t,r*2):[d,u,f]}function Rj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[i,s,l]=a?Gp(t,e,r):Gp(e,t,r);if(!(s>=i))return[];const d=s-i+1,u=new Array(d);if(a)if(l<0)for(let f=0;f<d;++f)u[f]=(s-f)/-l;else for(let f=0;f<d;++f)u[f]=(s-f)*l;else if(l<0)for(let f=0;f<d;++f)u[f]=(i+f)/-l;else for(let f=0;f<d;++f)u[f]=(i+f)*l;return u}function Dj(e,t,r){return t=+t,e=+e,r=+r,Gp(e,t,r)[2]}function Mj(e,t,r){t=+t,e=+e,r=+r;const a=t<e,i=a?Dj(t,e,r):Dj(e,t,r);return(a?-1:1)*(i<0?1/-i:i)}function T4(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function C4(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function YP(e,t,r=0,a=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(i=i===void 0?VP:PH(i);a>r;){if(a-r>600){const u=a-r+1,f=t-r+1,p=Math.log(u),x=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*x*(u-x)/u)*(f-u/2<0?-1:1),v=Math.max(r,Math.floor(t-f*x/u+g)),j=Math.min(a,Math.floor(t+(u-f)*x/u+g));YP(e,t,v,j,i)}const s=e[t];let l=r,d=a;for(Jd(e,r,t),i(e[a],s)>0&&Jd(e,r,a);l<d;){for(Jd(e,l,d),++l,--d;i(e[l],s)<0;)++l;for(;i(e[d],s)>0;)--d}i(e[r],s)===0?Jd(e,r,d):(++d,Jd(e,d,a)),d<=t&&(r=d+1),t<=d&&(a=d-1)}return e}function Jd(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function FH(e,t,r){if(e=Float64Array.from(_H(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return C4(e);if(t>=1)return T4(e);var a,i=(a-1)*t,s=Math.floor(i),l=T4(YP(e,s).subarray(0,s+1)),d=C4(e.subarray(s+1));return l+(d-l)*(i-s)}}function BH(e,t,r=GP){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,i=(a-1)*t,s=Math.floor(i),l=+r(e[s],s,e),d=+r(e[s+1],s+1,e);return l+(d-l)*(i-s)}}function LH(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var a=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++a<i;)s[a]=e+a*r;return s}function ka(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ss(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fj=Symbol("implicit");function Aw(){var e=new S4,t=[],r=[],a=Fj;function i(s){let l=e.get(s);if(l===void 0){if(a!==Fj)return a;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new S4;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return Aw(t,r).unknown(a)},ka.apply(i,arguments),i}function Fu(){var e=Aw().unknown(void 0),t=e.domain,r=e.range,a=0,i=1,s,l,d=!1,u=0,f=0,p=.5;delete e.unknown;function x(){var g=t().length,v=i<a,j=v?i:a,b=v?a:i;s=(b-j)/Math.max(1,g-u+f*2),d&&(s=Math.floor(s)),j+=(b-j-s*(g-u))*p,l=s*(1-u),d&&(j=Math.round(j),l=Math.round(l));var y=LH(g).map(function(C){return j+s*C});return r(v?y.reverse():y)}return e.domain=function(g){return arguments.length?(t(g),x()):t()},e.range=function(g){return arguments.length?([a,i]=g,a=+a,i=+i,x()):[a,i]},e.rangeRound=function(g){return[a,i]=g,a=+a,i=+i,d=!0,x()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(g){return arguments.length?(d=!!g,x()):d},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),x()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),x()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,x()):f},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),x()):p},e.copy=function(){return Fu(t(),[a,i]).round(d).paddingInner(u).paddingOuter(f).align(p)},ka.apply(x(),arguments)}function XP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return XP(t())},e}function xu(){return XP(Fu.apply(null,arguments).paddingInner(1))}function _w(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function KP(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Of(){}var Bu=.7,Vp=1/Bu,tc="\\s*([+-]?\\d+)\\s*",Lu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zH=/^#([0-9a-f]{3,8})$/,$H=new RegExp(`^rgb\\(${tc},${tc},${tc}\\)$`),UH=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),qH=new RegExp(`^rgba\\(${tc},${tc},${tc},${Lu}\\)$`),HH=new RegExp(`^rgba\\(${hi},${hi},${hi},${Lu}\\)$`),WH=new RegExp(`^hsl\\(${Lu},${hi},${hi}\\)$`),GH=new RegExp(`^hsla\\(${Lu},${hi},${hi},${Lu}\\)$`),A4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_w(Of,zu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_4,formatHex:_4,formatHex8:VH,formatHsl:YH,formatRgb:E4,toString:E4});function _4(){return this.rgb().formatHex()}function VH(){return this.rgb().formatHex8()}function YH(){return QP(this).formatHsl()}function E4(){return this.rgb().formatRgb()}function zu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?O4(t):r===3?new Fn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ip(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ip(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$H.exec(e))?new Fn(t[1],t[2],t[3],1):(t=UH.exec(e))?new Fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qH.exec(e))?ip(t[1],t[2],t[3],t[4]):(t=HH.exec(e))?ip(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=WH.exec(e))?P4(t[1],t[2]/100,t[3]/100,1):(t=GH.exec(e))?P4(t[1],t[2]/100,t[3]/100,t[4]):A4.hasOwnProperty(e)?O4(A4[e]):e==="transparent"?new Fn(NaN,NaN,NaN,0):null}function O4(e){return new Fn(e>>16&255,e>>8&255,e&255,1)}function ip(e,t,r,a){return a<=0&&(e=t=r=NaN),new Fn(e,t,r,a)}function XH(e){return e instanceof Of||(e=zu(e)),e?(e=e.rgb(),new Fn(e.r,e.g,e.b,e.opacity)):new Fn}function Bj(e,t,r,a){return arguments.length===1?XH(e):new Fn(e,t,r,a??1)}function Fn(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}_w(Fn,Bj,KP(Of,{brighter(e){return e=e==null?Vp:Math.pow(Vp,e),new Fn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bu:Math.pow(Bu,e),new Fn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fn(Io(this.r),Io(this.g),Io(this.b),Yp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k4,formatHex:k4,formatHex8:KH,formatRgb:I4,toString:I4}));function k4(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}`}function KH(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}${Co((isNaN(this.opacity)?1:this.opacity)*255)}`}function I4(){const e=Yp(this.opacity);return`${e===1?"rgb(":"rgba("}${Io(this.r)}, ${Io(this.g)}, ${Io(this.b)}${e===1?")":`, ${e})`}`}function Yp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Io(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Co(e){return e=Io(e),(e<16?"0":"")+e.toString(16)}function P4(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wa(e,t,r,a)}function QP(e){if(e instanceof Wa)return new Wa(e.h,e.s,e.l,e.opacity);if(e instanceof Of||(e=zu(e)),!e)return new Wa;if(e instanceof Wa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,i=Math.min(t,r,a),s=Math.max(t,r,a),l=NaN,d=s-i,u=(s+i)/2;return d?(t===s?l=(r-a)/d+(r<a)*6:r===s?l=(a-t)/d+2:l=(t-r)/d+4,d/=u<.5?s+i:2-s-i,l*=60):d=u>0&&u<1?0:l,new Wa(l,d,u,e.opacity)}function QH(e,t,r,a){return arguments.length===1?QP(e):new Wa(e,t,r,a??1)}function Wa(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}_w(Wa,QH,KP(Of,{brighter(e){return e=e==null?Vp:Math.pow(Vp,e),new Wa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bu:Math.pow(Bu,e),new Wa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,i=2*r-a;return new Fn(i1(e>=240?e-240:e+120,i,a),i1(e,i,a),i1(e<120?e+240:e-120,i,a),this.opacity)},clamp(){return new Wa(R4(this.h),sp(this.s),sp(this.l),Yp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yp(this.opacity);return`${e===1?"hsl(":"hsla("}${R4(this.h)}, ${sp(this.s)*100}%, ${sp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R4(e){return e=(e||0)%360,e<0?e+360:e}function sp(e){return Math.max(0,Math.min(1,e||0))}function i1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ew=e=>()=>e;function ZH(e,t){return function(r){return e+r*t}}function JH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function eW(e){return(e=+e)==1?ZP:function(t,r){return r-t?JH(t,r,e):Ew(isNaN(t)?r:t)}}function ZP(e,t){var r=t-e;return r?ZH(e,r):Ew(isNaN(e)?t:e)}const D4=function e(t){var r=eW(t);function a(i,s){var l=r((i=Bj(i)).r,(s=Bj(s)).r),d=r(i.g,s.g),u=r(i.b,s.b),f=ZP(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=u(p),i.opacity=f(p),i+""}}return a.gamma=e,a}(1);function tW(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),i;return function(s){for(i=0;i<r;++i)a[i]=e[i]*(1-s)+t[i]*s;return a}}function rW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nW(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),s=new Array(r),l;for(l=0;l<a;++l)i[l]=Uc(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(d){for(l=0;l<a;++l)s[l]=i[l](d);return s}}function aW(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function Xp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function iW(e,t){var r={},a={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Uc(e[i],t[i]):a[i]=t[i];return function(s){for(i in r)a[i]=r[i](s);return a}}var Lj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s1=new RegExp(Lj.source,"g");function sW(e){return function(){return e}}function oW(e){return function(t){return e(t)+""}}function lW(e,t){var r=Lj.lastIndex=s1.lastIndex=0,a,i,s,l=-1,d=[],u=[];for(e=e+"",t=t+"";(a=Lj.exec(e))&&(i=s1.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),d[l]?d[l]+=s:d[++l]=s),(a=a[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,u.push({i:l,x:Xp(a,i)})),r=s1.lastIndex;return r<t.length&&(s=t.slice(r),d[l]?d[l]+=s:d[++l]=s),d.length<2?u[0]?oW(u[0].x):sW(t):(t=u.length,function(f){for(var p=0,x;p<t;++p)d[(x=u[p]).i]=x.x(f);return d.join("")})}function Uc(e,t){var r=typeof t,a;return t==null||r==="boolean"?Ew(t):(r==="number"?Xp:r==="string"?(a=zu(t))?(t=a,D4):lW:t instanceof zu?D4:t instanceof Date?aW:rW(t)?tW:Array.isArray(t)?nW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iW:Xp)(e,t)}function Ow(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function cW(e,t){t===void 0&&(t=e,e=Uc);for(var r=0,a=t.length-1,i=t[0],s=new Array(a<0?0:a);r<a;)s[r]=e(i,i=t[++r]);return function(l){var d=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return s[d](l-d)}}function dW(e){return function(){return e}}function Kp(e){return+e}var M4=[0,1];function _n(e){return e}function zj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dW(isNaN(t)?NaN:.5)}function uW(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function fW(e,t,r){var a=e[0],i=e[1],s=t[0],l=t[1];return i<a?(a=zj(i,a),s=r(l,s)):(a=zj(a,i),s=r(s,l)),function(d){return s(a(d))}}function hW(e,t,r){var a=Math.min(e.length,t.length)-1,i=new Array(a),s=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)i[l]=zj(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(d){var u=Ef(e,d,1,a)-1;return s[u](i[u](d))}}function kf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function i0(){var e=M4,t=M4,r=Uc,a,i,s,l=_n,d,u,f;function p(){var g=Math.min(e.length,t.length);return l!==_n&&(l=uW(e[0],e[g-1])),d=g>2?hW:fW,u=f=null,x}function x(g){return g==null||isNaN(g=+g)?s:(u||(u=d(e.map(a),t,r)))(a(l(g)))}return x.invert=function(g){return l(i((f||(f=d(t,e.map(a),Xp)))(g)))},x.domain=function(g){return arguments.length?(e=Array.from(g,Kp),p()):e.slice()},x.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},x.rangeRound=function(g){return t=Array.from(g),r=Ow,p()},x.clamp=function(g){return arguments.length?(l=g?!0:_n,p()):l!==_n},x.interpolate=function(g){return arguments.length?(r=g,p()):r},x.unknown=function(g){return arguments.length?(s=g,x):s},function(g,v){return a=g,i=v,p()}}function kw(){return i0()(_n,_n)}function pW(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function pc(e){return e=Qp(Math.abs(e)),e?e[1]:NaN}function mW(e,t){return function(r,a){for(var i=r.length,s=[],l=0,d=e[0],u=0;i>0&&d>0&&(u+d+1>a&&(d=Math.max(1,a-u)),s.push(r.substring(i-=d,i+d)),!((u+=d+1)>a));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function xW(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var gW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $u(e){if(!(t=gW.exec(e)))throw new Error("invalid format: "+e);var t;return new Iw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$u.prototype=Iw.prototype;function Iw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Iw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yW(e){e:for(var t=e.length,r=1,a=-1,i;r<t;++r)switch(e[r]){case".":a=i=r;break;case"0":a===0&&(a=r),i=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(i+1):e}var JP;function vW(e,t){var r=Qp(e,t);if(!r)return e+"";var a=r[0],i=r[1],s=i-(JP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=a.length;return s===l?a:s>l?a+new Array(s-l+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+Qp(e,Math.max(0,t+s-1))[0]}function F4(e,t){var r=Qp(e,t);if(!r)return e+"";var a=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}const B4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pW,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>F4(e*100,t),r:F4,s:vW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function L4(e){return e}var z4=Array.prototype.map,$4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bW(e){var t=e.grouping===void 0||e.thousands===void 0?L4:mW(z4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?L4:xW(z4.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(x){x=$u(x);var g=x.fill,v=x.align,j=x.sign,b=x.symbol,y=x.zero,C=x.width,A=x.comma,E=x.precision,S=x.trim,T=x.type;T==="n"?(A=!0,T="g"):B4[T]||(E===void 0&&(E=12),S=!0,T="g"),(y||g==="0"&&v==="=")&&(y=!0,g="0",v="=");var _=b==="$"?r:b==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",P=b==="$"?a:/[%p]/.test(T)?l:"",L=B4[T],D=/[defgprs%]/.test(T);E=E===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function B(M){var k=_,W=P,F,I,R;if(T==="c")W=L(M)+W,M="";else{M=+M;var X=M<0||1/M<0;if(M=isNaN(M)?u:L(Math.abs(M),E),S&&(M=yW(M)),X&&+M==0&&j!=="+"&&(X=!1),k=(X?j==="("?j:d:j==="-"||j==="("?"":j)+k,W=(T==="s"?$4[8+JP/3]:"")+W+(X&&j==="("?")":""),D){for(F=-1,I=M.length;++F<I;)if(R=M.charCodeAt(F),48>R||R>57){W=(R===46?i+M.slice(F+1):M.slice(F))+W,M=M.slice(0,F);break}}}A&&!y&&(M=t(M,1/0));var ne=k.length+M.length+W.length,ge=ne<C?new Array(C-ne+1).join(g):"";switch(A&&y&&(M=t(ge+M,ge.length?C-W.length:1/0),ge=""),v){case"<":M=k+M+W+ge;break;case"=":M=k+ge+M+W;break;case"^":M=ge.slice(0,ne=ge.length>>1)+k+M+W+ge.slice(ne);break;default:M=ge+k+M+W;break}return s(M)}return B.toString=function(){return x+""},B}function p(x,g){var v=f((x=$u(x),x.type="f",x)),j=Math.max(-8,Math.min(8,Math.floor(pc(g)/3)))*3,b=Math.pow(10,-j),y=$4[8+j/3];return function(C){return v(b*C)+y}}return{format:f,formatPrefix:p}}var op,Pw,eR;jW({thousands:",",grouping:[3],currency:["$",""]});function jW(e){return op=bW(e),Pw=op.format,eR=op.formatPrefix,op}function wW(e){return Math.max(0,-pc(Math.abs(e)))}function SW(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pc(t)/3)))*3-pc(Math.abs(e)))}function NW(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pc(t)-pc(e))+1}function tR(e,t,r,a){var i=Mj(e,t,r),s;switch(a=$u(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(s=SW(i,l))&&(a.precision=s),eR(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(s=NW(i,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=s-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(s=wW(i))&&(a.precision=s-(a.type==="%")*2);break}}return Pw(a)}function Ks(e){var t=e.domain;return e.ticks=function(r){var a=t();return Rj(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var i=t();return tR(i[0],i[i.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),i=0,s=a.length-1,l=a[i],d=a[s],u,f,p=10;for(d<l&&(f=l,l=d,d=f,f=i,i=s,s=f);p-- >0;){if(f=Dj(l,d,r),f===u)return a[i]=l,a[s]=d,t(a);if(f>0)l=Math.floor(l/f)*f,d=Math.ceil(d/f)*f;else if(f<0)l=Math.ceil(l*f)/f,d=Math.floor(d*f)/f;else break;u=f}return e},e}function Zp(){var e=kw();return e.copy=function(){return kf(e,Zp())},ka.apply(e,arguments),Ks(e)}function rR(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Kp),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return rR(e).unknown(t)},e=arguments.length?Array.from(e,Kp):[0,1],Ks(r)}function nR(e,t){e=e.slice();var r=0,a=e.length-1,i=e[r],s=e[a],l;return s<i&&(l=r,r=a,a=l,l=i,i=s,s=l),e[r]=t.floor(i),e[a]=t.ceil(s),e}function U4(e){return Math.log(e)}function q4(e){return Math.exp(e)}function TW(e){return-Math.log(-e)}function CW(e){return-Math.exp(-e)}function AW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _W(e){return e===10?AW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function EW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function H4(e){return(t,r)=>-e(-t,r)}function Rw(e){const t=e(U4,q4),r=t.domain;let a=10,i,s;function l(){return i=EW(a),s=_W(a),r()[0]<0?(i=H4(i),s=H4(s),e(TW,CW)):e(U4,q4),t}return t.base=function(d){return arguments.length?(a=+d,l()):a},t.domain=function(d){return arguments.length?(r(d),l()):r()},t.ticks=d=>{const u=r();let f=u[0],p=u[u.length-1];const x=p<f;x&&([f,p]=[p,f]);let g=i(f),v=i(p),j,b;const y=d==null?10:+d;let C=[];if(!(a%1)&&v-g<y){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(j=1;j<a;++j)if(b=g<0?j/s(-g):j*s(g),!(b<f)){if(b>p)break;C.push(b)}}else for(;g<=v;++g)for(j=a-1;j>=1;--j)if(b=g>0?j/s(-g):j*s(g),!(b<f)){if(b>p)break;C.push(b)}C.length*2<y&&(C=Rj(f,p,y))}else C=Rj(g,v,Math.min(v-g,y)).map(s);return x?C.reverse():C},t.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=$u(u)).precision==null&&(u.trim=!0),u=Pw(u)),d===1/0)return u;const f=Math.max(1,a*d/t.ticks().length);return p=>{let x=p/s(Math.round(i(p)));return x*a<a-.5&&(x*=a),x<=f?u(p):""}},t.nice=()=>r(nR(r(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),t}function aR(){const e=Rw(i0()).domain([1,10]);return e.copy=()=>kf(e,aR()).base(e.base()),ka.apply(e,arguments),e}function W4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function G4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Dw(e){var t=1,r=e(W4(t),G4(t));return r.constant=function(a){return arguments.length?e(W4(t=+a),G4(t)):t},Ks(r)}function iR(){var e=Dw(i0());return e.copy=function(){return kf(e,iR()).constant(e.constant())},ka.apply(e,arguments)}function V4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function OW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function kW(e){return e<0?-e*e:e*e}function Mw(e){var t=e(_n,_n),r=1;function a(){return r===1?e(_n,_n):r===.5?e(OW,kW):e(V4(r),V4(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,a()):r},Ks(t)}function Fw(){var e=Mw(i0());return e.copy=function(){return kf(e,Fw()).exponent(e.exponent())},ka.apply(e,arguments),e}function IW(){return Fw.apply(null,arguments).exponent(.5)}function Y4(e){return Math.sign(e)*e*e}function PW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sR(){var e=kw(),t=[0,1],r=!1,a;function i(s){var l=PW(e(s));return isNaN(l)?a:r?Math.round(l):l}return i.invert=function(s){return e.invert(Y4(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Kp)).map(Y4)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return sR(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},ka.apply(i,arguments),Ks(i)}function oR(){var e=[],t=[],r=[],a;function i(){var l=0,d=Math.max(1,t.length);for(r=new Array(d-1);++l<d;)r[l-1]=BH(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?a:t[Ef(r,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(zs),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.quantiles=function(){return r.slice()},s.copy=function(){return oR().domain(e).range(t).unknown(a)},ka.apply(s,arguments)}function lR(){var e=0,t=1,r=1,a=[.5],i=[0,1],s;function l(u){return u!=null&&u<=u?i[Ef(a,u,0,r)]:s}function d(){var u=-1;for(a=new Array(r);++u<r;)a[u]=((u+1)*t-(u-r)*e)/(r+1);return l}return l.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,d()):[e,t]},l.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,d()):i.slice()},l.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,a[0]]:f>=r?[a[r-1],t]:[a[f-1],a[f]]},l.unknown=function(u){return arguments.length&&(s=u),l},l.thresholds=function(){return a.slice()},l.copy=function(){return lR().domain([e,t]).range(i).unknown(s)},ka.apply(Ks(l),arguments)}function cR(){var e=[.5],t=[0,1],r,a=1;function i(s){return s!=null&&s<=s?t[Ef(e,s,0,a)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),a=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),a=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return cR().domain(e).range(t).unknown(r)},ka.apply(i,arguments)}const o1=new Date,l1=new Date;function $r(e,t,r,a){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),d=i.ceil(s);return s-l<d-s?l:d},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,d)=>{const u=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return u;let f;do u.push(f=new Date(+s)),t(s,d),e(s);while(f<s&&s<l);return u},i.filter=s=>$r(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),r&&(i.count=(s,l)=>(o1.setTime(+s),l1.setTime(+l),e(o1),e(l1),Math.floor(r(o1,l1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(a?l=>a(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Jp=$r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$r(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jp);Jp.range;const Li=1e3,Ta=Li*60,zi=Ta*60,Zi=zi*24,Bw=Zi*7,X4=Zi*30,c1=Zi*365,Ao=$r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getUTCSeconds());Ao.range;const Lw=$r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Li)},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getMinutes());Lw.range;const zw=$r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getUTCMinutes());zw.range;const $w=$r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Li-e.getMinutes()*Ta)},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getHours());$w.range;const Uw=$r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getUTCHours());Uw.range;const If=$r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ta)/Zi,e=>e.getDate()-1);If.range;const s0=$r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zi,e=>e.getUTCDate()-1);s0.range;const dR=$r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zi,e=>Math.floor(e/Zi));dR.range;function Yo(e){return $r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ta)/Bw)}const o0=Yo(0),em=Yo(1),RW=Yo(2),DW=Yo(3),mc=Yo(4),MW=Yo(5),FW=Yo(6);o0.range;em.range;RW.range;DW.range;mc.range;MW.range;FW.range;function Xo(e){return $r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Bw)}const l0=Xo(0),tm=Xo(1),BW=Xo(2),LW=Xo(3),xc=Xo(4),zW=Xo(5),$W=Xo(6);l0.range;tm.range;BW.range;LW.range;xc.range;zW.range;$W.range;const qw=$r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qw.range;const Hw=$r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Hw.range;const Ji=$r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ji.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ji.range;const es=$r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());es.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});es.range;function uR(e,t,r,a,i,s){const l=[[Ao,1,Li],[Ao,5,5*Li],[Ao,15,15*Li],[Ao,30,30*Li],[s,1,Ta],[s,5,5*Ta],[s,15,15*Ta],[s,30,30*Ta],[i,1,zi],[i,3,3*zi],[i,6,6*zi],[i,12,12*zi],[a,1,Zi],[a,2,2*Zi],[r,1,Bw],[t,1,X4],[t,3,3*X4],[e,1,c1]];function d(f,p,x){const g=p<f;g&&([f,p]=[p,f]);const v=x&&typeof x.range=="function"?x:u(f,p,x),j=v?v.range(f,+p+1):[];return g?j.reverse():j}function u(f,p,x){const g=Math.abs(p-f)/x,v=Cw(([,,y])=>y).right(l,g);if(v===l.length)return e.every(Mj(f/c1,p/c1,x));if(v===0)return Jp.every(Math.max(Mj(f,p,x),1));const[j,b]=l[g/l[v-1][2]<l[v][2]/g?v-1:v];return j.every(b)}return[d,u]}const[UW,qW]=uR(es,Hw,l0,dR,Uw,zw),[HW,WW]=uR(Ji,qw,o0,If,$w,Lw);function d1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function u1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function eu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function GW(e){var t=e.dateTime,r=e.date,a=e.time,i=e.periods,s=e.days,l=e.shortDays,d=e.months,u=e.shortMonths,f=tu(i),p=ru(i),x=tu(s),g=ru(s),v=tu(l),j=ru(l),b=tu(d),y=ru(d),C=tu(u),A=ru(u),E={a:X,A:ne,b:ge,B:q,c:null,d:t6,e:t6,f:mG,g:TG,G:AG,H:fG,I:hG,j:pG,L:fR,m:xG,M:gG,p:ee,q:z,Q:a6,s:i6,S:yG,u:vG,U:bG,V:jG,w:wG,W:SG,x:null,X:null,y:NG,Y:CG,Z:_G,"%":n6},S={a:U,A:V,b:te,B:se,c:null,d:r6,e:r6,f:IG,g:UG,G:HG,H:EG,I:OG,j:kG,L:pR,m:PG,M:RG,p:Z,q:K,Q:a6,s:i6,S:DG,u:MG,U:FG,V:BG,w:LG,W:zG,x:null,X:null,y:$G,Y:qG,Z:WG,"%":n6},T={a:B,A:M,b:k,B:W,c:F,d:J4,e:J4,f:lG,g:Z4,G:Q4,H:e6,I:e6,j:aG,L:oG,m:nG,M:iG,p:D,q:rG,Q:dG,s:uG,S:sG,u:QW,U:ZW,V:JW,w:KW,W:eG,x:I,X:R,y:Z4,Y:Q4,Z:tG,"%":cG};E.x=_(r,E),E.X=_(a,E),E.c=_(t,E),S.x=_(r,S),S.X=_(a,S),S.c=_(t,S);function _(Y,ce){return function(xe){var pe=[],Ce=-1,ve=0,Le=Y.length,le,Ae,qe;for(xe instanceof Date||(xe=new Date(+xe));++Ce<Le;)Y.charCodeAt(Ce)===37&&(pe.push(Y.slice(ve,Ce)),(Ae=K4[le=Y.charAt(++Ce)])!=null?le=Y.charAt(++Ce):Ae=le==="e"?" ":"0",(qe=ce[le])&&(le=qe(xe,Ae)),pe.push(le),ve=Ce+1);return pe.push(Y.slice(ve,Ce)),pe.join("")}}function P(Y,ce){return function(xe){var pe=eu(1900,void 0,1),Ce=L(pe,Y,xe+="",0),ve,Le;if(Ce!=xe.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(ce&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(ve=u1(eu(pe.y,0,1)),Le=ve.getUTCDay(),ve=Le>4||Le===0?tm.ceil(ve):tm(ve),ve=s0.offset(ve,(pe.V-1)*7),pe.y=ve.getUTCFullYear(),pe.m=ve.getUTCMonth(),pe.d=ve.getUTCDate()+(pe.w+6)%7):(ve=d1(eu(pe.y,0,1)),Le=ve.getDay(),ve=Le>4||Le===0?em.ceil(ve):em(ve),ve=If.offset(ve,(pe.V-1)*7),pe.y=ve.getFullYear(),pe.m=ve.getMonth(),pe.d=ve.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),Le="Z"in pe?u1(eu(pe.y,0,1)).getUTCDay():d1(eu(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(Le+5)%7:pe.w+pe.U*7-(Le+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,u1(pe)):d1(pe)}}function L(Y,ce,xe,pe){for(var Ce=0,ve=ce.length,Le=xe.length,le,Ae;Ce<ve;){if(pe>=Le)return-1;if(le=ce.charCodeAt(Ce++),le===37){if(le=ce.charAt(Ce++),Ae=T[le in K4?ce.charAt(Ce++):le],!Ae||(pe=Ae(Y,xe,pe))<0)return-1}else if(le!=xe.charCodeAt(pe++))return-1}return pe}function D(Y,ce,xe){var pe=f.exec(ce.slice(xe));return pe?(Y.p=p.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function B(Y,ce,xe){var pe=v.exec(ce.slice(xe));return pe?(Y.w=j.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function M(Y,ce,xe){var pe=x.exec(ce.slice(xe));return pe?(Y.w=g.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function k(Y,ce,xe){var pe=C.exec(ce.slice(xe));return pe?(Y.m=A.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function W(Y,ce,xe){var pe=b.exec(ce.slice(xe));return pe?(Y.m=y.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function F(Y,ce,xe){return L(Y,t,ce,xe)}function I(Y,ce,xe){return L(Y,r,ce,xe)}function R(Y,ce,xe){return L(Y,a,ce,xe)}function X(Y){return l[Y.getDay()]}function ne(Y){return s[Y.getDay()]}function ge(Y){return u[Y.getMonth()]}function q(Y){return d[Y.getMonth()]}function ee(Y){return i[+(Y.getHours()>=12)]}function z(Y){return 1+~~(Y.getMonth()/3)}function U(Y){return l[Y.getUTCDay()]}function V(Y){return s[Y.getUTCDay()]}function te(Y){return u[Y.getUTCMonth()]}function se(Y){return d[Y.getUTCMonth()]}function Z(Y){return i[+(Y.getUTCHours()>=12)]}function K(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ce=_(Y+="",E);return ce.toString=function(){return Y},ce},parse:function(Y){var ce=P(Y+="",!1);return ce.toString=function(){return Y},ce},utcFormat:function(Y){var ce=_(Y+="",S);return ce.toString=function(){return Y},ce},utcParse:function(Y){var ce=P(Y+="",!0);return ce.toString=function(){return Y},ce}}}var K4={"-":"",_:" ",0:"0"},Jr=/^\s*\d+/,VW=/^%/,YW=/[\\^$*+?|[\]().{}]/g;function zt(e,t,r){var a=e<0?"-":"",i=(a?-e:e)+"",s=i.length;return a+(s<r?new Array(r-s+1).join(t)+i:i)}function XW(e){return e.replace(YW,"\\$&")}function tu(e){return new RegExp("^(?:"+e.map(XW).join("|")+")","i")}function ru(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function KW(e,t,r){var a=Jr.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function QW(e,t,r){var a=Jr.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function ZW(e,t,r){var a=Jr.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function JW(e,t,r){var a=Jr.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function eG(e,t,r){var a=Jr.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function Q4(e,t,r){var a=Jr.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function Z4(e,t,r){var a=Jr.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function tG(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function rG(e,t,r){var a=Jr.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function nG(e,t,r){var a=Jr.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function J4(e,t,r){var a=Jr.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function aG(e,t,r){var a=Jr.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function e6(e,t,r){var a=Jr.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function iG(e,t,r){var a=Jr.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function sG(e,t,r){var a=Jr.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function oG(e,t,r){var a=Jr.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function lG(e,t,r){var a=Jr.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function cG(e,t,r){var a=VW.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function dG(e,t,r){var a=Jr.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function uG(e,t,r){var a=Jr.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function t6(e,t){return zt(e.getDate(),t,2)}function fG(e,t){return zt(e.getHours(),t,2)}function hG(e,t){return zt(e.getHours()%12||12,t,2)}function pG(e,t){return zt(1+If.count(Ji(e),e),t,3)}function fR(e,t){return zt(e.getMilliseconds(),t,3)}function mG(e,t){return fR(e,t)+"000"}function xG(e,t){return zt(e.getMonth()+1,t,2)}function gG(e,t){return zt(e.getMinutes(),t,2)}function yG(e,t){return zt(e.getSeconds(),t,2)}function vG(e){var t=e.getDay();return t===0?7:t}function bG(e,t){return zt(o0.count(Ji(e)-1,e),t,2)}function hR(e){var t=e.getDay();return t>=4||t===0?mc(e):mc.ceil(e)}function jG(e,t){return e=hR(e),zt(mc.count(Ji(e),e)+(Ji(e).getDay()===4),t,2)}function wG(e){return e.getDay()}function SG(e,t){return zt(em.count(Ji(e)-1,e),t,2)}function NG(e,t){return zt(e.getFullYear()%100,t,2)}function TG(e,t){return e=hR(e),zt(e.getFullYear()%100,t,2)}function CG(e,t){return zt(e.getFullYear()%1e4,t,4)}function AG(e,t){var r=e.getDay();return e=r>=4||r===0?mc(e):mc.ceil(e),zt(e.getFullYear()%1e4,t,4)}function _G(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zt(t/60|0,"0",2)+zt(t%60,"0",2)}function r6(e,t){return zt(e.getUTCDate(),t,2)}function EG(e,t){return zt(e.getUTCHours(),t,2)}function OG(e,t){return zt(e.getUTCHours()%12||12,t,2)}function kG(e,t){return zt(1+s0.count(es(e),e),t,3)}function pR(e,t){return zt(e.getUTCMilliseconds(),t,3)}function IG(e,t){return pR(e,t)+"000"}function PG(e,t){return zt(e.getUTCMonth()+1,t,2)}function RG(e,t){return zt(e.getUTCMinutes(),t,2)}function DG(e,t){return zt(e.getUTCSeconds(),t,2)}function MG(e){var t=e.getUTCDay();return t===0?7:t}function FG(e,t){return zt(l0.count(es(e)-1,e),t,2)}function mR(e){var t=e.getUTCDay();return t>=4||t===0?xc(e):xc.ceil(e)}function BG(e,t){return e=mR(e),zt(xc.count(es(e),e)+(es(e).getUTCDay()===4),t,2)}function LG(e){return e.getUTCDay()}function zG(e,t){return zt(tm.count(es(e)-1,e),t,2)}function $G(e,t){return zt(e.getUTCFullYear()%100,t,2)}function UG(e,t){return e=mR(e),zt(e.getUTCFullYear()%100,t,2)}function qG(e,t){return zt(e.getUTCFullYear()%1e4,t,4)}function HG(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xc(e):xc.ceil(e),zt(e.getUTCFullYear()%1e4,t,4)}function WG(){return"+0000"}function n6(){return"%"}function a6(e){return+e}function i6(e){return Math.floor(+e/1e3)}var Fl,xR,gR;GG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GG(e){return Fl=GW(e),xR=Fl.format,Fl.parse,gR=Fl.utcFormat,Fl.utcParse,Fl}function VG(e){return new Date(e)}function YG(e){return e instanceof Date?+e:+new Date(+e)}function Ww(e,t,r,a,i,s,l,d,u,f){var p=kw(),x=p.invert,g=p.domain,v=f(".%L"),j=f(":%S"),b=f("%I:%M"),y=f("%I %p"),C=f("%a %d"),A=f("%b %d"),E=f("%B"),S=f("%Y");function T(_){return(u(_)<_?v:d(_)<_?j:l(_)<_?b:s(_)<_?y:a(_)<_?i(_)<_?C:A:r(_)<_?E:S)(_)}return p.invert=function(_){return new Date(x(_))},p.domain=function(_){return arguments.length?g(Array.from(_,YG)):g().map(VG)},p.ticks=function(_){var P=g();return e(P[0],P[P.length-1],_??10)},p.tickFormat=function(_,P){return P==null?T:f(P)},p.nice=function(_){var P=g();return(!_||typeof _.range!="function")&&(_=t(P[0],P[P.length-1],_??10)),_?g(nR(P,_)):p},p.copy=function(){return kf(p,Ww(e,t,r,a,i,s,l,d,u,f))},p}function XG(){return ka.apply(Ww(HW,WW,Ji,qw,o0,If,$w,Lw,Ao,xR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function KG(){return ka.apply(Ww(UW,qW,es,Hw,l0,s0,Uw,zw,Ao,gR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function c0(){var e=0,t=1,r,a,i,s,l=_n,d=!1,u;function f(x){return x==null||isNaN(x=+x)?u:l(i===0?.5:(x=(s(x)-r)*i,d?Math.max(0,Math.min(1,x)):x))}f.domain=function(x){return arguments.length?([e,t]=x,r=s(e=+e),a=s(t=+t),i=r===a?0:1/(a-r),f):[e,t]},f.clamp=function(x){return arguments.length?(d=!!x,f):d},f.interpolator=function(x){return arguments.length?(l=x,f):l};function p(x){return function(g){var v,j;return arguments.length?([v,j]=g,l=x(v,j),f):[l(0),l(1)]}}return f.range=p(Uc),f.rangeRound=p(Ow),f.unknown=function(x){return arguments.length?(u=x,f):u},function(x){return s=x,r=x(e),a=x(t),i=r===a?0:1/(a-r),f}}function Qs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yR(){var e=Ks(c0()(_n));return e.copy=function(){return Qs(e,yR())},ss.apply(e,arguments)}function vR(){var e=Rw(c0()).domain([1,10]);return e.copy=function(){return Qs(e,vR()).base(e.base())},ss.apply(e,arguments)}function bR(){var e=Dw(c0());return e.copy=function(){return Qs(e,bR()).constant(e.constant())},ss.apply(e,arguments)}function Gw(){var e=Mw(c0());return e.copy=function(){return Qs(e,Gw()).exponent(e.exponent())},ss.apply(e,arguments)}function QG(){return Gw.apply(null,arguments).exponent(.5)}function jR(){var e=[],t=_n;function r(a){if(a!=null&&!isNaN(a=+a))return t((Ef(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let i of a)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(zs),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,i)=>t(i/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(i,s)=>FH(e,s/a))},r.copy=function(){return jR(t).domain(e)},ss.apply(r,arguments)}function d0(){var e=0,t=.5,r=1,a=1,i,s,l,d,u,f=_n,p,x=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+p(b))-s)*(a*b<a*s?d:u),f(x?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,t,r]=b,i=p(e=+e),s=p(t=+t),l=p(r=+r),d=i===s?0:.5/(s-i),u=s===l?0:.5/(l-s),a=s<i?-1:1,v):[e,t,r]},v.clamp=function(b){return arguments.length?(x=!!b,v):x},v.interpolator=function(b){return arguments.length?(f=b,v):f};function j(b){return function(y){var C,A,E;return arguments.length?([C,A,E]=y,f=cW(b,[C,A,E]),v):[f(0),f(.5),f(1)]}}return v.range=j(Uc),v.rangeRound=j(Ow),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return p=b,i=b(e),s=b(t),l=b(r),d=i===s?0:.5/(s-i),u=s===l?0:.5/(l-s),a=s<i?-1:1,v}}function wR(){var e=Ks(d0()(_n));return e.copy=function(){return Qs(e,wR())},ss.apply(e,arguments)}function SR(){var e=Rw(d0()).domain([.1,1,10]);return e.copy=function(){return Qs(e,SR()).base(e.base())},ss.apply(e,arguments)}function NR(){var e=Dw(d0());return e.copy=function(){return Qs(e,NR()).constant(e.constant())},ss.apply(e,arguments)}function Vw(){var e=Mw(d0());return e.copy=function(){return Qs(e,Vw()).exponent(e.exponent())},ss.apply(e,arguments)}function ZG(){return Vw.apply(null,arguments).exponent(.5)}const s6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fu,scaleDiverging:wR,scaleDivergingLog:SR,scaleDivergingPow:Vw,scaleDivergingSqrt:ZG,scaleDivergingSymlog:NR,scaleIdentity:rR,scaleImplicit:Fj,scaleLinear:Zp,scaleLog:aR,scaleOrdinal:Aw,scalePoint:xu,scalePow:Fw,scaleQuantile:oR,scaleQuantize:lR,scaleRadial:sR,scaleSequential:yR,scaleSequentialLog:vR,scaleSequentialPow:Gw,scaleSequentialQuantile:jR,scaleSequentialSqrt:QG,scaleSequentialSymlog:bR,scaleSqrt:IW,scaleSymlog:iR,scaleThreshold:cR,scaleTime:XG,scaleUtc:KG,tickFormat:tR},Symbol.toStringTag,{value:"Module"}));var f1,o6;function TR(){if(o6)return f1;o6=1;var e=Bc();function t(r,a,i){for(var s=-1,l=r.length;++s<l;){var d=r[s],u=a(d);if(u!=null&&(f===void 0?u===u&&!e(u):i(u,f)))var f=u,p=d}return p}return f1=t,f1}var h1,l6;function JG(){if(l6)return h1;l6=1;function e(t,r){return t>r}return h1=e,h1}var p1,c6;function eV(){if(c6)return p1;c6=1;var e=TR(),t=JG(),r=zc();function a(i){return i&&i.length?e(i,r,t):void 0}return p1=a,p1}var tV=eV();const u0=ir(tV);var m1,d6;function rV(){if(d6)return m1;d6=1;function e(t,r){return t<r}return m1=e,m1}var x1,u6;function nV(){if(u6)return x1;u6=1;var e=TR(),t=rV(),r=zc();function a(i){return i&&i.length?e(i,r,t):void 0}return x1=a,x1}var aV=nV();const f0=ir(aV);var g1,f6;function iV(){if(f6)return g1;f6=1;var e=cw(),t=Xs(),r=PP(),a=Gn();function i(s,l){var d=a(s)?e:r;return d(s,t(l,3))}return g1=i,g1}var y1,h6;function sV(){if(h6)return y1;h6=1;var e=kP(),t=iV();function r(a,i){return e(t(a,i),1)}return y1=r,y1}var oV=sV();const lV=ir(oV);var v1,p6;function cV(){if(p6)return v1;p6=1;var e=ww();function t(r,a){return e(r,a)}return v1=t,v1}var dV=cV();const h0=ir(dV);var qc=1e9,uV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xw,mr=!0,Oa="[DecimalError] ",Po=Oa+"Invalid argument: ",Yw=Oa+"Exponent out of range: ",Hc=Math.floor,So=Math.pow,fV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oa,Vr=1e7,fr=7,CR=9007199254740991,rm=Hc(CR/fr),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,r,a,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(a=s.d.length,i=e.d.length,t=0,r=a<i?a:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return a===i?0:a>i^s.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*fr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ot.dividedBy=ot.div=function(e){return Gi(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,r=t.constructor;return or(Gi(t,new r(e),0,1),r.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return Ir(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,r=this,a=r.constructor,i=a.precision,s=i+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(oa))throw Error(Oa+"NaN");if(r.s<1)throw Error(Oa+(r.s?"NaN":"-Infinity"));return r.eq(oa)?new a(0):(mr=!1,t=Gi(Uu(r,s),Uu(e,s),s),mr=!0,or(t,i))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ER(t,e):AR(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,r=this,a=r.constructor,i=a.precision;if(e=new a(e),!e.s)throw Error(Oa+"NaN");return r.s?(mr=!1,t=Gi(r,e,0,1).times(e),mr=!0,r.minus(t)):or(new a(r),i)};ot.naturalExponential=ot.exp=function(){return _R(this)};ot.naturalLogarithm=ot.ln=function(){return Uu(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AR(t,e):ER(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,r,a,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Po+e);if(t=Ir(i)+1,a=i.d.length-1,r=a*fr+1,a=i.d[a],a){for(;a%10==0;a/=10)r--;for(a=i.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};ot.squareRoot=ot.sqrt=function(){var e,t,r,a,i,s,l,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(Oa+"NaN")}for(e=Ir(d),mr=!1,i=Math.sqrt(+d),i==0||i==1/0?(t=fi(d.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Hc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(i.toString()),r=u.precision,i=l=r+3;;)if(s=a,a=s.plus(Gi(d,s,l+2)).times(.5),fi(s.d).slice(0,l)===(t=fi(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(or(s,r+1,0),s.times(s).eq(d)){a=s;break}}else if(t!="9999")break;l+=4}return mr=!0,or(a,r)};ot.times=ot.mul=function(e){var t,r,a,i,s,l,d,u,f,p=this,x=p.constructor,g=p.d,v=(e=new x(e)).d;if(!p.s||!e.s)return new x(0);for(e.s*=p.s,r=p.e+e.e,u=g.length,f=v.length,u<f&&(s=g,g=v,v=s,l=u,u=f,f=l),s=[],l=u+f,a=l;a--;)s.push(0);for(a=f;--a>=0;){for(t=0,i=u+a;i>a;)d=s[i]+v[a]*g[i-a-1]+t,s[i--]=d%Vr|0,t=d/Vr|0;s[i]=(s[i]+t)%Vr|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,mr?or(e,x.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(xi(e,0,qc),t===void 0?t=a.rounding:xi(t,0,8),or(r,e+Ir(r)+1,t))};ot.toExponential=function(e,t){var r,a=this,i=a.constructor;return e===void 0?r=Lo(a,!0):(xi(e,0,qc),t===void 0?t=i.rounding:xi(t,0,8),a=or(new i(a),e+1,t),r=Lo(a,!0,e+1)),r};ot.toFixed=function(e,t){var r,a,i=this,s=i.constructor;return e===void 0?Lo(i):(xi(e,0,qc),t===void 0?t=s.rounding:xi(t,0,8),a=or(new s(i),e+Ir(i)+1,t),r=Lo(a.abs(),!1,e+Ir(a)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return or(new t(e),Ir(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,r,a,i,s,l,d=this,u=d.constructor,f=12,p=+(e=new u(e));if(!e.s)return new u(oa);if(d=new u(d),!d.s){if(e.s<1)throw Error(Oa+"Infinity");return d}if(d.eq(oa))return d;if(a=u.precision,e.eq(oa))return or(d,a);if(t=e.e,r=e.d.length-1,l=t>=r,s=d.s,l){if((r=p<0?-p:p)<=CR){for(i=new u(oa),t=Math.ceil(a/fr+4),mr=!1;r%2&&(i=i.times(d),x6(i.d,t)),r=Hc(r/2),r!==0;)d=d.times(d),x6(d.d,t);return mr=!0,e.s<0?new u(oa).div(i):or(i,a)}}else if(s<0)throw Error(Oa+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,mr=!1,i=e.times(Uu(d,a+f)),mr=!0,i=_R(i),i.s=s,i};ot.toPrecision=function(e,t){var r,a,i=this,s=i.constructor;return e===void 0?(r=Ir(i),a=Lo(i,r<=s.toExpNeg||r>=s.toExpPos)):(xi(e,1,qc),t===void 0?t=s.rounding:xi(t,0,8),i=or(new s(i),e,t),r=Ir(i),a=Lo(i,e<=r||r<=s.toExpNeg,e)),a};ot.toSignificantDigits=ot.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(xi(e,1,qc),t===void 0?t=a.rounding:xi(t,0,8)),or(new a(r),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ir(e),r=e.constructor;return Lo(e,t<=r.toExpNeg||t>=r.toExpPos)};function AR(e,t){var r,a,i,s,l,d,u,f,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),mr?or(t,x):t;if(u=e.d,f=t.d,l=e.e,i=t.e,u=u.slice(),s=l-i,s){for(s<0?(a=u,s=-s,d=f.length):(a=f,i=l,d=u.length),l=Math.ceil(x/fr),d=l>d?l+1:d+1,s>d&&(s=d,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for(d=u.length,s=f.length,d-s<0&&(s=d,a=f,f=u,u=a),r=0;s;)r=(u[--s]=u[s]+f[s]+r)/Vr|0,u[s]%=Vr;for(r&&(u.unshift(r),++i),d=u.length;u[--d]==0;)u.pop();return t.d=u,t.e=i,mr?or(t,x):t}function xi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Po+e)}function fi(e){var t,r,a,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)a=e[t]+"",r=fr-a.length,r&&(s+=Ps(r)),s+=a;l=e[t],a=l+"",r=fr-a.length,r&&(s+=Ps(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Gi=function(){function e(a,i){var s,l=0,d=a.length;for(a=a.slice();d--;)s=a[d]*i+l,a[d]=s%Vr|0,l=s/Vr|0;return l&&a.unshift(l),a}function t(a,i,s,l){var d,u;if(s!=l)u=s>l?1:-1;else for(d=u=0;d<s;d++)if(a[d]!=i[d]){u=a[d]>i[d]?1:-1;break}return u}function r(a,i,s){for(var l=0;s--;)a[s]-=l,l=a[s]<i[s]?1:0,a[s]=l*Vr+a[s]-i[s];for(;!a[0]&&a.length>1;)a.shift()}return function(a,i,s,l){var d,u,f,p,x,g,v,j,b,y,C,A,E,S,T,_,P,L,D=a.constructor,B=a.s==i.s?1:-1,M=a.d,k=i.d;if(!a.s)return new D(a);if(!i.s)throw Error(Oa+"Division by zero");for(u=a.e-i.e,P=k.length,T=M.length,v=new D(B),j=v.d=[],f=0;k[f]==(M[f]||0);)++f;if(k[f]>(M[f]||0)&&--u,s==null?A=s=D.precision:l?A=s+(Ir(a)-Ir(i))+1:A=s,A<0)return new D(0);if(A=A/fr+2|0,f=0,P==1)for(p=0,k=k[0],A++;(f<T||p)&&A--;f++)E=p*Vr+(M[f]||0),j[f]=E/k|0,p=E%k|0;else{for(p=Vr/(k[0]+1)|0,p>1&&(k=e(k,p),M=e(M,p),P=k.length,T=M.length),S=P,b=M.slice(0,P),y=b.length;y<P;)b[y++]=0;L=k.slice(),L.unshift(0),_=k[0],k[1]>=Vr/2&&++_;do p=0,d=t(k,b,P,y),d<0?(C=b[0],P!=y&&(C=C*Vr+(b[1]||0)),p=C/_|0,p>1?(p>=Vr&&(p=Vr-1),x=e(k,p),g=x.length,y=b.length,d=t(x,b,g,y),d==1&&(p--,r(x,P<g?L:k,g))):(p==0&&(d=p=1),x=k.slice()),g=x.length,g<y&&x.unshift(0),r(b,x,y),d==-1&&(y=b.length,d=t(k,b,P,y),d<1&&(p++,r(b,P<y?L:k,y))),y=b.length):d===0&&(p++,b=[0]),j[f++]=p,d&&b[0]?b[y++]=M[S]||0:(b=[M[S]],y=1);while((S++<T||b[0]!==void 0)&&A--)}return j[0]||j.shift(),v.e=u,or(v,l?s+Ir(v)+1:s)}}();function _R(e,t){var r,a,i,s,l,d,u=0,f=0,p=e.constructor,x=p.precision;if(Ir(e)>16)throw Error(Yw+Ir(e));if(!e.s)return new p(oa);for(mr=!1,d=x,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(a=Math.log(So(2,f))/Math.LN10*2+5|0,d+=a,r=i=s=new p(oa),p.precision=d;;){if(i=or(i.times(e),d),r=r.times(++u),l=s.plus(Gi(i,r,d)),fi(l.d).slice(0,d)===fi(s.d).slice(0,d)){for(;f--;)s=or(s.times(s),d);return p.precision=x,t==null?(mr=!0,or(s,x)):s}s=l}}function Ir(e){for(var t=e.e*fr,r=e.d[0];r>=10;r/=10)t++;return t}function b1(e,t,r){if(t>e.LN10.sd())throw mr=!0,r&&(e.precision=r),Error(Oa+"LN10 precision limit exceeded");return or(new e(e.LN10),t)}function Ps(e){for(var t="";e--;)t+="0";return t}function Uu(e,t){var r,a,i,s,l,d,u,f,p,x=1,g=10,v=e,j=v.d,b=v.constructor,y=b.precision;if(v.s<1)throw Error(Oa+(v.s?"NaN":"-Infinity"));if(v.eq(oa))return new b(0);if(t==null?(mr=!1,f=y):f=t,v.eq(10))return t==null&&(mr=!0),b1(b,f);if(f+=g,b.precision=f,r=fi(j),a=r.charAt(0),s=Ir(v),Math.abs(s)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)v=v.times(e),r=fi(v.d),a=r.charAt(0),x++;s=Ir(v),a>1?(v=new b("0."+r),s++):v=new b(a+"."+r.slice(1))}else return u=b1(b,f+2,y).times(s+""),v=Uu(new b(a+"."+r.slice(1)),f-g).plus(u),b.precision=y,t==null?(mr=!0,or(v,y)):v;for(d=l=v=Gi(v.minus(oa),v.plus(oa),f),p=or(v.times(v),f),i=3;;){if(l=or(l.times(p),f),u=d.plus(Gi(l,new b(i),f)),fi(u.d).slice(0,f)===fi(d.d).slice(0,f))return d=d.times(2),s!==0&&(d=d.plus(b1(b,f+2,y).times(s+""))),d=Gi(d,new b(x),f),b.precision=y,t==null?(mr=!0,or(d,y)):d;d=u,i+=2}}function m6(e,t){var r,a,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(a,i),t){if(i-=a,r=r-a-1,e.e=Hc(r/fr),e.d=[],a=(r+1)%fr,r<0&&(a+=fr),a<i){for(a&&e.d.push(+t.slice(0,a)),i-=fr;a<i;)e.d.push(+t.slice(a,a+=fr));t=t.slice(a),a=fr-t.length}else a-=i;for(;a--;)t+="0";if(e.d.push(+t),mr&&(e.e>rm||e.e<-rm))throw Error(Yw+r)}else e.s=0,e.e=0,e.d=[0];return e}function or(e,t,r){var a,i,s,l,d,u,f,p,x=e.d;for(l=1,s=x[0];s>=10;s/=10)l++;if(a=t-l,a<0)a+=fr,i=t,f=x[p=0];else{if(p=Math.ceil((a+1)/fr),s=x.length,p>=s)return e;for(f=s=x[p],l=1;s>=10;s/=10)l++;a%=fr,i=a-fr+l}if(r!==void 0&&(s=So(10,l-i-1),d=f/s%10|0,u=t<0||x[p+1]!==void 0||f%s,u=r<4?(d||u)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||u||r==6&&(a>0?i>0?f/So(10,l-i):0:x[p-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return u?(s=Ir(e),x.length=1,t=t-s-1,x[0]=So(10,(fr-t%fr)%fr),e.e=Hc(-t/fr)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(a==0?(x.length=p,s=1,p--):(x.length=p+1,s=So(10,fr-a),x[p]=i>0?(f/So(10,l-i)%So(10,i)|0)*s:0),u)for(;;)if(p==0){(x[0]+=s)==Vr&&(x[0]=1,++e.e);break}else{if(x[p]+=s,x[p]!=Vr)break;x[p--]=0,s=1}for(a=x.length;x[--a]===0;)x.pop();if(mr&&(e.e>rm||e.e<-rm))throw Error(Yw+Ir(e));return e}function ER(e,t){var r,a,i,s,l,d,u,f,p,x,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),mr?or(t,v):t;if(u=e.d,x=t.d,a=t.e,f=e.e,u=u.slice(),l=f-a,l){for(p=l<0,p?(r=u,l=-l,d=x.length):(r=x,a=f,d=u.length),i=Math.max(Math.ceil(v/fr),d)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=u.length,d=x.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(u[i]!=x[i]){p=u[i]<x[i];break}l=0}for(p&&(r=u,u=x,x=r,t.s=-t.s),d=u.length,i=x.length-d;i>0;--i)u[d++]=0;for(i=x.length;i>l;){if(u[--i]<x[i]){for(s=i;s&&u[--s]===0;)u[s]=Vr-1;--u[s],u[i]+=Vr}u[i]-=x[i]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,mr?or(t,v):t):new g(0)}function Lo(e,t,r){var a,i=Ir(e),s=fi(e.d),l=s.length;return t?(r&&(a=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ps(a):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ps(-i-1)+s,r&&(a=r-l)>0&&(s+=Ps(a))):i>=l?(s+=Ps(i+1-l),r&&(a=r-i-1)>0&&(s=s+"."+Ps(a))):((a=i+1)<l&&(s=s.slice(0,a)+"."+s.slice(a)),r&&(a=r-l)>0&&(i+1===l&&(s+="."),s+=Ps(a))),e.s<0?"-"+s:s}function x6(e,t){if(e.length>t)return e.length=t,!0}function OR(e){var t,r,a;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Po+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return m6(l,s.toString())}else if(typeof s!="string")throw Error(Po+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,fV.test(s))m6(l,s);else throw Error(Po+s)}if(i.prototype=ot,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=OR,i.config=i.set=hV,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return i.config(e),i}function hV(e){if(!e||typeof e!="object")throw Error(Oa+"Object expected");var t,r,a,i=["precision",1,qc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((a=e[r=i[t]])!==void 0)if(Hc(a)===a&&a>=i[t+1]&&a<=i[t+2])this[r]=a;else throw Error(Po+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Po+r+": "+a);return this}var Xw=OR(uV);oa=new Xw(1);const nr=Xw;function pV(e){return yV(e)||gV(e)||xV(e)||mV()}function mV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xV(e,t){if(e){if(typeof e=="string")return $j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $j(e,t)}}function gV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function yV(e){if(Array.isArray(e))return $j(e)}function $j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var vV=function(t){return t},kR={},IR=function(t){return t===kR},g6=function(t){return function r(){return arguments.length===0||arguments.length===1&&IR(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},bV=function e(t,r){return t===1?r:g6(function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var l=i.filter(function(d){return d!==kR}).length;return l>=t?r.apply(void 0,i):e(t-l,g6(function(){for(var d=arguments.length,u=new Array(d),f=0;f<d;f++)u[f]=arguments[f];var p=i.map(function(x){return IR(x)?u.shift():x});return r.apply(void 0,pV(p).concat(u))}))})},p0=function(t){return bV(t.length,t)},Uj=function(t,r){for(var a=[],i=t;i<r;++i)a[i-t]=i;return a},jV=p0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),wV=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return vV;var i=r.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce(function(d,u){return u(d)},s.apply(void 0,arguments))}},qj=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},PR=function(t){var r=null,a=null;return function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return r&&s.every(function(d,u){return d===r[u]})||(r=s,a=t.apply(void 0,s)),a}};function SV(e){var t;return e===0?t=1:t=Math.floor(new nr(e).abs().log(10).toNumber())+1,t}function NV(e,t,r){for(var a=new nr(e),i=0,s=[];a.lt(t)&&i<1e5;)s.push(a.toNumber()),a=a.add(r),i++;return s}var TV=p0(function(e,t,r){var a=+e,i=+t;return a+r*(i-a)}),CV=p0(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),AV=p0(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const m0={rangeStep:NV,getDigitCount:SV,interpolateNumber:TV,uninterpolateNumber:CV,uninterpolateTruncation:AV};function Hj(e){return OV(e)||EV(e)||RR(e)||_V()}function _V(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function OV(e){if(Array.isArray(e))return Wj(e)}function qu(e,t){return PV(e)||IV(e,t)||RR(e,t)||kV()}function kV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RR(e,t){if(e){if(typeof e=="string")return Wj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wj(e,t)}}function Wj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function IV(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,i=!1,s=void 0;try{for(var l=e[Symbol.iterator](),d;!(a=(d=l.next()).done)&&(r.push(d.value),!(t&&r.length===t));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&l.return!=null&&l.return()}finally{if(i)throw s}}return r}}function PV(e){if(Array.isArray(e))return e}function DR(e){var t=qu(e,2),r=t[0],a=t[1],i=r,s=a;return r>a&&(i=a,s=r),[i,s]}function MR(e,t,r){if(e.lte(0))return new nr(0);var a=m0.getDigitCount(e.toNumber()),i=new nr(10).pow(a),s=e.div(i),l=a!==1?.05:.1,d=new nr(Math.ceil(s.div(l).toNumber())).add(r).mul(l),u=d.mul(i);return t?u:new nr(Math.ceil(u))}function RV(e,t,r){var a=1,i=new nr(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(a=new nr(10).pow(m0.getDigitCount(e)-1),i=new nr(Math.floor(i.div(a).toNumber())).mul(a)):s>1&&(i=new nr(Math.floor(e)))}else e===0?i=new nr(Math.floor((t-1)/2)):r||(i=new nr(Math.floor(e)));var l=Math.floor((t-1)/2),d=wV(jV(function(u){return i.add(new nr(u-l).mul(a)).toNumber()}),Uj);return d(0,t)}function FR(e,t,r,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new nr(0),tickMin:new nr(0),tickMax:new nr(0)};var s=MR(new nr(t).sub(e).div(r-1),a,i),l;e<=0&&t>=0?l=new nr(0):(l=new nr(e).add(t).div(2),l=l.sub(new nr(l).mod(s)));var d=Math.ceil(l.sub(e).div(s).toNumber()),u=Math.ceil(new nr(t).sub(l).div(s).toNumber()),f=d+u+1;return f>r?FR(e,t,r,a,i+1):(f<r&&(u=t>0?u+(r-f):u,d=t>0?d:d+(r-f)),{step:s,tickMin:l.sub(new nr(d).mul(s)),tickMax:l.add(new nr(u).mul(s))})}function DV(e){var t=qu(e,2),r=t[0],a=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),d=DR([r,a]),u=qu(d,2),f=u[0],p=u[1];if(f===-1/0||p===1/0){var x=p===1/0?[f].concat(Hj(Uj(0,i-1).map(function(){return 1/0}))):[].concat(Hj(Uj(0,i-1).map(function(){return-1/0})),[p]);return r>a?qj(x):x}if(f===p)return RV(f,i,s);var g=FR(f,p,l,s),v=g.step,j=g.tickMin,b=g.tickMax,y=m0.rangeStep(j,b.add(new nr(.1).mul(v)),v);return r>a?qj(y):y}function MV(e,t){var r=qu(e,2),a=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=DR([a,i]),d=qu(l,2),u=d[0],f=d[1];if(u===-1/0||f===1/0)return[a,i];if(u===f)return[u];var p=Math.max(t,2),x=MR(new nr(f).sub(u).div(p-1),s,0),g=[].concat(Hj(m0.rangeStep(new nr(u),new nr(f).sub(new nr(.99).mul(x)),x)),[f]);return a>i?qj(g):g}var FV=PR(DV),BV=PR(MV),LV="Invariant failed";function zo(e,t){throw new Error(LV)}var zV=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nm.apply(this,arguments)}function $V(e,t){return WV(e)||HV(e,t)||qV(e,t)||UV()}function UV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qV(e,t){if(e){if(typeof e=="string")return y6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y6(e,t)}}function y6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function HV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function WV(e){if(Array.isArray(e))return e}function GV(e,t){if(e==null)return{};var r=VV(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function VV(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function YV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XV(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,zR(a.key),a)}}function KV(e,t,r){return t&&XV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QV(e,t,r){return t=am(t),ZV(e,BR()?Reflect.construct(t,r||[],am(e).constructor):t.apply(e,r))}function ZV(e,t){if(t&&(gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JV(e)}function JV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BR=function(){return!!e})()}function am(e){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},am(e)}function eY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gj(e,t)}function Gj(e,t){return Gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Gj(e,t)}function LR(e,t,r){return t=zR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zR(e){var t=tY(e,"string");return gc(t)=="symbol"?t:t+""}function tY(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(gc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pf=function(e){function t(){return YV(this,t),QV(this,t,arguments)}return eY(t,e),KV(t,[{key:"render",value:function(){var a=this.props,i=a.offset,s=a.layout,l=a.width,d=a.dataKey,u=a.data,f=a.dataPointFormatter,p=a.xAxis,x=a.yAxis,g=GV(a,zV),v=It(g,!1);this.props.direction==="x"&&p.type!=="number"&&zo();var j=u.map(function(b){var y=f(b,d),C=y.x,A=y.y,E=y.value,S=y.errorVal;if(!S)return null;var T=[],_,P;if(Array.isArray(S)){var L=$V(S,2);_=L[0],P=L[1]}else _=P=S;if(s==="vertical"){var D=p.scale,B=A+i,M=B+l,k=B-l,W=D(E-_),F=D(E+P);T.push({x1:F,y1:M,x2:F,y2:k}),T.push({x1:W,y1:B,x2:F,y2:B}),T.push({x1:W,y1:M,x2:W,y2:k})}else if(s==="horizontal"){var I=x.scale,R=C+i,X=R-l,ne=R+l,ge=I(E-_),q=I(E+P);T.push({x1:X,y1:q,x2:ne,y2:q}),T.push({x1:R,y1:ge,x2:R,y2:q}),T.push({x1:X,y1:ge,x2:ne,y2:ge})}return Te.createElement(Ar,nm({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},v),T.map(function(ee){return Te.createElement("line",nm({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return Te.createElement(Ar,{className:"recharts-errorBars"},j)}}])}(Te.Component);LR(Pf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LR(Pf,"displayName","ErrorBar");function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function v6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(r),!0).forEach(function(a){rY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rY(e,t,r){return t=nY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nY(e){var t=aY(e,"string");return Hu(t)=="symbol"?t:t+""}function aY(e,t){if(Hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Hu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $R=function(t){var r=t.children,a=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,l=na(r,ec);if(!l)return null;var d=ec.defaultProps,u=d!==void 0?yo(yo({},d),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:s==="children"?f=(a||[]).reduce(function(p,x){var g=x.item,v=x.props,j=v.sectors||v.data||[];return p.concat(j.map(function(b){return{type:l.props.iconType||g.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(a||[]).map(function(p){var x=p.item,g=x.type.defaultProps,v=g!==void 0?yo(yo({},g),x.props):{},j=v.dataKey,b=v.name,y=v.legendType,C=v.hide;return{inactive:C,dataKey:j,type:u.iconType||y||"square",color:Kw(x),value:b||j,payload:v}}),yo(yo(yo({},u),ec.getWithHeight(l,i)),{},{payload:f,item:l})};function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function b6(e){return lY(e)||oY(e)||sY(e)||iY()}function iY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sY(e,t){if(e){if(typeof e=="string")return Vj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vj(e,t)}}function oY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lY(e){if(Array.isArray(e))return Vj(e)}function Vj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function j6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j6(Object(r),!0).forEach(function(a){rc(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rc(e,t,r){return t=cY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cY(e){var t=dY(e,"string");return Wu(t)=="symbol"?t:t+""}function dY(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Wu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function la(e,t,r){return kt(e)||kt(t)?r:zr(t)?Aa(e,t,r):At(t)?t(e):r}function gu(e,t,r,a){var i=lV(e,function(d){return la(d,t)});if(r==="number"){var s=i.filter(function(d){return nt(d)||parseFloat(d)});return s.length?[f0(s),u0(s)]:[1/0,-1/0]}var l=a?i.filter(function(d){return!kt(d)}):i;return l.map(function(d){return zr(d)||d instanceof Date?d:""})}var uY=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=-1,d=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(d<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,f=0;f<d;f++){var p=f>0?i[f-1].coordinate:i[d-1].coordinate,x=i[f].coordinate,g=f>=d-1?i[0].coordinate:i[f+1].coordinate,v=void 0;if(Va(x-p)!==Va(g-x)){var j=[];if(Va(g-x)===Va(u[1]-u[0])){v=g;var b=x+u[1]-u[0];j[0]=Math.min(b,(b+p)/2),j[1]=Math.max(b,(b+p)/2)}else{v=p;var y=g+u[1]-u[0];j[0]=Math.min(x,(y+x)/2),j[1]=Math.max(x,(y+x)/2)}var C=[Math.min(x,(v+x)/2),Math.max(x,(v+x)/2)];if(t>C[0]&&t<=C[1]||t>=j[0]&&t<=j[1]){l=i[f].index;break}}else{var A=Math.min(p,g),E=Math.max(p,g);if(t>(A+x)/2&&t<=(E+x)/2){l=i[f].index;break}}}else for(var S=0;S<d;S++)if(S===0&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<d-1&&t>(a[S].coordinate+a[S-1].coordinate)/2&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S===d-1&&t>(a[S].coordinate+a[S-1].coordinate)/2){l=a[S].index;break}return l},Kw=function(t){var r,a=t,i=a.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?wr(wr({},t.type.defaultProps),t.props):t.props,l=s.stroke,d=s.fill,u;switch(i){case"Line":u=l;break;case"Area":case"Radar":u=l&&l!=="none"?l:d;break;default:u=d;break}return u},fY=function(t){var r=t.barSize,a=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var l={},d=Object.keys(s),u=0,f=d.length;u<f;u++)for(var p=s[d[u]].stackGroups,x=Object.keys(p),g=0,v=x.length;g<v;g++){var j=p[x[g]],b=j.items,y=j.cateAxisId,C=b.filter(function(P){return Hi(P.type).indexOf("Bar")>=0});if(C&&C.length){var A=C[0].type.defaultProps,E=A!==void 0?wr(wr({},A),C[0].props):C[0].props,S=E.barSize,T=E[y];l[T]||(l[T]=[]);var _=kt(S)?r:S;l[T].push({item:C[0],stackList:C.slice(1),barSize:kt(_)?void 0:Bo(_,a,0)})}}return l},hY=function(t){var r=t.barGap,a=t.barCategoryGap,i=t.bandSize,s=t.sizeList,l=s===void 0?[]:s,d=t.maxBarSize,u=l.length;if(u<1)return null;var f=Bo(r,i,0,!0),p,x=[];if(l[0].barSize===+l[0].barSize){var g=!1,v=i/u,j=l.reduce(function(S,T){return S+T.barSize||0},0);j+=(u-1)*f,j>=i&&(j-=(u-1)*f,f=0),j>=i&&v>0&&(g=!0,v*=.9,j=u*v);var b=(i-j)/2>>0,y={offset:b-f,size:0};p=l.reduce(function(S,T){var _={item:T.item,position:{offset:y.offset+y.size+f,size:g?v:T.barSize}},P=[].concat(b6(S),[_]);return y=P[P.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(L){P.push({item:L,position:y})}),P},x)}else{var C=Bo(a,i,0,!0);i-2*C-(u-1)*f<=0&&(f=0);var A=(i-2*C-(u-1)*f)/u;A>1&&(A>>=0);var E=d===+d?Math.min(A,d):A;p=l.reduce(function(S,T,_){var P=[].concat(b6(S),[{item:T.item,position:{offset:C+(A+f)*_+(A-E)/2,size:E}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(L){P.push({item:L,position:P[P.length-1].position})}),P},x)}return p},pY=function(t,r,a,i){var s=a.children,l=a.width,d=a.margin,u=l-(d.left||0)-(d.right||0),f=$R({children:s,legendWidth:u});if(f){var p=i||{},x=p.width,g=p.height,v=f.align,j=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&j==="middle")&&v!=="center"&&nt(t[v]))return wr(wr({},t),{},rc({},v,t[v]+(x||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&j!=="middle"&&nt(t[j]))return wr(wr({},t),{},rc({},j,t[j]+(g||0)))}return t},mY=function(t,r,a){return kt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},UR=function(t,r,a,i,s){var l=r.props.children,d=_a(l,Pf).filter(function(f){return mY(i,s,f.props.direction)});if(d&&d.length){var u=d.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var x=la(p,a);if(kt(x))return f;var g=Array.isArray(x)?[f0(x),u0(x)]:[x,x],v=u.reduce(function(j,b){var y=la(p,b,0),C=g[0]-Math.abs(Array.isArray(y)?y[0]:y),A=g[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(C,j[0]),Math.max(A,j[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},xY=function(t,r,a,i,s){var l=r.map(function(d){return UR(t,d,a,s,i)}).filter(function(d){return!kt(d)});return l&&l.length?l.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]):null},qR=function(t,r,a,i,s){var l=r.map(function(u){var f=u.props.dataKey;return a==="number"&&f&&UR(t,u,f,i)||gu(t,f,a,s)});if(a==="number")return l.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);var d={};return l.reduce(function(u,f){for(var p=0,x=f.length;p<x;p++)d[f[p]]||(d[f[p]]=!0,u.push(f[p]));return u},[])},HR=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},WR=function(t,r,a,i){if(i)return t.map(function(u){return u.coordinate});var s,l,d=t.map(function(u){return u.coordinate===r&&(s=!0),u.coordinate===a&&(l=!0),u.coordinate});return s||d.push(r),l||d.push(a),d},$i=function(t,r,a){if(!t)return null;var i=t.scale,s=t.duplicateDomain,l=t.type,d=t.range,u=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||a)&&l==="category"&&i.bandwidth?i.bandwidth()/u:0;if(f=t.axisType==="angleAxis"&&(d==null?void 0:d.length)>=2?Va(d[0]-d[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(x){var g=s?s.indexOf(x):x;return{coordinate:i(g)+f,value:x,offset:f}});return p.filter(function(x){return!Cf(x.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(x,g){return{coordinate:i(x)+f,value:x,index:g,offset:f}}):i.ticks&&!a?i.ticks(t.tickCount).map(function(x){return{coordinate:i(x)+f,value:x,offset:f}}):i.domain().map(function(x,g){return{coordinate:i(x)+f,value:s?s[x]:x,index:g,offset:f}})},j1=new WeakMap,lp=function(t,r){if(typeof r!="function")return t;j1.has(t)||j1.set(t,new WeakMap);var a=j1.get(t);if(a.has(r))return a.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,i),i},gY=function(t,r,a){var i=t.scale,s=t.type,l=t.layout,d=t.axisType;if(i==="auto")return l==="radial"&&d==="radiusAxis"?{scale:Fu(),realScaleType:"band"}:l==="radial"&&d==="angleAxis"?{scale:Zp(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:xu(),realScaleType:"point"}:s==="category"?{scale:Fu(),realScaleType:"band"}:{scale:Zp(),realScaleType:"linear"};if(Fo(i)){var u="scale".concat(Zm(i));return{scale:(s6[u]||xu)(),realScaleType:s6[u]?u:"point"}}return At(i)?{scale:i}:{scale:xu(),realScaleType:"point"}},w6=1e-4,yY=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,i=t.range(),s=Math.min(i[0],i[1])-w6,l=Math.max(i[0],i[1])+w6,d=t(r[0]),u=t(r[a-1]);(d<s||d>l||u<s||u>l)&&t.domain([r[0],r[a-1]])}},vY=function(t,r){if(!t)return null;for(var a=0,i=t.length;a<i;a++)if(t[a].item===r)return t[a].position;return null},bY=function(t,r){if(!r||r.length!==2||!nt(r[0])||!nt(r[1]))return t;var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!nt(t[0])||t[0]<a)&&(s[0]=a),(!nt(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<a&&(s[1]=a),s},jY=function(t){var r=t.length;if(!(r<=0))for(var a=0,i=t[0].length;a<i;++a)for(var s=0,l=0,d=0;d<r;++d){var u=Cf(t[d][a][1])?t[d][a][0]:t[d][a][1];u>=0?(t[d][a][0]=s,t[d][a][1]=s+u,s=t[d][a][1]):(t[d][a][0]=l,t[d][a][1]=l+u,l=t[d][a][1])}},wY=function(t){var r=t.length;if(!(r<=0))for(var a=0,i=t[0].length;a<i;++a)for(var s=0,l=0;l<r;++l){var d=Cf(t[l][a][1])?t[l][a][0]:t[l][a][1];d>=0?(t[l][a][0]=s,t[l][a][1]=s+d,s=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},SY={sign:jY,expand:s9,none:cc,silhouette:o9,wiggle:l9,positive:wY},NY=function(t,r,a){var i=r.map(function(d){return d.props.dataKey}),s=SY[a],l=i9().keys(i).value(function(d,u){return+la(d,u,0)}).order(Sj).offset(s);return l(t)},TY=function(t,r,a,i,s,l){if(!t)return null;var d=l?r.reverse():r,u={},f=d.reduce(function(x,g){var v,j=(v=g.type)!==null&&v!==void 0&&v.defaultProps?wr(wr({},g.type.defaultProps),g.props):g.props,b=j.stackId,y=j.hide;if(y)return x;var C=j[a],A=x[C]||{hasStack:!1,stackGroups:{}};if(zr(b)){var E=A.stackGroups[b]||{numericAxisId:a,cateAxisId:i,items:[]};E.items.push(g),A.hasStack=!0,A.stackGroups[b]=E}else A.stackGroups[Af("_stackId_")]={numericAxisId:a,cateAxisId:i,items:[g]};return wr(wr({},x),{},rc({},C,A))},u),p={};return Object.keys(f).reduce(function(x,g){var v=f[g];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,y){var C=v.stackGroups[y];return wr(wr({},b),{},rc({},y,{numericAxisId:a,cateAxisId:i,items:C.items,stackedData:NY(t,C.items,s)}))},j)}return wr(wr({},x),{},rc({},g,v))},p)},CY=function(t,r){var a=r.realScaleType,i=r.type,s=r.tickCount,l=r.originalDomain,d=r.allowDecimals,u=a||r.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=FV(f,s,d);return t.domain([f0(p),u0(p)]),{niceTicks:p}}if(s&&i==="number"){var x=t.domain(),g=BV(x,s,d);return{niceTicks:g}}return null};function S6(e){var t=e.axis,r=e.ticks,a=e.bandSize,i=e.entry,s=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!kt(i[t.dataKey])){var d=Ip(r,"value",i[t.dataKey]);if(d)return d.coordinate+a/2}return r[s]?r[s].coordinate+a/2:null}var u=la(i,kt(l)?t.dataKey:l);return kt(u)?null:t.scale(u)}var N6=function(t){var r=t.axis,a=t.ticks,i=t.offset,s=t.bandSize,l=t.entry,d=t.index;if(r.type==="category")return a[d]?a[d].coordinate+i:null;var u=la(l,r.dataKey,r.domain[d]);return kt(u)?null:r.scale(u)-s/2+i},AY=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var i=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return i<=0&&s>=0?0:s<0?s:i}return a[0]},_Y=function(t,r){var a,i=(a=t.type)!==null&&a!==void 0&&a.defaultProps?wr(wr({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(zr(s)){var l=r[s];if(l){var d=l.items.indexOf(t);return d>=0?l.stackedData[d]:null}}return null},EY=function(t){return t.reduce(function(r,a){return[f0(a.concat([r[0]]).filter(nt)),u0(a.concat([r[1]]).filter(nt))]},[1/0,-1/0])},GR=function(t,r,a){return Object.keys(t).reduce(function(i,s){var l=t[s],d=l.stackedData,u=d.reduce(function(f,p){var x=EY(p.slice(r,a+1));return[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},T6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yj=function(t,r,a){if(At(t))return t(r,a);if(!Array.isArray(t))return r;var i=[];if(nt(t[0]))i[0]=a?t[0]:Math.min(t[0],r[0]);else if(T6.test(t[0])){var s=+T6.exec(t[0])[1];i[0]=r[0]-s}else At(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(nt(t[1]))i[1]=a?t[1]:Math.max(t[1],r[1]);else if(C6.test(t[1])){var l=+C6.exec(t[1])[1];i[1]=r[1]+l}else At(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},im=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!a||i>0)return i}if(t&&r&&r.length>=2){for(var s=Nw(r,function(x){return x.coordinate}),l=1/0,d=1,u=s.length;d<u;d++){var f=s[d],p=s[d-1];l=Math.min((f.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},A6=function(t,r,a){return!t||!t.length||h0(t,Aa(a,"type.defaultProps.domain"))?r:t},VR=function(t,r){var a=t.type.defaultProps?wr(wr({},t.type.defaultProps),t.props):t.props,i=a.dataKey,s=a.name,l=a.unit,d=a.formatter,u=a.tooltipType,f=a.chartType,p=a.hide;return wr(wr({},It(t,!1)),{},{dataKey:i,unit:l,formatter:d,name:s||i,color:Kw(t),value:la(r,i),type:u,payload:r,chartType:f,hide:p})};function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function _6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function E6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_6(Object(r),!0).forEach(function(a){OY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function OY(e,t,r){return t=kY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kY(e){var t=IY(e,"string");return Gu(t)=="symbol"?t:t+""}function IY(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Gu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sm=Math.PI/180,PY=function(t){return t*180/Math.PI},dn=function(t,r,a,i){return{x:t+Math.cos(-sm*i)*a,y:r+Math.sin(-sm*i)*a}},RY=function(t,r){var a=t.x,i=t.y,s=r.x,l=r.y;return Math.sqrt(Math.pow(a-s,2)+Math.pow(i-l,2))},DY=function(t,r){var a=t.x,i=t.y,s=r.cx,l=r.cy,d=RY({x:a,y:i},{x:s,y:l});if(d<=0)return{radius:d};var u=(a-s)/d,f=Math.acos(u);return i>l&&(f=2*Math.PI-f),{radius:d,angle:PY(f),angleInRadian:f}},MY=function(t){var r=t.startAngle,a=t.endAngle,i=Math.floor(r/360),s=Math.floor(a/360),l=Math.min(i,s);return{startAngle:r-l*360,endAngle:a-l*360}},FY=function(t,r){var a=r.startAngle,i=r.endAngle,s=Math.floor(a/360),l=Math.floor(i/360),d=Math.min(s,l);return t+d*360},O6=function(t,r){var a=t.x,i=t.y,s=DY({x:a,y:i},r),l=s.radius,d=s.angle,u=r.innerRadius,f=r.outerRadius;if(l<u||l>f)return!1;if(l===0)return!0;var p=MY(r),x=p.startAngle,g=p.endAngle,v=d,j;if(x<=g){for(;v>g;)v-=360;for(;v<x;)v+=360;j=v>=x&&v<=g}else{for(;v>x;)v-=360;for(;v<g;)v+=360;j=v>=g&&v<=x}return j?E6(E6({},r),{},{radius:l,angle:FY(v,r)}):null};function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}var BY=["offset"];function LY(e){return qY(e)||UY(e)||$Y(e)||zY()}function zY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Y(e,t){if(e){if(typeof e=="string")return Xj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xj(e,t)}}function UY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qY(e){if(Array.isArray(e))return Xj(e)}function Xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function HY(e,t){if(e==null)return{};var r=WY(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function WY(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function k6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k6(Object(r),!0).forEach(function(a){GY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function GY(e,t,r){return t=VY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VY(e){var t=YY(e,"string");return Vu(t)=="symbol"?t:t+""}function YY(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Vu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yu.apply(this,arguments)}var XY=function(t){var r=t.value,a=t.formatter,i=kt(t.children)?r:t.children;return At(a)?a(i):i},KY=function(t,r){var a=Va(r-t),i=Math.min(Math.abs(r-t),360);return a*i},QY=function(t,r,a){var i=t.position,s=t.viewBox,l=t.offset,d=t.className,u=s,f=u.cx,p=u.cy,x=u.innerRadius,g=u.outerRadius,v=u.startAngle,j=u.endAngle,b=u.clockWise,y=(x+g)/2,C=KY(v,j),A=C>=0?1:-1,E,S;i==="insideStart"?(E=v+A*l,S=b):i==="insideEnd"?(E=j-A*l,S=!b):i==="end"&&(E=j+A*l,S=b),S=C<=0?S:!S;var T=dn(f,p,y,E),_=dn(f,p,y,E+(S?1:-1)*359),P="M".concat(T.x,",").concat(T.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),L=kt(t.id)?Af("recharts-radial-line-"):t.id;return Te.createElement("text",Yu({},a,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",d)}),Te.createElement("defs",null,Te.createElement("path",{id:L,d:P})),Te.createElement("textPath",{xlinkHref:"#".concat(L)},r))},ZY=function(t){var r=t.viewBox,a=t.offset,i=t.position,s=r,l=s.cx,d=s.cy,u=s.innerRadius,f=s.outerRadius,p=s.startAngle,x=s.endAngle,g=(p+x)/2;if(i==="outside"){var v=dn(l,d,f+a,g),j=v.x,b=v.y;return{x:j,y:b,textAnchor:j>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:d,textAnchor:"middle",verticalAnchor:"end"};var y=(u+f)/2,C=dn(l,d,y,g),A=C.x,E=C.y;return{x:A,y:E,textAnchor:"middle",verticalAnchor:"middle"}},JY=function(t){var r=t.viewBox,a=t.parentViewBox,i=t.offset,s=t.position,l=r,d=l.x,u=l.y,f=l.width,p=l.height,x=p>=0?1:-1,g=x*i,v=x>0?"end":"start",j=x>0?"start":"end",b=f>=0?1:-1,y=b*i,C=b>0?"end":"start",A=b>0?"start":"end";if(s==="top"){var E={x:d+f/2,y:u-x*i,textAnchor:"middle",verticalAnchor:v};return Fr(Fr({},E),a?{height:Math.max(u-a.y,0),width:f}:{})}if(s==="bottom"){var S={x:d+f/2,y:u+p+g,textAnchor:"middle",verticalAnchor:j};return Fr(Fr({},S),a?{height:Math.max(a.y+a.height-(u+p),0),width:f}:{})}if(s==="left"){var T={x:d-y,y:u+p/2,textAnchor:C,verticalAnchor:"middle"};return Fr(Fr({},T),a?{width:Math.max(T.x-a.x,0),height:p}:{})}if(s==="right"){var _={x:d+f+y,y:u+p/2,textAnchor:A,verticalAnchor:"middle"};return Fr(Fr({},_),a?{width:Math.max(a.x+a.width-_.x,0),height:p}:{})}var P=a?{width:f,height:p}:{};return s==="insideLeft"?Fr({x:d+y,y:u+p/2,textAnchor:A,verticalAnchor:"middle"},P):s==="insideRight"?Fr({x:d+f-y,y:u+p/2,textAnchor:C,verticalAnchor:"middle"},P):s==="insideTop"?Fr({x:d+f/2,y:u+g,textAnchor:"middle",verticalAnchor:j},P):s==="insideBottom"?Fr({x:d+f/2,y:u+p-g,textAnchor:"middle",verticalAnchor:v},P):s==="insideTopLeft"?Fr({x:d+y,y:u+g,textAnchor:A,verticalAnchor:j},P):s==="insideTopRight"?Fr({x:d+f-y,y:u+g,textAnchor:C,verticalAnchor:j},P):s==="insideBottomLeft"?Fr({x:d+y,y:u+p-g,textAnchor:A,verticalAnchor:v},P):s==="insideBottomRight"?Fr({x:d+f-y,y:u+p-g,textAnchor:C,verticalAnchor:v},P):Lc(s)&&(nt(s.x)||To(s.x))&&(nt(s.y)||To(s.y))?Fr({x:d+Bo(s.x,f),y:u+Bo(s.y,p),textAnchor:"end",verticalAnchor:"end"},P):Fr({x:d+f/2,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},P)},eX=function(t){return"cx"in t&&nt(t.cx)};function yn(e){var t=e.offset,r=t===void 0?5:t,a=HY(e,BY),i=Fr({offset:r},a),s=i.viewBox,l=i.position,d=i.value,u=i.children,f=i.content,p=i.className,x=p===void 0?"":p,g=i.textBreakAll;if(!s||kt(d)&&kt(u)&&!N.isValidElement(f)&&!At(f))return null;if(N.isValidElement(f))return N.cloneElement(f,i);var v;if(At(f)){if(v=N.createElement(f,i),N.isValidElement(v))return v}else v=XY(i);var j=eX(s),b=It(i,!0);if(j&&(l==="insideStart"||l==="insideEnd"||l==="end"))return QY(i,v,b);var y=j?ZY(i):JY(i);return Te.createElement(Wp,Yu({className:Lt("recharts-label",x)},b,y,{breakAll:g}),v)}yn.displayName="Label";var YR=function(t){var r=t.cx,a=t.cy,i=t.angle,s=t.startAngle,l=t.endAngle,d=t.r,u=t.radius,f=t.innerRadius,p=t.outerRadius,x=t.x,g=t.y,v=t.top,j=t.left,b=t.width,y=t.height,C=t.clockWise,A=t.labelViewBox;if(A)return A;if(nt(b)&&nt(y)){if(nt(x)&&nt(g))return{x,y:g,width:b,height:y};if(nt(v)&&nt(j))return{x:v,y:j,width:b,height:y}}return nt(x)&&nt(g)?{x,y:g,width:0,height:0}:nt(r)&&nt(a)?{cx:r,cy:a,startAngle:s||i||0,endAngle:l||i||0,innerRadius:f||0,outerRadius:p||u||d||0,clockWise:C}:t.viewBox?t.viewBox:{}},tX=function(t,r){return t?t===!0?Te.createElement(yn,{key:"label-implicit",viewBox:r}):zr(t)?Te.createElement(yn,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===yn?N.cloneElement(t,{key:"label-implicit",viewBox:r}):Te.createElement(yn,{key:"label-implicit",content:t,viewBox:r}):At(t)?Te.createElement(yn,{key:"label-implicit",content:t,viewBox:r}):Lc(t)?Te.createElement(yn,Yu({viewBox:r},t,{key:"label-implicit"})):null:null},rX=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var i=t.children,s=YR(t),l=_a(i,yn).map(function(u,f){return N.cloneElement(u,{viewBox:r||s,key:"label-".concat(f)})});if(!a)return l;var d=tX(t.label,r||s);return[d].concat(LY(l))};yn.parseViewBox=YR;yn.renderCallByParent=rX;var w1,I6;function nX(){if(I6)return w1;I6=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return w1=e,w1}var aX=nX();const iX=ir(aX);function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}var sX=["valueAccessor"],oX=["data","dataKey","clockWise","id","textBreakAll"];function lX(e){return fX(e)||uX(e)||dX(e)||cX()}function cX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dX(e,t){if(e){if(typeof e=="string")return Kj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kj(e,t)}}function uX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fX(e){if(Array.isArray(e))return Kj(e)}function Kj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},om.apply(this,arguments)}function P6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function R6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P6(Object(r),!0).forEach(function(a){hX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hX(e,t,r){return t=pX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pX(e){var t=mX(e,"string");return Xu(t)=="symbol"?t:t+""}function mX(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Xu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D6(e,t){if(e==null)return{};var r=xX(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function xX(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var gX=function(t){return Array.isArray(t.value)?iX(t.value):t.value};function $s(e){var t=e.valueAccessor,r=t===void 0?gX:t,a=D6(e,sX),i=a.data,s=a.dataKey,l=a.clockWise,d=a.id,u=a.textBreakAll,f=D6(a,oX);return!i||!i.length?null:Te.createElement(Ar,{className:"recharts-label-list"},i.map(function(p,x){var g=kt(s)?r(p,x):la(p&&p.payload,s),v=kt(d)?{}:{id:"".concat(d,"-").concat(x)};return Te.createElement(yn,om({},It(p,!0),f,v,{parentViewBox:p.parentViewBox,value:g,textBreakAll:u,viewBox:yn.parseViewBox(kt(l)?p:R6(R6({},p),{},{clockWise:l})),key:"label-".concat(x),index:x}))}))}$s.displayName="LabelList";function yX(e,t){return e?e===!0?Te.createElement($s,{key:"labelList-implicit",data:t}):Te.isValidElement(e)||At(e)?Te.createElement($s,{key:"labelList-implicit",data:t,content:e}):Lc(e)?Te.createElement($s,om({data:t},e,{key:"labelList-implicit"})):null:null}function vX(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=_a(a,$s).map(function(l,d){return N.cloneElement(l,{data:t,key:"labelList-".concat(d)})});if(!r)return i;var s=yX(e.label,t);return[s].concat(lX(i))}$s.renderCallByParent=vX;function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qj.apply(this,arguments)}function M6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function F6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M6(Object(r),!0).forEach(function(a){bX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bX(e,t,r){return t=jX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jX(e){var t=wX(e,"string");return Ku(t)=="symbol"?t:t+""}function wX(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ku(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SX=function(t,r){var a=Va(r-t),i=Math.min(Math.abs(r-t),359.999);return a*i},cp=function(t){var r=t.cx,a=t.cy,i=t.radius,s=t.angle,l=t.sign,d=t.isExternal,u=t.cornerRadius,f=t.cornerIsExternal,p=u*(d?1:-1)+i,x=Math.asin(u/p)/sm,g=f?s:s+l*x,v=dn(r,a,p,g),j=dn(r,a,i,g),b=f?s-l*x:s,y=dn(r,a,p*Math.cos(x*sm),b);return{center:v,circleTangency:j,lineTangency:y,theta:x}},XR=function(t){var r=t.cx,a=t.cy,i=t.innerRadius,s=t.outerRadius,l=t.startAngle,d=t.endAngle,u=SX(l,d),f=l+u,p=dn(r,a,s,l),x=dn(r,a,s,f),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(l>f),`,
    `).concat(x.x,",").concat(x.y,`
  `);if(i>0){var v=dn(r,a,i,l),j=dn(r,a,i,f);g+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(a," Z");return g},NX=function(t){var r=t.cx,a=t.cy,i=t.innerRadius,s=t.outerRadius,l=t.cornerRadius,d=t.forceCornerRadius,u=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,x=Va(p-f),g=cp({cx:r,cy:a,radius:s,angle:f,sign:x,cornerRadius:l,cornerIsExternal:u}),v=g.circleTangency,j=g.lineTangency,b=g.theta,y=cp({cx:r,cy:a,radius:s,angle:p,sign:-x,cornerRadius:l,cornerIsExternal:u}),C=y.circleTangency,A=y.lineTangency,E=y.theta,S=u?Math.abs(f-p):Math.abs(f-p)-b-E;if(S<0)return d?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):XR({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p});var T="M ".concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(x<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(x<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(x<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var _=cp({cx:r,cy:a,radius:i,angle:f,sign:x,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),P=_.circleTangency,L=_.lineTangency,D=_.theta,B=cp({cx:r,cy:a,radius:i,angle:p,sign:-x,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),M=B.circleTangency,k=B.lineTangency,W=B.theta,F=u?Math.abs(f-p):Math.abs(f-p)-D-W;if(F<0&&l===0)return"".concat(T,"L").concat(r,",").concat(a,"Z");T+="L".concat(k.x,",").concat(k.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(x<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(x>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(x<0),",").concat(L.x,",").concat(L.y,"Z")}else T+="L".concat(r,",").concat(a,"Z");return T},TX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KR=function(t){var r=F6(F6({},TX),t),a=r.cx,i=r.cy,s=r.innerRadius,l=r.outerRadius,d=r.cornerRadius,u=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,x=r.endAngle,g=r.className;if(l<s||p===x)return null;var v=Lt("recharts-sector",g),j=l-s,b=Bo(d,j,0,!0),y;return b>0&&Math.abs(p-x)<360?y=NX({cx:a,cy:i,innerRadius:s,outerRadius:l,cornerRadius:Math.min(b,j/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:p,endAngle:x}):y=XR({cx:a,cy:i,innerRadius:s,outerRadius:l,startAngle:p,endAngle:x}),Te.createElement("path",Qj({},It(r,!0),{className:v,d:y,role:"img"}))};function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zj.apply(this,arguments)}function B6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function L6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B6(Object(r),!0).forEach(function(a){CX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B6(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function CX(e,t,r){return t=AX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AX(e){var t=_X(e,"string");return Qu(t)=="symbol"?t:t+""}function _X(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Qu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z6={curveBasisClosed:Y$,curveBasisOpen:X$,curveBasis:V$,curveBumpX:P$,curveBumpY:R$,curveLinearClosed:K$,curveLinear:e0,curveMonotoneX:Q$,curveMonotoneY:Z$,curveNatural:J$,curveStep:e9,curveStepAfter:r9,curveStepBefore:t9},dp=function(t){return t.x===+t.x&&t.y===+t.y},nu=function(t){return t.x},au=function(t){return t.y},EX=function(t,r){if(At(t))return t;var a="curve".concat(Zm(t));return(a==="curveMonotone"||a==="curveBump")&&r?z6["".concat(a).concat(r==="vertical"?"Y":"X")]:z6[a]||e0},OX=function(t){var r=t.type,a=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,l=t.baseLine,d=t.layout,u=t.connectNulls,f=u===void 0?!1:u,p=EX(a,d),x=f?s.filter(function(b){return dp(b)}):s,g;if(Array.isArray(l)){var v=f?l.filter(function(b){return dp(b)}):l,j=x.map(function(b,y){return L6(L6({},b),{},{base:v[y]})});return d==="vertical"?g=tp().y(au).x1(nu).x0(function(b){return b.base.x}):g=tp().x(nu).y1(au).y0(function(b){return b.base.y}),g.defined(dp).curve(p),g(j)}return d==="vertical"&&nt(l)?g=tp().y(au).x1(nu).x0(l):nt(l)?g=tp().x(nu).y1(au).y0(l):g=eP().x(nu).y(au),g.defined(dp).curve(p),g(x)},Jj=function(t){var r=t.className,a=t.points,i=t.path,s=t.pathRef;if((!a||!a.length)&&!i)return null;var l=a&&a.length?OX(t):i;return Te.createElement("path",Zj({},It(t,!1),Pp(t),{className:Lt("recharts-curve",r),d:l,ref:s}))},S1={exports:{}},N1,$6;function kX(){if($6)return N1;$6=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return N1=e,N1}var T1,U6;function IX(){if(U6)return T1;U6=1;var e=kX();function t(){}function r(){}return r.resetWarningCache=t,T1=function(){function a(l,d,u,f,p,x){if(x!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}a.isRequired=a;function i(){return a}var s={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},T1}var q6;function PX(){return q6||(q6=1,S1.exports=IX()()),S1.exports}var RX=PX();const Ht=ir(RX);var DX=Object.getOwnPropertyNames,MX=Object.getOwnPropertySymbols,FX=Object.prototype.hasOwnProperty;function H6(e,t){return function(a,i,s){return e(a,i,s)&&t(a,i,s)}}function up(e){return function(r,a,i){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,i);var s=i.cache,l=s.get(r),d=s.get(a);if(l&&d)return l===a&&d===r;s.set(r,a),s.set(a,r);var u=e(r,a,i);return s.delete(r),s.delete(a),u}}function W6(e){return DX(e).concat(MX(e))}var BX=Object.hasOwn||function(e,t){return FX.call(e,t)};function Ko(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var LX="__v",zX="__o",$X="_owner",G6=Object.getOwnPropertyDescriptor,V6=Object.keys;function UX(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function qX(e,t){return Ko(e.getTime(),t.getTime())}function HX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function WX(e,t){return e===t}function Y6(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var i=new Array(a),s=e.entries(),l,d,u=0;(l=s.next())&&!l.done;){for(var f=t.entries(),p=!1,x=0;(d=f.next())&&!d.done;){if(i[x]){x++;continue}var g=l.value,v=d.value;if(r.equals(g[0],v[0],u,x,e,t,r)&&r.equals(g[1],v[1],g[0],v[0],e,t,r)){p=i[x]=!0;break}x++}if(!p)return!1;u++}return!0}var GX=Ko;function VX(e,t,r){var a=V6(e),i=a.length;if(V6(t).length!==i)return!1;for(;i-- >0;)if(!QR(e,t,r,a[i]))return!1;return!0}function iu(e,t,r){var a=W6(e),i=a.length;if(W6(t).length!==i)return!1;for(var s,l,d;i-- >0;)if(s=a[i],!QR(e,t,r,s)||(l=G6(e,s),d=G6(t,s),(l||d)&&(!l||!d||l.configurable!==d.configurable||l.enumerable!==d.enumerable||l.writable!==d.writable)))return!1;return!0}function YX(e,t){return Ko(e.valueOf(),t.valueOf())}function XX(e,t){return e.source===t.source&&e.flags===t.flags}function X6(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var i=new Array(a),s=e.values(),l,d;(l=s.next())&&!l.done;){for(var u=t.values(),f=!1,p=0;(d=u.next())&&!d.done;){if(!i[p]&&r.equals(l.value,d.value,l.value,d.value,e,t,r)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function KX(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function QX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function QR(e,t,r,a){return(a===$X||a===zX||a===LX)&&(e.$$typeof||t.$$typeof)?!0:BX(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var ZX="[object Arguments]",JX="[object Boolean]",eK="[object Date]",tK="[object Error]",rK="[object Map]",nK="[object Number]",aK="[object Object]",iK="[object RegExp]",sK="[object Set]",oK="[object String]",lK="[object URL]",cK=Array.isArray,K6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Q6=Object.assign,dK=Object.prototype.toString.call.bind(Object.prototype.toString);function uK(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,l=e.areNumbersEqual,d=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,p=e.areSetsEqual,x=e.areTypedArraysEqual,g=e.areUrlsEqual;return function(j,b,y){if(j===b)return!0;if(j==null||b==null)return!1;var C=typeof j;if(C!==typeof b)return!1;if(C!=="object")return C==="number"?l(j,b,y):C==="function"?i(j,b,y):!1;var A=j.constructor;if(A!==b.constructor)return!1;if(A===Object)return d(j,b,y);if(cK(j))return t(j,b,y);if(K6!=null&&K6(j))return x(j,b,y);if(A===Date)return r(j,b,y);if(A===RegExp)return f(j,b,y);if(A===Map)return s(j,b,y);if(A===Set)return p(j,b,y);var E=dK(j);return E===eK?r(j,b,y):E===iK?f(j,b,y):E===rK?s(j,b,y):E===sK?p(j,b,y):E===aK?typeof j.then!="function"&&typeof b.then!="function"&&d(j,b,y):E===lK?g(j,b,y):E===tK?a(j,b,y):E===ZX?d(j,b,y):E===JX||E===nK||E===oK?u(j,b,y):!1}}function fK(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,i={areArraysEqual:a?iu:UX,areDatesEqual:qX,areErrorsEqual:HX,areFunctionsEqual:WX,areMapsEqual:a?H6(Y6,iu):Y6,areNumbersEqual:GX,areObjectsEqual:a?iu:VX,arePrimitiveWrappersEqual:YX,areRegExpsEqual:XX,areSetsEqual:a?H6(X6,iu):X6,areTypedArraysEqual:a?iu:KX,areUrlsEqual:QX};if(r&&(i=Q6({},i,r(i))),t){var s=up(i.areArraysEqual),l=up(i.areMapsEqual),d=up(i.areObjectsEqual),u=up(i.areSetsEqual);i=Q6({},i,{areArraysEqual:s,areMapsEqual:l,areObjectsEqual:d,areSetsEqual:u})}return i}function hK(e){return function(t,r,a,i,s,l,d){return e(t,r,d)}}function pK(e){var t=e.circular,r=e.comparator,a=e.createState,i=e.equals,s=e.strict;if(a)return function(u,f){var p=a(),x=p.cache,g=x===void 0?t?new WeakMap:void 0:x,v=p.meta;return r(u,f,{cache:g,equals:i,meta:v,strict:s})};if(t)return function(u,f){return r(u,f,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var l={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,f){return r(u,f,l)}}var mK=Zs();Zs({strict:!0});Zs({circular:!0});Zs({circular:!0,strict:!0});Zs({createInternalComparator:function(){return Ko}});Zs({strict:!0,createInternalComparator:function(){return Ko}});Zs({circular:!0,createInternalComparator:function(){return Ko}});Zs({circular:!0,createInternalComparator:function(){return Ko},strict:!0});function Zs(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,i=e.createState,s=e.strict,l=s===void 0?!1:s,d=fK(e),u=uK(d),f=a?a(u):hK(u);return pK({circular:r,comparator:u,createState:i,equals:f,strict:l})}function xK(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Z6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):xK(i)};requestAnimationFrame(a)}function e2(e){"@babel/helpers - typeof";return e2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e2(e)}function gK(e){return jK(e)||bK(e)||vK(e)||yK()}function yK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vK(e,t){if(e){if(typeof e=="string")return J6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J6(e,t)}}function J6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function bK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jK(e){if(Array.isArray(e))return e}function wK(){var e={},t=function(){return null},r=!1,a=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,d=gK(l),u=d[0],f=d.slice(1);if(typeof u=="number"){Z6(i.bind(null,f),u);return}i(u),Z6(i.bind(null,f));return}e2(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,a(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function e3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function t3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(r),!0).forEach(function(a){ZR(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZR(e,t,r){return t=SK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=NK(e,"string");return Zu(t)==="symbol"?t:String(t)}function NK(e,t){if(Zu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Zu(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TK=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,i){return a.filter(function(s){return i.includes(s)})})},CK=function(t){return t},AK=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},yu=function(t,r){return Object.keys(r).reduce(function(a,i){return t3(t3({},a),{},ZR({},i,t(i,r[i])))},{})},r3=function(t,r,a){return t.map(function(i){return"".concat(AK(i)," ").concat(r,"ms ").concat(a)}).join(",")};function _K(e,t){return kK(e)||OK(e,t)||JR(e,t)||EK()}function EK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function kK(e){if(Array.isArray(e))return e}function IK(e){return DK(e)||RK(e)||JR(e)||PK()}function PK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JR(e,t){if(e){if(typeof e=="string")return t2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t2(e,t)}}function RK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DK(e){if(Array.isArray(e))return t2(e)}function t2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var lm=1e-4,eD=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},tD=function(t,r){return t.map(function(a,i){return a*Math.pow(r,i)}).reduce(function(a,i){return a+i})},n3=function(t,r){return function(a){var i=eD(t,r);return tD(i,a)}},MK=function(t,r){return function(a){var i=eD(t,r),s=[].concat(IK(i.map(function(l,d){return l*d}).slice(1)),[0]);return tD(s,a)}},a3=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=r[0],s=r[1],l=r[2],d=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,l=1,d=1;break;case"ease":i=.25,s=.1,l=.25,d=1;break;case"ease-in":i=.42,s=0,l=1,d=1;break;case"ease-out":i=.42,s=0,l=.58,d=1;break;case"ease-in-out":i=0,s=0,l=.58,d=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var f=u[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),p=_K(f,4);i=p[0],s=p[1],l=p[2],d=p[3]}}}var x=n3(i,l),g=n3(s,d),v=MK(i,l),j=function(C){return C>1?1:C<0?0:C},b=function(C){for(var A=C>1?1:C,E=A,S=0;S<8;++S){var T=x(E)-A,_=v(E);if(Math.abs(T-A)<lm||_<lm)return g(E);E=j(E-T/_)}return g(E)};return b.isStepper=!1,b},FK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,l=t.dt,d=l===void 0?17:l,u=function(p,x,g){var v=-(p-x)*a,j=g*s,b=g+(v-j)*d/1e3,y=g*d/1e3+p;return Math.abs(y-x)<lm&&Math.abs(b)<lm?[x,0]:[y,b]};return u.isStepper=!0,u.dt=d,u},BK=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return a3(i);case"spring":return FK();default:if(i.split("(")[0]==="cubic-bezier")return a3(i)}return typeof i=="function"?i:null};function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function i3(e){return $K(e)||zK(e)||rD(e)||LK()}function LK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $K(e){if(Array.isArray(e))return n2(e)}function s3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(r),!0).forEach(function(a){r2(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function r2(e,t,r){return t=UK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UK(e){var t=qK(e,"string");return Ju(t)==="symbol"?t:String(t)}function qK(e,t){if(Ju(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ju(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HK(e,t){return VK(e)||GK(e,t)||rD(e,t)||WK()}function WK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rD(e,t){if(e){if(typeof e=="string")return n2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n2(e,t)}}function n2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function GK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function VK(e){if(Array.isArray(e))return e}var cm=function(t,r,a){return t+(r-t)*a},a2=function(t){var r=t.from,a=t.to;return r!==a},YK=function e(t,r,a){var i=yu(function(s,l){if(a2(l)){var d=t(l.from,l.to,l.velocity),u=HK(d,2),f=u[0],p=u[1];return sn(sn({},l),{},{from:f,velocity:p})}return l},r);return a<1?yu(function(s,l){return a2(l)?sn(sn({},l),{},{velocity:cm(l.velocity,i[s].velocity,a),from:cm(l.from,i[s].from,a)}):l},r):e(t,i,a-1)};const XK=function(e,t,r,a,i){var s=TK(e,t),l=s.reduce(function(y,C){return sn(sn({},y),{},r2({},C,[e[C],t[C]]))},{}),d=s.reduce(function(y,C){return sn(sn({},y),{},r2({},C,{from:e[C],velocity:0,to:t[C]}))},{}),u=-1,f,p,x=function(){return null},g=function(){return yu(function(C,A){return A.from},d)},v=function(){return!Object.values(d).filter(a2).length},j=function(C){f||(f=C);var A=C-f,E=A/r.dt;d=YK(r,d,E),i(sn(sn(sn({},e),t),g())),f=C,v()||(u=requestAnimationFrame(x))},b=function(C){p||(p=C);var A=(C-p)/a,E=yu(function(T,_){return cm.apply(void 0,i3(_).concat([r(A)]))},l);if(i(sn(sn(sn({},e),t),E)),A<1)u=requestAnimationFrame(x);else{var S=yu(function(T,_){return cm.apply(void 0,i3(_).concat([r(1)]))},l);i(sn(sn(sn({},e),t),S))}};return x=r.isStepper?j:b,function(){return requestAnimationFrame(x),function(){cancelAnimationFrame(u)}}};function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}var KK=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function QK(e,t){if(e==null)return{};var r=ZK(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ZK(e,t){if(e==null)return{};var r={},a=Object.keys(e),i,s;for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function C1(e){return rQ(e)||tQ(e)||eQ(e)||JK()}function JK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eQ(e,t){if(e){if(typeof e=="string")return i2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i2(e,t)}}function tQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rQ(e){if(Array.isArray(e))return i2(e)}function i2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function o3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(r),!0).forEach(function(a){fu(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fu(e,t,r){return t=nD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aQ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,nD(a.key),a)}}function iQ(e,t,r){return t&&aQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nD(e){var t=sQ(e,"string");return yc(t)==="symbol"?t:String(t)}function sQ(e,t){if(yc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(yc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s2(e,t)}function s2(e,t){return s2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},s2(e,t)}function lQ(e){var t=cQ();return function(){var a=dm(e),i;if(t){var s=dm(this).constructor;i=Reflect.construct(a,arguments,s)}else i=a.apply(this,arguments);return o2(this,i)}}function o2(e,t){if(t&&(yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l2(e)}function l2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dm(e){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dm(e)}var ts=function(e){oQ(r,e);var t=lQ(r);function r(a,i){var s;nQ(this,r),s=t.call(this,a,i);var l=s.props,d=l.isActive,u=l.attributeName,f=l.from,p=l.to,x=l.steps,g=l.children,v=l.duration;if(s.handleStyleChange=s.handleStyleChange.bind(l2(s)),s.changeStyle=s.changeStyle.bind(l2(s)),!d||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:p}),o2(s);if(x&&x.length)s.state={style:x[0].style};else if(f){if(typeof g=="function")return s.state={style:f},o2(s);s.state={style:u?fu({},u,f):f}}else s.state={style:{}};return s}return iQ(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,l=i.canBegin;this.mounted=!0,!(!s||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isActive,d=s.canBegin,u=s.attributeName,f=s.shouldReAnimate,p=s.to,x=s.from,g=this.state.style;if(d){if(!l){var v={style:u?fu({},u,p):p};this.state&&g&&(u&&g[u]!==p||!u&&g!==p)&&this.setState(v);return}if(!(mK(i.to,p)&&i.canBegin&&i.isActive)){var j=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=j||f?x:i.to;if(this.state&&g){var y={style:u?fu({},u,b):b};(u&&g[u]!==b||!u&&g!==b)&&this.setState(y)}this.runAnimation(Ba(Ba({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,l=i.from,d=i.to,u=i.duration,f=i.easing,p=i.begin,x=i.onAnimationEnd,g=i.onAnimationStart,v=XK(l,d,BK(f),u,this.changeStyle),j=function(){s.stopJSAnimation=v()};this.manager.start([g,p,j,u,x])}},{key:"runStepAnimation",value:function(i){var s=this,l=i.steps,d=i.begin,u=i.onAnimationStart,f=l[0],p=f.style,x=f.duration,g=x===void 0?0:x,v=function(b,y,C){if(C===0)return b;var A=y.duration,E=y.easing,S=E===void 0?"ease":E,T=y.style,_=y.properties,P=y.onAnimationEnd,L=C>0?l[C-1]:y,D=_||Object.keys(T);if(typeof S=="function"||S==="spring")return[].concat(C1(b),[s.runJSAnimation.bind(s,{from:L.style,to:T,duration:A,easing:S}),A]);var B=r3(D,A,S),M=Ba(Ba(Ba({},L.style),T),{},{transition:B});return[].concat(C1(b),[M,A,P]).filter(CK)};return this.manager.start([u].concat(C1(l.reduce(v,[p,Math.max(g,d)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=wK());var s=i.begin,l=i.duration,d=i.attributeName,u=i.to,f=i.easing,p=i.onAnimationStart,x=i.onAnimationEnd,g=i.steps,v=i.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var b=d?fu({},d,u):u,y=r3(Object.keys(b),l,f);j.start([p,s,Ba(Ba({},b),{},{transition:y}),l,x])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var d=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=QK(i,KK),f=N.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!d||f===0||l<=0)return s;var x=function(v){var j=v.props,b=j.style,y=b===void 0?{}:b,C=j.className,A=N.cloneElement(v,Ba(Ba({},u),{},{style:Ba(Ba({},y),p),className:C}));return A};return f===1?x(N.Children.only(s)):Te.createElement("div",null,N.Children.map(s,function(g){return x(g)}))}}]),r}(N.PureComponent);ts.displayName="Animate";ts.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ts.propTypes={from:Ht.oneOfType([Ht.object,Ht.string]),to:Ht.oneOfType([Ht.object,Ht.string]),attributeName:Ht.string,duration:Ht.number,begin:Ht.number,easing:Ht.oneOfType([Ht.string,Ht.func]),steps:Ht.arrayOf(Ht.shape({duration:Ht.number.isRequired,style:Ht.object.isRequired,easing:Ht.oneOfType([Ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ht.func]),properties:Ht.arrayOf("string"),onAnimationEnd:Ht.func})),children:Ht.oneOfType([Ht.node,Ht.func]),isActive:Ht.bool,canBegin:Ht.bool,onAnimationEnd:Ht.func,shouldReAnimate:Ht.bool,onAnimationStart:Ht.func,onAnimationReStart:Ht.func};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},um.apply(this,arguments)}function dQ(e,t){return pQ(e)||hQ(e,t)||fQ(e,t)||uQ()}function uQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(e,t){if(e){if(typeof e=="string")return l3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l3(e,t)}}function l3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function hQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function pQ(e){if(Array.isArray(e))return e}function c3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function d3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(r),!0).forEach(function(a){mQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mQ(e,t,r){return t=xQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=gQ(e,"string");return ef(t)=="symbol"?t:t+""}function gQ(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ef(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u3=function(t,r,a,i,s){var l=Math.min(Math.abs(a)/2,Math.abs(i)/2),d=i>=0?1:-1,u=a>=0?1:-1,f=i>=0&&a>=0||i<0&&a<0?1:0,p;if(l>0&&s instanceof Array){for(var x=[0,0,0,0],g=0,v=4;g<v;g++)x[g]=s[g]>l?l:s[g];p="M".concat(t,",").concat(r+d*x[0]),x[0]>0&&(p+="A ".concat(x[0],",").concat(x[0],",0,0,").concat(f,",").concat(t+u*x[0],",").concat(r)),p+="L ".concat(t+a-u*x[1],",").concat(r),x[1]>0&&(p+="A ".concat(x[1],",").concat(x[1],",0,0,").concat(f,`,
        `).concat(t+a,",").concat(r+d*x[1])),p+="L ".concat(t+a,",").concat(r+i-d*x[2]),x[2]>0&&(p+="A ".concat(x[2],",").concat(x[2],",0,0,").concat(f,`,
        `).concat(t+a-u*x[2],",").concat(r+i)),p+="L ".concat(t+u*x[3],",").concat(r+i),x[3]>0&&(p+="A ".concat(x[3],",").concat(x[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+i-d*x[3])),p+="Z"}else if(l>0&&s===+s&&s>0){var j=Math.min(l,s);p="M ".concat(t,",").concat(r+d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+u*j,",").concat(r,`
            L `).concat(t+a-u*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+a,",").concat(r+d*j,`
            L `).concat(t+a,",").concat(r+i-d*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+a-u*j,",").concat(r+i,`
            L `).concat(t+u*j,",").concat(r+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t,",").concat(r+i-d*j," Z")}else p="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(i," h ").concat(-a," Z");return p},yQ=function(t,r){if(!t||!r)return!1;var a=t.x,i=t.y,s=r.x,l=r.y,d=r.width,u=r.height;if(Math.abs(d)>0&&Math.abs(u)>0){var f=Math.min(s,s+d),p=Math.max(s,s+d),x=Math.min(l,l+u),g=Math.max(l,l+u);return a>=f&&a<=p&&i>=x&&i<=g}return!1},vQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qw=function(t){var r=d3(d3({},vQ),t),a=N.useRef(),i=N.useState(-1),s=dQ(i,2),l=s[0],d=s[1];N.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&d(S)}catch{}},[]);var u=r.x,f=r.y,p=r.width,x=r.height,g=r.radius,v=r.className,j=r.animationEasing,b=r.animationDuration,y=r.animationBegin,C=r.isAnimationActive,A=r.isUpdateAnimationActive;if(u!==+u||f!==+f||p!==+p||x!==+x||p===0||x===0)return null;var E=Lt("recharts-rectangle",v);return A?Te.createElement(ts,{canBegin:l>0,from:{width:p,height:x,x:u,y:f},to:{width:p,height:x,x:u,y:f},duration:b,animationEasing:j,isActive:A},function(S){var T=S.width,_=S.height,P=S.x,L=S.y;return Te.createElement(ts,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:C,easing:j},Te.createElement("path",um({},It(r,!0),{className:E,d:u3(P,L,T,_,g),ref:a})))}):Te.createElement("path",um({},It(r,!0),{className:E,d:u3(u,f,p,x,g)}))};function c2(){return c2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c2.apply(this,arguments)}var Zw=function(t){var r=t.cx,a=t.cy,i=t.r,s=t.className,l=Lt("recharts-dot",s);return r===+r&&a===+a&&i===+i?Te.createElement("circle",c2({},It(t,!1),Pp(t),{className:l,cx:r,cy:a,r:i})):null};function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}var bQ=["x","y","top","left","width","height","className"];function d2(){return d2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d2.apply(this,arguments)}function f3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function jQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(r),!0).forEach(function(a){wQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wQ(e,t,r){return t=SQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=NQ(e,"string");return tf(t)=="symbol"?t:t+""}function NQ(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(tf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TQ(e,t){if(e==null)return{};var r=CQ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function CQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var AQ=function(t,r,a,i,s,l){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(a)},_Q=function(t){var r=t.x,a=r===void 0?0:r,i=t.y,s=i===void 0?0:i,l=t.top,d=l===void 0?0:l,u=t.left,f=u===void 0?0:u,p=t.width,x=p===void 0?0:p,g=t.height,v=g===void 0?0:g,j=t.className,b=TQ(t,bQ),y=jQ({x:a,y:s,top:d,left:f,width:x,height:v},b);return!nt(a)||!nt(s)||!nt(x)||!nt(v)||!nt(d)||!nt(f)?null:Te.createElement("path",d2({},It(y,!0),{className:Lt("recharts-cross",j),d:AQ(a,s,x,v,d,f)}))},A1,h3;function EQ(){if(h3)return A1;h3=1;var e=SP(),t=e(Object.getPrototypeOf,Object);return A1=t,A1}var _1,p3;function OQ(){if(p3)return _1;p3=1;var e=as(),t=EQ(),r=is(),a="[object Object]",i=Function.prototype,s=Object.prototype,l=i.toString,d=s.hasOwnProperty,u=l.call(Object);function f(p){if(!r(p)||e(p)!=a)return!1;var x=t(p);if(x===null)return!0;var g=d.call(x,"constructor")&&x.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==u}return _1=f,_1}var kQ=OQ();const IQ=ir(kQ);var E1,m3;function PQ(){if(m3)return E1;m3=1;var e=as(),t=is(),r="[object Boolean]";function a(i){return i===!0||i===!1||t(i)&&e(i)==r}return E1=a,E1}var RQ=PQ();const DQ=ir(RQ);function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fm.apply(this,arguments)}function MQ(e,t){return zQ(e)||LQ(e,t)||BQ(e,t)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQ(e,t){if(e){if(typeof e=="string")return x3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x3(e,t)}}function x3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function LQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function zQ(e){if(Array.isArray(e))return e}function g3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function y3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(r),!0).forEach(function(a){$Q(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $Q(e,t,r){return t=UQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UQ(e){var t=qQ(e,"string");return rf(t)=="symbol"?t:t+""}function qQ(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(rf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v3=function(t,r,a,i,s){var l=a-i,d;return d="M ".concat(t,",").concat(r),d+="L ".concat(t+a,",").concat(r),d+="L ".concat(t+a-l/2,",").concat(r+s),d+="L ".concat(t+a-l/2-i,",").concat(r+s),d+="L ".concat(t,",").concat(r," Z"),d},HQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WQ=function(t){var r=y3(y3({},HQ),t),a=N.useRef(),i=N.useState(-1),s=MQ(i,2),l=s[0],d=s[1];N.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var E=a.current.getTotalLength();E&&d(E)}catch{}},[]);var u=r.x,f=r.y,p=r.upperWidth,x=r.lowerWidth,g=r.height,v=r.className,j=r.animationEasing,b=r.animationDuration,y=r.animationBegin,C=r.isUpdateAnimationActive;if(u!==+u||f!==+f||p!==+p||x!==+x||g!==+g||p===0&&x===0||g===0)return null;var A=Lt("recharts-trapezoid",v);return C?Te.createElement(ts,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:u,y:f},to:{upperWidth:p,lowerWidth:x,height:g,x:u,y:f},duration:b,animationEasing:j,isActive:C},function(E){var S=E.upperWidth,T=E.lowerWidth,_=E.height,P=E.x,L=E.y;return Te.createElement(ts,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:j},Te.createElement("path",fm({},It(r,!0),{className:A,d:v3(P,L,S,T,_),ref:a})))}):Te.createElement("g",null,Te.createElement("path",fm({},It(r,!0),{className:A,d:v3(u,f,p,x,g)})))},GQ=["option","shapeType","propTransformer","activeClassName","isActive"];function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function VQ(e,t){if(e==null)return{};var r=YQ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function YQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function b3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(r),!0).forEach(function(a){XQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function XQ(e,t,r){return t=KQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KQ(e){var t=QQ(e,"string");return nf(t)=="symbol"?t:t+""}function QQ(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(nf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZQ(e,t){return hm(hm({},t),e)}function JQ(e,t){return e==="symbols"}function j3(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Te.createElement(Qw,r);case"trapezoid":return Te.createElement(WQ,r);case"sector":return Te.createElement(KR,r);case"symbols":if(JQ(t))return Te.createElement(xw,r);break;default:return null}}function eZ(e){return N.isValidElement(e)?e.props:e}function tZ(e){var t=e.option,r=e.shapeType,a=e.propTransformer,i=a===void 0?ZQ:a,s=e.activeClassName,l=s===void 0?"recharts-active-shape":s,d=e.isActive,u=VQ(e,GQ),f;if(N.isValidElement(t))f=N.cloneElement(t,hm(hm({},u),eZ(t)));else if(At(t))f=t(u);else if(IQ(t)&&!DQ(t)){var p=i(t,u);f=Te.createElement(j3,{shapeType:r,elementProps:p})}else{var x=u;f=Te.createElement(j3,{shapeType:r,elementProps:x})}return d?Te.createElement(Ar,{className:l},f):f}function x0(e,t){return t!=null&&"trapezoids"in e.props}function g0(e,t){return t!=null&&"sectors"in e.props}function af(e,t){return t!=null&&"points"in e.props}function rZ(e,t){var r,a,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return i&&s}function nZ(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function aZ(e,t){var r=e.x===t.x,a=e.y===t.y,i=e.z===t.z;return r&&a&&i}function iZ(e,t){var r;return x0(e,t)?r=rZ:g0(e,t)?r=nZ:af(e,t)&&(r=aZ),r}function sZ(e,t){var r;return x0(e,t)?r="trapezoids":g0(e,t)?r="sectors":af(e,t)&&(r="points"),r}function oZ(e,t){if(x0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(g0(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return af(e,t)?t.payload:{}}function lZ(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,i=sZ(r,t),s=oZ(r,t),l=a.filter(function(u,f){var p=h0(s,u),x=r.props[i].filter(function(j){var b=iZ(r,t);return b(j,t)}),g=r.props[i].indexOf(x[x.length-1]),v=f===g;return p&&v}),d=a.indexOf(l[l.length-1]);return d}var O1,w3;function cZ(){if(w3)return O1;w3=1;var e=Math.ceil,t=Math.max;function r(a,i,s,l){for(var d=-1,u=t(e((i-a)/(s||1)),0),f=Array(u);u--;)f[l?u:++d]=a,a+=s;return f}return O1=r,O1}var k1,S3;function aD(){if(S3)return k1;S3=1;var e=LP(),t=1/0,r=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return k1=a,k1}var I1,N3;function dZ(){if(N3)return I1;N3=1;var e=cZ(),t=a0(),r=aD();function a(i){return function(s,l,d){return d&&typeof d!="number"&&t(s,l,d)&&(l=d=void 0),s=r(s),l===void 0?(l=s,s=0):l=r(l),d=d===void 0?s<l?1:-1:r(d),e(s,l,d,i)}}return I1=a,I1}var P1,T3;function uZ(){if(T3)return P1;T3=1;var e=dZ(),t=e();return P1=t,P1}var fZ=uZ();const pm=ir(fZ);function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function C3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function A3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(r),!0).forEach(function(a){iD(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iD(e,t,r){return t=hZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hZ(e){var t=pZ(e,"string");return sf(t)=="symbol"?t:t+""}function pZ(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(sf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mZ=["Webkit","Moz","O","ms"],xZ=function(t,r){var a=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=mZ.reduce(function(s,l){return A3(A3({},s),{},iD({},l+a,r))},{});return i[t]=r,i};function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mm.apply(this,arguments)}function _3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function R1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(r),!0).forEach(function(a){ta(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E3(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oD(a.key),a)}}function yZ(e,t,r){return t&&E3(e.prototype,t),r&&E3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vZ(e,t,r){return t=xm(t),bZ(e,sD()?Reflect.construct(t,r||[],xm(e).constructor):t.apply(e,r))}function bZ(e,t){if(t&&(vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jZ(e)}function jZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!e})()}function xm(e){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(e)}function wZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u2(e,t)}function u2(e,t){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},u2(e,t)}function ta(e,t,r){return t=oD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oD(e){var t=SZ(e,"string");return vc(t)=="symbol"?t:t+""}function SZ(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(vc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NZ=function(t){var r=t.data,a=t.startIndex,i=t.endIndex,s=t.x,l=t.width,d=t.travellerWidth;if(!r||!r.length)return{};var u=r.length,f=xu().domain(pm(0,u)).range([s,s+l-d]),p=f.domain().map(function(x){return f(x)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(a),endX:f(i),scale:f,scaleValues:p}},O3=function(t){return t.changedTouches&&!!t.changedTouches.length},bc=function(e){function t(r){var a;return gZ(this,t),a=vZ(this,t,[r]),ta(a,"handleDrag",function(i){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(i):a.state.isSlideMoving&&a.handleSlideDrag(i)}),ta(a,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&a.handleDrag(i.changedTouches[0])}),ta(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=a.props,s=i.endIndex,l=i.onDragEnd,d=i.startIndex;l==null||l({endIndex:s,startIndex:d})}),a.detachDragEndListener()}),ta(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),ta(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),ta(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),ta(a,"handleSlideDragStart",function(i){var s=O3(i)?i.changedTouches[0]:i;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return wZ(t,e),yZ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var i=a.startX,s=a.endX,l=this.state.scaleValues,d=this.props,u=d.gap,f=d.data,p=f.length-1,x=Math.min(i,s),g=Math.max(i,s),v=t.getIndexInRange(l,x),j=t.getIndexInRange(l,g);return{startIndex:v-v%u,endIndex:j===p?p:j-j%u}}},{key:"getTextOfTick",value:function(a){var i=this.props,s=i.data,l=i.tickFormatter,d=i.dataKey,u=la(s[a],d,a);return At(l)?l(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var i=this.state,s=i.slideMoveStartX,l=i.startX,d=i.endX,u=this.props,f=u.x,p=u.width,x=u.travellerWidth,g=u.startIndex,v=u.endIndex,j=u.onChange,b=a.pageX-s;b>0?b=Math.min(b,f+p-x-d,f+p-x-l):b<0&&(b=Math.max(b,f-l,f-d));var y=this.getIndex({startX:l+b,endX:d+b});(y.startIndex!==g||y.endIndex!==v)&&j&&j(y),this.setState({startX:l+b,endX:d+b,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,i){var s=O3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var i=this.state,s=i.brushMoveStartX,l=i.movingTravellerId,d=i.endX,u=i.startX,f=this.state[l],p=this.props,x=p.x,g=p.width,v=p.travellerWidth,j=p.onChange,b=p.gap,y=p.data,C={startX:this.state.startX,endX:this.state.endX},A=a.pageX-s;A>0?A=Math.min(A,x+g-v-f):A<0&&(A=Math.max(A,x-f)),C[l]=f+A;var E=this.getIndex(C),S=E.startIndex,T=E.endIndex,_=function(){var L=y.length-1;return l==="startX"&&(d>u?S%b===0:T%b===0)||d<u&&T===L||l==="endX"&&(d>u?T%b===0:S%b===0)||d>u&&T===L};this.setState(ta(ta({},l,f+A),"brushMoveStartX",a.pageX),function(){j&&_()&&j(E)})}},{key:"handleTravellerMoveKeyboard",value:function(a,i){var s=this,l=this.state,d=l.scaleValues,u=l.startX,f=l.endX,p=this.state[i],x=d.indexOf(p);if(x!==-1){var g=x+a;if(!(g===-1||g>=d.length)){var v=d[g];i==="startX"&&v>=f||i==="endX"&&v<=u||this.setState(ta({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,i=a.x,s=a.y,l=a.width,d=a.height,u=a.fill,f=a.stroke;return Te.createElement("rect",{stroke:f,fill:u,x:i,y:s,width:l,height:d})}},{key:"renderPanorama",value:function(){var a=this.props,i=a.x,s=a.y,l=a.width,d=a.height,u=a.data,f=a.children,p=a.padding,x=N.Children.only(f);return x?Te.cloneElement(x,{x:i,y:s,width:l,height:d,margin:p,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,i){var s,l,d=this,u=this.props,f=u.y,p=u.travellerWidth,x=u.height,g=u.traveller,v=u.ariaLabel,j=u.data,b=u.startIndex,y=u.endIndex,C=Math.max(a,this.props.x),A=R1(R1({},It(this.props,!1)),{},{x:C,y:f,width:p,height:x}),E=v||"Min value: ".concat((s=j[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((l=j[y])===null||l===void 0?void 0:l.name);return Te.createElement(Ar,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),d.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){d.setState({isTravellerFocused:!0})},onBlur:function(){d.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,A))}},{key:"renderSlide",value:function(a,i){var s=this.props,l=s.y,d=s.height,u=s.stroke,f=s.travellerWidth,p=Math.min(a,i)+f,x=Math.max(Math.abs(i-a)-f,0);return Te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:p,y:l,width:x,height:d})}},{key:"renderText",value:function(){var a=this.props,i=a.startIndex,s=a.endIndex,l=a.y,d=a.height,u=a.travellerWidth,f=a.stroke,p=this.state,x=p.startX,g=p.endX,v=5,j={pointerEvents:"none",fill:f};return Te.createElement(Ar,{className:"recharts-brush-texts"},Te.createElement(Wp,mm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(x,g)-v,y:l+d/2},j),this.getTextOfTick(i)),Te.createElement(Wp,mm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(x,g)+u+v,y:l+d/2},j),this.getTextOfTick(s)))}},{key:"render",value:function(){var a=this.props,i=a.data,s=a.className,l=a.children,d=a.x,u=a.y,f=a.width,p=a.height,x=a.alwaysShowText,g=this.state,v=g.startX,j=g.endX,b=g.isTextActive,y=g.isSlideMoving,C=g.isTravellerMoving,A=g.isTravellerFocused;if(!i||!i.length||!nt(d)||!nt(u)||!nt(f)||!nt(p)||f<=0||p<=0)return null;var E=Lt("recharts-brush",s),S=Te.Children.count(l)===1,T=xZ("userSelect","none");return Te.createElement(Ar,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(b||y||C||A||x)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var i=a.x,s=a.y,l=a.width,d=a.height,u=a.stroke,f=Math.floor(s+d/2)-1;return Te.createElement(Te.Fragment,null,Te.createElement("rect",{x:i,y:s,width:l,height:d,fill:u,stroke:"none"}),Te.createElement("line",{x1:i+1,y1:f,x2:i+l-1,y2:f,fill:"none",stroke:"#fff"}),Te.createElement("line",{x1:i+1,y1:f+2,x2:i+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,i){var s;return Te.isValidElement(a)?s=Te.cloneElement(a,i):At(a)?s=a(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(a,i){var s=a.data,l=a.width,d=a.x,u=a.travellerWidth,f=a.updateId,p=a.startIndex,x=a.endIndex;if(s!==i.prevData||f!==i.prevUpdateId)return R1({prevData:s,prevTravellerWidth:u,prevUpdateId:f,prevX:d,prevWidth:l},s&&s.length?NZ({data:s,width:l,x:d,travellerWidth:u,startIndex:p,endIndex:x}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||d!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([d,d+l-u]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:f,prevX:d,prevWidth:l,startX:i.scale(a.startIndex),endX:i.scale(a.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(a,i){for(var s=a.length,l=0,d=s-1;d-l>1;){var u=Math.floor((l+d)/2);a[u]>i?d=u:l=u}return i>=a[d]?d:l}}])}(N.PureComponent);ta(bc,"displayName","Brush");ta(bc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var D1,k3;function TZ(){if(k3)return D1;k3=1;var e=Sw();function t(r,a){var i;return e(r,function(s,l,d){return i=a(s,l,d),!i}),!!i}return D1=t,D1}var M1,I3;function CZ(){if(I3)return M1;I3=1;var e=xP(),t=Xs(),r=TZ(),a=Gn(),i=a0();function s(l,d,u){var f=a(l)?e:r;return u&&i(l,d,u)&&(d=void 0),f(l,t(d,3))}return M1=s,M1}var AZ=CZ();const _Z=ir(AZ);var pi=function(t,r){var a=t.alwaysShow,i=t.ifOverflow;return a&&(i="extendDomain"),i===r},F1,P3;function EZ(){if(P3)return F1;P3=1;var e=RP();function t(r,a,i){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[a]=i}return F1=t,F1}var B1,R3;function OZ(){if(R3)return B1;R3=1;var e=EZ(),t=IP(),r=Xs();function a(i,s){var l={};return s=r(s,3),t(i,function(d,u,f){e(l,u,s(d,u,f))}),l}return B1=a,B1}var kZ=OZ();const IZ=ir(kZ);var L1,D3;function PZ(){if(D3)return L1;D3=1;function e(t,r){for(var a=-1,i=t==null?0:t.length;++a<i;)if(!r(t[a],a,t))return!1;return!0}return L1=e,L1}var z1,M3;function RZ(){if(M3)return z1;M3=1;var e=Sw();function t(r,a){var i=!0;return e(r,function(s,l,d){return i=!!a(s,l,d),i}),i}return z1=t,z1}var $1,F3;function DZ(){if(F3)return $1;F3=1;var e=PZ(),t=RZ(),r=Xs(),a=Gn(),i=a0();function s(l,d,u){var f=a(l)?e:t;return u&&i(l,d,u)&&(d=void 0),f(l,r(d,3))}return $1=s,$1}var MZ=DZ();const lD=ir(MZ);var FZ=["x","y"];function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f2.apply(this,arguments)}function B3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B3(Object(r),!0).forEach(function(a){BZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BZ(e,t,r){return t=LZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LZ(e){var t=zZ(e,"string");return of(t)=="symbol"?t:t+""}function zZ(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(of(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Z(e,t){if(e==null)return{};var r=UZ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function UZ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function qZ(e,t){var r=e.x,a=e.y,i=$Z(e,FZ),s="".concat(r),l=parseInt(s,10),d="".concat(a),u=parseInt(d,10),f="".concat(t.height||i.height),p=parseInt(f,10),x="".concat(t.width||i.width),g=parseInt(x,10);return su(su(su(su(su({},t),i),l?{x:l}:{}),u?{y:u}:{}),{},{height:p,width:g,name:t.name,radius:t.radius})}function L3(e){return Te.createElement(tZ,f2({shapeType:"rectangle",propTransformer:qZ,activeClassName:"recharts-active-bar"},e))}var HZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,i){if(typeof t=="number")return t;var s=typeof a=="number";return s?t(a,i):(s||zo(),r)}},WZ=["value","background"],cD;function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function GZ(e,t){if(e==null)return{};var r=VZ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function VZ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gm.apply(this,arguments)}function z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(r),!0).forEach(function(a){Fs(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function YZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $3(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,uD(a.key),a)}}function XZ(e,t,r){return t&&$3(e.prototype,t),r&&$3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KZ(e,t,r){return t=ym(t),QZ(e,dD()?Reflect.construct(t,r||[],ym(e).constructor):t.apply(e,r))}function QZ(e,t){if(t&&(jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZZ(e)}function ZZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dD=function(){return!!e})()}function ym(e){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(e)}function JZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h2(e,t)}function h2(e,t){return h2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},h2(e,t)}function Fs(e,t,r){return t=uD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uD(e){var t=eJ(e,"string");return jc(t)=="symbol"?t:t+""}function eJ(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(jc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qo=function(e){function t(){var r;YZ(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=KZ(this,t,[].concat(i)),Fs(r,"state",{isAnimationFinished:!1}),Fs(r,"id",Af("recharts-bar-")),Fs(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Fs(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return JZ(t,e),XZ(t,[{key:"renderRectanglesStatically",value:function(a){var i=this,s=this.props,l=s.shape,d=s.dataKey,u=s.activeIndex,f=s.activeBar,p=It(this.props,!1);return a&&a.map(function(x,g){var v=g===u,j=v?f:l,b=kr(kr(kr({},p),x),{},{isActive:v,option:j,index:g,dataKey:d,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Te.createElement(Ar,gm({className:"recharts-bar-rectangle"},Rp(i.props,x,g),{key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(g)}),Te.createElement(L3,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,i=this.props,s=i.data,l=i.layout,d=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,p=i.animationEasing,x=i.animationId,g=this.state.prevData;return Te.createElement(ts,{begin:u,duration:f,isActive:d,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,b=s.map(function(y,C){var A=g&&g[C];if(A){var E=Ha(A.x,y.x),S=Ha(A.y,y.y),T=Ha(A.width,y.width),_=Ha(A.height,y.height);return kr(kr({},y),{},{x:E(j),y:S(j),width:T(j),height:_(j)})}if(l==="horizontal"){var P=Ha(0,y.height),L=P(j);return kr(kr({},y),{},{y:y.y+y.height-L,height:L})}var D=Ha(0,y.width),B=D(j);return kr(kr({},y),{},{width:B})});return Te.createElement(Ar,null,a.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var a=this.props,i=a.data,s=a.isAnimationActive,l=this.state.prevData;return s&&i&&i.length&&(!l||!h0(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var a=this,i=this.props,s=i.data,l=i.dataKey,d=i.activeIndex,u=It(this.props.background,!1);return s.map(function(f,p){f.value;var x=f.background,g=GZ(f,WZ);if(!x)return null;var v=kr(kr(kr(kr(kr({},g),{},{fill:"#eee"},x),u),Rp(a.props,f,p)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return Te.createElement(L3,gm({key:"background-bar-".concat(p),option:a.props.background,isActive:p===d},v))})}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.data,d=s.xAxis,u=s.yAxis,f=s.layout,p=s.children,x=_a(p,Pf);if(!x)return null;var g=f==="vertical"?l[0].height/2:l[0].width/2,v=function(y,C){var A=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:A,errorVal:la(y,C)}},j={clipPath:a?"url(#clipPath-".concat(i,")"):null};return Te.createElement(Ar,j,x.map(function(b){return Te.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:l,xAxis:d,yAxis:u,layout:f,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var a=this.props,i=a.hide,s=a.data,l=a.className,d=a.xAxis,u=a.yAxis,f=a.left,p=a.top,x=a.width,g=a.height,v=a.isAnimationActive,j=a.background,b=a.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,C=Lt("recharts-bar",l),A=d&&d.allowDataOverflow,E=u&&u.allowDataOverflow,S=A||E,T=kt(b)?this.id:b;return Te.createElement(Ar,{className:C},A||E?Te.createElement("defs",null,Te.createElement("clipPath",{id:"clipPath-".concat(T)},Te.createElement("rect",{x:A?f:f-x/2,y:E?p:p-g/2,width:A?x:x*2,height:E?g:g*2}))):null,Te.createElement(Ar,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(T,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,T),(!v||y)&&$s.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:i.curData}:a.data!==i.curData?{curData:a.data}:null}}])}(N.PureComponent);cD=Qo;Fs(Qo,"displayName","Bar");Fs(Qo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$c.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fs(Qo,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,i=e.bandSize,s=e.xAxis,l=e.yAxis,d=e.xAxisTicks,u=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,x=e.displayedData,g=e.offset,v=vY(a,r);if(!v)return null;var j=t.layout,b=r.type.defaultProps,y=b!==void 0?kr(kr({},b),r.props):r.props,C=y.dataKey,A=y.children,E=y.minPointSize,S=j==="horizontal"?l:s,T=f?S.scale.domain():null,_=AY({numericAxis:S}),P=_a(A,$P),L=x.map(function(D,B){var M,k,W,F,I,R;f?M=bY(f[p+B],T):(M=la(D,C),Array.isArray(M)||(M=[_,M]));var X=HZ(E,cD.defaultProps.minPointSize)(M[1],B);if(j==="horizontal"){var ne,ge=[l.scale(M[0]),l.scale(M[1])],q=ge[0],ee=ge[1];k=N6({axis:s,ticks:d,bandSize:i,offset:v.offset,entry:D,index:B}),W=(ne=ee??q)!==null&&ne!==void 0?ne:void 0,F=v.size;var z=q-ee;if(I=Number.isNaN(z)?0:z,R={x:k,y:l.y,width:F,height:l.height},Math.abs(X)>0&&Math.abs(I)<Math.abs(X)){var U=Va(I||X)*(Math.abs(X)-Math.abs(I));W-=U,I+=U}}else{var V=[s.scale(M[0]),s.scale(M[1])],te=V[0],se=V[1];if(k=te,W=N6({axis:l,ticks:u,bandSize:i,offset:v.offset,entry:D,index:B}),F=se-te,I=v.size,R={x:s.x,y:W,width:s.width,height:I},Math.abs(X)>0&&Math.abs(F)<Math.abs(X)){var Z=Va(F||X)*(Math.abs(X)-Math.abs(F));F+=Z}}return kr(kr(kr({},D),{},{x:k,y:W,width:F,height:I,value:f?M:M[1],payload:D,background:R},P&&P[B]&&P[B].props),{},{tooltipPayload:[VR(r,D)],tooltipPosition:{x:k+F/2,y:W+I/2}})});return kr({data:L,layout:j},g)});function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function tJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U3(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fD(a.key),a)}}function rJ(e,t,r){return t&&U3(e.prototype,t),r&&U3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(r),!0).forEach(function(a){y0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function y0(e,t,r){return t=fD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fD(e){var t=nJ(e,"string");return lf(t)=="symbol"?t:t+""}function nJ(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(lf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hD=function(t,r,a,i,s){var l=t.width,d=t.height,u=t.layout,f=t.children,p=Object.keys(r),x={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:d-a.bottom,bottomMirror:d-a.bottom},g=!!na(f,Qo);return p.reduce(function(v,j){var b=r[j],y=b.orientation,C=b.domain,A=b.padding,E=A===void 0?{}:A,S=b.mirror,T=b.reversed,_="".concat(y).concat(S?"Mirror":""),P,L,D,B,M;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var k=C[1]-C[0],W=1/0,F=b.categoricalDomain.sort(n$);if(F.forEach(function(V,te){te>0&&(W=Math.min((V||0)-(F[te-1]||0),W))}),Number.isFinite(W)){var I=W/k,R=b.layout==="vertical"?a.height:a.width;if(b.padding==="gap"&&(P=I*R/2),b.padding==="no-gap"){var X=Bo(t.barCategoryGap,I*R),ne=I*R/2;P=ne-X-(ne-X)/R*X}}}i==="xAxis"?L=[a.left+(E.left||0)+(P||0),a.left+a.width-(E.right||0)-(P||0)]:i==="yAxis"?L=u==="horizontal"?[a.top+a.height-(E.bottom||0),a.top+(E.top||0)]:[a.top+(E.top||0)+(P||0),a.top+a.height-(E.bottom||0)-(P||0)]:L=b.range,T&&(L=[L[1],L[0]]);var ge=gY(b,s,g),q=ge.scale,ee=ge.realScaleType;q.domain(C).range(L),yY(q);var z=CY(q,Ua(Ua({},b),{},{realScaleType:ee}));i==="xAxis"?(M=y==="top"&&!S||y==="bottom"&&S,D=a.left,B=x[_]-M*b.height):i==="yAxis"&&(M=y==="left"&&!S||y==="right"&&S,D=x[_]-M*b.width,B=a.top);var U=Ua(Ua(Ua({},b),z),{},{realScaleType:ee,x:D,y:B,scale:q,width:i==="xAxis"?a.width:b.width,height:i==="yAxis"?a.height:b.height});return U.bandSize=im(U,z),!b.hide&&i==="xAxis"?x[_]+=(M?-1:1)*U.height:b.hide||(x[_]+=(M?-1:1)*U.width),Ua(Ua({},v),{},y0({},j,U))},{})},pD=function(t,r){var a=t.x,i=t.y,s=r.x,l=r.y;return{x:Math.min(a,s),y:Math.min(i,l),width:Math.abs(s-a),height:Math.abs(l-i)}},aJ=function(t){var r=t.x1,a=t.y1,i=t.x2,s=t.y2;return pD({x:r,y:a},{x:i,y:s})},mD=function(){function e(t){tJ(this,e),this.scale=t}return rJ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,s=a.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var d=this.bandwidth?this.bandwidth():0;return this.scale(r)+d}default:return this.scale(r)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),i=a[0],s=a[a.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();y0(mD,"EPS",1e-4);var Jw=function(t){var r=Object.keys(t).reduce(function(a,i){return Ua(Ua({},a),{},y0({},i,mD.create(t[i])))},{});return Ua(Ua({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.bandAware,d=s.position;return IZ(i,function(u,f){return r[f].apply(u,{bandAware:l,position:d})})},isInRange:function(i){return lD(i,function(s,l){return r[l].isInRange(s)})}})};function iJ(e){return(e%180+180)%180}var sJ=function(t){var r=t.width,a=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=iJ(i),l=s*Math.PI/180,d=Math.atan(a/r),u=l>d&&l<Math.PI-d?a/Math.sin(l):r/Math.cos(l);return Math.abs(u)},U1,H3;function oJ(){if(H3)return U1;H3=1;var e=Xs(),t=_f(),r=r0();function a(i){return function(s,l,d){var u=Object(s);if(!t(s)){var f=e(l,3);s=r(s),l=function(x){return f(u[x],x,u)}}var p=i(s,l,d);return p>-1?u[f?s[p]:p]:void 0}}return U1=a,U1}var q1,W3;function lJ(){if(W3)return q1;W3=1;var e=aD();function t(r){var a=e(r),i=a%1;return a===a?i?a-i:a:0}return q1=t,q1}var H1,G3;function cJ(){if(G3)return H1;G3=1;var e=AP(),t=Xs(),r=lJ(),a=Math.max;function i(s,l,d){var u=s==null?0:s.length;if(!u)return-1;var f=d==null?0:r(d);return f<0&&(f=a(u+f,0)),e(s,t(l,3),f)}return H1=i,H1}var W1,V3;function dJ(){if(V3)return W1;V3=1;var e=oJ(),t=cJ(),r=e(t);return W1=r,W1}var uJ=dJ();const fJ=ir(uJ);var hJ=qI();const pJ=ir(hJ);var mJ=pJ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),eS=N.createContext(void 0),tS=N.createContext(void 0),xD=N.createContext(void 0),gD=N.createContext({}),yD=N.createContext(void 0),vD=N.createContext(0),bD=N.createContext(0),Y3=function(t){var r=t.state,a=r.xAxisMap,i=r.yAxisMap,s=r.offset,l=t.clipPathId,d=t.children,u=t.width,f=t.height,p=mJ(s);return Te.createElement(eS.Provider,{value:a},Te.createElement(tS.Provider,{value:i},Te.createElement(gD.Provider,{value:s},Te.createElement(xD.Provider,{value:p},Te.createElement(yD.Provider,{value:l},Te.createElement(vD.Provider,{value:f},Te.createElement(bD.Provider,{value:u},d)))))))},xJ=function(){return N.useContext(yD)},jD=function(t){var r=N.useContext(eS);r==null&&zo();var a=r[t];return a==null&&zo(),a},gJ=function(){var t=N.useContext(eS);return Rs(t)},yJ=function(){var t=N.useContext(tS),r=fJ(t,function(a){return lD(a.domain,Number.isFinite)});return r||Rs(t)},wD=function(t){var r=N.useContext(tS);r==null&&zo();var a=r[t];return a==null&&zo(),a},vJ=function(){var t=N.useContext(xD);return t},bJ=function(){return N.useContext(gD)},rS=function(){return N.useContext(bD)},nS=function(){return N.useContext(vD)};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function jJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wJ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ND(a.key),a)}}function SJ(e,t,r){return t&&wJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NJ(e,t,r){return t=vm(t),TJ(e,SD()?Reflect.construct(t,r||[],vm(e).constructor):t.apply(e,r))}function TJ(e,t){if(t&&(wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CJ(e)}function CJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SD=function(){return!!e})()}function vm(e){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(e)}function AJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p2(e,t)}function p2(e,t){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},p2(e,t)}function X3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function K3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(r),!0).forEach(function(a){aS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function aS(e,t,r){return t=ND(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ND(e){var t=_J(e,"string");return wc(t)=="symbol"?t:t+""}function _J(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(wc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function EJ(e,t){return PJ(e)||IJ(e,t)||kJ(e,t)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(e,t){if(e){if(typeof e=="string")return Q3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q3(e,t)}}function Q3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function IJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function PJ(e){if(Array.isArray(e))return e}function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m2.apply(this,arguments)}var RJ=function(t,r){var a;return Te.isValidElement(t)?a=Te.cloneElement(t,r):At(t)?a=t(r):a=Te.createElement("line",m2({},r,{className:"recharts-reference-line-line"})),a},DJ=function(t,r,a,i,s,l,d,u,f){var p=s.x,x=s.y,g=s.width,v=s.height;if(a){var j=f.y,b=t.y.apply(j,{position:l});if(pi(f,"discard")&&!t.y.isInRange(b))return null;var y=[{x:p+g,y:b},{x:p,y:b}];return u==="left"?y.reverse():y}if(r){var C=f.x,A=t.x.apply(C,{position:l});if(pi(f,"discard")&&!t.x.isInRange(A))return null;var E=[{x:A,y:x+v},{x:A,y:x}];return d==="top"?E.reverse():E}if(i){var S=f.segment,T=S.map(function(_){return t.apply(_,{position:l})});return pi(f,"discard")&&_Z(T,function(_){return!t.isInRange(_)})?null:T}return null};function MJ(e){var t=e.x,r=e.y,a=e.segment,i=e.xAxisId,s=e.yAxisId,l=e.shape,d=e.className,u=e.alwaysShow,f=xJ(),p=jD(i),x=wD(s),g=vJ();if(!f||!g)return null;Wi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Jw({x:p.scale,y:x.scale}),j=zr(t),b=zr(r),y=a&&a.length===2,C=DJ(v,j,b,y,g,e.position,p.orientation,x.orientation,e);if(!C)return null;var A=EJ(C,2),E=A[0],S=E.x,T=E.y,_=A[1],P=_.x,L=_.y,D=pi(e,"hidden")?"url(#".concat(f,")"):void 0,B=K3(K3({clipPath:D},It(e,!0)),{},{x1:S,y1:T,x2:P,y2:L});return Te.createElement(Ar,{className:Lt("recharts-reference-line",d)},RJ(l,B),yn.renderCallByParent(e,aJ({x1:S,y1:T,x2:P,y2:L})))}var iS=function(e){function t(){return jJ(this,t),NJ(this,t,arguments)}return AJ(t,e),SJ(t,[{key:"render",value:function(){return Te.createElement(MJ,this.props)}}])}(Te.Component);aS(iS,"displayName","ReferenceLine");aS(iS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function x2(){return x2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},x2.apply(this,arguments)}function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function J3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(a){v0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function FJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BJ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,CD(a.key),a)}}function LJ(e,t,r){return t&&BJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zJ(e,t,r){return t=bm(t),$J(e,TD()?Reflect.construct(t,r||[],bm(e).constructor):t.apply(e,r))}function $J(e,t){if(t&&(Sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UJ(e)}function UJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!e})()}function bm(e){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bm(e)}function qJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g2(e,t)}function g2(e,t){return g2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},g2(e,t)}function v0(e,t,r){return t=CD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CD(e){var t=HJ(e,"string");return Sc(t)=="symbol"?t:t+""}function HJ(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Sc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WJ=function(t){var r=t.x,a=t.y,i=t.xAxis,s=t.yAxis,l=Jw({x:i.scale,y:s.scale}),d=l.apply({x:r,y:a},{bandAware:!0});return pi(t,"discard")&&!l.isInRange(d)?null:d},b0=function(e){function t(){return FJ(this,t),zJ(this,t,arguments)}return qJ(t,e),LJ(t,[{key:"render",value:function(){var a=this.props,i=a.x,s=a.y,l=a.r,d=a.alwaysShow,u=a.clipPathId,f=zr(i),p=zr(s);if(Wi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var x=WJ(this.props);if(!x)return null;var g=x.x,v=x.y,j=this.props,b=j.shape,y=j.className,C=pi(this.props,"hidden")?"url(#".concat(u,")"):void 0,A=J3(J3({clipPath:C},It(this.props,!0)),{},{cx:g,cy:v});return Te.createElement(Ar,{className:Lt("recharts-reference-dot",y)},t.renderDot(b,A),yn.renderCallByParent(this.props,{x:g-l,y:v-l,width:2*l,height:2*l}))}}])}(Te.Component);v0(b0,"displayName","ReferenceDot");v0(b0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});v0(b0,"renderDot",function(e,t){var r;return Te.isValidElement(e)?r=Te.cloneElement(e,t):At(e)?r=e(t):r=Te.createElement(Zw,x2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function y2(){return y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},y2.apply(this,arguments)}function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(a){j0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function GJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VJ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_D(a.key),a)}}function YJ(e,t,r){return t&&VJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XJ(e,t,r){return t=jm(t),KJ(e,AD()?Reflect.construct(t,r||[],jm(e).constructor):t.apply(e,r))}function KJ(e,t){if(t&&(Nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QJ(e)}function QJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AD=function(){return!!e})()}function jm(e){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jm(e)}function ZJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v2(e,t)}function v2(e,t){return v2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},v2(e,t)}function j0(e,t,r){return t=_D(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _D(e){var t=JJ(e,"string");return Nc(t)=="symbol"?t:t+""}function JJ(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Nc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eee=function(t,r,a,i,s){var l=s.x1,d=s.x2,u=s.y1,f=s.y2,p=s.xAxis,x=s.yAxis;if(!p||!x)return null;var g=Jw({x:p.scale,y:x.scale}),v={x:t?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:a?g.y.apply(u,{position:"start"}):g.y.rangeMin},j={x:r?g.x.apply(d,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return pi(s,"discard")&&(!g.isInRange(v)||!g.isInRange(j))?null:pD(v,j)},w0=function(e){function t(){return GJ(this,t),XJ(this,t,arguments)}return ZJ(t,e),YJ(t,[{key:"render",value:function(){var a=this.props,i=a.x1,s=a.x2,l=a.y1,d=a.y2,u=a.className,f=a.alwaysShow,p=a.clipPathId;Wi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=zr(i),g=zr(s),v=zr(l),j=zr(d),b=this.props.shape;if(!x&&!g&&!v&&!j&&!b)return null;var y=eee(x,g,v,j,this.props);if(!y&&!b)return null;var C=pi(this.props,"hidden")?"url(#".concat(p,")"):void 0;return Te.createElement(Ar,{className:Lt("recharts-reference-area",u)},t.renderRect(b,tk(tk({clipPath:C},It(this.props,!0)),y)),yn.renderCallByParent(this.props,y))}}])}(Te.Component);j0(w0,"displayName","ReferenceArea");j0(w0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});j0(w0,"renderRect",function(e,t){var r;return Te.isValidElement(e)?r=Te.cloneElement(e,t):At(e)?r=e(t):r=Te.createElement(Qw,y2({},t,{className:"recharts-reference-area-rect"})),r});function ED(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],i=0;i<e.length;i+=t)a.push(e[i]);return a}function tee(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return sJ(a,r)}function ree(e,t,r){var a=r==="width",i=e.x,s=e.y,l=e.width,d=e.height;return t===1?{start:a?i:s,end:a?i+l:s+d}:{start:a?i+l:s+d,end:a?i:s}}function wm(e,t,r,a,i){if(e*t<e*a||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-a)>=0&&e*(t+e*s/2-i)<=0}function nee(e,t){return ED(e,t+1)}function aee(e,t,r,a,i){for(var s=(a||[]).slice(),l=t.start,d=t.end,u=0,f=1,p=l,x=function(){var j=a==null?void 0:a[u];if(j===void 0)return{v:ED(a,f)};var b=u,y,C=function(){return y===void 0&&(y=r(j,b)),y},A=j.coordinate,E=u===0||wm(e,A,C,p,d);E||(u=0,p=l,f+=1),E&&(p=A+e*(C()/2+i),u+=f)},g;f<=s.length;)if(g=x(),g)return g.v;return[]}function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(a){iee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iee(e,t,r){return t=see(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function see(e){var t=oee(e,"string");return cf(t)=="symbol"?t:t+""}function oee(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(cf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lee(e,t,r,a,i){for(var s=(a||[]).slice(),l=s.length,d=t.start,u=t.end,f=function(g){var v=s[g],j,b=function(){return j===void 0&&(j=r(v,g)),j};if(g===l-1){var y=e*(v.coordinate+e*b()/2-u);s[g]=v=gn(gn({},v),{},{tickCoord:y>0?v.coordinate-y*e:v.coordinate})}else s[g]=v=gn(gn({},v),{},{tickCoord:v.coordinate});var C=wm(e,v.tickCoord,b,d,u);C&&(u=v.tickCoord-e*(b()/2+i),s[g]=gn(gn({},v),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return s}function cee(e,t,r,a,i,s){var l=(a||[]).slice(),d=l.length,u=t.start,f=t.end;if(s){var p=a[d-1],x=r(p,d-1),g=e*(p.coordinate+e*x/2-f);l[d-1]=p=gn(gn({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate});var v=wm(e,p.tickCoord,function(){return x},u,f);v&&(f=p.tickCoord-e*(x/2+i),l[d-1]=gn(gn({},p),{},{isShow:!0}))}for(var j=s?d-1:d,b=function(A){var E=l[A],S,T=function(){return S===void 0&&(S=r(E,A)),S};if(A===0){var _=e*(E.coordinate-e*T()/2-u);l[A]=E=gn(gn({},E),{},{tickCoord:_<0?E.coordinate-_*e:E.coordinate})}else l[A]=E=gn(gn({},E),{},{tickCoord:E.coordinate});var P=wm(e,E.tickCoord,T,u,f);P&&(u=E.tickCoord+e*(T()/2+i),l[A]=gn(gn({},E),{},{isShow:!0}))},y=0;y<j;y++)b(y);return l}function sS(e,t,r){var a=e.tick,i=e.ticks,s=e.viewBox,l=e.minTickGap,d=e.orientation,u=e.interval,f=e.tickFormatter,p=e.unit,x=e.angle;if(!i||!i.length||!a)return[];if(nt(u)||$c.isSsr)return nee(i,typeof u=="number"&&nt(u)?u:0);var g=[],v=d==="top"||d==="bottom"?"width":"height",j=p&&v==="width"?mu(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(E,S){var T=At(f)?f(E.value,S):E.value;return v==="width"?tee(mu(T,{fontSize:t,letterSpacing:r}),j,x):mu(T,{fontSize:t,letterSpacing:r})[v]},y=i.length>=2?Va(i[1].coordinate-i[0].coordinate):1,C=ree(s,y,v);return u==="equidistantPreserveStart"?aee(y,C,b,i,l):(u==="preserveStart"||u==="preserveStartEnd"?g=cee(y,C,b,i,l,u==="preserveStartEnd"):g=lee(y,C,b,i,l),g.filter(function(A){return A.isShow}))}var dee=["viewBox"],uee=["viewBox"],fee=["ticks"];function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xl.apply(this,arguments)}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(a){oS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function G1(e,t){if(e==null)return{};var r=hee(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function hee(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function pee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ak(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,kD(a.key),a)}}function mee(e,t,r){return t&&ak(e.prototype,t),r&&ak(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xee(e,t,r){return t=Sm(t),gee(e,OD()?Reflect.construct(t,r||[],Sm(e).constructor):t.apply(e,r))}function gee(e,t){if(t&&(Tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yee(e)}function yee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!e})()}function Sm(e){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(e)}function vee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b2(e,t)}function b2(e,t){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},b2(e,t)}function oS(e,t,r){return t=kD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kD(e){var t=bee(e,"string");return Tc(t)=="symbol"?t:t+""}function bee(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Tc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wc=function(e){function t(r){var a;return pee(this,t),a=xee(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return vee(t,e),mee(t,[{key:"shouldComponentUpdate",value:function(a,i){var s=a.viewBox,l=G1(a,dee),d=this.props,u=d.viewBox,f=G1(d,uee);return!Jl(s,u)||!Jl(l,f)||!Jl(i,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var i=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var i=this.props,s=i.x,l=i.y,d=i.width,u=i.height,f=i.orientation,p=i.tickSize,x=i.mirror,g=i.tickMargin,v,j,b,y,C,A,E=x?-1:1,S=a.tickSize||p,T=nt(a.tickCoord)?a.tickCoord:a.coordinate;switch(f){case"top":v=j=a.coordinate,y=l+ +!x*u,b=y-E*S,A=b-E*g,C=T;break;case"left":b=y=a.coordinate,j=s+ +!x*d,v=j-E*S,C=v-E*g,A=T;break;case"right":b=y=a.coordinate,j=s+ +x*d,v=j+E*S,C=v+E*g,A=T;break;default:v=j=a.coordinate,y=l+ +x*u,b=y+E*S,A=b+E*g,C=T;break}return{line:{x1:v,y1:b,x2:j,y2:y},tick:{x:C,y:A}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,l;switch(i){case"left":l=s?"start":"end";break;case"right":l=s?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=s?"start":"end";break;default:l=s?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.x,s=a.y,l=a.width,d=a.height,u=a.orientation,f=a.mirror,p=a.axisLine,x=Tn(Tn(Tn({},It(this.props,!1)),It(p,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!f||u==="bottom"&&f);x=Tn(Tn({},x),{},{x1:i,y1:s+g*d,x2:i+l,y2:s+g*d})}else{var v=+(u==="left"&&!f||u==="right"&&f);x=Tn(Tn({},x),{},{x1:i+v*l,y1:s,x2:i+v*l,y2:s+d})}return Te.createElement("line",Xl({},x,{className:Lt("recharts-cartesian-axis-line",Aa(p,"className"))}))}},{key:"renderTicks",value:function(a,i,s){var l=this,d=this.props,u=d.tickLine,f=d.stroke,p=d.tick,x=d.tickFormatter,g=d.unit,v=sS(Tn(Tn({},this.props),{},{ticks:a}),i,s),j=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=It(this.props,!1),C=It(p,!1),A=Tn(Tn({},y),{},{fill:"none"},It(u,!1)),E=v.map(function(S,T){var _=l.getTickLineCoord(S),P=_.line,L=_.tick,D=Tn(Tn(Tn(Tn({textAnchor:j,verticalAnchor:b},y),{},{stroke:"none",fill:f},C),L),{},{index:T,payload:S,visibleTicksCount:v.length,tickFormatter:x});return Te.createElement(Ar,Xl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Rp(l.props,S,T)),u&&Te.createElement("line",Xl({},A,P,{className:Lt("recharts-cartesian-axis-tick-line",Aa(u,"className"))})),p&&t.renderTickItem(p,D,"".concat(At(x)?x(S.value,T):S.value).concat(g||"")))});return Te.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var a=this,i=this.props,s=i.axisLine,l=i.width,d=i.height,u=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var x=this.props,g=x.ticks,v=G1(x,fee),j=g;return At(u)&&(j=g&&g.length>0?u(this.props):u(v)),l<=0||d<=0||!j||!j.length?null:Te.createElement(Ar,{className:Lt("recharts-cartesian-axis",f),ref:function(y){a.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),yn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,i,s){var l;return Te.isValidElement(a)?l=Te.cloneElement(a,i):At(a)?l=a(i):l=Te.createElement(Wp,Xl({},i,{className:"recharts-cartesian-axis-tick-value"}),s),l}}])}(N.Component);oS(Wc,"displayName","CartesianAxis");oS(Wc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jee=["x1","y1","x2","y2","key"],wee=["offset"];function $o(e){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(e)}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(a){See(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function See(e,t,r){return t=Nee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nee(e){var t=Tee(e,"string");return $o(t)=="symbol"?t:t+""}function Tee(e,t){if($o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if($o(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_o.apply(this,arguments)}function sk(e,t){if(e==null)return{};var r=Cee(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Cee(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Aee=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,i=t.x,s=t.y,l=t.width,d=t.height,u=t.ry;return Te.createElement("rect",{x:i,y:s,ry:u,width:l,height:d,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function ID(e,t){var r;if(Te.isValidElement(e))r=Te.cloneElement(e,t);else if(At(e))r=e(t);else{var a=t.x1,i=t.y1,s=t.x2,l=t.y2,d=t.key,u=sk(t,jee),f=It(u,!1);f.offset;var p=sk(f,wee);r=Te.createElement("line",_o({},p,{x1:a,y1:i,x2:s,y2:l,fill:"none",key:d}))}return r}function _ee(e){var t=e.x,r=e.width,a=e.horizontal,i=a===void 0?!0:a,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(d,u){var f=vn(vn({},e),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return ID(i,f)});return Te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Eee(e){var t=e.y,r=e.height,a=e.vertical,i=a===void 0?!0:a,s=e.verticalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(d,u){var f=vn(vn({},e),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return ID(i,f)});return Te.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Oee(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,i=e.y,s=e.width,l=e.height,d=e.horizontalPoints,u=e.horizontal,f=u===void 0?!0:u;if(!f||!t||!t.length)return null;var p=d.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==p[0]&&p.unshift(0);var x=p.map(function(g,v){var j=!p[v+1],b=j?i+l-g:p[v+1]-g;if(b<=0)return null;var y=v%t.length;return Te.createElement("rect",{key:"react-".concat(v),y:g,x:a,height:b,width:s,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},x)}function kee(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,i=e.fillOpacity,s=e.x,l=e.y,d=e.width,u=e.height,f=e.verticalPoints;if(!r||!a||!a.length)return null;var p=f.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==p[0]&&p.unshift(0);var x=p.map(function(g,v){var j=!p[v+1],b=j?s+d-g:p[v+1]-g;if(b<=0)return null;var y=v%a.length;return Te.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:b,height:u,stroke:"none",fill:a[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},x)}var Iee=function(t,r){var a=t.xAxis,i=t.width,s=t.height,l=t.offset;return WR(sS(vn(vn(vn({},Wc.defaultProps),a),{},{ticks:$i(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.left,l.left+l.width,r)},Pee=function(t,r){var a=t.yAxis,i=t.width,s=t.height,l=t.offset;return WR(sS(vn(vn(vn({},Wc.defaultProps),a),{},{ticks:$i(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.top,l.top+l.height,r)},Bl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function j2(e){var t,r,a,i,s,l,d=rS(),u=nS(),f=bJ(),p=vn(vn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Bl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Bl.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:Bl.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Bl.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Bl.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Bl.verticalFill,x:nt(e.x)?e.x:f.left,y:nt(e.y)?e.y:f.top,width:nt(e.width)?e.width:f.width,height:nt(e.height)?e.height:f.height}),x=p.x,g=p.y,v=p.width,j=p.height,b=p.syncWithTicks,y=p.horizontalValues,C=p.verticalValues,A=gJ(),E=yJ();if(!nt(v)||v<=0||!nt(j)||j<=0||!nt(x)||x!==+x||!nt(g)||g!==+g)return null;var S=p.verticalCoordinatesGenerator||Iee,T=p.horizontalCoordinatesGenerator||Pee,_=p.horizontalPoints,P=p.verticalPoints;if((!_||!_.length)&&At(T)){var L=y&&y.length,D=T({yAxis:E?vn(vn({},E),{},{ticks:L?y:E.ticks}):void 0,width:d,height:u,offset:f},L?!0:b);Wi(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($o(D),"]")),Array.isArray(D)&&(_=D)}if((!P||!P.length)&&At(S)){var B=C&&C.length,M=S({xAxis:A?vn(vn({},A),{},{ticks:B?C:A.ticks}):void 0,width:d,height:u,offset:f},B?!0:b);Wi(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($o(M),"]")),Array.isArray(M)&&(P=M)}return Te.createElement("g",{className:"recharts-cartesian-grid"},Te.createElement(Aee,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),Te.createElement(_ee,_o({},p,{offset:f,horizontalPoints:_,xAxis:A,yAxis:E})),Te.createElement(Eee,_o({},p,{offset:f,verticalPoints:P,xAxis:A,yAxis:E})),Te.createElement(Oee,_o({},p,{horizontalPoints:_})),Te.createElement(kee,_o({},p,{verticalPoints:P})))}j2.displayName="CartesianGrid";var Ree=["type","layout","connectNulls","ref"],Dee=["key"];function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function ok(e,t){if(e==null)return{};var r=Mee(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Mee(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vu.apply(this,arguments)}function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(r),!0).forEach(function(a){qa(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ll(e){return zee(e)||Lee(e)||Bee(e)||Fee()}function Fee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bee(e,t){if(e){if(typeof e=="string")return w2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w2(e,t)}}function Lee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zee(e){if(Array.isArray(e))return w2(e)}function w2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function $ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ck(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,RD(a.key),a)}}function Uee(e,t,r){return t&&ck(e.prototype,t),r&&ck(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qee(e,t,r){return t=Nm(t),Hee(e,PD()?Reflect.construct(t,r||[],Nm(e).constructor):t.apply(e,r))}function Hee(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wee(e)}function Wee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PD=function(){return!!e})()}function Nm(e){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nm(e)}function Gee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S2(e,t)}function S2(e,t){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},S2(e,t)}function qa(e,t,r){return t=RD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RD(e){var t=Vee(e,"string");return Cc(t)=="symbol"?t:t+""}function Vee(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Cc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rf=function(e){function t(){var r;$ee(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=qee(this,t,[].concat(i)),qa(r,"state",{isAnimationFinished:!0,totalLength:0}),qa(r,"generateSimpleStrokeDasharray",function(l,d){return"".concat(d,"px ").concat(l-d,"px")}),qa(r,"getStrokeDasharray",function(l,d,u){var f=u.reduce(function(C,A){return C+A});if(!f)return r.generateSimpleStrokeDasharray(d,l);for(var p=Math.floor(l/f),x=l%f,g=d-l,v=[],j=0,b=0;j<u.length;b+=u[j],++j)if(b+u[j]>x){v=[].concat(Ll(u.slice(0,j)),[x-b]);break}var y=v.length%2===0?[0,g]:[g];return[].concat(Ll(t.repeat(u,p)),Ll(v),y).map(function(C){return"".concat(C,"px")}).join(", ")}),qa(r,"id",Af("recharts-line-")),qa(r,"pathRef",function(l){r.mainCurve=l}),qa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),qa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Gee(t,e),Uee(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,d=s.xAxis,u=s.yAxis,f=s.layout,p=s.children,x=_a(p,Pf);if(!x)return null;var g=function(b,y){return{x:b.x,y:b.y,value:b.value,errorVal:la(b.payload,y)}},v={clipPath:a?"url(#clipPath-".concat(i,")"):null};return Te.createElement(Ar,v,x.map(function(j){return Te.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:l,xAxis:d,yAxis:u,layout:f,dataPointFormatter:g})}))}},{key:"renderDots",value:function(a,i,s){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var d=this.props,u=d.dot,f=d.points,p=d.dataKey,x=It(this.props,!1),g=It(u,!0),v=f.map(function(b,y){var C=ea(ea(ea({key:"dot-".concat(y),r:3},x),g),{},{index:y,cx:b.x,cy:b.y,value:b.value,dataKey:p,payload:b.payload,points:f});return t.renderDotItem(u,C)}),j={clipPath:a?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Te.createElement(Ar,vu({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(a,i,s,l){var d=this.props,u=d.type,f=d.layout,p=d.connectNulls;d.ref;var x=ok(d,Ree),g=ea(ea(ea({},It(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:a},l),{},{type:u,layout:f,connectNulls:p});return Te.createElement(Jj,vu({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,i){var s=this,l=this.props,d=l.points,u=l.strokeDasharray,f=l.isAnimationActive,p=l.animationBegin,x=l.animationDuration,g=l.animationEasing,v=l.animationId,j=l.animateNewValues,b=l.width,y=l.height,C=this.state,A=C.prevPoints,E=C.totalLength;return Te.createElement(ts,{begin:p,duration:x,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var T=S.t;if(A){var _=A.length/d.length,P=d.map(function(k,W){var F=Math.floor(W*_);if(A[F]){var I=A[F],R=Ha(I.x,k.x),X=Ha(I.y,k.y);return ea(ea({},k),{},{x:R(T),y:X(T)})}if(j){var ne=Ha(b*2,k.x),ge=Ha(y/2,k.y);return ea(ea({},k),{},{x:ne(T),y:ge(T)})}return ea(ea({},k),{},{x:k.x,y:k.y})});return s.renderCurveStatically(P,a,i)}var L=Ha(0,E),D=L(T),B;if(u){var M="".concat(u).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});B=s.getStrokeDasharray(D,E,M)}else B=s.generateSimpleStrokeDasharray(E,D);return s.renderCurveStatically(d,a,i,{strokeDasharray:B})})}},{key:"renderCurve",value:function(a,i){var s=this.props,l=s.points,d=s.isAnimationActive,u=this.state,f=u.prevPoints,p=u.totalLength;return d&&l&&l.length&&(!f&&p>0||!h0(f,l))?this.renderCurveWithAnimation(a,i):this.renderCurveStatically(l,a,i)}},{key:"render",value:function(){var a,i=this.props,s=i.hide,l=i.dot,d=i.points,u=i.className,f=i.xAxis,p=i.yAxis,x=i.top,g=i.left,v=i.width,j=i.height,b=i.isAnimationActive,y=i.id;if(s||!d||!d.length)return null;var C=this.state.isAnimationFinished,A=d.length===1,E=Lt("recharts-line",u),S=f&&f.allowDataOverflow,T=p&&p.allowDataOverflow,_=S||T,P=kt(y)?this.id:y,L=(a=It(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},D=L.r,B=D===void 0?3:D,M=L.strokeWidth,k=M===void 0?2:M,W=f$(l)?l:{},F=W.clipDot,I=F===void 0?!0:F,R=B*2+k;return Te.createElement(Ar,{className:E},S||T?Te.createElement("defs",null,Te.createElement("clipPath",{id:"clipPath-".concat(P)},Te.createElement("rect",{x:S?g:g-v/2,y:T?x:x-j/2,width:S?v:v*2,height:T?j:j*2})),!I&&Te.createElement("clipPath",{id:"clipPath-dots-".concat(P)},Te.createElement("rect",{x:g-R/2,y:x-R/2,width:v+R,height:j+R}))):null,!A&&this.renderCurve(_,P),this.renderErrorBar(_,P),(A||l)&&this.renderDots(_,I,P),(!b||C)&&$s.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:i.curPoints}:a.points!==i.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,i){for(var s=a.length%2!==0?[].concat(Ll(a),[0]):a,l=[],d=0;d<i;++d)l=[].concat(Ll(l),Ll(s));return l}},{key:"renderDotItem",value:function(a,i){var s;if(Te.isValidElement(a))s=Te.cloneElement(a,i);else if(At(a))s=a(i);else{var l=i.key,d=ok(i,Dee),u=Lt("recharts-line-dot",typeof a!="boolean"?a.className:"");s=Te.createElement(Zw,vu({key:l},d,{className:u}))}return s}}])}(N.PureComponent);qa(Rf,"displayName","Line");qa(Rf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!$c.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});qa(Rf,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,l=e.dataKey,d=e.bandSize,u=e.displayedData,f=e.offset,p=t.layout,x=u.map(function(g,v){var j=la(g,l);return p==="horizontal"?{x:S6({axis:r,ticks:i,bandSize:d,entry:g,index:v}),y:kt(j)?null:a.scale(j),value:j,payload:g}:{x:kt(j)?null:r.scale(j),y:S6({axis:a,ticks:s,bandSize:d,entry:g,index:v}),value:j,payload:g}});return ea({points:x,layout:p},f)});function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function Yee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xee(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,FD(a.key),a)}}function Kee(e,t,r){return t&&Xee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qee(e,t,r){return t=Tm(t),Zee(e,DD()?Reflect.construct(t,r||[],Tm(e).constructor):t.apply(e,r))}function Zee(e,t){if(t&&(Ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jee(e)}function Jee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DD=function(){return!!e})()}function Tm(e){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(e)}function ete(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N2(e,t)}function N2(e,t){return N2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},N2(e,t)}function MD(e,t,r){return t=FD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FD(e){var t=tte(e,"string");return Ac(t)=="symbol"?t:t+""}function tte(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ac(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function T2(){return T2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},T2.apply(this,arguments)}function rte(e){var t=e.xAxisId,r=rS(),a=nS(),i=jD(t);return i==null?null:Te.createElement(Wc,T2({},i,{className:Lt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return $i(l,!0)}}))}var _c=function(e){function t(){return Yee(this,t),Qee(this,t,arguments)}return ete(t,e),Kee(t,[{key:"render",value:function(){return Te.createElement(rte,this.props)}}])}(Te.Component);MD(_c,"displayName","XAxis");MD(_c,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function nte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ate(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,zD(a.key),a)}}function ite(e,t,r){return t&&ate(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ste(e,t,r){return t=Cm(t),ote(e,BD()?Reflect.construct(t,r||[],Cm(e).constructor):t.apply(e,r))}function ote(e,t){if(t&&(Ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lte(e)}function lte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BD=function(){return!!e})()}function Cm(e){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(e)}function cte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C2(e,t)}function C2(e,t){return C2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},C2(e,t)}function LD(e,t,r){return t=zD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zD(e){var t=dte(e,"string");return Ec(t)=="symbol"?t:t+""}function dte(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Ec(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},A2.apply(this,arguments)}var ute=function(t){var r=t.yAxisId,a=rS(),i=nS(),s=wD(r);return s==null?null:Te.createElement(Wc,A2({},s,{className:Lt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:a,height:i},ticksGenerator:function(d){return $i(d,!0)}}))},Oc=function(e){function t(){return nte(this,t),ste(this,t,arguments)}return cte(t,e),ite(t,[{key:"render",value:function(){return Te.createElement(ute,this.props)}}])}(Te.Component);LD(Oc,"displayName","YAxis");LD(Oc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dk(e){return mte(e)||pte(e)||hte(e)||fte()}function fte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hte(e,t){if(e){if(typeof e=="string")return _2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _2(e,t)}}function pte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mte(e){if(Array.isArray(e))return _2(e)}function _2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var E2=function(t,r,a,i,s){var l=_a(t,iS),d=_a(t,b0),u=[].concat(dk(l),dk(d)),f=_a(t,w0),p="".concat(i,"Id"),x=i[0],g=r;if(u.length&&(g=u.reduce(function(b,y){if(y.props[p]===a&&pi(y.props,"extendDomain")&&nt(y.props[x])){var C=y.props[x];return[Math.min(b[0],C),Math.max(b[1],C)]}return b},g)),f.length){var v="".concat(x,"1"),j="".concat(x,"2");g=f.reduce(function(b,y){if(y.props[p]===a&&pi(y.props,"extendDomain")&&nt(y.props[v])&&nt(y.props[j])){var C=y.props[v],A=y.props[j];return[Math.min(b[0],C,A),Math.max(b[1],C,A)]}return b},g)}return s&&s.length&&(g=s.reduce(function(b,y){return nt(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},g)),g},V1={exports:{}},uk;function xte(){return uk||(uk=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function i(u,f,p){this.fn=u,this.context=f,this.once=p||!1}function s(u,f,p,x,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new i(p,x||u,g),j=r?r+f:f;return u._events[j]?u._events[j].fn?u._events[j]=[u._events[j],v]:u._events[j].push(v):(u._events[j]=v,u._eventsCount++),u}function l(u,f){--u._eventsCount===0?u._events=new a:delete u._events[f]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],p,x;if(this._eventsCount===0)return f;for(x in p=this._events)t.call(p,x)&&f.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},d.prototype.listeners=function(f){var p=r?r+f:f,x=this._events[p];if(!x)return[];if(x.fn)return[x.fn];for(var g=0,v=x.length,j=new Array(v);g<v;g++)j[g]=x[g].fn;return j},d.prototype.listenerCount=function(f){var p=r?r+f:f,x=this._events[p];return x?x.fn?1:x.length:0},d.prototype.emit=function(f,p,x,g,v,j){var b=r?r+f:f;if(!this._events[b])return!1;var y=this._events[b],C=arguments.length,A,E;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),C){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,p),!0;case 3:return y.fn.call(y.context,p,x),!0;case 4:return y.fn.call(y.context,p,x,g),!0;case 5:return y.fn.call(y.context,p,x,g,v),!0;case 6:return y.fn.call(y.context,p,x,g,v,j),!0}for(E=1,A=new Array(C-1);E<C;E++)A[E-1]=arguments[E];y.fn.apply(y.context,A)}else{var S=y.length,T;for(E=0;E<S;E++)switch(y[E].once&&this.removeListener(f,y[E].fn,void 0,!0),C){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,p);break;case 3:y[E].fn.call(y[E].context,p,x);break;case 4:y[E].fn.call(y[E].context,p,x,g);break;default:if(!A)for(T=1,A=new Array(C-1);T<C;T++)A[T-1]=arguments[T];y[E].fn.apply(y[E].context,A)}}return!0},d.prototype.on=function(f,p,x){return s(this,f,p,x,!1)},d.prototype.once=function(f,p,x){return s(this,f,p,x,!0)},d.prototype.removeListener=function(f,p,x,g){var v=r?r+f:f;if(!this._events[v])return this;if(!p)return l(this,v),this;var j=this._events[v];if(j.fn)j.fn===p&&(!g||j.once)&&(!x||j.context===x)&&l(this,v);else{for(var b=0,y=[],C=j.length;b<C;b++)(j[b].fn!==p||g&&!j[b].once||x&&j[b].context!==x)&&y.push(j[b]);y.length?this._events[v]=y.length===1?y[0]:y:l(this,v)}return this},d.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&l(this,p)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d}(V1)),V1.exports}var gte=xte();const yte=ir(gte);var Y1=new yte,X1="recharts.syncMouseEvents";function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function vte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bte(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$D(a.key),a)}}function jte(e,t,r){return t&&bte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K1(e,t,r){return t=$D(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $D(e){var t=wte(e,"string");return df(t)=="symbol"?t:t+""}function wte(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(df(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ste=function(){function e(){vte(this,e),K1(this,"activeIndex",0),K1(this,"coordinateList",[]),K1(this,"layout","horizontal")}return jte(e,[{key:"setDetails",value:function(r){var a,i=r.coordinateList,s=i===void 0?null:i,l=r.container,d=l===void 0?null:l,u=r.layout,f=u===void 0?null:u,p=r.offset,x=p===void 0?null:p,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(a=s??this.coordinateList)!==null&&a!==void 0?a:[],this.container=d??this.container,this.layout=f??this.layout,this.offset=x??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,l=i.y,d=i.height,u=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((a=window)===null||a===void 0?void 0:a.scrollY)||0,x=s+u+f,g=l+this.offset.top+d/2+p;this.mouseHandlerCallback({pageX:x,pageY:g})}}}])}();function Nte(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],i=e==null?void 0:e[1];if(a&&i&&nt(a)&&nt(i))return!0}return!1}function Tte(e,t,r,a){var i=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function UD(e){var t=e.cx,r=e.cy,a=e.radius,i=e.startAngle,s=e.endAngle,l=dn(t,r,a,i),d=dn(t,r,a,s);return{points:[l,d],cx:t,cy:r,radius:a,startAngle:i,endAngle:s}}function Cte(e,t,r){var a,i,s,l;if(e==="horizontal")a=t.x,s=a,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,a=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var d=t.cx,u=t.cy,f=t.innerRadius,p=t.outerRadius,x=t.angle,g=dn(d,u,f,x),v=dn(d,u,p,x);a=g.x,i=g.y,s=v.x,l=v.y}else return UD(t);return[{x:a,y:i},{x:s,y:l}]}function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(a){Ate(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ate(e,t,r){return t=_te(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=Ete(e,"string");return uf(t)=="symbol"?t:t+""}function Ete(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(uf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ote(e){var t,r,a=e.element,i=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,d=e.activePayload,u=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,x=e.layout,g=e.chartName,v=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!v||!s||!l||g!=="ScatterChart"&&i!=="axis")return null;var j,b=Jj;if(g==="ScatterChart")j=l,b=_Q;else if(g==="BarChart")j=Tte(x,l,u,p),b=Qw;else if(x==="radial"){var y=UD(l),C=y.cx,A=y.cy,E=y.radius,S=y.startAngle,T=y.endAngle;j={cx:C,cy:A,startAngle:S,endAngle:T,innerRadius:E,outerRadius:E},b=KR}else j={points:Cte(x,l,u)},b=Jj;var _=fp(fp(fp(fp({stroke:"#ccc",pointerEvents:"none"},u),j),It(v,!1)),{},{payload:d,payloadIndex:f,className:Lt("recharts-tooltip-cursor",v.className)});return N.isValidElement(v)?N.cloneElement(v,_):N.createElement(b,_)}var kte=["item"],Ite=["children","className","width","height","style","compact","title","desc"];function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Kl.apply(this,arguments)}function hk(e,t){return Dte(e)||Rte(e,t)||HD(e,t)||Pte()}function Pte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,l,d=[],u=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(a=s.call(r)).done)&&(d.push(a.value),d.length!==t);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return d}}function Dte(e){if(Array.isArray(e))return e}function pk(e,t){if(e==null)return{};var r=Mte(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Mte(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Fte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bte(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WD(a.key),a)}}function Lte(e,t,r){return t&&Bte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zte(e,t,r){return t=Am(t),$te(e,qD()?Reflect.construct(t,r||[],Am(e).constructor):t.apply(e,r))}function $te(e,t){if(t&&(kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ute(e)}function Ute(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qD=function(){return!!e})()}function Am(e){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(e)}function qte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O2(e,t)}function O2(e,t){return O2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},O2(e,t)}function Ic(e){return Gte(e)||Wte(e)||HD(e)||Hte()}function Hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HD(e,t){if(e){if(typeof e=="string")return k2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k2(e,t)}}function Wte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gte(e){if(Array.isArray(e))return k2(e)}function k2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(a){gt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gt(e,t,r){return t=WD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WD(e){var t=Vte(e,"string");return kc(t)=="symbol"?t:t+""}function Vte(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(kc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yte={xAxis:["bottom","top"],yAxis:["left","right"]},Xte={width:"100%",height:"100%"},GD={x:0,y:0};function hp(e){return e}var Kte=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Qte=function(t,r,a,i){var s=r.find(function(p){return p&&p.index===a});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var l=s.coordinate,d=i.radius;return He(He(He({},i),dn(i.cx,i.cy,d,l)),{},{angle:l,radius:d})}var u=s.coordinate,f=i.angle;return He(He(He({},i),dn(i.cx,i.cy,u,f)),{},{angle:f,radius:u})}return GD},S0=function(t,r){var a=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,l=(a??[]).reduce(function(d,u){var f=u.props.data;return f&&f.length?[].concat(Ic(d),Ic(f)):d},[]);return l.length>0?l:t&&t.length&&nt(i)&&nt(s)?t.slice(i,s+1):[]};function VD(e){return e==="number"?[0,"auto"]:void 0}var I2=function(t,r,a,i){var s=t.graphicalItems,l=t.tooltipAxis,d=S0(r,t);return a<0||!s||!s.length||a>=d.length?null:s.reduce(function(u,f){var p,x=(p=f.props.data)!==null&&p!==void 0?p:r;x&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(x=x.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var v=x===void 0?d:x;g=Ip(v,l.dataKey,i)}else g=x&&x[a]||d[a];return g?[].concat(Ic(u),[VR(f,g)]):u},[])},xk=function(t,r,a,i){var s=i||{x:t.chartX,y:t.chartY},l=Kte(s,a),d=t.orderedTooltipTicks,u=t.tooltipAxis,f=t.tooltipTicks,p=uY(l,d,f,u);if(p>=0&&f){var x=f[p]&&f[p].value,g=I2(t,r,p,x),v=Qte(a,d,p,s);return{activeTooltipIndex:p,activeLabel:x,activePayload:g,activeCoordinate:v}}return null},Zte=function(t,r){var a=r.axes,i=r.graphicalItems,s=r.axisType,l=r.axisIdKey,d=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,x=t.children,g=t.stackOffset,v=HR(p,s);return a.reduce(function(j,b){var y,C=b.type.defaultProps!==void 0?He(He({},b.type.defaultProps),b.props):b.props,A=C.type,E=C.dataKey,S=C.allowDataOverflow,T=C.allowDuplicatedCategory,_=C.scale,P=C.ticks,L=C.includeHidden,D=C[l];if(j[D])return j;var B=S0(t.data,{graphicalItems:i.filter(function(z){var U,V=l in z.props?z.props[l]:(U=z.type.defaultProps)===null||U===void 0?void 0:U[l];return V===D}),dataStartIndex:u,dataEndIndex:f}),M=B.length,k,W,F;Nte(C.domain,S,A)&&(k=Yj(C.domain,null,S),v&&(A==="number"||_!=="auto")&&(F=gu(B,E,"category")));var I=VD(A);if(!k||k.length===0){var R,X=(R=C.domain)!==null&&R!==void 0?R:I;if(E){if(k=gu(B,E,A),A==="category"&&v){var ne=r$(k);T&&ne?(W=k,k=pm(0,M)):T||(k=A6(X,k,b).reduce(function(z,U){return z.indexOf(U)>=0?z:[].concat(Ic(z),[U])},[]))}else if(A==="category")T?k=k.filter(function(z){return z!==""&&!kt(z)}):k=A6(X,k,b).reduce(function(z,U){return z.indexOf(U)>=0||U===""||kt(U)?z:[].concat(Ic(z),[U])},[]);else if(A==="number"){var ge=xY(B,i.filter(function(z){var U,V,te=l in z.props?z.props[l]:(U=z.type.defaultProps)===null||U===void 0?void 0:U[l],se="hide"in z.props?z.props.hide:(V=z.type.defaultProps)===null||V===void 0?void 0:V.hide;return te===D&&(L||!se)}),E,s,p);ge&&(k=ge)}v&&(A==="number"||_!=="auto")&&(F=gu(B,E,"category"))}else v?k=pm(0,M):d&&d[D]&&d[D].hasStack&&A==="number"?k=g==="expand"?[0,1]:GR(d[D].stackGroups,u,f):k=qR(B,i.filter(function(z){var U=l in z.props?z.props[l]:z.type.defaultProps[l],V="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return U===D&&(L||!V)}),A,p,!0);if(A==="number")k=E2(x,k,D,s,P),X&&(k=Yj(X,k,S));else if(A==="category"&&X){var q=X,ee=k.every(function(z){return q.indexOf(z)>=0});ee&&(k=q)}}return He(He({},j),{},gt({},D,He(He({},C),{},{axisType:s,domain:k,categoricalDomain:F,duplicateDomain:W,originalDomain:(y=C.domain)!==null&&y!==void 0?y:I,isCategorical:v,layout:p})))},{})},Jte=function(t,r){var a=r.graphicalItems,i=r.Axis,s=r.axisType,l=r.axisIdKey,d=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,x=t.children,g=S0(t.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:f}),v=g.length,j=HR(p,s),b=-1;return a.reduce(function(y,C){var A=C.type.defaultProps!==void 0?He(He({},C.type.defaultProps),C.props):C.props,E=A[l],S=VD("number");if(!y[E]){b++;var T;return j?T=pm(0,v):d&&d[E]&&d[E].hasStack?(T=GR(d[E].stackGroups,u,f),T=E2(x,T,E,s)):(T=Yj(S,qR(g,a.filter(function(_){var P,L,D=l in _.props?_.props[l]:(P=_.type.defaultProps)===null||P===void 0?void 0:P[l],B="hide"in _.props?_.props.hide:(L=_.type.defaultProps)===null||L===void 0?void 0:L.hide;return D===E&&!B}),"number",p),i.defaultProps.allowDataOverflow),T=E2(x,T,E,s)),He(He({},y),{},gt({},E,He(He({axisType:s},i.defaultProps),{},{hide:!0,orientation:Aa(Yte,"".concat(s,".").concat(b%2),null),domain:T,originalDomain:S,isCategorical:j,layout:p})))}return y},{})},ere=function(t,r){var a=r.axisType,i=a===void 0?"xAxis":a,s=r.AxisComp,l=r.graphicalItems,d=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,p=t.children,x="".concat(i,"Id"),g=_a(p,s),v={};return g&&g.length?v=Zte(t,{axes:g,graphicalItems:l,axisType:i,axisIdKey:x,stackGroups:d,dataStartIndex:u,dataEndIndex:f}):l&&l.length&&(v=Jte(t,{Axis:s,graphicalItems:l,axisType:i,axisIdKey:x,stackGroups:d,dataStartIndex:u,dataEndIndex:f})),v},tre=function(t){var r=Rs(t),a=$i(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:Nw(a,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:im(r,a)}},gk=function(t){var r=t.children,a=t.defaultShowTooltip,i=na(r,bc),s=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},rre=function(t){return!t||!t.length?!1:t.some(function(r){var a=Hi(r&&r.type);return a&&a.indexOf("Bar")>=0})},yk=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nre=function(t,r){var a=t.props,i=t.graphicalItems,s=t.xAxisMap,l=s===void 0?{}:s,d=t.yAxisMap,u=d===void 0?{}:d,f=a.width,p=a.height,x=a.children,g=a.margin||{},v=na(x,bc),j=na(x,ec),b=Object.keys(u).reduce(function(T,_){var P=u[_],L=P.orientation;return!P.mirror&&!P.hide?He(He({},T),{},gt({},L,T[L]+P.width)):T},{left:g.left||0,right:g.right||0}),y=Object.keys(l).reduce(function(T,_){var P=l[_],L=P.orientation;return!P.mirror&&!P.hide?He(He({},T),{},gt({},L,Aa(T,"".concat(L))+P.height)):T},{top:g.top||0,bottom:g.bottom||0}),C=He(He({},y),b),A=C.bottom;v&&(C.bottom+=v.props.height||bc.defaultProps.height),j&&r&&(C=pY(C,i,a,r));var E=f-C.left-C.right,S=p-C.top-C.bottom;return He(He({brushBottom:A},C),{},{width:Math.max(E,0),height:Math.max(S,0)})},are=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},YD=function(t){var r=t.chartName,a=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,l=t.validateTooltipEventTypes,d=l===void 0?["axis"]:l,u=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,x=t.defaultProps,g=function(C,A){var E=A.graphicalItems,S=A.stackGroups,T=A.offset,_=A.updateId,P=A.dataStartIndex,L=A.dataEndIndex,D=C.barSize,B=C.layout,M=C.barGap,k=C.barCategoryGap,W=C.maxBarSize,F=yk(B),I=F.numericAxisName,R=F.cateAxisName,X=rre(E),ne=[];return E.forEach(function(ge,q){var ee=S0(C.data,{graphicalItems:[ge],dataStartIndex:P,dataEndIndex:L}),z=ge.type.defaultProps!==void 0?He(He({},ge.type.defaultProps),ge.props):ge.props,U=z.dataKey,V=z.maxBarSize,te=z["".concat(I,"Id")],se=z["".concat(R,"Id")],Z={},K=u.reduce(function(re,be){var H=A["".concat(be.axisType,"Map")],de=z["".concat(be.axisType,"Id")];H&&H[de]||be.axisType==="zAxis"||zo();var Se=H[de];return He(He({},re),{},gt(gt({},be.axisType,Se),"".concat(be.axisType,"Ticks"),$i(Se)))},Z),Y=K[R],ce=K["".concat(R,"Ticks")],xe=S&&S[te]&&S[te].hasStack&&_Y(ge,S[te].stackGroups),pe=Hi(ge.type).indexOf("Bar")>=0,Ce=im(Y,ce),ve=[],Le=X&&fY({barSize:D,stackGroups:S,totalSize:are(K,R)});if(pe){var le,Ae,qe=kt(V)?W:V,me=(le=(Ae=im(Y,ce,!0))!==null&&Ae!==void 0?Ae:qe)!==null&&le!==void 0?le:0;ve=hY({barGap:M,barCategoryGap:k,bandSize:me!==Ce?me:Ce,sizeList:Le[se],maxBarSize:qe}),me!==Ce&&(ve=ve.map(function(re){return He(He({},re),{},{position:He(He({},re.position),{},{offset:re.position.offset-me/2})})}))}var ae=ge&&ge.type&&ge.type.getComposedData;ae&&ne.push({props:He(He({},ae(He(He({},K),{},{displayedData:ee,props:C,dataKey:U,item:ge,bandSize:Ce,barPosition:ve,offset:T,stackedData:xe,layout:B,dataStartIndex:P,dataEndIndex:L}))),{},gt(gt(gt({key:ge.key||"item-".concat(q)},I,K[I]),R,K[R]),"animationId",_)),childIndex:m$(ge,C.children),item:ge})}),ne},v=function(C,A){var E=C.props,S=C.dataStartIndex,T=C.dataEndIndex,_=C.updateId;if(!z_({props:E}))return null;var P=E.children,L=E.layout,D=E.stackOffset,B=E.data,M=E.reverseStackOrder,k=yk(L),W=k.numericAxisName,F=k.cateAxisName,I=_a(P,a),R=TY(B,I,"".concat(W,"Id"),"".concat(F,"Id"),D,M),X=u.reduce(function(z,U){var V="".concat(U.axisType,"Map");return He(He({},z),{},gt({},V,ere(E,He(He({},U),{},{graphicalItems:I,stackGroups:U.axisType===W&&R,dataStartIndex:S,dataEndIndex:T}))))},{}),ne=nre(He(He({},X),{},{props:E,graphicalItems:I}),A==null?void 0:A.legendBBox);Object.keys(X).forEach(function(z){X[z]=p(E,X[z],ne,z.replace("Map",""),r)});var ge=X["".concat(F,"Map")],q=tre(ge),ee=g(E,He(He({},X),{},{dataStartIndex:S,dataEndIndex:T,updateId:_,graphicalItems:I,stackGroups:R,offset:ne}));return He(He({formattedGraphicalItems:ee,graphicalItems:I,offset:ne,stackGroups:R},q),X)},j=function(y){function C(A){var E,S,T;return Fte(this,C),T=zte(this,C,[A]),gt(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gt(T,"accessibilityManager",new Ste),gt(T,"handleLegendBBoxUpdate",function(_){if(_){var P=T.state,L=P.dataStartIndex,D=P.dataEndIndex,B=P.updateId;T.setState(He({legendBBox:_},v({props:T.props,dataStartIndex:L,dataEndIndex:D,updateId:B},He(He({},T.state),{},{legendBBox:_}))))}}),gt(T,"handleReceiveSyncEvent",function(_,P,L){if(T.props.syncId===_){if(L===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(P)}}),gt(T,"handleBrushChange",function(_){var P=_.startIndex,L=_.endIndex;if(P!==T.state.dataStartIndex||L!==T.state.dataEndIndex){var D=T.state.updateId;T.setState(function(){return He({dataStartIndex:P,dataEndIndex:L},v({props:T.props,dataStartIndex:P,dataEndIndex:L,updateId:D},T.state))}),T.triggerSyncEvent({dataStartIndex:P,dataEndIndex:L})}}),gt(T,"handleMouseEnter",function(_){var P=T.getMouseInfo(_);if(P){var L=He(He({},P),{},{isTooltipActive:!0});T.setState(L),T.triggerSyncEvent(L);var D=T.props.onMouseEnter;At(D)&&D(L,_)}}),gt(T,"triggeredAfterMouseMove",function(_){var P=T.getMouseInfo(_),L=P?He(He({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(L),T.triggerSyncEvent(L);var D=T.props.onMouseMove;At(D)&&D(L,_)}),gt(T,"handleItemMouseEnter",function(_){T.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),gt(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),gt(T,"handleMouseMove",function(_){_.persist(),T.throttleTriggeredAfterMouseMove(_)}),gt(T,"handleMouseLeave",function(_){T.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};T.setState(P),T.triggerSyncEvent(P);var L=T.props.onMouseLeave;At(L)&&L(P,_)}),gt(T,"handleOuterEvent",function(_){var P=p$(_),L=Aa(T.props,"".concat(P));if(P&&At(L)){var D,B;/.*touch.*/i.test(P)?B=T.getMouseInfo(_.changedTouches[0]):B=T.getMouseInfo(_),L((D=B)!==null&&D!==void 0?D:{},_)}}),gt(T,"handleClick",function(_){var P=T.getMouseInfo(_);if(P){var L=He(He({},P),{},{isTooltipActive:!0});T.setState(L),T.triggerSyncEvent(L);var D=T.props.onClick;At(D)&&D(L,_)}}),gt(T,"handleMouseDown",function(_){var P=T.props.onMouseDown;if(At(P)){var L=T.getMouseInfo(_);P(L,_)}}),gt(T,"handleMouseUp",function(_){var P=T.props.onMouseUp;if(At(P)){var L=T.getMouseInfo(_);P(L,_)}}),gt(T,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),gt(T,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&T.handleMouseDown(_.changedTouches[0])}),gt(T,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&T.handleMouseUp(_.changedTouches[0])}),gt(T,"handleDoubleClick",function(_){var P=T.props.onDoubleClick;if(At(P)){var L=T.getMouseInfo(_);P(L,_)}}),gt(T,"handleContextMenu",function(_){var P=T.props.onContextMenu;if(At(P)){var L=T.getMouseInfo(_);P(L,_)}}),gt(T,"triggerSyncEvent",function(_){T.props.syncId!==void 0&&Y1.emit(X1,T.props.syncId,_,T.eventEmitterSymbol)}),gt(T,"applySyncEvent",function(_){var P=T.props,L=P.layout,D=P.syncMethod,B=T.state.updateId,M=_.dataStartIndex,k=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)T.setState(He({dataStartIndex:M,dataEndIndex:k},v({props:T.props,dataStartIndex:M,dataEndIndex:k,updateId:B},T.state)));else if(_.activeTooltipIndex!==void 0){var W=_.chartX,F=_.chartY,I=_.activeTooltipIndex,R=T.state,X=R.offset,ne=R.tooltipTicks;if(!X)return;if(typeof D=="function")I=D(ne,_);else if(D==="value"){I=-1;for(var ge=0;ge<ne.length;ge++)if(ne[ge].value===_.activeLabel){I=ge;break}}var q=He(He({},X),{},{x:X.left,y:X.top}),ee=Math.min(W,q.x+q.width),z=Math.min(F,q.y+q.height),U=ne[I]&&ne[I].value,V=I2(T.state,T.props.data,I),te=ne[I]?{x:L==="horizontal"?ne[I].coordinate:ee,y:L==="horizontal"?z:ne[I].coordinate}:GD;T.setState(He(He({},_),{},{activeLabel:U,activeCoordinate:te,activePayload:V,activeTooltipIndex:I}))}else T.setState(_)}),gt(T,"renderCursor",function(_){var P,L=T.state,D=L.isTooltipActive,B=L.activeCoordinate,M=L.activePayload,k=L.offset,W=L.activeTooltipIndex,F=L.tooltipAxisBandSize,I=T.getTooltipEventType(),R=(P=_.props.active)!==null&&P!==void 0?P:D,X=T.props.layout,ne=_.key||"_recharts-cursor";return Te.createElement(Ote,{key:ne,activeCoordinate:B,activePayload:M,activeTooltipIndex:W,chartName:r,element:_,isActive:R,layout:X,offset:k,tooltipAxisBandSize:F,tooltipEventType:I})}),gt(T,"renderPolarAxis",function(_,P,L){var D=Aa(_,"type.axisType"),B=Aa(T.state,"".concat(D,"Map")),M=_.type.defaultProps,k=M!==void 0?He(He({},M),_.props):_.props,W=B&&B[k["".concat(D,"Id")]];return N.cloneElement(_,He(He({},W),{},{className:Lt(D,W.className),key:_.key||"".concat(P,"-").concat(L),ticks:$i(W,!0)}))}),gt(T,"renderPolarGrid",function(_){var P=_.props,L=P.radialLines,D=P.polarAngles,B=P.polarRadius,M=T.state,k=M.radiusAxisMap,W=M.angleAxisMap,F=Rs(k),I=Rs(W),R=I.cx,X=I.cy,ne=I.innerRadius,ge=I.outerRadius;return N.cloneElement(_,{polarAngles:Array.isArray(D)?D:$i(I,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(B)?B:$i(F,!0).map(function(q){return q.coordinate}),cx:R,cy:X,innerRadius:ne,outerRadius:ge,key:_.key||"polar-grid",radialLines:L})}),gt(T,"renderLegend",function(){var _=T.state.formattedGraphicalItems,P=T.props,L=P.children,D=P.width,B=P.height,M=T.props.margin||{},k=D-(M.left||0)-(M.right||0),W=$R({children:L,formattedGraphicalItems:_,legendWidth:k,legendContent:f});if(!W)return null;var F=W.item,I=pk(W,kte);return N.cloneElement(F,He(He({},I),{},{chartWidth:D,chartHeight:B,margin:M,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),gt(T,"renderTooltip",function(){var _,P=T.props,L=P.children,D=P.accessibilityLayer,B=na(L,$a);if(!B)return null;var M=T.state,k=M.isTooltipActive,W=M.activeCoordinate,F=M.activePayload,I=M.activeLabel,R=M.offset,X=(_=B.props.active)!==null&&_!==void 0?_:k;return N.cloneElement(B,{viewBox:He(He({},R),{},{x:R.left,y:R.top}),active:X,label:I,payload:X?F:[],coordinate:W,accessibilityLayer:D})}),gt(T,"renderBrush",function(_){var P=T.props,L=P.margin,D=P.data,B=T.state,M=B.offset,k=B.dataStartIndex,W=B.dataEndIndex,F=B.updateId;return N.cloneElement(_,{key:_.key||"_recharts-brush",onChange:lp(T.handleBrushChange,_.props.onChange),data:D,x:nt(_.props.x)?_.props.x:M.left,y:nt(_.props.y)?_.props.y:M.top+M.height+M.brushBottom-(L.bottom||0),width:nt(_.props.width)?_.props.width:M.width,startIndex:k,endIndex:W,updateId:"brush-".concat(F)})}),gt(T,"renderReferenceElement",function(_,P,L){if(!_)return null;var D=T,B=D.clipPathId,M=T.state,k=M.xAxisMap,W=M.yAxisMap,F=M.offset,I=_.type.defaultProps||{},R=_.props,X=R.xAxisId,ne=X===void 0?I.xAxisId:X,ge=R.yAxisId,q=ge===void 0?I.yAxisId:ge;return N.cloneElement(_,{key:_.key||"".concat(P,"-").concat(L),xAxis:k[ne],yAxis:W[q],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:B})}),gt(T,"renderActivePoints",function(_){var P=_.item,L=_.activePoint,D=_.basePoint,B=_.childIndex,M=_.isRange,k=[],W=P.props.key,F=P.item.type.defaultProps!==void 0?He(He({},P.item.type.defaultProps),P.item.props):P.item.props,I=F.activeDot,R=F.dataKey,X=He(He({index:B,dataKey:R,cx:L.x,cy:L.y,r:4,fill:Kw(P.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},It(I,!1)),Pp(I));return k.push(C.renderActiveDot(I,X,"".concat(W,"-activePoint-").concat(B))),D?k.push(C.renderActiveDot(I,He(He({},X),{},{cx:D.x,cy:D.y}),"".concat(W,"-basePoint-").concat(B))):M&&k.push(null),k}),gt(T,"renderGraphicChild",function(_,P,L){var D=T.filterFormatItem(_,P,L);if(!D)return null;var B=T.getTooltipEventType(),M=T.state,k=M.isTooltipActive,W=M.tooltipAxis,F=M.activeTooltipIndex,I=M.activeLabel,R=T.props.children,X=na(R,$a),ne=D.props,ge=ne.points,q=ne.isRange,ee=ne.baseLine,z=D.item.type.defaultProps!==void 0?He(He({},D.item.type.defaultProps),D.item.props):D.item.props,U=z.activeDot,V=z.hide,te=z.activeBar,se=z.activeShape,Z=!!(!V&&k&&X&&(U||te||se)),K={};B!=="axis"&&X&&X.props.trigger==="click"?K={onClick:lp(T.handleItemMouseEnter,_.props.onClick)}:B!=="axis"&&(K={onMouseLeave:lp(T.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:lp(T.handleItemMouseEnter,_.props.onMouseEnter)});var Y=N.cloneElement(_,He(He({},D.props),K));function ce(be){return typeof W.dataKey=="function"?W.dataKey(be.payload):null}if(Z)if(F>=0){var xe,pe;if(W.dataKey&&!W.allowDuplicatedCategory){var Ce=typeof W.dataKey=="function"?ce:"payload.".concat(W.dataKey.toString());xe=Ip(ge,Ce,I),pe=q&&ee&&Ip(ee,Ce,I)}else xe=ge==null?void 0:ge[F],pe=q&&ee&&ee[F];if(se||te){var ve=_.props.activeIndex!==void 0?_.props.activeIndex:F;return[N.cloneElement(_,He(He(He({},D.props),K),{},{activeIndex:ve})),null,null]}if(!kt(xe))return[Y].concat(Ic(T.renderActivePoints({item:D,activePoint:xe,basePoint:pe,childIndex:F,isRange:q})))}else{var Le,le=(Le=T.getItemByXY(T.state.activeCoordinate))!==null&&Le!==void 0?Le:{graphicalItem:Y},Ae=le.graphicalItem,qe=Ae.item,me=qe===void 0?_:qe,ae=Ae.childIndex,re=He(He(He({},D.props),K),{},{activeIndex:ae});return[N.cloneElement(me,re),null,null]}return q?[Y,null,null]:[Y,null]}),gt(T,"renderCustomized",function(_,P,L){return N.cloneElement(_,He(He({key:"recharts-customized-".concat(L)},T.props),T.state))}),gt(T,"renderMap",{CartesianGrid:{handler:hp,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:hp},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:hp},YAxis:{handler:hp},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((E=A.id)!==null&&E!==void 0?E:Af("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=zP(T.triggeredAfterMouseMove,(S=A.throttleDelay)!==null&&S!==void 0?S:1e3/60),T.state={},T}return qte(C,y),Lte(C,[{key:"componentDidMount",value:function(){var E,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,S=E.children,T=E.data,_=E.height,P=E.layout,L=na(S,$a);if(L){var D=L.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,M=I2(this.state,T,D,B),k=this.state.tooltipTicks[D].coordinate,W=(this.state.offset.top+_)/2,F=P==="horizontal",I=F?{x:k,y:W}:{y:k,x:W},R=this.state.formattedGraphicalItems.find(function(ne){var ge=ne.item;return ge.type.name==="Scatter"});R&&(I=He(He({},I),R.props.points[D].tooltipPosition),M=R.props.points[D].tooltipPayload);var X={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:B,activePayload:M,activeCoordinate:I};this.setState(X),this.renderCursor(L),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var T,_;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(E){xj([na(E.children,$a)],[na(this.props.children,$a)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=na(this.props.children,$a);if(E&&typeof E.props.shared=="boolean"){var S=E.props.shared?"axis":"item";return d.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var S=this.container,T=S.getBoundingClientRect(),_=tH(T),P={chartX:Math.round(E.pageX-_.left),chartY:Math.round(E.pageY-_.top)},L=T.width/S.offsetWidth||1,D=this.inRange(P.chartX,P.chartY,L);if(!D)return null;var B=this.state,M=B.xAxisMap,k=B.yAxisMap,W=this.getTooltipEventType(),F=xk(this.state,this.props.data,this.props.layout,D);if(W!=="axis"&&M&&k){var I=Rs(M).scale,R=Rs(k).scale,X=I&&I.invert?I.invert(P.chartX):null,ne=R&&R.invert?R.invert(P.chartY):null;return He(He({},P),{},{xValue:X,yValue:ne},F)}return F?He(He({},P),F):null}},{key:"inRange",value:function(E,S){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,P=E/T,L=S/T;if(_==="horizontal"||_==="vertical"){var D=this.state.offset,B=P>=D.left&&P<=D.left+D.width&&L>=D.top&&L<=D.top+D.height;return B?{x:P,y:L}:null}var M=this.state,k=M.angleAxisMap,W=M.radiusAxisMap;if(k&&W){var F=Rs(k);return O6({x:P,y:L},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,S=this.getTooltipEventType(),T=na(E,$a),_={};T&&S==="axis"&&(T.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Pp(this.props,this.handleOuterEvent);return He(He({},P),_)}},{key:"addListener",value:function(){Y1.on(X1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Y1.removeListener(X1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,S,T){for(var _=this.state.formattedGraphicalItems,P=0,L=_.length;P<L;P++){var D=_[P];if(D.item===E||D.props.key===E.key||S===Hi(D.item.type)&&T===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,S=this.state.offset,T=S.left,_=S.top,P=S.height,L=S.width;return Te.createElement("defs",null,Te.createElement("clipPath",{id:E},Te.createElement("rect",{x:T,y:_,height:P,width:L})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(S,T){var _=hk(T,2),P=_[0],L=_[1];return He(He({},S),{},gt({},P,L.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(S,T){var _=hk(T,2),P=_[0],L=_[1];return He(He({},S),{},gt({},P,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[E])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(E){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[E])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(E){var S=this.state,T=S.formattedGraphicalItems,_=S.activeItem;if(T&&T.length)for(var P=0,L=T.length;P<L;P++){var D=T[P],B=D.props,M=D.item,k=M.type.defaultProps!==void 0?He(He({},M.type.defaultProps),M.props):M.props,W=Hi(M.type);if(W==="Bar"){var F=(B.data||[]).find(function(ne){return yQ(E,ne)});if(F)return{graphicalItem:D,payload:F}}else if(W==="RadialBar"){var I=(B.data||[]).find(function(ne){return O6(E,ne)});if(I)return{graphicalItem:D,payload:I}}else if(x0(D,_)||g0(D,_)||af(D,_)){var R=lZ({graphicalItem:D,activeTooltipItem:_,itemData:k.data}),X=k.activeIndex===void 0?R:k.activeIndex;return{graphicalItem:He(He({},D),{},{childIndex:X}),payload:af(D,_)?k.data[R]:D.props.data[R]}}}return null}},{key:"render",value:function(){var E=this;if(!z_(this))return null;var S=this.props,T=S.children,_=S.className,P=S.width,L=S.height,D=S.style,B=S.compact,M=S.title,k=S.desc,W=pk(S,Ite),F=It(W,!1);if(B)return Te.createElement(Y3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Te.createElement(yj,Kl({},F,{width:P,height:L,title:M,desc:k}),this.renderClipPath(),U_(T,this.renderMap)));if(this.props.accessibilityLayer){var I,R;F.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,F.role=(R=this.props.role)!==null&&R!==void 0?R:"application",F.onKeyDown=function(ne){E.accessibilityManager.keyboardEvent(ne)},F.onFocus=function(){E.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return Te.createElement(Y3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Te.createElement("div",Kl({className:Lt("recharts-wrapper",_),style:He({position:"relative",cursor:"default",width:P,height:L},D)},X,{ref:function(ge){E.container=ge}}),Te.createElement(yj,Kl({},F,{width:P,height:L,title:M,desc:k,style:Xte}),this.renderClipPath(),U_(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);gt(j,"displayName",r),gt(j,"defaultProps",He({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},x)),gt(j,"getDerivedStateFromProps",function(y,C){var A=y.dataKey,E=y.data,S=y.children,T=y.width,_=y.height,P=y.layout,L=y.stackOffset,D=y.margin,B=C.dataStartIndex,M=C.dataEndIndex;if(C.updateId===void 0){var k=gk(y);return He(He(He({},k),{},{updateId:0},v(He(He({props:y},k),{},{updateId:0}),C)),{},{prevDataKey:A,prevData:E,prevWidth:T,prevHeight:_,prevLayout:P,prevStackOffset:L,prevMargin:D,prevChildren:S})}if(A!==C.prevDataKey||E!==C.prevData||T!==C.prevWidth||_!==C.prevHeight||P!==C.prevLayout||L!==C.prevStackOffset||!Jl(D,C.prevMargin)){var W=gk(y),F={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},I=He(He({},xk(C,E,P)),{},{updateId:C.updateId+1}),R=He(He(He({},W),F),I);return He(He(He({},R),v(He({props:y},R),C)),{},{prevDataKey:A,prevData:E,prevWidth:T,prevHeight:_,prevLayout:P,prevStackOffset:L,prevMargin:D,prevChildren:S})}if(!xj(S,C.prevChildren)){var X,ne,ge,q,ee=na(S,bc),z=ee&&(X=(ne=ee.props)===null||ne===void 0?void 0:ne.startIndex)!==null&&X!==void 0?X:B,U=ee&&(ge=(q=ee.props)===null||q===void 0?void 0:q.endIndex)!==null&&ge!==void 0?ge:M,V=z!==B||U!==M,te=!kt(E),se=te&&!V?C.updateId:C.updateId+1;return He(He({updateId:se},v(He(He({props:y},C),{},{updateId:se,dataStartIndex:z,dataEndIndex:U}),C)),{},{prevChildren:S,dataStartIndex:z,dataEndIndex:U})}return null}),gt(j,"renderActiveDot",function(y,C,A){var E;return N.isValidElement(y)?E=N.cloneElement(y,C):At(y)?E=y(C):E=Te.createElement(Zw,C),Te.createElement(Ar,{className:"recharts-active-dot",key:A},E)});var b=N.forwardRef(function(C,A){return Te.createElement(j,Kl({},C,{ref:A}))});return b.displayName=j.displayName,b},ire=YD({chartName:"LineChart",GraphicalChild:Rf,axisComponents:[{axisType:"xAxis",AxisComp:_c},{axisType:"yAxis",AxisComp:Oc}],formatAxisMap:hD}),sre=YD({chartName:"BarChart",GraphicalChild:Qo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_c},{axisType:"yAxis",AxisComp:Oc}],formatAxisMap:hD});function XD(e,t){return function(){return e.apply(t,arguments)}}const{toString:ore}=Object.prototype,{getPrototypeOf:lS}=Object,{iterator:N0,toStringTag:KD}=Symbol,T0=(e=>t=>{const r=ore.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ei=e=>(e=e.toLowerCase(),t=>T0(t)===e),C0=e=>t=>typeof t===e,{isArray:Gc}=Array,ff=C0("undefined");function lre(e){return e!==null&&!ff(e)&&e.constructor!==null&&!ff(e.constructor)&&Bn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const QD=ei("ArrayBuffer");function cre(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&QD(e.buffer),t}const dre=C0("string"),Bn=C0("function"),ZD=C0("number"),A0=e=>e!==null&&typeof e=="object",ure=e=>e===!0||e===!1,Tp=e=>{if(T0(e)!=="object")return!1;const t=lS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(KD in e)&&!(N0 in e)},fre=ei("Date"),hre=ei("File"),pre=ei("Blob"),mre=ei("FileList"),xre=e=>A0(e)&&Bn(e.pipe),gre=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Bn(e.append)&&((t=T0(e))==="formdata"||t==="object"&&Bn(e.toString)&&e.toString()==="[object FormData]"))},yre=ei("URLSearchParams"),[vre,bre,jre,wre]=["ReadableStream","Request","Response","Headers"].map(ei),Sre=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Df(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,i;if(typeof e!="object"&&(e=[e]),Gc(e))for(a=0,i=e.length;a<i;a++)t.call(null,e[a],a,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;let d;for(a=0;a<l;a++)d=s[a],t.call(null,e[d],d,e)}}function JD(e,t){t=t.toLowerCase();const r=Object.keys(e);let a=r.length,i;for(;a-- >0;)if(i=r[a],t===i.toLowerCase())return i;return null}const Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,e8=e=>!ff(e)&&e!==Eo;function P2(){const{caseless:e}=e8(this)&&this||{},t={},r=(a,i)=>{const s=e&&JD(t,i)||i;Tp(t[s])&&Tp(a)?t[s]=P2(t[s],a):Tp(a)?t[s]=P2({},a):Gc(a)?t[s]=a.slice():t[s]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Df(arguments[a],r);return t}const Nre=(e,t,r,{allOwnKeys:a}={})=>(Df(t,(i,s)=>{r&&Bn(i)?e[s]=XD(i,r):e[s]=i},{allOwnKeys:a}),e),Tre=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Cre=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Are=(e,t,r,a)=>{let i,s,l;const d={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)l=i[s],(!a||a(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=r!==!1&&lS(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},_re=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},Ere=e=>{if(!e)return null;if(Gc(e))return e;let t=e.length;if(!ZD(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Ore=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&lS(Uint8Array)),kre=(e,t)=>{const a=(e&&e[N0]).call(e);let i;for(;(i=a.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Ire=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},Pre=ei("HTMLFormElement"),Rre=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,i){return a.toUpperCase()+i}),vk=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Dre=ei("RegExp"),t8=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Df(r,(i,s)=>{let l;(l=t(i,s,e))!==!1&&(a[s]=l||i)}),Object.defineProperties(e,a)},Mre=e=>{t8(e,(t,r)=>{if(Bn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Bn(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Fre=(e,t)=>{const r={},a=i=>{i.forEach(s=>{r[s]=!0})};return Gc(e)?a(e):a(String(e).split(t)),r},Bre=()=>{},Lre=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function zre(e){return!!(e&&Bn(e.append)&&e[KD]==="FormData"&&e[N0])}const $re=e=>{const t=new Array(10),r=(a,i)=>{if(A0(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[i]=a;const s=Gc(a)?[]:{};return Df(a,(l,d)=>{const u=r(l,i+1);!ff(u)&&(s[d]=u)}),t[i]=void 0,s}}return a};return r(e,0)},Ure=ei("AsyncFunction"),qre=e=>e&&(A0(e)||Bn(e))&&Bn(e.then)&&Bn(e.catch),r8=((e,t)=>e?setImmediate:t?((r,a)=>(Eo.addEventListener("message",({source:i,data:s})=>{i===Eo&&s===r&&a.length&&a.shift()()},!1),i=>{a.push(i),Eo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Bn(Eo.postMessage)),Hre=typeof queueMicrotask<"u"?queueMicrotask.bind(Eo):typeof process<"u"&&process.nextTick||r8,Wre=e=>e!=null&&Bn(e[N0]),ze={isArray:Gc,isArrayBuffer:QD,isBuffer:lre,isFormData:gre,isArrayBufferView:cre,isString:dre,isNumber:ZD,isBoolean:ure,isObject:A0,isPlainObject:Tp,isReadableStream:vre,isRequest:bre,isResponse:jre,isHeaders:wre,isUndefined:ff,isDate:fre,isFile:hre,isBlob:pre,isRegExp:Dre,isFunction:Bn,isStream:xre,isURLSearchParams:yre,isTypedArray:Ore,isFileList:mre,forEach:Df,merge:P2,extend:Nre,trim:Sre,stripBOM:Tre,inherits:Cre,toFlatObject:Are,kindOf:T0,kindOfTest:ei,endsWith:_re,toArray:Ere,forEachEntry:kre,matchAll:Ire,isHTMLForm:Pre,hasOwnProperty:vk,hasOwnProp:vk,reduceDescriptors:t8,freezeMethods:Mre,toObjectSet:Fre,toCamelCase:Rre,noop:Bre,toFiniteNumber:Lre,findKey:JD,global:Eo,isContextDefined:e8,isSpecCompliantForm:zre,toJSONObject:$re,isAsyncFn:Ure,isThenable:qre,setImmediate:r8,asap:Hre,isIterable:Wre};function St(e,t,r,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}ze.inherits(St,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const n8=St.prototype,a8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{a8[e]={value:e}});Object.defineProperties(St,a8);Object.defineProperty(n8,"isAxiosError",{value:!0});St.from=(e,t,r,a,i,s)=>{const l=Object.create(n8);return ze.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError"),St.call(l,e.message,t,r,a,i),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const Gre=null;function R2(e){return ze.isPlainObject(e)||ze.isArray(e)}function i8(e){return ze.endsWith(e,"[]")?e.slice(0,-2):e}function bk(e,t,r){return e?e.concat(t).map(function(i,s){return i=i8(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function Vre(e){return ze.isArray(e)&&!e.some(R2)}const Yre=ze.toFlatObject(ze,{},null,function(t){return/^is[A-Z]/.test(t)});function _0(e,t,r){if(!ze.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ze.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!ze.isUndefined(y[b])});const a=r.metaTokens,i=r.visitor||p,s=r.dots,l=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(t);if(!ze.isFunction(i))throw new TypeError("visitor must be a function");function f(j){if(j===null)return"";if(ze.isDate(j))return j.toISOString();if(ze.isBoolean(j))return j.toString();if(!u&&ze.isBlob(j))throw new St("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(j)||ze.isTypedArray(j)?u&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function p(j,b,y){let C=j;if(j&&!y&&typeof j=="object"){if(ze.endsWith(b,"{}"))b=a?b:b.slice(0,-2),j=JSON.stringify(j);else if(ze.isArray(j)&&Vre(j)||(ze.isFileList(j)||ze.endsWith(b,"[]"))&&(C=ze.toArray(j)))return b=i8(b),C.forEach(function(E,S){!(ze.isUndefined(E)||E===null)&&t.append(l===!0?bk([b],S,s):l===null?b:b+"[]",f(E))}),!1}return R2(j)?!0:(t.append(bk(y,b,s),f(j)),!1)}const x=[],g=Object.assign(Yre,{defaultVisitor:p,convertValue:f,isVisitable:R2});function v(j,b){if(!ze.isUndefined(j)){if(x.indexOf(j)!==-1)throw Error("Circular reference detected in "+b.join("."));x.push(j),ze.forEach(j,function(C,A){(!(ze.isUndefined(C)||C===null)&&i.call(t,C,ze.isString(A)?A.trim():A,b,g))===!0&&v(C,b?b.concat(A):[A])}),x.pop()}}if(!ze.isObject(e))throw new TypeError("data must be an object");return v(e),t}function jk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function cS(e,t){this._pairs=[],e&&_0(e,this,t)}const s8=cS.prototype;s8.append=function(t,r){this._pairs.push([t,r])};s8.toString=function(t){const r=t?function(a){return t.call(this,a,jk)}:jk;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Xre(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function o8(e,t,r){if(!t)return e;const a=r&&r.encode||Xre;ze.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=ze.isURLSearchParams(t)?t.toString():new cS(t,r).toString(a),s){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class wk{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ze.forEach(this.handlers,function(a){a!==null&&t(a)})}}const l8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kre=typeof URLSearchParams<"u"?URLSearchParams:cS,Qre=typeof FormData<"u"?FormData:null,Zre=typeof Blob<"u"?Blob:null,Jre={isBrowser:!0,classes:{URLSearchParams:Kre,FormData:Qre,Blob:Zre},protocols:["http","https","file","blob","url","data"]},dS=typeof window<"u"&&typeof document<"u",D2=typeof navigator=="object"&&navigator||void 0,ene=dS&&(!D2||["ReactNative","NativeScript","NS"].indexOf(D2.product)<0),tne=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rne=dS&&window.location.href||"http://localhost",nne=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dS,hasStandardBrowserEnv:ene,hasStandardBrowserWebWorkerEnv:tne,navigator:D2,origin:rne},Symbol.toStringTag,{value:"Module"})),bn={...nne,...Jre};function ane(e,t){return _0(e,new bn.classes.URLSearchParams,Object.assign({visitor:function(r,a,i,s){return bn.isNode&&ze.isBuffer(r)?(this.append(a,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function ine(e){return ze.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sne(e){const t={},r=Object.keys(e);let a;const i=r.length;let s;for(a=0;a<i;a++)s=r[a],t[s]=e[s];return t}function c8(e){function t(r,a,i,s){let l=r[s++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),u=s>=r.length;return l=!l&&ze.isArray(i)?i.length:l,u?(ze.hasOwnProp(i,l)?i[l]=[i[l],a]:i[l]=a,!d):((!i[l]||!ze.isObject(i[l]))&&(i[l]=[]),t(r,a,i[l],s)&&ze.isArray(i[l])&&(i[l]=sne(i[l])),!d)}if(ze.isFormData(e)&&ze.isFunction(e.entries)){const r={};return ze.forEachEntry(e,(a,i)=>{t(ine(a),i,r,0)}),r}return null}function one(e,t,r){if(ze.isString(e))try{return(t||JSON.parse)(e),ze.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Mf={transitional:l8,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",i=a.indexOf("application/json")>-1,s=ze.isObject(t);if(s&&ze.isHTMLForm(t)&&(t=new FormData(t)),ze.isFormData(t))return i?JSON.stringify(c8(t)):t;if(ze.isArrayBuffer(t)||ze.isBuffer(t)||ze.isStream(t)||ze.isFile(t)||ze.isBlob(t)||ze.isReadableStream(t))return t;if(ze.isArrayBufferView(t))return t.buffer;if(ze.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(s){if(a.indexOf("application/x-www-form-urlencoded")>-1)return ane(t,this.formSerializer).toString();if((d=ze.isFileList(t))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return _0(d?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),one(t)):t}],transformResponse:[function(t){const r=this.transitional||Mf.transitional,a=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ze.isResponse(t)||ze.isReadableStream(t))return t;if(t&&ze.isString(t)&&(a&&!this.responseType||i)){const l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(d){if(l)throw d.name==="SyntaxError"?St.from(d,St.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],e=>{Mf.headers[e]={}});const lne=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cne=e=>{const t={};let r,a,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),a=l.substring(i+1).trim(),!(!r||t[r]&&lne[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},Sk=Symbol("internals");function ou(e){return e&&String(e).trim().toLowerCase()}function Cp(e){return e===!1||e==null?e:ze.isArray(e)?e.map(Cp):String(e)}function dne(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const une=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Q1(e,t,r,a,i){if(ze.isFunction(a))return a.call(this,t,r);if(i&&(t=r),!!ze.isString(t)){if(ze.isString(a))return t.indexOf(a)!==-1;if(ze.isRegExp(a))return a.test(t)}}function fne(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function hne(e,t){const r=ze.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(i,s,l){return this[a].call(this,t,i,s,l)},configurable:!0})})}let Ln=class{constructor(t){t&&this.set(t)}set(t,r,a){const i=this;function s(d,u,f){const p=ou(u);if(!p)throw new Error("header name must be a non-empty string");const x=ze.findKey(i,p);(!x||i[x]===void 0||f===!0||f===void 0&&i[x]!==!1)&&(i[x||u]=Cp(d))}const l=(d,u)=>ze.forEach(d,(f,p)=>s(f,p,u));if(ze.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(ze.isString(t)&&(t=t.trim())&&!une(t))l(cne(t),r);else if(ze.isObject(t)&&ze.isIterable(t)){let d={},u,f;for(const p of t){if(!ze.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[f=p[0]]=(u=d[f])?ze.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}l(d,r)}else t!=null&&s(r,t,a);return this}get(t,r){if(t=ou(t),t){const a=ze.findKey(this,t);if(a){const i=this[a];if(!r)return i;if(r===!0)return dne(i);if(ze.isFunction(r))return r.call(this,i,a);if(ze.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ou(t),t){const a=ze.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||Q1(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let i=!1;function s(l){if(l=ou(l),l){const d=ze.findKey(a,l);d&&(!r||Q1(a,a[d],d,r))&&(delete a[d],i=!0)}}return ze.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let a=r.length,i=!1;for(;a--;){const s=r[a];(!t||Q1(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,a={};return ze.forEach(this,(i,s)=>{const l=ze.findKey(a,s);if(l){r[l]=Cp(i),delete r[s];return}const d=t?fne(s):String(s).trim();d!==s&&delete r[s],r[d]=Cp(i),a[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ze.forEach(this,(a,i)=>{a!=null&&a!==!1&&(r[i]=t&&ze.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(i=>a.set(i)),a}static accessor(t){const a=(this[Sk]=this[Sk]={accessors:{}}).accessors,i=this.prototype;function s(l){const d=ou(l);a[d]||(hne(i,l),a[d]=!0)}return ze.isArray(t)?t.forEach(s):s(t),this}};Ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(Ln.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});ze.freezeMethods(Ln);function Z1(e,t){const r=this||Mf,a=t||r,i=Ln.from(a.headers);let s=a.data;return ze.forEach(e,function(d){s=d.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function d8(e){return!!(e&&e.__CANCEL__)}function Vc(e,t,r){St.call(this,e??"canceled",St.ERR_CANCELED,t,r),this.name="CanceledError"}ze.inherits(Vc,St,{__CANCEL__:!0});function u8(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new St("Request failed with status code "+r.status,[St.ERR_BAD_REQUEST,St.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function pne(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mne(e,t){e=e||10;const r=new Array(e),a=new Array(e);let i=0,s=0,l;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),p=a[s];l||(l=f),r[i]=u,a[i]=f;let x=s,g=0;for(;x!==i;)g+=r[x++],x=x%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),f-l<t)return;const v=p&&f-p;return v?Math.round(g*1e3/v):void 0}}function xne(e,t){let r=0,a=1e3/t,i,s;const l=(f,p=Date.now())=>{r=p,i=null,s&&(clearTimeout(s),s=null),e.apply(null,f)};return[(...f)=>{const p=Date.now(),x=p-r;x>=a?l(f,p):(i=f,s||(s=setTimeout(()=>{s=null,l(i)},a-x)))},()=>i&&l(i)]}const _m=(e,t,r=3)=>{let a=0;const i=mne(50,250);return xne(s=>{const l=s.loaded,d=s.lengthComputable?s.total:void 0,u=l-a,f=i(u),p=l<=d;a=l;const x={loaded:l,total:d,progress:d?l/d:void 0,bytes:u,rate:f||void 0,estimated:f&&d&&p?(d-l)/f:void 0,event:s,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(x)},r)},Nk=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},Tk=e=>(...t)=>ze.asap(()=>e(...t)),gne=bn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,bn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(bn.origin),bn.navigator&&/(msie|trident)/i.test(bn.navigator.userAgent)):()=>!0,yne=bn.hasStandardBrowserEnv?{write(e,t,r,a,i,s){const l=[e+"="+encodeURIComponent(t)];ze.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),ze.isString(a)&&l.push("path="+a),ze.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vne(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bne(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function f8(e,t,r){let a=!vne(t);return e&&(a||r==!1)?bne(e,t):t}const Ck=e=>e instanceof Ln?{...e}:e;function Uo(e,t){t=t||{};const r={};function a(f,p,x,g){return ze.isPlainObject(f)&&ze.isPlainObject(p)?ze.merge.call({caseless:g},f,p):ze.isPlainObject(p)?ze.merge({},p):ze.isArray(p)?p.slice():p}function i(f,p,x,g){if(ze.isUndefined(p)){if(!ze.isUndefined(f))return a(void 0,f,x,g)}else return a(f,p,x,g)}function s(f,p){if(!ze.isUndefined(p))return a(void 0,p)}function l(f,p){if(ze.isUndefined(p)){if(!ze.isUndefined(f))return a(void 0,f)}else return a(void 0,p)}function d(f,p,x){if(x in t)return a(f,p);if(x in e)return a(void 0,f)}const u={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(f,p,x)=>i(Ck(f),Ck(p),x,!0)};return ze.forEach(Object.keys(Object.assign({},e,t)),function(p){const x=u[p]||i,g=x(e[p],t[p],p);ze.isUndefined(g)&&x!==d||(r[p]=g)}),r}const h8=e=>{const t=Uo({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:d}=t;t.headers=l=Ln.from(l),t.url=o8(f8(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let u;if(ze.isFormData(r)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[f,...p]=u?u.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...p].join("; "))}}if(bn.hasStandardBrowserEnv&&(a&&ze.isFunction(a)&&(a=a(t)),a||a!==!1&&gne(t.url))){const f=i&&s&&yne.read(s);f&&l.set(i,f)}return t},jne=typeof XMLHttpRequest<"u",wne=jne&&function(e){return new Promise(function(r,a){const i=h8(e);let s=i.data;const l=Ln.from(i.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:f}=i,p,x,g,v,j;function b(){v&&v(),j&&j(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function C(){if(!y)return;const E=Ln.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!d||d==="text"||d==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:E,config:e,request:y};u8(function(P){r(P),b()},function(P){a(P),b()},T),y=null}"onloadend"in y?y.onloadend=C:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(C)},y.onabort=function(){y&&(a(new St("Request aborted",St.ECONNABORTED,e,y)),y=null)},y.onerror=function(){a(new St("Network Error",St.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||l8;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),a(new St(S,T.clarifyTimeoutError?St.ETIMEDOUT:St.ECONNABORTED,e,y)),y=null},s===void 0&&l.setContentType(null),"setRequestHeader"in y&&ze.forEach(l.toJSON(),function(S,T){y.setRequestHeader(T,S)}),ze.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),d&&d!=="json"&&(y.responseType=i.responseType),f&&([g,j]=_m(f,!0),y.addEventListener("progress",g)),u&&y.upload&&([x,v]=_m(u),y.upload.addEventListener("progress",x),y.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(p=E=>{y&&(a(!E||E.type?new Vc(null,e,y):E),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const A=pne(i.url);if(A&&bn.protocols.indexOf(A)===-1){a(new St("Unsupported protocol "+A+":",St.ERR_BAD_REQUEST,e));return}y.send(s||null)})},Sne=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,i;const s=function(f){if(!i){i=!0,d();const p=f instanceof Error?f:this.reason;a.abort(p instanceof St?p:new Vc(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,s(new St(`timeout ${t} of ms exceeded`,St.ETIMEDOUT))},t);const d=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),e=null)};e.forEach(f=>f.addEventListener("abort",s));const{signal:u}=a;return u.unsubscribe=()=>ze.asap(d),u}},Nne=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,i;for(;a<r;)i=a+t,yield e.slice(a,i),a=i},Tne=async function*(e,t){for await(const r of Cne(e))yield*Nne(r,t)},Cne=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},Ak=(e,t,r,a)=>{const i=Tne(e,t);let s=0,l,d=u=>{l||(l=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:f,value:p}=await i.next();if(f){d(),u.close();return}let x=p.byteLength;if(r){let g=s+=x;r(g)}u.enqueue(new Uint8Array(p))}catch(f){throw d(f),f}},cancel(u){return d(u),i.return()}},{highWaterMark:2})},E0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",p8=E0&&typeof ReadableStream=="function",Ane=E0&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),m8=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_ne=p8&&m8(()=>{let e=!1;const t=new Request(bn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),_k=64*1024,M2=p8&&m8(()=>ze.isReadableStream(new Response("").body)),Em={stream:M2&&(e=>e.body)};E0&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Em[t]&&(Em[t]=ze.isFunction(e[t])?r=>r[t]():(r,a)=>{throw new St(`Response type '${t}' is not supported`,St.ERR_NOT_SUPPORT,a)})})})(new Response);const Ene=async e=>{if(e==null)return 0;if(ze.isBlob(e))return e.size;if(ze.isSpecCompliantForm(e))return(await new Request(bn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(e)||ze.isArrayBuffer(e))return e.byteLength;if(ze.isURLSearchParams(e)&&(e=e+""),ze.isString(e))return(await Ane(e)).byteLength},One=async(e,t)=>{const r=ze.toFiniteNumber(e.getContentLength());return r??Ene(t)},kne=E0&&(async e=>{let{url:t,method:r,data:a,signal:i,cancelToken:s,timeout:l,onDownloadProgress:d,onUploadProgress:u,responseType:f,headers:p,withCredentials:x="same-origin",fetchOptions:g}=h8(e);f=f?(f+"").toLowerCase():"text";let v=Sne([i,s&&s.toAbortSignal()],l),j;const b=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let y;try{if(u&&_ne&&r!=="get"&&r!=="head"&&(y=await One(p,a))!==0){let T=new Request(t,{method:"POST",body:a,duplex:"half"}),_;if(ze.isFormData(a)&&(_=T.headers.get("content-type"))&&p.setContentType(_),T.body){const[P,L]=Nk(y,_m(Tk(u)));a=Ak(T.body,_k,P,L)}}ze.isString(x)||(x=x?"include":"omit");const C="credentials"in Request.prototype;j=new Request(t,{...g,signal:v,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:a,duplex:"half",credentials:C?x:void 0});let A=await fetch(j,g);const E=M2&&(f==="stream"||f==="response");if(M2&&(d||E&&b)){const T={};["status","statusText","headers"].forEach(D=>{T[D]=A[D]});const _=ze.toFiniteNumber(A.headers.get("content-length")),[P,L]=d&&Nk(_,_m(Tk(d),!0))||[];A=new Response(Ak(A.body,_k,P,()=>{L&&L(),b&&b()}),T)}f=f||"text";let S=await Em[ze.findKey(Em,f)||"text"](A,e);return!E&&b&&b(),await new Promise((T,_)=>{u8(T,_,{data:S,headers:Ln.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:j})})}catch(C){throw b&&b(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new St("Network Error",St.ERR_NETWORK,e,j),{cause:C.cause||C}):St.from(C,C&&C.code,e,j)}}),F2={http:Gre,xhr:wne,fetch:kne};ze.forEach(F2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ek=e=>`- ${e}`,Ine=e=>ze.isFunction(e)||e===null||e===!1,x8={getAdapter:e=>{e=ze.isArray(e)?e:[e];const{length:t}=e;let r,a;const i={};for(let s=0;s<t;s++){r=e[s];let l;if(a=r,!Ine(r)&&(a=F2[(l=String(r)).toLowerCase()],a===void 0))throw new St(`Unknown adapter '${l}'`);if(a)break;i[l||"#"+s]=a}if(!a){const s=Object.entries(i).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=t?s.length>1?`since :
`+s.map(Ek).join(`
`):" "+Ek(s[0]):"as no adapter specified";throw new St("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:F2};function J1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vc(null,e)}function Ok(e){return J1(e),e.headers=Ln.from(e.headers),e.data=Z1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),x8.getAdapter(e.adapter||Mf.adapter)(e).then(function(a){return J1(e),a.data=Z1.call(e,e.transformResponse,a),a.headers=Ln.from(a.headers),a},function(a){return d8(a)||(J1(e),a&&a.response&&(a.response.data=Z1.call(e,e.transformResponse,a.response),a.response.headers=Ln.from(a.response.headers))),Promise.reject(a)})}const g8="1.10.0",O0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{O0[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const kk={};O0.transitional=function(t,r,a){function i(s,l){return"[Axios v"+g8+"] Transitional option '"+s+"'"+l+(a?". "+a:"")}return(s,l,d)=>{if(t===!1)throw new St(i(l," has been removed"+(r?" in "+r:"")),St.ERR_DEPRECATED);return r&&!kk[l]&&(kk[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,l,d):!0}};O0.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function Pne(e,t,r){if(typeof e!="object")throw new St("options must be an object",St.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let i=a.length;for(;i-- >0;){const s=a[i],l=t[s];if(l){const d=e[s],u=d===void 0||l(d,s,e);if(u!==!0)throw new St("option "+s+" must be "+u,St.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new St("Unknown option "+s,St.ERR_BAD_OPTION)}}const Ap={assertOptions:Pne,validators:O0},li=Ap.validators;let Ro=class{constructor(t){this.defaults=t||{},this.interceptors={request:new wk,response:new wk}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?s&&!String(a.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+s):a.stack=s}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Uo(this.defaults,r);const{transitional:a,paramsSerializer:i,headers:s}=r;a!==void 0&&Ap.assertOptions(a,{silentJSONParsing:li.transitional(li.boolean),forcedJSONParsing:li.transitional(li.boolean),clarifyTimeoutError:li.transitional(li.boolean)},!1),i!=null&&(ze.isFunction(i)?r.paramsSerializer={serialize:i}:Ap.assertOptions(i,{encode:li.function,serialize:li.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ap.assertOptions(r,{baseUrl:li.spelling("baseURL"),withXsrfToken:li.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=s&&ze.merge(s.common,s[r.method]);s&&ze.forEach(["delete","get","head","post","put","patch","common"],j=>{delete s[j]}),r.headers=Ln.concat(l,s);const d=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(u=u&&b.synchronous,d.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let p,x=0,g;if(!u){const j=[Ok.bind(this),void 0];for(j.unshift.apply(j,d),j.push.apply(j,f),g=j.length,p=Promise.resolve(r);x<g;)p=p.then(j[x++],j[x++]);return p}g=d.length;let v=r;for(x=0;x<g;){const j=d[x++],b=d[x++];try{v=j(v)}catch(y){b.call(this,y);break}}try{p=Ok.call(this,v)}catch(j){return Promise.reject(j)}for(x=0,g=f.length;x<g;)p=p.then(f[x++],f[x++]);return p}getUri(t){t=Uo(this.defaults,t);const r=f8(t.baseURL,t.url,t.allowAbsoluteUrls);return o8(r,t.params,t.paramsSerializer)}};ze.forEach(["delete","get","head","options"],function(t){Ro.prototype[t]=function(r,a){return this.request(Uo(a||{},{method:t,url:r,data:(a||{}).data}))}});ze.forEach(["post","put","patch"],function(t){function r(a){return function(s,l,d){return this.request(Uo(d||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Ro.prototype[t]=r(),Ro.prototype[t+"Form"]=r(!0)});let Rne=class y8{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const a=this;this.promise.then(i=>{if(!a._listeners)return;let s=a._listeners.length;for(;s-- >0;)a._listeners[s](i);a._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(d=>{a.subscribe(d),s=d}).then(i);return l.cancel=function(){a.unsubscribe(s)},l},t(function(s,l,d){a.reason||(a.reason=new Vc(s,l,d),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new y8(function(i){t=i}),cancel:t}}};function Dne(e){return function(r){return e.apply(null,r)}}function Mne(e){return ze.isObject(e)&&e.isAxiosError===!0}const B2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(B2).forEach(([e,t])=>{B2[t]=e});function v8(e){const t=new Ro(e),r=XD(Ro.prototype.request,t);return ze.extend(r,Ro.prototype,t,{allOwnKeys:!0}),ze.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return v8(Uo(e,i))},r}const bt=v8(Mf);bt.Axios=Ro;bt.CanceledError=Vc;bt.CancelToken=Rne;bt.isCancel=d8;bt.VERSION=g8;bt.toFormData=_0;bt.AxiosError=St;bt.Cancel=bt.CanceledError;bt.all=function(t){return Promise.all(t)};bt.spread=Dne;bt.isAxiosError=Mne;bt.mergeConfig=Uo;bt.AxiosHeaders=Ln;bt.formToJSON=e=>c8(ze.isHTMLForm(e)?new FormData(e):e);bt.getAdapter=x8.getAdapter;bt.HttpStatusCode=B2;bt.default=bt;const{Axios:The,AxiosError:Che,CanceledError:Ahe,isCancel:_he,CancelToken:Ehe,VERSION:Ohe,all:khe,Cancel:Ihe,isAxiosError:Phe,spread:Rhe,toFormData:Dhe,AxiosHeaders:Mhe,HttpStatusCode:Fhe,formToJSON:Bhe,getAdapter:Lhe,mergeConfig:zhe}=bt,zl=bt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),Fne=()=>{const[e,t]=N.useState(!0),[r,a]=N.useState(""),[i,s]=N.useState("overview"),[l,d]=N.useState({totalOrders:0,totalRevenue:0,counterOrders:0,staffOrders:0,guestOrders:0,regularOrders:0,counterRevenue:0,staffRevenue:0,guestRevenue:0,regularRevenue:0,totalUsers:0,todayOrders:0,todayRevenue:0}),[u,f]=N.useState([]),[p,x]=N.useState([]),[g,v]=N.useState([]),[j,b]=N.useState([]),[y,C]=N.useState([]),[A,E]=N.useState([]),[S,T]=N.useState(""),[_,P]=N.useState("all"),[L,D]=N.useState("all"),[B,M]=N.useState("all"),[k,W]=N.useState("date"),[F,I]=N.useState("desc"),[R,X]=N.useState(1),[ne,ge]=N.useState(1),q=10,[ee,z]=N.useState(null),[U,V]=N.useState(!1);N.useEffect(()=>{te()},[]),N.useEffect(()=>{K()},[g,j,S,_,L,B,k,F,i]),N.useEffect(()=>{Y()},[y,R]);const te=async()=>{var ve,Le;t(!0),a("");try{const[le,Ae,qe,me]=await Promise.all([zl.get("/counter-order/orders"),zl.get("/staff-order"),zl.get("/user-auth"),zl.get("/branch")]),ae=await zl.get("/order",{params:{limit:1e3,sortBy:"createdAt",sortOrder:"desc"}}),re=await zl.get("/order/stats"),be=((ve=le.data.orders)==null?void 0:ve.map(je=>{var Qe,rt,ht;return{id:je.id,type:"counter",orderId:((Qe=je.invoice)==null?void 0:Qe.invoiceNumber)||je.id,customer:je.customerName||"Unknown Customer",staff:((rt=je.userId)==null?void 0:rt.name)||"Unknown Counter User",date:new Date(je.createdAt),dateString:new Date(je.createdAt).toLocaleDateString(),branch:((ht=je.branch)==null?void 0:ht.name)||"Unknown Branch",amount:je.grandTotal||je.totalAmount||0,status:je.orderStatus||"pending",paymentStatus:je.paymentStatus||"pending",paymentMethod:je.paymentMethod||"cash",items:je.items||[],subtotal:je.subtotal||0,tax:je.tax||0,serviceCharge:je.serviceCharge||0,isGuestOrder:!0,originalOrder:je}}))||[],H=((Le=Ae.data.orders)==null?void 0:Le.map(je=>{var Qe,rt;return{id:je._id,type:je.isGuestOrder?"Guest Order":"Staff Order",orderId:je.orderId||je._id,customer:je.isGuestOrder?je.customerName:((Qe=je.userId)==null?void 0:Qe.name)||"Unknown Staff",staff:((rt=je.userId)==null?void 0:rt.name)||"Unknown Staff",date:new Date(je.orderTime||je.createdAt),dateString:new Date(je.orderTime||je.createdAt).toLocaleDateString(),branch:je.branchName||"Unknown Branch",tableNumber:je.tableNumber,amount:je.grandTotal||0,status:je.status||"pending",paymentStatus:je.paymentStatus||"completed",paymentMethod:je.paymentMethod||"cash",items:je.items||[],subtotal:je.subtotal||0,tax:je.tax||0,serviceCharge:je.serviceCharge||0,isGuestOrder:je.isGuestOrder||!1,originalOrder:je}}))||[],Se=(ae.data.data||ae.data||[]).map(je=>{var Qe,rt;return{id:je._id,type:"online",orderId:je.orderNumber,customer:je.name,staff:((Qe=je.userId)==null?void 0:Qe.name)||"Online Order",date:new Date(je.createdAt),dateString:new Date(je.createdAt).toLocaleDateString(),branch:((rt=je.branchId)==null?void 0:rt.name)||"Online",amount:je.total||0,status:je.status||"pending",paymentStatus:je.paymentStatus||"completed",paymentMethod:je.paymentMethod||"online",items:je.items||[],subtotal:je.subtotal||0,tax:je.tax||0,serviceCharge:0,discount:je.discount||0,deliveryFee:je.deliveryFee||0,phone:je.phone||"",email:je.email||"",deliveryOption:je.deliveryOption||"delivery",deliveryAddress:je.deliveryAddress||"",specialInstructions:je.specialInstructions||"",isGuestOrder:!0,originalOrder:je}}),Ne=[...be,...H,...Se];v(Ne),b(Ne),se(Ne,qe.data,re.data),Z(Ne)}catch(le){console.error("Error fetching dashboard data:",le),a("Failed to load dashboard data. Please refresh the page and try again.")}finally{t(!1)}},se=(ve,Le,le)=>{const Ae=new Date().toDateString(),qe=ve.filter(je=>je.type==="counter"),me=ve.filter(je=>je.type==="Staff Order"),ae=ve.filter(je=>je.type==="Guest Order"),re=ve.filter(je=>je.type==="online"),be=ve.filter(je=>je.date.toDateString()===Ae),H=qe.length+me.length+ae.length+re.length,de=qe.reduce((je,Qe)=>je+Qe.amount,0)+me.reduce((je,Qe)=>je+Qe.amount,0)+ae.reduce((je,Qe)=>je+Qe.amount,0)+re.reduce((je,Qe)=>je+Qe.amount,0),Se=be.reduce((je,Qe)=>je+Qe.amount,0),Ne={totalOrders:H,totalRevenue:de,counterOrders:qe.length,staffOrders:me.length,guestOrders:ae.length,regularOrders:re.length,counterRevenue:qe.reduce((je,Qe)=>je+Qe.amount,0),staffRevenue:me.reduce((je,Qe)=>je+Qe.amount,0),guestRevenue:ae.reduce((je,Qe)=>je+Qe.amount,0),regularRevenue:re.reduce((je,Qe)=>je+Qe.amount,0),totalUsers:Le.length,todayOrders:be.length,todayRevenue:Se};d(Ne)},Z=ve=>{const Le={},le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];ve.forEach(me=>{const ae=le[me.date.getMonth()];Le[ae]||(Le[ae]={month:ae,revenue:0,orders:0}),Le[ae].revenue+=me.amount,Le[ae].orders+=1});const Ae=Object.values(Le);x(Ae);const qe=[{name:"Counter Orders",revenue:ve.filter(me=>me.type==="counter").reduce((me,ae)=>me+ae.amount,0),orders:ve.filter(me=>me.type==="counter").length},{name:"Staff Orders",revenue:ve.filter(me=>me.type==="Staff Order").reduce((me,ae)=>me+ae.amount,0),orders:ve.filter(me=>me.type==="Staff Order").length},{name:"Guest Orders",revenue:ve.filter(me=>me.type==="Guest Order").reduce((me,ae)=>me+ae.amount,0),orders:ve.filter(me=>me.type==="Guest Order").length},{name:"Online Orders",revenue:ve.filter(me=>me.type==="online").reduce((me,ae)=>me+ae.amount,0),orders:ve.filter(me=>me.type==="online").length}];f(qe)},K=()=>{let ve=i==="orders"?g:j;if(S.trim()){const Le=S.toLowerCase();ve=ve.filter(le=>le.orderId.toLowerCase().includes(Le)||le.customer.toLowerCase().includes(Le)||le.staff.toLowerCase().includes(Le)||le.branch.toLowerCase().includes(Le))}if(L!=="all"&&(ve=ve.filter(Le=>Le.type===L)),B!=="all"&&(ve=ve.filter(Le=>Le.status===B)),_!=="all"){const Le=new Date,le=new Date;switch(_){case"today":ve=ve.filter(Ae=>Ae.date.toDateString()===Le.toDateString());break;case"week":le.setDate(Le.getDate()-7),ve=ve.filter(Ae=>Ae.date>=le);break;case"month":le.setMonth(Le.getMonth()-1),ve=ve.filter(Ae=>Ae.date>=le);break}}ve.sort((Le,le)=>k==="date"?F==="asc"?Le.date-le.date:le.date-Le.date:k==="amount"?F==="asc"?Le.amount-le.amount:le.amount-Le.amount:0),C(ve),ge(Math.ceil(ve.length/q)),X(1)},Y=()=>{const ve=(R-1)*q,Le=ve+q;E(y.slice(ve,Le))},ce=ve=>{k===ve?I(F==="asc"?"desc":"asc"):(W(ve),I("desc"))},xe=ve=>{z(ve),V(!0)},pe=ve=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(ve),Ce=ve=>{switch(ve==null?void 0:ve.toLowerCase()){case"card":return n.jsx(Xr,{size:16});case"upi":return n.jsx(Eu,{size:16});case"online":return n.jsx(Xr,{size:16});default:return n.jsx(qi,{size:16})}};return e?n.jsxs("div",{className:"dashboard-loading",children:[n.jsx(Mn,{size:32,className:"animate-spin"}),n.jsx("p",{children:"Loading dashboard..."})]}):n.jsxs("div",{className:"comprehensive-dashboard",children:[r&&n.jsx("div",{className:"error-banner",children:n.jsx("span",{children:r})}),n.jsx("div",{className:"dashboard-header",children:n.jsx("h1",{children:"Dashboard"})}),n.jsxs("div",{className:"tab-navigation",children:[n.jsx("button",{className:`tab-btn ${i==="overview"?"active":""}`,onClick:()=>s("overview"),children:"Overview"}),n.jsx("button",{className:`tab-btn ${i==="orders"?"active":""}`,onClick:()=>s("orders"),children:"All Orders"}),n.jsx("button",{className:`tab-btn ${i==="payments"?"active":""}`,onClick:()=>s("payments"),children:"All Payments"})]}),i==="overview"&&n.jsxs("div",{className:"overview-content",children:[n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card primary",children:[n.jsx("div",{className:"stat-icon",children:n.jsx(G7,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:l.totalOrders.toLocaleString()}),n.jsx("p",{children:"Total Orders"}),n.jsx("div",{className:"stat-breakdown",children:n.jsxs("span",{children:["Today: ",l.todayOrders]})})]})]}),n.jsxs("div",{className:"stat-card success",children:[n.jsx("div",{className:"stat-icon",children:n.jsx(qi,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:pe(l.totalRevenue)}),n.jsx("p",{children:"Total Revenue"}),n.jsx("div",{className:"stat-breakdown",children:n.jsxs("span",{children:["Today: ",pe(l.todayRevenue)]})})]})]}),n.jsxs("div",{className:"stat-card info",children:[n.jsx("div",{className:"stat-icon",children:n.jsx(Bi,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:l.totalUsers.toLocaleString()}),n.jsx("p",{children:"Total Users"})]})]})]}),n.jsxs("div",{className:"breakdown-grid",children:[n.jsxs("div",{className:"breakdown-card",children:[n.jsx("h3",{children:"Counter Orders"}),n.jsxs("div",{className:"breakdown-stats",children:[n.jsx("div",{className:"breakdown-number",children:l.counterOrders}),n.jsx("div",{className:"breakdown-revenue",children:pe(l.counterRevenue)})]})]}),n.jsxs("div",{className:"breakdown-card",children:[n.jsx("h3",{children:"Staff Orders"}),n.jsxs("div",{className:"breakdown-stats",children:[n.jsx("div",{className:"breakdown-number",children:l.staffOrders}),n.jsx("div",{className:"breakdown-revenue",children:pe(l.staffRevenue)})]})]}),n.jsxs("div",{className:"breakdown-card",children:[n.jsx("h3",{children:"Guest Orders"}),n.jsxs("div",{className:"breakdown-stats",children:[n.jsx("div",{className:"breakdown-number",children:l.guestOrders}),n.jsx("div",{className:"breakdown-revenue",children:pe(l.guestRevenue)})]})]}),n.jsxs("div",{className:"breakdown-card",children:[n.jsx("h3",{children:"Online Orders"}),n.jsxs("div",{className:"breakdown-stats",children:[n.jsx("div",{className:"breakdown-number",children:l.regularOrders}),n.jsx("div",{className:"breakdown-revenue",children:pe(l.regularRevenue)})]})]})]}),n.jsxs("div",{className:"charts-grid",children:[n.jsxs("div",{className:"chart-card",children:[n.jsx("div",{className:"chart-header",children:n.jsx("h3",{children:"Monthly Revenue Trend"})}),n.jsx("div",{className:"chart-container",children:n.jsx(d4,{width:"100%",height:300,children:n.jsxs(ire,{data:p,children:[n.jsx(j2,{strokeDasharray:"3 3"}),n.jsx(_c,{dataKey:"month"}),n.jsx(Oc,{}),n.jsx($a,{formatter:ve=>[pe(ve),"Revenue"]}),n.jsx(Rf,{type:"monotone",dataKey:"revenue",stroke:"#FF7E47",strokeWidth:2})]})})})]}),n.jsxs("div",{className:"chart-card",children:[n.jsx("div",{className:"chart-header",children:n.jsx("h3",{children:"Revenue by Type"})}),n.jsx("div",{className:"chart-container",children:n.jsx(d4,{width:"100%",height:300,children:n.jsxs(sre,{data:u,children:[n.jsx(j2,{strokeDasharray:"3 3"}),n.jsx(_c,{dataKey:"name"}),n.jsx(Oc,{}),n.jsx($a,{formatter:ve=>[pe(ve),"Revenue"]}),n.jsx(Qo,{dataKey:"revenue",fill:"#FF7E47"})]})})})]})]})]}),(i==="orders"||i==="payments")&&n.jsxs("div",{className:"data-content",children:[n.jsxs("div",{className:"filters-section",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by order ID, customer, or branch...",className:"search-input",value:S,onChange:ve=>T(ve.target.value)})]}),n.jsxs("div",{className:"filter-controls",children:[n.jsxs("select",{className:"filter-select",value:L,onChange:ve=>D(ve.target.value),children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"counter",children:"Counter"}),n.jsx("option",{value:"Staff Order",children:"Staff"}),n.jsx("option",{value:"Guest Order",children:"Guest"}),n.jsx("option",{value:"online",children:"Online"})]}),n.jsxs("select",{className:"filter-select",value:B,onChange:ve=>M(ve.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{className:"filter-select",value:_,onChange:ve=>P(ve.target.value),children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"})]})]})]}),n.jsx("div",{className:"data-table-container",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Order By"}),n.jsx("th",{className:"sortable-header",onClick:()=>ce("date"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Date"}),k==="date"&&(F==="asc"?n.jsx(qs,{size:16}):n.jsx(Us,{size:16}))]})}),n.jsx("th",{children:"Branch"}),n.jsx("th",{className:"sortable-header",onClick:()=>ce("amount"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Amount"}),k==="amount"&&(F==="asc"?n.jsx(qs,{size:16}):n.jsx(Us,{size:16}))]})}),i==="orders"&&n.jsx("th",{children:"Status"}),i==="payments"&&n.jsx("th",{children:"Payment Method"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:A.length>0?A.map(ve=>n.jsxs("tr",{children:[n.jsx("td",{children:ve.orderId}),n.jsx("td",{children:ve.type==="Staff Order"||ve.type==="Guest Order"?ve.type:ve.type.charAt(0).toUpperCase()+ve.type.slice(1)+" Order"}),n.jsx("td",{children:ve.customer}),n.jsx("td",{children:ve.dateString}),n.jsx("td",{children:ve.branch}),n.jsxs("td",{children:["",ve.amount.toFixed(2)]}),i==="orders"&&n.jsx("td",{children:n.jsx("span",{className:`status-badge ${ve.status}`,children:ve.status.charAt(0).toUpperCase()+ve.status.slice(1)})}),i==="payments"&&n.jsx("td",{children:n.jsxs("div",{className:"payment-method",children:[Ce(ve.paymentMethod),n.jsx("span",{children:ve.paymentMethod.charAt(0).toUpperCase()+ve.paymentMethod.slice(1)})]})}),n.jsx("td",{children:n.jsxs("button",{className:"action-btn view",onClick:()=>xe(ve),children:[n.jsx(Za,{size:16}),"View"]})})]},`${ve.type}-${ve.id}`)):n.jsx("tr",{children:n.jsxs("td",{colSpan:"8",className:"no-data",children:["No ",i," found matching your criteria"]})})})]})}),ne>1&&n.jsxs("div",{className:"pagination",children:[n.jsxs("button",{className:"pagination-btn",onClick:()=>X(ve=>Math.max(ve-1,1)),disabled:R===1,children:[n.jsx(Sf,{size:16}),"Previous"]}),n.jsx("div",{className:"pagination-pages",children:Array.from({length:Math.min(5,ne)},(ve,Le)=>{let le;return ne<=5||R<=3?le=Le+1:R>=ne-2?le=ne-4+Le:le=R-2+Le,n.jsx("button",{className:`pagination-page ${R===le?"active":""}`,onClick:()=>X(le),children:le},le)})}),n.jsxs("button",{className:"pagination-btn",onClick:()=>X(ve=>Math.min(ve+1,ne)),disabled:R===ne,children:["Next",n.jsx(Nf,{size:16})]})]})]}),U&&ee&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:[ee.type==="Staff Order"||ee.type==="Guest Order"?ee.type:ee.type.charAt(0).toUpperCase()+ee.type.slice(1)," ",i==="orders"?"Order":"Payment"," Details"]}),n.jsx("button",{className:"modal-close",onClick:()=>V(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"details-grid",children:[n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Basic Information"}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Order ID:"}),n.jsx("span",{className:"detail-value",children:ee.orderId})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Type:"}),n.jsx("span",{className:"detail-value",children:ee.type})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Customer:"}),n.jsx("span",{className:"detail-value",children:ee.customer})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Date:"}),n.jsx("span",{className:"detail-value",children:ee.date.toLocaleString()})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Branch:"}),n.jsx("span",{className:"detail-value",children:ee.branch})]}),ee.tableNumber&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Table:"}),n.jsx("span",{className:"detail-value",children:ee.tableNumber})]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Payment Information"}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Subtotal:"}),n.jsxs("span",{className:"detail-value",children:["",ee.subtotal.toFixed(2)]})]}),ee.discount>0&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Discount:"}),n.jsxs("span",{className:"detail-value",style:{color:"#22c55e"},children:["-",ee.discount.toFixed(2)]})]}),ee.tax>0&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Tax:"}),n.jsxs("span",{className:"detail-value",children:["",ee.tax.toFixed(2)]})]}),ee.type!=="online"&&ee.serviceCharge>0&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Service Charge:"}),n.jsxs("span",{className:"detail-value",children:["",ee.serviceCharge.toFixed(2)]})]}),ee.deliveryFee>0&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Delivery Fee:"}),n.jsxs("span",{className:"detail-value",children:["",ee.deliveryFee.toFixed(2)]})]}),n.jsxs("div",{className:"detail-row total",children:[n.jsx("span",{className:"detail-label",children:"Total Amount:"}),n.jsxs("span",{className:"detail-value",children:["",ee.amount.toFixed(2)]})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Payment Method:"}),n.jsx("span",{className:"detail-value",children:n.jsxs("div",{className:"payment-method",children:[Ce(ee.paymentMethod),ee.paymentMethod]})})]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Payment Status:"}),n.jsx("span",{className:"detail-value",children:n.jsx("span",{className:`status-badge ${ee.paymentStatus}`,children:ee.paymentStatus})})]}),ee.type==="online"&&ee.phone&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Phone:"}),n.jsx("span",{className:"detail-value",children:ee.phone})]}),ee.type==="online"&&ee.email&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Email:"}),n.jsx("span",{className:"detail-value",children:ee.email})]}),ee.type==="online"&&ee.deliveryAddress&&n.jsxs("div",{className:"detail-row",children:[n.jsx("span",{className:"detail-label",children:"Delivery Address:"}),n.jsx("span",{className:"detail-value",children:ee.deliveryAddress})]})]})]}),ee.items&&ee.items.length>0&&n.jsxs("div",{className:"items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsxs("table",{className:"items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:ee.items.map((ve,Le)=>n.jsxs("tr",{children:[n.jsx("td",{children:ve.name}),n.jsx("td",{children:ve.quantity}),n.jsxs("td",{children:["",ve.price.toFixed(2)]}),n.jsxs("td",{children:["",(ve.quantity*ve.price).toFixed(2)]})]},Le))})]})]})]}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:()=>V(!1),children:"Close"})})]})}),n.jsx("style",{jsx:!0,children:`
        .comprehensive-dashboard {
          padding: 20px;
          max-width: 1400px;
          margin: 0 auto;
        }

        .dashboard-loading {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 400px;
          gap: 16px;
        }

        .error-banner {
          background-color: #fee2e2;
          color: #dc2626;
          padding: 12px 16px;
          border-radius: 8px;
          margin-bottom: 20px;
        }

        .dashboard-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 24px;
        }

        .dashboard-header h1 {
          font-size: 28px;
          font-weight: 700;
          color: #1f2937;
          margin: 0;
        }

        .btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 16px;
          border-radius: 6px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
        }

        .btn-outline {
          background: white;
          border: 1px solid #d1d5db;
          color: #374151;
        }

        .btn-outline:hover {
          background: #f9fafb;
        }

        .tab-navigation {
          display: flex;
          gap: 4px;
          margin-bottom: 24px;
          border-bottom: 1px solid #e5e7eb;
        }

        .tab-btn {
          padding: 12px 24px;
          background: none;
          border: none;
          font-weight: 500;
          color: #6b7280;
          cursor: pointer;
          border-bottom: 2px solid transparent;
          transition: all 0.2s;
        }

        .tab-btn.active {
          color: #ff7e47;
          border-bottom-color: #ff7e47;
        }

        .tab-btn:hover {
          color: #374151;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
          margin-bottom: 32px;
        }

        .stat-card {
          background: white;
          padding: 24px;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .stat-icon {
          width: 48px;
          height: 48px;
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
        }

        .stat-card.primary .stat-icon { background: #3b82f6; }
        .stat-card.success .stat-icon { background: #10b981; }
        .stat-card.info .stat-icon { background: #6366f1; }

        .stat-content h3 {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
          color: #1f2937;
        }

        .stat-content p {
          font-size: 14px;
          color: #6b7280;
          margin: 0 0 8px 0;
        }

        .stat-breakdown {
          font-size: 12px;
          color: #9ca3af;
        }

        .breakdown-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
          margin-bottom: 32px;
        }

        .breakdown-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          text-align: center;
        }

        .breakdown-card h3 {
          font-size: 16px;
          font-weight: 600;
          margin: 0 0 12px 0;
          color: #374151;
        }

        .breakdown-number {
          font-size: 24px;
          font-weight: 700;
          color: #1f2937;
        }

        .breakdown-revenue {
          font-size: 14px;
          color: #10b981;
          font-weight: 500;
        }

        .charts-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
          gap: 24px;
          margin-bottom: 32px;
        }

        .chart-card {
          background: white;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          overflow: hidden;
        }

        .chart-header {
          padding: 20px 24px 0 24px;
        }

        .chart-header h3 {
          font-size: 18px;
          font-weight: 600;
          margin: 0;
          color: #1f2937;
        }

        .chart-container {
          padding: 20px;
        }

        .filters-section {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          margin-bottom: 20px;
          display: flex;
          gap: 16px;
          flex-wrap: wrap;
          align-items: center;
        }

        .search-container {
          position: relative;
          flex: 1;
          min-width: 300px;
        }

        .search-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
        }

        .search-input {
          width: 100%;
          padding: 10px 12px 10px 40px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
        }

        .filter-controls {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
        }

        .filter-select {
          padding: 8px 12px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
          background: white;
        }

        .data-table-container {
          background: white;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          overflow: hidden;
          margin-bottom: 20px;
        }

        .data-table {
          width: 100%;
          border-collapse: collapse;
        }

        .data-table th {
          background: #f9fafb;
          padding: 12px;
          text-align: left;
          font-weight: 600;
          color: #374151;
          border-bottom: 1px solid #e5e7eb;
        }

        .data-table td {
          padding: 12px;
          border-bottom: 1px solid #f3f4f6;
        }

        .sortable-header {
          cursor: pointer;
          user-select: none;
        }

        .sort-header {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .status-badge {
          display: inline-block;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          font-weight: 500;
        }

        .status-badge.pending { background: #fef3c7; color: #92400e; }
        .status-badge.processing { background: #dbeafe; color: #1e40af; }
        .status-badge.completed { background: #d1fae5; color: #065f46; }
        .status-badge.cancelled { background: #fee2e2; color: #991b1b; }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .action-btn {
          display: flex;
          align-items: center;
          gap: 4px;
          padding: 6px 12px;
          background: #f3f4f6;
          border: none;
          border-radius: 4px;
          font-size: 12px;
          cursor: pointer;
          transition: background 0.2s;
        }

        .action-btn:hover {
          background: #e5e7eb;
        }

        .action-btn.view {
          background: #dbeafe;
          color: #1e40af;
        }

        .action-btn.view:hover {
          background: #bfdbfe;
        }

        .no-data {
          text-align: center;
          padding: 40px;
          color: #6b7280;
        }

        .pagination {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 8px;
          margin-top: 20px;
        }

        .pagination-btn {
          display: flex;
          align-items: center;
          gap: 4px;
          padding: 8px 12px;
          background: white;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          cursor: pointer;
          transition: background 0.2s;
        }

        .pagination-btn:hover:not(:disabled) {
          background: #f9fafb;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-pages {
          display: flex;
          gap: 4px;
        }

        .pagination-page {
          padding: 8px 12px;
          background: white;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .pagination-page:hover {
          background: #f9fafb;
        }

        .pagination-page.active {
          background: #ff7e47;
          color: white;
          border-color: #ff7e47;
        }

        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
        }

        .modal {
          background: white;
          border-radius: 12px;
          max-width: 800px;
          width: 90%;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 24px;
          border-bottom: 1px solid #e5e7eb;
        }

        .modal-header h3 {
          margin: 0;
          font-size: 18px;
          font-weight: 600;
        }

        .modal-close {
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #6b7280;
        }

        .modal-body {
          padding: 24px;
          overflow-y: auto;
        }

        .details-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 24px;
          margin-bottom: 24px;
        }

        .detail-section h4 {
          margin: 0 0 16px 0;
          font-size: 16px;
          font-weight: 600;
          color: #1f2937;
        }

        .detail-row {
          display: flex;
          margin-bottom: 8px;
        }

        .detail-row.total {
          font-weight: 600;
          border-top: 1px solid #e5e7eb;
          padding-top: 8px;
          margin-top: 8px;
        }

        .detail-label {
          width: 140px;
          color: #6b7280;
          font-weight: 500;
        }

        .detail-value {
          flex: 1;
          color: #1f2937;
        }

        .items-section {
          margin-top: 24px;
        }

        .items-section h4 {
          margin: 0 0 16px 0;
          font-size: 16px;
          font-weight: 600;
          color: #1f2937;
        }

        .items-table {
          width: 100%;
          border-collapse: collapse;
          border: 1px solid #e5e7eb;
          border-radius: 6px;
          overflow: hidden;
        }

        .items-table th {
          background: #f9fafb;
          padding: 12px;
          text-align: left;
          font-weight: 600;
          color: #374151;
        }

        .items-table td {
          padding: 12px;
          border-top: 1px solid #f3f4f6;
        }

        .modal-footer {
          padding: 16px 24px;
          border-top: 1px solid #e5e7eb;
          display: flex;
          justify-content: flex-end;
        }

        @media (max-width: 768px) {
          .comprehensive-dashboard {
            padding: 16px;
          }

          .dashboard-header {
            flex-direction: column;
            gap: 16px;
            align-items: flex-start;
          }

          .filters-section {
            flex-direction: column;
            align-items: stretch;
          }

          .search-container {
            min-width: auto;
          }

          .filter-controls {
            justify-content: stretch;
          }

          .filter-select {
            flex: 1;
          }

          .details-grid {
            grid-template-columns: 1fr;
          }

          .charts-grid {
            grid-template-columns: 1fr;
          }

          .data-table {
            font-size: 14px;
          }

          .data-table th,
          .data-table td {
            padding: 8px;
          }
        }

        .animate-spin {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
      `})]})},Bne=async e=>{const t=e.headers.get("content-type");if(!t||!t.includes("application/json")){const r=await e.text();throw new Error(`Expected JSON but received ${t||"unknown content type"}. Response: ${r.substring(0,200)}`)}try{return await e.json()}catch(r){throw new Error(`Failed to parse JSON: ${r.message}`)}},Lne=async(e,t={})=>{try{const r=await fetch(e,t);if(!r.ok){const a=r.headers.get("content-type");if(a&&a.includes("application/json")){const s=await r.json();throw console.error("Backend error response:",s),new Error(s.message||`HTTP ${r.status}: ${r.statusText}`)}const i=await r.text();throw console.error("Backend error text:",i),new Error(`HTTP ${r.status}: ${i.substring(0,200)}`)}return await Bne(r)}catch(r){throw r.message.includes("Failed to fetch")?new Error(`Network error: Unable to reach ${e}. Please check your connection.`):r}},zne=()=>{const e="https://hotelvirat.com/api/v1/hotel",t="https://hotelviratbackend.onrender.com/api/v1/hotel";return console.log(" Using backends:",{primary:e,secondary:t,mode:"production"}),[e,t]},Rt=async(e,t={},r=!1)=>{var l;const a=zne(),[i]=a,s=t.method||"GET";(s==="POST"||s==="PUT")&&t.body&&!((l=t.headers)!=null&&l["Content-Type"])&&(t.body instanceof FormData||(t.headers={...t.headers,"Content-Type":"application/json"}));try{const d=`${i}${e}`;console.log(` ${s} ${d}`),console.log(` Endpoint: "${e}"`),console.log(` Primary URL: "${i}"`);const u=await Lne(d,t),f=u.menuItem||u.category||u.data||u;return console.log(` ${s} successful`),f}catch(d){throw console.error(` ${s} failed:`,d.message),d.message.includes("400")&&(console.error("400 Bad Request - likely validation error"),console.error("Full error:",d)),d}},$ne=()=>{var E;const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState("all"),[l,d]=N.useState("all"),[u,f]=N.useState(null),[p,x]=N.useState(null);N.useEffect(()=>{JSON.parse(localStorage.getItem("user")||"{}");const S=localStorage.getItem("categoryAccess");console.log(" Orders Component Loaded - Build Version: 2026-01-05-v2"),console.log("User category access:",S),x(S),g();const T=setInterval(g,3e4);return()=>clearInterval(T)},[]);const g=async()=>{try{console.log(" Fetching orders from mobile app only...");const S=k=>{var R,X,ne;const W=((R=k.categoryName)==null?void 0:R.toLowerCase().trim())||"";if(W){if(W.includes("temple")||W.includes("meal"))return"temple";if(W.includes("self")||W.includes("service"))return"self-service";if(W.includes("restaurant"))return"restaurant"}const F=(k.orderId||k.orderNumber||k._id||"").toLowerCase();if(F.includes("-tm-")||F.includes("temple"))return"temple";if(F.includes("-ss-")||F.includes("counter"))return"self-service";if(F.includes("-res-"))return"restaurant";if(k.items&&Array.isArray(k.items)&&k.items.length>0){const ge={"692fe2788b36a58df247e06f":"restaurant","692fe2978b36a58df247e072":"self-service","692fe2ae8b36a58df247e075":"temple"},q=k.items.map(ee=>{var U;const z=typeof ee.categoryId=="string"?ee.categoryId:((U=ee.categoryId)==null?void 0:U._id)||ee.categoryId;return ge[z]}).filter(Boolean);if(q.length>0){const ee={};return q.forEach(U=>{ee[U]=(ee[U]||0)+1}),Object.keys(ee).reduce((U,V)=>ee[U]>ee[V]?U:V)}}const I=((X=k.tableNumber)==null?void 0:X.toString().toLowerCase())||"";return I.includes("counter")||I.includes("self")?"self-service":(console.log(" No clear category found, defaulting to restaurant for order:",{orderId:k.orderId||k.orderNumber||k._id,categoryName:k.categoryName,hasItems:!!((ne=k.items)!=null&&ne.length),tableNumber:k.tableNumber}),"restaurant")},T=await Rt("/order",{},!0).catch(k=>(console.log("Mobile app order endpoint failed:",k.message),[]));let _=[];const P=T;_=Array.isArray(P)?P:P.orders||[],console.log(` Mobile app orders found: ${_.length}`),_=_.map(k=>{var I,R;let W="Restaurant";const F=(k.orderId||k.orderNumber||k._id||"").toLowerCase();if(F.includes("-tm-")||F.includes("temple")?W="Temple Meals":F.includes("-ss-")||F.includes("counter")?W="Self Service":F.includes("-res-")&&(W="Restaurant"),k.items&&k.items.length>0){const X=k.items.map(ne=>ne.categoryId).filter(Boolean);if(X.length>0){const ne={};X.forEach(ee=>{ne[ee]=(ne[ee]||0)+1});const ge=Object.keys(ne).reduce((ee,z)=>ne[ee]>ne[z]?ee:z),q={"692fe2788b36a58df247e06f":"Restaurant","692fe2978b36a58df247e072":"Self Service","692fe2ae8b36a58df247e075":"Temple Meals"};q[ge]&&(W=q[ge])}}return{...k,customerName:k.name||k.customerName||"Mobile User",customerMobile:k.phone||k.customerMobile||k.customerPhone,customerPhone:k.phone||k.customerPhone||k.customerMobile,tableNumber:k.tableNumber||"Mobile Order",branchName:((I=k.branchId)==null?void 0:I.name)||k.branchName||"Hotel Virat",grandTotal:k.total||k.grandTotal||k.totalAmount,totalAmount:k.total||k.totalAmount||k.grandTotal,status:k.status||"pending",items:k.items||[],subtotal:k.subtotal||k.total||0,tax:k.tax||0,serviceCharge:k.serviceCharge||0,deliveryFee:k.deliveryFee||0,deliveryOption:k.deliveryOption||"delivery",deliveryAddress:k.deliveryAddress||"",paymentMethod:k.paymentMethod||"cash",specialInstructions:k.specialInstructions||"",couponCode:k.couponCode||"",discount:k.discount||0,categoryName:k.categoryName||W,orderType:S({...k,categoryName:k.categoryName||W})}}),console.log(" Mobile Orders by Type:",{restaurant:_.filter(k=>k.orderType==="restaurant").length,selfService:_.filter(k=>k.orderType==="self-service").length,temple:_.filter(k=>k.orderType==="temple").length});const L=_;console.log(` Total mobile app orders: ${L.length}`),console.log(" Final Order Type Distribution:",{restaurant:L.filter(k=>k.orderType==="restaurant").length,selfService:L.filter(k=>k.orderType==="self-service").length,temple:L.filter(k=>k.orderType==="temple").length,undefined:L.filter(k=>!k.orderType).length});const D=localStorage.getItem("categoryAccess");let B=L;D&&D!=="All"&&(B=L.filter(k=>k.categoryName===D),console.log(` Filtered ${L.length} orders to ${B.length} for category: ${D}`));const M=Array.isArray(B)?B.sort((k,W)=>{const F=new Date(k.createdAt||k.orderTime||k.updatedAt||0),I=new Date(W.createdAt||W.orderTime||W.updatedAt||0),R=I-F;return(B.indexOf(k)<3||B.indexOf(W)<3)&&console.log(" Sorting Debug:",{orderA:k.orderId||k.orderNumber||k._id,dateA:F.toISOString(),orderB:W.orderId||W.orderNumber||W._id,dateB:I.toISOString(),result:R>0?"B is newer":"A is newer"}),R}):[];console.log(" Final sorted orders (first 5):",M.slice(0,5).map(k=>({orderId:k.orderId||k.orderNumber||k._id,orderType:k.orderType,createdAt:k.createdAt,status:k.status}))),t(M),console.log(` Orders loaded successfully: ${M.length} orders`)}catch(S){console.error(" Error fetching orders:",S),t([])}finally{a(!1)}},v=async(S,T)=>{try{console.log(` Updating order ${S} status to ${T}`);const[_,P]=await Promise.allSettled([Rt(`/staff-order/${S}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:T})}).catch(B=>(console.log("Staff order update failed:",B.message),null)),Rt(`/order/${S}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:T})}).catch(B=>(console.log("Regular order update failed:",B.message),null))]),L=_.status==="fulfilled"&&_.value,D=P.status==="fulfilled"&&P.value;if(L||D)console.log(` Order ${S} status updated successfully`),await g(),f(null);else throw new Error("Failed to update order in both endpoints")}catch(_){console.error(" Error updating order:",_),alert("Failed to update order status. Please try again.")}},j=S=>{switch(S){case"temple":return"";case"self-service":return"";case"restaurant":return"";default:return""}},b=S=>{switch(S){case"temple":return"Temple Meals";case"self-service":return"Self Service";case"restaurant":return"Restaurant Order";default:return"Order"}},y=e.filter(S=>(e.indexOf(S)<5&&console.log(" Order Filter Debug:",{orderId:S.orderId||S.orderNumber||S._id,orderType:S.orderType,orderTypeTab:l,willShow:l==="all"||S.orderType===l}),l!=="all"&&S.orderType!==l?!1:i==="all"?!0:S.status===i)),C=S=>{switch(S){case"pending":return"#f59e0b";case"confirmed":return"#3b82f6";case"preparing":return"#8b5cf6";case"out for delivery":return"#06b6d4";case"delivered":return"#10b981";case"cancelled":return"#ef4444";default:return"#6b7280"}},A=S=>{switch(S){case"pending":return n.jsx(ui,{size:20});case"confirmed":return n.jsx(ko,{size:20});case"preparing":return n.jsx(ui,{size:20});case"out for delivery":return n.jsx(ui,{size:20});case"delivered":return n.jsx(ko,{size:20});case"cancelled":return n.jsx(Np,{size:20});default:return n.jsx(ui,{size:20})}};return n.jsxs("div",{style:pt.container,children:[n.jsxs("div",{style:pt.header,children:[n.jsxs("div",{children:[n.jsx("h1",{style:pt.title,children:"Mobile App Orders"}),n.jsx("p",{style:{margin:"5px 0 0",opacity:.7,fontSize:"14px"},children:"Orders placed from the Hotel Virat mobile app"}),p&&p!=="All"&&n.jsxs("p",{style:pt.categoryBadge,children:["Showing: ",p," orders only"]})]}),n.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:n.jsx("button",{onClick:g,style:pt.refreshBtn,children:"Refresh"})})]}),n.jsx("div",{style:pt.orderTypeTabs,children:[{key:"all",label:"All Orders",icon:""},{key:"restaurant",label:"Restaurant Orders",icon:""},{key:"temple",label:"Temple Meals",icon:""},{key:"self-service",label:"Self Service",icon:""}].map(S=>{const T=e.filter(_=>S.key==="all"||_.orderType===S.key).length;return console.log(` Tab ${S.key} count: ${T}`),n.jsxs("button",{onClick:()=>{console.log(` Switching to tab: ${S.key}`),d(S.key)},style:{...pt.orderTypeTab,...l===S.key?pt.orderTypeTabActive:{}},children:[n.jsx("span",{style:{marginRight:"8px"},children:S.icon}),S.label,n.jsxs("span",{style:{marginLeft:"8px",fontSize:"12px",opacity:.8},children:["(",T,")"]})]},S.key)})}),n.jsx("div",{style:pt.filterTabs,children:["all","pending","confirmed","preparing","out for delivery","delivered","cancelled"].map(S=>{const T=e.filter(P=>l==="all"||P.orderType===l),_=S==="all"?T.length:T.filter(P=>P.status===S).length;return n.jsxs("button",{onClick:()=>s(S),style:{...pt.filterTab,...i===S?pt.filterTabActive:{}},children:[S==="out for delivery"?"Out for Delivery":S.charAt(0).toUpperCase()+S.slice(1),n.jsxs("span",{style:{marginLeft:"6px"},children:["(",_,")"]})]},S)})}),r?n.jsx("div",{style:pt.loading,children:"Loading orders..."}):y.length===0?n.jsx("div",{style:pt.empty,children:"No orders found"}):n.jsx("div",{style:pt.ordersList,children:y.map(S=>{var T;return n.jsxs("div",{style:pt.orderCard,children:[n.jsxs("div",{style:pt.orderHeader,children:[n.jsxs("div",{children:[n.jsxs("h3",{style:pt.orderTitle,children:[j(S.orderType)," ",S.tableNumber==="Mobile Order"?"Mobile Order":`Table ${S.tableNumber}`]}),n.jsx("p",{style:pt.orderTime,children:new Date(S.createdAt||S.orderTime||S.updatedAt).toLocaleString()}),n.jsx("p",{style:pt.orderTypeLabel,children:b(S.orderType)})]}),n.jsxs("div",{style:{...pt.statusBadge,backgroundColor:C(S.status)},children:[A(S.status),n.jsx("span",{children:S.status})]})]}),n.jsxs("div",{style:pt.orderDetails,children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Customer:"})," ",S.customerName||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",S.customerMobile||S.customerPhone||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Branch:"})," ",S.branchName||"Hotel Virat"]}),S.deliveryOption&&n.jsxs("p",{children:[n.jsx("strong",{children:"Type:"})," ",S.deliveryOption==="delivery"?" Delivery":" Pickup"]}),S.deliveryAddress&&n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",S.deliveryAddress]}),S.paymentMethod&&n.jsxs("p",{children:[n.jsx("strong",{children:"Payment:"})," ",S.paymentMethod.toUpperCase()]}),S.categoryName&&n.jsxs("p",{children:[n.jsx("strong",{children:"Category:"})," ",S.categoryName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Items:"})," ",((T=S.items)==null?void 0:T.length)||0]}),S.couponCode&&n.jsxs("p",{children:[n.jsx("strong",{children:"Coupon:"})," ",S.couponCode," (-",S.discount||0,")"]}),n.jsxs("p",{style:pt.orderTotal,children:[n.jsx("strong",{children:"Total:"})," ",(S.grandTotal||S.totalAmount||S.total||0).toFixed(2)]})]}),n.jsxs("div",{style:pt.orderActions,children:[n.jsxs("button",{onClick:()=>f(S),style:pt.viewBtn,children:[n.jsx(Za,{size:16}),"View Details"]}),S.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>v(S._id,"delivered"),style:pt.completeBtn,children:"Complete"}),n.jsx("button",{onClick:()=>v(S._id,"cancelled"),style:pt.cancelBtn,children:"Cancel"})]})]})]},S._id)})}),u&&n.jsx("div",{style:pt.modalOverlay,onClick:()=>f(null),children:n.jsxs("div",{style:pt.modal,onClick:S=>S.stopPropagation(),children:[n.jsxs("div",{style:pt.modalHeader,children:[n.jsx("h2",{children:"Order Details"}),n.jsx("button",{onClick:()=>f(null),style:pt.closeBtn,children:""})]}),n.jsxs("div",{style:pt.modalBody,children:[n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Order Type:"}),n.jsx("span",{children:u.tableNumber==="Mobile Order"?" Mobile App Order":` Table ${u.tableNumber}`})]}),n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Customer:"}),n.jsx("span",{children:u.customerName||"N/A"})]}),n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Phone:"}),n.jsx("span",{children:u.customerMobile||u.customerPhone||"N/A"})]}),n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Status:"}),n.jsx("span",{style:{color:C(u.status),fontWeight:"bold"},children:u.status})]}),u.deliveryOption&&n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Delivery Type:"}),n.jsx("span",{children:u.deliveryOption==="delivery"?" Delivery":" Pickup"})]}),u.deliveryAddress&&n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Delivery Address:"}),n.jsx("span",{children:u.deliveryAddress})]}),u.paymentMethod&&n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Payment Method:"}),n.jsx("span",{children:u.paymentMethod.toUpperCase()})]}),u.couponCode&&n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Coupon Applied:"}),n.jsx("span",{children:u.couponCode})]}),u.specialInstructions&&n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Special Instructions:"}),n.jsx("span",{children:u.specialInstructions})]}),u.notes&&n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Notes:"}),n.jsx("span",{children:u.notes})]}),n.jsx("h3",{style:pt.itemsTitle,children:"Items:"}),(E=u.items)==null?void 0:E.map((S,T)=>n.jsxs("div",{style:pt.itemRow,children:[n.jsxs("div",{children:[n.jsx("div",{style:pt.itemName,children:S.name}),n.jsxs("div",{style:pt.itemQty,children:[S.quantity||S.count||1,"  ",S.price]})]}),n.jsxs("div",{style:pt.itemPrice,children:["",((S.price||0)*(S.quantity||S.count||1)).toFixed(2)]})]},T)),n.jsxs("div",{style:pt.totalRow,children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",(u.subtotal||u.totalAmount||u.total||0).toFixed(2)]})]}),u.discount>0&&n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{style:{color:"#10b981"},children:["-",u.discount.toFixed(2)]})]}),u.deliveryFee>0&&n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Delivery Fee:"}),n.jsxs("span",{children:["",u.deliveryFee.toFixed(2)]})]}),u.tax>0&&n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Tax (5%):"}),n.jsxs("span",{children:["",u.tax.toFixed(2)]})]}),u.serviceCharge>0&&n.jsxs("div",{style:pt.detailRow,children:[n.jsx("span",{children:"Service Charge (10%):"}),n.jsxs("span",{children:["",u.serviceCharge.toFixed(2)]})]}),n.jsxs("div",{style:pt.totalRow,children:[n.jsx("span",{children:"Grand Total:"}),n.jsxs("span",{children:["",(u.grandTotal||u.totalAmount||u.total||0).toFixed(2)]})]})]})]})})]})},pt={container:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},title:{fontSize:"28px",fontWeight:"bold",margin:0},categoryBadge:{display:"inline-block",marginTop:"8px",padding:"6px 12px",backgroundColor:"#10b981",color:"white",borderRadius:"6px",fontSize:"14px",fontWeight:"600"},refreshBtn:{padding:"10px 20px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},orderTypeTabs:{display:"flex",gap:"8px",marginBottom:"16px",flexWrap:"wrap",borderBottom:"2px solid #f3f4f6",paddingBottom:"16px"},orderTypeTab:{display:"flex",alignItems:"center",padding:"10px 16px",backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",fontWeight:"500",fontSize:"14px",whiteSpace:"nowrap",transition:"all 0.2s ease"},orderTypeTabActive:{backgroundColor:"#3b82f6",color:"white",borderColor:"#3b82f6"},orderTypeLabel:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},filterTabs:{display:"flex",gap:"8px",marginBottom:"24px",flexWrap:"wrap"},filterTab:{padding:"8px 16px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"500",fontSize:"14px",whiteSpace:"nowrap"},filterTabActive:{backgroundColor:"#10b981",color:"white"},loading:{textAlign:"center",padding:"40px",color:"#6b7280"},empty:{textAlign:"center",padding:"40px",color:"#6b7280"},ordersList:{display:"grid",gap:"16px"},orderCard:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px"},orderHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},orderTitle:{fontSize:"20px",fontWeight:"bold",margin:"0 0 4px 0"},orderTime:{fontSize:"14px",color:"#6b7280",margin:0},statusBadge:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"20px",color:"white",fontSize:"14px",fontWeight:"600"},orderDetails:{marginBottom:"16px",fontSize:"14px",lineHeight:"1.8"},orderTotal:{fontSize:"18px",color:"#10b981",marginTop:"8px"},orderActions:{display:"flex",gap:"8px",flexWrap:"wrap"},viewBtn:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},completeBtn:{padding:"8px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},cancelBtn:{padding:"8px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{backgroundColor:"white",borderRadius:"12px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #e5e7eb"},closeBtn:{background:"none",border:"none",fontSize:"32px",cursor:"pointer",color:"#6b7280",lineHeight:1},modalBody:{padding:"20px",overflowY:"auto"},detailRow:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #f3f4f6"},itemsTitle:{marginTop:"20px",marginBottom:"12px",fontSize:"18px",fontWeight:"bold"},itemRow:{display:"flex",justifyContent:"space-between",padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",marginBottom:"8px"},itemName:{fontWeight:"600",marginBottom:"4px"},itemQty:{fontSize:"14px",color:"#6b7280"},itemPrice:{fontWeight:"bold",color:"#10b981"},totalRow:{display:"flex",justifyContent:"space-between",marginTop:"20px",padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",fontSize:"20px",fontWeight:"bold",color:"#10b981"}},_p=e=>{if(!e)return null;if(e.startsWith("http://")||e.startsWith("https://"))return e;const t="http://localhost:9000";let r=e.toString().trim().replace(/\\/g,"/"),a;if(r.startsWith("/"))a=`${t}${r}`;else if(r.startsWith("uploads/"))a=`${t}/${r}`;else{const i=r.split("/").pop();a=`${t}/uploads/menu/${i}`}return a},Une=e=>{if(!e)return null;if(e.startsWith("http://localhost:9000"))return e.replace("http://localhost:9000","https://hotelvirat.com");if(e.startsWith("https://hotelvirat.com")||e.startsWith("http://")||e.startsWith("https://"))return e;const t="https://hotelvirat.com";let r=e.toString().trim().replace(/\\/g,"/"),a;if(r.startsWith("/"))a=`${t}${r}`;else if(r.startsWith("uploads/"))a=`${t}/${r}`;else{const i=r.split("/").pop();a=`${t}/uploads/menu/${i}`}return a},qne=({product:e,onClose:t,onSave:r,branches:a,categories:i,selectedBranch:s})=>{var M,k,W;const l=!!e,d=["Small","Medium","Large"],[u,f]=N.useState({menuItemNumber:(e==null?void 0:e.menuItemNumber)||"",name:(e==null?void 0:e.name)||"",branchId:typeof(e==null?void 0:e.branchId)=="object"?((M=e==null?void 0:e.branchId)==null?void 0:M._id)||s:(e==null?void 0:e.branchId)||s,categoryId:typeof(e==null?void 0:e.categoryId)=="object"?((k=e==null?void 0:e.categoryId)==null?void 0:k._id)||"":(e==null?void 0:e.categoryId)||"",subcategoryId:typeof(e==null?void 0:e.subcategoryId)=="object"?((W=e==null?void 0:e.subcategoryId)==null?void 0:W._id)||"":(e==null?void 0:e.subcategoryId)||"",quantities:(e==null?void 0:e.quantities)||[],prices:(e==null?void 0:e.prices)||{},image:null,subscriptionEnabled:(e==null?void 0:e.subscriptionEnabled)||!1,subscriptionPlans:(e==null?void 0:e.subscriptionPlans)||[],subscriptionAmount:(e==null?void 0:e.subscriptionAmount)||0,subscriptionDiscount:(e==null?void 0:e.subscriptionDiscount)||0,subscriptionDuration:(e==null?void 0:e.subscriptionDuration)||"3days",subscription3DaysDiscount:(e==null?void 0:e.subscription3DaysDiscount)||5,subscription1WeekDiscount:(e==null?void 0:e.subscription1WeekDiscount)||10,subscription1MonthDiscount:(e==null?void 0:e.subscription1MonthDiscount)||15,subscription3DaysPrice:(e==null?void 0:e.subscription3DaysPrice)||100,subscription1WeekPrice:(e==null?void 0:e.subscription1WeekPrice)||250,subscription1MonthPrice:(e==null?void 0:e.subscription1MonthPrice)||500}),[p,x]=N.useState([]),[g,v]=N.useState([]),[j,b]=N.useState([]),[y,C]=N.useState(null),[A,E]=N.useState(!1),[S,T]=N.useState("");N.useEffect(()=>{(async()=>{try{const I=await Rt("/subcategory");v(I||[])}catch(I){console.error("Error fetching subcategories:",I)}})()},[]),N.useEffect(()=>{var F,I,R;e&&f({name:e.name||"",branchId:typeof e.branchId=="object"?((F=e.branchId)==null?void 0:F._id)||s:e.branchId||s,categoryId:typeof e.categoryId=="object"?((I=e.categoryId)==null?void 0:I._id)||"":e.categoryId||"",subcategoryId:typeof e.subcategoryId=="object"?((R=e.subcategoryId)==null?void 0:R._id)||"":e.subcategoryId||"",quantities:e.quantities||[],prices:e.prices||{},image:null,subscriptionEnabled:e.subscriptionEnabled||!1,subscriptionPlans:e.subscriptionPlans||[],subscriptionAmount:e.subscriptionAmount||0,subscriptionDiscount:e.subscriptionDiscount||0,subscriptionDuration:e.subscriptionDuration||"3days",subscription3DaysDiscount:e.subscription3DaysDiscount||5,subscription1WeekDiscount:e.subscription1WeekDiscount||10,subscription1MonthDiscount:e.subscription1MonthDiscount||15,subscription3DaysPrice:e.subscription3DaysPrice||100,subscription1WeekPrice:e.subscription1WeekPrice||250,subscription1MonthPrice:e.subscription1MonthPrice||500})},[e,s]),N.useEffect(()=>{if(e!=null&&e.image){const F=_p(e.image);C(F)}else C(null)},[e]),N.useEffect(()=>{if(console.log(" Categories changed or branch changed:",{totalCategories:i.length,selectedBranchId:u.branchId,categories:i.map(F=>{var I;return{name:F.name,branchId:F.branchId,branchObjId:(I=F.branch)==null?void 0:I.id,_id:F._id}})}),i.length>0&&u.branchId){const F=i.filter(I=>{var ne;const R=I.branchId||((ne=I.branch)==null?void 0:ne.id),X=R===u.branchId;return console.log(`Category "${I.name}": branchId=${R}, matches=${X}`),X});console.log(` Filtered ${F.length} categories for branch ${u.branchId}`),x(F),u.categoryId&&(F.some(R=>R._id===u.categoryId)||f(R=>({...R,categoryId:""})))}else console.log(" No branch selected, showing all categories"),x(i)},[u.branchId,i]),N.useEffect(()=>{if(g.length>0&&u.categoryId){const F=g.filter(I=>{var X;return(((X=I.categoryId)==null?void 0:X._id)||I.categoryId)===u.categoryId});e!=null&&e.subcategoryId&&typeof e.subcategoryId=="object"&&(F.some(R=>R._id===e.subcategoryId._id)||F.push(e.subcategoryId)),b(F),u.subcategoryId&&!e&&(F.some(R=>R._id===u.subcategoryId)||f(R=>({...R,subcategoryId:""})))}else b([]),e||f(F=>({...F,subcategoryId:""}))},[u.categoryId,g,e]);const _=F=>{const{name:I,value:R}=F.target;f({...u,[I]:R})},P=F=>{const I=F.target.value;f(R=>{const X=R.quantities.includes(I)?R.quantities.filter(ge=>ge!==I):[...R.quantities,I],ne={...R.prices};return X.includes(I)||delete ne[I],{...R,quantities:X,prices:ne}})},L=F=>{const{name:I,value:R}=F.target;f(X=>({...X,prices:{...X.prices,[I]:parseFloat(R)||""}}))},D=F=>{const I=F.target.files[0];if(I){if(I.size>5*1024*1024){T("Image size must be less than 5MB");return}if(!I.type.startsWith("image/")){T("Please select a valid image file");return}f(R=>({...R,image:I})),T("")}},B=async F=>{if(F.preventDefault(),E(!0),T(""),u.quantities.length===0){T("Please select at least one quantity"),E(!1);return}for(const I of u.quantities)if(!u.prices[I]||u.prices[I]<=0){T(`Please enter a valid price for ${I}`),E(!1);return}try{await r(u),t()}catch(I){T(I.message||"Failed to save product. Please try again.")}finally{E(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:[n.jsx(Ca,{size:20,style:{marginRight:"8px"}}),e?"Edit Item":"Add Item"]}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:B,children:[n.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[S&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:16}),n.jsx("span",{children:S})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"branchId",children:"Branch *"}),n.jsxs("select",{id:"branchId",name:"branchId",className:"form-select",value:u.branchId,onChange:_,required:!0,disabled:l,style:l?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{},children:[n.jsx("option",{value:"",children:"Select Branch"}),a.map(F=>n.jsx("option",{value:F._id,children:F.name},F._id))]}),l&&n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:"Branch cannot be changed after creation"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"categoryId",children:"Category *"}),n.jsxs("select",{id:"categoryId",name:"categoryId",className:"form-select",value:u.categoryId,onChange:_,required:!0,disabled:l,style:l?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{},children:[n.jsx("option",{value:"",children:"Select Category"}),p.map(F=>n.jsx("option",{value:F._id,children:F.name},F._id))]}),l&&n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:"Category cannot be changed after creation"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"subcategoryId",children:"Subcategory (Optional)"}),n.jsxs("select",{id:"subcategoryId",name:"subcategoryId",className:"form-select",value:u.subcategoryId,onChange:_,disabled:!u.categoryId||l&&(e==null?void 0:e.subcategoryId),style:!u.categoryId||l&&(e!=null&&e.subcategoryId)?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{},children:[n.jsx("option",{value:"",children:"Select Subcategory (Optional)"}),j.map(F=>n.jsx("option",{value:F._id,children:F.name},F._id))]}),!u.categoryId&&n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:"Please select a category first"}),l&&(e==null?void 0:e.subcategoryId)&&n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:"Subcategory cannot be changed once assigned"}),l&&!(e!=null&&e.subcategoryId)&&n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#10b981"},children:"You can add a subcategory to this item"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Menu Item Number (Optional - for quick access)"}),n.jsx("input",{type:"number",min:"1",value:u.menuItemNumber||"",onChange:F=>f({...u,menuItemNumber:parseInt(F.target.value)||null}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},placeholder:"Enter a unique number (e.g., 1, 2, 3...)"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"name",children:"Item Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:u.name,onChange:_,required:!0,placeholder:"Enter item name (e.g., Pizza, Sandwich, Pasta)",disabled:l,style:l?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{}}),l&&n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:"Item name cannot be changed after creation"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Quantities *"}),n.jsx("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:d.map(F=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"checkbox",name:"quantities",value:F,checked:u.quantities.includes(F),onChange:P,style:{width:"16px",height:"16px"}}),n.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:F})]},F))})]}),u.quantities.length>0&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Prices *"}),u.quantities.map(F=>n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("label",{style:{display:"block",fontSize:"14px",color:"#6b7280",marginBottom:"4px"},children:["Price for ",F]}),n.jsx("input",{type:"number",name:F,value:u.prices[F]||"",onChange:L,className:"form-input",required:!0,min:"0",step:"0.01",placeholder:`Enter price for ${F}`})]},F))]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Menu Item Image"}),(e==null?void 0:e.image)&&!u.image&&n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:"Current Image:"}),n.jsx("img",{src:_p(e.image),alt:"Current menu item",style:{width:"100%",height:"192px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"},onError:F=>{console.error("Failed to load existing image:",_p(e.image)),F.target.style.display="none"}})]}),n.jsx("input",{type:"file",name:"image",onChange:D,accept:"image/*",className:"form-input",style:{padding:"8px"}}),u.image&&n.jsx("div",{style:{marginTop:"12px"},children:u.image instanceof File?n.jsxs("div",{children:[n.jsx("img",{src:URL.createObjectURL(u.image),alt:"Preview",style:{width:"100%",height:"192px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"}}),n.jsxs("p",{style:{marginTop:"8px",fontSize:"12px",color:"#10b981"},children:[" New image selected: ",u.image.name]})]}):n.jsx("p",{style:{marginTop:"8px",fontSize:"12px",color:"#10b981"},children:" Image selected"})}),n.jsx("p",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:e!=null&&e.image&&!u.image?"Upload a new image to replace the current one (optional)":"Upload an image for this menu item (JPEG, PNG, GIF, WEBP, AVIF up to 5MB)"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",name:"subscriptionEnabled",checked:u.subscriptionEnabled,onChange:F=>f({...u,subscriptionEnabled:F.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}}),n.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Enable Subscription for this item"})]}),n.jsx("p",{style:{marginTop:"4px",marginLeft:"26px",fontSize:"12px",color:"#6b7280"},children:"Allow customers to subscribe to this menu item for regular delivery"})]}),u.subscriptionEnabled&&n.jsxs("div",{style:{marginTop:"16px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[n.jsxs("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#374151",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{children:""})," Subscription Configuration"]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"16px"},children:[n.jsx("label",{style:{fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",display:"block"},children:"Subscription Pricing"}),n.jsxs("div",{style:{display:"grid",gap:"16px"},children:[n.jsxs("div",{style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"},children:[n.jsx("h5",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"3 Days Plan"}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Subscription Fee ()"}),n.jsx("input",{type:"number",min:"0",value:u.subscription3DaysPrice||"",onChange:F=>{const I=parseFloat(F.target.value)||0;f({...u,subscription3DaysPrice:I})},placeholder:"100",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),n.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:"4px 0 0 0"},children:"Amount users pay to buy this subscription"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Discount Percentage (%)"}),n.jsx("input",{type:"number",min:"0",max:"50",value:u.subscription3DaysDiscount||"",onChange:F=>{const I=parseFloat(F.target.value)||0;f({...u,subscription3DaysDiscount:I})},placeholder:"5",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},step:"0.01"})]})]}),n.jsxs("div",{style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"},children:[n.jsx("h5",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"1 Week Plan"}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Subscription Fee ()"}),n.jsx("input",{type:"number",min:"0",value:u.subscription1WeekPrice||"",onChange:F=>{const I=parseFloat(F.target.value)||0;f({...u,subscription1WeekPrice:I})},placeholder:"250",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),n.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:"4px 0 0 0"},children:"Amount users pay to buy this subscription"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Discount Percentage (%)"}),n.jsx("input",{type:"number",min:"0",max:"50",value:u.subscription1WeekDiscount||"",onChange:F=>{const I=parseFloat(F.target.value)||0;f({...u,subscription1WeekDiscount:I})},placeholder:"10",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},step:"0.01"})]})]}),n.jsxs("div",{style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"},children:[n.jsx("h5",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"1 Month Plan"}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Subscription Fee ()"}),n.jsx("input",{type:"number",min:"0",value:u.subscription1MonthPrice||"",onChange:F=>{const I=parseFloat(F.target.value)||0;f({...u,subscription1MonthPrice:I})},placeholder:"500",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),n.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:"4px 0 0 0"},children:"Amount users pay to buy this subscription"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Discount Percentage (%)"}),n.jsx("input",{type:"number",min:"0",max:"50",value:u.subscription1MonthDiscount||"",onChange:F=>{const I=parseFloat(F.target.value)||0;f({...u,subscription1MonthDiscount:I})},placeholder:"15",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},step:"0.01"})]})]})]}),n.jsx("p",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:" Set discount percentages for each subscription plan"})]}),(u.subscription3DaysDiscount>0||u.subscription1WeekDiscount>0||u.subscription1MonthDiscount>0)&&n.jsxs("div",{style:{padding:"12px",backgroundColor:"#e0f2fe",borderRadius:"6px",border:"1px solid #0891b2"},children:[n.jsx("p",{style:{fontSize:"13px",color:"#0c4a6e",margin:0,marginBottom:"8px"},children:n.jsx("strong",{children:" Subscription Plans Preview:"})}),u.subscription3DaysDiscount>0&&n.jsxs("p",{style:{fontSize:"12px",color:"#0c4a6e",margin:"4px 0"},children:[" 3 Days: Pay ",u.subscription3DaysPrice||100,"  Get ",u.subscription3DaysDiscount,"% discount",Object.keys(u.prices).length>0&&n.jsxs("span",{style:{color:"#059669",fontWeight:"bold"},children:[" ","(",Math.round(Object.values(u.prices)[0]*(1-u.subscription3DaysDiscount/100)),")"]})]}),u.subscription1WeekDiscount>0&&n.jsxs("p",{style:{fontSize:"12px",color:"#0c4a6e",margin:"4px 0"},children:[" 1 Week: Pay ",u.subscription1WeekPrice||250,"  Get ",u.subscription1WeekDiscount,"% discount",Object.keys(u.prices).length>0&&n.jsxs("span",{style:{color:"#059669",fontWeight:"bold"},children:[" ","(",Math.round(Object.values(u.prices)[0]*(1-u.subscription1WeekDiscount/100)),")"]})]}),u.subscription1MonthDiscount>0&&n.jsxs("p",{style:{fontSize:"12px",color:"#0c4a6e",margin:"4px 0"},children:[" 1 Month: Pay ",u.subscription1MonthPrice||500,"  Get ",u.subscription1MonthDiscount,"% discount",Object.keys(u.prices).length>0&&n.jsxs("span",{style:{color:"#059669",fontWeight:"bold"},children:[" ","(",Math.round(Object.values(u.prices)[0]*(1-u.subscription1MonthDiscount/100)),")"]})]}),n.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:"8px 0 0 0",fontStyle:"italic"},children:"* Users pay subscription fee upfront, then get discounted prices during subscription period"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:A,style:{padding:"12px 24px",borderRadius:"8px"},children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:A,style:{padding:"12px 24px",borderRadius:"8px",backgroundColor:"#6366f1"},children:A?"Saving...":e?"Update Item":"Add Item"})]})]})]})})},Hne=({product:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),[s,l]=N.useState(""),d=async()=>{i(!0),l("");try{await r(e._id),t()}catch(u){l(u.message||"Failed to delete product. Please try again.")}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Product"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[s&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:16}),n.jsx("span",{children:s})]}),n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:d,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Wne=()=>{var re,be;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState(""),[p,x]=N.useState(""),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(!1),[A,E]=N.useState(null),[S,T]=N.useState(!1),[_,P]=N.useState(null),[L,D]=N.useState([]),[B,M]=N.useState([]),[k,W]=N.useState(!0),[F,I]=N.useState(!0),[R,X]=N.useState(""),[ne,ge]=N.useState(""),[q,ee]=N.useState(""),[z,U]=N.useState(!1),[V,te]=N.useState(null),[se,Z]=N.useState(null);N.useEffect(()=>{(async()=>{try{await K(),await Y(),await ce(),await xe()}catch(de){console.error("Error loading data:",de),X("Failed to load data. Please refresh the page and try again.")}})()},[]),N.useEffect(()=>{pe()},[e,p,g,j,u]),N.useEffect(()=>{if(g){const H=l.filter(de=>{var Ne;return(((Ne=de.categoryId)==null?void 0:Ne._id)||de.categoryId)===g});M(H),j&&(H.some(Se=>Se._id===j)||b(""))}else M([]),b("")},[g,l]),N.useEffect(()=>{pe()},[e,p,g,u]);const K=async()=>{try{const H=await Rt("/branch",{},!0);a(H),H.length>0&&!p&&x(H[0]._id)}catch(H){console.error("Error fetching branches:",H),X("Failed to load branches. Please refresh the page and try again.")}},Y=async()=>{I(!0);try{const H=await Rt("/category",{},!0);s(H),H.length===0&&X("No categories found. Please add a category first.")}catch(H){console.error("Error fetching categories:",H),X("Failed to load categories. Please refresh the page and try again.")}finally{I(!1)}},ce=async()=>{try{const H=await Rt("/subcategory",{},!0);d(H||[])}catch(H){console.error("Error fetching subcategories:",H)}},xe=async()=>{W(!0),X("");try{const H=await Rt("/menu",{},!0);console.log("Fetched products:",H),H&&H.length>0&&(console.log("Full product object:",H[0]),console.log("All product keys:",Object.keys(H[0])),console.log("Product fields:",{itemName:H[0].itemName,name:H[0].name,image:H[0].image,price:H[0].price,quantities:H[0].quantities,prices:H[0].prices})),t(H)}catch(H){console.error("Error fetching products:",H),X("Failed to load products. Please refresh the page and try again.")}finally{W(!1)}},pe=()=>{let H=e;p&&(H=H.filter(de=>!de||!de.branchId?!1:(typeof de.branchId=="object"?de.branchId._id:de.branchId)===p)),g&&(H=H.filter(de=>!de||!de.categoryId?!1:(typeof de.categoryId=="object"?de.categoryId._id:de.categoryId)===g)),j&&(H=H.filter(de=>!de||!de.subcategoryId?!1:(typeof de.subcategoryId=="object"?de.subcategoryId._id:de.subcategoryId)===j)),u&&(H=H.filter(de=>de&&de.name&&de.name.toLowerCase().includes(u.toLowerCase())||de&&de.description&&de.description.toLowerCase().includes(u.toLowerCase()))),D(H)},Ce=()=>{E(null),C(!0)},ve=H=>{E(H),C(!0)},Le=H=>{P(H),T(!0)},le=async H=>{try{const de=new FormData;de.append("itemName",H.name);const Se=typeof H.branchId=="object"?H.branchId._id:H.branchId,Ne=typeof H.categoryId=="object"?H.categoryId._id:H.categoryId;if(console.log("Extracted IDs:",{branchId:Se,categoryId:Ne}),console.log("Original formData:",{branchId:H.branchId,categoryId:H.categoryId}),de.append("branchId",Se),de.append("categoryId",Ne),H.subcategoryId){const Qe=typeof H.subcategoryId=="object"?H.subcategoryId._id:H.subcategoryId;de.append("subcategoryId",Qe)}de.append("menuTypes",JSON.stringify(H.quantities)),de.append("quantities",JSON.stringify(H.quantities)),de.append("prices",JSON.stringify(H.prices)),de.append("subscriptionEnabled",H.subscriptionEnabled),H.menuItemNumber&&H.menuItemNumber!==""&&H.menuItemNumber!=="0"&&de.append("menuItemNumber",H.menuItemNumber),de.append("subscriptionPlans",JSON.stringify(H.subscriptionPlans)),de.append("subscriptionAmount",H.subscriptionAmount||0),de.append("subscriptionDiscount",H.subscriptionDiscount||0),de.append("subscriptionDuration",H.subscriptionDuration||"3days"),de.append("subscription3DaysDiscount",H.subscription3DaysDiscount||0),de.append("subscription1WeekDiscount",H.subscription1WeekDiscount||0),de.append("subscription1MonthDiscount",H.subscription1MonthDiscount||0),de.append("subscription3DaysPrice",H.subscription3DaysPrice||0),de.append("subscription1WeekPrice",H.subscription1WeekPrice||0),de.append("subscription1MonthPrice",H.subscription1MonthPrice||0),H.image&&H.image instanceof File?(console.log("Appending image to FormData:",H.image.name,H.image.size,"bytes"),de.append("image",H.image)):console.log("No image to upload:",{hasImage:!!H.image,isFile:H.image instanceof File}),console.log("FormData entries being sent:");for(let[Qe,rt]of de.entries())console.log(`${Qe}:`,rt);let je;return A?(console.log("Current product for update:",A),console.log("Current product ID:",A._id),console.log("Current product ID type:",typeof A._id),je=await Rt(`/menu/${A._id}`,{method:"PUT",body:de}),console.log("Product updated, response:",je),console.log("Image path in response:",je.image),await xe(),ge(`Item "${je.itemName||je.name}" updated successfully`)):(je=await Rt("/menu",{method:"POST",body:de}),console.log("Product created, response:",je),console.log("Image path in response:",je.image),await xe(),ge(`Item "${je.itemName||je.name}" created successfully`)),setTimeout(()=>{ge("")},3e3),je}catch(de){throw console.error("Error saving product:",de),new Error(de.message||"Failed to save product")}},Ae=async H=>{var de,Se;try{await Rt(`/menu/${H}`,{method:"DELETE"}),t(e.filter(Ne=>Ne._id!==H)),ge("Product deleted successfully"),setTimeout(()=>{ge("")},3e3)}catch(Ne){throw console.error("Error deleting product:",Ne),new Error(((Se=(de=Ne.response)==null?void 0:de.data)==null?void 0:Se.message)||"Failed to delete product")}},qe=(H,de)=>{if(de&&de.name)return de.name;const Se=i.find(Ne=>Ne._id===H);return Se?Se.name:"Unknown"},me=async()=>{q&&await ae(parseInt(q))},ae=async H=>{U(!0),te(null),Z(null);try{const de=await Rt(`/menu/number/${H}`,{},!0);if(de){if(te({success:!0,item:de,message:`Menu item #${H} found successfully`}),Z(de._id),f(""),v(""),b(""),de.branchId){const Se=typeof de.branchId=="object"?de.branchId._id:de.branchId;x(Se)}setTimeout(()=>{const Se=document.getElementById(`product-${de._id}`);Se&&Se.scrollIntoView({behavior:"smooth",block:"center"})},100),setTimeout(()=>{Z(null)},5e3)}else te({success:!1,message:`No menu item found with number ${H}`})}catch(de){console.error("Error fetching menu item by number:",de),te({success:!1,message:`Error: ${de.message||"Failed to fetch menu item"}`})}finally{U(!1)}};return n.jsxs("div",{className:"products-page",children:[ne&&n.jsxs("div",{className:"success-message",children:[n.jsx(fn,{size:16}),n.jsx("span",{children:ne}),n.jsx("button",{onClick:()=>ge(""),children:n.jsx("span",{children:""})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Products"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:Ce,children:[n.jsx(Ca,{size:16}),n.jsx("span",{children:"Add Product"})]})})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",flexWrap:"wrap"},children:[n.jsxs("button",{onClick:()=>x(""),style:{padding:"10px 20px",borderRadius:"25px",border:"none",backgroundColor:p===""?"#6366f1":"#e5e7eb",color:p===""?"white":"#374151",cursor:"pointer",fontWeight:"500",transition:"all 0.2s"},children:["All Branches (",e.length,")"]}),r.map(H=>{const de=e.filter(Se=>Se.branchId?(typeof Se.branchId=="object"?Se.branchId._id:Se.branchId)===H._id:!1).length;return n.jsxs("button",{onClick:()=>x(H._id),style:{padding:"10px 20px",borderRadius:"25px",border:"none",backgroundColor:p===H._id?"#6366f1":"#e5e7eb",color:p===H._id?"white":"#374151",cursor:"pointer",fontWeight:"500",transition:"all 0.2s"},children:[H.name," (",de,")"]},H._id)})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px",color:"#374151"},children:"Filter by Category:"}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[n.jsxs("button",{onClick:()=>v(""),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:g===""?"#10b981":"#f3f4f6",color:g===""?"white":"#374151",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},children:["All Categories (",p?L.length:e.length,")"]}),i.filter(H=>{var Se;return p?(H.branchId||((Se=H.branch)==null?void 0:Se.id))===p:!0}).map(H=>{const de=(p?L:e).filter(Se=>Se.categoryId?(typeof Se.categoryId=="object"?Se.categoryId._id:Se.categoryId)===H._id:!1).length;return n.jsxs("button",{onClick:()=>v(H._id),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:g===H._id?"#10b981":"#f3f4f6",color:g===H._id?"white":"#374151",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},children:[H.name," (",de,")"]},H._id)})]})]}),g&&B.length>0&&n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px",color:"#374151"},children:"Filter by Subcategory:"}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>b(""),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:j===""?"#8b5cf6":"#f3f4f6",color:j===""?"white":"#374151",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},children:"All Subcategories"}),B.map(H=>{const de=L.filter(Se=>Se.subcategoryId?(typeof Se.subcategoryId=="object"?Se.subcategoryId._id:Se.subcategoryId)===H._id:!1).length;return n.jsxs("button",{onClick:()=>b(H._id),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:j===H._id?"#8b5cf6":"#f3f4f6",color:j===H._id?"white":"#374151",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s"},children:[H.name," (",de,")"]},H._id)})]})]}),n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",padding:"20px",marginBottom:"20px",border:"1px solid #e5e7eb"},children:[n.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",color:"#374151",display:"flex",alignItems:"center",gap:"8px"},children:" Quick Menu Item Lookup"}),n.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"16px"},children:"Enter a menu item number to quickly find and highlight that item. Perfect for POS operations."}),n.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[n.jsx("input",{type:"number",min:"1",placeholder:"Enter item number (e.g., 1, 2, 3...)",value:q,onChange:H=>ee(H.target.value),onKeyPress:H=>{H.key==="Enter"&&me()},style:{padding:"10px 12px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",width:"200px",outline:"none",transition:"border-color 0.2s"},onFocus:H=>H.target.style.borderColor="#3b82f6",onBlur:H=>H.target.style.borderColor="#e5e7eb"}),n.jsx("button",{onClick:me,disabled:!q||z,style:{padding:"10px 16px",backgroundColor:q&&!z?"#3b82f6":"#9ca3af",color:"white",border:"none",borderRadius:"8px",cursor:q&&!z?"pointer":"not-allowed",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px",transition:"background-color 0.2s"},onMouseOver:H=>{q&&!z&&(H.target.style.backgroundColor="#2563eb")},onMouseOut:H=>{q&&!z&&(H.target.style.backgroundColor="#3b82f6")},children:z?n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{width:"14px",height:"14px",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Searching..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Mt,{size:14}),"Find Item"]})})]}),n.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[1,2,3,4,5,6,7,8,9,10].map(H=>n.jsx("button",{onClick:()=>{ee(H.toString()),ae(H)},style:{padding:"8px 12px",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"all 0.2s"},onMouseOver:de=>{de.target.style.backgroundColor="#e5e7eb",de.target.style.borderColor="#9ca3af"},onMouseOut:de=>{de.target.style.backgroundColor="#f3f4f6",de.target.style.borderColor="#d1d5db"},children:H},H))})]}),V&&n.jsxs("div",{style:{marginTop:"16px",padding:"16px",backgroundColor:V.success?"#f0fdf4":"#fef2f2",borderRadius:"8px",border:`1px solid ${V.success?"#bbf7d0":"#fecaca"}`},children:[V.success?n.jsxs("div",{children:[n.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#166534",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[" Found: ",V.item.name]}),n.jsxs("div",{style:{fontSize:"13px",color:"#166534"},children:["Category: ",((re=V.item.categoryId)==null?void 0:re.name)||"N/A"," | Branch: ",((be=V.item.branchId)==null?void 0:be.name)||"N/A",V.item.quantities&&V.item.quantities.length>0&&n.jsxs("span",{children:[" | Sizes: ",V.item.quantities.join(", ")]})]})]}):n.jsxs("div",{style:{fontSize:"14px",color:"#dc2626",display:"flex",alignItems:"center",gap:"6px"},children:[" ",V.message]}),n.jsx("button",{onClick:()=>te(null),style:{marginTop:"8px",padding:"4px 8px",backgroundColor:"transparent",color:V.success?"#166534":"#dc2626",border:"none",cursor:"pointer",fontSize:"12px",textDecoration:"underline"},children:"Clear"})]})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search products...",className:"search-input",value:u,onChange:H=>f(H.target.value)})]})}),R&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:18}),n.jsx("span",{children:R})]}),k||F?n.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading data..."})}):n.jsx("div",{className:"grid-container",children:L.length>0?L.map(H=>{var de;return n.jsxs("div",{id:`product-${H._id}`,className:"grid-item",style:{border:se===H._id?"3px solid #10b981":void 0,boxShadow:se===H._id?"0 0 20px rgba(16, 185, 129, 0.3)":void 0,transform:se===H._id?"scale(1.02)":void 0,transition:"all 0.3s ease"},children:[n.jsxs("div",{className:"grid-item-image-container",style:{position:"relative"},children:[n.jsx("img",{src:_p(H.image)||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200'%3E%3Crect fill='%23f3f4f6' width='300' height='200'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='18' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ENo Image%3C/text%3E%3C/svg%3E",alt:H.name||H.itemName,className:"grid-item-image",onError:Se=>{const Ne=Une(H.image);Ne&&Se.target.src!==Ne?Se.target.src=Ne:(Se.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200'%3E%3Crect fill='%23f3f4f6' width='300' height='200'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='16' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ENo Image%3C/text%3E%3C/svg%3E",Se.target.onerror=null)}}),H.subscriptionEnabled&&n.jsxs("div",{style:{position:"absolute",top:"8px",right:"8px",backgroundColor:"#10b981",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"SUBSCRIPTION"})]})]}),n.jsxs("div",{className:"grid-item-content",children:[n.jsxs("h3",{className:"grid-item-title",children:[H.menuItemNumber&&n.jsxs("span",{style:{display:"inline-block",backgroundColor:"#3b82f6",color:"white",padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",marginRight:"8px"},children:["#",H.menuItemNumber]}),H.name||H.itemName||((de=H.categoryId)==null?void 0:de.name)||"Unnamed Product"]}),n.jsx("p",{className:"grid-item-subtitle",children:qe(H.categoryId,H.categoryId)}),H.quantities&&H.quantities.length>0?n.jsx("div",{style:{marginTop:"8px",marginBottom:"8px"},children:H.quantities.map(Se=>{var Ne;return n.jsxs("div",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px"},children:[n.jsxs("span",{style:{fontWeight:"500"},children:[Se,":"]})," ",n.jsx("span",{style:{fontFamily:"Arial, sans-serif"},children:""}),(Ne=H.prices)!=null&&Ne[Se]?Number(H.prices[Se]).toFixed(2):"0.00"]},Se)})}):H.description&&n.jsx("p",{style:{fontSize:"13px",color:"#6b7280",marginTop:"8px",marginBottom:"8px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:H.description}),n.jsxs("div",{className:"grid-item-footer",children:[n.jsx("span",{className:"grid-item-price",children:H.quantities&&H.quantities.length>0?`${H.quantities.length} size${H.quantities.length>1?"s":""}`:H.price&&H.price>0?`${Number(H.price).toFixed(2)}`:n.jsx("span",{style:{color:"#9ca3af",fontSize:"13px"},children:"Price not set"})}),n.jsxs("div",{className:"grid-item-actions",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>ve(H),children:n.jsx(kn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>Le(H),children:n.jsx($n,{size:14})})]})]})]})]},H._id)}):n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0",gridColumn:"1 / -1"},children:n.jsxs("p",{children:["No products found. ",u?"Try different search terms.":"Add a new product to get started."]})})}),y&&n.jsx(qne,{product:A,onClose:()=>C(!1),onSave:le,branches:r,categories:i,selectedBranch:p}),S&&n.jsx(Hne,{product:_,onClose:()=>T(!1),onConfirm:Ae})]})},L2=(e,t=!1)=>{if(!e)return null;if(e.startsWith("http://")||e.startsWith("https://"))return t?`${e}?t=${Date.now()}`:e;const a="https://hotelvirat.com/api/v1/hotel".replace("/api/v1/hotel","");let i=e.replace(/\\/g,"/");i.startsWith("/")||(i=`/${i}`);const s=`${a}${i}`;return t?`${s}?t=${Date.now()}`:s},Gne=({category:e,onClose:t,onSave:r,branches:a,selectedBranch:i})=>{var C;const s=(e==null?void 0:e.branchId)||((C=e==null?void 0:e.branch)==null?void 0:C.id)||i||(a.length>0?a[0]._id:""),[l,d]=N.useState({name:(e==null?void 0:e.name)||"",branchId:s,image:(e==null?void 0:e.image)||""}),[u,f]=N.useState(null),[p,x]=N.useState(!1),[g,v]=N.useState("");N.useEffect(()=>{if(e!=null&&e.image){const A=L2(e.image);f(A)}else f(null)},[e]);const j=A=>{const{name:E,value:S}=A.target;d({...l,[E]:S})},b=A=>{const E=A.target.files[0];if(E){const S=new FileReader;S.onloadend=()=>{f(S.result),d({...l,image:S.result})},S.readAsDataURL(E)}},y=async A=>{A.preventDefault(),x(!0),v("");try{await r(l),t()}catch(E){v(E.message||"Failed to save category. Please try again.")}finally{x(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Category":"Add New Category"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:y,children:[n.jsxs("div",{className:"modal-body",children:[g&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:16}),n.jsx("span",{children:g})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"branchId",children:"Branch"}),n.jsx("select",{id:"branchId",name:"branchId",className:"form-select",value:l.branchId,onChange:j,required:!0,disabled:!!e,children:a.map(A=>n.jsx("option",{value:A._id,children:A.name},A._id))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Category Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:u?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:u,alt:"Category preview",className:"image-preview"}),n.jsx("div",{className:"image-overlay",children:n.jsx("span",{children:"Change Image"})})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(Go,{size:24}),n.jsx("span",{children:"Upload Category Image"})]})}),n.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:b,className:"image-upload-input"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"name",children:"Category Name"}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:l.name,onChange:j,required:!0})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:p,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":e?"Update Category":"Add Category"})]})]})]})})},Ik=({category:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),[s,l]=N.useState(""),d=async()=>{i(!0),l("");try{await r(e._id),t()}catch(u){l(u.message||"Failed to delete category. Please try again.")}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Category"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[s&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:16}),n.jsx("span",{children:s})]}),n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"? This will also delete all associated products."]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This RESERVED cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:d,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Vne=({subcategory:e,onClose:t,onSave:r,categories:a,branches:i})=>{var b,y;const[s,l]=N.useState({name:(e==null?void 0:e.name)||"",categoryId:((b=e==null?void 0:e.categoryId)==null?void 0:b._id)||(e==null?void 0:e.categoryId)||"",branchId:((y=e==null?void 0:e.branchId)==null?void 0:y._id)||(e==null?void 0:e.branchId)||"",description:(e==null?void 0:e.description)||""}),[d,u]=N.useState([]),[f,p]=N.useState(!1),[x,g]=N.useState("");N.useEffect(()=>{if(s.branchId){const C=a.filter(A=>{var S;return(A.branchId||((S=A.branch)==null?void 0:S.id))===s.branchId});u(C)}else u(a)},[s.branchId,a]);const v=C=>{const{name:A,value:E}=C.target;l({...s,[A]:E})},j=async C=>{C.preventDefault(),p(!0),g("");try{await r(s),t()}catch(A){g(A.message||"Failed to save subcategory")}finally{p(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Subcategory":"Add New Subcategory"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{className:"modal-body",children:[x&&n.jsxs("div",{style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:16}),n.jsx("span",{children:x})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch *"}),n.jsxs("select",{name:"branchId",className:"form-select",value:s.branchId,onChange:v,required:!0,children:[n.jsx("option",{value:"",children:"Select Branch"}),i.map(C=>n.jsx("option",{value:C._id,children:C.name},C._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Category *"}),n.jsxs("select",{name:"categoryId",className:"form-select",value:s.categoryId,onChange:v,required:!0,disabled:!s.branchId,children:[n.jsx("option",{value:"",children:"Select Category"}),d.map(C=>n.jsx("option",{value:C._id,children:C.name},C._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Subcategory Name *"}),n.jsx("input",{type:"text",name:"name",className:"form-input",value:s.name,onChange:v,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Description"}),n.jsx("textarea",{name:"description",className:"form-textarea",value:s.description,onChange:v,rows:"3"})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:f,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":e?"Update":"Create"})]})]})]})})},Yne=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(!1),[u,f]=N.useState(null),[p,x]=N.useState(!1),[g,v]=N.useState(null),[j,b]=N.useState(""),[y,C]=N.useState([]),[A,E]=N.useState(!0),[S,T]=N.useState(""),[_,P]=N.useState(""),[L,D]=N.useState([]),[B,M]=N.useState(!1),[k,W]=N.useState(null),[F,I]=N.useState(!1),[R,X]=N.useState(null),[ne,ge]=N.useState(""),[q,ee]=N.useState([]),[z,U]=N.useState("");N.useEffect(()=>{V(),Ce()},[]),N.useEffect(()=>{te()},[j]),N.useEffect(()=>{se()},[e,j,i]),N.useEffect(()=>{ve()},[L,ne,z]);const V=async()=>{try{const ae=await Rt("/branch",{},!0);a(ae)}catch(ae){console.error("Error fetching branches:",ae),T("Failed to load branches. Please refresh the page and try again.")}},te=async()=>{E(!0),T("");try{const ae=j?`/category?branchId=${j}`:"/category",re=!j;console.log(` Fetching categories for branch: ${j||"All"}, endpoint: ${ae}, merge: ${re}`);const be=await Rt(ae,{},re);console.log(` Received ${be.length} categories:`,be.map(H=>{var de;return{name:H.name,branchId:H.branchId||((de=H.branch)==null?void 0:de.id)}})),t(be)}catch(ae){console.error("Error fetching categories:",ae),T("Failed to load categories. Please refresh the page and try again.")}finally{E(!1)}},se=()=>{let ae=e;j&&(ae=ae.filter(re=>{var H;return(re.branchId||((H=re.branch)==null?void 0:H.id))===j})),i&&(ae=ae.filter(re=>re.name.toLowerCase().includes(i.toLowerCase()))),C(ae)},Z=()=>{f(null),d(!0)},K=ae=>{f(ae),d(!0)},Y=ae=>{v(ae),x(!0)},ce=async ae=>{try{const re=new FormData;re.append("name",ae.name),re.append("branchId",ae.branchId);const be=r.find(de=>de._id===ae.branchId);if(be&&(re.append("branchName",be.name),re.append("branchAddress",be.address||"")),ae.image&&ae.image.startsWith("data:image")){const Se=await(await fetch(ae.image)).blob(),Ne=new File([Se],"category-image.jpg",{type:Se.type});re.append("image",Ne)}else ae.image&&!ae.image.startsWith("http")&&re.append("image",ae.image);let H;if(u){const de=await Rt(`/category/${u._id}`,{method:"PUT",body:re});de._imageTimestamp=Date.now(),t(Se=>Se.map(Ne=>Ne._id===u._id?{...de,_imageTimestamp:Date.now()}:Ne)),setTimeout(()=>{te()},500),P(`Category "${de.name}" updated successfully`)}else{const de=await Rt("/category",{method:"POST",body:re});t([...e,de]),P(`Category "${de.name}" created successfully`)}return setTimeout(()=>{P("")},3e3),!0}catch(re){throw console.error("Error saving category:",re),new Error(re.message||"Failed to save category")}},xe=async ae=>{try{await Rt(`/category/${ae}`,{method:"DELETE"}),t(e.filter(re=>re._id!==ae)),P("Category deleted successfully"),setTimeout(()=>{P("")},3e3)}catch(re){throw console.error("Error deleting category:",re),new Error(re.message||"Failed to delete category")}},pe=ae=>{var H,de;if((H=ae.branch)!=null&&H.name)return ae.branch.name;const re=ae.branchId||((de=ae.branch)==null?void 0:de.id),be=r.find(Se=>Se._id===re);return be?be.name:`Unknown Branch (${(re==null?void 0:re.substring(0,6))||"N/A"})`},Ce=async()=>{try{const ae=await Rt("/subcategory",{},!0);D(ae)}catch(ae){console.error("Error fetching subcategories:",ae)}},ve=()=>{let ae=L;ne&&(ae=ae.filter(re=>{var H;return(((H=re.categoryId)==null?void 0:H._id)||re.categoryId)===ne})),z&&(ae=ae.filter(re=>re.name.toLowerCase().includes(z.toLowerCase()))),ee(ae)},Le=()=>{W(null),M(!0)},le=ae=>{W(ae),M(!0)},Ae=ae=>{X(ae),I(!0)},qe=async ae=>{try{k?(await Rt(`/subcategory/${k._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),P("Subcategory updated successfully")):(await Rt("/subcategory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),P("Subcategory created successfully")),Ce(),setTimeout(()=>P(""),3e3)}catch(re){throw console.error("Error saving subcategory:",re),new Error(re.message||"Failed to save subcategory")}},me=async ae=>{try{await Rt(`/subcategory/${ae}`,{method:"DELETE"}),D(L.filter(re=>re._id!==ae)),P("Subcategory deleted successfully"),setTimeout(()=>P(""),3e3)}catch(re){throw console.error("Error deleting subcategory:",re),new Error(re.message||"Failed to delete subcategory")}};return n.jsxs("div",{className:"categories-page",children:[_&&n.jsxs("div",{className:"success-message",children:[n.jsx(fn,{size:16}),n.jsx("span",{children:_}),n.jsx("button",{onClick:()=>P(""),children:n.jsx("span",{children:""})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Categories"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:Z,children:[n.jsx(Ca,{size:16}),n.jsx("span",{children:"Add Category"})]})})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search categories...",className:"search-input",value:i,onChange:ae=>s(ae.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("div",{className:"filter-btn",children:[n.jsx(Op,{size:16}),n.jsx("span",{children:"Branch:"})]}),n.jsxs("select",{className:"filter-select",value:j,onChange:ae=>b(ae.target.value),children:[n.jsx("option",{value:"",children:"All Branches"}),r.map(ae=>n.jsx("option",{value:ae._id,children:ae.name},ae._id))]})]})]}),S&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:18}),n.jsx("span",{children:S})]}),A?n.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading categories..."})}):n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Image"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:y.map(ae=>n.jsxs("tr",{children:[n.jsxs("td",{children:[ae.image?n.jsx("img",{src:L2(ae.image,!0),alt:ae.name,className:"category-image",onLoad:()=>{console.log(` Category image loaded: ${ae.name}`,L2(ae.image))},onError:re=>{const H="https://hotelviratbackend.onrender.com/api/v1/hotel".replace("/api/v1/hotel","");let de=ae.image.replace(/\\/g,"/");de.startsWith("/")||(de=`/${de}`);const Se=`${H}${de}?t=${Date.now()}`;console.log(` Primary image failed for ${ae.name}, trying fallback:`,Se),re.target.dataset.fallbackAttempted?(console.error(` Both backends failed for ${ae.name}`),re.target.style.display="none",re.target.nextSibling.style.display="flex"):(re.target.dataset.fallbackAttempted="true",re.target.src=Se)}}):null,n.jsx("div",{className:"category-image-placeholder",style:{display:ae.image?"none":"flex"},children:n.jsx(Go,{size:16})})]}),n.jsx("td",{children:ae.name}),n.jsx("td",{children:pe(ae)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>K(ae),children:n.jsx(kn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>Y(ae),children:n.jsx($n,{size:14})})]})})]},ae._id))})]})}),y.length===0&&!A&&n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"No categories found for this branch. Add a new category to get started."})}),l&&n.jsx(Gne,{category:u,onClose:()=>d(!1),onSave:ce,branches:r,selectedBranch:j}),p&&n.jsx(Ik,{category:g,onClose:()=>x(!1),onConfirm:xe}),n.jsxs("div",{style:{marginTop:"40px"},children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Subcategories"}),n.jsxs("button",{className:"btn btn-primary",onClick:Le,children:[n.jsx(Ca,{size:16}),n.jsx("span",{children:"Add Subcategory"})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search subcategories...",className:"search-input",value:z,onChange:ae=>U(ae.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("div",{className:"filter-btn",children:[n.jsx(Op,{size:16}),n.jsx("span",{children:"Category:"})]}),n.jsxs("select",{className:"filter-select",value:ne,onChange:ae=>ge(ae.target.value),children:[n.jsx("option",{value:"",children:"All Categories"}),e.map(ae=>n.jsx("option",{value:ae._id,children:ae.name},ae._id))]})]})]}),n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Category"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Description"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:q.length>0?q.map(ae=>{var re,be;return n.jsxs("tr",{children:[n.jsx("td",{children:ae.name}),n.jsx("td",{children:((re=ae.categoryId)==null?void 0:re.name)||"N/A"}),n.jsx("td",{children:((be=ae.branchId)==null?void 0:be.name)||"N/A"}),n.jsx("td",{children:ae.description||"-"}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>le(ae),children:n.jsx(kn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>Ae(ae),children:n.jsx($n,{size:14})})]})})]},ae._id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"40px",color:"#999"},children:"No subcategories found"})})})]})})]}),B&&n.jsx(Vne,{subcategory:k,onClose:()=>M(!1),onSave:qe,categories:e,branches:r}),F&&n.jsx(Ik,{category:R,onClose:()=>I(!1),onConfirm:me})]})};bt.create({baseURL:"https://hotelvirat.com/api/v1/hotel"});const z2=e=>{if(!e)return null;if(e.startsWith("http"))return e;const r="https://hotelvirat.com/api/v1/hotel".replace("/api/v1/hotel","");let a=e.toString().trim().replace(/\\/g,"/");if(a.startsWith("uploads/")){const d=`${r}/${a}`;return console.log(`Image URL: ${e} -> ${d}`),d}if(a.startsWith("/")){const d=`${r}${a}`;return console.log(`Image URL: ${e} -> ${d}`),d}const i=a.split("/"),s=i[i.length-1],l=`${r}/uploads/branch/${s}`;return console.log(`Image URL: ${e} -> ${l}`),l},Xne=({branch:e,onClose:t,onSave:r})=>{var y,C,A,E,S;const a=T=>{if(typeof T=="string"){const _=T.split(",").map(P=>P.trim());return _.length>=4?{street:_.slice(0,-3).join(", "),city:_[_.length-3],state:_[_.length-2],country:_[_.length-1]}:_.length===3?{street:_[0],city:_[1]||"",state:_[2]||"",country:""}:_.length===2?{street:_[0],city:_[1]||"",state:"",country:""}:{street:T,city:"",state:"",country:""}}return T||{street:"",city:"",state:"",country:""}},[i,s]=N.useState({name:(e==null?void 0:e.name)||"",gstNumber:(e==null?void 0:e.gstNumber)||"",address:a(e==null?void 0:e.address),contact:{phone:((y=e==null?void 0:e.contact)==null?void 0:y.phone)||"",email:((C=e==null?void 0:e.contact)==null?void 0:C.email)||""},openingHours:{mondayToFriday:((A=e==null?void 0:e.openingHours)==null?void 0:A.mondayToFriday)||"11:00 AM - 11:00 PM",saturday:((E=e==null?void 0:e.openingHours)==null?void 0:E.saturday)||"11:00 AM - 12:00 AM",sunday:((S=e==null?void 0:e.openingHours)==null?void 0:S.sunday)||"12:00 PM - 10:00 PM"},image:null}),[l,d]=N.useState(e!=null&&e.image?z2(e.image):null),[u,f]=N.useState(!1),[p,x]=N.useState("");N.useEffect(()=>{e!=null&&e.image&&d(z2(e.image))},[e]);const g=T=>{const{name:_,value:P}=T.target;if(_.startsWith("address.")){const L=_.split(".")[1];s({...i,address:{...i.address,[L]:P}})}else if(_.startsWith("contact.")){const L=_.split(".")[1];s({...i,contact:{...i.contact,[L]:P}})}else if(_.startsWith("openingHours.")){const L=_.split(".")[1];s({...i,openingHours:{...i.openingHours,[L]:P}})}else s({...i,[_]:P})},v=T=>{const _=T.target.files[0];if(_){if(_.size>5*1024*1024){x("File size must be less than 5MB");return}if(!_.type.startsWith("image/")){x("Please select a valid image file");return}x(""),s({...i,image:_});const P=new FileReader;P.onloadend=()=>{d(P.result)},P.readAsDataURL(_)}},j=()=>{s({...i,image:null}),d(null);const T=document.getElementById("image-upload");T&&(T.value="")},b=async T=>{T.preventDefault(),f(!0),x("");try{const _=new FormData;_.append("name",i.name),_.append("gstNumber",i.gstNumber);const P=[i.address.street,i.address.city,i.address.state,i.address.country].filter(Boolean).join(", ");_.append("address",P),_.append("contact",JSON.stringify(i.contact)),_.append("openingHours",JSON.stringify(i.openingHours)),i.image&&i.image instanceof File&&_.append("image",i.image),await r(_),t()}catch(_){x(_.message||"Failed to save branch. Please try again.")}finally{f(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Branch":"Add New Branch"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:b,children:[n.jsxs("div",{className:"modal-body",children:[p&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:16}),n.jsx("span",{children:p})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch Image"}),n.jsxs("div",{className:"image-upload-container",children:[l?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:l||"/placeholder.svg",alt:"Branch preview",className:"image-preview",onError:T=>{console.error("Image failed to load:",l),T.target.style.display="none",T.target.nextSibling.style.display="flex"}}),n.jsxs("div",{className:"category-image-placeholder",style:{display:"none",width:"100%",height:"150px",fontSize:"14px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:[n.jsx(Go,{size:24}),n.jsx("span",{children:"Image not found"})]}),n.jsx("div",{className:"image-overlay",children:n.jsx("button",{type:"button",onClick:j,style:{background:"rgba(220, 38, 38, 0.8)",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:n.jsx(Un,{size:16})})})]}):n.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(Ms,{size:24}),n.jsx("span",{children:"Click to upload branch image"}),n.jsx("small",{style:{color:"#6b7280",marginTop:"4px"},children:"PNG, JPG up to 5MB"})]})}),n.jsx("input",{type:"file",id:"image-upload",className:"image-upload-input",accept:"image/*",onChange:v})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"600"},children:"Basic Information"}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Branch Name ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:g,placeholder:"Enter branch name",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"gstNumber",children:"GST Number"}),n.jsx("input",{type:"text",id:"gstNumber",name:"gstNumber",className:"form-input",value:i.gstNumber,onChange:g,placeholder:"Enter GST number"})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"600"},children:"Address"}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"address.street",children:["Street Address ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsx("textarea",{id:"address.street",name:"address.street",className:"form-textarea",value:i.address.street,onChange:g,placeholder:"Enter street address",required:!0,rows:"2"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"address.city",children:"City"}),n.jsx("input",{type:"text",id:"address.city",name:"address.city",className:"form-input",value:i.address.city,onChange:g,placeholder:"Enter city"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"address.state",children:"State"}),n.jsx("input",{type:"text",id:"address.state",name:"address.state",className:"form-input",value:i.address.state,onChange:g,placeholder:"Enter state"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"address.country",children:"Country"}),n.jsx("input",{type:"text",id:"address.country",name:"address.country",className:"form-input",value:i.address.country,onChange:g,placeholder:"Enter country"})]})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"600"},children:"Contact Information"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"contact.phone",children:"Phone Number"}),n.jsx("input",{type:"tel",id:"contact.phone",name:"contact.phone",className:"form-input",value:i.contact.phone,onChange:g,placeholder:"Enter phone number"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"contact.email",children:"Email Address"}),n.jsx("input",{type:"email",id:"contact.email",name:"contact.email",className:"form-input",value:i.contact.email,onChange:g,placeholder:"Enter email address"})]})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{marginBottom:"15px",fontSize:"16px",fontWeight:"600"},children:"Opening Hours"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"openingHours.mondayToFriday",children:"Monday - Friday"}),n.jsx("input",{type:"text",id:"openingHours.mondayToFriday",name:"openingHours.mondayToFriday",className:"form-input",value:i.openingHours.mondayToFriday,onChange:g,placeholder:"11:00 AM - 11:00 PM"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"openingHours.saturday",children:"Saturday"}),n.jsx("input",{type:"text",id:"openingHours.saturday",name:"openingHours.saturday",className:"form-input",value:i.openingHours.saturday,onChange:g,placeholder:"11:00 AM - 12:00 AM"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"openingHours.sunday",children:"Sunday"}),n.jsx("input",{type:"text",id:"openingHours.sunday",name:"openingHours.sunday",className:"form-input",value:i.openingHours.sunday,onChange:g,placeholder:"12:00 PM - 10:00 PM"})]})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":e?"Update Branch":"Add Branch"})]})]})]})})},Kne=({branch:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),[s,l]=N.useState(""),d=async()=>{i(!0),l("");try{await r(e._id),t()}catch(u){l(u.message||"Failed to delete branch. Please try again.")}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Branch"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[s&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:16}),n.jsx("span",{children:s})]}),n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"? This will also delete all associated categories and products."]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:d,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Qne=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,f]=N.useState(!1),[p,x]=N.useState(null),[g,v]=N.useState(!0),[j,b]=N.useState(""),[y,C]=N.useState("");N.useEffect(()=>{A()},[]);const A=async()=>{v(!0),b("");try{const D=await Rt("/branch",{},!0);console.log("Fetched branches from BOTH backends:",D);const B=Array.isArray(D)?D:(D==null?void 0:D.branches)||[];t(B)}catch(D){console.error("Error fetching branches:",D),b("Failed to load branches. Please refresh the page and try again."),t([])}finally{v(!1)}},E=Array.isArray(e)?e.filter(D=>(D.name||"").toLowerCase().includes(r.toLowerCase())||(D.address||"").toLowerCase().includes(r.toLowerCase())):[],S=()=>{d(null),s(!0)},T=D=>{d(D),s(!0)},_=D=>{x(D),f(!0)},P=async D=>{try{let B;return l?(B=await Rt(`/branch/${l._id}`,{method:"PUT",body:D}),t(M=>Array.isArray(M)?M.map(k=>k._id===l._id?B:k):[B]),C(`Branch "${B.name}" updated successfully`)):(B=await Rt("/branch",{method:"POST",body:D}),t(M=>Array.isArray(M)?[...M,B]:[B]),C(`Branch "${B.name}" created successfully`)),setTimeout(()=>{C("")},3e3),!0}catch(B){console.error("Error saving branch:",B);let M="Failed to save branch";throw B.message&&(M=B.message),new Error(M)}},L=async D=>{try{const B=Rt(`/branch/${D}`,{method:"DELETE"}).catch(k=>(console.warn("Branch endpoint delete failed:",k),null)),M=Rt(`/hotel/${D}`,{method:"DELETE"}).catch(k=>(console.warn("Restaurant endpoint delete failed:",k),null));return await Promise.allSettled([B,M]),t(k=>Array.isArray(k)?k.filter(W=>W._id!==D):[]),C("Branch deleted successfully from all backends"),setTimeout(()=>{C("")},3e3),!0}catch(B){throw console.error("Error deleting branch:",B),new Error(B.message||"Failed to delete branch")}};return n.jsxs("div",{className:"branches-page",children:[y&&n.jsxs("div",{className:"success-message",children:[n.jsx(fn,{size:16}),n.jsx("span",{children:y}),n.jsx("button",{onClick:()=>C(""),children:n.jsx("span",{children:""})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Branches"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:S,children:[n.jsx(Ca,{size:16}),n.jsx("span",{children:"Add Branch"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search branches by name or address...",className:"search-input",value:r,onChange:D=>a(D.target.value)})]})}),j&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:18}),n.jsx("span",{children:j})]}),g?n.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading branches..."})}):n.jsx("div",{className:"grid-container",children:E.length>0?E.filter(D=>D&&D._id).map((D,B)=>n.jsxs("div",{className:"grid-item",children:[n.jsx("div",{className:"grid-item-image-container",children:(()=>{const M=z2(D.image);return console.log("=== BRANCH DETAILS ==="),console.log(`Branch ID: ${D._id}`),console.log(`Branch Name: ${D.name}`),console.log(`Branch Address: ${D.address}`),console.log(`Branch Image Raw Path: ${D.image}`),console.log(`Branch Image Full URL: ${M}`),console.log(`Branch Created: ${D.createdAt}`),console.log("========================"),M?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:M||"/placeholder.svg",alt:D.name,className:"grid-item-image",onLoad:()=>console.log(`Image loaded successfully: ${M}`),onError:k=>{const F="https://hotelviratbackend.onrender.com/api/v1/hotel".replace("/api/v1/hotel",""),I=D.image.toString().trim().replace(/\\/g,"/").replace(/^\//,""),R=`${F}/${I}`;k.target.src!==R?(console.log(`Trying secondary backend: ${R}`),k.target.src=R):(console.error(`Image failed to load from both backends: ${M}`),k.target.style.display="none"),k.target.nextSibling&&(k.target.nextSibling.style.display="flex")}}),n.jsxs("div",{className:"category-image-placeholder",style:{display:"none",width:"100%",height:"200px",fontSize:"16px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#9ca3af"},children:[n.jsx(Go,{size:24}),n.jsx("span",{style:{marginTop:"8px",fontSize:"14px"},children:"Image failed to load"})]})]}):n.jsxs("div",{className:"category-image-placeholder",style:{display:"flex",width:"100%",height:"200px",fontSize:"16px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#9ca3af"},children:[n.jsx(Au,{size:24}),n.jsx("span",{style:{marginTop:"8px",fontSize:"14px"},children:"No Image"})]})})()}),n.jsxs("div",{className:"grid-item-content",children:[n.jsx("h3",{className:"grid-item-title",children:D.name}),n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:"8px"},children:[n.jsx(Au,{size:16,style:{marginRight:"8px",color:"#6b7280",marginTop:"2px",flexShrink:0}}),n.jsx("p",{className:"grid-item-subtitle",style:{lineHeight:"1.4"},children:D.address})]}),n.jsx("div",{className:"grid-item-footer",children:n.jsxs("div",{className:"grid-item-actions",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>T(D),children:n.jsx(kn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>_(D),children:n.jsx($n,{size:14})})]})})]})]},D._id||`branch-${B}`)):n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0",gridColumn:"1 / -1"},children:n.jsxs("p",{children:["No branches found. ",r?"Try a different search term.":"Add a new branch to get started."]})})}),i&&n.jsx(Xne,{branch:l,onClose:()=>s(!1),onSave:P}),u&&n.jsx(Kne,{branch:p,onClose:()=>f(!1),onConfirm:L})]})},Zne=({user:e,onClose:t,onSave:r,isEditMode:a})=>{const[i,s]=N.useState({name:(e==null?void 0:e.name)||"",mobile:(e==null?void 0:e.mobile)||"",email:(e==null?void 0:e.email)||"",image:null}),[l,d]=N.useState(e!=null&&e.image?`${e.image.startsWith("http")?"":"https://hotelvirat.com/"}${e.image}`:null),[u,f]=N.useState(null),p=v=>{const{name:j,value:b}=v.target;s({...i,[j]:b}),f(null)},x=v=>{const j=v.target.files[0];if(j){s({...i,image:j});const b=new FileReader;b.onloadend=()=>d(b.result),b.readAsDataURL(j)}},g=async v=>{v.preventDefault(),f(null);const j=new FormData;j.append("name",i.name),j.append("mobile",i.mobile),a&&i.email&&j.append("email",i.email),i.image&&j.append("image",i.image);try{await r(j,e==null?void 0:e._id),t()}catch(b){f(b.message||"Failed to save user")}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:a?"Edit User":"Add New User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:g,children:[n.jsxs("div",{className:"modal-body",children:[u&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626"},children:u}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:p,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"mobile",children:["Mobile ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-input",value:i.mobile,onChange:p,required:!0,pattern:"\\d{10}",title:"Please enter a valid 10-digit mobile number"})]}),a&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"email",children:"Email"}),n.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",value:i.email,onChange:p})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Profile Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:l?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:l,alt:"User preview",className:"image-preview"}),n.jsx("div",{className:"image-overlay",children:n.jsx("span",{children:"Change Image"})})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(Go,{size:24}),n.jsx("span",{children:"Upload Profile Image"})]})}),n.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:x,className:"image-upload-input"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",children:a?"Update User":"Add User"})]})]})]})})},Jne=({user:e,onClose:t,onConfirm:r})=>n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:()=>{r(e._id),t()},children:"Delete"})]})]})}),eae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,f]=N.useState(!1),[p,x]=N.useState(null),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(!1),A=async()=>{C(!0);try{const B=await Rt("/user-auth/all"),k=(Array.isArray(B)?B:[]).sort((W,F)=>new Date(F.createdAt)-new Date(W.createdAt));t(k)}catch(B){b(B.message),t([])}finally{C(!1)}};N.useEffect(()=>{A()},[]);const E=()=>{d(null),s(!0)},S=B=>{d(B),s(!0)},T=B=>{x(B),f(!0)},_=async(B,M)=>{try{const k=M?`/user-auth/${M}`:"/user-auth/";await Rt(k,{method:M?"PUT":"POST",body:B}),v(`User ${M?"updated":"added"} successfully`),setTimeout(()=>v(""),3e3),await A()}catch(k){throw new Error(k.message)}},P=async B=>{try{await Rt(`/user-auth/${B}`,{method:"DELETE"}),v("User deleted successfully"),setTimeout(()=>v(""),3e3),await A()}catch(M){b(M.message),setTimeout(()=>b(""),3e3)}},L=B=>{const M={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(B).toLocaleDateString(void 0,M)},D=Array.isArray(e)?e.filter(B=>B.name.toLowerCase().includes(r.toLowerCase())||B.mobile.includes(r)||B.email&&B.email.toLowerCase().includes(r.toLowerCase())):[];return n.jsxs("div",{className:"users-page",children:[g&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>v(""),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),j&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),style:{color:"#dc2626"},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Users"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:E,disabled:y,children:[n.jsx(Fc,{size:16}),n.jsx("span",{children:"Add User"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search users...",className:"search-input",value:r,onChange:B=>a(B.target.value)})]})}),n.jsx("div",{className:"data-card",children:y?n.jsx("div",{className:"empty-state",children:"Loading users..."}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Mobile"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:D.map(B=>n.jsxs("tr",{children:[n.jsx("td",{children:B._id.slice(-6)}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[B.image?n.jsx("img",{src:`${B.image.startsWith("http")?"":"https://hotelvirat.com/"}${B.image}`,alt:B.name,className:"user-avatar"}):n.jsx("div",{className:"user-avatar-placeholder",children:B.name.charAt(0).toUpperCase()}),B.name]})}),n.jsx("td",{children:B.email?n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(Mo,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),B.email]}):n.jsx("span",{style:{color:"#9ca3af"},children:"Not provided"})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(mi,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),B.mobile]})}),n.jsx("td",{children:L(B.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>S(B),disabled:y,children:n.jsx(kn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>T(B),disabled:y,children:n.jsx($n,{size:14})})]})})]},B._id))})]})}),D.length===0&&!y&&n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No users found. ",r?"Try a different search.":"Add a new user to get started."]})}),i&&n.jsx(Zne,{user:l,onClose:()=>s(!1),onSave:_,isEditMode:!!l}),u&&n.jsx(Jne,{user:p,onClose:()=>f(!1),onConfirm:P})]})},tae=({coupon:e,onClose:t,onSave:r})=>{const[a,i]=N.useState({code:(e==null?void 0:e.code)||"",description:(e==null?void 0:e.description)||"",discountType:(e==null?void 0:e.discountType)||"percentage",discountValue:(e==null?void 0:e.discountValue)||"",minOrderValue:(e==null?void 0:e.minOrderValue)||"",startDate:e!=null&&e.startDate?new Date(e.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],endDate:e!=null&&e.endDate?new Date(e.endDate).toISOString().split("T")[0]:"",usageLimit:(e==null?void 0:e.usageLimit)||"",image:null}),[s,l]=N.useState(e==null?void 0:e.image),[d,u]=N.useState(!1),[f,p]=N.useState(null),[x,g]=N.useState([]),[v,j]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const T=await fetch("https://hotelvirat.com/api/v1/hotel/coupon");if(T.ok){const _=await T.json();g(_.map(P=>P.code.toLowerCase()))}}catch(T){console.log("Could not fetch existing coupons:",T)}})()},[]);const b=S=>{const{name:T,value:_}=S.target;i({...a,[T]:["discountValue","minOrderValue","usageLimit"].includes(T)?_===""?"":Number.parseFloat(_):_})},y=S=>x.includes(S.toLowerCase()),C=()=>{const S=new Date().getFullYear(),T=new Date().getMonth()+1,_=new Date().getDate(),P=Date.now().toString().slice(-4),L=["WELCOME","SAVE","DISCOUNT","FIRST","NEWYEAR","HOTEL","VIRAT","SPECIAL","OFFER","DEAL"],D=[S.toString(),S.toString().slice(-2),`${T}${S.toString().slice(-2)}`,`${_}${T}`,P,Math.floor(Math.random()*1e3)+100,Math.floor(Math.random()*50)+10];for(let B=0;B<50;B++){const M=L[Math.floor(Math.random()*L.length)],k=D[Math.floor(Math.random()*D.length)],W=`${M}${k}`;if(!y(W))return W}return`UNIQUE${P}${Math.floor(Math.random()*100)}`},A=S=>{const T=S.target.files[0];if(T){i({...a,image:T});const _=new FileReader;_.onloadend=()=>{l(_.result)},_.readAsDataURL(T)}},E=async S=>{S.preventDefault(),u(!0),p(null);try{await r(a),t()}catch(T){p(T.message||"Failed to save coupon")}finally{u(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Coupon":"Add New Coupon"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:E,children:[n.jsxs("div",{className:"modal-body",children:[f&&n.jsxs("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:16}),n.jsxs("div",{children:[n.jsx("div",{children:f}),f.includes("already exists")&&n.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#991b1b"},children:" Try using a different code like: WELCOME2025, NEWYEAR25, DISCOUNT15, SAVE20, FIRST10"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"code",children:"Coupon Code"}),n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[n.jsx("input",{type:"text",id:"code",name:"code",className:"form-input",value:a.code,onChange:b,required:!0,style:{flex:1,borderColor:a.code&&y(a.code)&&!e?"#ef4444":"#d1d5db"},placeholder:"Enter unique coupon code (e.g., WELCOME2025)"}),n.jsx("button",{type:"button",onClick:()=>{const S=C();i({...a,code:S})},style:{padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",cursor:"pointer",whiteSpace:"nowrap",fontWeight:"500"},children:" Generate"})]}),a.code&&!e&&n.jsx("div",{style:{marginTop:"6px",fontSize:"12px"},children:y(a.code)?n.jsx("div",{style:{color:"#ef4444",display:"flex",alignItems:"center",gap:"4px"},children:" This code already exists! Try a different one."}):n.jsx("div",{style:{color:"#10b981",display:"flex",alignItems:"center",gap:"4px"},children:" This code is available!"})}),n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"6px"},children:' Click "Generate" for a guaranteed unique code'}),x.length>0&&n.jsxs("details",{style:{marginTop:"8px"},children:[n.jsxs("summary",{style:{fontSize:"12px",color:"#6b7280",cursor:"pointer"},children:[" View existing coupon codes (",x.length," total)"]}),n.jsxs("div",{style:{marginTop:"4px",padding:"8px",backgroundColor:"#f9fafb",borderRadius:"4px",fontSize:"11px",maxHeight:"100px",overflowY:"auto"},children:[x.slice(0,20).map((S,T)=>n.jsx("span",{style:{display:"inline-block",margin:"2px",padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"3px",textTransform:"uppercase"},children:S},T)),x.length>20&&n.jsxs("div",{style:{marginTop:"4px",color:"#6b7280"},children:["... and ",x.length-20," more"]})]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"description",children:"Description"}),n.jsx("textarea",{id:"description",name:"description",className:"form-textarea",value:a.description,onChange:b,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Coupon Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:s?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:s||"/placeholder.svg",alt:"Coupon preview",className:"image-preview"}),n.jsx("div",{className:"image-overlay",children:n.jsx("span",{children:"Change Image"})})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(Go,{size:24}),n.jsx("span",{children:"Upload Coupon Image"})]})}),n.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:A,className:"image-upload-input"})]})]}),n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"discountType",children:"Discount Type"}),n.jsxs("select",{id:"discountType",name:"discountType",className:"form-select",value:a.discountType,onChange:b,required:!0,children:[n.jsx("option",{value:"percentage",children:"Percentage"}),n.jsx("option",{value:"fixed",children:"Fixed Amount"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"discountValue",children:a.discountType==="percentage"?"Discount Percentage":"Discount Amount ()"}),n.jsx("input",{type:"number",id:"discountValue",name:"discountValue",className:"form-input",value:a.discountValue,onChange:b,min:"0",step:a.discountType==="percentage"?"1":"0.01",required:!0})]})]}),n.jsx("div",{className:"form-grid",children:n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"minOrderValue",children:"Minimum Order Value ()"}),n.jsx("input",{type:"number",id:"minOrderValue",name:"minOrderValue",className:"form-input",value:a.minOrderValue,onChange:b,min:"0",step:"0.01",required:!0})]})}),n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"startDate",children:"Valid From"}),n.jsx("input",{type:"date",id:"startDate",name:"startDate",className:"form-input",value:a.startDate,onChange:b,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"endDate",children:"Valid To"}),n.jsx("input",{type:"date",id:"endDate",name:"endDate",className:"form-input",value:a.endDate,onChange:b,required:!0})]})]}),n.jsx("div",{className:"form-grid",children:n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"usageLimit",children:"Usage Limit"}),n.jsx("input",{type:"number",id:"usageLimit",name:"usageLimit",className:"form-input",value:a.usageLimit,onChange:b,min:"1",step:"1",required:!0})]})})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:d,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":e?"Update Coupon":"Add Coupon"})]})]})]})})},rae=({coupon:e,onClose:t,onConfirm:r,loading:a})=>n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Coupon"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete coupon ",n.jsx("strong",{children:e.code}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:()=>r(e._id),disabled:a,children:a?"Deleting...":"Delete"})]})]})}),nae=({message:e,onClose:t})=>(N.useEffect(()=>{const r=setTimeout(()=>{t()},3e3);return()=>clearTimeout(r)},[t]),n.jsxs("div",{className:"success-message",children:[e,n.jsx("button",{onClick:t,children:""})]})),aae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,f]=N.useState(!1),[p,x]=N.useState(null),[g,v]=N.useState(!1),[j,b]=N.useState(null),[y,C]=N.useState(null),[A,E]=N.useState(!0),S=async()=>{E(!0);try{const k=await fetch("https://hotelvirat.com/api/v1/hotel/coupon");if(!k.ok)throw new Error("Failed to fetch coupons");const W=await k.json();t(W)}catch(k){b(k.message||"Failed to fetch coupons"),console.error("Error fetching Coupons:",k)}finally{E(!1)}};N.useEffect(()=>{S()},[]);const T=()=>{d(null),s(!0)},_=k=>{d(k),s(!0)},P=k=>{x(k),f(!0)},L=async k=>{v(!0);try{const W=new FormData;W.append("code",k.code),W.append("description",k.description),W.append("discountType",k.discountType),W.append("discountValue",k.discountValue),W.append("minOrderValue",k.minOrderValue),W.append("startDate",k.startDate),W.append("endDate",k.endDate),W.append("usageLimit",k.usageLimit),W.append("isActive","true"),k.image&&W.append("image",k.image);let F;if(l?F=await fetch(`https://hotelvirat.com/api/v1/hotel/coupon/${l._id}`,{method:"PUT",body:W}):F=await fetch("https://hotelvirat.com/api/v1/hotel/coupon",{method:"POST",body:W}),!F.ok){const R=await F.json();throw new Error(R.message||"Failed to save coupon")}const I=await F.json();return await S(),C(l?"Coupon updated successfully":"Coupon created successfully"),I}catch(W){throw console.error("Error saving coupon:",W),W}finally{v(!1)}},D=async k=>{v(!0);try{const W=await fetch(`https://hotelvirat.com/api/v1/hotel/coupon/${k}`,{method:"DELETE"});if(!W.ok){const F=await W.json();throw new Error(F.message||"Failed to delete coupon")}await S(),C("Coupon deleted successfully")}catch(W){console.error("Error deleting coupon:",W),b(W.message||"Failed to delete coupon")}finally{v(!1),f(!1)}},B=e.filter(k=>k.code.toLowerCase().includes(r.toLowerCase())||k.description.toLowerCase().includes(r.toLowerCase())),M=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return n.jsxs("div",{className:"coupons-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Coupons"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:T,children:[n.jsx(Ca,{size:16}),n.jsx("span",{children:"Add Coupon"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search coupons...",className:"search-input",value:r,onChange:k=>a(k.target.value)})]})}),j&&n.jsxs("div",{style:{padding:"15px",marginBottom:"20px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:18}),j,n.jsx("button",{onClick:()=>b(null),style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),A?n.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading coupons..."})}):n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Image"}),n.jsx("th",{children:"Code"}),n.jsx("th",{children:"Description"}),n.jsx("th",{children:"Discount"}),n.jsx("th",{children:"Min. Order"}),n.jsx("th",{children:"Validity"}),n.jsx("th",{children:"Usage"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:B.map(k=>n.jsxs("tr",{children:[n.jsx("td",{children:k.image?n.jsx("div",{className:"coupon-image-cell",children:n.jsx("img",{src:`${k.image}`,alt:k.code,className:"coupon-image",onError:W=>{W.target.onerror=null,W.target.src="https://via.placeholder.com/50"}})}):n.jsx("div",{className:"coupon-image-placeholder",children:n.jsx(Go,{size:16})})}),n.jsx("td",{children:n.jsx("span",{style:{fontWeight:"600",color:"#f97316"},children:k.code})}),n.jsx("td",{children:k.description}),n.jsx("td",{children:k.discountType==="percentage"?n.jsxs("span",{children:[k.discountValue,"%"]}):n.jsxs("span",{children:["",k.discountValue]})}),n.jsxs("td",{children:["",k.minOrderValue]}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(Lr,{size:14,style:{marginRight:"4px",color:"#6b7280"}}),M(k.startDate)," - ",M(k.endDate)]})}),n.jsxs("td",{children:[k.usageCount," / ",k.usageLimit||"",n.jsx("div",{style:{width:"100%",height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",marginTop:"4px"},children:n.jsx("div",{style:{width:`${k.usageLimit?k.usageCount/k.usageLimit*100:0}%`,height:"100%",backgroundColor:"#f97316",borderRadius:"2px"}})})]}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>_(k),children:n.jsx(kn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>P(k),children:n.jsx($n,{size:14})})]})})]},k._id))})]})}),!A&&B.length===0&&n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"No coupons found. Add a new coupon to get started."})}),i&&n.jsx(tae,{coupon:l,onClose:()=>s(!1),onSave:L}),u&&n.jsx(rae,{coupon:p,onClose:()=>f(!1),onConfirm:D,loading:g}),y&&n.jsx(nae,{message:y,onClose:()=>C(null)})]})},iae=bt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),sae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(""),[l,d]=N.useState(1),[u,f]=N.useState(1),[p,x]=N.useState(""),[g,v]=N.useState("date"),[j,b]=N.useState("desc"),[y,C]=N.useState(null),[A,E]=N.useState(!1),S=7;N.useEffect(()=>{(async()=>{a(!0),s("");try{const R={page:l,limit:S};p.trim()&&(R.search=p.trim());const X=await iae.get("/order",{params:R}),ne=X.data.data.map(ge=>({id:ge._id,orderId:ge.orderNumber,customer:ge.name,date:new Date(ge.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),amount:ge.total,method:ge.paymentMethod,items:ge.items,discount:ge.discount,tax:ge.tax,subtotal:ge.subtotal,deliveryFee:ge.deliveryFee}));t(ne),f(X.data.pagination.totalPages)}catch(R){console.error("Error fetching payments:",R),s("Failed to load payments. Please try again.")}finally{a(!1)}})()},[l,p]);const P=[...e.filter(I=>{const R=p.toLowerCase();return I.orderId.toLowerCase().includes(R)||I.customer.toLowerCase().includes(R)})].sort((I,R)=>g==="date"?j==="asc"?new Date(I.date)-new Date(R.date):new Date(R.date)-new Date(I.date):g==="amount"?j==="asc"?I.amount-R.amount:R.amount-I.amount:0).slice(0,S),L=I=>{switch(I){case"card":return n.jsx(Xr,{className:"h-5 w-5"});case"upi":return n.jsx(Eu,{className:"h-5 w-5"});case"cash":return n.jsx("span",{className:"rupees-icon",children:""});default:return n.jsx(Xr,{className:"h-5 w-5"})}},D=I=>{C(I),E(!0)},B=()=>{E(!1),C(null)},M=I=>{g===I?b(j==="asc"?"desc":"asc"):(v(I),b("desc"))},k=I=>{if(I==null)return"";const R=I.toString();return R.includes(",")||R.includes('"')||R.includes(`
`)?`"${R.replace(/"/g,'""')}"`:R},W=()=>{let R=["Order ID","Customer","Date","Subtotal","Discount","Tax","Delivery Fee","Total","Payment Method"].map(k).join(",")+`
`;e.forEach(ee=>{const z=[ee.orderId,ee.customer,ee.date,`${ee.subtotal.toFixed(2)}`,`${ee.discount.toFixed(2)}`,`${ee.tax.toFixed(2)}`,`${ee.deliveryFee.toFixed(2)}`,`${ee.amount.toFixed(2)}`,ee.method.charAt(0).toUpperCase()+ee.method.slice(1)];R+=z.map(k).join(",")+`
`});const X="\uFEFF",ne=new Blob([X+R],{type:"text/csv;charset=utf-8;"}),ge=window.URL.createObjectURL(ne),q=document.createElement("a");q.setAttribute("hidden",""),q.setAttribute("href",ge),q.setAttribute("download",`payments-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(q),q.click(),document.body.removeChild(q)},F=()=>{const I=[];if(u<=7)for(let R=1;R<=u;R++)I.push(R);else{I.push(1);let R=Math.max(2,l-2),X=Math.min(u-1,l+2);l<=4&&(X=5),l>=u-3&&(R=u-4),R>2&&I.push("...");for(let ne=R;ne<=X;ne++)I.push(ne);X<u-1&&I.push("..."),u>1&&I.push(u)}return I};return n.jsxs("div",{className:"payment-ui",children:[n.jsx("div",{className:"page-header",children:n.jsx("h1",{children:"Payments"})}),i&&n.jsx("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("span",{children:i})}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{className:"search-icon"}),n.jsx("input",{type:"text",className:"search-input",placeholder:"Search by order ID or customer name",value:p,onChange:I=>x(I.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("button",{className:"filter-btn",onClick:W,children:[n.jsx(On,{className:"h-4 w-4"}),n.jsx("span",{children:"Export"})]})})]}),n.jsx("div",{className:"data-card",children:n.jsx("div",{className:"card-body",children:r?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading payments..."})]}):P.length===0?n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No payments found matching your search."})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Customer"}),n.jsx("th",{className:"sortable-header",onClick:()=>M("date"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Date"}),g==="date"&&(j==="asc"?n.jsx(qs,{className:"h-4 w-4"}):n.jsx(Us,{className:"h-4 w-4"}))]})}),n.jsx("th",{className:"sortable-header",onClick:()=>M("amount"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Amount"}),g==="amount"&&(j==="asc"?n.jsx(qs,{className:"h-4 w-4"}):n.jsx(Us,{className:"h-4 w-4"}))]})}),n.jsx("th",{children:"Payment Method"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:P.map(I=>n.jsxs("tr",{children:[n.jsx("td",{children:I.orderId}),n.jsx("td",{children:I.customer}),n.jsx("td",{children:I.date}),n.jsxs("td",{children:["",I.amount.toFixed(2)]}),n.jsx("td",{children:n.jsxs("div",{className:"payment-method",children:[L(I.method),n.jsx("span",{className:"payment-method-text",children:I.method.charAt(0).toUpperCase()+I.method.slice(1)})]})}),n.jsx("td",{children:n.jsx("div",{className:"action-buttons",children:n.jsx("button",{className:"action-btn view",onClick:()=>D(I),children:"View"})})})]},I.id))})]})})}),n.jsxs("div",{className:"pagination",children:[n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:l===1,onClick:()=>d(I=>Math.max(I-1,1)),children:[n.jsx(Sf,{className:"h-4 w-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"pagination-pages",children:F().map((I,R)=>I==="..."?n.jsx("span",{className:"pagination-ellipsis",children:"..."},R):n.jsx("button",{className:`pagination-page ${l===I?"active":""}`,onClick:()=>d(I),children:I},R))}),n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:l===u,onClick:()=>d(I=>Math.min(I+1,u)),children:[n.jsx("span",{children:"Next"}),n.jsx(Nf,{className:"h-4 w-4"})]})]}),A&&y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{className:"modal-title",children:"Payment Details"}),n.jsx("button",{className:"modal-close",onClick:B,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"payment-details",children:[n.jsxs("div",{className:"payment-info-grid",children:[n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Payment Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Order ID:"}),n.jsx("span",{className:"info-value",children:y.orderId})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Date:"}),n.jsx("span",{className:"info-value",children:y.date})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Subtotal:"}),n.jsxs("span",{className:"info-value",children:["",y.subtotal.toFixed(2)]})]}),y.discount>0&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Discount:"}),n.jsxs("span",{className:"info-value",style:{color:"#22c55e"},children:["-",y.discount.toFixed(2)]})]}),y.tax>0&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Tax:"}),n.jsxs("span",{className:"info-value",children:["",y.tax.toFixed(2)]})]}),y.deliveryFee>0&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Delivery Fee:"}),n.jsxs("span",{className:"info-value",children:["",y.deliveryFee.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Total Amount:"}),n.jsxs("span",{className:"info-value",children:["",y.amount.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Payment Method:"}),n.jsx("span",{className:"info-value",children:n.jsxs("div",{className:"payment-method",children:[L(y.method),n.jsx("span",{className:"payment-method-text",children:y.method.charAt(0).toUpperCase()+y.method.slice(1)})]})})]})]})]}),n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Customer Information"}),n.jsx("div",{className:"payment-info-content",children:n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Name:"}),n.jsx("span",{className:"info-value",children:y.customer})]})})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Order Items"}),n.jsxs("table",{className:"order-items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:y.items.map((I,R)=>n.jsxs("tr",{children:[n.jsx("td",{children:I.name}),n.jsx("td",{children:I.quantity}),n.jsxs("td",{children:["",I.price.toFixed(2)]}),n.jsxs("td",{children:["",(I.quantity*I.price).toFixed(2)]})]},R))}),n.jsxs("tfoot",{children:[n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Subtotal"}),n.jsxs("td",{className:"total-value",children:["",y.subtotal.toFixed(2)]})]}),y.discount>0&&n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Discount"}),n.jsxs("td",{className:"total-value",style:{color:"#22c55e"},children:["-",y.discount.toFixed(2)]})]}),y.tax>0&&n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Tax"}),n.jsxs("td",{className:"total-value",children:["",y.tax.toFixed(2)]})]}),y.deliveryFee>0&&n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Delivery Fee"}),n.jsxs("td",{className:"total-value",children:["",y.deliveryFee.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Total"}),n.jsxs("td",{className:"total-value",children:["",y.amount.toFixed(2)]})]})]})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:B,children:"Close"})})]})}),n.jsx("style",{jsx:!0,children:`
        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 40px;
        }

        .loading-spinner {
          border: 4px solid rgba(0, 0, 0, 0.1);
          border-left-color: var(--primary-color);
          border-radius: 50%;
          width: 30px;
          height: 30px;
          animation: spin 1s linear infinite;
          margin-bottom: 10px;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        .sortable-header {
          cursor: pointer;
        }

        .sort-header {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .payment-method-text {
          font-size: 14px;
        }

        .rupees-icon {
          display: flex;
          align-items: center;
          font-size: 18px;
          line-height: 1;
        }

        .payment-details {
          padding: 10px 0;
        }

        .payment-info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }

        @media (max-width: 768px) {
          .payment-info-grid {
            grid-template-columns: 1fr;
          }
        }

        .payment-info-section {
          background-color: var(--bg-light);
          border-radius: var(--radius-md);
          overflow: hidden;
        }

        .payment-info-title {
          font-size: 16px;
          font-weight: 600;
          padding: 12px 16px;
          background-color: var(--bg-white);
          border-bottom: 1px solid var(--border-color);
        }

        .payment-info-content {
          padding: 16px;
        }

        .info-row {
          display: flex;
          margin-bottom: 10px;
        }

        .info-label {
          width: 140px;
          font-weight: 500;
          color: var(--text-light);
        }

        .info-value {
          flex: 1;
          font-weight: 500;
        }

        .order-items-section {
          margin-top: 20px;
        }

        .order-items-table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
        }

        .order-items-table th {
          text-align: left;
          padding: 12px;
          background-color: var(--bg-light);
          font-weight: 500;
          color: var(--text-light);
        }

        .order-items-table td {
          padding: 12px;
          border-bottom: 1px solid var(--border-color);
        }

        .order-items-table tfoot td {
          padding: 12px;
          font-weight: 600;
        }

        .total-label {
          text-align: right;
          font-weight: 600;
        }

        .total-value {
          font-weight: 700;
          color: var(--primary-color);
        }

        .pagination-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 4px;
          padding: 8px 16px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-page {
          padding: 8px 12px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-page.active {
          background-color: var(--primary-color);
          color: white;
          border-color: var(--primary-color);
        }

        .pagination-ellipsis {
          padding: 8px 12px;
          color: var(--text-light);
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }
      `})]})},oae=()=>{const[e,t]=N.useState(null),[r,a]=N.useState(!1),[i,s]=N.useState({title:"",mobile:"",email:""}),[l,d]=N.useState(!1),[u,f]=N.useState(null),[p,x]=N.useState(null);N.useEffect(()=>{(async()=>{var b,y,C;d(!0);try{const A=await bt.get("https://hotelvirat.com/api/v1/hotel/help-support");t(A.data),s({title:A.data.title,mobile:A.data.mobile,email:A.data.email})}catch(A){((b=A.response)==null?void 0:b.status)!==404&&f(((C=(y=A.response)==null?void 0:y.data)==null?void 0:C.message)||"Failed to fetch help and support information")}finally{d(!1)}})()},[]);const g=j=>{const{name:b,value:y}=j.target;s({...i,[b]:y})},v=async j=>{var b,y;j.preventDefault(),d(!0),f(null),x(null);try{let C;e!=null&&e._id?C=await bt.put(`https://hotelvirat.com/api/v1/hotel/help-support/${e._id}`,i):C=await bt.post("https://hotelvirat.com/api/v1/hotel/help-support",i),t(C.data.helpSupport),s({title:C.data.helpSupport.title,mobile:C.data.helpSupport.mobile,email:C.data.helpSupport.email}),a(!1),x("Help and support information saved successfully!"),setTimeout(()=>x(null),3e3)}catch(C){f(((y=(b=C.response)==null?void 0:b.data)==null?void 0:y.message)||"Failed to save help and support information")}finally{d(!1)}};return l&&!e?n.jsx("div",{className:"empty-state",children:"Loading..."}):u&&!e?n.jsx("div",{className:"empty-state",children:u}):n.jsxs("div",{className:"help-support-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Help & Support"}),!r&&n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:()=>a(!0),children:[n.jsx(kn,{size:16}),n.jsx("span",{children:"Edit Information"})]})})]}),p&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:p}),n.jsx("button",{onClick:()=>x(null),children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"card",children:r?n.jsx("form",{onSubmit:v,children:n.jsxs("div",{className:"card-body",style:{padding:"20px"},children:[u&&n.jsxs("div",{className:"alert-message",children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"title",children:"Title"}),n.jsx("input",{type:"text",id:"title",name:"title",className:"form-input",value:i.title,onChange:g,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"mobile",children:"Mobile Number"}),n.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-input",value:i.mobile,onChange:g,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"email",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",value:i.email,onChange:g,required:!0})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>{s(e?{title:e.title,mobile:e.mobile,email:e.email}:{title:"",mobile:"",email:""}),a(!1),f(null)},disabled:l,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?n.jsx("span",{children:"Saving..."}):n.jsxs(n.Fragment,{children:[n.jsx(LI,{size:16}),n.jsx("span",{children:"Save Changes"})]})})]})]})}):n.jsx("div",{className:"card-body",style:{padding:"20px"},children:e?n.jsxs("div",{className:"contact-info-container",children:[n.jsx("div",{className:"contact-header",children:n.jsx("h3",{children:e.title})}),n.jsxs("div",{className:"contact-details",children:[n.jsxs("div",{className:"contact-item",children:[n.jsx("div",{className:"contact-icon",children:n.jsx(mi,{size:20})}),n.jsxs("div",{className:"contact-content",children:[n.jsx("h4",{children:"Mobile Number"}),n.jsx("p",{children:e.mobile})]})]}),n.jsxs("div",{className:"contact-item",children:[n.jsx("div",{className:"contact-icon",children:n.jsx(Mo,{size:20})}),n.jsxs("div",{className:"contact-content",children:[n.jsx("h4",{children:"Email Address"}),n.jsx("p",{children:e.email})]})]})]})]}):n.jsx("div",{className:"empty-state",children:"No help and support information available."})})})]})},lae=()=>{const[e,t]=N.useState(null),[r,a]=N.useState(!1),[i,s]=N.useState({description:"",mission:""}),[l,d]=N.useState(!1),[u,f]=N.useState(null),[p,x]=N.useState(null),g=async()=>{try{d(!0),f(null);const b=await fetch("https://hotelvirat.com/api/v1/hotel/about-us");if(b.ok){const y=await b.json(),C=y.data||y;C&&C._id?(t(C),s({description:C.description||"",mission:C.mission||""})):(t(null),s({description:"",mission:""}))}else if(b.status===404)t(null),s({description:"",mission:""}),f(null);else throw new Error("Failed to fetch About Us data")}catch(b){console.error("Fetch error:",b),f(b.message),t(null)}finally{d(!1)}};N.useEffect(()=>{g()},[]);const v=b=>{const{name:y,value:C}=b.target;s({...i,[y]:C})},j=async b=>{if(b.preventDefault(),d(!0),f(null),x(null),!i.description.trim()||!i.mission.trim()){f("Both description and mission are required"),d(!1);return}if(i.description.trim().length<10){f("Description must be at least 10 characters long"),d(!1);return}if(i.mission.trim().length<10){f("Mission must be at least 10 characters long"),d(!1);return}try{const y="https://hotelvirat.com/api/v1",C=e?`${y}/hotel/about-us/${e._id}`:`${y}/hotel/about-us`,A=e?"PUT":"POST";console.log(`Making ${A} request to:`,C);const E=await fetch(C,{method:A,headers:{"Content-Type":"application/json"},body:JSON.stringify({description:i.description.trim(),mission:i.mission.trim()})});if(!E.ok){const T=await E.json();throw new Error(T.message||(e?"Failed to update About Us information":"Failed to create About Us information"))}const S=await E.json();console.log("Submit result:",S),x(S.message||(e?"About Us information updated successfully!":"About Us information created successfully!")),a(!1),await g(),setTimeout(()=>x(null),5e3)}catch(y){console.error("Submit error:",y),f(y.message)}finally{d(!1)}};return l&&!e&&!r?n.jsx("div",{className:"empty-state",children:"Loading..."}):n.jsxs("div",{className:"about-us-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"About Us"}),!r&&n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:()=>a(!0),disabled:l,children:[n.jsx(kn,{size:16}),n.jsx("span",{children:e?"Edit Information":"Add Information"})]})})]}),p&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:p}),n.jsx("button",{onClick:()=>x(null),children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),u&&!r&&n.jsxs("div",{className:"alert-message",style:{marginBottom:"16px"},children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:u}),n.jsx("button",{onClick:()=>f(null),style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer"},children:""})]}),n.jsx("div",{className:"card",children:r?n.jsx("form",{onSubmit:j,children:n.jsxs("div",{className:"card-body",style:{padding:"20px"},children:[u&&n.jsxs("div",{className:"alert-message",style:{marginBottom:"16px"},children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"description",children:"Description *"}),n.jsx("textarea",{id:"description",name:"description",className:"form-textarea",value:i.description,onChange:v,required:!0,rows:6,placeholder:"Enter a detailed description about your hotel...",minLength:10}),n.jsxs("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:[i.description.length," characters (minimum 10 required)"]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"mission",children:"Mission *"}),n.jsx("textarea",{id:"mission",name:"mission",className:"form-textarea",value:i.mission,onChange:v,required:!0,rows:4,placeholder:"Enter your hotel's mission statement...",minLength:10}),n.jsxs("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:[i.mission.length," characters (minimum 10 required)"]})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>{s(e?{description:e.description,mission:e.mission}:{description:"",mission:""}),a(!1),f(null),x(null)},disabled:l,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l||i.description.trim().length<10||i.mission.trim().length<10,children:l?n.jsx("span",{children:"Saving..."}):n.jsxs(n.Fragment,{children:[n.jsx(LI,{size:16}),n.jsx("span",{children:"Save Changes"})]})})]})]})}):e?n.jsx("div",{className:"card-body",style:{padding:"20px"},children:n.jsxs("div",{className:"about-info-container",children:[n.jsx("div",{className:"about-header",children:n.jsx("h3",{children:"About Hotel Virat"})}),n.jsxs("div",{className:"about-section",children:[n.jsx("h4",{children:"Description"}),n.jsx("p",{children:e.description})]}),n.jsxs("div",{className:"about-section",children:[n.jsxs("div",{className:"mission-header",children:[n.jsx(_A,{size:20,color:"#ff7e47"}),n.jsx("h4",{children:"Our Mission"})]}),n.jsx("p",{children:e.mission})]}),e.updatedAt&&n.jsx("div",{className:"about-meta",style:{marginTop:"20px",paddingTop:"15px",borderTop:"1px solid #eee"},children:n.jsxs("small",{style:{color:"#666",fontSize:"0.875rem"},children:["Last updated: ",new Date(e.updatedAt).toLocaleDateString()]})})]})}):n.jsx("div",{className:"card-body",style:{padding:"20px"},children:n.jsxs("div",{className:"empty-state",children:[n.jsx(_A,{size:48,color:"#ddd",style:{marginBottom:"16px"}}),n.jsx("h3",{style:{color:"#999",marginBottom:"8px"},children:"No About Us Information"}),n.jsx("p",{style:{color:"#999",margin:0},children:'No About Us information available. Click "Add Information" to create one.'})]})})})]})},cae=({term:e,onClose:t,onSave:r})=>{const[a,i]=N.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",category:(e==null?void 0:e.category)||"Terms of Service"}),s=d=>{const{name:u,value:f}=d.target;i({...a,[u]:f})},l=d=>{d.preventDefault(),r(a),t()};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Policy":"Add New Policy"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:l,children:[n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"title",children:"Title"}),n.jsx("input",{type:"text",id:"title",name:"title",className:"form-input",value:a.title,onChange:s,required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"category",children:"Category"}),n.jsxs("select",{id:"category",name:"category",className:"form-select",value:a.category,onChange:s,required:!0,children:[n.jsx("option",{value:"Order Policy",children:"Order Policy"}),n.jsx("option",{value:"Delivery Policy",children:"Delivery Policy"}),n.jsx("option",{value:"Privacy Policy",children:"Privacy Policy"}),n.jsx("option",{value:"Terms of Service",children:"Terms of Service"}),n.jsx("option",{value:"Refund Policy",children:"Refund Policy"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"description",children:"Description"}),n.jsx("textarea",{id:"description",name:"description",className:"form-textarea",value:a.description,onChange:s,required:!0,rows:8})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"Update Policy":"Add Policy"})]})]})]})})},dae=({term:e,onClose:t,onConfirm:r})=>n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Policy"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsxs("strong",{children:['"',e.title,'"']}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:()=>{r(e._id),t()},children:"Delete"})]})]})}),uae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(""),[l,d]=N.useState(!1),[u,f]=N.useState(null),[p,x]=N.useState(!1),[g,v]=N.useState(null),[j,b]=N.useState(null),[y,C]=N.useState(!1),[A,E]=N.useState(null),S=async()=>{C(!0),E(null);try{const F=i?`?category=${i}`:"",I=await fetch(`https://hotelvirat.com/api/v1/hotel/terms${F}`);if(!I.ok)throw new Error("Failed to fetch terms");const R=await I.json();t(R)}catch(F){E(F.message)}finally{C(!1)}};N.useEffect(()=>{S()},[i]);const T=e.filter(F=>F.title.toLowerCase().includes(r.toLowerCase())||F.description.toLowerCase().includes(r.toLowerCase())),_=()=>{f(null),d(!0)},P=F=>{f(F),d(!0)},L=F=>{v(F),x(!0)},D=async F=>{C(!0),E(null);try{const I=u?`https://hotelvirat.com/api/v1/hotel/terms/${u._id}`:"https://hotelvirat.com/api/v1/hotel/terms";if(!(await fetch(I,{method:u?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).ok)throw new Error(u?"Failed to update term":"Failed to create term");await S()}catch(I){E(I.message)}finally{C(!1)}},B=async F=>{C(!0),E(null);try{if(!(await fetch(`https://hotelvirat.com/api/v1/hotel/terms/${F}`,{method:"DELETE"})).ok)throw new Error("Failed to delete term");await S()}catch(I){E(I.message)}finally{C(!1)}},M=F=>{b(j===F?null:F)},k=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),W=F=>{switch(F){case"Terms of Service":return{bg:"#e0f2fe",text:"#0284c7"};case"Privacy Policy":return{bg:"#dcfce7",text:"#16a34a"};case"Refund Policy":return{bg:"#fef3c7",text:"#d97706"};case"Delivery Policy":return{bg:"#f3e8ff",text:"#7e22ce"};case"Order Policy":return{bg:"#fee2e2",text:"#dc2626"};default:return{bg:"#f1f5f9",text:"#64748b"}}};return n.jsxs("div",{className:"terms-policies-page",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Terms & Policies"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:_,disabled:y,children:[n.jsx(Ca,{size:16}),n.jsx("span",{children:"Add Policy"})]})})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search policies...",className:"search-input",value:r,onChange:F=>a(F.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("select",{className:"filter-select",value:i,onChange:F=>s(F.target.value),disabled:y,children:[n.jsx("option",{value:"",children:"All Categories"}),n.jsx("option",{value:"Order Policy",children:"Order Policy"}),n.jsx("option",{value:"Delivery Policy",children:"Delivery Policy"}),n.jsx("option",{value:"Privacy Policy",children:"Privacy Policy"}),n.jsx("option",{value:"Terms of Service",children:"Terms of Service"}),n.jsx("option",{value:"Refund Policy",children:"Refund Policy"}),n.jsx("option",{value:"Other",children:"Other"})]})})]}),A&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:A}),y?n.jsx("div",{className:"empty-state",children:"Loading..."}):n.jsx("div",{className:"terms-list",children:T.map(F=>{const I=W(F.category);return n.jsxs("div",{className:"terms-item",children:[n.jsxs("div",{className:"terms-header",onClick:()=>M(F._id),children:[n.jsxs("div",{className:"terms-title-section",children:[n.jsx("div",{className:"terms-icon",style:{backgroundColor:I.bg,color:I.text},children:n.jsx(lc,{size:20})}),n.jsxs("div",{className:"terms-info",children:[n.jsx("h3",{className:"terms-title",children:F.title}),n.jsxs("div",{className:"terms-meta",children:[n.jsx("span",{className:"terms-category",style:{backgroundColor:I.bg,color:I.text},children:F.category}),n.jsxs("span",{className:"terms-date",children:["Last updated: ",k(F.updatedAt)]})]})]})]}),n.jsxs("div",{className:"terms-actions",children:[n.jsx("button",{className:"action-btn edit",onClick:R=>{R.stopPropagation(),P(F)},disabled:y,children:n.jsx(kn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:R=>{R.stopPropagation(),L(F)},disabled:y,children:n.jsx($n,{size:14})})]})]}),j===F._id&&n.jsx("div",{className:"terms-content",children:n.jsx("p",{children:F.description})})]},F._id)})}),T.length===0&&!y&&n.jsx("div",{className:"empty-state",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"No policies found. Add a new policy to get started."})}),l&&n.jsx(cae,{term:u,onClose:()=>d(!1),onSave:D}),p&&n.jsx(dae,{term:g,onClose:()=>x(!1),onConfirm:B})]})},Yc="/assets/logo4-BWe_iBAv.jpeg",fae=()=>{const[e,t]=N.useState("admin"),[r,a]=N.useState(""),[i,s]=N.useState(""),[l,d]=N.useState(""),[u,f]=N.useState(!1),[p,x]=N.useState(""),[g,v]=N.useState(!1),j=Zr(),b=async A=>{var E,S;A.preventDefault(),x(""),v(!0);try{if(e==="admin"){const T=await bt.post("https://hotelvirat.com/api/v1/hotel/admin-auth/login",{email:r,password:l}),{token:_}=T.data;localStorage.setItem("authToken",_),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userType","admin"),j("/")}else if(e==="category"){const T=await bt.post("https://hotelvirat.com/api/v1/hotel/category-access/login",{username:i,password:l}),{token:_,user:P}=T.data;localStorage.setItem("authToken",_),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userType","category-staff"),localStorage.setItem("categoryStaffData",JSON.stringify(P)),j("/category-orders")}else if(e==="receptionist"){const T=await bt.post("https://hotelvirat.com/api/v1/hotel/receptionist-access/login",{username:i,password:l}),{token:_,user:P}=T.data;localStorage.setItem("authToken",_),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userType","receptionist"),localStorage.setItem("receptionistData",JSON.stringify(P)),j("/receptionist-dashboard")}}catch(T){x(((S=(E=T.response)==null?void 0:E.data)==null?void 0:S.message)||"An error occurred during login"),v(!1)}},y=()=>{j("/privacy-policy")},C=()=>{j("/terms-conditions")};return n.jsx("div",{className:"login-container-centered",children:n.jsxs("div",{className:"login-card",children:[n.jsxs("div",{className:"login-header",children:[n.jsxs("div",{className:"login-logo",children:[n.jsx("img",{src:Yc,alt:"Hotel Virat Logo",className:"logo-image"}),n.jsx("h1",{children:"Hotel Virat"})]}),n.jsx("p",{children:"Sign in to your account"})]}),n.jsxs("div",{className:"login-type-toggle",style:{display:"flex",marginBottom:"20px",borderRadius:"8px",overflow:"hidden",border:"1px solid #e5e7eb"},children:[n.jsx("button",{type:"button",onClick:()=>{t("admin"),x("")},style:{flex:1,padding:"10px",border:"none",cursor:"pointer",backgroundColor:e==="admin"?"#4f46e5":"#f9fafb",color:e==="admin"?"white":"#374151",fontWeight:"500",transition:"all 0.2s",fontSize:"13px"},children:"Admin"}),n.jsx("button",{type:"button",onClick:()=>{t("category"),x("")},style:{flex:1,padding:"10px",border:"none",cursor:"pointer",backgroundColor:e==="category"?"#4f46e5":"#f9fafb",color:e==="category"?"white":"#374151",fontWeight:"500",transition:"all 0.2s",fontSize:"13px"},children:"Category"}),n.jsx("button",{type:"button",onClick:()=>{t("receptionist"),x("")},style:{flex:1,padding:"10px",border:"none",cursor:"pointer",backgroundColor:e==="receptionist"?"#4f46e5":"#f9fafb",color:e==="receptionist"?"white":"#374151",fontWeight:"500",transition:"all 0.2s",fontSize:"13px"},children:"Receptionist"})]}),p&&n.jsx("div",{className:"login-error",children:p}),n.jsxs("form",{className:"login-form",onSubmit:b,children:[e==="admin"?n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email"}),n.jsxs("div",{className:"input-with-icon",children:[n.jsx("span",{className:"input-icon",children:n.jsx(Mo,{size:16})}),n.jsx("input",{type:"email",id:"email",placeholder:"Enter your email address",value:r,onChange:A=>a(A.target.value),required:!0,style:{paddingLeft:"40px"}})]})]}):n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"username",children:"Username"}),n.jsxs("div",{className:"input-with-icon",children:[n.jsx("span",{className:"input-icon",children:n.jsx(_u,{size:16})}),n.jsx("input",{type:"text",id:"username",placeholder:e==="category"?"Enter category staff username":"Enter receptionist username",value:i,onChange:A=>s(A.target.value),required:!0,style:{paddingLeft:"40px"}})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"input-with-icon",children:[n.jsx("span",{className:"input-icon",children:n.jsx(E7,{size:16})}),n.jsx("input",{type:u?"text":"password",id:"password",placeholder:"Enter your password",value:l,onChange:A=>d(A.target.value),required:!0,style:{paddingLeft:"40px"}}),n.jsx("button",{type:"button",className:"password-toggle",onClick:()=>f(!u),tabIndex:"-1",children:u?n.jsx(rw,{size:18}):n.jsx(Za,{size:18})})]})]}),n.jsx("button",{type:"submit",className:"login-button",disabled:g,children:g?"Signing in...":"Sign In"})]}),n.jsxs("div",{className:"login-footer-links",children:[n.jsx("button",{type:"button",className:"footer-link",onClick:y,children:"Privacy Policy"}),n.jsx("span",{className:"link-separator",children:"|"}),n.jsx("button",{type:"button",className:"footer-link",onClick:C,children:"Terms & Conditions"})]})]})})},hae=({staff:e,onClose:t,onSave:r,isEditMode:a})=>{const[i,s]=N.useState({name:(e==null?void 0:e.name)||"",mobile:(e==null?void 0:e.mobile)||""}),[l,d]=N.useState(null),[u,f]=N.useState(!1),p=g=>{const{name:v,value:j}=g.target;s({...i,[v]:j}),d(null)},x=async g=>{g.preventDefault(),d(null),f(!0);try{await r(i,e==null?void 0:e._id),t()}catch(v){d(v.message||"Failed to save staff user")}finally{f(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:a?"Edit Staff User":"Add New Staff User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:x,children:[n.jsxs("div",{className:"modal-body",children:[l&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626"},children:l}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:p,required:!0,disabled:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"mobile",children:["Mobile ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-input",value:i.mobile,onChange:p,required:!0,pattern:"\\d{10}",title:"Please enter a valid 10-digit mobile number",disabled:u})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":a?"Update Staff User":"Add Staff User"})]})]})]})})},pae=({staff:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error("Error deleting staff:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Staff User"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},mae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,f]=N.useState(!1),[p,x]=N.useState(null),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(!1),A="https://hotelvirat.com/api/v1/hotel/staff-auth",E=async()=>{C(!0),b("");try{const M=await fetch(`${A}/`);if(!M.ok)throw new Error(`HTTP error! status: ${M.status}`);const k=await M.json();Array.isArray(k)?t(k):(console.error("Expected array but got:",k),t([]),b("Invalid data format received from server"))}catch(M){console.error("Fetch error:",M),b(`Failed to fetch staff users: ${M.message}`),t([])}finally{C(!1)}};N.useEffect(()=>{E()},[]);const S=()=>{d(null),s(!0)},T=M=>{d(M),s(!0)},_=M=>{x(M),f(!0)},P=async(M,k)=>{try{const W=k?`${A}/${k}`:`${A}/register`,I=await fetch(W,{method:k?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)}),R=await I.json();if(!I.ok)throw new Error(R.message||"Failed to save staff user");v(`Staff user ${k?"updated":"added"} successfully`),setTimeout(()=>v(""),3e3),await E()}catch(W){throw new Error(W.message)}},L=async M=>{try{const k=await fetch(`${A}/${M}`,{method:"DELETE"}),W=await k.json();if(!k.ok)throw new Error(W.message||"Failed to delete staff user");v("Staff user deleted successfully"),setTimeout(()=>v(""),3e3),await E()}catch(k){b(k.message),setTimeout(()=>b(""),3e3)}},D=M=>{if(!M)return"N/A";const k={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(M).toLocaleDateString(void 0,k)},B=e.filter(M=>M.name.toLowerCase().includes(r.toLowerCase())||M.mobile.includes(r));return n.jsxs("div",{className:"staff-users-page",children:[g&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>v(""),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),j&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),style:{color:"#dc2626"},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Staff Users"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:S,disabled:y,children:[n.jsx(Fc,{size:16}),n.jsx("span",{children:"Add Staff User"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search staff users...",className:"search-input",value:r,onChange:M=>a(M.target.value)})]})}),n.jsx("div",{className:"data-card",children:y?n.jsx("div",{className:"empty-state",children:"Loading staff users..."}):B.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No staff users found. ",r?"Try a different search.":"Add a new staff user to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Mobile"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:B.map(M=>n.jsxs("tr",{children:[n.jsx("td",{children:M._id.slice(-6)}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:M.name.charAt(0).toUpperCase()}),M.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(mi,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),M.mobile]})}),n.jsx("td",{children:D(M.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>T(M),disabled:y,children:n.jsx(kn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>_(M),disabled:y,children:n.jsx($n,{size:14})})]})})]},M._id))})]})}),i&&n.jsx(hae,{staff:l,onClose:()=>s(!1),onSave:P,isEditMode:!!l}),u&&n.jsx(pae,{staff:p,onClose:()=>f(!1),onConfirm:L})]})},xae=({counter:e,onClose:t,onSave:r,isEditMode:a})=>{const[i,s]=N.useState({name:(e==null?void 0:e.name)||"",mobile:(e==null?void 0:e.mobile)||""}),[l,d]=N.useState(null),[u,f]=N.useState(!1),p=g=>{const{name:v,value:j}=g.target;s({...i,[v]:j}),d(null)},x=async g=>{g.preventDefault(),d(null),f(!0);try{await r(i,e==null?void 0:e._id),t()}catch(v){d(v.message||"Failed to save counter user")}finally{f(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:a?"Edit Counter User":"Add New Counter User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:x,children:[n.jsxs("div",{className:"modal-body",children:[l&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626"},children:l}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:p,required:!0,disabled:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"mobile",children:["Mobile ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-input",value:i.mobile,onChange:p,required:!0,pattern:"\\d{10}",title:"Please enter a valid 10-digit mobile number",disabled:u})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":a?"Update Counter User":"Add Counter User"})]})]})]})})},gae=({counter:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error("Error deleting counter:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Counter User"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},yae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,f]=N.useState(!1),[p,x]=N.useState(null),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(!1),A="https://hotelvirat.com/api/v1/hotel/counter-auth",E=async()=>{C(!0),b("");try{const M=await fetch(`${A}/`);if(!M.ok)throw new Error(`HTTP error! status: ${M.status}`);const k=await M.json();Array.isArray(k)?t(k):(console.error("Expected array but got:",k),t([]),b("Invalid data format received from server"))}catch(M){console.error("Fetch error:",M),b(`Failed to fetch counter users: ${M.message}`),t([])}finally{C(!1)}};N.useEffect(()=>{E()},[]);const S=()=>{d(null),s(!0)},T=M=>{d(M),s(!0)},_=M=>{x(M),f(!0)},P=async(M,k)=>{try{const W=k?`${A}/${k}`:`${A}/register`,I=await fetch(W,{method:k?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)}),R=await I.json();if(!I.ok)throw new Error(R.message||"Failed to save counter user");v(`Counter user ${k?"updated":"added"} successfully`),setTimeout(()=>v(""),3e3),await E()}catch(W){throw new Error(W.message)}},L=async M=>{try{const k=await fetch(`${A}/${M}`,{method:"DELETE"}),W=await k.json();if(!k.ok)throw new Error(W.message||"Failed to delete counter user");v("Counter user deleted successfully"),setTimeout(()=>v(""),3e3),await E()}catch(k){b(k.message),setTimeout(()=>b(""),3e3)}},D=M=>{if(!M)return"N/A";const k={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(M).toLocaleDateString(void 0,k)},B=e.filter(M=>M.name.toLowerCase().includes(r.toLowerCase())||M.mobile.includes(r));return n.jsxs("div",{className:"counter-users-page",children:[g&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>v(""),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),j&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),style:{color:"#dc2626"},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Counter Users"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:S,disabled:y,children:[n.jsx(Fc,{size:16}),n.jsx("span",{children:"Add Counter User"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search counter users...",className:"search-input",value:r,onChange:M=>a(M.target.value)})]})}),n.jsx("div",{className:"data-card",children:y?n.jsx("div",{className:"empty-state",children:"Loading counter users..."}):B.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No counter users found."," ",r?"Try a different search.":"Add a new counter user to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Mobile"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:B.map(M=>n.jsxs("tr",{children:[n.jsx("td",{children:M._id.slice(-6)}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:M.name.charAt(0).toUpperCase()}),M.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(mi,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),M.mobile]})}),n.jsx("td",{children:D(M.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>T(M),disabled:y,children:n.jsx(kn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>_(M),disabled:y,children:n.jsx($n,{size:14})})]})})]},M._id))})]})}),i&&n.jsx(xae,{counter:l,onClose:()=>s(!1),onSave:P,isEditMode:!!l}),u&&n.jsx(gae,{counter:p,onClose:()=>f(!1),onConfirm:L})]})},vo=bt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),vae=()=>{var Se,Ne,je,Qe,rt,ht,lr,yr;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState([]),[p,x]=N.useState([]),[g,v]=N.useState(!0),[j,b]=N.useState(""),[y,C]=N.useState(!1),[A,E]=N.useState(!1),[S,T]=N.useState(null),[_,P]=N.useState({status:"",paymentStatus:"",paymentMethod:""}),[L,D]=N.useState(""),[B,M]=N.useState(!1),[k,W]=N.useState(""),[F,I]=N.useState("all"),[R,X]=N.useState("all"),[ne,ge]=N.useState("all"),[q,ee]=N.useState("all"),[z,U]=N.useState(1),[V,te]=N.useState(1),[se,Z]=N.useState(null),K=7;N.useEffect(()=>{Y(),ce(),xe()},[F,R,ne,q]),N.useEffect(()=>{const _e=setInterval(()=>{xe()},3e4);return()=>clearInterval(_e)},[F,R,ne,q]);const Y=async()=>{try{const _e=await vo.get("/branch");d(_e.data)}catch(_e){console.error("Error fetching branches:",_e),b("Failed to load branches. Some filter options may not be available.")}},ce=async()=>{try{const _e=await vo.get("/staff-order/available-statuses");if(console.log("Available statuses API response:",_e.data),_e.data.success){const it=_e.data.orderStatuses||[],Ee=_e.data.paymentStatuses||[];console.log("Setting order statuses:",it),console.log("Setting payment statuses:",Ee),f(it),x(Ee)}}catch(_e){console.error("Error fetching available statuses:",_e),f(["pending","preparing","served","completed","cancelled"]),x(["pending","completed","failed","refunded"])}},xe=async()=>{v(!0),b(""),t([]),s([]),a([]);try{const _e={};F!=="all"&&(_e.status=F),R!=="all"&&(_e.branchId=R),ne!=="all"&&(_e.paymentStatus=ne),q!=="all"&&(_e.orderType=q),k.trim()&&(_e.search=k.trim());const it={..._e,_t:Date.now()},Ee=await vo.get("/staff-order",{params:it});if(!Ee.data.orders||!Array.isArray(Ee.data.orders))throw new Error("Invalid response format: orders array missing");const lt=Ee.data.orders.map((Xe,vt)=>{var Qt,vr,en,pn,Sn;return{id:Xe._id||`temp-id-${vt}`,orderId:Xe.orderId||`UNKNOWN-${vt}`,customer:Xe.isGuestOrder?Xe.customerName:((Qt=Xe.userId)==null?void 0:Qt.name)||"Unknown Staff",customerType:Xe.isGuestOrder?"Guest":"Staff",customerMobile:Xe.isGuestOrder?Xe.customerMobile:((vr=Xe.userId)==null?void 0:vr.mobile)||"N/A",date:new Date(Xe.orderTime||Xe.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),branch:Xe.branchName||"Unknown Branch",branchId:((en=Xe.branchId)==null?void 0:en._id)||null,tableNumber:Xe.tableNumber||"N/A",peopleCount:Xe.peopleCount||0,items:((pn=Xe.items)==null?void 0:pn.length)||0,amount:`${((Sn=Xe.grandTotal)==null?void 0:Sn.toFixed(2))||"0.00"}`,status:Xe.status||"pending",paymentMethod:Xe.paymentMethod||"cash",paymentStatus:Xe.paymentStatus||"pending",subtotal:Xe.subtotal||0,tax:Xe.tax||0,serviceCharge:Xe.serviceCharge||0,grandTotal:Xe.grandTotal||0,originalOrder:Xe,isGuestOrder:Xe.isGuestOrder||!1}}).filter(Xe=>Xe.id);t(lt),Z(new Date)}catch(_e){console.error("Error fetching orders:",_e),b("Failed to load orders. Please refresh the page and try again.")}finally{v(!1)}};N.useEffect(()=>{const _e=e.filter(it=>{if(!k.trim())return!0;const Ee=it.orderId||"",lt=it.tableNumber||"",Xe=it.customer||"",vt=it.customerMobile||"",Qt=k.trim().toLowerCase();return Ee.toLowerCase().includes(Qt)||lt.toLowerCase().includes(Qt)||Xe.toLowerCase().includes(Qt)||vt.toLowerCase().includes(Qt)});s(_e),te(Math.ceil(_e.length/K)),U(1)},[e,k]),N.useEffect(()=>{const _e=(z-1)*K,it=_e+K,Ee=i.slice(_e,it);a(Ee)},[i,z]);const pe=_e=>{console.log("Admin Panel: Opening view modal for order:",_e),console.log("Admin Panel: Order status:",_e.status),console.log("Admin Panel: Order payment status:",_e.paymentStatus),T(_e),C(!0)},Ce=_e=>{T(_e),P({status:_e.status,paymentStatus:_e.paymentStatus,paymentMethod:_e.paymentMethod}),E(!0)},ve=_e=>{const{name:it,value:Ee}=_e.target;P({..._,[it]:Ee})},Le=async(_e,it)=>{var Ee,lt;M(!0);try{console.log(`Admin Panel: Quick updating order status to: ${it}`);const Xe=await vo.put(`/staff-order/${_e}/status`,{status:it});if(console.log("Admin Panel: Quick status update response:",Xe.data),Xe.data.success)console.log("Admin Panel: Status updated successfully, refreshing orders..."),await xe(),T({...S,status:it}),D(`Order ${S.orderId} status updated: ${S.status}  ${it}`),setTimeout(()=>{D("")},3e3);else throw new Error(Xe.data.message||"Update failed")}catch(Xe){console.error("Error updating order status:",Xe);const vt=((lt=(Ee=Xe.response)==null?void 0:Ee.data)==null?void 0:lt.message)||Xe.message||"Failed to update order status";alert(`Update failed: ${vt}. Please try again.`)}finally{M(!1)}},le=async(_e,it)=>{var Ee,lt;M(!0);try{console.log(`Admin Panel: Quick updating payment status to: ${it}`);const Xe=await vo.put(`/staff-order/${_e}/status`,{paymentStatus:it});if(console.log("Admin Panel: Quick payment update response:",Xe.data),Xe.data.success)console.log("Admin Panel: Payment status updated successfully, refreshing orders..."),await xe(),T({...S,paymentStatus:it}),D(`Order ${S.orderId} payment status updated: ${S.paymentStatus}  ${it}`),setTimeout(()=>{D("")},3e3);else throw new Error(Xe.data.message||"Update failed")}catch(Xe){console.error("Error updating payment status:",Xe);const vt=((lt=(Ee=Xe.response)==null?void 0:Ee.data)==null?void 0:lt.message)||Xe.message||"Failed to update payment status";alert(`Update failed: ${vt}. Please try again.`)}finally{M(!1)}},Ae=async()=>{var _e,it;M(!0);try{if(console.log(`Admin Panel: Updating payment method for order ${S.orderId}`),console.log(`Admin Panel: Current Payment Method: ${S.paymentMethod}`),console.log(`Admin Panel: New Payment Method: ${_.paymentMethod}`),_.paymentMethod===S.paymentMethod){alert("No changes detected. Payment method is already set to this value."),M(!1);return}const Ee=await vo.put(`/staff-order/${S.id}/status`,{paymentMethod:_.paymentMethod});if(console.log("Admin Panel: Payment method update API response:",Ee.data),Ee.data.success)console.log("Admin Panel: Payment method updated successfully, refreshing orders..."),await xe(),E(!1),D(`Order ${S.orderId} payment method updated: ${S.paymentMethod}  ${_.paymentMethod}`),setTimeout(()=>{D("")},5e3);else throw new Error(Ee.data.message||"Update failed")}catch(Ee){console.error("Error updating order:",Ee);const lt=((it=(_e=Ee.response)==null?void 0:_e.data)==null?void 0:it.message)||Ee.message||"Failed to update order";alert(`Update failed: ${lt}. Please try again.`)}finally{M(!1)}},qe=()=>{C(!1),T(null)},me=()=>{E(!1),T(null)},ae=(_e,it)=>{_e==="status"?I(it):_e==="branch"?X(it):_e==="paymentStatus"?ge(it):_e==="orderType"&&ee(it),U(1)},re=_e=>{switch(_e==null?void 0:_e.toLowerCase()){case"card":return n.jsx(Xr,{size:16});case"upi":return n.jsx(qi,{size:16});case"cash":default:return n.jsx(qi,{size:16})}},be=_e=>{switch(_e==null?void 0:_e.toLowerCase()){case"completed":return"completed";case"pending":return"pending";case"failed":return"cancelled";case"refunded":return"preparing";default:return"pending"}},H=()=>{let _e=`Order ID,Customer,Customer Type,Mobile,Date,Branch,Table,People,Items,Amount,Payment Method,Payment Status,Order Status
`;i.forEach(Xe=>{_e+=`${Xe.orderId},"${Xe.customer}",${Xe.customerType},"${Xe.customerMobile}","${Xe.date}","${Xe.branch}",${Xe.tableNumber},${Xe.peopleCount},${Xe.items},${Xe.amount},${Xe.paymentMethod},${Xe.paymentStatus},${Xe.status}
`});const it=new Blob([_e],{type:"text/csv"}),Ee=window.URL.createObjectURL(it),lt=document.createElement("a");lt.setAttribute("hidden",""),lt.setAttribute("href",Ee),lt.setAttribute("download",`all-orders-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(lt),lt.click(),document.body.removeChild(lt)},de=_e=>{var lt,Xe,vt,Qt,vr,en,pn,Sn;const it=window.open("","_blank","width=302,height=600"),Ee=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Order ${_e.orderId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            max-width: 80mm;
            padding: 5mm;
            font-size: 12px;
            line-height: 1.4;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .hotel-name { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .branch-name { font-size: 12px; margin-bottom: 3px; }
          .order-info { margin-bottom: 10px; }
          .order-id { font-size: 14px; font-weight: bold; text-align: center; margin: 8px 0; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .info-label { font-weight: bold; }
          .divider { border-top: 1px dashed #000; margin: 8px 0; }
          .items-header { font-weight: bold; margin-bottom: 5px; }
          .item-row { margin-bottom: 5px; }
          .item-name { font-weight: bold; }
          .item-details { display: flex; justify-content: space-between; font-size: 11px; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .grand-total { font-size: 14px; font-weight: bold; border-top: 1px dashed #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 11px; border-top: 1px dashed #000; padding-top: 10px; }
          .thank-you { font-weight: bold; margin-bottom: 5px; }
          @media print { 
            body { width: 80mm; }
            @page { size: 80mm auto; margin: 0; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">HOTEL VIRAT</div>
          <div class="branch-name">${_e.branch}</div>
        </div>
        
        <div class="order-id">Order #${_e.orderId}</div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">Date:</span>
            <span>${_e.date}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Table:</span>
            <span>${_e.tableNumber}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Guests:</span>
            <span>${_e.peopleCount}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Customer:</span>
            <span>${_e.customer}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Type:</span>
            <span>${_e.customerType}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Mobile:</span>
            <span>${_e.customerMobile}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="items-section">
          <div class="items-header">ITEMS</div>
          ${((Xe=(lt=_e.originalOrder)==null?void 0:lt.items)==null?void 0:Xe.map(ti=>`
            <div class="item-row">
              <div class="item-name">${ti.name}</div>
              <div class="item-details">
                <span>${ti.quantity} x ${ti.price.toFixed(2)}</span>
                <span>${(ti.price*ti.quantity).toFixed(2)}</span>
              </div>
            </div>
          `).join(""))||"<div>No items</div>"}
        </div>
        
        <div class="divider"></div>
        
        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>${((vt=_e.subtotal)==null?void 0:vt.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Tax (5%):</span>
            <span>${((Qt=_e.tax)==null?void 0:Qt.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Service (10%):</span>
            <span>${((vr=_e.serviceCharge)==null?void 0:vr.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row grand-total">
            <span>TOTAL:</span>
            <span>${((en=_e.grandTotal)==null?void 0:en.toFixed(2))||"0.00"}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">Payment:</span>
            <span>${((pn=_e.paymentMethod)==null?void 0:pn.toUpperCase())||"CASH"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Status:</span>
            <span>${((Sn=_e.paymentStatus)==null?void 0:Sn.toUpperCase())||"PENDING"}</span>
          </div>
        </div>
        
        <div class="footer">
          <div class="thank-you">Thank You!</div>
          <div>Visit Again</div>
          <div style="margin-top: 5px; font-size: 10px;">${new Date().toLocaleString("en-IN")}</div>
        </div>
      </body>
      </html>
    `;it.document.write(Ee),it.document.close(),it.focus(),setTimeout(()=>{it.print()},300)};return n.jsxs("div",{className:"orders-page",children:[L&&n.jsxs("div",{className:"success-message",children:[n.jsx(fn,{size:16}),n.jsx("span",{children:L}),n.jsx("button",{onClick:()=>D(""),children:n.jsx(Un,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsxs("div",{className:"header-title-section",children:[n.jsx("h1",{children:"All Orders (Staff & Guest)"}),se&&n.jsxs("p",{className:"last-updated",children:["Last updated: ",se.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})," | Total orders: ",e.length," | API: Local (",vo.defaults.baseURL,")",n.jsx("br",{}),n.jsxs("small",{children:["Available Order Statuses: ",u.join(", ")," | Payment Statuses: ",p.join(", ")]})]})]}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-outline",onClick:xe,disabled:g,children:[g?n.jsx(Mn,{size:16,className:"animate-spin"}):n.jsx(Mt,{size:16}),n.jsx("span",{children:g?"Refreshing...":"Refresh Data"})]}),n.jsxs("button",{className:"btn btn-primary",onClick:()=>{t([]),s([]),a([]),xe()},disabled:g,children:[n.jsx(Dt,{size:16}),n.jsx("span",{children:"Force Refresh"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:H,children:[n.jsx(On,{size:16}),n.jsx("span",{children:"Export"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by order ID, table, customer name, or mobile...",className:"search-input",value:k,onChange:_e=>W(_e.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select",value:q,onChange:_e=>ae("orderType",_e.target.value),children:[n.jsx("option",{value:"all",children:"All Orders"}),n.jsx("option",{value:"staff",children:"Staff Orders"}),n.jsx("option",{value:"guest",children:"Guest Orders"})]}),n.jsxs("select",{className:"filter-select",value:F,onChange:_e=>ae("status",_e.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),u.map(_e=>n.jsx("option",{value:_e,children:_e.charAt(0).toUpperCase()+_e.slice(1)},_e))]}),n.jsxs("select",{className:"filter-select",value:ne,onChange:_e=>ae("paymentStatus",_e.target.value),children:[n.jsx("option",{value:"all",children:"All Payment Status"}),p.map(_e=>n.jsx("option",{value:_e,children:_e.charAt(0).toUpperCase()+_e.slice(1)},_e))]}),n.jsxs("select",{className:"filter-select",value:R,onChange:_e=>ae("branch",_e.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(_e=>n.jsx("option",{value:_e._id,children:_e.name},_e._id))]})]})]}),j&&n.jsxs("div",{className:"error-container",children:[n.jsx(Dt,{size:18}),n.jsx("span",{children:j})]}),n.jsx("div",{className:"data-card",children:g?n.jsxs("div",{className:"loading-container",children:[n.jsx(Mn,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading orders..."})]}):n.jsx("div",{className:"table-container",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Order Status"}),n.jsx("th",{children:"Payment Status"}),n.jsx("th",{children:"Order By"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Mobile"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Table"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(_e=>n.jsxs("tr",{children:[n.jsx("td",{"data-label":"Order ID",children:_e.orderId}),n.jsx("td",{"data-label":"Order Status",children:n.jsx("div",{style:{display:"inline-block",padding:"6px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"600",textAlign:"center",minWidth:"80px",backgroundColor:_e.status==="completed"?"#d1fae5":_e.status==="preparing"?"#dbeafe":_e.status==="served"?"#e0e7ff":_e.status==="cancelled"?"#fee2e2":"#fef3c7",color:_e.status==="completed"?"#065f46":_e.status==="preparing"?"#1e40af":_e.status==="served"?"#5b21b6":_e.status==="cancelled"?"#991b1b":"#92400e",border:"1px solid "+(_e.status==="completed"?"#10b981":_e.status==="preparing"?"#3b82f6":_e.status==="served"?"#8b5cf6":_e.status==="cancelled"?"#ef4444":"#f59e0b")},children:_e.status?_e.status.charAt(0).toUpperCase()+_e.status.slice(1):"Pending"})}),n.jsx("td",{"data-label":"Payment Status",children:n.jsx("div",{style:{display:"inline-block",padding:"6px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"600",textAlign:"center",minWidth:"80px",backgroundColor:_e.paymentStatus==="completed"?"#d1fae5":_e.paymentStatus==="failed"?"#fee2e2":_e.paymentStatus==="refunded"?"#e0e7ff":"#fef3c7",color:_e.paymentStatus==="completed"?"#065f46":_e.paymentStatus==="failed"?"#991b1b":_e.paymentStatus==="refunded"?"#5b21b6":"#92400e",border:"1px solid "+(_e.paymentStatus==="completed"?"#10b981":_e.paymentStatus==="failed"?"#ef4444":_e.paymentStatus==="refunded"?"#8b5cf6":"#f59e0b")},children:_e.paymentStatus?_e.paymentStatus.charAt(0).toUpperCase()+_e.paymentStatus.slice(1):"Pending"})}),n.jsx("td",{"data-label":"Customer",children:_e.customer}),n.jsx("td",{"data-label":"Type",children:n.jsx("span",{className:`customer-type-badge ${_e.isGuestOrder?"guest":"staff"}`,children:_e.customerType})}),n.jsx("td",{"data-label":"Mobile",children:_e.customerMobile}),n.jsx("td",{"data-label":"Date",children:_e.date}),n.jsx("td",{"data-label":"Branch",children:_e.branch}),n.jsx("td",{"data-label":"Table",children:_e.tableNumber}),n.jsx("td",{"data-label":"Amount",children:_e.amount}),n.jsx("td",{"data-label":"Actions",children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>pe(_e),children:"View"}),n.jsx("button",{className:"action-btn edit",onClick:()=>Ce(_e),children:"Edit"}),n.jsx("button",{className:"action-btn print",onClick:()=>de(_e),children:"Print"})]})})]},_e.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"11",className:"no-orders",children:"No orders found matching your criteria"})})})]})})}),V>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>U(_e=>Math.max(_e-1,1)),disabled:z===1||g,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,V)},(_e,it)=>{let Ee;return V<=5||z<=3?Ee=it+1:z>=V-2?Ee=V-4+it:Ee=z-2+it,n.jsx("button",{className:`pagination-page ${z===Ee?"active":""}`,onClick:()=>U(Ee),disabled:g,children:Ee},Ee)}),V>5&&z<V-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),V>5&&z<V-2&&n.jsx("button",{className:`pagination-page ${z===V?"active":""}`,onClick:()=>U(V),disabled:g,children:V})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>U(_e=>Math.min(_e+1,V)),disabled:z===V||g,children:"Next"})]}),y&&S&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:[S.isGuestOrder?"Guest":"Staff"," Order Details ",S.orderId]}),n.jsx("button",{className:"modal-close",onClick:qe,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Order By"}),n.jsxs("div",{className:"order-detail-value",children:[S.customer,n.jsx("span",{className:`customer-type-badge ${S.isGuestOrder?"guest":"staff"}`,style:{marginLeft:"8px"},children:S.customerType})]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Mobile Number"}),n.jsx("div",{className:"order-detail-value",children:S.customerMobile})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Date"}),n.jsx("div",{className:"order-detail-value",children:S.date})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:S.branch})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table Number"}),n.jsx("div",{className:"order-detail-value",children:S.tableNumber})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Number of People"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{className:"people-count",children:[n.jsx(Bi,{size:16}),S.peopleCount]})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Order Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:`status-badge ${S.status||"pending"}`,children:S.status?S.status.charAt(0).toUpperCase()+S.status.slice(1):"Pending"})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Method"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{className:"payment-method-display",children:[re(S.paymentMethod),n.jsx("span",{children:S.paymentMethod?S.paymentMethod.charAt(0).toUpperCase()+S.paymentMethod.slice(1):"Cash"})]})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:`status-badge ${be(S.paymentStatus)}`,children:S.paymentStatus?S.paymentStatus.charAt(0).toUpperCase()+S.paymentStatus.slice(1):"Pending"})})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Price Details"}),n.jsx("div",{className:"order-items-table",children:n.jsx("table",{className:"data-table",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Subtotal"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Se=S.subtotal)==null?void 0:Se.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Tax (5%)"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Ne=S.tax)==null?void 0:Ne.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Service Charge (10%)"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((je=S.serviceCharge)==null?void 0:je.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{style:{fontWeight:"bold"},children:[n.jsx("td",{children:"Total Amount"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Qe=S.grandTotal)==null?void 0:Qe.toFixed(2))||"0.00"]})]})]})})})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((ht=(rt=S.originalOrder)==null?void 0:rt.items)==null?void 0:ht.length)>0?S.originalOrder.items.map((_e,it)=>n.jsxs("tr",{children:[n.jsx("td",{children:_e.name}),n.jsx("td",{children:_e.quantity}),n.jsxs("td",{children:["",_e.price.toFixed(2)]}),n.jsxs("td",{children:["",(_e.price*_e.quantity).toFixed(2)]})]},it)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:qe,children:"Close"}),n.jsxs("button",{className:"btn btn-print",onClick:()=>de(S),children:[n.jsx(Hs,{size:16}),"Print"]}),n.jsx("button",{className:"btn btn-primary",onClick:()=>{qe(),Ce(S)},children:"Edit Order"})]})]})}),A&&S&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Edit ",S.isGuestOrder?"Guest":"Staff"," Order ",S.orderId]}),n.jsx("button",{className:"modal-close",onClick:me,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Order By"}),n.jsx("input",{type:"text",value:S.customer,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Customer Type"}),n.jsx("input",{type:"text",value:S.customerType,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Mobile Number"}),n.jsx("input",{type:"text",value:S.customerMobile,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch"}),n.jsx("input",{type:"text",value:S.branch,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Number"}),n.jsx("input",{type:"text",value:S.tableNumber,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Order Status"}),n.jsx("div",{className:"current-status-display",children:n.jsxs("span",{className:`status-badge ${(S==null?void 0:S.status)||"pending"}`,children:["Current: ",S!=null&&S.status?S.status.charAt(0).toUpperCase()+S.status.slice(1):"Pending"]})}),S.status!=="completed"&&S.status!=="cancelled"&&n.jsxs("div",{className:"status-progression-buttons",children:[S.status==="pending"&&n.jsx("button",{type:"button",className:"progression-btn preparing",onClick:()=>Le(S.id,"preparing"),disabled:B,children:"Mark as Preparing"}),S.status==="preparing"&&n.jsx("button",{type:"button",className:"progression-btn served",onClick:()=>Le(S.id,"served"),disabled:B,children:"Mark as Served"}),S.status==="served"&&n.jsx("button",{type:"button",className:"progression-btn completed",onClick:()=>Le(S.id,"completed"),disabled:B,children:"Mark as Completed"}),(S.status==="pending"||S.status==="preparing")&&n.jsx("button",{type:"button",className:"progression-btn cancelled",onClick:()=>Le(S.id,"cancelled"),disabled:B,children:"Cancel Order"})]}),(S.status==="completed"||S.status==="cancelled")&&n.jsx("div",{className:"status-final-message",children:n.jsxs("p",{children:["Order is ",S.status,". No further status changes allowed."]})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Payment Status"}),n.jsx("div",{className:"current-status-display",children:n.jsxs("span",{className:`status-badge ${be(S==null?void 0:S.paymentStatus)}`,children:["Current: ",S!=null&&S.paymentStatus?S.paymentStatus.charAt(0).toUpperCase()+S.paymentStatus.slice(1):"Pending"]})}),S.paymentStatus!=="completed"&&S.paymentStatus!=="refunded"&&n.jsxs("div",{className:"status-progression-buttons",children:[S.paymentStatus==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",className:"progression-btn completed",onClick:()=>le(S.id,"completed"),disabled:B,children:"Mark as Paid"}),n.jsx("button",{type:"button",className:"progression-btn failed",onClick:()=>le(S.id,"failed"),disabled:B,children:"Mark as Failed"})]}),S.paymentStatus==="failed"&&n.jsx("button",{type:"button",className:"progression-btn completed",onClick:()=>le(S.id,"completed"),disabled:B,children:"Mark as Paid"})]}),(S.paymentStatus==="completed"||S.paymentStatus==="paid")&&n.jsx("div",{className:"status-progression-buttons",children:n.jsx("button",{type:"button",className:"progression-btn refunded",onClick:()=>le(S.id,"refunded"),disabled:B,children:"Mark as Refunded"})}),S.paymentStatus==="refunded"&&n.jsx("div",{className:"status-final-message",children:n.jsx("p",{children:"Payment has been refunded. No further payment changes allowed."})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Payment Method"}),n.jsxs("select",{name:"paymentMethod",value:_.paymentMethod,onChange:ve,className:"form-select",children:[n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"card",children:"Card"}),n.jsx("option",{value:"upi",children:"UPI"}),n.jsx("option",{value:"netbanking",children:"Net Banking"}),n.jsx("option",{value:"wallet",children:"Wallet"})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h4",{children:"Order Items"}),n.jsxs("div",{className:"alert-message",children:[n.jsx(Dt,{size:16}),n.jsx("span",{children:"Use buttons above to update order and payment status progressively"})]})]}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((yr=(lr=S.originalOrder)==null?void 0:lr.items)==null?void 0:yr.length)>0?S.originalOrder.items.map((_e,it)=>n.jsxs("tr",{children:[n.jsx("td",{children:_e.name}),n.jsx("td",{children:_e.quantity}),n.jsxs("td",{children:["",_e.price.toFixed(2)]}),n.jsxs("td",{children:["",(_e.price*_e.quantity).toFixed(2)]})]},it)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:me,disabled:B,children:"Close"}),n.jsx("button",{className:"btn btn-primary",onClick:Ae,disabled:B,children:B?n.jsxs(n.Fragment,{children:[n.jsx(Mn,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Updating..."})]}):"Update Payment Method"})]})]})}),n.jsx("style",{jsx:!0,children:`
        /* Base Styles */
        .orders-page {
          padding: 20px;
          max-width: 100%;
          margin: 0 auto;
          background: #f8fafc;
          min-height: 100vh;
        }

        /* Success Message */
        .success-message {
          position: fixed;
          top: 20px;
          right: 20px;
          background: #10b981;
          color: white;
          padding: 12px 16px;
          border-radius: 8px;
          display: flex;
          align-items: center;
          gap: 8px;
          z-index: 1000;
          box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }

        .success-message button {
          background: none;
          border: none;
          color: white;
          cursor: pointer;
          padding: 4px;
          border-radius: 4px;
        }

        .success-message button:hover {
          background: rgba(255, 255, 255, 0.2);
        }

        /* Page Header */
        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 24px;
          flex-wrap: wrap;
          gap: 16px;
        }

        .header-title-section h1 {
          font-size: 28px;
          font-weight: 700;
          color: #1f2937;
          margin: 0;
        }

        .last-updated {
          font-size: 12px;
          color: #6b7280;
          margin: 4px 0 0 0;
          font-style: italic;
        }

        .header-actions {
          display: flex;
          gap: 12px;
        }

        .btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 16px;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
          border: none;
        }

        .btn-outline {
          background: white;
          color: #374151;
          border: 1px solid #d1d5db;
        }

        .btn-outline:hover {
          background: #f9fafb;
          border-color: #9ca3af;
        }

        .btn-primary {
          background: #d97706;
          color: white;
        }

        .btn-primary:hover {
          background: #d97706;
        }

        .btn-primary:disabled {
          background: #9ca3af;
          cursor: not-allowed;
        }

        .btn-print {
          background: #059669;
          color: white;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .btn-print:hover {
          background: #047857;
        }

        /* Filters Bar */
        .filters-bar {
          background: white;
          padding: 20px;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          margin-bottom: 24px;
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .search-container {
          position: relative;
          flex: 1;
          min-width: 300px;
        }

        .search-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
          pointer-events: none;
        }

        .search-input {
          width: 100%;
          padding: 12px 12px 12px 40px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          outline: none;
          background: white;
        }

        .search-input:focus {
          border-color: #d97706;
          box-shadow: 0 0 0 3px rgba(221, 124, 2, 0.1);
        }

        .filter-buttons {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
        }

        .filter-select {
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          background: white;
          min-width: 150px;
          outline: none;
          cursor: pointer;
        }

        .filter-select:focus {
          border-color: #d97706;
          box-shadow: 0 0 0 3px rgba(221, 124, 2, 0.1);
        }

        /* Error Container */
        .error-container {
          margin: 20px 0;
          padding: 12px 16px;
          background: #fee2e2;
          color: #dc2626;
          border-radius: 8px;
          display: flex;
          align-items: center;
          gap: 8px;
          border: 1px solid #fecaca;
        }



        /* Data Card */
        .data-card {
          background: white;
          border-radius: 12px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          overflow: hidden;
          margin-bottom: 24px;
        }

        /* Loading Container */
        .loading-container {
          text-align: center;
          padding: 60px 20px;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 16px;
          color: #6b7280;
        }

        /* Table Container with Horizontal Scroll */
        .table-container {
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
        }

        /* Data Table */
        .data-table {
          width: 100%;
          border-collapse: collapse;
          min-width: 1000px; /* Reduced width to make status columns more visible */
        }

        .data-table th,
        .data-table td {
          padding: 12px 16px;
          text-align: left;
          border-bottom: 1px solid #e5e7eb;
          white-space: nowrap;
        }

        /* Priority columns - Status columns should be more visible */
        .data-table th:nth-child(2),
        .data-table th:nth-child(3),
        .data-table td:nth-child(2),
        .data-table td:nth-child(3) {
          background: #f8fafc;
          font-weight: 600;
          min-width: 120px;
        }

        .data-table th {
          background: #f9fafb;
          font-weight: 600;
          color: #374151;
          font-size: 14px;
          position: sticky;
          top: 0;
          z-index: 10;
        }

        .data-table td {
          font-size: 14px;
          color: #6b7280;
        }

        .data-table tr:hover {
          background: #f9fafb;
        }

        .no-orders {
          text-align: center;
          padding: 40px 20px;
          color: #9ca3af;
          font-style: italic;
        }

        /* Customer Type Badge */
        .customer-type-badge {
          display: inline-block;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 500;
          text-transform: uppercase;
        }

        .customer-type-badge.staff {
          background: rgba(59, 130, 246, 0.1);
          color: #3b82f6;
        }

        .customer-type-badge.guest {
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
        }

        /* People Count */
        .people-count {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        /* Status Badges */
        .status-badge {
          display: inline-block !important;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 500;
          text-transform: capitalize;
          min-width: 60px;
          text-align: center;
          border: 1px solid transparent;
        }

        .status-badge.pending {
          background: #fef3c7 !important;
          color: #92400e !important;
          border: 1px solid #f59e0b !important;
        }

        .status-badge.preparing {
          background: #dbeafe !important;
          color: #1e40af !important;
          border: 1px solid #3b82f6 !important;
        }

        .status-badge.served {
          background: #e0e7ff !important;
          color: #5b21b6 !important;
          border: 1px solid #8b5cf6 !important;
        }

        .status-badge.completed {
          background: #d1fae5 !important;
          color: #065f46 !important;
          border: 1px solid #10b981 !important;
        }

        .status-badge.cancelled {
          background: #fee2e2 !important;
          color: #991b1b !important;
          border: 1px solid #ef4444 !important;
        }

        /* Fallback for any status badge without specific class */
        .status-badge:not(.pending):not(.preparing):not(.served):not(.completed):not(.cancelled) {
          background: rgba(156, 163, 175, 0.2) !important;
          color: #374151 !important;
          border-color: #9ca3af;
        }

        /* Action Buttons */
        .action-buttons {
          display: flex;
          gap: 8px;
        }

        .action-btn {
          padding: 6px 12px;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
          cursor: pointer;
          border: none;
          transition: all 0.2s ease;
        }

        .action-btn.view {
          background: rgba(59, 130, 246, 0.1);
          color: #2563eb;
        }

        .action-btn.view:hover {
          background: rgba(59, 130, 246, 0.2);
        }

        .action-btn.edit {
          background: rgba(16, 185, 129, 0.1);
          color: #059669;
        }

        .action-btn.edit:hover {
          background: rgba(16, 185, 129, 0.2);
        }

        .action-btn.print {
          background: rgba(139, 92, 246, 0.1);
          color: #7c3aed;
        }

        .action-btn.print:hover {
          background: rgba(139, 92, 246, 0.2);
        }

        /* Pagination */
        .pagination {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 8px;
          margin-top: 24px;
          flex-wrap: wrap;
        }

        .pagination-btn {
          padding: 8px 16px;
          border: 1px solid #d1d5db;
          background: white;
          color: #374151;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: all 0.2s ease;
        }

        .pagination-btn:hover:not(:disabled) {
          background: #f9fafb;
          border-color: #9ca3af;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-pages {
          display: flex;
          gap: 4px;
          align-items: center;
        }

        .pagination-page {
          width: 36px;
          height: 36px;
          border: 1px solid #d1d5db;
          background: white;
          color: #374151;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
        }

        .pagination-page:hover:not(:disabled) {
          background: #d97706;
          border-color: #d97706;
        }

        .pagination-page.active {
          background: #d97706;
          color: white;
          border-color: #d97706;
        }

        .pagination-page:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-ellipsis {
          padding: 0 8px;
          color: #9ca3af;
        }

        /* Modal Styles */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .modal {
          background: white;
          border-radius: 12px;
          max-width: 600px;
          width: 100%;
          max-height: 90vh;
          display: flex;
          flex-direction: column;
          box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px;
          border-bottom: 1px solid #e5e7eb;
        }

        .modal-title {
          font-size: 18px;
          font-weight: 600;
          color: #1f2937;
          margin: 0;
        }

        .modal-close {
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #6b7280;
          padding: 4px;
          border-radius: 4px;
          line-height: 1;
        }

        .modal-close:hover {
          color: #374151;
          background: #f3f4f6;
        }

        .modal-body {
          flex: 1;
          overflow-y: auto;
          padding: 24px;
        }

        .modal-footer {
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          padding: 24px;
          border-top: 1px solid #e5e7eb;
        }

        /* Order Details */
        .order-details {
          margin-bottom: 24px;
        }

        .order-detail-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 0;
          border-bottom: 1px solid #f3f4f6;
        }

        .order-detail-row:last-child {
          border-bottom: none;
        }

        .order-detail-label {
          font-weight: 500;
          color: #374151;
          min-width: 140px;
        }

        .order-detail-value {
          color: #6b7280;
          text-align: right;
          flex: 1;
        }

        .payment-method-display {
          display: flex;
          align-items: center;
          gap: 8px;
          justify-content: flex-end;
        }

        /* Order Items Section */
        .order-items-section {
          margin-bottom: 24px;
        }

        .order-items-section h4 {
          font-size: 16px;
          font-weight: 600;
          color: #1f2937;
          margin-bottom: 16px;
        }

        .order-items-table {
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          overflow: hidden;
        }

        .order-items-table .data-table {
          min-width: auto;
        }

        .order-items-table .data-table th,
        .order-items-table .data-table td {
          padding: 8px 12px;
        }

        /* Form Styles */
        .form-group {
          margin-bottom: 16px;
        }

        .form-label {
          display: block;
          font-size: 14px;
          font-weight: 500;
          color: #374151;
          margin-bottom: 6px;
        }

        .form-input,
        .form-select {
          width: 100%;
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
          outline: none;
          background: white;
        }

        .form-input:focus,
        .form-select:focus {
          border-color: #d97706;
          box-shadow: 0 0 0 3px rgba(221, 124, 2, 0.1);
        }

        .form-input:disabled {
          background: #f9fafb;
          color: #6b7280;
          cursor: not-allowed;
        }

        /* Progressive Status Update Styles */
        .current-status-display {
          margin-bottom: 12px;
        }

        .status-progression-buttons {
          display: flex;
          flex-direction: column;
          gap: 8px;
          margin-top: 8px;
        }

        .progression-btn {
          padding: 10px 16px;
          border: none;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          text-align: left;
        }

        .progression-btn.preparing {
          background: #dbeafe;
          color: #1e40af;
          border: 1px solid #3b82f6;
        }

        .progression-btn.preparing:hover {
          background: #bfdbfe;
        }

        .progression-btn.served {
          background: #e0e7ff;
          color: #5b21b6;
          border: 1px solid #8b5cf6;
        }

        .progression-btn.served:hover {
          background: #c7d2fe;
        }

        .progression-btn.completed {
          background: #d1fae5;
          color: #065f46;
          border: 1px solid #10b981;
        }

        .progression-btn.completed:hover {
          background: #a7f3d0;
        }

        .progression-btn.cancelled {
          background: #fee2e2;
          color: #991b1b;
          border: 1px solid #ef4444;
        }

        .progression-btn.cancelled:hover {
          background: #fecaca;
        }

        .progression-btn.failed {
          background: #fee2e2;
          color: #991b1b;
          border: 1px solid #ef4444;
        }

        .progression-btn.failed:hover {
          background: #fecaca;
        }

        .progression-btn.refunded {
          background: #e0e7ff;
          color: #5b21b6;
          border: 1px solid #8b5cf6;
        }

        .progression-btn.refunded:hover {
          background: #c7d2fe;
        }

        .status-change-preview {
          margin-top: 8px;
          padding: 8px 12px;
          background: #f0f9ff;
          border: 1px solid #0ea5e9;
          border-radius: 4px;
          font-size: 12px;
          color: #0369a1;
        }

        .status-final-message {
          margin-top: 12px;
          padding: 12px;
          background: #f3f4f6;
          border: 1px solid #d1d5db;
          border-radius: 6px;
        }

        .status-final-message p {
          margin: 0;
          font-size: 13px;
          color: #6b7280;
          font-style: italic;
        }

        .section-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 16px;
        }

        .alert-message {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 12px;
          color: #6b7280;
        }

        /* Animations */
        .animate-spin {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
          .orders-page {
            padding: 16px;
          }

          .page-header {
            flex-direction: column;
            align-items: flex-start;
          }

          .page-header h1 {
            font-size: 24px;
          }

          .filters-bar {
            padding: 16px;
          }

          .filter-buttons {
            flex-direction: column;
          }

          .filter-select {
            min-width: auto;
            width: 100%;
          }

          .search-container {
            min-width: auto;
          }
        }

        @media (max-width: 768px) {
          .orders-page {
            padding: 12px;
          }

          .page-header h1 {
            font-size: 20px;
          }

          .filters-bar {
            padding: 12px;
          }

          /* Mobile Table Styles */
          .table-container {
            border-radius: 8px;
            overflow: hidden;
          }

          .data-table {
            min-width: 700px; /* Further reduced to prioritize status columns */
          }

          .data-table th,
          .data-table td {
            padding: 8px 12px;
            font-size: 13px;
          }

          .action-buttons {
            flex-direction: column;
            gap: 4px;
          }

          .action-btn {
            padding: 4px 8px;
            font-size: 11px;
          }

          /* Modal adjustments for mobile */
          .modal {
            margin: 10px;
            max-height: calc(100vh - 20px);
          }

          .modal-header,
          .modal-body,
          .modal-footer {
            padding: 16px;
          }

          .modal-title {
            font-size: 16px;
          }

          .order-detail-row {
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
          }

          .order-detail-value {
            text-align: left;
          }

          .payment-method-display {
            justify-content: flex-start;
          }

          /* Pagination adjustments */
          .pagination {
            gap: 4px;
          }

          .pagination-btn {
            padding: 6px 12px;
            font-size: 12px;
          }

          .pagination-page {
            width: 32px;
            height: 32px;
            font-size: 12px;
          }
        }

        @media (max-width: 480px) {
          .orders-page {
            padding: 8px;
          }

          .page-header {
            gap: 12px;
          }

          .page-header h1 {
            font-size: 18px;
          }

          .btn {
            padding: 8px 12px;
            font-size: 12px;
          }

          .filters-bar {
            padding: 8px;
            gap: 12px;
          }

          .search-input {
            padding: 10px 10px 10px 36px;
            font-size: 13px;
          }

          .filter-select {
            padding: 8px 10px;
            font-size: 13px;
          }

          .data-table {
            min-width: 600px; /* Further reduced for very small screens */
          }

          .data-table th,
          .data-table td {
            padding: 6px 8px;
            font-size: 12px;
          }

          .customer-type-badge,
          .status-badge {
            font-size: 10px;
            padding: 2px 6px;
          }

          .success-message {
            top: 10px;
            right: 10px;
            left: 10px;
            padding: 10px 12px;
            font-size: 13px;
          }
        }

        /* Custom Scrollbar for Table */
        .table-container::-webkit-scrollbar {
          height: 8px;
        }

        .table-container::-webkit-scrollbar-track {
          background: #f1f5f9;
          border-radius: 4px;
        }

        .table-container::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 4px;
        }

        .table-container::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }

        /* Focus styles for accessibility */
        .data-table:focus-within {
          outline: 2px solid #d97706;
          outline-offset: 2px;
        }

        .action-btn:focus {
          outline: 2px solid #d97706;
          outline-offset: 2px;
        }

        .pagination-btn:focus,
        .pagination-page:focus {
          outline: 2px solid #d97706;
          outline-offset: 2px;
        }
      `})]})},$l=bt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),bae=()=>{var pe,Ce,ve,Le,le,Ae,qe,me;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState(!0),[p,x]=N.useState(""),[g,v]=N.useState(!1),[j,b]=N.useState(!1),[y,C]=N.useState(null),[A,E]=N.useState({orderStatus:"",paymentStatus:""}),[S,T]=N.useState(""),[_,P]=N.useState(!1),[L,D]=N.useState(""),[B,M]=N.useState("all"),[k,W]=N.useState("all"),[F,I]=N.useState("all"),[R,X]=N.useState(1),[ne,ge]=N.useState(1),q=7;N.useEffect(()=>{ee(),z()},[B,k,F]);const ee=async()=>{try{const ae=await $l.get("/branch");d(ae.data)}catch(ae){console.error("Error fetching branches:",ae),x("Failed to load branches. Some filter options may not be available.")}},z=async()=>{f(!0),x(""),t([]),s([]),a([]);try{const[ae,re]=await Promise.all([$l.get("/counter-order/orders").catch(()=>({data:{orders:[]}})),$l.get("/staff-order").catch(()=>({data:{orders:[]}}))]);let be=[];if(ae.data.orders&&Array.isArray(ae.data.orders)){const de=ae.data.orders.map((Se,Ne)=>{var je,Qe,rt,ht,lr,yr,_e,it;return Se.id||console.warn(`Counter order at index ${Ne} is missing id:`,Se),Se.customerName||console.warn(`Counter order at index ${Ne} is missing customerName:`,Se),(je=Se.userId)!=null&&je.name||console.warn(`Counter order at index ${Ne} is missing counter user name:`,Se),{id:Se.id||`temp-counter-id-${Ne}`,customerName:Se.customerName||"Unknown Customer",phoneNumber:Se.phoneNumber||"N/A",counterUser:((Qe=Se.userId)==null?void 0:Qe.name)||"Unknown Counter User",counterUserId:((rt=Se.userId)==null?void 0:rt.id)||null,date:new Date(Se.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),branch:((ht=Se.branch)==null?void 0:ht.name)||"Unknown Branch",branchId:((lr=Se.branch)==null?void 0:lr.id)||null,invoice:((yr=Se.invoice)==null?void 0:yr.invoiceNumber)||"N/A",items:((_e=Se.items)==null?void 0:_e.length)||0,itemNames:((it=Se.items)==null?void 0:it.map(Ee=>Ee.name).join(", "))||"No items",subtotal:Se.subtotal||Se.totalAmount||0,tax:Se.tax||0,serviceCharge:Se.serviceCharge||0,grandTotal:Se.grandTotal||Se.totalAmount||0,amount:`${(Se.grandTotal||Se.totalAmount||0).toFixed(2)}`,totalAmount:Se.totalAmount||0,orderStatus:Se.orderStatus||"pending",paymentMethod:Se.paymentMethod||"cash",paymentStatus:Se.paymentStatus||"pending",cancellationReason:Se.cancellationReason||"",cancelledAt:Se.cancelledAt||null,originalOrder:Se,orderSource:"counter"}}).filter(Se=>Se.id);be=[...be,...de]}if(re.data.orders&&Array.isArray(re.data.orders)){const Se=re.data.orders.filter(Ne=>Ne.isGuestOrder&&Ne.categoryName&&(Ne.categoryName.toLowerCase().includes("self service")||Ne.categoryName.toLowerCase().includes("counter"))).map((Ne,je)=>{var Qe,rt;return{id:Ne._id||`temp-guest-id-${je}`,customerName:Ne.customerName||"Unknown Customer",phoneNumber:Ne.customerMobile||"N/A",counterUser:"ViratCounter App",counterUserId:null,date:new Date(Ne.orderTime||Ne.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),branch:Ne.branchName||"Unknown Branch",branchId:Ne.branchId||null,invoice:Ne.orderId||"N/A",items:((Qe=Ne.items)==null?void 0:Qe.length)||0,itemNames:((rt=Ne.items)==null?void 0:rt.map(ht=>ht.name).join(", "))||"No items",subtotal:Ne.subtotal||Ne.totalAmount||0,tax:Ne.tax||0,serviceCharge:Ne.serviceCharge||0,grandTotal:Ne.grandTotal||Ne.totalAmount||0,amount:`${(Ne.grandTotal||Ne.totalAmount||0).toFixed(2)}`,totalAmount:Ne.totalAmount||0,orderStatus:Ne.status||"pending",paymentMethod:Ne.paymentMethod||"cash",paymentStatus:Ne.paymentStatus||"pending",cancellationReason:Ne.cancellationReason||"",cancelledAt:Ne.cancelledAt||null,originalOrder:Ne,orderSource:"guest"}}).filter(Ne=>Ne.id);be=[...be,...Se]}be.sort((de,Se)=>new Date(Se.originalOrder.createdAt||Se.originalOrder.orderTime)-new Date(de.originalOrder.createdAt||de.originalOrder.orderTime));let H=be;B!=="all"&&(H=H.filter(de=>de.orderStatus===B)),k!=="all"&&(H=H.filter(de=>de.paymentStatus===k)),F!=="all"&&(H=H.filter(de=>de.branchId===F)),t(H)}catch(ae){console.error("Error fetching orders:",ae),x("Failed to load orders. Please refresh the page and try again.")}finally{f(!1)}};N.useEffect(()=>{const ae=e.filter(re=>{if(!L.trim())return!0;const be=re.customerName||"",H=re.phoneNumber||"",de=re.counterUser||"",Se=re.invoice||"",Ne=L.trim().toLowerCase();return console.log(`Searching for "${Ne}" in order:`,{customerName:be,phoneNumber:H,counterUser:de,invoice:Se}),be.toLowerCase().includes(Ne)||H.toLowerCase().includes(Ne)||de.toLowerCase().includes(Ne)||Se.toLowerCase().includes(Ne)});s(ae),ge(Math.ceil(ae.length/q)),X(1)},[e,L]),N.useEffect(()=>{const ae=(R-1)*q,re=ae+q,be=i.slice(ae,re);a(be)},[i,R]),N.useEffect(()=>{const ae=setTimeout(()=>{},300);return()=>clearTimeout(ae)},[L]);const U=ae=>{C(ae),v(!0)},V=ae=>{C(ae),E({orderStatus:ae.orderStatus,paymentStatus:ae.paymentStatus}),b(!0)},te=ae=>{const{name:re,value:be}=ae.target;E({...A,[re]:be})},se=async()=>{P(!0);try{const ae=y.orderSource==="guest";if(ae){const be={};A.orderStatus!==y.orderStatus&&(be.status=A.orderStatus),A.paymentStatus!==y.paymentStatus&&(be.paymentStatus=A.paymentStatus),Object.keys(be).length>0&&await $l.put(`/staff-order/${y.id}/status`,be)}else A.orderStatus!==y.orderStatus&&await $l.put(`/counter-order/orders/${y.id}/order-status`,{orderStatus:A.orderStatus}),A.paymentStatus!==y.paymentStatus&&await $l.put(`/counter-order/orders/${y.id}/payment-status`,{paymentStatus:A.paymentStatus});await z(),b(!1),T(` ${ae?"ViratCounter":"Counter"} order status updated successfully`),setTimeout(()=>{T("")},2e3)}catch(ae){console.error("Error updating order:",ae),alert("Failed to update order. Please try again.")}finally{P(!1)}},Z=()=>{v(!1),C(null)},K=()=>{b(!1),C(null)},Y=(ae,re)=>{ae==="orderStatus"?M(re):ae==="paymentStatus"?W(re):ae==="branch"&&I(re),X(1)},ce=ae=>{switch(ae==null?void 0:ae.toLowerCase()){case"card":return n.jsx(Xr,{size:16});case"upi":return n.jsx(qi,{size:16});case"qr":return n.jsx(qi,{size:16});case"cash":default:return n.jsx(qi,{size:16})}},xe=()=>{let ae=`Customer Name,Phone,Counter User,Date,Branch,Invoice,Items,Subtotal,Tax,Service Charge,Grand Total,Payment Method,Payment Status
`;i.forEach(de=>{ae+=`"${de.customerName}","${de.phoneNumber}","${de.counterUser}","${de.date}","${de.branch}","${de.invoice}",${de.items},"${de.subtotal.toFixed(2)}","${de.tax.toFixed(2)}","${de.serviceCharge.toFixed(2)}","${de.amount}","${de.paymentMethod}","${de.paymentStatus}"
`});const re=new Blob([ae],{type:"text/csv"}),be=window.URL.createObjectURL(re),H=document.createElement("a");H.setAttribute("hidden",""),H.setAttribute("href",be),H.setAttribute("download",`counter-orders-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(H),H.click(),document.body.removeChild(H)};return n.jsxs("div",{className:"orders-page",children:[S&&n.jsxs("div",{className:"success-message",children:[n.jsx(fn,{size:16}),n.jsx("span",{children:S}),n.jsx("button",{onClick:()=>T(""),children:n.jsx(Un,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Counter Orders & ViratCounter App"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-outline",onClick:xe,children:[n.jsx(On,{size:16}),n.jsx("span",{children:"Export"})]})})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by customer name, phone, counter user, or invoice...",className:"search-input",value:L,onChange:ae=>D(ae.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select",value:B,onChange:ae=>Y("orderStatus",ae.target.value),children:[n.jsx("option",{value:"all",children:"All Order Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{className:"filter-select",value:k,onChange:ae=>Y("paymentStatus",ae.target.value),children:[n.jsx("option",{value:"all",children:"All Payment Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]}),n.jsxs("select",{className:"filter-select",value:F,onChange:ae=>Y("branch",ae.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(ae=>n.jsx("option",{value:ae._id,children:ae.name},ae._id))]})]})]}),p&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:18}),n.jsx("span",{children:p})]}),n.jsx("div",{className:"data-card",children:u?n.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx(Mn,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading counter orders..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Phone"}),n.jsx("th",{children:"User"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Invoice"}),n.jsx("th",{children:"Item Names"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(ae=>n.jsxs("tr",{children:[n.jsx("td",{children:ae.customerName}),n.jsx("td",{children:ae.phoneNumber}),n.jsx("td",{children:ae.counterUser}),n.jsx("td",{children:ae.date}),n.jsx("td",{children:ae.branch}),n.jsx("td",{children:ae.invoice}),n.jsx("td",{children:ae.itemNames}),n.jsx("td",{children:ae.amount}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>U(ae),children:"View"}),n.jsx("button",{className:"action-btn edit",onClick:()=>V(ae),children:"Edit"})]})})]},ae.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"no-orders",children:"No counter orders found matching your criteria"})})})]})}),ne>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>X(ae=>Math.max(ae-1,1)),disabled:R===1||u,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,ne)},(ae,re)=>{let be;return ne<=5||R<=3?be=re+1:R>=ne-2?be=ne-4+re:be=R-2+re,n.jsx("button",{className:`pagination-page ${R===be?"active":""}`,onClick:()=>X(be),disabled:u,children:be},be)}),ne>5&&R<ne-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),ne>5&&R<ne-2&&n.jsx("button",{className:`pagination-page ${R===ne?"active":""}`,onClick:()=>X(ne),disabled:u,children:ne})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>X(ae=>Math.min(ae+1,ne)),disabled:R===ne||u,children:"Next"})]}),g&&y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Counter Order Details - ",y.invoice]}),n.jsx("button",{className:"modal-close",onClick:Z,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Customer Name"}),n.jsx("div",{className:"order-detail-value",children:y.customerName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Phone Number"}),n.jsx("div",{className:"order-detail-value",children:y.phoneNumber})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Counter User"}),n.jsx("div",{className:"order-detail-value",children:y.counterUser})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Date"}),n.jsx("div",{className:"order-detail-value",children:y.date})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:y.branch})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Invoice Number"}),n.jsx("div",{className:"order-detail-value",children:y.invoice})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Method"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[ce(y.paymentMethod),n.jsx("span",{children:y.paymentMethod?y.paymentMethod.charAt(0).toUpperCase()+y.paymentMethod.slice(1):"Cash"})]})})]}),y.cancellationReason&&n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Cancellation Reason"}),n.jsx("div",{className:"order-detail-value",children:y.cancellationReason})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((Ce=(pe=y.originalOrder)==null?void 0:pe.items)==null?void 0:Ce.length)>0?y.originalOrder.items.map((ae,re)=>n.jsxs("tr",{children:[n.jsx("td",{children:ae.name}),n.jsx("td",{children:ae.quantity}),n.jsxs("td",{children:["",ae.price.toFixed(2)]}),n.jsxs("td",{children:["",(ae.price*ae.quantity).toFixed(2)]})]},re)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Summary"}),n.jsx("div",{className:"order-items-table",children:n.jsx("table",{className:"data-table",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Subtotal"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((ve=y.subtotal)==null?void 0:ve.toFixed(2))||"0.00"]})]}),y.tax>0&&n.jsxs("tr",{children:[n.jsx("td",{children:"Tax"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Le=y.tax)==null?void 0:Le.toFixed(2))||"0.00"]})]}),y.serviceCharge>0&&n.jsxs("tr",{children:[n.jsx("td",{children:"Service Charge"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((le=y.serviceCharge)==null?void 0:le.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f8f9fa"},children:[n.jsx("td",{children:"Grand Total"}),n.jsxs("td",{style:{textAlign:"right",color:"#ff7e47"},children:["",((Ae=y.grandTotal)==null?void 0:Ae.toFixed(2))||"0.00"]})]})]})})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:Z,children:"Close"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>{Z(),V(y)},children:"Edit Order"})]})]})}),j&&y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Edit Counter Order - ",y.invoice]}),n.jsx("button",{className:"modal-close",onClick:K,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Customer Name"}),n.jsx("input",{type:"text",value:y.customerName,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Phone Number"}),n.jsx("input",{type:"text",value:y.phoneNumber,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Counter User"}),n.jsx("input",{type:"text",value:y.counterUser,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch"}),n.jsx("input",{type:"text",value:y.branch,className:"form-input",disabled:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Order Status"}),n.jsxs("select",{name:"orderStatus",value:A.orderStatus,onChange:te,className:"form-select",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Payment Status"}),n.jsxs("select",{name:"paymentStatus",value:A.paymentStatus,onChange:te,className:"form-select",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h4",{children:"Order Items"}),n.jsxs("div",{className:"alert-message",children:[n.jsx(Dt,{size:16}),n.jsx("span",{children:"Only order status and payment status can be updated"})]})]}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((me=(qe=y.originalOrder)==null?void 0:qe.items)==null?void 0:me.length)>0?y.originalOrder.items.map((ae,re)=>n.jsxs("tr",{children:[n.jsx("td",{children:ae.name}),n.jsx("td",{children:ae.quantity}),n.jsxs("td",{children:["",ae.price.toFixed(2)]}),n.jsxs("td",{children:["",(ae.price*ae.quantity).toFixed(2)]})]},re)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:K,disabled:_,children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:se,disabled:_,children:_?n.jsxs(n.Fragment,{children:[n.jsx(Mn,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Saving..."})]}):"Save Changes"})]})]})})]})},Ul=bt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),jae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState([]),[p,x]=N.useState(!0),[g,v]=N.useState(""),[j,b]=N.useState(!1),[y,C]=N.useState(!1),[A,E]=N.useState(!1),[S,T]=N.useState(!1),[_,P]=N.useState(null),[L,D]=N.useState({branchId:"",categoryId:"",number:"",status:"available",image:null}),[B,M]=N.useState({branchId:"",categoryId:"",number:"",status:"available",image:null}),[k,W]=N.useState(""),[F,I]=N.useState(!1),[R,X]=N.useState(""),[ne,ge]=N.useState("all"),[q,ee]=N.useState("all"),[z,U]=N.useState("all"),[V,te]=N.useState(1),[se,Z]=N.useState(1),K=10,[Y,ce]=N.useState(null),[xe,pe]=N.useState(null);N.useEffect(()=>{Ce(),ve(),Le()},[ne,q,z]);const Ce=async()=>{try{const Ee=await Ul.get("/branch");d(Ee.data)}catch(Ee){console.error("Error fetching branches:",Ee),v("Failed to load branches. Some filter options may not be available.")}},ve=async()=>{try{const Ee=await Ul.get("/category");console.log("Categories API response:",Ee.data),f(Ee.data||[])}catch(Ee){console.error("Error fetching categories:",Ee),f([])}},Le=async()=>{x(!0),v(""),t([]),s([]),a([]);try{const Ee={};q!=="all"&&(Ee.branchId=q);const lt=await Ul.get("/table",{params:Ee});if(!Array.isArray(lt.data))throw new Error("Invalid response format: tables array missing");const Xe=lt.data.map((vt,Qt)=>{var vr,en,pn,Sn;return{id:vt._id||`temp-id-${Qt}`,number:vt.number||0,status:vt.status||"available",branchId:((vr=vt.branchId)==null?void 0:vr._id)||vt.branchId||null,branchName:((en=vt.branchId)==null?void 0:en.name)||"Unknown Branch",categoryId:((pn=vt.categoryId)==null?void 0:pn._id)||vt.categoryId||null,categoryName:((Sn=vt.categoryId)==null?void 0:Sn.name)||"All Categories",image:vt.image||null,qrCode:vt.qrCode||null,createdAt:new Date(vt.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),originalTable:vt}}).filter(vt=>vt.id);t(Xe)}catch(Ee){console.error("Error fetching tables:",Ee),v("Failed to load tables. Please refresh the page and try again.")}finally{x(!1)}};N.useEffect(()=>{let Ee=e;if(ne!=="all"&&(Ee=Ee.filter(lt=>lt.status===ne)),R.trim()){const lt=R.trim().toLowerCase();Ee=Ee.filter(Xe=>{var en;const vt=((en=Xe.number)==null?void 0:en.toString())||"",Qt=Xe.branchName||"",vr=Xe.status||"";return vt.toLowerCase().includes(lt)||Qt.toLowerCase().includes(lt)||vr.toLowerCase().includes(lt)})}s(Ee),Z(Math.ceil(Ee.length/K)),te(1)},[e,R,ne]),N.useEffect(()=>{const Ee=(V-1)*K,lt=Ee+K,Xe=i.slice(Ee,lt);a(Xe)},[i,V]);const le=Ee=>{P(Ee),b(!0)},Ae=()=>{D({branchId:"",categoryId:"",number:"",status:"available",image:null}),ce(null),C(!0)},qe=Ee=>{P(Ee),M({branchId:Ee.branchId||"",categoryId:Ee.categoryId||"",number:Ee.number||"",status:Ee.status||"available",image:null}),pe(Ee.image?`${Ee.image}`:null),E(!0)},me=Ee=>{P(Ee),T(!0)},ae=Ee=>{const{name:lt,value:Xe}=Ee.target;D({...L,[lt]:Xe})},re=Ee=>{const{name:lt,value:Xe}=Ee.target;M({...B,[lt]:Xe})},be=Ee=>{const lt=Ee.target.files[0];if(lt){D({...L,image:lt});const Xe=new FileReader;Xe.onload=vt=>ce(vt.target.result),Xe.readAsDataURL(lt)}},H=Ee=>{const lt=Ee.target.files[0];if(lt){M({...B,image:lt});const Xe=new FileReader;Xe.onload=vt=>pe(vt.target.result),Xe.readAsDataURL(lt)}},de=async()=>{I(!0);try{if(!L.branchId||!L.number){alert("Please fill in all required fields");return}const Ee=new FormData;Ee.append("branchId",L.branchId),L.categoryId&&Ee.append("categoryId",L.categoryId),Ee.append("number",L.number),Ee.append("status",L.status),L.image&&Ee.append("image",L.image),await Ul.post("/table",Ee,{headers:{"Content-Type":"multipart/form-data"}}),await Le(),C(!1),W("Table created successfully"),setTimeout(()=>{W("")},3e3)}catch(Ee){console.error("Error creating table:",Ee),alert("Failed to create table. Please try again.")}finally{I(!1)}},Se=async()=>{I(!0);try{if(!B.branchId||!B.number){alert("Please fill in all required fields");return}const Ee=new FormData;Ee.append("branchId",B.branchId),B.categoryId&&Ee.append("categoryId",B.categoryId),Ee.append("number",B.number),Ee.append("status",B.status),B.image&&Ee.append("image",B.image),await Ul.put(`/table/${_.id}`,Ee,{headers:{"Content-Type":"multipart/form-data"}}),await Le(),E(!1),W(`Table ${_.number} updated successfully`),setTimeout(()=>{W("")},3e3)}catch(Ee){console.error("Error updating table:",Ee),alert("Failed to update table. Please try again.")}finally{I(!1)}},Ne=async()=>{I(!0);try{await Ul.delete(`/table/${_.id}`),await Le(),T(!1),W(`Table ${_.number} deleted successfully`),setTimeout(()=>{W("")},3e3)}catch(Ee){console.error("Error deleting table:",Ee),alert("Failed to delete table. Please try again.")}finally{I(!1)}},je=()=>{b(!1),P(null)},Qe=()=>{C(!1),ce(null)},rt=()=>{E(!1),P(null),pe(null)},ht=()=>{T(!1),P(null)},lr=(Ee,lt)=>{Ee==="status"?ge(lt):Ee==="branch"&&ee(lt),te(1)},yr=Ee=>{let Xe=`https://hotelvirat.com/menu?branch=${Ee.branchId}&name=${encodeURIComponent(Ee.branchName)}&table=${Ee.number}`;return Ee.categoryId&&(Xe+=`&category=${Ee.categoryId}&categoryName=${encodeURIComponent(Ee.categoryName||"")}`),`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(Xe)}`},_e=async Ee=>{const lt=yr(Ee);try{const vt=await(await fetch(lt)).blob(),Qt=window.URL.createObjectURL(vt),vr=document.createElement("a");vr.href=Qt,vr.download=`table-${Ee.number}-${Ee.branchName}-qr.png`,document.body.appendChild(vr),vr.click(),document.body.removeChild(vr),window.URL.revokeObjectURL(Qt)}catch(Xe){console.error("Error downloading QR code:",Xe),alert("Failed to download QR code")}},it=()=>{let Ee=`Table Number,Branch,Status,Created At
`;i.forEach(Qt=>{Ee+=`${Qt.number},"${Qt.branchName}",${Qt.status},"${Qt.createdAt}"
`});const lt=new Blob([Ee],{type:"text/csv"}),Xe=window.URL.createObjectURL(lt),vt=document.createElement("a");vt.setAttribute("hidden",""),vt.setAttribute("href",Xe),vt.setAttribute("download",`tables-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(vt),vt.click(),document.body.removeChild(vt)};return n.jsxs("div",{className:"tables-page",children:[k&&n.jsxs("div",{className:"success-message",children:[n.jsx(fn,{size:16}),n.jsx("span",{children:k}),n.jsx("button",{onClick:()=>W(""),children:n.jsx(Un,{size:16})})]}),n.jsxs("div",{className:"page-header",style:{position:"relative",zIndex:100},children:[n.jsx("h1",{children:"Tables Management"}),n.jsxs("div",{className:"header-actions",style:{position:"relative",zIndex:101},children:[n.jsxs("button",{className:"btn btn-outline",onClick:it,children:[n.jsx(On,{size:16}),n.jsx("span",{children:"Export"})]}),n.jsxs("button",{className:"btn btn-primary",onClick:Ae,style:{position:"relative",zIndex:102},children:[n.jsx(Ca,{size:16}),n.jsx("span",{children:"Add Table"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by table number, branch, or status...",className:"search-input",value:R,onChange:Ee=>X(Ee.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select",value:ne,onChange:Ee=>lr("status",Ee.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"reserved",children:"Reserved"})]}),n.jsxs("select",{className:"filter-select",value:q,onChange:Ee=>lr("branch",Ee.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(Ee=>n.jsx("option",{value:Ee._id,children:Ee.name},Ee._id))]})]})]}),g&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:18}),n.jsx("span",{children:g})]}),n.jsx("div",{className:"data-card",children:p?n.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx(Mn,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading tables..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Image"}),n.jsx("th",{children:"Table Number"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Category"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(Ee=>n.jsxs("tr",{children:[n.jsx("td",{children:Ee.image?n.jsx("img",{src:`${Ee.image}`,alt:`Table ${Ee.number}`,className:"table-image",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"4px"}}):n.jsx("div",{className:"table-image-placeholder",style:{width:"50px",height:"50px",backgroundColor:"#f3f4f6",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:n.jsx(hj,{size:20})})}),n.jsxs("td",{children:["Table ",Ee.number]}),n.jsx("td",{children:Ee.branchName}),n.jsx("td",{children:Ee.categoryName}),n.jsx("td",{children:n.jsx("span",{className:`status-badge ${Ee.status}`,children:Ee.status.charAt(0).toUpperCase()+Ee.status.slice(1)})}),n.jsx("td",{children:Ee.createdAt}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>le(Ee),children:"View"}),n.jsx("button",{className:"action-btn edit",onClick:()=>qe(Ee),children:"Edit"}),n.jsx("button",{className:"action-btn",onClick:()=>_e(Ee),style:{backgroundColor:"#8b5cf6",color:"white"},title:"Download QR Code",children:n.jsx(Fi,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>me(Ee),children:"Delete"})]})})]},Ee.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"no-tables",children:"No tables found matching your criteria"})})})]})}),se>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>te(Ee=>Math.max(Ee-1,1)),disabled:V===1||p,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,se)},(Ee,lt)=>{let Xe;return se<=5||V<=3?Xe=lt+1:V>=se-2?Xe=se-4+lt:Xe=V-2+lt,n.jsx("button",{className:`pagination-page ${V===Xe?"active":""}`,onClick:()=>te(Xe),disabled:p,children:Xe},Xe)}),se>5&&V<se-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),se>5&&V<se-2&&n.jsx("button",{className:`pagination-page ${V===se?"active":""}`,onClick:()=>te(se),disabled:p,children:se})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>te(Ee=>Math.min(Ee+1,se)),disabled:V===se||p,children:"Next"})]}),j&&_&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Table Details - Table ",_.number]}),n.jsx("button",{className:"modal-close",onClick:je,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table Number"}),n.jsxs("div",{className:"order-detail-value",children:["Table ",_.number]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:_.branchName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Category"}),n.jsx("div",{className:"order-detail-value",children:_.categoryName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:`status-badge ${_.status}`,children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Created At"}),n.jsx("div",{className:"order-detail-value",children:_.createdAt})]}),_.image&&n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Image"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("img",{src:`${_.image}`,alt:`Table ${_.number}`,style:{width:"200px",height:"150px",objectFit:"cover",borderRadius:"8px"}})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"QR Code"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx("img",{src:yr(_),alt:`QR Code for Table ${_.number}`,style:{width:"200px",height:"200px",border:"1px solid #e5e7eb",borderRadius:"8px"}}),n.jsxs("button",{className:"btn btn-outline",onClick:()=>_e(_),style:{display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx(On,{size:16}),"Download QR Code"]})]})})]})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:je,children:"Close"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>{je(),qe(_)},children:"Edit Table"})]})]})}),y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Add New Table"}),n.jsx("button",{className:"modal-close",onClick:Qe,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch *"}),n.jsxs("select",{name:"branchId",value:L.branchId,onChange:ae,className:"form-select",required:!0,children:[n.jsx("option",{value:"",children:"Select Branch"}),l.map(Ee=>n.jsx("option",{value:Ee._id,children:Ee.name},Ee._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Category (Optional)"}),n.jsxs("select",{name:"categoryId",value:L.categoryId,onChange:ae,className:"form-select",children:[n.jsx("option",{value:"",children:"All Categories (No Filter)"}),u.map(Ee=>n.jsx("option",{value:Ee._id,children:Ee.name},Ee._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Number *"}),n.jsx("input",{type:"number",name:"number",value:L.number,onChange:ae,className:"form-input",placeholder:"Enter table number",min:"1",required:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Status"}),n.jsxs("select",{name:"status",value:L.status,onChange:ae,className:"form-select",children:[n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"reserved",children:"Reserved"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"add-image-upload",className:"image-upload-label",children:Y?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:Y||"/placeholder.svg",alt:"Preview",className:"image-preview"}),n.jsxs("div",{className:"image-overlay",children:[n.jsx(Ms,{size:24}),n.jsx("span",{children:"Change Image"})]})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(Ms,{size:24}),n.jsx("span",{children:"Click to upload table image"})]})}),n.jsx("input",{id:"add-image-upload",type:"file",accept:"image/*",onChange:be,className:"image-upload-input"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:Qe,disabled:F,children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:de,disabled:F,children:F?n.jsxs(n.Fragment,{children:[n.jsx(Mn,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Creating..."})]}):"Create Table"})]})]})}),A&&_&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Edit Table - Table ",_.number]}),n.jsx("button",{className:"modal-close",onClick:rt,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Branch *"}),n.jsxs("select",{name:"branchId",value:B.branchId,onChange:re,className:"form-select",required:!0,children:[n.jsx("option",{value:"",children:"Select Branch"}),l.map(Ee=>n.jsx("option",{value:Ee._id,children:Ee.name},Ee._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Category (Optional)"}),n.jsxs("select",{name:"categoryId",value:B.categoryId,onChange:re,className:"form-select",children:[n.jsx("option",{value:"",children:"All Categories (No Filter)"}),u.map(Ee=>n.jsx("option",{value:Ee._id,children:Ee.name},Ee._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Number *"}),n.jsx("input",{type:"number",name:"number",value:B.number,onChange:re,className:"form-input",placeholder:"Enter table number",min:"1",required:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Status"}),n.jsxs("select",{name:"status",value:B.status,onChange:re,className:"form-select",children:[n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"reserved",children:"Reserved"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Table Image"}),n.jsxs("div",{className:"image-upload-container",children:[n.jsx("label",{htmlFor:"edit-image-upload",className:"image-upload-label",children:xe?n.jsxs("div",{className:"image-preview-wrapper",children:[n.jsx("img",{src:xe||"/placeholder.svg",alt:"Preview",className:"image-preview"}),n.jsxs("div",{className:"image-overlay",children:[n.jsx(Ms,{size:24}),n.jsx("span",{children:"Change Image"})]})]}):n.jsxs("div",{className:"image-upload-placeholder",children:[n.jsx(Ms,{size:24}),n.jsx("span",{children:"Click to upload table image"})]})}),n.jsx("input",{id:"edit-image-upload",type:"file",accept:"image/*",onChange:H,className:"image-upload-input"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:rt,disabled:F,children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:Se,disabled:F,children:F?n.jsxs(n.Fragment,{children:[n.jsx(Mn,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Saving..."})]}):"Save Changes"})]})]})}),S&&_&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Table"}),n.jsx("button",{className:"modal-close",onClick:ht,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[n.jsx(Dt,{size:48,color:"#dc2626",style:{marginBottom:"16px"}}),n.jsx("h4",{style:{marginBottom:"8px",color:"#dc2626"},children:"Are you sure?"}),n.jsxs("p",{style:{color:"#666",marginBottom:"16px"},children:["Do you want to delete Table ",_.number," from ",_.branchName,"?"]}),n.jsx("p",{style:{color:"#dc2626",fontSize:"14px"},children:"This action cannot be undone."})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:ht,disabled:F,children:"Cancel"}),n.jsx("button",{className:"btn",onClick:Ne,disabled:F,style:{backgroundColor:"#dc2626",color:"white",border:"1px solid #dc2626"},children:F?n.jsxs(n.Fragment,{children:[n.jsx(Mn,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Deleting..."})]}):"Delete Table"})]})]})})]})},ej=bt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),wae=()=>{var Le,le,Ae,qe,me,ae,re,be;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState(!0),[p,x]=N.useState(""),[g,v]=N.useState(null),[j,b]=N.useState(!1),[y,C]=N.useState(!1),[A,E]=N.useState(!1),[S,T]=N.useState(null),[_,P]=N.useState(""),[L,D]=N.useState(""),[B,M]=N.useState("all"),[k,W]=N.useState("all"),[F,I]=N.useState("all"),[R,X]=N.useState("all"),[ne,ge]=N.useState(1),[q,ee]=N.useState(1),z=10;N.useEffect(()=>{U(),V(),te()},[B,k,F,R]);const U=async()=>{try{const H=await ej.get("/branch");d(H.data)}catch(H){console.error("Error fetching branches:",H)}},V=async()=>{f(!0),x("");try{const H={};if(B!=="all"&&(H.paymentStatus=B),k!=="all"&&(H.paymentMethod=k),F!=="all"&&(H.branchId=F),R!=="all"){const Ne=new Date,je=new Date;switch(R){case"today":je.setHours(0,0,0,0),H.startDate=je.toISOString(),H.endDate=Ne.toISOString();break;case"week":je.setDate(Ne.getDate()-7),H.startDate=je.toISOString(),H.endDate=Ne.toISOString();break;case"month":je.setMonth(Ne.getMonth()-1),H.startDate=je.toISOString(),H.endDate=Ne.toISOString();break}}const de=await ej.get("/staff-invoice",{params:H});if(!de.data.invoices||!Array.isArray(de.data.invoices))throw new Error("Invalid response format");const Se=de.data.invoices.map((Ne,je)=>{var Qe,rt,ht,lr,yr,_e,it;return{id:Ne._id||`temp-id-${je}`,invoiceId:Ne.invoiceId||`UNKNOWN-${je}`,orderId:Ne.orderId||"N/A",customer:((Qe=Ne.userId)==null?void 0:Qe.name)||"Unknown Staff",customerMobile:((rt=Ne.userId)==null?void 0:rt.mobile)||"N/A",date:new Date(Ne.invoiceDate||Ne.createdAt||Date.now()).toLocaleDateString("en-IN"),time:new Date(Ne.invoiceDate||Ne.createdAt||Date.now()).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),branch:Ne.branchName||((ht=Ne.branchId)==null?void 0:ht.name)||"Unknown Branch",branchId:((lr=Ne.branchId)==null?void 0:lr._id)||Ne.branchId||null,branchAddress:((yr=Ne.branchId)==null?void 0:yr.address)||"Unknown Address",tableNumber:Ne.tableNumber||((_e=Ne.tableId)==null?void 0:_e.number)||"N/A",peopleCount:Ne.peopleCount||0,items:((it=Ne.items)==null?void 0:it.length)||0,subtotal:Ne.subtotal||0,tax:Ne.tax||0,serviceCharge:Ne.serviceCharge||0,grandTotal:Ne.grandTotal||0,amount:`${(Ne.grandTotal||0).toFixed(2)}`,paymentStatus:Ne.paymentStatus||"completed",paymentMethod:Ne.paymentMethod||"cash",notes:Ne.notes||"",originalInvoice:Ne}});t(Se)}catch(H){console.error("Error fetching staff invoices:",H),x("Failed to load staff invoices. Please refresh the page and try again.")}finally{f(!1)}},te=async()=>{try{const H={};if(F!=="all"&&(H.branchId=F),R!=="all"){const Se=new Date,Ne=new Date;switch(R){case"today":Ne.setHours(0,0,0,0),H.startDate=Ne.toISOString(),H.endDate=Se.toISOString();break;case"week":Ne.setDate(Se.getDate()-7),H.startDate=Ne.toISOString(),H.endDate=Se.toISOString();break;case"month":Ne.setMonth(Se.getMonth()-1),H.startDate=Ne.toISOString(),H.endDate=Se.toISOString();break}}const de=await ej.get("/staff-invoice/statistics",{params:H});v(de.data.statistics)}catch(H){console.error("Error fetching statistics:",H)}};N.useEffect(()=>{const H=e.filter(de=>{if(!L.trim())return!0;const Se=L.trim().toLowerCase();return de.invoiceId.toLowerCase().includes(Se)||de.orderId.toLowerCase().includes(Se)||de.customer.toLowerCase().includes(Se)||de.tableNumber.toLowerCase().includes(Se)});s(H),ee(Math.ceil(H.length/z)),ge(1)},[e,L]),N.useEffect(()=>{const H=(ne-1)*z,de=H+z,Se=i.slice(H,de);a(Se)},[i,ne]);const se=H=>{const de=document.createElement("canvas");return de.width=H.width,de.height=H.height,de.getContext("2d").drawImage(H,0,0),de.toDataURL("image/jpeg")},Z=H=>{const de=window.open("","_blank"),Se=new Image;Se.crossOrigin="anonymous",Se.onload=()=>{var Qe,rt;let Ne="";try{Ne=se(Se)}catch(ht){console.warn("Could not convert logo to base64:",ht)}const je=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${H.invoiceId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .logo { width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 8px; display: block; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin: 10px 0; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .invoice-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${Ne?`<img src="${Ne}" alt="Hotel Virat Logo" class="logo">`:""}
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${H.branchAddress}</div>
            <div class="invoice-title">Tax Invoice</div>
            <div style="font-size: 14px; color: #666;">Invoice No: ${H.invoiceId}</div>
          </div>
          
          <div class="invoice-details">
            <div class="detail-section">
              <h3>Invoice Details</h3>
              <div class="detail-row">
                <span class="detail-label">Invoice ID:</span>
                <span class="detail-value">${H.invoiceId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${H.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${H.date}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${H.time}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Table No:</span>
                <span class="detail-value">${H.tableNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Guests:</span>
                <span class="detail-value">${H.peopleCount}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Staff & Payment Details</h3>
              <div class="detail-row">
                <span class="detail-label">Staff Name:</span>
                <span class="detail-value">${H.customer}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Mobile:</span>
                <span class="detail-value">${H.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${H.branch}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">${H.paymentMethod.toUpperCase()}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Status:</span>
                <span class="detail-value">${H.paymentStatus.toUpperCase()}</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((rt=(Qe=H.originalInvoice)==null?void 0:Qe.items)==null?void 0:rt.map(ht=>`
                    <tr>
                      <td>${ht.name}</td>
                      <td style="text-align: center;">${ht.quantity}</td>
                      <td style="text-align: right;">${ht.price.toFixed(2)}</td>
                      <td style="text-align: right;">${(ht.price*ht.quantity).toFixed(2)}</td>
                    </tr>
                  `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${H.subtotal.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Tax (5%):</span>
              <span>${H.tax.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Service Charge (10%):</span>
              <span>${H.serviceCharge.toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${H.grandTotal.toFixed(2)}</span>
            </div>
          </div>

          ${H.notes?`
            <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
              <h4 style="margin-bottom: 10px; color: #333;">Notes:</h4>
              <p style="margin: 0;">${H.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;de.document.write(je),de.document.close(),de.focus(),setTimeout(()=>{de.print()},500)},Se.onerror=()=>{var je,Qe;console.warn("Could not load logo image, generating PDF without logo");const Ne=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${H.invoiceId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin-bottom: 10px; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .invoice-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${H.branchAddress}</div>
            <div class="invoice-title">Tax Invoice</div>
            <div style="font-size: 14px; color: #666;">Invoice No: ${H.invoiceId}</div>
          </div>
          
          <div class="invoice-details">
            <div class="detail-section">
              <h3>Invoice Details</h3>
              <div class="detail-row">
                <span class="detail-label">Invoice ID:</span>
                <span class="detail-value">${H.invoiceId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${H.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${H.date}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${H.time}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Table No:</span>
                <span class="detail-value">${H.tableNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Guests:</span>
                <span class="detail-value">${H.peopleCount}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Staff & Payment Details</h3>
              <div class="detail-row">
                <span class="detail-label">Staff Name:</span>
                <span class="detail-value">${H.customer}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Mobile:</span>
                <span class="detail-value">${H.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${H.branch}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">${H.paymentMethod.toUpperCase()}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Status:</span>
                <span class="detail-value">${H.paymentStatus.toUpperCase()}</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((Qe=(je=H.originalInvoice)==null?void 0:je.items)==null?void 0:Qe.map(rt=>`
                    <tr>
                      <td>${rt.name}</td>
                      <td style="text-align: center;">${rt.quantity}</td>
                      <td style="text-align: right;">${rt.price.toFixed(2)}</td>
                      <td style="text-align: right;">${(rt.price*rt.quantity).toFixed(2)}</td>
                    </tr>
                  `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${H.subtotal.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Tax (5%):</span>
              <span>${H.tax.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Service Charge (10%):</span>
              <span>${H.serviceCharge.toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${H.grandTotal.toFixed(2)}</span>
            </div>
          </div>

          ${H.notes?`
            <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
              <h4 style="margin-bottom: 10px; color: #333;">Notes:</h4>
              <p style="margin: 0;">${H.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;de.document.write(Ne),de.document.close(),de.focus(),setTimeout(()=>{de.print()},500)},Se.src=Yc},K=H=>{var Ne,je,Qe,rt,ht,lr,yr,_e;const de=window.open("","_blank","width=302,height=600"),Se=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice ${H.invoiceId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            max-width: 80mm;
            padding: 5mm;
            font-size: 12px;
            line-height: 1.4;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .hotel-name { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .branch-name { font-size: 12px; margin-bottom: 3px; }
          .invoice-info { margin-bottom: 10px; }
          .invoice-id { font-size: 14px; font-weight: bold; text-align: center; margin: 8px 0; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .info-label { font-weight: bold; }
          .divider { border-top: 1px dashed #000; margin: 8px 0; }
          .items-header { font-weight: bold; margin-bottom: 5px; }
          .item-row { margin-bottom: 5px; }
          .item-name { font-weight: bold; }
          .item-details { display: flex; justify-content: space-between; font-size: 11px; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .grand-total { font-size: 14px; font-weight: bold; border-top: 1px dashed #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 11px; border-top: 1px dashed #000; padding-top: 10px; }
          .thank-you { font-weight: bold; margin-bottom: 5px; }
          @media print { 
            body { width: 80mm; }
            @page { size: 80mm auto; margin: 0; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">HOTEL VIRAT</div>
          <div class="branch-name">${H.branch}</div>
        </div>
        
        <div class="invoice-id">Invoice #${H.invoiceId}</div>
        <div style="text-align: center; font-size: 11px; margin-bottom: 8px;">Order: ${H.orderId}</div>
        
        <div class="invoice-info">
          <div class="info-row">
            <span class="info-label">Date:</span>
            <span>${H.date}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Time:</span>
            <span>${H.time}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Table:</span>
            <span>${H.tableNumber}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Guests:</span>
            <span>${H.peopleCount}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Staff:</span>
            <span>${H.customer}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Mobile:</span>
            <span>${H.customerMobile}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="items-section">
          <div class="items-header">ITEMS</div>
          ${((je=(Ne=H.originalInvoice)==null?void 0:Ne.items)==null?void 0:je.map(it=>`
            <div class="item-row">
              <div class="item-name">${it.name}</div>
              <div class="item-details">
                <span>${it.quantity} x ${it.price.toFixed(2)}</span>
                <span>${(it.price*it.quantity).toFixed(2)}</span>
              </div>
            </div>
          `).join(""))||"<div>No items</div>"}
        </div>
        
        <div class="divider"></div>
        
        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>${((Qe=H.subtotal)==null?void 0:Qe.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Tax (5%):</span>
            <span>${((rt=H.tax)==null?void 0:rt.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Service (10%):</span>
            <span>${((ht=H.serviceCharge)==null?void 0:ht.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row grand-total">
            <span>TOTAL:</span>
            <span>${((lr=H.grandTotal)==null?void 0:lr.toFixed(2))||"0.00"}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="invoice-info">
          <div class="info-row">
            <span class="info-label">Payment:</span>
            <span>${((yr=H.paymentMethod)==null?void 0:yr.toUpperCase())||"CASH"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Status:</span>
            <span>${((_e=H.paymentStatus)==null?void 0:_e.toUpperCase())||"PENDING"}</span>
          </div>
        </div>
        
        <div class="footer">
          <div class="thank-you">Thank You!</div>
          <div>Visit Again</div>
          <div style="margin-top: 5px; font-size: 10px;">${new Date().toLocaleString("en-IN")}</div>
        </div>
      </body>
      </html>
    `;de.document.write(Se),de.document.close(),de.focus(),setTimeout(()=>{de.print()},300)},Y=H=>{T(H),b(!0)},ce=()=>{b(!1),T(null)},xe=()=>{C(!1)},pe=(H,de)=>{H==="paymentStatus"?M(de):H==="paymentMethod"?W(de):H==="branch"?I(de):H==="date"&&X(de),ge(1)},Ce=H=>{switch(H==null?void 0:H.toLowerCase()){case"card":return n.jsx(Xr,{size:14});case"upi":return n.jsx(qi,{size:14});case"cash":default:return n.jsx(qi,{size:14})}},ve=()=>{let H=`Invoice ID,Order ID,Staff,Date,Time,Branch,Table,People,Items,Amount,Payment Method,Payment Status
`;i.forEach(je=>{H+=`${je.invoiceId},${je.orderId},${je.customer},"${je.date}","${je.time}","${je.branch}",${je.tableNumber},${je.peopleCount},${je.items},${je.amount},${je.paymentMethod},${je.paymentStatus}
`});const de=new Blob([H],{type:"text/csv"}),Se=window.URL.createObjectURL(de),Ne=document.createElement("a");Ne.setAttribute("hidden",""),Ne.setAttribute("href",Se),Ne.setAttribute("download",`staff-invoices-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne)};return n.jsxs("div",{className:"orders-page",children:[_&&n.jsxs("div",{className:"success-message",children:[n.jsx(fn,{size:16}),n.jsx("span",{children:_}),n.jsx("button",{onClick:()=>P(""),children:n.jsx(Un,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Staff Invoices"}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-outline",onClick:()=>C(!0),children:[n.jsx(Zl,{size:16}),n.jsx("span",{children:"Statistics"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:ve,children:[n.jsx(On,{size:16}),n.jsx("span",{children:"Export CSV"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:V,children:[n.jsx(Qi,{size:16}),n.jsx("span",{children:"Refresh"})]})]})]}),g&&n.jsxs("div",{className:"stats-grid",style:{gridTemplateColumns:"repeat(4, 1fr)",marginBottom:"24px"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container orange",children:n.jsx(Ds,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:g.totalInvoices||0}),n.jsx("p",{children:"Total Invoices"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container green",children:n.jsx(kp,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.totalRevenue||0).toFixed(0)]}),n.jsx("p",{children:"Total Revenue"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container blue",children:n.jsx(Zl,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.averageInvoiceValue||0).toFixed(0)]}),n.jsx("p",{children:"Average Value"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container purple",children:n.jsx(Lr,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:i.length}),n.jsx("p",{children:"Filtered Results"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search invoices...",className:"search-input",value:L,onChange:H=>D(H.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("button",{className:"btn btn-outline",onClick:()=>E(!A),children:[n.jsx(Op,{size:16}),n.jsx("span",{children:"Filters"})]})})]}),A&&n.jsx("div",{className:"card",style:{marginBottom:"20px",padding:"20px"},children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Payment Status"}),n.jsxs("select",{className:"form-select",value:B,onChange:H=>pe("paymentStatus",H.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Payment Method"}),n.jsxs("select",{className:"form-select",value:k,onChange:H=>pe("paymentMethod",H.target.value),children:[n.jsx("option",{value:"all",children:"All Methods"}),n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"card",children:"Card"}),n.jsx("option",{value:"upi",children:"UPI"}),n.jsx("option",{value:"netbanking",children:"Net Banking"}),n.jsx("option",{value:"wallet",children:"Wallet"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Branch"}),n.jsxs("select",{className:"form-select",value:F,onChange:H=>pe("branch",H.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(H=>n.jsx("option",{value:H._id,children:H.name},H._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Date Range"}),n.jsxs("select",{className:"form-select",value:R,onChange:H=>pe("date",H.target.value),children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"Last 7 Days"}),n.jsx("option",{value:"month",children:"Last 30 Days"})]})]})]})}),p&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:18}),n.jsx("span",{children:p})]}),n.jsx("div",{className:"data-card",children:u?n.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx(Mn,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading staff invoices..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Invoice Details"}),n.jsx("th",{children:"Staff"}),n.jsx("th",{children:"Date & Time"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Table"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Payment"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(H=>{var de,Se;return n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:H.invoiceId}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Order: ",H.orderId]})]}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:H.customer}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:H.customerMobile})]}),n.jsxs("td",{children:[n.jsx("div",{children:H.date}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:H.time})]}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:H.branch}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Table ",H.tableNumber,"  ",H.peopleCount," Guests"]})]}),n.jsx("td",{children:H.tableNumber}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"600",color:"#666"},children:H.amount}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:[H.items," Items"]})]}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[Ce(H.paymentMethod),n.jsx("span",{style:{fontSize:"12px",textTransform:"capitalize"},children:H.paymentMethod})]})}),n.jsx("td",{children:n.jsx("span",{className:`status-badge ${H.paymentStatus}`,children:((de=H.paymentStatus)==null?void 0:de.charAt(0).toUpperCase())+((Se=H.paymentStatus)==null?void 0:Se.slice(1))})}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>Y(H),title:"View Details",children:n.jsx(Za,{size:14})}),n.jsx("button",{className:"action-btn edit",onClick:()=>Z(H),title:"Download PDF",children:n.jsx(lc,{size:14})})]})})]},H.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"no-orders",children:"No staff invoices found matching your criteria"})})})]})}),q>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>ge(H=>Math.max(H-1,1)),disabled:ne===1||u,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,q)},(H,de)=>{let Se;return q<=5||ne<=3?Se=de+1:ne>=q-2?Se=q-4+de:Se=ne-2+de,n.jsx("button",{className:`pagination-page ${ne===Se?"active":""}`,onClick:()=>ge(Se),disabled:u,children:Se},Se)}),q>5&&ne<q-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),q>5&&ne<q-2&&n.jsx("button",{className:`pagination-page ${ne===q?"active":""}`,onClick:()=>ge(q),disabled:u,children:q})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>ge(H=>Math.min(H+1,q)),disabled:ne===q||u,children:"Next"})]}),j&&S&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"800px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Invoice Details - ",S.invoiceId]}),n.jsx("button",{className:"modal-close",onClick:ce,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"10px",color:"#333"},children:"Invoice Information"}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Invoice ID"}),n.jsx("div",{className:"order-detail-value",children:S.invoiceId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Order ID"}),n.jsx("div",{className:"order-detail-value",children:S.orderId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Date & Time"}),n.jsxs("div",{className:"order-detail-value",children:[S.date," ",S.time]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table"}),n.jsx("div",{className:"order-detail-value",children:S.tableNumber})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Guests"}),n.jsx("div",{className:"order-detail-value",children:S.peopleCount})]})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"10px",color:"#333"},children:"Staff & Branch Details"}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Staff Name"}),n.jsx("div",{className:"order-detail-value",children:S.customer})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Mobile"}),n.jsx("div",{className:"order-detail-value",children:S.customerMobile})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:S.branch})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Method"}),n.jsx("div",{className:"order-detail-value",children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[Ce(S.paymentMethod),n.jsx("span",{style:{textTransform:"capitalize"},children:S.paymentMethod})]})})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Payment Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:`status-badge ${S.paymentStatus}`,children:((Le=S.paymentStatus)==null?void 0:Le.charAt(0).toUpperCase())+((le=S.paymentStatus)==null?void 0:le.slice(1))})})]})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((qe=(Ae=S.originalInvoice)==null?void 0:Ae.items)==null?void 0:qe.length)>0?S.originalInvoice.items.map((H,de)=>n.jsxs("tr",{children:[n.jsx("td",{children:H.name}),n.jsx("td",{children:H.quantity}),n.jsxs("td",{children:["",H.price.toFixed(2)]}),n.jsxs("td",{children:["",(H.price*H.quantity).toFixed(2)]})]},de)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Bill Summary"}),n.jsx("div",{className:"order-items-table",children:n.jsx("table",{className:"data-table",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Subtotal"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((me=S.subtotal)==null?void 0:me.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Tax (5%)"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((ae=S.tax)==null?void 0:ae.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Service Charge (10%)"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((re=S.serviceCharge)==null?void 0:re.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f8f9fa"},children:[n.jsx("td",{children:"Grand Total"}),n.jsxs("td",{style:{textAlign:"right",color:"#ff7e47"},children:["",((be=S.grandTotal)==null?void 0:be.toFixed(2))||"0.00"]})]})]})})})]}),S.notes&&n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Notes"}),n.jsx("p",{style:{padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:S.notes})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:ce,children:"Close"}),n.jsxs("button",{className:"btn btn-print",onClick:()=>K(S),children:[n.jsx(Hs,{size:16}),"Print Receipt"]}),n.jsxs("button",{className:"btn btn-outline",onClick:()=>Z(S),children:[n.jsx(lc,{size:16}),"Download PDF"]})]})]})}),y&&g&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Invoice Statistics"}),n.jsx("button",{className:"modal-close",onClick:xe,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"stats-grid",style:{gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"24px"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container orange",children:n.jsx(Ds,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:g.totalInvoices||0}),n.jsx("p",{children:"Total Invoices"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container green",children:n.jsx(kp,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.totalRevenue||0).toFixed(2)]}),n.jsx("p",{children:"Total Revenue"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container blue",children:n.jsx(Zl,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.averageInvoiceValue||0).toFixed(2)]}),n.jsx("p",{children:"Average Invoice Value"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container purple",children:n.jsx(Lr,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:R==="all"?"All Time":R==="today"?"Today":R==="week"?"Last 7 Days":"Last 30 Days"}),n.jsx("p",{children:"Time Period"})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:xe,children:"Close"})})]})})]})},Pk=bt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),Sae=()=>{var Ce,ve,Le,le,Ae,qe;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState(!0),[p,x]=N.useState(""),[g,v]=N.useState(null),[j,b]=N.useState(!1),[y,C]=N.useState(!1),[A,E]=N.useState(!1),[S,T]=N.useState(null),[_,P]=N.useState(""),[L,D]=N.useState(""),[B,M]=N.useState("all"),[k,W]=N.useState("all"),[F,I]=N.useState(""),[R,X]=N.useState(1),[ne,ge]=N.useState(1),q=10;N.useEffect(()=>{ee(),U()},[B,k,F]);const ee=async()=>{try{const me=await Pk.get("/branch");d(me.data)}catch(me){console.error("Error fetching branches:",me)}},z=me=>{const ae=new Date(me),re=ae.getFullYear(),be=String(ae.getMonth()+1).padStart(2,"0"),H=String(ae.getDate()).padStart(2,"0");return`${re}-${be}-${H}`},U=async()=>{f(!0),x("");try{const me={};if(B!=="all"&&(me.branchId=B),F.trim()&&(me.customerName=F.trim()),k!=="all"){const be=new Date,H=new Date;switch(k){case"today":me.startDate=z(be),me.endDate=z(be);break;case"week":H.setDate(be.getDate()-7),me.startDate=z(H),me.endDate=z(be);break;case"month":H.setMonth(be.getMonth()-1),me.startDate=z(H),me.endDate=z(be);break}}const ae=await Pk.get("/counter-bill",{params:me});if(!ae.data.bills||!Array.isArray(ae.data.bills))throw new Error("Invalid response format");const re=ae.data.bills.map((be,H)=>{var de,Se,Ne,je,Qe,rt,ht,lr,yr;return{id:be.id||`temp-id-${H}`,billId:`CB-${((de=be.id)==null?void 0:de.slice(-6))||H}`,orderId:((Se=be.order)==null?void 0:Se.id)||"N/A",invoiceNumber:((Ne=be.invoice)==null?void 0:Ne.invoiceNumber)||"N/A",customer:be.customerName||"Unknown Customer",customerMobile:be.phoneNumber||"N/A",counterUser:((je=be.userId)==null?void 0:je.name)||"Unknown Counter",counterMobile:((Qe=be.userId)==null?void 0:Qe.mobile)||"N/A",date:be.date||new Date().toLocaleDateString("en-IN"),time:be.time||new Date().toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),branch:((rt=be.branch)==null?void 0:rt.name)||"Unknown Branch",branchId:((ht=be.branch)==null?void 0:ht.id)||null,branchAddress:((lr=be.branch)==null?void 0:lr.location)||"Unknown Address",items:((yr=be.items)==null?void 0:yr.length)||0,subtotal:be.subtotal||0,tax:be.tax||0,serviceCharge:be.serviceCharge||0,totalAmount:be.grandTotal||be.totalAmount||0,amount:`${(be.grandTotal||be.totalAmount||0).toFixed(2)}`,originalBill:be,createdAt:be.createdAt||new Date().toISOString()}});t(re),V(re)}catch(me){console.error("Error fetching counter bills:",me),x("Failed to load counter bills. Please refresh the page and try again.")}finally{f(!1)}},V=(me=e)=>{if(me.length===0){v({totalBills:0,totalRevenue:0,averageBillValue:0});return}const ae=me.length,re=me.reduce((H,de)=>H+de.totalAmount,0),be=re/ae;v({totalBills:ae,totalRevenue:re,averageBillValue:be})};N.useEffect(()=>{const me=e.filter(ae=>{if(!L.trim())return!0;const re=L.trim().toLowerCase();return ae.billId.toLowerCase().includes(re)||ae.orderId.toLowerCase().includes(re)||ae.customer.toLowerCase().includes(re)||ae.customerMobile.includes(L.trim())||ae.invoiceNumber.toLowerCase().includes(re)});s(me),ge(Math.ceil(me.length/q)),X(1)},[e,L]),N.useEffect(()=>{const me=(R-1)*q,ae=me+q,re=i.slice(me,ae);a(re)},[i,R]);const te=me=>{const ae=document.createElement("canvas");return ae.width=me.width,ae.height=me.height,ae.getContext("2d").drawImage(me,0,0),ae.toDataURL("image/jpeg")},se=me=>{const ae=window.open("","_blank"),re=new Image;re.crossOrigin="anonymous",re.onload=()=>{var de,Se;let be="";try{be=te(re)}catch(Ne){console.warn("Could not convert logo to base64:",Ne)}const H=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Counter Bill ${me.billId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .logo { width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 8px; display: block; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin: 10px 0; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .bill-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .bill-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${be?`<img src="${be}" alt="Hotel Virat Logo" class="logo">`:""}
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${me.branchAddress}</div>
            <div class="bill-title">Counter Bill</div>
            <div style="font-size: 14px; color: #666;">Bill No: ${me.billId}</div>
          </div>
          
          <div class="bill-details">
            <div class="detail-section">
              <h3>Bill Details</h3>
              <div class="detail-row">
                <span class="detail-label">Bill ID:</span>
                <span class="detail-value">${me.billId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${me.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Invoice No:</span>
                <span class="detail-value">${me.invoiceNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${me.date}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${me.time}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Customer & Counter Details</h3>
              <div class="detail-row">
                <span class="detail-label">Customer Name:</span>
                <span class="detail-value">${me.customer}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Customer Mobile:</span>
                <span class="detail-value">${me.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Counter User:</span>
                <span class="detail-value">${me.counterUser}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${me.branch}</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((Se=(de=me.originalBill)==null?void 0:de.items)==null?void 0:Se.map(Ne=>`
                    <tr>
                      <td>${Ne.name}</td>
                      <td style="text-align: center;">${Ne.quantity}</td>
                      <td style="text-align: right;">${Ne.price.toFixed(2)}</td>
                      <td style="text-align: right;">${(Ne.price*Ne.quantity).toFixed(2)}</td>
                    </tr>
                  `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${me.subtotal.toFixed(2)}</span>
            </div>
            ${me.tax>0?`
            <div class="total-row">
              <span class="total-label">Tax:</span>
              <span>${me.tax.toFixed(2)}</span>
            </div>
            `:""}
            ${me.serviceCharge>0?`
            <div class="total-row">
              <span class="total-label">Service Charge:</span>
              <span>${me.serviceCharge.toFixed(2)}</span>
            </div>
            `:""}
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${me.totalAmount.toFixed(2)}</span>
            </div>
          </div>

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;ae.document.write(H),ae.document.close(),ae.focus(),setTimeout(()=>{ae.print()},500)},re.onerror=()=>{var H,de;console.warn("Could not load logo image, generating PDF without logo");const be=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Counter Bill ${me.billId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin-bottom: 10px; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .bill-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .bill-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${me.branchAddress}</div>
            <div class="bill-title">Counter Bill</div>
            <div style="font-size: 14px; color: #666;">Bill No: ${me.billId}</div>
          </div>
          
          <div class="bill-details">
            <div class="detail-section">
              <h3>Bill Details</h3>
              <div class="detail-row">
                <span class="detail-label">Bill ID:</span>
                <span class="detail-value">${me.billId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${me.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Invoice No:</span>
                <span class="detail-value">${me.invoiceNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${me.date}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${me.time}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Customer & Counter Details</h3>
              <div class="detail-row">
                <span class="detail-label">Customer Name:</span>
                <span class="detail-value">${me.customer}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Customer Mobile:</span>
                <span class="detail-value">${me.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Counter User:</span>
                <span class="detail-value">${me.counterUser}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${me.branch}</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((de=(H=me.originalBill)==null?void 0:H.items)==null?void 0:de.map(Se=>`
                    <tr>
                      <td>${Se.name}</td>
                      <td style="text-align: center;">${Se.quantity}</td>
                      <td style="text-align: right;">${Se.price.toFixed(2)}</td>
                      <td style="text-align: right;">${(Se.price*Se.quantity).toFixed(2)}</td>
                    </tr>
                  `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${me.subtotal.toFixed(2)}</span>
            </div>
            ${me.tax>0?`
            <div class="total-row">
              <span class="total-label">Tax:</span>
              <span>${me.tax.toFixed(2)}</span>
            </div>
            `:""}
            ${me.serviceCharge>0?`
            <div class="total-row">
              <span class="total-label">Service Charge:</span>
              <span>${me.serviceCharge.toFixed(2)}</span>
            </div>
            `:""}
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${me.totalAmount.toFixed(2)}</span>
            </div>
          </div>

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;ae.document.write(be),ae.document.close(),ae.focus(),setTimeout(()=>{ae.print()},500)},re.src=Yc},Z=me=>{var be,H,de,Se,Ne,je;const ae=window.open("","_blank","width=302,height=600"),re=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Bill ${me.billId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            max-width: 80mm;
            padding: 5mm;
            font-size: 12px;
            line-height: 1.4;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .hotel-name { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .branch-name { font-size: 12px; margin-bottom: 3px; }
          .bill-info { margin-bottom: 10px; }
          .bill-id { font-size: 14px; font-weight: bold; text-align: center; margin: 8px 0; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .info-label { font-weight: bold; }
          .divider { border-top: 1px dashed #000; margin: 8px 0; }
          .items-header { font-weight: bold; margin-bottom: 5px; }
          .item-row { margin-bottom: 5px; }
          .item-name { font-weight: bold; }
          .item-details { display: flex; justify-content: space-between; font-size: 11px; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .grand-total { font-size: 14px; font-weight: bold; border-top: 1px dashed #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 11px; border-top: 1px dashed #000; padding-top: 10px; }
          .thank-you { font-weight: bold; margin-bottom: 5px; }
          @media print { 
            body { width: 80mm; }
            @page { size: 80mm auto; margin: 0; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">HOTEL VIRAT</div>
          <div class="branch-name">${me.branch}</div>
        </div>
        
        <div class="bill-id">Bill #${me.billId}</div>
        <div style="text-align: center; font-size: 11px; margin-bottom: 8px;">Invoice: ${me.invoiceNumber}</div>
        
        <div class="bill-info">
          <div class="info-row">
            <span class="info-label">Date:</span>
            <span>${me.date}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Time:</span>
            <span>${me.time}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Customer:</span>
            <span>${me.customer}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Mobile:</span>
            <span>${me.customerMobile}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Counter:</span>
            <span>${me.counterUser}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="items-section">
          <div class="items-header">ITEMS</div>
          ${((H=(be=me.originalBill)==null?void 0:be.items)==null?void 0:H.map(Qe=>`
            <div class="item-row">
              <div class="item-name">${Qe.name}</div>
              <div class="item-details">
                <span>${Qe.quantity} x ${Qe.price.toFixed(2)}</span>
                <span>${(Qe.price*Qe.quantity).toFixed(2)}</span>
              </div>
            </div>
          `).join(""))||"<div>No items</div>"}
        </div>
        
        <div class="divider"></div>
        
        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>${((de=me.subtotal)==null?void 0:de.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Tax:</span>
            <span>${((Se=me.tax)==null?void 0:Se.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Service:</span>
            <span>${((Ne=me.serviceCharge)==null?void 0:Ne.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row grand-total">
            <span>TOTAL:</span>
            <span>${((je=me.totalAmount)==null?void 0:je.toFixed(2))||"0.00"}</span>
          </div>
        </div>
        
        <div class="footer">
          <div class="thank-you">Thank You!</div>
          <div>Visit Again</div>
          <div style="margin-top: 5px; font-size: 10px;">${new Date().toLocaleString("en-IN")}</div>
        </div>
      </body>
      </html>
    `;ae.document.write(re),ae.document.close(),ae.focus(),setTimeout(()=>{ae.print()},300)},K=me=>{T(me),b(!0)},Y=()=>{b(!1),T(null)},ce=()=>{C(!1)},xe=(me,ae)=>{me==="branch"?M(ae):me==="date"?W(ae):me==="customer"&&I(ae),X(1)},pe=()=>{let me=`Bill ID,Order ID,Invoice No,Customer,Mobile,Counter User,Date,Time,Branch,Items,Subtotal,Tax,Service Charge,Total Amount
`;i.forEach(H=>{me+=`${H.billId},${H.orderId},${H.invoiceNumber},"${H.customer}",${H.customerMobile},"${H.counterUser}","${H.date}","${H.time}","${H.branch}",${H.items},${H.subtotal.toFixed(2)},${H.tax.toFixed(2)},${H.serviceCharge.toFixed(2)},${H.totalAmount.toFixed(2)}
`});const ae=new Blob([me],{type:"text/csv"}),re=window.URL.createObjectURL(ae),be=document.createElement("a");be.setAttribute("hidden",""),be.setAttribute("href",re),be.setAttribute("download",`counter-bills-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(be),be.click(),document.body.removeChild(be)};return n.jsxs("div",{className:"orders-page",children:[_&&n.jsxs("div",{className:"success-message",children:[n.jsx(fn,{size:16}),n.jsx("span",{children:_}),n.jsx("button",{onClick:()=>P(""),children:n.jsx(Un,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Counter Bills"}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-outline",onClick:()=>C(!0),children:[n.jsx(Zl,{size:16}),n.jsx("span",{children:"Statistics"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:pe,children:[n.jsx(On,{size:16}),n.jsx("span",{children:"Export CSV"})]}),n.jsxs("button",{className:"btn btn-outline",onClick:U,children:[n.jsx(Qi,{size:16}),n.jsx("span",{children:"Refresh"})]})]})]}),g&&n.jsxs("div",{className:"stats-grid",style:{gridTemplateColumns:"repeat(4, 1fr)",marginBottom:"24px"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container orange",children:n.jsx(Ds,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:g.totalBills||0}),n.jsx("p",{children:"Total Bills"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container green",children:n.jsx(kp,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.totalRevenue||0).toFixed(0)]}),n.jsx("p",{children:"Total Revenue"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container blue",children:n.jsx(Zl,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.averageBillValue||0).toFixed(0)]}),n.jsx("p",{children:"Average Bill Value"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container purple",children:n.jsx(Lr,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:i.length}),n.jsx("p",{children:"Filtered Results"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search bills...",className:"search-input",value:L,onChange:me=>D(me.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("button",{className:"btn btn-outline",onClick:()=>E(!A),children:[n.jsx(Op,{size:16}),n.jsx("span",{children:"Filters"})]})})]}),A&&n.jsx("div",{className:"card",style:{marginBottom:"20px",padding:"20px"},children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Branch"}),n.jsxs("select",{className:"form-select",value:B,onChange:me=>xe("branch",me.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(me=>n.jsx("option",{value:me._id,children:me.name},me._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"form-label",children:"Customer Name"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"Filter by customer name",value:F,onChange:me=>xe("customer",me.target.value)})]})]})}),p&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:18}),n.jsx("span",{children:p})]}),n.jsx("div",{className:"data-card",children:u?n.jsxs("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[n.jsx(Mn,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading counter bills..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Bill Details"}),n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Counter User"}),n.jsx("th",{children:"Date & Time"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Items"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(me=>n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:me.billId}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Order: ",me.orderId]}),n.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Invoice: ",me.invoiceNumber]})]}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:me.customer}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:me.customerMobile})]}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:"500"},children:me.counterUser}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:me.counterMobile})]}),n.jsxs("td",{children:[n.jsx("div",{children:me.date}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:me.time})]}),n.jsx("td",{children:n.jsx("div",{style:{fontWeight:"500"},children:me.branch})}),n.jsx("td",{children:n.jsxs("div",{style:{fontWeight:"600",color:"#666"},children:[me.items," items"]})}),n.jsx("td",{children:n.jsx("div",{style:{fontWeight:"600",color:"#666"},children:me.amount})}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>K(me),title:"View Details",children:n.jsx(Za,{size:14})}),n.jsx("button",{className:"action-btn edit",onClick:()=>se(me),title:"Download PDF",children:n.jsx(lc,{size:14})})]})})]},me.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"no-orders",children:"No counter bills found matching your criteria"})})})]})}),ne>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>X(me=>Math.max(me-1,1)),disabled:R===1||u,children:"Previous"}),n.jsxs("div",{className:"pagination-pages",children:[Array.from({length:Math.min(5,ne)},(me,ae)=>{let re;return ne<=5||R<=3?re=ae+1:R>=ne-2?re=ne-4+ae:re=R-2+ae,n.jsx("button",{className:`pagination-page ${R===re?"active":""}`,onClick:()=>X(re),disabled:u,children:re},re)}),ne>5&&R<ne-2&&n.jsx("span",{className:"pagination-ellipsis",children:"..."}),ne>5&&R<ne-2&&n.jsx("button",{className:`pagination-page ${R===ne?"active":""}`,onClick:()=>X(ne),disabled:u,children:ne})]}),n.jsx("button",{className:"pagination-btn",onClick:()=>X(me=>Math.min(me+1,ne)),disabled:R===ne||u,children:"Next"})]}),j&&S&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"800px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{className:"modal-title",children:["Bill Details - ",S.billId]}),n.jsx("button",{className:"modal-close",onClick:Y,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"10px",color:"#333"},children:"Bill Information"}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Bill ID"}),n.jsx("div",{className:"order-detail-value",children:S.billId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Order ID"}),n.jsx("div",{className:"order-detail-value",children:S.orderId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Invoice No"}),n.jsx("div",{className:"order-detail-value",children:S.invoiceNumber})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Date & Time"}),n.jsxs("div",{className:"order-detail-value",children:[S.date," ",S.time]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:S.branch})]})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{marginBottom:"10px",color:"#333"},children:"Customer & Counter Details"}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Customer Name"}),n.jsx("div",{className:"order-detail-value",children:S.customer})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Customer Mobile"}),n.jsx("div",{className:"order-detail-value",children:S.customerMobile})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Counter User"}),n.jsx("div",{className:"order-detail-value",children:S.counterUser})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Counter Mobile"}),n.jsx("div",{className:"order-detail-value",children:S.counterMobile})]})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Order Items"}),n.jsx("div",{className:"order-items-table",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:((ve=(Ce=S.originalBill)==null?void 0:Ce.items)==null?void 0:ve.length)>0?S.originalBill.items.map((me,ae)=>n.jsxs("tr",{children:[n.jsx("td",{children:me.name}),n.jsx("td",{children:me.quantity}),n.jsxs("td",{children:["",me.price.toFixed(2)]}),n.jsxs("td",{children:["",(me.price*me.quantity).toFixed(2)]})]},ae)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No items available"})})})]})})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Bill Summary"}),n.jsx("div",{className:"order-items-table",children:n.jsx("table",{className:"data-table",children:n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Subtotal"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Le=S.subtotal)==null?void 0:Le.toFixed(2))||"0.00"]})]}),S.tax>0&&n.jsxs("tr",{children:[n.jsx("td",{children:"Tax"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((le=S.tax)==null?void 0:le.toFixed(2))||"0.00"]})]}),S.serviceCharge>0&&n.jsxs("tr",{children:[n.jsx("td",{children:"Service Charge"}),n.jsxs("td",{style:{textAlign:"right"},children:["",((Ae=S.serviceCharge)==null?void 0:Ae.toFixed(2))||"0.00"]})]}),n.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f8f9fa"},children:[n.jsx("td",{children:"Grand Total"}),n.jsxs("td",{style:{textAlign:"right",color:"#ff7e47"},children:["",((qe=S.totalAmount)==null?void 0:qe.toFixed(2))||"0.00"]})]})]})})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:Y,children:"Close"}),n.jsxs("button",{className:"btn btn-print",onClick:()=>Z(S),children:[n.jsx(Hs,{size:16}),"Print Receipt"]}),n.jsxs("button",{className:"btn btn-outline",onClick:()=>se(S),children:[n.jsx(lc,{size:16}),"Download PDF"]})]})]})}),y&&g&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Counter Bills Statistics"}),n.jsx("button",{className:"modal-close",onClick:ce,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"stats-grid",style:{gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"24px"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container orange",children:n.jsx(Ds,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:g.totalBills||0}),n.jsx("p",{children:"Total Bills"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container green",children:n.jsx(kp,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.totalRevenue||0).toFixed(2)]}),n.jsx("p",{children:"Total Revenue"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container blue",children:n.jsx(Zl,{size:24})}),n.jsxs("div",{className:"stat-content",children:[n.jsxs("h3",{children:["",(g.averageBillValue||0).toFixed(2)]}),n.jsx("p",{children:"Average Bill Value"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"icon-container purple",children:n.jsx(Lr,{size:20})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{children:k==="all"?"All Time":k==="today"?"Today":k==="week"?"Last 7 Days":"Last 30 Days"}),n.jsx("p",{children:"Time Period"})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:ce,children:"Close"})})]})})]})},Nae=bt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),Tae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(!0),[l,d]=N.useState(""),[u,f]=N.useState(""),[p,x]=N.useState("all"),[g,v]=N.useState("date"),[j,b]=N.useState("desc"),[y,C]=N.useState(1),[A,E]=N.useState(1),S=7,[T,_]=N.useState(null),[P,L]=N.useState(!1);N.useEffect(()=>{D()},[p]),N.useEffect(()=>{B()},[e,u,y,g,j]);const D=async()=>{s(!0),d("");try{const q={};p!=="all"&&(q.orderType=p);const ee=await Nae.get("/staff-order",{params:q});if(!ee.data.orders||!Array.isArray(ee.data.orders))throw new Error("Invalid response format");const z=ee.data.orders.map(U=>{var V,te;return{id:U._id,orderId:U.orderId||"",customer:U.isGuestOrder?U.customerName:((V=U.userId)==null?void 0:V.name)||"Unknown Staff",customerType:U.isGuestOrder?"Guest":"Staff",customerMobile:U.isGuestOrder?U.customerMobile:((te=U.userId)==null?void 0:te.mobile)||"N/A",date:new Date(U.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),rawDate:new Date(U.createdAt).getTime(),amount:U.grandTotal||0,method:U.paymentMethod||"cash",items:U.items||[],subtotal:U.subtotal||0,tax:U.tax||0,serviceCharge:U.serviceCharge||0,totalAmount:U.totalAmount||0,branchName:U.branchName||"Unknown Branch",tableNumber:U.tableNumber||"N/A",peopleCount:U.peopleCount||1,paymentStatus:U.paymentStatus||"pending",notes:U.notes||"",orderTime:U.orderTime||U.createdAt,isGuestOrder:U.isGuestOrder||!1}});t(z)}catch(q){console.error("Error fetching payments:",q),d("Failed to load payments. Please try again."),t([])}finally{s(!1)}},B=()=>{let q=[...e];if(u.trim()){const te=u.toLowerCase();q=q.filter(se=>(se.orderId||"").toLowerCase().includes(te)||(se.customer||"").toLowerCase().includes(te)||(se.branchName||"").toLowerCase().includes(te)||(se.tableNumber||"").toLowerCase().includes(te)||(se.customerMobile||"").toLowerCase().includes(te))}q.sort((te,se)=>g==="date"?j==="asc"?te.rawDate-se.rawDate:se.rawDate-te.rawDate:g==="amount"?j==="asc"?te.amount-se.amount:se.amount-te.amount:0);const ee=Math.ceil(q.length/S);E(ee||1);const z=(y-1)*S,U=z+S,V=q.slice(z,U);a(V),y>ee&&ee>0&&C(ee)},M=q=>{g===q?b(j==="asc"?"desc":"asc"):(v(q),b("desc"))},k=(q,ee)=>{x(ee),C(1)},W=q=>{f(q.target.value),C(1)},F=q=>{switch(q){case"card":return n.jsx(Xr,{className:"h-5 w-5"});case"upi":return n.jsx(Eu,{className:"h-5 w-5"});case"cash":return n.jsx("span",{className:"rupees-icon",children:""});case"netbanking":return n.jsx(Xr,{className:"h-5 w-5"});default:return n.jsx(Xr,{className:"h-5 w-5"})}},I=q=>{_(q),L(!0)},R=()=>{L(!1),_(null)},X=q=>{if(q==null)return"";const ee=q.toString();return ee.includes(",")||ee.includes('"')||ee.includes(`
`)?`"${ee.replace(/"/g,'""')}"`:ee},ne=()=>{let ee=["Order ID","Customer","Customer Type","Mobile","Branch","Table","Date","Subtotal","Tax","Service Charge","Total","Payment Method","Payment Status"].map(X).join(",")+`
`,z=[...e];if(u.trim()){const Z=u.toLowerCase();z=z.filter(K=>(K.orderId||"").toLowerCase().includes(Z)||(K.customer||"").toLowerCase().includes(Z)||(K.branchName||"").toLowerCase().includes(Z)||(K.tableNumber||"").toLowerCase().includes(Z)||(K.customerMobile||"").toLowerCase().includes(Z))}z.forEach(Z=>{const K=[Z.orderId,Z.customer,Z.customerType,Z.customerMobile,Z.branchName,Z.tableNumber,Z.date,`${Z.subtotal.toFixed(2)}`,`${Z.tax.toFixed(2)}`,`${Z.serviceCharge.toFixed(2)}`,`${Z.amount.toFixed(2)}`,Z.method.charAt(0).toUpperCase()+Z.method.slice(1),Z.paymentStatus.charAt(0).toUpperCase()+Z.paymentStatus.slice(1)];ee+=K.map(X).join(",")+`
`});const U="\uFEFF",V=new Blob([U+ee],{type:"text/csv;charset=utf-8;"}),te=window.URL.createObjectURL(V),se=document.createElement("a");se.setAttribute("hidden",""),se.setAttribute("href",te),se.setAttribute("download",`all-orders-payments-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(se),se.click(),document.body.removeChild(se)},ge=()=>{const q=[];if(A<=5)for(let z=1;z<=A;z++)q.push(z);else{q.push(1);let z=Math.max(2,y-1),U=Math.min(A-1,y+1);y<=3&&(z=2,U=Math.min(4,A-1)),y>=A-2&&(z=Math.max(2,A-3),U=A-1),z>2&&q.push("...");for(let V=z;V<=U;V++)q.push(V);U<A-1&&q.push("..."),q.push(A)}return q};return n.jsxs("div",{className:"payment-ui",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"All Orders Payment"}),n.jsx("div",{className:"refresh-button",onClick:D,title:"Refresh data",children:n.jsx(Qi,{className:`h-5 w-5 ${i?"animate-spin":""}`})})]}),l&&n.jsx("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("span",{children:l})}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{className:"search-icon"}),n.jsx("input",{type:"text",className:"search-input",placeholder:"Search by order ID, customer name, branch, or table",value:u,onChange:W})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select",value:p,onChange:q=>k("orderType",q.target.value),children:[n.jsx("option",{value:"all",children:"All Orders"}),n.jsx("option",{value:"staff",children:"Staff Orders"}),n.jsx("option",{value:"guest",children:"Guest Orders"})]}),n.jsxs("button",{className:"filter-btn",onClick:ne,children:[n.jsx(On,{className:"h-4 w-4"}),n.jsx("span",{children:"Export"})]})]})]}),n.jsx("div",{className:"data-card",children:n.jsx("div",{className:"card-body",children:i?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading payments..."})]}):r.length===0?n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No payments found matching your search."})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"pagination-info",children:["Showing ",(y-1)*S+1," to"," ",Math.min(y*S,e.length)," of ",e.length," entries"]}),n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Table"}),n.jsx("th",{className:"sortable-header",onClick:()=>M("date"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Date"}),g==="date"&&(j==="asc"?n.jsx(qs,{className:"h-4 w-4"}):n.jsx(Us,{className:"h-4 w-4"}))]})}),n.jsx("th",{className:"sortable-header",onClick:()=>M("amount"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Amount"}),g==="amount"&&(j==="asc"?n.jsx(qs,{className:"h-4 w-4"}):n.jsx(Us,{className:"h-4 w-4"}))]})}),n.jsx("th",{children:"Payment Method"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.map(q=>n.jsxs("tr",{children:[n.jsx("td",{children:q.orderId}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsx("div",{children:q.customer}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:q.customerMobile})]})}),n.jsx("td",{children:n.jsx("span",{className:`customer-type-badge ${q.isGuestOrder?"guest":"staff"}`,children:q.customerType})}),n.jsx("td",{children:q.branchName}),n.jsxs("td",{children:["Table ",q.tableNumber]}),n.jsx("td",{children:q.date}),n.jsxs("td",{children:["",q.amount.toFixed(2)]}),n.jsx("td",{children:n.jsxs("div",{className:"payment-method",children:[F(q.method),n.jsx("span",{className:"payment-method-text",children:q.method.charAt(0).toUpperCase()+q.method.slice(1)})]})}),n.jsx("td",{children:n.jsx("div",{className:"action-buttons",children:n.jsx("button",{className:"action-btn view",onClick:()=>I(q),children:"View"})})})]},q.id))})]})]})})}),n.jsxs("div",{className:"pagination-section",children:[n.jsxs("div",{className:"pagination-info",children:["Showing ",(y-1)*S+1," to"," ",Math.min(y*S,e.length)," of ",e.length," entries"]}),n.jsxs("div",{className:"pagination",children:[n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:y===1,onClick:()=>C(q=>Math.max(q-1,1)),children:[n.jsx(Sf,{className:"h-4 w-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"pagination-pages",children:ge().map((q,ee)=>q==="..."?n.jsx("span",{className:"pagination-ellipsis",children:"..."},ee):n.jsx("button",{className:`pagination-page ${y===q?"active":""}`,onClick:()=>C(q),children:q},ee))}),n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:y===A,onClick:()=>C(q=>Math.min(q+1,A)),children:[n.jsx("span",{children:"Next"}),n.jsx(Nf,{className:"h-4 w-4"})]})]})]}),P&&T&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h2",{className:"modal-title",children:[T.customerType," Order Payment Details"]}),n.jsx("button",{className:"modal-close",onClick:R,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"payment-details",children:[n.jsxs("div",{className:"payment-info-grid",children:[n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Payment Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Order ID:"}),n.jsx("span",{className:"info-value",children:T.orderId})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Date:"}),n.jsx("span",{className:"info-value",children:T.date})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Branch:"}),n.jsx("span",{className:"info-value",children:T.branchName})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Table:"}),n.jsxs("span",{className:"info-value",children:["Table ",T.tableNumber]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Peoples:"}),n.jsx("span",{className:"info-value",children:n.jsxs("div",{className:"people-count",children:[n.jsx(Bi,{className:"h-4 w-4"}),T.peopleCount]})})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Subtotal:"}),n.jsxs("span",{className:"info-value",children:["",T.subtotal.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Tax (5%):"}),n.jsxs("span",{className:"info-value",children:["",T.tax.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Service Charge (10%):"}),n.jsxs("span",{className:"info-value",children:["",T.serviceCharge.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Total Amount:"}),n.jsxs("span",{className:"info-value",children:["",T.amount.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Payment Method:"}),n.jsx("span",{className:"info-value",children:n.jsxs("div",{className:"payment-method",children:[F(T.method),n.jsx("span",{className:"payment-method-text",children:T.method.charAt(0).toUpperCase()+T.method.slice(1)})]})})]})]})]}),n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Customer Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Name:"}),n.jsx("span",{className:"info-value",children:T.customer})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Type:"}),n.jsx("span",{className:"info-value",children:n.jsx("span",{className:`customer-type-badge ${T.isGuestOrder?"guest":"staff"}`,children:T.customerType})})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Mobile:"}),n.jsx("span",{className:"info-value",children:T.customerMobile})]}),T.notes&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Notes:"}),n.jsx("span",{className:"info-value",children:T.notes})]})]})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Order Items"}),n.jsxs("table",{className:"order-items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:T.items.map((q,ee)=>n.jsxs("tr",{children:[n.jsx("td",{children:q.name}),n.jsx("td",{children:q.quantity}),n.jsxs("td",{children:["",q.price.toFixed(2)]}),n.jsxs("td",{children:["",(q.quantity*q.price).toFixed(2)]})]},ee))}),n.jsxs("tfoot",{children:[n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Subtotal"}),n.jsxs("td",{className:"total-value",children:["",T.subtotal.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Tax (5%)"}),n.jsxs("td",{className:"total-value",children:["",T.tax.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Service Charge (10%)"}),n.jsxs("td",{className:"total-value",children:["",T.serviceCharge.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Total"}),n.jsxs("td",{className:"total-value",children:["",T.amount.toFixed(2)]})]})]})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:R,children:"Close"})})]})}),n.jsx("style",{children:`
        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 40px;
        }

        .loading-spinner {
          border: 4px solid rgba(0, 0, 0, 0.1);
          border-left-color: var(--primary-color);
          border-radius: 50%;
          width: 30px;
          height: 30px;
          animation: spin 1s linear infinite;
          margin-bottom: 10px;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .refresh-button {
          cursor: pointer;
          padding: 8px;
          border-radius: 50%;
          transition: background-color 0.2s;
        }

        .refresh-button:hover {
          background-color: rgba(0, 0, 0, 0.05);
        }

        .animate-spin {
          animation: spin 1s linear infinite;
        }

        .pagination-info {
          margin-bottom: 10px;
          font-size: 14px;
          color: #666;
        }

        .sortable-header {
          cursor: pointer;
        }

        .sort-header {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .payment-method-text {
          font-size: 14px;
        }

        .rupees-icon {
          display: flex;
          align-items: center;
          font-size: 18px;
          line-height: 1;
        }

        .customer-type-badge {
          display: inline-block;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 500;
          text-transform: uppercase;
        }

        .customer-type-badge.staff {
          background: rgba(59, 130, 246, 0.1);
          color: #3b82f6;
        }

        .customer-type-badge.guest {
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
        }

        .people-count {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .filter-select {
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          background: white;
          min-width: 150px;
          outline: none;
          cursor: pointer;
        }

        .filter-select:focus {
          border-color: #3b82f6;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .payment-details {
          padding: 10px 0;
        }

        .payment-info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }

        @media (max-width: 768px) {
          .payment-info-grid {
            grid-template-columns: 1fr;
          }
        }

        .payment-info-section {
          background-color: var(--bg-light);
          border-radius: var(--radius-md);
          overflow: hidden;
        }

        .payment-info-title {
          font-size: 16px;
          font-weight: 600;
          padding: 12px 16px;
          background-color: var(--bg-white);
          border-bottom: 1px solid var(--border-color);
        }

        .payment-info-content {
          padding: 16px;
        }

        .info-row {
          display: flex;
          margin-bottom: 10px;
        }

        .info-label {
          width: 140px;
          font-weight: 500;
          color: var(--text-light);
        }

        .info-value {
          flex: 1;
          font-weight: 500;
        }

        .order-items-section {
          margin-top: 20px;
        }

        .order-items-table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
        }

        .order-items-table th {
          text-align: left;
          padding: 12px;
          background-color: var(--bg-light);
          font-weight: 500;
          color: var(--text-light);
        }

        .order-items-table td {
          padding: 12px;
          border-bottom: 1px solid var(--border-color);
        }

        .order-items-table tfoot td {
          padding: 12px;
          font-weight: 600;
        }

        .total-label {
          text-align: right;
          font-weight: 600;
        }

        .total-value {
          font-weight: 700;
          color: var(--primary-color);
        }

        .pagination-section {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 16px;
          margin-top: 24px;
        }

        .pagination-info {
          font-size: 14px;
          color: #666;
          text-align: center;
        }

        .pagination {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 8px;
          flex-wrap: wrap;
        }

        .pagination-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 4px;
          padding: 8px 16px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-page {
          padding: 8px 12px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-page.active {
          background-color: var(--primary-color);
          color: white;
          border-color: var(--primary-color);
        }

        .pagination-ellipsis {
          padding: 8px 12px;
          color: var(--text-light);
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }

        .empty-state {
          text-align: center;
          padding: 40px 20px;
          color: #6b7280;
        }
      `})]})},Cae=bt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),Aae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(""),[l,d]=N.useState(1),[u,f]=N.useState(1),[p,x]=N.useState(""),[g,v]=N.useState("date"),[j,b]=N.useState("desc"),[y,C]=N.useState(null),[A,E]=N.useState(!1),S=7;N.useEffect(()=>{(async()=>{a(!0),s("");try{const R={page:l,limit:S};p.trim()&&(R.search=p.trim());const X=await Cae.get("/counter-order/orders",{params:R}),ne=X.data.orders.map(q=>{var ee,z,U,V,te,se;return{id:q.id,orderId:((ee=q.invoice)==null?void 0:ee.invoiceNumber)||q.id,customer:q.customerName||"Unknown Customer",customerMobile:q.phoneNumber||"N/A",counterUser:((z=q.userId)==null?void 0:z.name)||"Unknown Counter User",counterMobile:((U=q.userId)==null?void 0:U.mobile)||"N/A",date:new Date(q.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),subtotal:q.subtotal||0,tax:q.tax||0,serviceCharge:q.serviceCharge||0,amount:q.grandTotal||q.totalAmount||0,method:q.paymentMethod||"unknown",items:q.items||[],branchName:((V=q.branch)==null?void 0:V.name)||"Unknown Branch",branchLocation:((te=q.branch)==null?void 0:te.location)||"Unknown Location",invoiceNumber:((se=q.invoice)==null?void 0:se.invoiceNumber)||"N/A",orderTime:q.createdAt}});t(ne);const ge=X.data.count||ne.length;f(Math.ceil(ge/S))}catch(R){console.error("Error fetching counter payments:",R),s("Failed to load counter payments. Please try again.")}finally{a(!1)}})()},[l,p]);const P=[...e.filter(I=>{const R=p.toLowerCase();return(I.orderId||"").toLowerCase().includes(R)||(I.customer||"").toLowerCase().includes(R)||(I.counterUser||"").toLowerCase().includes(R)||(I.branchName||"").toLowerCase().includes(R)||(I.customerMobile||"").toLowerCase().includes(R)})].sort((I,R)=>g==="date"?j==="asc"?new Date(I.date)-new Date(R.date):new Date(R.date)-new Date(I.date):g==="amount"?j==="asc"?I.amount-R.amount:R.amount-I.amount:0).slice(0,S),L=I=>{switch(I){case"card":return n.jsx(Xr,{className:"h-5 w-5"});case"upi":return n.jsx(Eu,{className:"h-5 w-5"});case"cash":return n.jsx("span",{className:"rupees-icon",children:""});case"qr":return n.jsx(Eu,{className:"h-5 w-5"});default:return n.jsx(Xr,{className:"h-5 w-5"})}},D=I=>{C(I),E(!0)},B=()=>{E(!1),C(null)},M=I=>{g===I?b(j==="asc"?"desc":"asc"):(v(I),b("desc"))},k=I=>{if(I==null)return"";const R=I.toString();return R.includes(",")||R.includes('"')||R.includes(`
`)?`"${R.replace(/"/g,'""')}"`:R},W=()=>{let R=["Order ID","Customer Name","Customer Mobile","Counter User","Branch","Date","Subtotal","Tax","Service Charge","Total Amount","Payment Method"].map(k).join(",")+`
`;e.forEach(ee=>{const z=[ee.orderId,ee.customer,ee.customerMobile,ee.counterUser,ee.branchName,ee.date,`${ee.subtotal.toFixed(2)}`,`${ee.tax.toFixed(2)}`,`${ee.serviceCharge.toFixed(2)}`,`${ee.amount.toFixed(2)}`,ee.method.charAt(0).toUpperCase()+ee.method.slice(1)];R+=z.map(k).join(",")+`
`});const X="\uFEFF",ne=new Blob([X+R],{type:"text/csv;charset=utf-8;"}),ge=window.URL.createObjectURL(ne),q=document.createElement("a");q.setAttribute("hidden",""),q.setAttribute("href",ge),q.setAttribute("download",`counter-payments-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(q),q.click(),document.body.removeChild(q)},F=()=>{const I=[];if(u<=7)for(let R=1;R<=u;R++)I.push(R);else{I.push(1);let R=Math.max(2,l-2),X=Math.min(u-1,l+2);l<=4&&(X=5),l>=u-3&&(R=u-4),R>2&&I.push("...");for(let ne=R;ne<=X;ne++)I.push(ne);X<u-1&&I.push("..."),u>1&&I.push(u)}return I};return n.jsxs("div",{className:"payment-ui",children:[n.jsx("div",{className:"page-header",children:n.jsx("h1",{children:"Counter Payments"})}),i&&n.jsx("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("span",{children:i})}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{className:"search-icon"}),n.jsx("input",{type:"text",className:"search-input",placeholder:"Search by order ID, customer name, counter user, or branch",value:p,onChange:I=>x(I.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("button",{className:"filter-btn",onClick:W,children:[n.jsx(On,{className:"h-4 w-4"}),n.jsx("span",{children:"Export"})]})})]}),n.jsx("div",{className:"data-card",children:n.jsx("div",{className:"card-body",children:r?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Loading counter payments..."})]}):P.length===0?n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"No counter payments found matching your search."})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Order ID"}),n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Counter User"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{className:"sortable-header",onClick:()=>M("date"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Date"}),g==="date"&&(j==="asc"?n.jsx(qs,{className:"h-4 w-4"}):n.jsx(Us,{className:"h-4 w-4"}))]})}),n.jsx("th",{className:"sortable-header",onClick:()=>M("amount"),children:n.jsxs("div",{className:"sort-header",children:[n.jsx("span",{children:"Amount"}),g==="amount"&&(j==="asc"?n.jsx(qs,{className:"h-4 w-4"}):n.jsx(Us,{className:"h-4 w-4"}))]})}),n.jsx("th",{children:"Payment Method"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:P.map(I=>n.jsxs("tr",{children:[n.jsx("td",{children:I.orderId}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsx("div",{children:I.customer}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:I.customerMobile})]})}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsx("div",{children:I.counterUser}),n.jsx("div",{style:{fontSize:"12px",color:"#666"},children:I.counterMobile})]})}),n.jsx("td",{children:I.branchName}),n.jsx("td",{children:I.date}),n.jsxs("td",{children:["",I.amount.toFixed(2)]}),n.jsx("td",{children:n.jsxs("div",{className:"payment-method",children:[L(I.method),n.jsx("span",{className:"payment-method-text",children:I.method.charAt(0).toUpperCase()+I.method.slice(1)})]})}),n.jsx("td",{children:n.jsx("div",{className:"action-buttons",children:n.jsx("button",{className:"action-btn view",onClick:()=>D(I),children:"View"})})})]},I.id))})]})})}),n.jsxs("div",{className:"pagination",children:[n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:l===1,onClick:()=>d(I=>Math.max(I-1,1)),children:[n.jsx(Sf,{className:"h-4 w-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"pagination-pages",children:F().map((I,R)=>I==="..."?n.jsx("span",{className:"pagination-ellipsis",children:"..."},R):n.jsx("button",{className:`pagination-page ${l===I?"active":""}`,onClick:()=>d(I),children:I},R))}),n.jsxs("button",{className:"pagination-btn flex items-center justify-center gap-1",disabled:l===u,onClick:()=>d(I=>Math.min(I+1,u)),children:[n.jsx("span",{children:"Next"}),n.jsx(Nf,{className:"h-4 w-4"})]})]}),A&&y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{className:"modal-title",children:"Counter Payment Details"}),n.jsx("button",{className:"modal-close",onClick:B,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"payment-details",children:[n.jsxs("div",{className:"payment-info-grid",children:[n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Payment Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Order ID:"}),n.jsx("span",{className:"info-value",children:y.orderId})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Invoice Number:"}),n.jsx("span",{className:"info-value",children:y.invoiceNumber})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Date:"}),n.jsx("span",{className:"info-value",children:y.date})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Branch:"}),n.jsx("span",{className:"info-value",children:y.branchName})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Subtotal:"}),n.jsxs("span",{className:"info-value",children:["",y.subtotal.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Tax:"}),n.jsxs("span",{className:"info-value",children:["",y.tax.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Service Charge:"}),n.jsxs("span",{className:"info-value",children:["",y.serviceCharge.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Total Amount:"}),n.jsxs("span",{className:"info-value",children:["",y.amount.toFixed(2)]})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Payment Method:"}),n.jsx("span",{className:"info-value",children:n.jsxs("div",{className:"payment-method",children:[L(y.method),n.jsx("span",{className:"payment-method-text",children:y.method.charAt(0).toUpperCase()+y.method.slice(1)})]})})]})]})]}),n.jsxs("div",{className:"payment-info-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Customer & Counter Information"}),n.jsxs("div",{className:"payment-info-content",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Customer Name:"}),n.jsx("span",{className:"info-value",children:y.customer})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Customer Mobile:"}),n.jsx("span",{className:"info-value",children:y.customerMobile})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Counter User:"}),n.jsx("span",{className:"info-value",children:y.counterUser})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Counter Mobile:"}),n.jsx("span",{className:"info-value",children:y.counterMobile})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:"Branch Location:"}),n.jsx("span",{className:"info-value",children:y.branchLocation})]})]})]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h3",{className:"payment-info-title",children:"Order Items"}),n.jsxs("table",{className:"order-items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Item"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:y.items.map((I,R)=>n.jsxs("tr",{children:[n.jsx("td",{children:I.name}),n.jsx("td",{children:I.quantity}),n.jsxs("td",{children:["",I.price.toFixed(2)]}),n.jsxs("td",{children:["",(I.quantity*I.price).toFixed(2)]})]},R))}),n.jsxs("tfoot",{children:[n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Subtotal"}),n.jsxs("td",{className:"total-value",children:["",y.subtotal.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Tax"}),n.jsxs("td",{className:"total-value",children:["",y.tax.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Service Charge"}),n.jsxs("td",{className:"total-value",children:["",y.serviceCharge.toFixed(2)]})]}),n.jsxs("tr",{children:[n.jsx("td",{colSpan:"3",className:"total-label",children:"Total"}),n.jsxs("td",{className:"total-value",children:["",y.amount.toFixed(2)]})]})]})]})]})]})}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn btn-outline",onClick:B,children:"Close"})})]})}),n.jsx("style",{children:`
        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 40px;
        }

        .loading-spinner {
          border: 4px solid rgba(0, 0, 0, 0.1);
          border-left-color: var(--primary-color);
          border-radius: 50%;
          width: 30px;
          height: 30px;
          animation: spin 1s linear infinite;
          margin-bottom: 10px;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        .sortable-header {
          cursor: pointer;
        }

        .sort-header {
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .payment-method-text {
          font-size: 14px;
        }

        .rupees-icon {
          display: flex;
          align-items: center;
          font-size: 18px;
          line-height: 1;
        }

        .payment-details {
          padding: 10px 0;
        }

        .payment-info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }

        @media (max-width: 768px) {
          .payment-info-grid {
            grid-template-columns: 1fr;
          }
        }

        .payment-info-section {
          background-color: var(--bg-light);
          border-radius: var(--radius-md);
          overflow: hidden;
        }

        .payment-info-title {
          font-size: 16px;
          font-weight: 600;
          padding: 12px 16px;
          background-color: var(--bg-white);
          border-bottom: 1px solid var(--border-color);
        }

        .payment-info-content {
          padding: 16px;
        }

        .info-row {
          display: flex;
          margin-bottom: 10px;
        }

        .info-label {
          width: 140px;
          font-weight: 500;
          color: var(--text-light);
        }

        .info-value {
          flex: 1;
          font-weight: 500;
        }

        .order-items-section {
          margin-top: 20px;
        }

        .order-items-table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
        }

        .order-items-table th {
          text-align: left;
          padding: 12px;
          background-color: var(--bg-light);
          font-weight: 500;
          color: var(--text-light);
        }

        .order-items-table td {
          padding: 12px;
          border-bottom: 1px solid var(--border-color);
        }

        .order-items-table tfoot td {
          padding: 12px;
          font-weight: 600;
        }

        .total-label {
          text-align: right;
          font-weight: 600;
        }

        .total-value {
          font-weight: 700;
          color: var(--primary-color);
        }

        .pagination-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 4px;
          padding: 8px 16px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .pagination-page {
          padding: 8px 12px;
          border: 1px solid var(--border-color);
          border-radius: var(--radius-md);
          background-color: var(--bg-white);
          cursor: pointer;
        }

        .pagination-page.active {
          background-color: var(--primary-color);
          color: white;
          border-color: var(--primary-color);
        }

        .pagination-ellipsis {
          padding: 8px 12px;
          color: var(--text-light);
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }
      `})]})},_ae=()=>{var ee;const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(null),[l,d]=N.useState(!1),[u,f]=N.useState(""),[p,x]=N.useState("all"),[g,v]=N.useState(1),[j,b]=N.useState(1),[y,C]=N.useState(!1),[A,E]=N.useState(null),[S,T]=N.useState(1),[_,P]=N.useState(0);N.useEffect(()=>{L()},[g,p,u]);const L=async()=>{try{a(!0);const z=new URLSearchParams({page:g,limit:10,status:p!=="all"?p:"",search:u}),U=await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission?${z}`);if(!U.ok)throw new Error(`HTTP error! status: ${U.status}`);const V=await U.json();V.success&&(t(V.submissions),b(V.totalPages))}catch{}finally{a(!1)}},D=async z=>{try{const V=await(await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission/${z}/approve`,{method:"PUT",headers:{"Content-Type":"application/json"}})).json();V.success?(L(),alert("Submission approved successfully!")):alert("Error approving submission: "+V.message)}catch(U){console.error("Error approving submission:",U),alert("Error approving submission")}},B=async z=>{try{const V=await(await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission/${z}/reject`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejectionReason:"Rejected by admin"})})).json();V.success?(L(),alert("Submission rejected successfully!")):alert("Error rejecting submission: "+V.message)}catch(U){console.error("Error rejecting submission:",U),alert("Error rejecting submission")}},M=z=>{console.log("Selected submission:",z),s(z),d(!0)},k=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),W=z=>z.charAt(0).toUpperCase()+z.slice(1).replace(/_/g," "),F=z=>z?z.startsWith("http://")||z.startsWith("https://")?z:`https://hotelvirat.com/api/v1/${z}`:null,I=(z,U)=>{E({uri:F(z),type:U}),T(1),P(0),C(!0)},R=()=>{C(!1),E(null),T(1),P(0)},X=()=>{T(z=>Math.min(z+.25,3))},ne=()=>{T(z=>Math.max(z-.25,.5))},ge=()=>{P(z=>(z+90)%360)},q=z=>z.qrCodeUri||z.paymentImageUri||z.billImageUri;return n.jsxs("div",{children:[n.jsx("div",{className:"page-header",children:n.jsx("h1",{children:"Product Submissions"})}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{className:"search-icon",size:20}),n.jsx("input",{type:"text",placeholder:"Search by user phone or submission ID...",className:"search-input",value:u,onChange:z=>f(z.target.value)})]}),n.jsx("div",{className:"filter-buttons",children:n.jsxs("select",{className:"filter-select",value:p,onChange:z=>x(z.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"submitted",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"qr_uploaded",children:"QR Uploaded"}),n.jsx("option",{value:"payment_uploaded",children:"Payment Uploaded"}),n.jsx("option",{value:"bill_uploaded",children:"Bill Uploaded"}),n.jsx("option",{value:"completed",children:"Completed"})]})})]}),n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Submission ID"}),n.jsx("th",{children:"User Phone"}),n.jsx("th",{children:"User Name"}),n.jsx("th",{children:"Products"}),n.jsx("th",{children:"Total Amount"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"Loading submissions..."})}):e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"No submissions found"})}):e.map(z=>{var U;return n.jsxs("tr",{children:[n.jsx("td",{children:z.submissionId}),n.jsx("td",{children:z.userPhone}),n.jsx("td",{children:((U=z.userId)==null?void 0:U.name)||"N/A"}),n.jsxs("td",{children:[z.products.length," items"]}),n.jsxs("td",{children:["",z.totalAmount]}),n.jsx("td",{children:W(z.status)}),n.jsx("td",{children:k(z.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>M(z),children:n.jsx(Za,{size:14})}),z.status==="submitted"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"action-btn edit",onClick:()=>D(z._id),children:n.jsx(fn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>B(z._id),children:n.jsx(Un,{size:14})})]})]})})]},z._id)})})]})}),j>1&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",disabled:g===1,onClick:()=>v(g-1),children:"Previous"}),n.jsx("div",{className:"pagination-pages",children:Array.from({length:j},(z,U)=>U+1).map(z=>n.jsx("button",{className:`pagination-page ${g===z?"active":""}`,onClick:()=>v(z),children:z},z))}),n.jsx("button",{className:"pagination-btn",disabled:g===j,onClick:()=>v(g+1),children:"Next"})]}),l&&i&&n.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:n.jsxs("div",{className:"modal large-modal",onClick:z=>z.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:["Submission Details - ",i.submissionId]}),n.jsx("button",{className:"modal-close",onClick:()=>d(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"submission-info-grid",children:[n.jsxs("div",{className:"info-card",children:[n.jsx("h4",{children:"Basic Information"}),n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Submission ID:"}),n.jsx("span",{className:"order-detail-value",children:i.submissionId})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"User Phone:"}),n.jsx("span",{className:"order-detail-value",children:i.userPhone})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"User Name:"}),n.jsx("span",{className:"order-detail-value",children:((ee=i.userId)==null?void 0:ee.name)||"N/A"})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Status:"}),n.jsx("span",{children:W(i.status)})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Total Amount:"}),n.jsxs("span",{className:"order-detail-value amount",children:["",i.totalAmount]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Date:"}),n.jsx("span",{className:"order-detail-value",children:k(i.createdAt)})]})]})]}),n.jsxs("div",{className:"info-card",children:[n.jsxs("h4",{children:["Products (",i.products.length," items)"]}),n.jsx("div",{className:"products-list",children:i.products.map((z,U)=>n.jsxs("div",{className:"product-item",children:[n.jsx("div",{className:"product-name",children:z.name}),n.jsxs("div",{className:"product-details",children:[n.jsxs("span",{children:["",z.price,"  ",z.quantity," ",z.unit]}),n.jsxs("span",{className:"product-total",children:["",(z.price*z.quantity).toFixed(2)]})]})]},U))})]})]}),q(i)&&n.jsxs("div",{className:"images-section",children:[n.jsx("h4",{children:"Uploaded Images"}),n.jsxs("div",{className:"images-grid",children:[i.qrCodeUri&&n.jsxs("div",{className:"image-item",children:[n.jsx("div",{className:"image-header",children:n.jsx("h5",{children:"QR Code"})}),n.jsxs("div",{className:"image-container",children:[n.jsx("img",{src:F(i.qrCodeUri)||"/placeholder.svg",alt:"QR Code",className:"modal-image",onClick:()=>I(i.qrCodeUri,"QR Code")}),n.jsx("div",{className:"image-overlay",children:n.jsx("button",{className:"view-full-btn",onClick:()=>I(i.qrCodeUri,"QR Code"),children:"View Full Size"})})]})]}),i.paymentImageUri&&n.jsxs("div",{className:"image-item",children:[n.jsx("div",{className:"image-header",children:n.jsx("h5",{children:"Payment Confirmation"})}),n.jsxs("div",{className:"image-container",children:[n.jsx("img",{src:F(i.paymentImageUri)||"/placeholder.svg",alt:"Payment",className:"modal-image",onClick:()=>I(i.paymentImageUri,"Payment Confirmation")}),n.jsx("div",{className:"image-overlay",children:n.jsx("button",{className:"view-full-btn",onClick:()=>I(i.paymentImageUri,"Payment Confirmation"),children:"View Full Size"})})]}),i.paymentUploadedAt&&n.jsxs("div",{className:"image-date",children:["Uploaded: ",k(i.paymentUploadedAt)]})]}),i.billImageUri&&n.jsxs("div",{className:"image-item",children:[n.jsx("div",{className:"image-header",children:n.jsx("h5",{children:"Bill Image"})}),n.jsxs("div",{className:"image-container",children:[n.jsx("img",{src:F(i.billImageUri)||"/placeholder.svg",alt:"Bill",className:"modal-image",onClick:()=>I(i.billImageUri,"Bill Image"),onError:z=>{console.log("Bill image failed to load:",i.billImageUri),z.target.style.display="none"}}),n.jsx("div",{className:"image-overlay",children:n.jsx("button",{className:"view-full-btn",onClick:()=>I(i.billImageUri,"Bill Image"),children:"View Full Size"})})]}),i.billUploadedAt&&n.jsxs("div",{className:"image-date",children:["Uploaded: ",k(i.billUploadedAt)]})]})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[i.status==="submitted"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{className:"btn btn-primary",onClick:()=>{D(i._id),d(!1)},children:[n.jsx(fn,{size:16}),"Approve"]}),n.jsxs("button",{className:"btn btn-outline",onClick:()=>{B(i._id),d(!1)},children:[n.jsx(Un,{size:16}),"Reject"]})]}),n.jsx("button",{className:"btn btn-outline",onClick:()=>d(!1),children:"Close"})]})]})}),y&&A&&n.jsx("div",{className:"image-viewer-overlay",onClick:R,children:n.jsxs("div",{className:"image-viewer-modal",onClick:z=>z.stopPropagation(),children:[n.jsxs("div",{className:"image-viewer-header",children:[n.jsx("h3",{children:A.type}),n.jsxs("div",{className:"image-viewer-controls",children:[n.jsx("button",{className:"control-btn",onClick:ne,title:"Zoom Out",children:n.jsx(hz,{size:20})}),n.jsxs("span",{className:"zoom-level",children:[Math.round(S*100),"%"]}),n.jsx("button",{className:"control-btn",onClick:X,title:"Zoom In",children:n.jsx(uz,{size:20})}),n.jsx("button",{className:"control-btn",onClick:ge,title:"Rotate",children:n.jsx(U7,{size:20})}),n.jsx("button",{className:"control-btn close-btn",onClick:R,children:""})]})]}),n.jsx("div",{className:"image-viewer-content",children:n.jsx("img",{src:A.uri||"/placeholder.svg",alt:A.type,className:"viewer-image",style:{transform:`scale(${S}) rotate(${_}deg)`,transition:"transform 0.3s ease"},onError:z=>{console.error("Image failed to load:",A.uri),z.target.src="/placeholder.svg?height=400&width=400"}})})]})}),n.jsx("style",{jsx:!0,children:`
        .large-modal {
          width: 90%;
          max-width: 1200px;
          max-height: 90vh;
          overflow-y: auto;
        }

        .submission-info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 30px;
        }

        .info-card {
          background: #f8f9fa;
          padding: 20px;
          border-radius: 8px;
          border: 1px solid #e9ecef;
        }

        .info-card h4 {
          margin: 0 0 15px 0;
          color: #333;
          font-size: 16px;
          font-weight: 600;
          border-bottom: 2px solid #007bff;
          padding-bottom: 8px;
        }

        .products-list {
          max-height: 200px;
          overflow-y: auto;
        }

        .product-item {
          padding: 10px 0;
          border-bottom: 1px solid #e9ecef;
        }

        .product-item:last-child {
          border-bottom: none;
        }

        .product-name {
          font-weight: 600;
          color: #333;
          margin-bottom: 4px;
        }

        .product-details {
          display: flex;
          justify-content: space-between;
          font-size: 14px;
          color: #666;
        }

        .product-total {
          font-weight: 600;
          color: #28a745;
        }

        .amount {
          font-weight: 700;
          color: #28a745;
          font-size: 18px;
        }

        .images-section {
          margin-top: 30px;
          padding-top: 20px;
          border-top: 2px solid #e9ecef;
        }

        .images-section h4 {
          margin: 0 0 20px 0;
          color: #333;
          font-size: 18px;
          font-weight: 600;
        }

        .images-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 25px;
        }

        .image-item {
          background: white;
          border: 1px solid #e9ecef;
          border-radius: 12px;
          overflow: hidden;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
          transition: transform 0.2s, box-shadow 0.2s;
        }

        .image-item:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }

        .image-header {
          padding: 15px;
          background: #f8f9fa;
          border-bottom: 1px solid #e9ecef;
        }

        .image-header h5 {
          margin: 0;
          color: #333;
          font-weight: 600;
          font-size: 16px;
        }

        .image-container {
          position: relative;
          height: 250px;
          overflow: hidden;
        }

        .modal-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          cursor: pointer;
          transition: transform 0.3s;
        }

        .image-overlay {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0,0,0,0.7);
          display: flex;
          align-items: center;
          justify-content: center;
          opacity: 0;
          transition: opacity 0.3s;
        }

        .image-container:hover .image-overlay {
          opacity: 1;
        }

        .image-container:hover .modal-image {
          transform: scale(1.05);
        }

        .view-full-btn {
          background: #007bff;
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: background 0.2s;
        }

        .view-full-btn:hover {
          background: #0056b3;
        }

        .image-date {
          padding: 10px 15px;
          font-size: 12px;
          color: #666;
          background: #f8f9fa;
          border-top: 1px solid #e9ecef;
        }

        /* Image Viewer Styles */
        .image-viewer-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.95);
          z-index: 10000;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .image-viewer-modal {
          width: 95%;
          height: 95%;
          background: white;
          border-radius: 12px;
          display: flex;
          flex-direction: column;
          overflow: hidden;
        }

        .image-viewer-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 15px 20px;
          background: #f8f9fa;
          border-bottom: 1px solid #e9ecef;
        }

        .image-viewer-header h3 {
          margin: 0;
          color: #333;
          font-size: 18px;
          font-weight: 600;
        }

        .image-viewer-controls {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .control-btn {
          background: #007bff;
          color: white;
          border: none;
          padding: 8px 12px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: background 0.2s;
          display: flex;
          align-items: center;
          gap: 5px;
        }

        .control-btn:hover {
          background: #0056b3;
        }

        .close-btn {
          background: #dc3545;
          font-size: 20px;
          font-weight: bold;
          padding: 8px 12px;
        }

        .close-btn:hover {
          background: #c82333;
        }

        .zoom-level {
          color: #666;
          font-size: 14px;
          font-weight: 600;
          min-width: 50px;
          text-align: center;
        }

        .image-viewer-content {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          background: #f8f9fa;
        }

        .viewer-image {
          max-width: 100%;
          max-height: 100%;
          object-fit: contain;
          cursor: grab;
        }

        .viewer-image:active {
          cursor: grabbing;
        }

        @media (max-width: 768px) {
          .large-modal {
            width: 95%;
            margin: 20px auto;
          }

          .submission-info-grid {
            grid-template-columns: 1fr;
          }

          .images-grid {
            grid-template-columns: 1fr;
          }

          .image-viewer-controls {
            flex-wrap: wrap;
            gap: 5px;
          }

          .control-btn {
            padding: 6px 10px;
            font-size: 12px;
          }
        }
      `})]})},Eae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(null),[l,d]=N.useState(!1),[u,f]=N.useState(""),[p,x]=N.useState(1),[g,v]=N.useState(1),[j,b]=N.useState(null),[y,C]=N.useState(null);N.useEffect(()=>{A()},[p,u]);const A=async()=>{try{a(!0);const D=new URLSearchParams({page:p,limit:10,search:u,status:"qr_uploaded"}),B=await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission?${D}`);if(!B.ok)throw new Error(`HTTP error! status: ${B.status}`);const M=await B.json();M.success?(t(M.submissions),v(M.totalPages||1)):console.error("API returned error:",M.message)}catch(D){console.error("Error fetching QR uploads:",D)}finally{a(!1)}},E=async(D,B,M)=>{try{C(M);const k=await fetch(D);if(!k.ok)throw new Error("Failed to fetch image");const W=await k.blob(),F=window.URL.createObjectURL(W),I=document.createElement("a");I.href=F,I.download=B,document.body.appendChild(I),I.click(),document.body.removeChild(I),window.URL.revokeObjectURL(F)}catch(k){console.error("Error downloading image:",k),alert("Error downloading image. Please try again.")}finally{C(null)}},S=async(D,B)=>{try{b(D);const M=new FormData;M.append("paymentImage",B);const W=await(await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission/${D}/upload-payment-image`,{method:"POST",body:M})).json();W.success?(A(),alert("Payment Successful! Payment image uploaded successfully!")):alert("Error uploading image: "+W.message)}catch(M){console.error("Error uploading image:",M),alert("Error uploading image")}finally{b(null)}},T=async D=>{try{const M=await(await fetch(`https://hotelvirat.com/api/v1/hotel/product-submission/${D}/complete`,{method:"PUT",headers:{"Content-Type":"application/json"}})).json();M.success?(A(),alert("Order marked as completed!")):alert("Error completing order: "+M.message)}catch(B){console.error("Error completing order:",B),alert("Error completing order")}},_=D=>{s(D),d(!0)},P=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),L=D=>D.paymentStatus==="successful"&&D.paymentImageUri?n.jsxs("span",{className:"payment-success-badge",children:[n.jsx(ko,{size:16}),"Payment Successful"]}):n.jsx("span",{className:"payment-pending-badge",children:"Payment Pending"});return n.jsxs("div",{children:[n.jsx("div",{className:"page-header",children:n.jsx("h1",{children:"QR Code Uploads"})}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{className:"search-icon",size:20}),n.jsx("input",{type:"text",placeholder:"Search by user phone or submission ID...",className:"search-input",value:u,onChange:D=>f(D.target.value)})]})}),n.jsx("div",{className:"data-card",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Submission ID"}),n.jsx("th",{children:"User Phone"}),n.jsx("th",{children:"User Name"}),n.jsx("th",{children:"Total Amount"}),n.jsx("th",{children:"QR Upload Date"}),n.jsx("th",{children:"QR Image"}),n.jsx("th",{children:"Payment Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"Loading QR uploads..."})}):e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"No QR uploads found"})}):e.map(D=>{var B;return n.jsxs("tr",{children:[n.jsx("td",{children:D.submissionId}),n.jsx("td",{children:D.userPhone}),n.jsx("td",{children:((B=D.userId)==null?void 0:B.name)||"N/A"}),n.jsxs("td",{children:["",D.totalAmount]}),n.jsx("td",{children:P(D.updatedAt)}),n.jsx("td",{children:D.qrCodeUri?n.jsx("img",{src:`${D.qrCodeUri}`,alt:"QR Code",className:"thumbnail-image",style:{cursor:"pointer",maxWidth:"50px",maxHeight:"50px"},onClick:()=>window.open(`${D.qrCodeUri}`,"_blank")}):n.jsx("div",{className:"image-placeholder",children:"No QR"})}),n.jsx("td",{children:L(D)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>_(D),children:n.jsx(Za,{size:14})}),!D.paymentImageUri&&n.jsxs("label",{className:"action-btn edit",style:{cursor:"pointer"},children:[n.jsx(Ms,{size:14}),n.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:M=>{M.target.files[0]&&S(D._id,M.target.files[0])},disabled:j===D._id})]}),D.paymentImageUri&&D.status!=="completed"&&n.jsx("button",{className:"action-btn view",onClick:()=>T(D._id),children:n.jsx(fn,{size:14})})]})})]},D._id)})})]})}),g>1&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",disabled:p===1,onClick:()=>x(p-1),children:"Previous"}),n.jsx("div",{className:"pagination-pages",children:Array.from({length:g},(D,B)=>B+1).map(D=>n.jsx("button",{className:`pagination-page ${p===D?"active":""}`,onClick:()=>x(D),children:D},D))}),n.jsx("button",{className:"pagination-btn",disabled:p===g,onClick:()=>x(p+1),children:"Next"})]}),l&&i&&n.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:n.jsxs("div",{className:"modal",onClick:D=>D.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:"QR Upload Details"}),n.jsx("button",{className:"modal-close",onClick:()=>d(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Submission ID:"}),n.jsxs("span",{className:"order-detail-value",children:["#",i.submissionId]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"User Phone:"}),n.jsx("span",{className:"order-detail-value",children:i.userPhone})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Total Amount:"}),n.jsxs("span",{className:"order-detail-value",children:["",i.totalAmount]})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"QR Upload Date:"}),n.jsx("span",{className:"order-detail-value",children:P(i.updatedAt)})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("span",{className:"order-detail-label",children:"Payment Status:"}),n.jsx("span",{className:"order-detail-value",children:L(i)})]})]}),i.qrCodeUri&&n.jsxs("div",{style:{marginTop:"20px"},children:[n.jsx("div",{className:"modal-image-header",children:n.jsx("h4",{children:"QR Code Image"})}),n.jsx("img",{src:`${i.qrCodeUri}`,alt:"QR Code",style:{maxWidth:"100%",height:"auto",borderRadius:"8px"}})]}),i.paymentImageUri&&n.jsxs("div",{style:{marginTop:"20px"},children:[n.jsxs("div",{className:"modal-image-header",children:[n.jsx("h4",{children:"Payment Image"}),n.jsx("button",{className:"download-btn-large",onClick:()=>E(`https://hotelvirat.com/api/v1/${i.paymentImageUri}`,`Payment_${i.submissionId}.jpg`,`modal_payment_${i._id}`),disabled:y===`modal_payment_${i._id}`,children:y===`modal_payment_${i._id}`?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"spinner"}),"Downloading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(On,{size:16}),"Download Payment"]})})]}),n.jsx("img",{src:`${i.paymentImageUri}`,alt:"Payment",style:{maxWidth:"100%",height:"auto",borderRadius:"8px"}}),n.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#d4edda",borderRadius:"5px",color:"#155724"},children:[n.jsx(ko,{size:16,style:{marginRight:"8px"}}),"Payment Successful - Image uploaded on"," ",P(i.paymentUploadedAt||i.updatedAt)]})]}),n.jsxs("div",{className:"order-items-section",children:[n.jsx("h4",{children:"Products"}),n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Product Name"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Unit"}),n.jsx("th",{children:"Total"})]})}),n.jsx("tbody",{children:i.products.map((D,B)=>n.jsxs("tr",{children:[n.jsx("td",{children:D.name}),n.jsxs("td",{children:["",D.price]}),n.jsx("td",{children:D.quantity}),n.jsx("td",{children:D.unit}),n.jsxs("td",{children:["",(D.price*D.quantity).toFixed(2)]})]},B))})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[!i.paymentImageUri&&n.jsxs("label",{className:"btn btn-primary",style:{cursor:"pointer"},children:[n.jsx(Ms,{size:16}),"Upload Payment Image",n.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:D=>{D.target.files[0]&&(S(i._id,D.target.files[0]),d(!1))}})]}),i.paymentImageUri&&i.status!=="completed"&&n.jsxs("button",{className:"btn btn-primary",onClick:()=>{T(i._id),d(!1)},children:[n.jsx(fn,{size:16}),"Mark as Completed"]}),n.jsx("button",{className:"btn btn-outline",onClick:()=>d(!1),children:"Close"})]})]})}),n.jsx("style",{jsx:!0,children:`
        .payment-success-badge {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          background-color: #d4edda;
          color: #155724;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .payment-pending-badge {
          display: inline-flex;
          align-items: center;
          background-color: #fff3cd;
          color: #856404;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .thumbnail-image {
          border-radius: 4px;
          border: 1px solid #ddd;
        }
        
        .image-placeholder {
          padding: 8px;
          background-color: #f8f9fa;
          border-radius: 4px;
          text-align: center;
          font-size: 12px;
          color: #6c757d;
        }

        .download-btn-large {
          background: #ff8c00;
          color: white;
          border: none;
          border-radius: 6px;
          padding: 8px 12px;
          display: flex;
          align-items: center;
          gap: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: all 0.2s ease;
          margin-bottom: 10px;
        }

        .download-btn-large:hover:not(:disabled) {
          background: #e67e00;
        }

        .download-btn-large:disabled {
          background: #6c757d;
          cursor: not-allowed;
        }

        .modal-image-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 10px;
        }

        .modal-image-header h4 {
          margin: 0;
        }

        .spinner {
          width: 12px;
          height: 12px;
          border: 2px solid #ffffff;
          border-top: 2px solid transparent;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},Oae=({user:e,onClose:t,onSave:r,isEditMode:a})=>{const[i,s]=N.useState({name:(e==null?void 0:e.name)||"",phoneNumber:(e==null?void 0:e.phoneNumber)||""}),[l,d]=N.useState(null),[u,f]=N.useState(!1),p=g=>{const{name:v,value:j}=g.target;s({...i,[v]:j}),d(null)},x=async g=>{g.preventDefault(),d(null),f(!0);try{await r(i,e==null?void 0:e.phoneNumber),t()}catch(v){d(v.message||"Failed to save purchase user")}finally{f(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:a?"Edit Purchase User":"Add New Purchase User"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:x,children:[n.jsxs("div",{className:"modal-body",children:[l&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626"},children:l}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:i.name,onChange:p,required:!0,disabled:u})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"phoneNumber",children:["Phone Number ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"phoneNumber",name:"phoneNumber",className:"form-input",value:i.phoneNumber,onChange:p,required:!0,pattern:"\\d{10}",title:"Please enter a valid 10-digit phone number",disabled:u})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:u,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":a?"Update Purchase User":"Add Purchase User"})]})]})]})})},kae=({user:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e.phoneNumber),t()}catch(l){console.error("Error deleting purchase user:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Purchase User"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Iae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(null),[u,f]=N.useState(!1),[p,x]=N.useState(null),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(!1),A="https://hotelvirat.com/api/v1/hotel/purchase-user-auth",E=async()=>{C(!0),b("");try{const M=await fetch(`${A}/all`);if(!M.ok)throw new Error(`HTTP error! status: ${M.status}`);const k=await M.json();k.success&&Array.isArray(k.users)?t(k.users):(console.error("Expected array but got:",k),t([]),b("Invalid data format received from server"))}catch(M){console.error("Fetch error:",M),b(`Failed to fetch purchase users: ${M.message}`),t([])}finally{C(!1)}};N.useEffect(()=>{E()},[]);const S=()=>{d(null),s(!0)},T=M=>{d(M),s(!0)},_=M=>{x(M),f(!0)},P=async(M,k)=>{try{const W=k?`${A}/status/${k}`:`${A}/register`,I=await fetch(W,{method:k?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)}),R=await I.json();if(!I.ok)throw new Error(R.message||"Failed to save purchase user");v(`Purchase user ${k?"updated":"added"} successfully`),setTimeout(()=>v(""),3e3),await E()}catch(W){throw new Error(W.message)}},L=async M=>{try{const k=await fetch(`${A}/${M}`,{method:"DELETE"}),W=await k.json();if(!k.ok)throw new Error(W.message||"Failed to delete purchase user");v("Purchase user deleted successfully"),setTimeout(()=>v(""),3e3),await E()}catch(k){b(k.message),setTimeout(()=>b(""),3e3)}},D=M=>{if(!M)return"N/A";const k={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(M).toLocaleDateString(void 0,k)},B=e.filter(M=>M.name.toLowerCase().includes(r.toLowerCase())||M.phoneNumber.includes(r));return n.jsxs("div",{className:"purchase-users-page",children:[g&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>v(""),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),j&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),style:{color:"#dc2626"},children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Purchase Users"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:S,disabled:y,children:[n.jsx(Fc,{size:16}),n.jsx("span",{children:"Add Purchase User"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search purchase users...",className:"search-input",value:r,onChange:M=>a(M.target.value)})]})}),n.jsx("div",{className:"data-card",children:y?n.jsx("div",{className:"empty-state",children:"Loading purchase users..."}):B.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No purchase users found. ",r?"Try a different search.":"Add a new purchase user to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Phone Number"}),n.jsx("th",{children:"Created At"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:B.map(M=>n.jsxs("tr",{children:[n.jsx("td",{children:M._id.slice(-6)}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:M.name.charAt(0).toUpperCase()}),M.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(mi,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),M.phoneNumber]})}),n.jsx("td",{children:D(M.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>T(M),disabled:y,children:n.jsx(kn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>_(M),disabled:y,children:n.jsx($n,{size:14})})]})})]},M._id))})]})}),i&&n.jsx(Oae,{user:l,onClose:()=>s(!1),onSave:P,isEditMode:!!l}),u&&n.jsx(kae,{user:p,onClose:()=>f(!1),onConfirm:L})]})},Rk=(e,t=200)=>`https://api.qrserver.com/v1/create-qr-code/?size=${t}x${t}&data=${encodeURIComponent(e)}`,$2={baseURL:"https://hotelvirat.com/api/v1/hotel",get:async e=>{try{const t=await fetch(`${$2.baseURL}${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error(`API Error for ${e}:`,t),t}}},uS="qr_table_codes",Pae=e=>{try{localStorage.setItem(uS,JSON.stringify({codes:e,timestamp:Date.now()}))}catch(t){console.error("Error saving QR codes to localStorage:",t)}},Rae=()=>{try{const e=localStorage.getItem(uS);if(e){const t=JSON.parse(e);if(Date.now()-t.timestamp<24*60*60*1e3&&t.codes)return t.codes}}catch(e){console.error("Error loading QR codes from localStorage:",e)}return[]},Dae=()=>{try{localStorage.removeItem(uS)}catch(e){console.error("Error clearing QR codes from localStorage:",e)}},Mae=()=>{var M;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState([]),[u,f]=N.useState(!0),[p,x]=N.useState(!1),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState("all");N.useEffect(()=>{A(),E();const k=Rae();k.length>0&&d(k)},[]),N.useEffect(()=>{l.length>0&&Pae(l)},[l]);const A=async()=>{try{f(!0),v("");const k=await $2.get("/branch");t(k),k.length>0&&s(k[0]._id)}catch(k){console.error("Error fetching branches:",k),v("Failed to load branches. Please check your internet connection.")}finally{f(!1)}},E=async()=>{try{const W=(await $2.get("/table")).map(F=>{var I,R;return{id:F._id,number:F.number,status:F.status,branchId:((I=F.branchId)==null?void 0:I._id)||F.branchId,branchName:((R=F.branchId)==null?void 0:R.name)||"Unknown Branch",image:F.image,createdAt:new Date(F.createdAt).toLocaleString()}});a(W)}catch(k){console.error("Error fetching tables:",k),v("Failed to load tables.")}},S=async()=>{if(i){x(!0);try{const k=i==="all"?e:e.filter(F=>F._id===i),W=[];for(const F of k){if(l.filter(X=>X.branchId===F._id).length>0){console.log(`QR codes already exist for branch: ${F.name}`);continue}const R=r.filter(X=>X.branchId===F._id);if(R.length===0){const X=`${window.location.origin}/public-menu?branch=${F._id}&name=${encodeURIComponent(F.name)}&table=1`;W.push({id:`${F._id}-default`,branchId:F._id,branchName:F.name,tableNumber:1,url:X,qrCode:Rk(X,300),generatedAt:new Date().toISOString()})}else R.forEach(X=>{const ne=`${window.location.origin}/public-menu?branch=${F._id}&name=${encodeURIComponent(F.name)}&table=${X.number}`;W.push({id:`${F._id}-${X.number}`,branchId:F._id,branchName:F.name,tableNumber:X.number,tableId:X.id,url:ne,qrCode:Rk(ne,300),generatedAt:new Date().toISOString()})})}W.length>0&&d(F=>[...F,...W])}catch(k){console.error("Error generating QR codes:",k),v("Failed to generate QR codes.")}finally{x(!1)}}},T=()=>{window.confirm("Are you sure you want to clear all generated QR codes? This action cannot be undone.")&&(d([]),Dae())},_=async k=>{try{const F=await(await fetch(k.qrCode)).blob(),I=window.URL.createObjectURL(F),R=document.createElement("a");R.href=I,R.download=`${k.branchName.replace(/\s+/g,"-")}-table-${k.tableNumber}-qr.png`,document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(I)}catch(W){console.error("Error downloading QR code:",W),alert("Failed to download QR code. Please try again.")}},P=Zr(),L=k=>{try{const W=new URL(k.url),F=`${W.pathname}${W.search}`;P(F)}catch(W){console.error("Invalid URL in previewMenu:",W),alert("Failed to preview menu. Invalid URL.")}},D=l.filter(k=>{const W=!j||k.branchName.toLowerCase().includes(j.toLowerCase())||k.tableNumber.toString().includes(j),F=y==="all"||k.branchId===y;return W&&F}),B=e.filter(k=>l.some(W=>W.branchId===k._id));return u?n.jsx("div",{style:wt.loadingContainer,children:n.jsxs("div",{style:wt.loadingContent,children:[n.jsx("div",{style:wt.spinner}),n.jsx("p",{children:"Loading branches..."})]})}):g&&!e.length?n.jsx("div",{style:wt.errorContainer,children:n.jsxs("div",{style:wt.errorContent,children:[n.jsx(Fi,{size:48,style:{marginBottom:"16px",opacity:.5}}),n.jsx("h3",{children:"Error Loading Data"}),n.jsx("p",{children:g}),n.jsx("button",{onClick:A,style:wt.retryButton,children:"Retry"})]})}):n.jsxs("div",{style:wt.adminContainer,children:[n.jsxs("div",{style:wt.adminContent,children:[n.jsxs("div",{style:wt.adminHeader,children:[n.jsxs("div",{style:wt.adminHeaderTitle,children:[n.jsx("div",{style:wt.logoContainer,children:n.jsx(Fi,{size:24,color:"#ff7e47"})}),n.jsxs("div",{children:[n.jsx("h1",{style:wt.adminTitle,children:"Table QR Menu Generator"}),n.jsx("p",{style:wt.adminSubtitle,children:"Generate unique QR codes for each table"})]})]}),n.jsxs("div",{style:wt.controlsContainer,children:[n.jsxs("div",{style:wt.branchSelectContainer,children:[n.jsx("label",{style:wt.label,children:"Select Branch"}),n.jsxs("select",{value:i,onChange:k=>s(k.target.value),style:wt.branchSelect,children:[n.jsx("option",{value:"",children:"Choose a branch..."}),n.jsx("option",{value:"all",children:"All Branches"}),e.map(k=>n.jsx("option",{value:k._id,children:k.name},k._id))]})]}),n.jsxs("div",{style:wt.buttonGroup,children:[n.jsxs("button",{onClick:S,disabled:p||!i,style:{...wt.generateButton,opacity:p||!i?.7:1,cursor:p||!i?"not-allowed":"pointer"},children:[n.jsx(Fi,{size:16}),p?"Generating...":"Generate QR Codes"]}),l.length>0&&n.jsxs("button",{onClick:T,style:wt.clearButton,children:[n.jsx($n,{size:16}),"Clear All"]})]})]})]}),l.length>0&&n.jsx("div",{style:wt.statusCard,children:n.jsxs("div",{style:wt.statusContent,children:[n.jsxs("div",{style:wt.statusInfo,children:[n.jsx(Fi,{size:20,color:"#ff7e47"}),n.jsxs("span",{children:[n.jsx("strong",{children:l.length})," QR code",l.length!==1?"s":""," generated for tables",((M=l[0])==null?void 0:M.generatedAt)&&n.jsxs("span",{style:wt.statusTime,children:["  Generated on ",new Date(l[0].generatedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),n.jsxs("div",{style:wt.statusNote,children:["Branches with QR codes: ",B.map(k=>k.name).join(", ")]})]})}),l.length>0&&n.jsxs("div",{style:wt.filtersBar,children:[n.jsxs("div",{style:wt.searchContainer,children:[n.jsx(Mt,{size:18,style:wt.searchIcon}),n.jsx("input",{type:"text",placeholder:"Search QR codes...",style:wt.searchInput,value:j,onChange:k=>b(k.target.value)})]}),n.jsx("div",{style:wt.filterButtons,children:n.jsxs("select",{style:wt.filterSelect,value:y,onChange:k=>C(k.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),B.map(k=>n.jsx("option",{value:k._id,children:k.name},k._id))]})})]}),l.length>0&&n.jsx("div",{style:wt.qrCodesGrid,children:D.map(k=>n.jsxs("div",{style:wt.qrCodeCard,children:[n.jsxs("h3",{style:wt.qrCodeTitle,children:[k.branchName," - Table ",k.tableNumber]}),n.jsx("div",{style:wt.qrCodeImageContainer,children:n.jsx("img",{src:k.qrCode||"/placeholder.svg",alt:`QR Code for ${k.branchName} Table ${k.tableNumber}`,style:wt.qrCodeImage})}),n.jsxs("div",{style:wt.qrCodeActions,children:[n.jsxs("button",{onClick:()=>_(k),style:wt.downloadButton,children:[n.jsx(On,{size:14}),"Download"]}),n.jsxs("button",{onClick:()=>L(k),style:wt.previewButton,children:[n.jsx(Za,{size:14}),"Preview"]})]}),n.jsx("div",{style:wt.urlDisplay,children:k.url})]},k.id))}),n.jsxs("div",{style:wt.instructionsCard,children:[n.jsx("h3",{style:wt.instructionsTitle,children:"How to use:"}),n.jsxs("ol",{style:wt.instructionsList,children:[n.jsx("li",{children:'Select a branch or choose "All Branches" to generate QR codes'}),n.jsx("li",{children:'Click "Generate QR Codes" to create unique QR codes for each table'}),n.jsx("li",{children:"QR codes are preserved when switching between branches - no need to regenerate"}),n.jsx("li",{children:"Each QR code will show the specific table number when scanned"}),n.jsx("li",{children:"Download the QR code images and print them"}),n.jsx("li",{children:"Place each QR code on its corresponding table"}),n.jsx("li",{children:"When customers scan the QR code, they'll see the menu with the table number displayed"}),n.jsx("li",{children:'Use "Preview" to see how the menu will look to customers'})]})]})]}),n.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},wt={loadingContainer:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa"},loadingContent:{textAlign:"center"},spinner:{width:"40px",height:"40px",border:"4px solid #ff7e47",borderTop:"4px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"},errorContainer:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa"},errorContent:{textAlign:"center",padding:"40px",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},retryButton:{padding:"12px 24px",backgroundColor:"#ff7e47",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"16px"},adminContainer:{minHeight:"100vh",backgroundColor:"#f8f9fa",fontFamily:"Inter, sans-serif",padding:"24px"},adminContent:{maxWidth:"1200px",margin:"0 auto"},adminHeader:{backgroundColor:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},adminHeaderTitle:{display:"flex",alignItems:"center",marginBottom:"20px"},logoContainer:{width:"50px",height:"50px",backgroundColor:"rgba(255, 126, 71, 0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"16px"},adminTitle:{fontSize:"28px",fontWeight:"700",color:"#333",margin:0},adminSubtitle:{color:"#666",margin:0,fontSize:"16px"},controlsContainer:{display:"flex",gap:"16px",alignItems:"end",flexWrap:"wrap"},branchSelectContainer:{flex:"1",minWidth:"200px"},label:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#333"},branchSelect:{width:"100%",padding:"12px 16px",border:"1px solid #e5e5e5",borderRadius:"8px",fontSize:"14px",backgroundColor:"white"},buttonGroup:{display:"flex",gap:"12px",alignItems:"center"},generateButton:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",backgroundColor:"#ff7e47",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},clearButton:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},statusCard:{backgroundColor:"white",borderRadius:"12px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 126, 71, 0.2)"},statusContent:{display:"flex",flexDirection:"column",gap:"8px"},statusInfo:{display:"flex",alignItems:"center",gap:"12px",fontSize:"16px",color:"#333"},statusTime:{color:"#666",fontSize:"14px",fontWeight:"normal"},statusNote:{fontSize:"14px",color:"#666",fontStyle:"italic"},filtersBar:{display:"flex",gap:"16px",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",backgroundColor:"white",borderRadius:"12px",padding:"16px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)"},searchContainer:{position:"relative",flex:"1",minWidth:"200px"},searchIcon:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",pointerEvents:"none"},searchInput:{width:"100%",padding:"10px 10px 10px 40px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",outline:"none"},filterButtons:{display:"flex",gap:"12px"},filterSelect:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",backgroundColor:"white",minWidth:"120px"},qrCodesGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"24px",marginBottom:"24px"},qrCodeCard:{backgroundColor:"white",borderRadius:"12px",padding:"24px",textAlign:"center",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},qrCodeTitle:{fontSize:"20px",fontWeight:"600",marginBottom:"16px",color:"#333"},qrCodeImageContainer:{marginBottom:"20px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px"},qrCodeImage:{width:"250px",height:"250px",border:"1px solid #e5e5e5",borderRadius:"8px"},qrCodeActions:{display:"flex",gap:"12px",justifyContent:"center",marginBottom:"16px"},downloadButton:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",backgroundColor:"#ff7e47",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},previewButton:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",backgroundColor:"white",color:"#ff7e47",border:"1px solid #ff7e47",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},urlDisplay:{padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",fontSize:"12px",color:"#666",wordBreak:"break-all"},instructionsCard:{backgroundColor:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",marginTop:"24px"},instructionsTitle:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#333"},instructionsList:{color:"#666",lineHeight:"1.6",paddingLeft:"20px"}},Dk=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(""),[u,f]=N.useState(!0),[p,x]=N.useState(""),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(""),[A,E]=N.useState(""),[S,T]=N.useState(""),[_,P]=N.useState(""),[L,D]=N.useState(""),[B,M]=N.useState([]),[k,W]=N.useState(!1),[F,I]=N.useState(!1),[R,X]=N.useState(!1),[ne,ge]=N.useState(null),[q,ee]=N.useState({name:"",mobile:"",peopleCount:1}),[z,U]=N.useState(!1),V={baseURL:"https://hotelvirat.com/api/v1/hotel",get:async re=>{try{const be=await fetch(`${V.baseURL}${re}`);if(!be.ok)throw new Error(`HTTP error! status: ${be.status}`);return await be.json()}catch(be){throw console.error(`API Error for ${re}:`,be),be}},post:async(re,be)=>{try{const H=await fetch(`${V.baseURL}${re}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(be)});if(!H.ok)throw new Error(`HTTP error! status: ${H.status}`);return await H.json()}catch(H){throw console.error(`API Error for ${re}:`,H),H}}},te=async(re,be)=>{try{console.log("Checking table status for branch:",re,"table:",be);const de=(await V.get(`/table?branchId=${re}`)).find(Se=>Se.number.toString()===be.toString());if(de){if(console.log("Found table:",de),T(de._id),E(de.status),de.categoryId){const Se=typeof de.categoryId=="object"?de.categoryId._id:de.categoryId,Ne=typeof de.categoryId=="object"?de.categoryId.name:"";P(Se),D(Ne),console.log("Table category:",Se,Ne)}return{status:de.status,categoryId:de.categoryId}}else return console.log("Table not found, assuming available"),E("available"),{status:"available",categoryId:null}}catch(H){return console.error("Error checking table status:",H),E("available"),{status:"available",categoryId:null}}},se=re=>typeof re.categoryId=="object"&&re.categoryId!==null?re.categoryId._id||re.categoryId.id:re.categoryId,Z=re=>{if(typeof re.categoryId=="object"&&re.categoryId!==null)return re.categoryId.name||"Unknown Category";const be=re.categoryId,H=r.find(de=>de._id===be);return H?H.name:"Unknown Category"},K=re=>{if(A==="reserved"){alert("This table is currently reserved. Please contact staff for assistance.");return}M(be=>be.find(de=>de._id===re._id)?be.map(de=>de._id===re._id?{...de,quantity:de.quantity+1}:de):[...be,{...re,quantity:1}])},Y=re=>{M(be=>{const H=be.find(de=>de._id===re);return H&&H.quantity>1?be.map(de=>de._id===re?{...de,quantity:de.quantity-1}:de):be.filter(de=>de._id!==re)})},ce=()=>B.reduce((re,be)=>re+be.quantity,0),xe=()=>{const re=B.reduce((be,H)=>be+(H.price||0)*(H.quantity||0),0);return isNaN(re)?0:re},pe=re=>{const be=B.find(H=>H._id===re);return be?be.quantity:0},Ce=re=>{const be=document.createElement("canvas");return be.width=re.width,be.height=re.height,be.getContext("2d").drawImage(re,0,0),be.toDataURL("image/jpeg")},ve=re=>{const be=window.open("","_blank"),H=new Image;H.crossOrigin="anonymous",H.onload=()=>{var Ne;let de="";try{de=Ce(H)}catch(je){console.warn("Could not convert logo to base64:",je)}const Se=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${re.orderId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .logo { width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 8px; display: block; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin: 10px 0; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .invoice-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            ${de?`<img src="${de}" alt="Hotel Virat Logo" class="logo">`:""}
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${re.branchName}</div>
            <div class="invoice-title">Tax Invoice</div>
            <div style="font-size: 14px; color: #666;">Invoice No: ${re.orderId}</div>
          </div>
          
          <div class="invoice-details">
            <div class="detail-section">
              <h3>Invoice Details</h3>
              <div class="detail-row">
                <span class="detail-label">Invoice ID:</span>
                <span class="detail-value">${re.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${re.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${new Date(re.orderTime).toLocaleDateString("en-IN")}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${new Date(re.orderTime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Table No:</span>
                <span class="detail-value">${re.tableNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Guests:</span>
                <span class="detail-value">${re.peopleCount}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Customer & Payment Details</h3>
              <div class="detail-row">
                <span class="detail-label">Customer Name:</span>
                <span class="detail-value">${re.customerName}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Mobile:</span>
                <span class="detail-value">${re.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${re.branchName}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">${re.paymentMethod.toUpperCase()}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order Type:</span>
                <span class="detail-value">GUEST ORDER</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((Ne=re.items)==null?void 0:Ne.map(je=>`
                  <tr>
                    <td>${je.name}</td>
                    <td style="text-align: center;">${je.quantity}</td>
                    <td style="text-align: right;">${(je.price||0).toFixed(2)}</td>
                    <td style="text-align: right;">${((je.price||0)*je.quantity).toFixed(2)}</td>
                  </tr>
                `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${(re.subtotal||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Tax (5%):</span>
              <span>${(re.tax||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Service Charge (10%):</span>
              <span>${(re.serviceCharge||0).toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${(re.grandTotal||0).toFixed(2)}</span>
            </div>
          </div>

          ${re.notes?`
            <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
              <h4 style="margin-bottom: 10px; color: #333;">Notes:</h4>
              <p style="margin: 0;">${re.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;be.document.write(Se),be.document.close(),be.focus(),setTimeout(()=>{be.print()},500)},H.onerror=()=>{var Se;console.warn("Could not load logo image, generating PDF without logo");const de=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Invoice ${re.orderId}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; line-height: 1.4; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #ff7e47; padding-bottom: 20px; }
            .company-name { font-size: 28px; font-weight: bold; color: #ff7e47; margin-bottom: 10px; }
            .company-address { font-size: 14px; color: #666; margin: 5px 0; }
            .invoice-title { font-size: 20px; font-weight: bold; color: #333; margin-top: 15px; }
            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
            .detail-section h3 { color: #333; margin-bottom: 15px; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
            .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .detail-label { font-weight: bold; color: #555; }
            .detail-value { color: #333; }
            .items-section { margin-bottom: 25px; }
            .items-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
            .items-table th, .items-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
            .items-table th { background-color: #f8f9fa; font-weight: bold; color: #333; }
            .items-table tbody tr:nth-child(even) { background-color: #f9f9f9; }
            .total-section { margin-top: 25px; border-top: 2px solid #ff7e47; padding-top: 15px; }
            .total-row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 3px 0; }
            .total-label { font-weight: bold; }
            .grand-total { font-size: 18px; font-weight: bold; color: #ff7e47; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }
            .footer { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; }
            .thank-you { font-size: 16px; color: #ff7e47; font-weight: bold; margin-bottom: 10px; }
            @media print { 
              body { margin: 0; } 
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1 class="company-name">Hotel Virat</h1>
            <div class="company-address">${re.branchName}</div>
            <div class="invoice-title">Tax Invoice</div>
            <div style="font-size: 14px; color: #666;">Invoice No: ${re.orderId}</div>
          </div>
          
          <div class="invoice-details">
            <div class="detail-section">
              <h3>Invoice Details</h3>
              <div class="detail-row">
                <span class="detail-label">Invoice ID:</span>
                <span class="detail-value">${re.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order ID:</span>
                <span class="detail-value">${re.orderId}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${new Date(re.orderTime).toLocaleDateString("en-IN")}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Time:</span>
                <span class="detail-value">${new Date(re.orderTime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Table No:</span>
                <span class="detail-value">${re.tableNumber}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Guests:</span>
                <span class="detail-value">${re.peopleCount}</span>
              </div>
            </div>
            
            <div class="detail-section">
              <h3>Customer & Payment Details</h3>
              <div class="detail-row">
                <span class="detail-label">Customer Name:</span>
                <span class="detail-value">${re.customerName}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Mobile:</span>
                <span class="detail-value">${re.customerMobile}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Branch:</span>
                <span class="detail-value">${re.branchName}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Payment Method:</span>
                <span class="detail-value">${re.paymentMethod.toUpperCase()}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Order Type:</span>
                <span class="detail-value">GUEST ORDER</span>
              </div>
            </div>
          </div>

          <div class="items-section">
            <h3 style="color: #333; margin-bottom: 15px;">Order Items</h3>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${((Se=re.items)==null?void 0:Se.map(Ne=>`
                  <tr>
                    <td>${Ne.name}</td>
                    <td style="text-align: center;">${Ne.quantity}</td>
                    <td style="text-align: right;">${(Ne.price||0).toFixed(2)}</td>
                    <td style="text-align: right;">${((Ne.price||0)*Ne.quantity).toFixed(2)}</td>
                  </tr>
                `).join(""))||"<tr><td colspan='4' style='text-align: center;'>No items available</td></tr>"}
              </tbody>
            </table>
          </div>

          <div class="total-section">
            <div class="total-row">
              <span class="total-label">Subtotal:</span>
              <span>${(re.subtotal||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Tax (5%):</span>
              <span>${(re.tax||0).toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span class="total-label">Service Charge (10%):</span>
              <span>${(re.serviceCharge||0).toFixed(2)}</span>
            </div>
            <div class="total-row grand-total">
              <span>Grand Total:</span>
              <span>${(re.grandTotal||0).toFixed(2)}</span>
            </div>
          </div>

          ${re.notes?`
            <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px;">
              <h4 style="margin-bottom: 10px; color: #333;">Notes:</h4>
              <p style="margin: 0;">${re.notes}</p>
            </div>
          `:""}

          <div class="footer">
            <div class="thank-you">Thank you for dining with us!</div>
            <p>We hope you enjoyed your meal. Please visit us again soon.</p>
            <p style="font-size: 12px; margin-top: 15px;">Generated on ${new Date().toLocaleString("en-IN")}</p>
          </div>
        </body>
        </html>
      `;be.document.write(de),be.document.close(),be.focus(),setTimeout(()=>{be.print()},500)},H.src=Yc},Le=re=>{var de,Se,Ne,je,Qe,rt;const be=window.open("","_blank","width=302,height=600"),H=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Order ${re.orderId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            max-width: 80mm;
            padding: 5mm;
            font-size: 12px;
            line-height: 1.4;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .hotel-name { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
          .branch-name { font-size: 12px; margin-bottom: 3px; }
          .order-info { margin-bottom: 10px; }
          .order-id { font-size: 14px; font-weight: bold; text-align: center; margin: 8px 0; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .info-label { font-weight: bold; }
          .divider { border-top: 1px dashed #000; margin: 8px 0; }
          .items-header { font-weight: bold; margin-bottom: 5px; }
          .item-row { margin-bottom: 5px; }
          .item-name { font-weight: bold; }
          .item-details { display: flex; justify-content: space-between; font-size: 11px; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin-bottom: 3px; }
          .grand-total { font-size: 14px; font-weight: bold; border-top: 1px dashed #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 11px; border-top: 1px dashed #000; padding-top: 10px; }
          .thank-you { font-weight: bold; margin-bottom: 5px; }
          @media print { 
            body { width: 80mm; }
            @page { size: 80mm auto; margin: 0; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">HOTEL VIRAT</div>
          <div class="branch-name">${re.branchName||j}</div>
        </div>
        
        <div class="order-id">Order #${re.orderId}</div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">Date:</span>
            <span>${new Date().toLocaleDateString("en-IN")}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Time:</span>
            <span>${new Date().toLocaleTimeString("en-IN")}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Table:</span>
            <span>${re.tableNumber||y}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Guests:</span>
            <span>${re.peopleCount}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Customer:</span>
            <span>${re.customerName}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Mobile:</span>
            <span>${re.customerMobile}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="items-section">
          <div class="items-header">ITEMS</div>
          ${((de=re.items)==null?void 0:de.map(ht=>`
            <div class="item-row">
              <div class="item-name">${ht.name}</div>
              <div class="item-details">
                <span>${ht.quantity} x ${(ht.price||0).toFixed(2)}</span>
                <span>${((ht.price||0)*ht.quantity).toFixed(2)}</span>
              </div>
            </div>
          `).join(""))||"<div>No items</div>"}
        </div>
        
        <div class="divider"></div>
        
        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>${((Se=re.subtotal)==null?void 0:Se.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Tax (5%):</span>
            <span>${((Ne=re.tax)==null?void 0:Ne.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row">
            <span>Service (10%):</span>
            <span>${((je=re.serviceCharge)==null?void 0:je.toFixed(2))||"0.00"}</span>
          </div>
          <div class="total-row grand-total">
            <span>TOTAL:</span>
            <span>${((Qe=re.grandTotal)==null?void 0:Qe.toFixed(2))||"0.00"}</span>
          </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="order-info">
          <div class="info-row">
            <span class="info-label">Payment:</span>
            <span>${((rt=re.paymentMethod)==null?void 0:rt.toUpperCase())||"CASH"}</span>
          </div>
        </div>
        
        <div class="footer">
          <div class="thank-you">Thank You!</div>
          <div>Visit Again</div>
          <div style="margin-top: 5px; font-size: 10px;">${new Date().toLocaleString("en-IN")}</div>
        </div>
      </body>
      </html>
    `;be.document.write(H),be.document.close(),be.focus(),setTimeout(()=>{be.print()},300)},le=async()=>{if(A==="reserved"){alert("This table is currently reserved. Please contact staff for assistance.");return}if(!q.name.trim()||!q.mobile.trim()){alert("Please fill in your name and mobile number");return}if(q.mobile.length!==10){alert("Please enter a valid 10-digit mobile number");return}if(B.length===0){alert("Your cart is empty");return}U(!0);try{const re=xe(),be=re*.05,H=re*.1,de=re+be+H,Se={customerName:q.name.trim(),customerMobile:q.mobile.trim(),branchId:g,branchName:j,categoryId:_||null,categoryName:L||"",tableId:S||null,tableNumber:y,peopleCount:Number.parseInt(q.peopleCount),items:B.map(je=>({menuItemId:je._id,name:je.name,price:je.price,quantity:je.quantity,image:je.image||"",description:je.description||"",categoryId:je.categoryId||_||null})),subtotal:re,tax:be,serviceCharge:H,totalAmount:re,grandTotal:de,paymentMethod:"cash",orderTime:new Date().toISOString(),notes:`Guest order from Table ${y}${L?` - ${L}`:""}`,isGuestOrder:!0};console.log("Placing guest order:",Se);const Ne=await V.post("/staff-order/create-guest-order-no-stock",Se);if(Ne.success)ge(Se),X(!0),M([]),I(!1),W(!1),ee({name:"",mobile:"",peopleCount:1}),setTimeout(()=>{X(!1),ge(null)},1e4);else throw new Error(Ne.message||"Failed to place order")}catch(re){console.error("Error placing order:",re),alert("Failed to place order. Please try again.")}finally{U(!1)}},Ae=()=>{ne&&ve(ne)},qe=()=>{ne&&Le(ne)},me=e.filter(re=>{const be=!i||i===""||se(re)===i,H=!l||re.name.toLowerCase().includes(l.toLowerCase())||re.description&&re.description.toLowerCase().includes(l.toLowerCase());return be&&H});N.useEffect(()=>{const re=new URLSearchParams(window.location.search),be=re.get("branch"),H=re.get("name"),de=re.get("table"),Se=re.get("category"),Ne=re.get("categoryName");be&&de?(v(be),b(decodeURIComponent(H||"")),C(de),te(be,de).then(je=>{console.log("Table status:",je.status);let Qe=Se;!Qe&&je.categoryId&&(Qe=typeof je.categoryId=="object"?je.categoryId._id:je.categoryId),Ne&&D(decodeURIComponent(Ne)),ae(be,Qe)})):(x("Invalid QR code - missing branch or table information"),f(!1))},[]);const ae=async(re,be=null)=>{try{f(!0),x("");const[H,de]=await Promise.all([V.get(`/menu?branchId=${re}`),V.get(`/category?branchId=${re}`)]),Se=rt=>{if(rt.price&&typeof rt.price=="number")return rt.price;if(rt.prices&&typeof rt.prices=="object"){const ht=Object.values(rt.prices);if(ht.length>0){const lr=parseFloat(ht[0]);if(!isNaN(lr))return lr}}return 0};let Ne=H.filter(rt=>rt.isActive!==!1).map(rt=>({...rt,price:Se(rt)}));if(be){console.log("Filtering products by table category:",be),Ne=Ne.filter(ht=>(typeof ht.categoryId=="object"&&ht.categoryId!==null?ht.categoryId._id||ht.categoryId.id:ht.categoryId)===be);const rt=de.find(ht=>ht._id===be);rt&&D(rt.name)}const je=[...new Set(Ne.map(rt=>typeof rt.categoryId=="object"&&rt.categoryId!==null?rt.categoryId._id||rt.categoryId.id:rt.categoryId).filter(Boolean))],Qe=de.filter(rt=>je.includes(rt._id));t(Ne),a(Qe),Ne.length===0&&x(be?"No menu items found for this category. Please contact staff.":"No menu items available for this branch.")}catch(H){console.error("Error fetching menu:",H),x("Failed to load menu. Please try again.")}finally{f(!1)}};return u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"loading-screen",children:n.jsxs("div",{className:"loading-content",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading menu..."})]})}),n.jsx("style",{jsx:!0,children:`
          .loading-screen {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9fafb;
          }
          .loading-content {
            text-align: center;
          }
          .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #f97316;
            border-top: 3px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
          }
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):p?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"error-screen",children:n.jsxs("div",{className:"error-content",children:[n.jsx(Fi,{size:48,style:{marginBottom:"16px",opacity:.5}}),n.jsx("h3",{children:"Oops! Something went wrong"}),n.jsx("p",{children:p}),n.jsx("button",{onClick:()=>ae(g,_),className:"retry-btn",children:"Try Again"})]})}),n.jsx("style",{jsx:!0,children:`
          .error-screen {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9fafb;
            padding: 20px;
          }
          .error-content {
            text-align: center;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
          }
          .retry-btn {
            background: #f97316;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 16px;
            font-size: 14px;
            font-weight: 500;
          }
          .retry-btn:hover {
            background: #ea580c;
          }
        `})]}):A==="reserved"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"reserved-screen",children:n.jsxs("div",{className:"reserved-content",children:[n.jsx(Dt,{size:64,color:"#f59e0b",style:{marginBottom:"24px"}}),n.jsx("h2",{children:"Table Currently Reserved"}),n.jsxs("p",{children:["Table ",y," at ",j," is currently reserved."]}),n.jsx("p",{children:"Please contact our staff for assistance or try scanning a different table's QR code."}),n.jsxs("div",{className:"contact-info",children:[n.jsx("p",{children:n.jsx("strong",{children:"Need Help?"})}),n.jsx("p",{children:"Please approach our staff members who will be happy to assist you with seating and ordering."})]})]})}),n.jsx("style",{jsx:!0,children:`
          .reserved-screen {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9fafb;
            padding: 20px;
          }
          .reserved-content {
            text-align: center;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 100%;
            border: 2px solid #f59e0b;
          }
          .reserved-content h2 {
            color: #f59e0b;
            margin-bottom: 16px;
            font-size: 24px;
          }
          .reserved-content p {
            color: #666;
            margin-bottom: 12px;
            line-height: 1.5;
          }
          .contact-info {
            margin-top: 24px;
            padding: 20px;
            background: #fef3c7;
            border-radius: 8px;
            border: 1px solid #f59e0b;
          }
          .contact-info p {
            margin-bottom: 8px;
          }
          .contact-info p:last-child {
            margin-bottom: 0;
          }
        `})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"menu-app",children:[R&&n.jsx("div",{className:"success-overlay",children:n.jsxs("div",{className:"success-message",children:[n.jsx(fn,{size:48,color:"#10b981"}),n.jsx("h3",{children:"Order Placed Successfully!"}),ne&&n.jsxs("div",{className:"invoice-section",children:[n.jsx("p",{className:"invoice-text",children:"Print receipt or download invoice:"}),n.jsxs("div",{className:"invoice-buttons",children:[n.jsxs("button",{className:"print-receipt-btn",onClick:qe,children:[n.jsx(Hs,{size:20}),"Print Receipt"]}),n.jsxs("button",{className:"download-invoice-btn",onClick:Ae,children:[n.jsx(On,{size:20}),"Download PDF"]})]})]}),n.jsx("button",{className:"close-success-btn",onClick:()=>{X(!1),ge(null)},children:"Close"})]})}),n.jsx("header",{className:"header",children:n.jsxs("div",{className:"header-container",children:[n.jsxs("div",{className:"restaurant-info",children:[n.jsx("div",{className:"logo",children:n.jsx(Fi,{size:20})}),n.jsxs("div",{className:"restaurant-details",children:[n.jsx("h1",{className:"restaurant-name",children:j||"Restaurant"}),n.jsxs("p",{className:"restaurant-tagline",children:["Table ",y,L&&`  ${L}`,"  ","Delicious food, delivered fresh",A&&n.jsxs("span",{className:`table-status ${A}`,children:["  ",A==="available"?"Available":"Reserved"]})]})]})]}),n.jsxs("div",{className:"search-section",children:[n.jsxs("div",{className:"search-box",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search menu items...",value:l,onChange:re=>d(re.target.value),className:"search-input"})]}),n.jsxs("select",{value:i,onChange:re=>s(re.target.value),className:"category-dropdown",children:[n.jsx("option",{value:"",children:"All Categories"}),r.map(re=>n.jsx("option",{value:re._id,children:re.name},re._id))]})]})]})}),B.length>0&&A==="available"&&n.jsxs("button",{className:"floating-cart",onClick:()=>W(!0),children:[n.jsx(pu,{size:24}),n.jsx("span",{className:"cart-count",children:ce()})]}),n.jsx("main",{className:"main-content",children:n.jsxs("div",{className:"content-container",children:[n.jsx("div",{className:"table-info-banner",children:n.jsxs("div",{className:"table-info-content",children:[n.jsx(Fi,{size:24,color:"#ff7e47"}),n.jsxs("div",{className:"table-info-text",children:[n.jsxs("h3",{className:"table-info-title",children:["Table ",y]}),n.jsxs("p",{className:"table-info-subtitle",children:[j,A&&n.jsx("span",{className:`status-badge ${A}`,children:A==="available"?"Available":"Reserved"})]})]})]})}),n.jsx("div",{className:"results-info",children:n.jsxs("p",{children:[me.length," item",me.length!==1?"s":""," found",i&&r.find(re=>re._id===i)&&` in ${r.find(re=>re._id===i).name}`,l&&` for "${l}"`]})}),me.length>0?n.jsx("div",{className:"menu-grid",children:me.map(re=>n.jsxs("div",{className:"menu-card",children:[n.jsx("div",{className:"card-image",children:n.jsx("img",{src:re.image||"/placeholder.svg",alt:re.name,onError:be=>{be.target.src="/placeholder.svg?height=200&width=300"}})}),n.jsxs("div",{className:"card-content",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h3",{className:"product-name",children:re.name}),n.jsxs("span",{className:"product-price",children:["",(re.price||0).toFixed(2)]})]}),n.jsx("div",{className:"category-tag",children:Z(re)}),re.description&&n.jsx("p",{className:"product-description",children:re.description}),A==="available"&&n.jsx("div",{className:"cart-controls",children:pe(re._id)===0?n.jsxs("button",{className:"add-to-cart-btn",onClick:()=>K(re),children:[n.jsx(Ca,{size:16}),"Add to Cart"]}):n.jsxs("div",{className:"quantity-controls",children:[n.jsx("button",{className:"quantity-btn",onClick:()=>Y(re._id),children:n.jsx(OA,{size:16})}),n.jsx("span",{className:"quantity",children:pe(re._id)}),n.jsx("button",{className:"quantity-btn",onClick:()=>K(re),children:n.jsx(Ca,{size:16})})]})}),A==="reserved"&&n.jsxs("div",{className:"reserved-message",children:[n.jsx(Dt,{size:16}),n.jsx("span",{children:"Table Reserved - Contact Staff"})]})]})]},re._id))}):n.jsxs("div",{className:"empty-state",children:[n.jsx(Fi,{size:48,style:{opacity:.3,marginBottom:"16px"}}),n.jsx("h3",{children:"No items found"}),n.jsx("p",{children:l||i?"Try adjusting your search or filter criteria":"No menu items available for this branch"}),(l||i)&&n.jsx("button",{onClick:()=>{d(""),s("")},className:"clear-filters",children:"Clear Filters"})]})]})}),k&&A==="available"&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"cart-modal",children:[n.jsxs("div",{className:"cart-header",children:[n.jsx("h3",{children:"Your Order"}),n.jsx("button",{className:"close-btn",onClick:()=>W(!1),children:n.jsx(Un,{size:24})})]}),n.jsx("div",{className:"cart-content",children:B.length===0?n.jsxs("div",{className:"empty-cart",children:[n.jsx(pu,{size:48,style:{opacity:.3}}),n.jsx("p",{children:"Your cart is empty"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"cart-items",children:B.map(re=>n.jsxs("div",{className:"cart-item",children:[n.jsx("img",{src:re.image||"/placeholder.svg",alt:re.name,className:"cart-item-image"}),n.jsxs("div",{className:"cart-item-details",children:[n.jsx("h4",{children:re.name}),n.jsxs("p",{children:["",(re.price||0).toFixed(2)," each"]})]}),n.jsxs("div",{className:"cart-item-controls",children:[n.jsx("button",{onClick:()=>Y(re._id),children:n.jsx(OA,{size:16})}),n.jsx("span",{children:re.quantity}),n.jsx("button",{onClick:()=>K(re),children:n.jsx(Ca,{size:16})})]}),n.jsxs("div",{className:"cart-item-total",children:["",((re.price||0)*re.quantity).toFixed(2)]})]},re._id))}),n.jsxs("div",{className:"cart-summary",children:[n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",xe().toFixed(2)]})]}),n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Tax (5%):"}),n.jsxs("span",{children:["",(xe()*.05).toFixed(2)]})]}),n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Service Charge (10%):"}),n.jsxs("span",{children:["",(xe()*.1).toFixed(2)]})]}),n.jsxs("div",{className:"summary-row total",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",(xe()*1.15).toFixed(2)]})]})]})]})}),B.length>0&&n.jsx("div",{className:"cart-footer",children:n.jsx("button",{className:"checkout-btn",onClick:()=>{W(!1),I(!0)},children:"Proceed to Checkout"})})]})}),F&&A==="available"&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"checkout-modal",children:[n.jsxs("div",{className:"checkout-header",children:[n.jsx("h3",{children:"Order Details"}),n.jsx("button",{className:"close-btn",onClick:()=>I(!1),children:n.jsx(Un,{size:24})})]}),n.jsxs("div",{className:"checkout-content",children:[n.jsxs("div",{className:"customer-details",children:[n.jsx("h4",{children:"Customer Information"}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[n.jsx(_u,{size:16}),"Full Name *"]}),n.jsx("input",{type:"text",value:q.name,onChange:re=>ee({...q,name:re.target.value}),placeholder:"Enter your full name",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[n.jsx(mi,{size:16}),"Mobile Number *"]}),n.jsx("input",{type:"tel",value:q.mobile,onChange:re=>ee({...q,mobile:re.target.value}),placeholder:"Enter 10-digit mobile number",maxLength:"10",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{children:[n.jsx(Bi,{size:16}),"Number of People"]}),n.jsx("select",{value:q.peopleCount,onChange:re=>ee({...q,peopleCount:re.target.value}),children:[1,2,3,4,5,6,7,8,9,10].map(re=>n.jsx("option",{value:re,children:re},re))})]})]}),n.jsxs("div",{className:"order-summary",children:[n.jsx("h4",{children:"Order Summary"}),n.jsx("div",{className:"summary-items",children:B.map(re=>n.jsxs("div",{className:"summary-item",children:[n.jsxs("span",{children:[re.name," x ",re.quantity]}),n.jsxs("span",{children:["",((re.price||0)*re.quantity).toFixed(2)]})]},re._id))}),n.jsxs("div",{className:"summary-totals",children:[n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",xe().toFixed(2)]})]}),n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Tax (5%):"}),n.jsxs("span",{children:["",(xe()*.05).toFixed(2)]})]}),n.jsxs("div",{className:"summary-row",children:[n.jsx("span",{children:"Service Charge (10%):"}),n.jsxs("span",{children:["",(xe()*.1).toFixed(2)]})]}),n.jsxs("div",{className:"summary-row total",children:[n.jsx("span",{children:"Total Amount:"}),n.jsxs("span",{children:["",(xe()*1.15).toFixed(2)]})]})]})]}),n.jsx("div",{className:"payment-info",children:n.jsxs("div",{className:"payment-method",children:[n.jsx(Xr,{size:16}),n.jsx("span",{children:"Payment: Cash (Pay at table)"})]})})]}),n.jsx("div",{className:"checkout-footer",children:n.jsx("button",{className:"place-order-btn",onClick:le,disabled:z||!q.name.trim()||!q.mobile.trim(),children:z?"Placing Order...":"Place Order"})})]})})]}),n.jsx("style",{jsx:!0,global:!0,children:`
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        html,
        body {
          height: 100%;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: #f9fafb;
          overflow-x: hidden;
        }

        .menu-app {
          display: flex;
          flex-direction: column;
          height: 100vh;
          position: relative;
        }

        /* Success Overlay */
        .success-overlay {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          width: 100vw !important;
          height: 100vh !important;
          background: rgba(0, 0, 0, 0.8) !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          z-index: 9999 !important;
          padding: 20px !important;
          box-sizing: border-box !important;
        }

        .success-message {
          position: relative !important;
          background: white !important;
          padding: 40px !important;
          border-radius: 16px !important;
          text-align: center !important;
          width: 100% !important;
          max-width: 420px !important;
          min-width: 300px !important;
          margin: 0 auto !important;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
          border: 2px solid #10b981 !important;
          transform: scale(1) !important;
          animation: successSlideIn 0.3s ease-out !important;
        }

        @keyframes successSlideIn {
          0% {
            opacity: 0;
            transform: scale(0.9) translateY(-20px);
          }
          100% {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }

        .success-message h3 {
          color: #10b981 !important;
          margin: 16px 0 8px !important;
          font-size: 24px !important;
          font-weight: 700 !important;
        }

        .success-message p {
          color: #666 !important;
          line-height: 1.5 !important;
          margin-bottom: 20px !important;
          font-size: 16px !important;
        }

        .invoice-section {
          margin: 20px 0 !important;
          padding: 20px !important;
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%) !important;
          border-radius: 12px !important;
          border: 1px solid #e9ecef !important;
        }

        .invoice-text {
          color: #495057 !important;
          font-size: 14px !important;
          margin-bottom: 12px !important;
          font-weight: 500 !important;
        }

        .invoice-buttons {
          display: flex !important;
          gap: 10px !important;
          width: 100% !important;
        }

        .print-receipt-btn {
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 8px !important;
          flex: 1 !important;
          padding: 14px 16px !important;
          background: linear-gradient(135deg, #059669 0%, #047857 100%) !important;
          color: white !important;
          border: none !important;
          border-radius: 10px !important;
          font-size: 14px !important;
          font-weight: 600 !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3) !important;
        }

        .print-receipt-btn:hover {
          background: linear-gradient(135deg, #047857 0%, #065f46 100%) !important;
          transform: translateY(-1px) !important;
          box-shadow: 0 6px 16px rgba(5, 150, 105, 0.4) !important;
        }

        .download-invoice-btn {
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 8px !important;
          flex: 1 !important;
          padding: 14px 16px !important;
          background: linear-gradient(135deg, #f97316 0%, #ea580c 100%) !important;
          color: white !important;
          border: none !important;
          border-radius: 10px !important;
          font-size: 14px !important;
          font-weight: 600 !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3) !important;
        }

        .download-invoice-btn:hover {
          background: linear-gradient(135deg, #ea580c 0%, #dc2626 100%) !important;
          transform: translateY(-1px) !important;
          box-shadow: 0 6px 16px rgba(249, 115, 22, 0.4) !important;
        }

        .close-success-btn {
          margin-top: 20px !important;
          padding: 12px 24px !important;
          background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%) !important;
          color: white !important;
          border: none !important;
          border-radius: 8px !important;
          cursor: pointer !important;
          font-size: 14px !important;
          font-weight: 500 !important;
          transition: all 0.2s ease !important;
        }

        .close-success-btn:hover {
          background: linear-gradient(135deg, #4b5563 0%, #374151 100%) !important;
          transform: translateY(-1px) !important;
        }

        /* Mobile Responsive for Success Message */
        @media (max-width: 640px) {
          .success-overlay {
            padding: 15px !important;
          }
          
          .success-message {
            padding: 30px 20px !important;
            max-width: 95vw !important;
            min-width: 280px !important;
          }
          
          .success-message h3 {
            font-size: 20px !important;
          }
          
          .success-message p {
            font-size: 14px !important;
          }
          
          .download-invoice-btn {
            padding: 12px 16px !important;
            font-size: 13px !important;
          }
        }

        /* Tablet Responsive for Success Message */
        @media (min-width: 641px) and (max-width: 1024px) {
          .success-message {
            max-width: 400px !important;
            padding: 35px !important;
          }
        }

        /* Header - Fixed */
        .header {
          background: white;
          border-bottom: 1px solid #e5e7eb;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          flex-shrink: 0;
          z-index: 10;
        }

        .header-container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 20px;
        }

        .restaurant-info {
          display: flex;
          align-items: center;
          margin-bottom: 20px;
        }

        .logo {
          width: 40px;
          height: 40px;
          background: rgba(249, 115, 22, 0.1);
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-right: 12px;
          color: #f97316;
        }

        .restaurant-name {
          font-size: 24px;
          font-weight: 700;
          color: #111827;
          margin-bottom: 4px;
        }

        .restaurant-tagline {
          color: #6b7280;
          font-size: 14px;
        }

        /* NEW: Table status styling */
        .table-status.available {
          color: #10b981;
          font-weight: 600;
        }

        .table-status.reserved {
          color: #f59e0b;
          font-weight: 600;
        }

        .status-badge {
          display: inline-block;
          padding: 2px 8px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
          margin-left: 8px;
        }

        .status-badge.available {
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
        }

        .status-badge.reserved {
          background: rgba(245, 158, 11, 0.1);
          color: #f59e0b;
        }

        .search-section {
          display: flex;
          gap: 16px;
          align-items: center;
        }

        .search-box {
          position: relative;
          flex: 1;
        }

        .search-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #9ca3af;
          pointer-events: none;
        }

        .search-input {
          width: 100%;
          padding: 12px 12px 12px 40px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          outline: none;
          background: white;
        }

        .search-input:focus {
          border-color: #f97316;
          box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        .category-dropdown {
          padding: 12px 16px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 14px;
          background: white;
          min-width: 150px;
          outline: none;
          cursor: pointer;
        }

        .category-dropdown:focus {
          border-color: #f97316;
          box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        /* Floating Cart Button */
        .floating-cart {
          position: fixed;
          bottom: 20px;
          right: 20px;
          width: 60px;
          height: 60px;
          background: #f97316;
          color: white;
          border: none;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
          cursor: pointer;
          z-index: 100;
          transition: transform 0.2s ease;
        }

        .floating-cart:hover {
          transform: scale(1.1);
        }

        .cart-count {
          position: absolute;
          top: -5px;
          right: -5px;
          background: #dc2626;
          color: white;
          border-radius: 50%;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 12px;
          font-weight: bold;
        }

        /* Main Content - Scrollable */
        .main-content {
          flex: 1;
          overflow-y: auto;
          -webkit-overflow-scrolling: touch;
        }

        .content-container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 20px;
        }

        /* Table Info Banner */
        .table-info-banner {
          background: rgba(255, 126, 71, 0.1);
          border: 1px solid rgba(255, 126, 71, 0.2);
          border-radius: 12px;
          padding: 16px 20px;
          margin-bottom: 24px;
        }

        .table-info-content {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .table-info-text {
          display: flex;
          flex-direction: column;
        }

        .table-info-title {
          font-size: 18px;
          font-weight: 600;
          color: #ff7e47;
          margin: 0;
        }

        .table-info-subtitle {
          font-size: 14px;
          color: #666;
          margin: 0;
        }

        .results-info {
          text-align: center;
          margin-bottom: 30px;
          color: #6b7280;
          font-size: 14px;
          font-weight: 500;
        }

        /* Menu Grid */
        .menu-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
          gap: 20px;
          margin-bottom: 40px;
        }

        .menu-card {
          background: white;
          border-radius: 12px;
          overflow: hidden;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .menu-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .card-image {
          width: 100%;
          height: 200px;
          overflow: hidden;
        }

        .card-image img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          transition: transform 0.3s ease;
        }

        .menu-card:hover .card-image img {
          transform: scale(1.05);
        }

        .card-content {
          padding: 16px;
        }

        .card-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 8px;
          gap: 10px;
        }

        .product-name {
          font-size: 16px;
          font-weight: 600;
          color: #111827;
          flex: 1;
          line-height: 1.3;
        }

        .product-price {
          font-size: 16px;
          font-weight: 700;
          color: #f97316;
          flex-shrink: 0;
        }

        .category-tag {
          display: inline-block;
          background: rgba(249, 115, 22, 0.1);
          color: #f97316;
          font-size: 11px;
          padding: 4px 8px;
          border-radius: 12px;
          font-weight: 500;
          margin-bottom: 8px;
        }

        .product-description {
          font-size: 13px;
          color: #6b7280;
          line-height: 1.4;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
          margin-bottom: 12px;
        }

        /* Cart Controls */
        .cart-controls {
          margin-top: 12px;
        }

        .add-to-cart-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          width: 100%;
          padding: 10px;
          background: #f97316;
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: background 0.2s ease;
        }

        .add-to-cart-btn:hover {
          background: #ea580c;
        }

        .quantity-controls {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
        }

        .quantity-btn {
          width: 32px;
          height: 32px;
          border: 1px solid #d1d5db;
          background: white;
          border-radius: 6px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .quantity-btn:hover {
          background: #f97316;
          color: white;
          border-color: #f97316;
        }

        .quantity {
          font-weight: 600;
          font-size: 16px;
          min-width: 30px;
          text-align: center;
        }

        /* NEW: Reserved message styling */
        .reserved-message {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          margin-top: 12px;
          padding: 10px;
          background: rgba(245, 158, 11, 0.1);
          color: #f59e0b;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
        }

        /* Modal Styles */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .cart-modal, .checkout-modal {
          background: white;
          border-radius: 12px;
          max-width: 500px;
          width: 100%;
          max-height: 90vh;
          display: flex;
          flex-direction: column;
        }

        .cart-header, .checkout-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px;
          border-bottom: 1px solid #e5e7eb;
        }

        .cart-header h3, .checkout-header h3 {
          font-size: 20px;
          font-weight: 600;
          color: #111827;
        }

        .close-btn {
          background: none;
          border: none;
          cursor: pointer;
          color: #6b7280;
          padding: 4px;
        }

        .close-btn:hover {
          color: #111827;
        }

        .cart-content, .checkout-content {
          flex: 1;
          overflow-y: auto;
          padding: 20px;
        }

        .empty-cart {
          text-align: center;
          padding: 40px 20px;
          color: #6b7280;
        }

        .cart-items {
          margin-bottom: 20px;
        }

        .cart-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 0;
          border-bottom: 1px solid #f3f4f6;
        }

        .cart-item:last-child {
          border-bottom: none;
        }

        .cart-item-image {
          width: 50px;
          height: 50px;
          object-fit: cover;
          border-radius: 6px;
        }

        .cart-item-details {
          flex: 1;
        }

        .cart-item-details h4 {
          font-size: 14px;
          font-weight: 600;
          color: #111827;
          margin-bottom: 4px;
        }

        .cart-item-details p {
          font-size: 12px;
          color: #6b7280;
        }

        .cart-item-controls {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .cart-item-controls button {
          width: 28px;
          height: 28px;
          border: 1px solid #d1d5db;
          background: white;
          border-radius: 4px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
        }

        .cart-item-controls button:hover {
          background: #f97316;
          color: white;
          border-color: #f97316;
        }

        .cart-item-controls span {
          font-weight: 600;
          min-width: 20px;
          text-align: center;
        }

        .cart-item-total {
          font-weight: 600;
          color: #f97316;
          min-width: 60px;
          text-align: right;
        }

        .cart-summary, .summary-totals {
          border-top: 1px solid #e5e7eb;
          padding-top: 16px;
        }

        .summary-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 8px;
          font-size: 14px;
        }

        .summary-row.total {
          font-weight: 700;
          font-size: 16px;
          color: #111827;
          border-top: 1px solid #e5e7eb;
          padding-top: 8px;
          margin-top: 8px;
        }

        .cart-footer, .checkout-footer {
          padding: 20px;
          border-top: 1px solid #e5e7eb;
        }

        .checkout-btn, .place-order-btn {
          width: 100%;
          padding: 14px;
          background: #f97316;
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: background 0.2s ease;
        }

        .checkout-btn:hover, .place-order-btn:hover {
          background: #ea580c;
        }

        .place-order-btn:disabled {
          background: #d1d5db;
          cursor: not-allowed;
        }

        /* Checkout Specific Styles */
        .customer-details, .order-summary, .payment-info {
          margin-bottom: 24px;
        }

        .customer-details h4, .order-summary h4 {
          font-size: 16px;
          font-weight: 600;
          color: #111827;
          margin-bottom: 16px;
        }

        .form-group {
          margin-bottom: 16px;
        }

        .form-group label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 500;
          color: #374151;
          margin-bottom: 6px;
        }

        .form-group input, .form-group select {
          width: 100%;
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
          outline: none;
        }

        .form-group input:focus, .form-group select:focus {
          border-color: #f97316;
          box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        .summary-items {
          margin-bottom: 16px;
        }

        .summary-item {
          display: flex;
          justify-content: space-between;
          margin-bottom: 8px;
          font-size: 14px;
        }

        .payment-method {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px;
          background: #f3f4f6;
          border-radius: 6px;
          font-size: 14px;
          color: #374151;
        }

        /* Empty State */
        .empty-state {
          text-align: center;
          padding: 60px 20px;
          color: #6b7280;
        }

        .empty-state h3 {
          color: #111827;
          margin-bottom: 8px;
          font-size: 18px;
        }

        .empty-state p {
          margin-bottom: 20px;
        }

        .clear-filters {
          background: #f97316;
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
        }

        .clear-filters:hover {
          background: #ea580c;
        }

        /* Footer */
       .footer {
  padding: 16px;
  background-color: #f8f8f8; /* Light background for contrast */
  text-align: center;
  border-top: 1px solid #ddd; /* Optional: visual separation */
  width: 100%;
  box-sizing: border-box;
  position: relative; /* Ensure footer respects parent container */
  z-index: 10; /* Ensure footer is above most elements but below modals */
}

.footer-sub {
  font-size: 0.875rem; /* Smaller font size for mobile */
  color: #666;
  margin-top: 8px;
}

/* Ensure the parent container has enough padding to keep footer visible */
.scrollable-content { /* Adjust class name based on your actual container */
  padding-bottom: 80px; /* Enough space for footer and floating button */
  min-height: 100vh; /* Ensure content takes full viewport height */
  box-sizing: border-box;
}

        /* Mobile Responsive */
        @media (max-width: 640px) {
          .header-container {
            padding: 16px;
          }

          .restaurant-name {
            font-size: 20px;
          }

          .search-section {
            flex-direction: column;
            gap: 12px;
          }

          .category-dropdown {
            width: 100%;
            min-width: auto;
          }

          .content-container {
            padding: 16px;
          }

          .menu-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .card-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
          }

          .floating-cart {
            bottom: 80px;
          }

          .cart-modal, .checkout-modal {
            margin: 10px;
            max-height: calc(100vh - 20px);
          }

          .success-message {
            margin: 10px;
            padding: 30px 20px;
          }

          .download-invoice-btn {
            padding: 10px 16px;
            font-size: 13px;
          }
        }

        /* Tablet */
        @media (min-width: 641px) and (max-width: 1024px) {
          .menu-grid {
            grid-template-columns: repeat(2, 1fr);
          }
        }

        /* Large Desktop */
        @media (min-width: 1200px) {
          .menu-grid {
            grid-template-columns: repeat(4, 1fr);
          }
        }

        /* Custom Scrollbar */
        .main-content::-webkit-scrollbar, .cart-content::-webkit-scrollbar, .checkout-content::-webkit-scrollbar {
          width: 8px;
        }

        .main-content::-webkit-scrollbar-track, .cart-content::-webkit-scrollbar-track, .checkout-content::-webkit-scrollbar-track {
          background: #f1f5f9;
        }

        .main-content::-webkit-scrollbar-thumb, .cart-content::-webkit-scrollbar-thumb, .checkout-content::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 4px;
        }

        .main-content::-webkit-scrollbar-thumb:hover, .cart-content::-webkit-scrollbar-thumb:hover, .checkout-content::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `})]})},Fae=()=>{const e=Zr(),t=()=>{e("/login")};return n.jsx("div",{className:"privacy-container",children:n.jsxs("div",{className:"privacy-policy-card",children:[n.jsx("div",{className:"privacy-header",children:n.jsx("button",{type:"button",className:"back-to-login",onClick:t,children:" Back to Login"})}),n.jsxs("div",{className:"privacy-content",children:[n.jsx("h2",{style:{textAlign:"center"},children:n.jsx("b",{children:"PRIVACY POLICY"})}),n.jsx("p",{children:"Effective date: 2025-06-26"}),n.jsxs("p",{children:["1. ",n.jsx("b",{children:"Introduction"})]}),n.jsxs("p",{children:["Welcome to ",n.jsx("b",{children:" Hotel Virat"}),"."]}),n.jsxs("p",{children:[n.jsx("b",{children:"Hotel Virat"}),' ("us", "we", or "our") operates ',n.jsx("b",{children:"https://hotelvirat.com"})," (hereinafter referred to as"," ",n.jsx("b",{children:'"Service"'}),")."]}),n.jsxs("p",{children:["Our Privacy Policy governs your visit to ",n.jsx("b",{children:"https://hotelvirat.com"}),", and explains how we collect, safeguard and disclose information that results from your use of our Service."]}),n.jsx("p",{children:"We use your data to provide and improve Service. By using Service, you agree to the collection and use of information in accordance with this policy. Unless otherwise defined in this Privacy Policy, the terms used in this Privacy Policy have the same meanings as in our Terms and Conditions."}),n.jsxs("p",{children:["Our Terms and Conditions (",n.jsx("b",{children:'"Terms"'}),") govern all use of our Service and together with the Privacy Policy constitutes your agreement with us (",n.jsx("b",{children:'"agreement"'}),")."]}),n.jsxs("p",{children:["2. ",n.jsx("b",{children:"Definitions"})]}),n.jsxs("p",{children:[n.jsx("b",{children:"SERVICE"})," means the https://hotelvirat.comwebsite operated by Hotel Virat."]}),n.jsxs("p",{children:[n.jsx("b",{children:"PERSONAL DATA"})," means data about a living individual who can be identified from those data (or from those and other information either in our possession or likely to come into our possession)."]}),n.jsxs("p",{children:[n.jsx("b",{children:"USAGE DATA"})," is data collected automatically either generated by the use of Service or from Service infrastructure itself (for example, the duration of a page visit)."]}),n.jsxs("p",{children:[n.jsx("b",{children:"COOKIES"})," are small files stored on your device (computer or mobile device)."]}),n.jsxs("p",{children:[n.jsx("b",{children:"DATA CONTROLLER"})," means a natural or legal person who (either alone or jointly or in common with other persons) determines the purposes for which and the manner in which any personal data are, or are to be, processed. For the purpose of this Privacy Policy, we are a Data Controller of your data."]}),n.jsxs("p",{children:[n.jsx("b",{children:"DATA PROCESSORS (OR SERVICE PROVIDERS)"})," means any natural or legal person who processes the data on behalf of the Data Controller. We may use the services of various Service Providers in order to process your data more effectively."]}),n.jsxs("p",{children:[n.jsx("b",{children:"DATA SUBJECT"})," is any living individual who is the subject of Personal Data."]}),n.jsxs("p",{children:[n.jsx("b",{children:"THE USER"})," is the individual using our Service. The User corresponds to the Data Subject, who is the subject of Personal Data."]}),n.jsxs("p",{children:["3. ",n.jsx("b",{children:"Information Collection and Use"})]}),n.jsx("p",{children:"We collect several different types of information for various purposes to provide and improve our Service to you."}),n.jsxs("p",{children:["4. ",n.jsx("b",{children:"Types of Data Collected"})]}),n.jsx("p",{children:n.jsx("b",{children:"Personal Data"})}),n.jsxs("p",{children:["While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you (",n.jsx("b",{children:'"Personal Data"'}),"). Personally identifiable information may include, but is not limited to:"]}),n.jsx("p",{children:"0.1. Email address"}),n.jsx("p",{children:"0.2. First name and last name"}),n.jsx("p",{children:"0.3. Phone number"}),n.jsx("p",{children:"0.4. Address, Country, State, Province, ZIP/Postal code, City"}),n.jsx("p",{children:"0.5. Cookies and Usage Data"}),n.jsx("p",{children:"We may use your Personal Data to contact you with newsletters, marketing or promotional materials and other information that may be of interest to you. You may opt out of receiving any, or all, of these communications from us by following the unsubscribe link."}),n.jsx("p",{children:n.jsx("b",{children:"Usage Data"})}),n.jsxs("p",{children:["We may also collect information that your browser sends whenever you visit our Service or when you access Service by or through any device (",n.jsx("b",{children:'"Usage Data"'}),")."]}),n.jsx("p",{children:"This Usage Data may include information such as your computer's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages, unique device identifiers and other diagnostic data."}),n.jsx("p",{children:"When you access Service with a device, this Usage Data may include information such as the type of device you use, your device unique ID, the IP address of your device, your device operating system, the type of Internet browser you use, unique device identifiers and other diagnostic data."}),n.jsx("p",{children:n.jsx("b",{children:"Tracking Cookies Data"})}),n.jsx("p",{children:"We use cookies and similar tracking technologies to track the activity on our Service and we hold certain information."}),n.jsx("p",{children:"Cookies are files with a small amount of data which may include an anonymous unique identifier. Cookies are sent to your browser from a website and stored on your device. Other tracking technologies are also used such as beacons, tags and scripts to collect and track information and to improve and analyze our Service."}),n.jsx("p",{children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Service."}),n.jsx("p",{children:"Examples of Cookies we use:"}),n.jsxs("p",{children:["0.1. ",n.jsx("b",{children:"Session Cookies:"})," We use Session Cookies to operate our Service."]}),n.jsxs("p",{children:["0.2. ",n.jsx("b",{children:"Preference Cookies:"})," We use Preference Cookies to remember your preferences and various settings."]}),n.jsxs("p",{children:["0.3. ",n.jsx("b",{children:"Security Cookies:"})," We use Security Cookies for security purposes."]}),n.jsxs("p",{children:["0.4. ",n.jsx("b",{children:"Advertising Cookies:"})," Advertising Cookies are used to serve you with advertisements that may be relevant to you and your interests."]}),n.jsx("p",{children:n.jsx("b",{children:"Other Data"})}),n.jsxs("p",{children:["While using our Service, we may also collect the following information: sex, age, date of birth, place of birth, passport details, citizenship, registration at place of residence and actual address, telephone number (work, mobile), details of documents on education, qualification, professional training, employment agreements"," ",", information on bonuses and compensation, information on marital status, family members, social security (or other taxpayer identification) number, office location and other data."]}),n.jsxs("p",{children:["5. ",n.jsx("b",{children:"Use of Data"})]}),n.jsx("p",{children:"Hotel Virat uses the collected data for various purposes:"}),n.jsx("p",{children:"0.1. to provide and maintain our Service;"}),n.jsx("p",{children:"0.2. to notify you about changes to our Service;"}),n.jsx("p",{children:"0.3. to allow you to participate in interactive features of our Service when you choose to do so;"}),n.jsx("p",{children:"0.4. to provide customer support;"}),n.jsx("p",{children:"0.5. to gather analysis or valuable information so that we can improve our Service;"}),n.jsx("p",{children:"0.6. to monitor the usage of our Service;"}),n.jsx("p",{children:"0.7. to detect, prevent and address technical issues;"}),n.jsx("p",{children:"0.8. to fulfil any other purpose for which you provide it;"}),n.jsx("p",{children:"0.9. to carry out our obligations and enforce our rights arising from any contracts entered into between you and us, including for billing and collection;"}),n.jsx("p",{children:"0.10. to provide you with notices about your account and/or subscription, including expiration and renewal notices, email-instructions, etc.;"}),n.jsx("p",{children:"0.11. to provide you with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless you have opted not to receive such information;"}),n.jsx("p",{children:"0.12. in any other way we may describe when you provide the information;"}),n.jsx("p",{children:"0.13. for any other purpose with your consent."}),n.jsxs("p",{children:["6. ",n.jsx("b",{children:"Retention of Data"})]}),n.jsx("p",{children:"We will retain your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."}),n.jsx("p",{children:"We will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period, except when this data is used to strengthen the security or to improve the functionality of our Service, or we are legally obligated to retain this data for longer time periods."}),n.jsxs("p",{children:["7. ",n.jsx("b",{children:"Transfer of Data"})]}),n.jsx("p",{children:"Your information, including Personal Data, may be transferred to  and maintained on  computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ from those of your jurisdiction."}),n.jsx("p",{children:"If you are located outside India and choose to provide information to us, please note that we transfer the data, including Personal Data, to India and process it there."}),n.jsx("p",{children:"Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer."}),n.jsx("p",{children:"Hotel Virat will take all the steps reasonably necessary to ensure that your data is treated securely and in accordance with this Privacy Policy and no transfer of your Personal Data will take place to an organisation or a country unless there are adequate controls in place including the security of your data and other personal information."}),n.jsxs("p",{children:["8. ",n.jsx("b",{children:"Disclosure of Data"})]}),n.jsx("p",{children:"We may disclose personal information that we collect, or you provide:"}),n.jsxs("p",{children:["0.1. ",n.jsx("b",{children:"Business Transaction."})]}),n.jsx("p",{children:"If we or our subsidiaries are involved in a merger, acquisition or asset sale, your Personal Data may be transferred."}),n.jsxs("p",{children:["0.2. ",n.jsx("b",{children:"Other cases. We may disclose your information also:"})]}),n.jsx("p",{children:"0.2.1. to our subsidiaries and affiliates;"}),n.jsx("p",{children:"0.2.2. to contractors, service providers, and other third parties we use to support our business;"}),n.jsx("p",{children:"0.2.3. to fulfill the purpose for which you provide it;"}),n.jsx("p",{children:"0.2.4. for the purpose of including your company's logo on our website;"}),n.jsx("p",{children:"0.2.5. for any other purpose disclosed by us when you provide the information;"}),n.jsx("p",{children:"0.2.6. with your consent in any other cases;"}),n.jsx("p",{children:"0.2.7. if we believe disclosure is necessary or appropriate to protect the rights, property, or safety of the Company, our customers, or others."}),n.jsxs("p",{children:["9. ",n.jsx("b",{children:"Security of Data"})]}),n.jsx("p",{children:"The security of your data is important to us but remember that no method of transmission over the Internet or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security."}),n.jsxs("p",{children:["10. ",n.jsx("b",{children:"Your Data Protection Rights Under General Data Protection Regulation (GDPR)"})]}),n.jsx("p",{children:"If you are a resident of the European Union (EU) and European Economic Area (EEA), you have certain data protection rights, covered by GDPR."}),n.jsx("p",{children:"We aim to take reasonable steps to allow you to correct, amend, delete, or limit the use of your Personal Data."}),n.jsxs("p",{children:[" ","If you wish to be informed what Personal Data we hold about you and if you want it to be removed from our systems, please email us at ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]}),n.jsx("p",{children:"In certain circumstances, you have the following data protection rights:"}),n.jsx("p",{children:"0.1. the right to access, update or to delete the information we have on you;"}),n.jsx("p",{children:"0.2. the right of rectification. You have the right to have your information rectified if that information is inaccurate or incomplete;"}),n.jsx("p",{children:"0.3. the right to object. You have the right to object to our processing of your Personal Data;"}),n.jsx("p",{children:"0.4. the right of restriction. You have the right to request that we restrict the processing of your personal information;"}),n.jsx("p",{children:"0.5. the right to data portability. You have the right to be provided with a copy of your Personal Data in a structured, machine-readable and commonly used format;"}),n.jsx("p",{children:"0.6. the right to withdraw consent. You also have the right to withdraw your consent at any time where we rely on your consent to process your personal information;"}),n.jsx("p",{children:"Please note that we may ask you to verify your identity before responding to such requests. Please note, we may not able to provide Service without some necessary data."}),n.jsx("p",{children:"You have the right to complain to a Data Protection Authority about our collection and use of your Personal Data. For more information, please contact your local data protection authority in the European Economic Area (EEA)."}),n.jsxs("p",{children:["11. ",n.jsx("b",{children:"Your Data Protection Rights under the California Privacy Protection Act (CalOPPA)"})]}),n.jsx("p",{children:"CalOPPA is the first state law in the nation to require commercial websites and online services to post a privacy policy. The law's reach stretches well beyond California to require a person or company in the United States (and conceivable the world) that operates websites collecting personally identifiable information from California consumers to post a conspicuous privacy policy on its website stating exactly the information being collected and those individuals with whom it is being shared, and to comply with this policy."}),n.jsx("p",{children:"According to CalOPPA we agree to the following:"}),n.jsx("p",{children:"0.1. users can visit our site anonymously;"}),n.jsx("p",{children:'0.2. our Privacy Policy link includes the word "Privacy", and can easily be found on the home page of our website;'}),n.jsx("p",{children:"0.3. users will be notified of any privacy policy changes on our Privacy Policy Page;"}),n.jsxs("p",{children:["0.4. users are able to change their personal information by emailing us at ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]}),n.jsx("p",{children:'Our Policy on "Do Not Track" Signals:'}),n.jsx("p",{children:"We honor Do Not Track signals and do not track, plant cookies, or use advertising when a Do Not Track browser mechanism is in place. Do Not Track is a preference you can set in your web browser to inform websites that you do not want to be tracked."}),n.jsx("p",{children:"You can enable or disable Do Not Track by visiting the Preferences or Settings page of your web browser."}),n.jsxs("p",{children:["12. ",n.jsx("b",{children:"Your Data Protection Rights under the California Consumer Privacy Act (CCPA)"})]}),n.jsx("p",{children:"If you are a California resident, you are entitled to learn what data we collect about you, ask to delete your data and not to sell (share) it. To exercise your data protection rights, you can make certain requests and ask us:"}),n.jsx("p",{children:n.jsx("b",{children:"0.1. What personal information we have about you. If you make this request, we will return to you:"})}),n.jsx("p",{children:"0.0.1. The categories of personal information we have collected about you."}),n.jsx("p",{children:"0.0.2. The categories of sources from which we collect your personal information."}),n.jsx("p",{children:"0.0.3. The business or commercial purpose for collecting or selling your personal information."}),n.jsx("p",{children:"0.0.4. The categories of third parties with whom we share personal information."}),n.jsx("p",{children:"0.0.5. The specific pieces of personal information we have collected about you."}),n.jsx("p",{children:"0.0.6. A list of categories of personal information that we have sold, along with the category of any other company we sold it to. If we have not sold your personal information, we will inform you of that fact."}),n.jsx("p",{children:"0.0.7. A list of categories of personal information that we have disclosed for a business purpose, along with the category of any other company we shared it with."}),n.jsx("p",{children:"Please note, you are entitled to ask us to provide you with this information up to two times in a rolling twelve-month period. When you make this request, the information provided may be limited to the personal information we collected about you in the previous 12 months."}),n.jsx("p",{children:n.jsx("b",{children:"0.2. To delete your personal information. If you make this request, we will delete the personal information we hold about you as of the date of your request from our records and direct any service providers to do the same. In some cases, deletion may be accomplished through de-identification of the information. If you choose to delete your personal information, you may not be able to use certain functions that require your personal information to operate."})}),n.jsx("p",{children:n.jsx("b",{children:`0.3. To stop selling your personal information. We don't sell or rent your personal information to any third parties for any purpose. We do not sell your personal information for monetary consideration. However, under some circumstances, a transfer of personal information to a third party, or within our family of companies, without monetary consideration may be considered a "sale" under California law. You are the only owner of your Personal Data and can request disclosure or deletion at any time.`})}),n.jsx("p",{children:"If you submit a request to stop selling your personal information, we will stop making such transfers."}),n.jsx("p",{children:"Please note, if you ask us to delete or stop selling your data, it may impact your experience with us, and you may not be able to participate in certain programs or membership services which require the usage of your personal information to function. But in no circumstances, we will discriminate against you for exercising your rights."}),n.jsxs("p",{children:["To exercise your California data protection rights described above, please send your request(s) by email:"," ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]}),n.jsx("p",{children:"Your data protection rights, described above, are covered by the CCPA, short for the California Consumer Privacy Act. To find out more, visit the official California Legislative Information website. The CCPA took effect on 01/01/2020."}),n.jsxs("p",{children:["13. ",n.jsx("b",{children:"Service Providers"})]}),n.jsxs("p",{children:["We may employ third party companies and individuals to facilitate our Service (",n.jsx("b",{children:'"Service Providers"'}),"), provide Service on our behalf, perform Service-related services or assist us in analysing how our Service is used."]}),n.jsx("p",{children:"These third parties have access to your Personal Data only to perform these tasks on our behalf and are obligated not to disclose or use it for any other purpose."}),n.jsxs("p",{children:["14. ",n.jsx("b",{children:"Analytics"})]}),n.jsx("p",{children:"We may use third-party Service Providers to monitor and analyze the use of our Service."}),n.jsxs("p",{children:["15. ",n.jsx("b",{children:"CI/CD tools"})]}),n.jsx("p",{children:"We may use third-party Service Providers to automate the development process of our Service."}),n.jsxs("p",{children:["16. ",n.jsx("b",{children:"Behavioral Remarketing"})]}),n.jsx("p",{children:"We may use remarketing services to advertise on third party websites to you after you visited our Service. We and our third-party vendors use cookies to inform, optimise and serve ads based on your past visits to our Service."}),n.jsxs("p",{children:["17. ",n.jsx("b",{children:"Payments"})]}),n.jsx("p",{children:"We may provide paid products and/or services within Service. In that case, we use third-party services for payment processing (e.g. payment processors)."}),n.jsx("p",{children:"We will not store or collect your payment card details. That information is provided directly to our third-party payment processors whose use of your personal information is governed by their Privacy Policy. These payment processors adhere to the standards set by PCI-DSS as managed by the PCI Security Standards Council, which is a joint effort of brands like Visa, Mastercard, American Express and Discover. PCI-DSS requirements help ensure the secure handling of payment information."}),n.jsxs("p",{children:["18. ",n.jsx("b",{children:"Links to Other Sites"})]}),n.jsx("p",{children:"Our Service may contain links to other sites that are not operated by us. If you click a third party link, you will be directed to that third party's site. We strongly advise you to review the Privacy Policy of every site you visit."}),n.jsx("p",{children:"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."}),n.jsxs("p",{children:["19. ",n.jsx("b",{children:"Children's Privacy"})]}),n.jsxs("p",{children:["Our Services are not intended for use by children under the age of 18 (",n.jsx("b",{children:'"Child"'})," or ",n.jsx("b",{children:'"Children"'}),")."]}),n.jsx("p",{children:"We do not knowingly collect personally identifiable information from Children under 18. If you become aware that a Child has provided us with Personal Data, please contact us. If we become aware that we have collected Personal Data from Children without verification of parental consent, we take steps to remove that information from our servers."}),n.jsxs("p",{children:["20. ",n.jsx("b",{children:"Changes to This Privacy Policy"})]}),n.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),n.jsx("p",{children:'We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update "effective date" at the top of this Privacy Policy.'}),n.jsx("p",{children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."}),n.jsxs("p",{children:["21. ",n.jsx("b",{children:"Contact Us"})]}),n.jsxs("p",{children:["If you have any questions about this Privacy Policy, please contact us by email:"," ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]})]})]})})},Bae=()=>{const e=Zr(),t=()=>{e("/login")};return n.jsx("div",{className:"privacy-container",children:n.jsxs("div",{className:"privacy-policy-card",children:[n.jsx("div",{className:"privacy-header",children:n.jsx("button",{type:"button",className:"back-to-login",onClick:t,children:" Back to Login"})}),n.jsxs("div",{className:"privacy-content",children:[n.jsx("h2",{style:{textAlign:"center"},children:n.jsx("b",{children:"TERMS AND CONDITIONS"})}),n.jsx("p",{children:"Last updated: 2025-06-26"}),n.jsxs("p",{children:["1. ",n.jsx("b",{children:"Introduction"})]}),n.jsxs("p",{children:["Welcome to ",n.jsx("b",{children:"Hotel Virat"}),' ("Company", "we", "our", "us")!']}),n.jsxs("p",{children:['These Terms of Service ("Terms", "Terms of Service") govern your use of our website located at'," ",n.jsx("b",{children:"https://hotelvirat.com"}),' (together or individually "Service") operated by ',n.jsx("b",{children:"Hotel Virat"}),"."]}),n.jsx("p",{children:"Our Privacy Policy also governs your use of our Service and explains how we collect, safeguard and disclose information that results from your use of our web pages."}),n.jsx("p",{children:'Your agreement with us includes these Terms and our Privacy Policy ("Agreements"). You acknowledge that you have read and understood Agreements, and agree to be bound of them.'}),n.jsxs("p",{children:["If you do not agree with (or cannot comply with) Agreements, then you may not use the Service, but please let us know by emailing at ",n.jsx("b",{children:"infohotelvirat@gmail.com"})," so we can try to find a solution. These Terms apply to all visitors, users and others who wish to access or use Service."]}),n.jsxs("p",{children:["2. ",n.jsx("b",{children:"Communications"})]}),n.jsx("p",{children:"By using our Service, you agree to subscribe to newsletters, marketing or promotional materials and other information we may send. However, you may opt out of receiving any, or all, of these communications from us by following the unsubscribe link or by emailing at infohotelvirat@gmail.com."}),n.jsxs("p",{children:["3. ",n.jsx("b",{children:"Purchases"})]}),n.jsx("p",{children:'If you wish to purchase any product or service made available through Service ("Purchase"), you may be asked to supply certain information relevant to your Purchase including but not limited to, your credit or debit card number, the expiration date of your card, your billing address, and your shipping information.'}),n.jsx("p",{children:"You represent and warrant that: (i) you have the legal right to use any card(s) or other payment method(s) in connection with any Purchase; and that (ii) the information you supply to us is true, correct and complete."}),n.jsx("p",{children:"We may employ the use of third party services for the purpose of facilitating payment and the completion of Purchases. By submitting your information, you grant us the right to provide the information to these third parties subject to our Privacy Policy."}),n.jsx("p",{children:"We reserve the right to refuse or cancel your order at any time for reasons including but not limited to: product or service availability, errors in the description or price of the product or service, error in your order or other reasons."}),n.jsx("p",{children:"We reserve the right to refuse or cancel your order if fraud or an unauthorized or illegal transaction is suspected."}),n.jsxs("p",{children:["4. ",n.jsx("b",{children:"Contests, Sweepstakes and Promotions"})]}),n.jsx("p",{children:'Any contests, sweepstakes or other promotions (collectively, "Promotions") made available through Service may be governed by rules that are separate from these Terms of Service. If you participate in any Promotions, please review the applicable rules as well as our Privacy Policy. If the rules for a Promotion conflict with these Terms of Service, Promotion rules will apply.'}),n.jsxs("p",{children:["5. ",n.jsx("b",{children:"Refunds"})]}),n.jsxs("p",{children:[n.jsx("b",{children:"NO REFUND POLICY:"})," All payments made for products, services, orders, reservations, events, and any other transactions through Hotel Virat are ",n.jsx("b",{children:"strictly non-refundable"}),". We do not issue refunds for any contracts, purchases, or services under any circumstances. Please review your order details carefully before confirming payment as all sales are final."]}),n.jsxs("p",{children:["6. ",n.jsx("b",{children:"Content"})]}),n.jsx("p",{children:"Content found on or through this Service are the property of Hotel Virat or used with permission. You may not distribute, modify, transmit, reuse, download, repost, copy, or use said Content, whether in whole or in part, for commercial purposes or for personal gain, without express advance written permission from us."}),n.jsxs("p",{children:["7. ",n.jsx("b",{children:"Prohibited Uses"})]}),n.jsx("p",{children:"You may use Service only for lawful purposes and in accordance with Terms. You agree not to use Service:"}),n.jsx("p",{children:"0.1. In any way that violates any applicable national or international law or regulation."}),n.jsx("p",{children:"0.2. For the purpose of exploiting, harming, or attempting to exploit or harm minors in any way by exposing them to inappropriate content or otherwise."}),n.jsx("p",{children:'0.3. To transmit, or procure the sending of, any advertising or promotional material, including any "junk mail", "chain letter," "spam," or any other similar solicitation.'}),n.jsx("p",{children:"0.4. To impersonate or attempt to impersonate Company, a Company employee, another user, or any other person or entity."}),n.jsx("p",{children:"0.5. In any way that infringes upon the rights of others, or in any way is illegal, threatening, fraudulent, or harmful, or in connection with any unlawful, illegal, fraudulent, or harmful purpose or activity."}),n.jsx("p",{children:"0.6. To engage in any other conduct that restricts or inhibits anyone's use or enjoyment of Service, or which, as determined by us, may harm or offend Company or users of Service or expose them to liability."}),n.jsx("p",{children:"Additionally, you agree not to:"}),n.jsx("p",{children:"0.1. Use Service in any manner that could disable, overburden, damage, or impair Service or interfere with any other party's use of Service, including their ability to engage in real time activities through Service."}),n.jsx("p",{children:"0.2. Use any robot, spider, or other automatic device, process, or means to access Service for any purpose, including monitoring or copying any of the material on Service."}),n.jsx("p",{children:"0.3. Use any manual process to monitor or copy any of the material on Service or for any other unauthorized purpose without our prior written consent."}),n.jsx("p",{children:"0.4. Use any device, software, or routine that interferes with the proper working of Service."}),n.jsx("p",{children:"0.5. Introduce any viruses, trojan horses, worms, logic bombs, or other material which is malicious or technologically harmful."}),n.jsx("p",{children:"0.6. Attempt to gain unauthorized access to, interfere with, damage, or disrupt any parts of Service, the server on which Service is stored, or any server, computer, or database connected to Service."}),n.jsx("p",{children:"0.7. Attack Service via a denial-of-service attack or a distributed denial-of-service attack."}),n.jsx("p",{children:"0.8. Take any action that may damage or falsify Company rating."}),n.jsx("p",{children:"0.9. Otherwise attempt to interfere with the proper working of Service."}),n.jsxs("p",{children:["8. ",n.jsx("b",{children:"Analytics"})]}),n.jsx("p",{children:"We may use third-party Service Providers to monitor and analyze the use of our Service."}),n.jsxs("p",{children:["9. ",n.jsx("b",{children:"No Use By Minors"})]}),n.jsx("p",{children:"Service is intended only for access and use by individuals at least eighteen (18) years old. By accessing or using Service, you warrant and represent that you are at least eighteen (18) years of age and with the full authority, right, and capacity to enter into this agreement and abide by all of the terms and conditions of Terms. If you are not at least eighteen (18) years old, you are prohibited from both the access and usage of Service."}),n.jsxs("p",{children:["10. ",n.jsx("b",{children:"Accounts"})]}),n.jsx("p",{children:"When you create an account with us, you guarantee that you are above the age of 18, and that the information you provide us is accurate, complete, and current at all times. Inaccurate, incomplete, or obsolete information may result in the immediate termination of your account on Service."}),n.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account and password, including but not limited to the restriction of access to your computer and/or account. You agree to accept responsibility for any and all activities or actions that occur under your account and/or password, whether your password is with our Service or a third-party service. You must notify us immediately upon becoming aware of any breach of security or unauthorized use of your account."}),n.jsx("p",{children:"You may not use as a username the name of another person or entity or that is not lawfully available for use, a name or trademark that is subject to any rights of another person or entity other than you, without appropriate authorization. You may not use as a username any name that is offensive, vulgar or obscene."}),n.jsx("p",{children:"We reserve the right to refuse service, terminate accounts, remove or edit content, or cancel orders in our sole discretion."}),n.jsxs("p",{children:["11. ",n.jsx("b",{children:"Intellectual Property"})]}),n.jsx("p",{children:"Service and its original content (excluding Content provided by users), features and functionality are and will remain the exclusive property of Hotel Virat and its licensors. Service is protected by copyright, trademark, and other laws of and foreign countries. Our trademarks may not be used in connection with any product or service without the prior written consent of Hotel Virat."}),n.jsxs("p",{children:["12. ",n.jsx("b",{children:"Copyright Policy"})]}),n.jsx("p",{children:'We respect the intellectual property rights of others. It is our policy to respond to any claim that Content posted on Service infringes on the copyright or other intellectual property rights ("Infringement") of any person or entity.'}),n.jsx("p",{children:'If you are a copyright owner, or authorized on behalf of one, and you believe that the copyrighted work has been copied in a way that constitutes copyright infringement, please submit your claim via email to infohotelvirat@gmail.com, with the subject line: "Copyright Infringement" and include in your claim a detailed description of the alleged Infringement as detailed below, under "DMCA Notice and Procedure for Copyright Infringement Claims"'}),n.jsx("p",{children:"You may be held accountable for damages (including costs and attorneys' fees) for misrepresentation or bad-faith claims on the infringement of any Content found on and/or through Service on your copyright."}),n.jsxs("p",{children:["13. ",n.jsx("b",{children:"DMCA Notice and Procedure for Copyright Infringement Claims"})]}),n.jsx("p",{children:"You may submit a notification pursuant to the Digital Millennium Copyright Act (DMCA) by providing our Copyright Agent with the following information in writing (see 17 U.S.C 512(c)(3) for further detail):"}),n.jsx("p",{children:"0.1. an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright's interest;"}),n.jsx("p",{children:"0.2. a description of the copyrighted work that you claim has been infringed, including the URL (i.e., web page address) of the location where the copyrighted work exists or a copy of the copyrighted work;"}),n.jsx("p",{children:"0.3. identification of the URL or other specific location on Service where the material that you claim is infringing is located;"}),n.jsx("p",{children:"0.4. your address, telephone number, and email address;"}),n.jsx("p",{children:"0.5. a statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent, or the law;"}),n.jsx("p",{children:"0.6. a statement by you, made under penalty of perjury, that the above information in your notice is accurate and that you are the copyright owner or authorized to act on the copyright owner's behalf."}),n.jsx("p",{children:"You can contact our Copyright Agent via email at infohotelvirat@gmail.com."}),n.jsxs("p",{children:["14. ",n.jsx("b",{children:"Error Reporting and Feedback"})]}),n.jsx("p",{children:'You may provide us either directly at infohotelvirat@gmail.com or via third party sites and tools with information and feedback concerning errors, suggestions for improvements, ideas, problems, complaints, and other matters related to our Service ("Feedback"). You acknowledge and agree that: (i) you shall not retain, acquire or assert any intellectual property right or other right, title or interest in or to the Feedback; (ii) Company may have development ideas similar to the Feedback; (iii) Feedback does not contain confidential information or proprietary information from you or any third party; and (iv) Company is not under any obligation of confidentiality with respect to the Feedback. In the event the transfer of the ownership to the Feedback is not possible due to applicable mandatory laws, you grant Company and its affiliates an exclusive, transferable, irrevocable, free-of-charge, sub-licensable, unlimited and perpetual right to use (including copy, modify, create derivative works, publish, distribute and commercialize) Feedback in any manner and for any purpose.'}),n.jsxs("p",{children:["15. ",n.jsx("b",{children:"Links To Other Web Sites"})]}),n.jsx("p",{children:"Our Service may contain links to third party web sites or services that are not owned or controlled by Hotel Virat."}),n.jsx("p",{children:"Hotel Virat has no control over, and assumes no responsibility for the content, privacy policies, or practices of any third party web sites or services. We do not warrant the offerings of any of these entities/individuals or their websites."}),n.jsx("p",{children:"YOU ACKNOWLEDGE AND AGREE THAT COMPANY SHALL NOT BE RESPONSIBLE OR LIABLE, DIRECTLY OR INDIRECTLY, FOR ANY DAMAGE OR LOSS CAUSED OR ALLEGED TO BE CAUSED BY OR IN CONNECTION WITH USE OF OR RELIANCE ON ANY SUCH CONTENT, GOODS OR SERVICES AVAILABLE ON OR THROUGH ANY SUCH THIRD PARTY WEB SITES OR SERVICES."}),n.jsx("p",{children:"WE STRONGLY ADVISE YOU TO READ THE TERMS OF SERVICE AND PRIVACY POLICIES OF ANY THIRD PARTY WEB SITES OR SERVICES THAT YOU VISIT."}),n.jsxs("p",{children:["16. ",n.jsx("b",{children:"Disclaimer Of Warranty"})]}),n.jsx("p",{children:'THESE SERVICES ARE PROVIDED BY COMPANY ON AN "AS IS" AND "AS AVAILABLE" BASIS. COMPANY MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, AS TO THE OPERATION OF THEIR SERVICES, OR THE INFORMATION, CONTENT OR MATERIALS INCLUDED THEREIN. YOU EXPRESSLY AGREE THAT YOUR USE OF THESE SERVICES, THEIR CONTENT, AND ANY SERVICES OR ITEMS OBTAINED FROM US IS AT YOUR SOLE RISK.'}),n.jsx("p",{children:"NEITHER COMPANY NOR ANY PERSON ASSOCIATED WITH COMPANY MAKES ANY WARRANTY OR REPRESENTATION WITH RESPECT TO THE COMPLETENESS, SECURITY, RELIABILITY, QUALITY, ACCURACY, OR AVAILABILITY OF THE SERVICES. WITHOUT LIMITING THE FOREGOING, NEITHER COMPANY NOR ANYONE ASSOCIATED WITH COMPANY REPRESENTS OR WARRANTS THAT THE SERVICES, THEIR CONTENT, OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL BE ACCURATE, RELIABLE, ERROR-FREE, OR UNINTERRUPTED, THAT DEFECTS WILL BE CORRECTED, THAT THE SERVICES OR THE SERVER THAT MAKES IT AVAILABLE ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS OR THAT THE SERVICES OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL OTHERWISE MEET YOUR NEEDS OR EXPECTATIONS."}),n.jsx("p",{children:"COMPANY HEREBY DISCLAIMS ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, STATUTORY, OR OTHERWISE, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, NON-INFRINGEMENT, AND FITNESS FOR PARTICULAR PURPOSE."}),n.jsx("p",{children:"THE FOREGOING DOES NOT AFFECT ANY WARRANTIES WHICH CANNOT BE EXCLUDED OR LIMITED UNDER APPLICABLE LAW."}),n.jsxs("p",{children:["17. ",n.jsx("b",{children:"Limitation Of Liability"})]}),n.jsx("p",{children:"EXCEPT AS PROHIBITED BY LAW, YOU WILL HOLD US AND OUR OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS HARMLESS FOR ANY INDIRECT, PUNITIVE, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGE, HOWEVER IT ARISES (INCLUDING ATTORNEYS' FEES AND ALL RELATED COSTS AND EXPENSES OF LITIGATION AND ARBITRATION, OR AT TRIAL OR ON APPEAL, IF ANY, WHETHER OR NOT LITIGATION OR ARBITRATION IS INSTITUTED), WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE, OR OTHER TORTIOUS ACTION, OR ARISING OUT OF OR IN CONNECTION WITH THIS AGREEMENT, INCLUDING WITHOUT LIMITATION ANY CLAIM FOR PERSONAL INJURY OR PROPERTY DAMAGE, ARISING FROM THIS AGREEMENT AND ANY VIOLATION BY YOU OF ANY FEDERAL, STATE, OR LOCAL LAWS, STATUTES, RULES, OR REGULATIONS, EVEN IF COMPANY HAS BEEN PREVIOUSLY ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. EXCEPT AS PROHIBITED BY LAW, IF THERE IS LIABILITY FOUND ON THE PART OF COMPANY, IT WILL BE LIMITED TO THE AMOUNT PAID FOR THE PRODUCTS AND/OR SERVICES, AND UNDER NO CIRCUMSTANCES WILL THERE BE CONSEQUENTIAL OR PUNITIVE DAMAGES. SOME STATES DO NOT ALLOW THE EXCLUSION OR LIMITATION OF PUNITIVE, INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THE PRIOR LIMITATION OR EXCLUSION MAY NOT APPLY TO YOU."}),n.jsxs("p",{children:["18. ",n.jsx("b",{children:"Termination"})]}),n.jsx("p",{children:"We may terminate or suspend your account and bar access to Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of Terms."}),n.jsx("p",{children:"If you wish to terminate your account, you may simply discontinue using Service."}),n.jsx("p",{children:"All provisions of Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability."}),n.jsxs("p",{children:["19. ",n.jsx("b",{children:"Governing Law"})]}),n.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of India, which governing law applies to agreement without regard to its conflict of law provisions."}),n.jsx("p",{children:"Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect. These Terms constitute the entire agreement between us regarding our Service and supersede and replace any prior agreements we might have had between us regarding Service."}),n.jsxs("p",{children:["20. ",n.jsx("b",{children:"Changes To Service"})]}),n.jsx("p",{children:"We reserve the right to withdraw or amend our Service, and any service or material we provide via Service, in our sole discretion without notice. We will not be liable if for any reason all or any part of Service is unavailable at any time or for any period. From time to time, we may restrict access to some parts of Service, or the entire Service, to users, including registered users."}),n.jsxs("p",{children:["21. ",n.jsx("b",{children:"Amendments To Terms"})]}),n.jsx("p",{children:"We may amend Terms at any time by posting the amended terms on this site. It is your responsibility to review these Terms periodically."}),n.jsx("p",{children:"Your continued use of the Platform following the posting of revised Terms means that you accept and agree to the changes. You are expected to check this page frequently so you are aware of any changes, as they are binding on you."}),n.jsx("p",{children:"By continuing to access or use our Service after any revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, you are no longer authorized to use Service."}),n.jsxs("p",{children:["22. ",n.jsx("b",{children:"Waiver And Severability"})]}),n.jsx("p",{children:"No waiver by Company of any term or condition set forth in Terms shall be deemed a further or continuing waiver of such term or condition or a waiver of any other term or condition, and any failure of Company to assert a right or provision under Terms shall not constitute a waiver of such right or provision."}),n.jsx("p",{children:"If any provision of Terms is held by a court or other tribunal of competent jurisdiction to be invalid, illegal or unenforceable for any reason, such provision shall be eliminated or limited to the minimum extent such that the remaining provisions of Terms will continue in full force and effect."}),n.jsxs("p",{children:["23. ",n.jsx("b",{children:"Acknowledgement"})]}),n.jsx("p",{children:"BY USING SERVICE OR OTHER SERVICES PROVIDED BY US, YOU ACKNOWLEDGE THAT YOU HAVE READ THESE TERMS OF SERVICE AND AGREE TO BE BOUND BY THEM."}),n.jsxs("p",{children:["24. ",n.jsx("b",{children:"Contact Us"})]}),n.jsxs("p",{children:["Please send your feedback, comments, requests for technical support by email:"," ",n.jsx("b",{children:"infohotelvirat@gmail.com"}),"."]})]})]})})},Lae=()=>{var D,B,M;const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(null),[l,d]=N.useState(""),[u,f]=N.useState([]),[p,x]=N.useState({status:"",subscriptionType:"",search:""}),[g,v]=N.useState(null),[j,b]=N.useState(!1),[y,C]=N.useState("");N.useEffect(()=>{(async()=>{try{const F=await(await fetch("https://hotelvirat.com/api/v1/hotel/branch")).json();f(F),F.length>0&&d(F[0]._id)}catch(W){console.error("Error fetching branches:",W)}})()},[]),N.useEffect(()=>{l&&A()},[l,p]);const A=async()=>{a(!0);try{let k=`https://hotelvirat.com/api/v1/hotel/subscription?branchId=${l}`;p.status&&(k+=`&status=${p.status}`),p.subscriptionType&&(k+=`&subscriptionType=${p.subscriptionType}`);const F=await(await fetch(k)).json();if(F.success){let I=F.data;p.search&&(I=I.filter(R=>{var X,ne,ge,q;return((ne=(X=R.userId)==null?void 0:X.name)==null?void 0:ne.toLowerCase().includes(p.search.toLowerCase()))||((q=(ge=R.productId)==null?void 0:ge.name)==null?void 0:q.toLowerCase().includes(p.search.toLowerCase()))})),t(I)}else s(F.message)}catch(k){console.error("Error fetching subscriptions:",k),s("Failed to fetch subscriptions")}finally{a(!1)}},E=async(k,W,F={})=>{try{const R=await(await fetch(`https://hotelvirat.com/api/v1/hotel/subscription/${k}/${W}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).json();R.success?(A(),b(!1),v(null)):alert(R.message)}catch(I){console.error(`Error ${W}ing subscription:`,I),alert(`Failed to ${W} subscription`)}},S=k=>{switch(k){case"active":return"#4CAF50";case"paused":return"#FF9800";case"cancelled":return"#F44336";case"expired":return"#9E9E9E";default:return"#666"}},T=k=>{switch(k){case"weekly":return"#2196F3";case"monthly":return"#9C27B0";case"yearly":return"#FF5722";default:return"#666"}},_=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),P=(k,W)=>{v(k),C(W),b(!0)},L=()=>{b(!1),v(null),C("")};return r?n.jsx("div",{className:"subscription-container",children:n.jsxs("div",{className:"loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading subscriptions..."})]})}):n.jsxs("div",{className:"subscription-container",children:[n.jsx("div",{className:"subscription-header",children:n.jsx("h1",{children:"Subscription Management"})}),n.jsxs("div",{className:"branch-selector",children:[n.jsx("label",{htmlFor:"branch-select",children:"Select Branch:"}),n.jsx("select",{id:"branch-select",value:l,onChange:k=>d(k.target.value),className:"branch-select",children:u.map(k=>n.jsx("option",{value:k._id,children:k.name},k._id))})]}),n.jsxs("div",{className:"filters",children:[n.jsx("div",{className:"filter-group",children:n.jsx("input",{type:"text",placeholder:"Search by customer or product...",value:p.search,onChange:k=>x({...p,search:k.target.value}),className:"search-input"})}),n.jsx("div",{className:"filter-group",children:n.jsxs("select",{value:p.status,onChange:k=>x({...p,status:k.target.value}),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"expired",children:"Expired"})]})}),n.jsx("div",{className:"filter-group",children:n.jsxs("select",{value:p.subscriptionType,onChange:k=>x({...p,subscriptionType:k.target.value}),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Types"}),n.jsx("option",{value:"weekly",children:"Weekly"}),n.jsx("option",{value:"monthly",children:"Monthly"}),n.jsx("option",{value:"yearly",children:"Yearly"})]})})]}),n.jsxs("div",{className:"subscriptions-table-container",children:[n.jsxs("table",{className:"subscriptions-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Product"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Quantity"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Next Delivery"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:e.map(k=>{var W,F,I,R,X;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:"customer-info",children:[n.jsx("strong",{children:(W=k.userId)==null?void 0:W.name}),n.jsx("span",{children:(F=k.userId)==null?void 0:F.mobile})]})}),n.jsx("td",{children:n.jsxs("div",{className:"product-info",children:[n.jsx("img",{src:((I=k.productId)==null?void 0:I.image)||"/placeholder-product.jpg",alt:(R=k.productId)==null?void 0:R.name,className:"product-image"}),n.jsx("span",{children:(X=k.productId)==null?void 0:X.name})]})}),n.jsx("td",{children:n.jsx("span",{className:"subscription-type",style:{backgroundColor:T(k.subscriptionType)},children:k.subscriptionType})}),n.jsx("td",{children:k.quantity}),n.jsxs("td",{children:["",k.totalPrice]}),n.jsx("td",{children:n.jsx("span",{className:"status-badge",style:{backgroundColor:S(k.status)},children:k.status})}),n.jsx("td",{children:_(k.nextDeliveryDate)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"btn-view",onClick:()=>P(k,"view"),children:"View"}),k.status==="active"&&n.jsx("button",{className:"btn-pause",onClick:()=>P(k,"pause"),children:"Pause"}),k.status==="paused"&&n.jsx("button",{className:"btn-resume",onClick:()=>E(k._id,"resume"),children:"Resume"}),k.status!=="cancelled"&&n.jsx("button",{className:"btn-cancel",onClick:()=>P(k,"cancel"),children:"Cancel"})]})})]},k._id)})})]}),e.length===0&&n.jsx("div",{className:"no-subscriptions",children:n.jsx("p",{children:"No subscriptions found for the selected criteria."})})]}),j&&g&&n.jsx("div",{className:"modal-overlay",onClick:L,children:n.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h2",{children:[y==="view"&&"Subscription Details",y==="pause"&&"Pause Subscription",y==="cancel"&&"Cancel Subscription"]}),n.jsx("button",{className:"close-btn",onClick:L,children:""})]}),n.jsxs("div",{className:"modal-body",children:[y==="view"&&n.jsxs("div",{className:"subscription-details",children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Customer:"})," ",(D=g.userId)==null?void 0:D.name]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Product:"})," ",(B=g.productId)==null?void 0:B.name]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Type:"})," ",g.subscriptionType]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Quantity:"})," ",g.quantity]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Price:"})," ",g.totalPrice]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Status:"})," ",g.status]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Start Date:"})," ",_(g.startDate)]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"End Date:"})," ",_(g.endDate)]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Next Delivery:"})," ",_(g.nextDeliveryDate)]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Address:"})," ",g.deliveryAddress]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Days:"})," ",(M=g.deliveryDays)==null?void 0:M.join(", ")]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Time:"})," ",g.deliveryTime]})]}),y==="pause"&&n.jsxs("div",{className:"pause-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"pause-reason",children:"Reason for pausing:"}),n.jsx("textarea",{id:"pause-reason",placeholder:"Enter reason for pausing subscription...",rows:"3"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"pause-end-date",children:"Pause until (optional):"}),n.jsx("input",{type:"date",id:"pause-end-date"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"btn-confirm",onClick:()=>{const k=document.getElementById("pause-reason").value,W=document.getElementById("pause-end-date").value;E(g._id,"pause",{pauseReason:k,pauseEndDate:W})},children:"Pause Subscription"}),n.jsx("button",{className:"btn-cancel",onClick:L,children:"Cancel"})]})]}),y==="cancel"&&n.jsxs("div",{className:"cancel-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"cancel-reason",children:"Reason for cancellation:"}),n.jsx("textarea",{id:"cancel-reason",placeholder:"Enter reason for cancelling subscription...",rows:"3"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"btn-confirm",onClick:()=>{const k=document.getElementById("cancel-reason").value;E(g._id,"cancel",{cancellationReason:k})},children:"Cancel Subscription"}),n.jsx("button",{className:"btn-cancel",onClick:L,children:"Keep Subscription"})]})]})]})]})})]})},zae=()=>{var M,k,W;const[e,t]=N.useState([]),[r,a]=N.useState(!0),[i,s]=N.useState(null),[l,d]=N.useState(""),[u,f]=N.useState([]),[p,x]=N.useState({status:"",planType:"",search:""}),[g,v]=N.useState(null),[j,b]=N.useState(!1),[y,C]=N.useState(""),[A,E]=N.useState({scheduledDate:"",status:"scheduled",deliveryPerson:{name:"",phone:"",id:""},deliveryNotes:"",rating:null,feedback:""});N.useEffect(()=>{(async()=>{try{const R=await(await fetch("https://hotelvirat.com/api/v1/hotel/branch")).json();f(R),R.length>0&&d(R[0]._id)}catch(I){console.error("Error fetching branches:",I)}})()},[]),N.useEffect(()=>{l&&S()},[l,p]);const S=async()=>{a(!0);try{let F=`https://hotelvirat.com/api/v1/hotel/subscription-order?branchId=${l}`;p.status&&(F+=`&status=${p.status}`),p.planType&&(F+=`&planType=${p.planType}`);const R=await(await fetch(F)).json();if(R.success){let X=R.data;p.search&&(X=X.filter(ne=>{var ge,q,ee,z;return((q=(ge=ne.userId)==null?void 0:ge.name)==null?void 0:q.toLowerCase().includes(p.search.toLowerCase()))||((z=(ee=ne.productId)==null?void 0:ee.name)==null?void 0:z.toLowerCase().includes(p.search.toLowerCase()))})),t(X)}else s(R.message)}catch(F){console.error("Error fetching subscription orders:",F),s("Failed to fetch subscription orders")}finally{a(!1)}},T=F=>{switch(F){case"active":return"#4CAF50";case"paused":return"#FF9800";case"cancelled":return"#F44336";case"completed":return"#9E9E9E";default:return"#666"}},_=F=>{switch(F){case"daily":return"#2196F3";case"weekly":return"#9C27B0";case"monthly":return"#FF5722";case"yearly":return"#4CAF50";default:return"#666"}},P=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),L=(F,I)=>{v(F),C(I),b(!0)},D=()=>{b(!1),v(null),C(""),E({scheduledDate:"",status:"scheduled",deliveryPerson:{name:"",phone:"",id:""},deliveryNotes:"",rating:null,feedback:""})},B=async()=>{try{const I=await(await fetch(`https://hotelvirat.com/api/v1/hotel/subscription-order/${g._id}/delivery`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)})).json();I.success?(alert("Delivery status updated successfully!"),S(),D()):alert("Error updating delivery status: "+I.message)}catch(F){console.error("Error updating delivery status:",F),alert("Error updating delivery status")}};return r?n.jsx("div",{className:"subscription-management-container",children:n.jsxs("div",{className:"loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading subscription orders..."})]})}):n.jsxs("div",{className:"subscription-management-container",children:[n.jsx("div",{className:"subscription-management-header",children:n.jsx("h1",{children:"Subscription Order Management"})}),n.jsxs("div",{className:"branch-selector",children:[n.jsx("label",{htmlFor:"branch-select",children:"Select Branch:"}),n.jsx("select",{id:"branch-select",value:l,onChange:F=>d(F.target.value),className:"branch-select",children:u.map(F=>n.jsx("option",{value:F._id,children:F.name},F._id))})]}),n.jsxs("div",{className:"filters",children:[n.jsx("div",{className:"filter-group",children:n.jsx("input",{type:"text",placeholder:"Search by customer or product...",value:p.search,onChange:F=>x({...p,search:F.target.value}),className:"search-input"})}),n.jsx("div",{className:"filter-group",children:n.jsxs("select",{value:p.status,onChange:F=>x({...p,status:F.target.value}),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"completed",children:"Completed"})]})}),n.jsx("div",{className:"filter-group",children:n.jsxs("select",{value:p.planType,onChange:F=>x({...p,planType:F.target.value}),className:"filter-select",children:[n.jsx("option",{value:"",children:"All Plans"}),n.jsx("option",{value:"daily",children:"Daily"}),n.jsx("option",{value:"weekly",children:"Weekly"}),n.jsx("option",{value:"monthly",children:"Monthly"}),n.jsx("option",{value:"yearly",children:"Yearly"})]})})]}),n.jsxs("div",{className:"subscription-orders-table-container",children:[n.jsxs("table",{className:"subscription-orders-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Product"}),n.jsx("th",{children:"Plan"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Next Delivery"}),n.jsx("th",{children:"Cycles"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:e.map(F=>{var I,R,X,ne,ge;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:"customer-info",children:[n.jsx("strong",{children:(I=F.userId)==null?void 0:I.name}),n.jsx("span",{children:(R=F.userId)==null?void 0:R.mobile})]})}),n.jsx("td",{children:n.jsxs("div",{className:"product-info",children:[n.jsx("img",{src:((X=F.productId)==null?void 0:X.image)||"/placeholder-product.jpg",alt:(ne=F.productId)==null?void 0:ne.name,className:"product-image"}),n.jsx("span",{children:(ge=F.productId)==null?void 0:ge.name})]})}),n.jsx("td",{children:n.jsx("span",{className:"plan-type",style:{backgroundColor:_(F.planType)},children:F.planType})}),n.jsxs("td",{children:["",F.price]}),n.jsx("td",{children:n.jsx("span",{className:"status-badge",style:{backgroundColor:T(F.status)},children:F.status})}),n.jsx("td",{children:P(F.nextDeliveryDate)}),n.jsxs("td",{children:[F.completedCycles,"/",F.totalCycles||""]}),n.jsx("td",{children:n.jsx("div",{className:"action-buttons",children:n.jsx("button",{className:"btn-view",onClick:()=>L(F,"view"),children:"View"})})})]},F._id)})})]}),e.length===0&&n.jsx("div",{className:"no-subscriptions",children:n.jsx("p",{children:"No subscription orders found for the selected criteria."})})]}),j&&g&&n.jsx("div",{className:"modal-overlay",onClick:D,children:n.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Subscription Order Details"}),n.jsx("button",{className:"close-btn",onClick:D,children:""})]}),n.jsxs("div",{className:"modal-body",children:[y==="view"&&n.jsxs("div",{className:"subscription-details",children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Customer:"})," ",(M=g.userId)==null?void 0:M.name]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Product:"})," ",(k=g.productId)==null?void 0:k.name]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Plan Type:"})," ",g.planType]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Price:"})," ",g.price]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Status:"})," ",g.status]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Start Date:"})," ",P(g.startDate)]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Address:"})," ",g.deliveryAddress]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Days:"})," ",(W=g.deliveryDays)==null?void 0:W.join(", ")]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Delivery Time:"})," ",g.deliveryTime]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Payment Method:"})," ",g.paymentMethod]}),g.deliveryTracking&&g.deliveryTracking.length>0&&n.jsxs("div",{className:"delivery-tracking-section",children:[n.jsx("h4",{children:"Recent Deliveries"}),g.deliveryTracking.slice(0,3).map((F,I)=>n.jsxs("div",{className:"delivery-item",children:[n.jsxs("div",{className:"delivery-status",children:[n.jsx("span",{className:`status-badge ${F.status}`,children:F.status.replace("_"," ").toUpperCase()}),n.jsx("span",{className:"delivery-date",children:P(F.scheduledDate)})]}),F.deliveryPerson&&n.jsxs("div",{className:"delivery-person",children:["By: ",F.deliveryPerson.name]}),F.deliveryNotes&&n.jsx("div",{className:"delivery-notes",children:F.deliveryNotes})]},I))]}),n.jsx("div",{className:"modal-actions",children:n.jsx("button",{className:"btn-update-delivery",onClick:()=>{C("delivery"),E({scheduledDate:new Date().toISOString().split("T")[0],status:"scheduled",deliveryPerson:{name:"",phone:"",id:""},deliveryNotes:"",rating:null,feedback:""})},children:"Update Delivery Status"})})]}),y==="delivery"&&n.jsxs("div",{className:"delivery-form",children:[n.jsx("h3",{children:"Update Delivery Status"}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"scheduledDate",children:"Scheduled Date:"}),n.jsx("input",{type:"date",id:"scheduledDate",value:A.scheduledDate,onChange:F=>E({...A,scheduledDate:F.target.value}),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"status",children:"Delivery Status:"}),n.jsxs("select",{id:"status",value:A.status,onChange:F=>E({...A,status:F.target.value}),required:!0,children:[n.jsx("option",{value:"scheduled",children:"Scheduled"}),n.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"rescheduled",children:"Rescheduled"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"deliveryPersonName",children:"Delivery Person Name:"}),n.jsx("input",{type:"text",id:"deliveryPersonName",value:A.deliveryPerson.name,onChange:F=>E({...A,deliveryPerson:{...A.deliveryPerson,name:F.target.value}}),placeholder:"Enter delivery person name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"deliveryPersonPhone",children:"Delivery Person Phone:"}),n.jsx("input",{type:"tel",id:"deliveryPersonPhone",value:A.deliveryPerson.phone,onChange:F=>E({...A,deliveryPerson:{...A.deliveryPerson,phone:F.target.value}}),placeholder:"Enter phone number"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"deliveryNotes",children:"Delivery Notes:"}),n.jsx("textarea",{id:"deliveryNotes",value:A.deliveryNotes,onChange:F=>E({...A,deliveryNotes:F.target.value}),placeholder:"Enter delivery notes",rows:"3"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"rating",children:"Customer Rating (1-5):"}),n.jsxs("select",{id:"rating",value:A.rating||"",onChange:F=>E({...A,rating:F.target.value?parseInt(F.target.value):null}),children:[n.jsx("option",{value:"",children:"No rating"}),n.jsx("option",{value:"1",children:"1 Star"}),n.jsx("option",{value:"2",children:"2 Stars"}),n.jsx("option",{value:"3",children:"3 Stars"}),n.jsx("option",{value:"4",children:"4 Stars"}),n.jsx("option",{value:"5",children:"5 Stars"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"feedback",children:"Customer Feedback:"}),n.jsx("textarea",{id:"feedback",value:A.feedback,onChange:F=>E({...A,feedback:F.target.value}),placeholder:"Enter customer feedback",rows:"3"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"btn-confirm",onClick:B,children:"Update Delivery"}),n.jsx("button",{className:"btn-cancel",onClick:()=>C("view"),children:"Cancel"})]})]})]})]})})]})},$ae=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState(""),[u,f]=N.useState(!0),[p,x]=N.useState(!1),[g,v]=N.useState(""),[j,b]=N.useState(null),[y,C]=N.useState({productId:"",description:"",image:null,isActive:!0});N.useEffect(()=>{(async()=>{try{const F=await(await fetch("https://hotelvirat.com/api/v1/hotel/branch")).json();a(F),F.length>0&&d(F[0])}catch(W){console.error("Error fetching branches:",W)}})()},[]);const A=async()=>{try{const k=`https://hotelvirat.com/api/v1/hotel/menu?t=${Date.now()}`,W=await fetch(k,{method:"GET",cache:"no-cache",headers:{"Content-Type":"application/json"}});if(!W.ok)throw new Error(`HTTP error! status: ${W.status}`);const F=await W.json();Array.isArray(F)?s(F):s([])}catch(k){console.error("Error fetching products:",k),s([])}};N.useEffect(()=>{A()},[]);const E=async()=>{if(!(!l||!l._id))try{console.log(" Fetching meals for branch:",l._id);const k=`https://hotelvirat.com/api/v1/hotel/meal-of-the-day/branch/${l._id}`;console.log(" API URL:",k);const W=await fetch(k);if(console.log(" Response status:",W.status),console.log(" Response ok:",W.ok),!W.ok)throw new Error(`HTTP error! status: ${W.status}`);const F=await W.json();console.log(" API response:",F),F.success&&Array.isArray(F.data)?(console.log(" Setting meals:",F.data.length,"items"),t(F.data)):(console.error(" Invalid API response:",F),t([]))}catch(k){console.error(" Error fetching meals:",k),t([])}};N.useEffect(()=>{l&&l._id&&E()},[l]);const S=async k=>{if(k.preventDefault(),!y.productId||!l){alert("Please select a product and branch");return}try{const W={productId:y.productId,branchId:l._id,description:y.description||"",isActive:y.isActive};if(y.image&&y.image instanceof File){const F=new FormData;F.append("image",y.image),Object.keys(W).forEach(I=>{F.append(I,W[I])}),await fetch("https://hotelvirat.com/api/v1/hotel/meal-of-the-day",{method:"POST",body:F})}else await fetch("https://hotelvirat.com/api/v1/hotel/meal-of-the-day",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});E(),C({productId:"",description:"",image:null,isActive:!0})}catch(W){console.error("Error saving meal:",W)}},T=async k=>{if(window.confirm("Are you sure you want to delete this meal?"))try{await fetch(`https://hotelvirat.com/api/v1/hotel/meal-of-the-day/${k}`,{method:"DELETE"}),E()}catch(W){console.error("Error deleting meal:",W)}},_=async(k,W)=>{try{(await fetch(`https://hotelvirat.com/api/v1/hotel/meal-of-the-day/${k}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!W})})).ok&&E()}catch(F){console.error("Error updating meal status:",F)}},P=k=>{const W=k.target.files[0];W&&C({...y,image:W})},L=k=>{const{name:W,value:F,type:I,checked:R}=k.target;C(X=>({...X,[W]:I==="checkbox"?R:F}))},D=k=>{const W=k.target.value,F=r.find(I=>I._id===W);d(F)},B=k=>{const W=i.find(F=>F._id===k);return W?W.name:"Unknown Product"},M=k=>{const W=i.find(F=>F._id===k);return W?W.price:0};return n.jsxs("div",{className:"meal-of-the-day-container",children:[n.jsxs("div",{className:"header",children:[n.jsx("h2",{children:" Meal of the Day Management"}),n.jsx("p",{children:"Create and manage daily special meals for each branch with beautiful presentation"})]}),n.jsxs("div",{className:"branch-selection",children:[n.jsx("label",{htmlFor:"branchSelect",children:" Select Branch"}),n.jsxs("select",{id:"branchSelect",value:l?l._id:"",onChange:D,className:"form-control",children:[n.jsx("option",{value:"",children:"Choose a branch to manage meals..."}),r.map(k=>n.jsx("option",{value:k._id,children:k.name},k._id))]})]}),l&&n.jsxs("div",{className:"add-meal-form",children:[n.jsx("h3",{children:" Add New Meal of the Day"}),n.jsxs("form",{onSubmit:S,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"productId",children:" Select Product *"}),n.jsxs("select",{id:"productId",name:"productId",value:y.productId,onChange:L,className:"form-control",required:!0,children:[n.jsx("option",{value:"",children:"Choose a product from the menu..."}),i.length===0?n.jsx("option",{value:"",disabled:!0,children:"No products available"}):i.map(k=>n.jsxs("option",{value:k._id,children:[k.name," - ",k.price]},k._id))]}),i.length===0&&n.jsx("small",{className:"text-muted",children:" No products found. Please add products to the menu first."})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"description",children:" Description"}),n.jsx("textarea",{id:"description",name:"description",value:y.description,onChange:L,className:"form-control",rows:"3",placeholder:"Describe this special meal... (optional)"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"image",children:" Custom Image (Optional)"}),n.jsx("input",{type:"file",id:"image",name:"image",onChange:P,className:"form-control",accept:"image/*"}),n.jsx("small",{className:"text-muted",children:" If no custom image is provided, the product's default image will be used."})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",name:"isActive",checked:y.isActive,onChange:L})," Active (Show this meal to customers)"]})}),n.jsx("button",{type:"submit",className:"btn btn-primary",children:" Add Meal of the Day"})]})]}),l&&n.jsxs("div",{className:"meals-list",children:[n.jsxs("h3",{children:[" Current Meals for ",l.name]}),!e||e.length===0?n.jsx("p",{children:" No meals of the day set for this branch yet. Add your first special meal above!"}):n.jsx("div",{className:"meals-grid",children:Array.isArray(e)&&e.map(k=>n.jsxs("div",{className:"meal-card",children:[n.jsxs("div",{className:"meal-image",children:[k.image?n.jsx("img",{src:k.image,alt:B(k.productId),className:"img-fluid"}):n.jsx("div",{className:"no-image",children:" No Image Available"}),n.jsx("div",{className:`status-badge ${k.isActive?"active":"inactive"}`,children:k.isActive?" Active":" Inactive"})]}),n.jsxs("div",{className:"meal-info",children:[n.jsx("h4",{children:B(k.productId)}),n.jsxs("p",{className:"price",children:["",M(k.productId)]}),k.description&&n.jsx("p",{className:"description",children:k.description}),n.jsxs("div",{className:"meal-actions",children:[n.jsx("button",{className:`btn btn-sm ${k.isActive?"btn-secondary":"btn-success"}`,onClick:()=>_(k._id,k.isActive),children:k.isActive?" Deactivate":" Activate"}),n.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>T(k._id),children:" Delete"})]})]})]},k._id))})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Om={};Om.version="0.18.5";var b8=1252,Uae=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],j8=function(e){Uae.indexOf(e)!=-1&&(b8=e)};function qae(){j8(1252)}var hf=function(e){j8(e)};function Hae(){hf(1200),qae()}var pp=function(t){return String.fromCharCode(t)},Mk=function(t){return String.fromCharCode(t)},km,Bs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function pf(e){for(var t="",r=0,a=0,i=0,s=0,l=0,d=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),s=r>>2,a=e.charCodeAt(f++),l=(r&3)<<4|a>>4,i=e.charCodeAt(f++),d=(a&15)<<2|i>>6,u=i&63,isNaN(a)?d=u=64:isNaN(i)&&(u=64),t+=Bs.charAt(s)+Bs.charAt(l)+Bs.charAt(d)+Bs.charAt(u);return t}function rs(e){var t="",r=0,a=0,i=0,s=0,l=0,d=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)s=Bs.indexOf(e.charAt(f++)),l=Bs.indexOf(e.charAt(f++)),r=s<<2|l>>4,t+=String.fromCharCode(r),d=Bs.indexOf(e.charAt(f++)),a=(l&15)<<4|d>>2,d!==64&&(t+=String.fromCharCode(a)),u=Bs.indexOf(e.charAt(f++)),i=(d&3)<<6|u,u!==64&&(t+=String.fromCharCode(i));return t}var Ut=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),os=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function qo(e){return Ut?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Fk(e){return Ut?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ga=function(t){return Ut?os(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function k0(e){if(typeof ArrayBuffer>"u")return Ga(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function Ff(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Wae(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var ln=Ut?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:os(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Gae(e){for(var t=[],r=0,a=e.length+250,i=qo(e.length+255),s=0;s<e.length;++s){var l=e.charCodeAt(s);if(l<128)i[r++]=l;else if(l<2048)i[r++]=192|l>>6&31,i[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var d=e.charCodeAt(++s)&1023;i[r++]=240|l>>8&7,i[r++]=128|l>>2&63,i[r++]=128|d>>6&15|(l&3)<<4,i[r++]=128|d&63}else i[r++]=224|l>>12&15,i[r++]=128|l>>6&63,i[r++]=128|l&63;r>a&&(t.push(i.slice(0,r)),r=0,i=qo(65535),a=65530)}return t.push(i.slice(0,r)),ln(t)}var bu=/\u0000/g,mp=/[\u0001-\u0006]/g;function nc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ya(e,t){var r=""+e;return r.length>=t?r:Sr("0",t-r.length)+r}function fS(e,t){var r=""+e;return r.length>=t?r:Sr(" ",t-r.length)+r}function Im(e,t){var r=""+e;return r.length>=t?r:r+Sr(" ",t-r.length)}function Vae(e,t){var r=""+Math.round(e);return r.length>=t?r:Sr("0",t-r.length)+r}function Yae(e,t){var r=""+e;return r.length>=t?r:Sr("0",t-r.length)+r}var Bk=Math.pow(2,32);function ql(e,t){if(e>Bk||e<-Bk)return Vae(e,t);var r=Math.round(e);return Yae(r,t)}function Pm(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Lk=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],tj=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Xae(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Nr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},zk={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Kae={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Rm(e,t,r){for(var a=e<0?-1:1,i=e*a,s=0,l=1,d=0,u=1,f=0,p=0,x=Math.floor(i);f<t&&(x=Math.floor(i),d=x*l+s,p=x*f+u,!(i-x<5e-8));)i=1/(i-x),s=l,l=d,u=f,f=p;if(p>t&&(f>t?(p=u,d=s):(p=f,d=l)),!r)return[0,a*d,p];var g=Math.floor(a*d/p);return[g,a*d-g*p,p]}function xp(e,t,r){if(e>2958465||e<0)return null;var a=e|0,i=Math.floor(86400*(e-a)),s=0,l=[],d={D:a,T:i,u:86400*(e-a)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(d.u)<1e-6&&(d.u=0),t&&t.date1904&&(a+=1462),d.u>.9999&&(d.u=0,++i==86400&&(d.T=i=0,++a,++d.D)),a===60)l=r?[1317,10,29]:[1900,2,29],s=3;else if(a===0)l=r?[1317,8,29]:[1900,1,0],s=6;else{a>60&&--a;var u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),l=[u.getFullYear(),u.getMonth()+1,u.getDate()],s=u.getDay(),a<60&&(s=(s+6)%7),r&&(s=nie(u,l))}return d.y=l[0],d.m=l[1],d.d=l[2],d.S=i%60,i=Math.floor(i/60),d.M=i%60,i=Math.floor(i/60),d.H=i,d.q=s,d}var w8=new Date(1899,11,31,0,0,0),Qae=w8.getTime(),Zae=new Date(1900,2,1,0,0,0);function S8(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Zae&&(r+=24*60*60*1e3),(r-(Qae+(e.getTimezoneOffset()-w8.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function hS(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Jae(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function eie(e){var t=e<0?12:11,r=hS(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function tie(e){var t=hS(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function rie(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=eie(e):t===10?r=e.toFixed(10).substr(0,12):r=tie(e),hS(Jae(r.toUpperCase()))}function U2(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):rie(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ws(14,S8(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function nie(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function aie(e,t,r,a){var i="",s=0,l=0,d=r.y,u,f=0;switch(e){case 98:d=r.y+543;case 121:switch(t.length){case 1:case 2:u=d%100,f=2;break;default:u=d%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return tj[r.m-1][1];case 5:return tj[r.m-1][0];default:return tj[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return Lk[r.q][0];default:return Lk[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ya(r.S,t.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,s=Math.round(l*(r.S+r.u)),s>=60*l&&(s=0),t==="s"?s===0?"0":""+s/l:(i=Ya(s,2+a),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=d,f=1;break}var p=f>0?Ya(u,f):"";return p}function Ls(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var N8=/%/g;function iie(e,t,r){var a=t.replace(N8,""),i=t.length-a.length;return Vi(e,a,r*Math.pow(10,2*i))+Sr("%",i)}function sie(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Vi(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function T8(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+T8(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(t/Math.pow(10,s)).toPrecision(a+1+(i+s)%i),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,u,f,p){return u+f+p.substr(0,(i+s)%i)+"."+p.substr(s)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var C8=/# (\?+)( ?)\/( ?)(\d+)/;function oie(e,t,r){var a=parseInt(e[4],10),i=Math.round(t*a),s=Math.floor(i/a),l=i-s*a,d=a;return r+(s===0?"":""+s)+" "+(l===0?Sr(" ",e[1].length+1+e[4].length):fS(l,e[1].length)+e[2]+"/"+e[3]+Ya(d,e[4].length))}function lie(e,t,r){return r+(t===0?"":""+t)+Sr(" ",e[1].length+2+e[4].length)}var A8=/^#*0*\.([0#]+)/,_8=/\).*[0#]/,E8=/\(###\) ###\\?-####/;function Cn(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function $k(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Uk(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function cie(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function die(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Sa(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_8)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Sa("n",a,r):"("+Sa("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return sie(e,t,r);if(t.indexOf("%")!==-1)return iie(e,t,r);if(t.indexOf("E")!==-1)return T8(t,r);if(t.charCodeAt(0)===36)return"$"+Sa(e,t.substr(t.charAt(1)==" "?2:1),r);var i,s,l,d,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+ql(u,t.length);if(t.match(/^[#?]+$/))return i=ql(r,0),i==="0"&&(i=""),i.length>t.length?i:Cn(t.substr(0,t.length-i.length))+i;if(s=t.match(C8))return oie(s,u,f);if(t.match(/^#+0+$/))return f+ql(u,t.length-t.indexOf("0"));if(s=t.match(A8))return i=$k(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Cn(s[1])).replace(/\.$/,"."+Cn(s[1])).replace(/\.(\d*)$/,function(j,b){return"."+b+Sr("0",Cn(s[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return f+$k(u,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return f+Ls(ql(u,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Sa(e,t,-r):Ls(""+(Math.floor(r)+cie(r,s[1].length)))+"."+Ya(Uk(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Sa(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=nc(Sa(e,t.replace(/[\\-]/g,""),r)),l=0,nc(nc(t.replace(/\\/g,"")).replace(/[0#]/g,function(j){return l<i.length?i.charAt(l++):j==="0"?"0":""}));if(t.match(E8))return i=Sa(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),d=Rm(u,Math.pow(10,l)-1,!1),i=""+f,p=Vi("n",s[1],d[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+s[2]+"/"+s[3],p=Im(d[2],l),p.length<s[4].length&&(p=Cn(s[4].substr(s[4].length-p.length))+p),i+=p,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),d=Rm(u,Math.pow(10,l)-1,!0),f+(d[0]||(d[1]?"":"0"))+" "+(d[1]?fS(d[1],l)+s[2]+"/"+s[3]+Im(d[2],l):Sr(" ",2*l+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=ql(r,0),t.length<=i.length?i:Cn(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var x=t.indexOf(".")-l,g=t.length-i.length-x;return Cn(t.substr(0,x)+i+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return l=Uk(r,s[1].length),r<0?"-"+Sa(e,t,-r):Ls(die(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(j){return"00,"+(j.length<3?Ya(0,3-j.length):"")+j})+"."+Ya(l,s[1].length);switch(t){case"###,##0.00":return Sa(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=Ls(ql(u,0));return v!=="0"?f+v:"";case"###,###.00":return Sa(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Sa(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function uie(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Vi(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function fie(e,t,r){var a=t.replace(N8,""),i=t.length-a.length;return Vi(e,a,r*Math.pow(10,2*i))+Sr("%",i)}function O8(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+O8(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(t/Math.pow(10,s)).toPrecision(a+1+(i+s)%i),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,u,f,p){return u+f+p.substr(0,(i+s)%i)+"."+p.substr(s)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ci(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_8)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ci("n",a,r):"("+ci("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return uie(e,t,r);if(t.indexOf("%")!==-1)return fie(e,t,r);if(t.indexOf("E")!==-1)return O8(t,r);if(t.charCodeAt(0)===36)return"$"+ci(e,t.substr(t.charAt(1)==" "?2:1),r);var i,s,l,d,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Ya(u,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:Cn(t.substr(0,t.length-i.length))+i;if(s=t.match(C8))return lie(s,u,f);if(t.match(/^#+0+$/))return f+Ya(u,t.length-t.indexOf("0"));if(s=t.match(A8))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Cn(s[1])).replace(/\.$/,"."+Cn(s[1])),i=i.replace(/\.(\d*)$/,function(j,b){return"."+b+Sr("0",Cn(s[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return f+Ls(""+u);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ci(e,t,-r):Ls(""+r)+"."+Sr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return ci(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=nc(ci(e,t.replace(/[\\-]/g,""),r)),l=0,nc(nc(t.replace(/\\/g,"")).replace(/[0#]/g,function(j){return l<i.length?i.charAt(l++):j==="0"?"0":""}));if(t.match(E8))return i=ci(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),d=Rm(u,Math.pow(10,l)-1,!1),i=""+f,p=Vi("n",s[1],d[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+s[2]+"/"+s[3],p=Im(d[2],l),p.length<s[4].length&&(p=Cn(s[4].substr(s[4].length-p.length))+p),i+=p,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),d=Rm(u,Math.pow(10,l)-1,!0),f+(d[0]||(d[1]?"":"0"))+" "+(d[1]?fS(d[1],l)+s[2]+"/"+s[3]+Im(d[2],l):Sr(" ",2*l+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:Cn(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var x=t.indexOf(".")-l,g=t.length-i.length-x;return Cn(t.substr(0,x)+i+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ci(e,t,-r):Ls(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(j){return"00,"+(j.length<3?Ya(0,3-j.length):"")+j})+"."+Ya(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var v=Ls(""+u);return v!=="0"?f+v:"";default:if(t.match(/\.[0#?]*$/))return ci(e,t.slice(0,t.lastIndexOf(".")),r)+Cn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Vi(e,t,r){return(r|0)===r?ci(e,t,r):Sa(e,t,r)}function hie(e){for(var t=[],r=!1,a=0,i=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(i,a-i),i=a+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var k8=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function I8(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":Pm(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(k8))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function pie(e,t,r,a){for(var i=[],s="",l=0,d="",u="t",f,p,x,g="H";l<e.length;)switch(d=e.charAt(l)){case"G":if(!Pm(e,l))throw new Error("unrecognized character "+d+" in "+e);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(x=e.charCodeAt(++l))!==34&&l<e.length;)s+=String.fromCharCode(x);i[i.length]={t:"t",v:s},++l;break;case"\\":var v=e.charAt(++l),j=v==="("||v===")"?v:"t";i[i.length]={t:j,v},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(f==null&&(f=xp(t,r,e.charAt(l+1)==="2"),f==null))return"";i[i.length]={t:"X",v:e.substr(l,2)},u=d,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=xp(t,r),f==null))return"";for(s=d;++l<e.length&&e.charAt(l).toLowerCase()===d;)s+=d;d==="m"&&u.toLowerCase()==="h"&&(d="M"),d==="h"&&(d=g),i[i.length]={t:d,v:s},u=d;break;case"A":case"a":case"":var b={t:d,v:d};if(f==null&&(f=xp(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(b.v=f.H>=12?"P":"A"),b.t="T",g="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(b.v=f.H>=12?"PM":"AM"),b.t="T",l+=5,g="h"):e.substr(l,5).toUpperCase()==="/"?(f!=null&&(b.v=f.H>=12?"":""),b.t="T",l+=5,g="h"):(b.t="t",++l),f==null&&b.t==="T")return"";i[i.length]=b,u=d;break;case"[":for(s=d;e.charAt(l++)!=="]"&&l<e.length;)s+=e.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(k8)){if(f==null&&(f=xp(t,r),f==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},u=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",I8(e)||(i[i.length]={t:"t",v:s}));break;case".":if(f!=null){for(s=d;++l<e.length&&(d=e.charAt(l))==="0";)s+=d;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=d;++l<e.length&&"0#?.,E+-%".indexOf(d=e.charAt(l))>-1;)s+=d;i[i.length]={t:"n",v:s};break;case"?":for(s=d;e.charAt(++l)===d;)s+=d;i[i.length]={t:d,v:s},u=d;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:a===1?"t":d,v:d},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=d;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)s+=e.charAt(l);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:d,v:d},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d)===-1)throw new Error("unrecognized character "+d+" in "+e);i[i.length]={t:"t",v:d},++l;break}var y=0,C=0,A;for(l=i.length-1,u="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=g,u="h",y<1&&(y=1);break;case"s":(A=i[l].v.match(/\.0+$/))&&(C=Math.max(C,A[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":u=i[l].t;break;case"m":u==="s"&&(i[l].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[l].v.match(/[Hh]/)&&(y=1),y<2&&i[l].v.match(/[Mm]/)&&(y=2),y<3&&i[l].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var E="",S;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=aie(i[l].t.charCodeAt(0),i[l].v,f,C),i[l].t="t";break;case"n":case"?":for(S=l+1;i[S]!=null&&((d=i[S].t)==="?"||d==="D"||(d===" "||d==="t")&&i[S+1]!=null&&(i[S+1].t==="?"||i[S+1].t==="t"&&i[S+1].v==="/")||i[l].t==="("&&(d===" "||d==="n"||d===")")||d==="t"&&(i[S].v==="/"||i[S].v===" "&&i[S+1]!=null&&i[S+1].t=="?"));)i[l].v+=i[S].v,i[S]={v:"",t:";"},++S;E+=i[l].v,l=S-1;break;case"G":i[l].t="t",i[l].v=U2(t,r);break}var T="",_,P;if(E.length>0){E.charCodeAt(0)==40?(_=t<0&&E.charCodeAt(0)===45?-t:t,P=Vi("n",E,_)):(_=t<0&&a>1?-t:t,P=Vi("n",E,_),_<0&&i[0]&&i[0].t=="t"&&(P=P.substr(1),i[0].v="-"+i[0].v)),S=P.length-1;var L=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){L=l;break}var D=i.length;if(L===i.length&&P.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(S>=i[l].v.length-1?(S-=i[l].v.length,i[l].v=P.substr(S+1,i[l].v.length)):S<0?i[l].v="":(i[l].v=P.substr(0,S+1),S=-1),i[l].t="t",D=l);S>=0&&D<i.length&&(i[D].v=P.substr(0,S+1)+i[D].v)}else if(L!==i.length&&P.indexOf("E")===-1){for(S=P.indexOf(".")-1,l=L;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(p=i[l].v.indexOf(".")>-1&&l===L?i[l].v.indexOf(".")-1:i[l].v.length-1,T=i[l].v.substr(p+1);p>=0;--p)S>=0&&(i[l].v.charAt(p)==="0"||i[l].v.charAt(p)==="#")&&(T=P.charAt(S--)+T);i[l].v=T,i[l].t="t",D=l}for(S>=0&&D<i.length&&(i[D].v=P.substr(0,S+1)+i[D].v),S=P.indexOf(".")+1,l=L;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==L)){for(p=i[l].v.indexOf(".")>-1&&l===L?i[l].v.indexOf(".")+1:0,T=i[l].v.substr(0,p);p<i[l].v.length;++p)S<P.length&&(T+=P.charAt(S++));i[l].v=T,i[l].t="t",D=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(_=a>1&&t<0&&l>0&&i[l-1].v==="-"?-t:t,i[l].v=Vi(i[l].t,i[l].v,_),i[l].t="t");var B="";for(l=0;l!==i.length;++l)i[l]!=null&&(B+=i[l].v);return B}var qk=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Hk(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function mie(e,t){var r=hie(e),a=r.length,i=r[a-1].indexOf("@");if(a<4&&i>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(qk),d=r[1].match(qk);return Hk(t,l)?[a,r[0]]:Hk(t,d)?[a,r[1]]:[a,r[l!=null&&d!=null?2:1]]}return[a,s]}function Ws(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Nr)[e],a==null&&(a=r.table&&r.table[zk[e]]||Nr[zk[e]]),a==null&&(a=Kae[e]||"General");break}if(Pm(a,0))return U2(t,r);t instanceof Date&&(t=S8(t,r.date1904));var i=mie(a,t);if(Pm(i[1]))return U2(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return pie(i[1],t,r,i[0])}function P8(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Nr[r]==null){t<0&&(t=r);continue}if(Nr[r]==e){t=r;break}}t<0&&(t=391)}return Nr[t]=e,t}function I0(e){for(var t=0;t!=392;++t)e[t]!==void 0&&P8(e[t],t)}function P0(){Nr=Xae()}var R8=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function xie(e){var t=typeof e=="number"?Nr[e]:e;return t=t.replace(R8,"(\\d+)"),new RegExp("^"+t+"$")}function gie(e,t,r){var a=-1,i=-1,s=-1,l=-1,d=-1,u=-1;(t.match(R8)||[]).forEach(function(x,g){var v=parseInt(r[g+1],10);switch(x.toLowerCase().charAt(0)){case"y":a=v;break;case"d":s=v;break;case"h":l=v;break;case"s":u=v;break;case"m":l>=0?d=v:i=v;break}}),u>=0&&d==-1&&i>=0&&(d=i,i=-1);var f=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return l==-1&&d==-1&&u==-1?f:a==-1&&i==-1&&s==-1?p:f+"T"+p}var yie=function(){var e={};e.version="1.2.0";function t(){for(var P=0,L=new Array(256),D=0;D!=256;++D)P=D,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,L[D]=P;return typeof Int32Array<"u"?new Int32Array(L):L}var r=t();function a(P){var L=0,D=0,B=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)M[B]=P[B];for(B=0;B!=256;++B)for(D=P[B],L=256+B;L<4096;L+=256)D=M[L]=D>>>8^P[D&255];var k=[];for(B=1;B!=16;++B)k[B-1]=typeof Int32Array<"u"?M.subarray(B*256,B*256+256):M.slice(B*256,B*256+256);return k}var i=a(r),s=i[0],l=i[1],d=i[2],u=i[3],f=i[4],p=i[5],x=i[6],g=i[7],v=i[8],j=i[9],b=i[10],y=i[11],C=i[12],A=i[13],E=i[14];function S(P,L){for(var D=L^-1,B=0,M=P.length;B<M;)D=D>>>8^r[(D^P.charCodeAt(B++))&255];return~D}function T(P,L){for(var D=L^-1,B=P.length-15,M=0;M<B;)D=E[P[M++]^D&255]^A[P[M++]^D>>8&255]^C[P[M++]^D>>16&255]^y[P[M++]^D>>>24]^b[P[M++]]^j[P[M++]]^v[P[M++]]^g[P[M++]]^x[P[M++]]^p[P[M++]]^f[P[M++]]^u[P[M++]]^d[P[M++]]^l[P[M++]]^s[P[M++]]^r[P[M++]];for(B+=15;M<B;)D=D>>>8^r[(D^P[M++])&255];return~D}function _(P,L){for(var D=L^-1,B=0,M=P.length,k=0,W=0;B<M;)k=P.charCodeAt(B++),k<128?D=D>>>8^r[(D^k)&255]:k<2048?(D=D>>>8^r[(D^(192|k>>6&31))&255],D=D>>>8^r[(D^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,W=P.charCodeAt(B++)&1023,D=D>>>8^r[(D^(240|k>>8&7))&255],D=D>>>8^r[(D^(128|k>>2&63))&255],D=D>>>8^r[(D^(128|W>>6&15|(k&3)<<4))&255],D=D>>>8^r[(D^(128|W&63))&255]):(D=D>>>8^r[(D^(224|k>>12&15))&255],D=D>>>8^r[(D^(128|k>>6&63))&255],D=D>>>8^r[(D^(128|k&63))&255]);return~D}return e.table=r,e.bstr=S,e.buf=T,e.str=_,e}(),ar=function(){var t={};t.version="1.2.1";function r(Q,fe){for(var ie=Q.split("/"),oe=fe.split("/"),ue=0,he=0,Re=Math.min(ie.length,oe.length);ue<Re;++ue){if(he=ie[ue].length-oe[ue].length)return he;if(ie[ue]!=oe[ue])return ie[ue]<oe[ue]?-1:1}return ie.length-oe.length}function a(Q){if(Q.charAt(Q.length-1)=="/")return Q.slice(0,-1).indexOf("/")===-1?Q:a(Q.slice(0,-1));var fe=Q.lastIndexOf("/");return fe===-1?Q:Q.slice(0,fe+1)}function i(Q){if(Q.charAt(Q.length-1)=="/")return i(Q.slice(0,-1));var fe=Q.lastIndexOf("/");return fe===-1?Q:Q.slice(fe+1)}function s(Q,fe){typeof fe=="string"&&(fe=new Date(fe));var ie=fe.getHours();ie=ie<<6|fe.getMinutes(),ie=ie<<5|fe.getSeconds()>>>1,Q.write_shift(2,ie);var oe=fe.getFullYear()-1980;oe=oe<<4|fe.getMonth()+1,oe=oe<<5|fe.getDate(),Q.write_shift(2,oe)}function l(Q){var fe=Q.read_shift(2)&65535,ie=Q.read_shift(2)&65535,oe=new Date,ue=ie&31;ie>>>=5;var he=ie&15;ie>>>=4,oe.setMilliseconds(0),oe.setFullYear(ie+1980),oe.setMonth(he-1),oe.setDate(ue);var Re=fe&31;fe>>>=5;var $e=fe&63;return fe>>>=6,oe.setHours(fe),oe.setMinutes($e),oe.setSeconds(Re<<1),oe}function d(Q){aa(Q,0);for(var fe={},ie=0;Q.l<=Q.length-4;){var oe=Q.read_shift(2),ue=Q.read_shift(2),he=Q.l+ue,Re={};switch(oe){case 21589:ie=Q.read_shift(1),ie&1&&(Re.mtime=Q.read_shift(4)),ue>5&&(ie&2&&(Re.atime=Q.read_shift(4)),ie&4&&(Re.ctime=Q.read_shift(4))),Re.mtime&&(Re.mt=new Date(Re.mtime*1e3));break}Q.l=he,fe[oe]=Re}return fe}var u;function f(){return u||(u={})}function p(Q,fe){if(Q[0]==80&&Q[1]==75)return vr(Q,fe);if((Q[0]|32)==109&&(Q[1]|32)==105)return L0(Q,fe);if(Q.length<512)throw new Error("CFB file size "+Q.length+" < 512");var ie=3,oe=512,ue=0,he=0,Re=0,$e=0,ke=0,De=[],Fe=Q.slice(0,512);aa(Fe,0);var Ke=x(Fe);switch(ie=Ke[0],ie){case 3:oe=512;break;case 4:oe=4096;break;case 0:if(Ke[1]==0)return vr(Q,fe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ie)}oe!==512&&(Fe=Q.slice(0,oe),aa(Fe,28));var Je=Q.slice(0,oe);g(Fe,ie);var st=Fe.read_shift(4,"i");if(ie===3&&st!==0)throw new Error("# Directory Sectors: Expected 0 saw "+st);Fe.l+=4,Re=Fe.read_shift(4,"i"),Fe.l+=4,Fe.chk("00100000","Mini Stream Cutoff Size: "),$e=Fe.read_shift(4,"i"),ue=Fe.read_shift(4,"i"),ke=Fe.read_shift(4,"i"),he=Fe.read_shift(4,"i");for(var Ze=-1,at=0;at<109&&(Ze=Fe.read_shift(4,"i"),!(Ze<0));++at)De[at]=Ze;var jt=v(Q,oe);y(ke,he,jt,oe,De);var Zt=A(jt,Re,De,oe);Zt[Re].name="!Directory",ue>0&&$e!==W&&(Zt[$e].name="!MiniFAT"),Zt[De[0]].name="!FAT",Zt.fat_addrs=De,Zt.ssz=oe;var Jt={},cr=[],bi=[],cs=[];E(Re,Zt,jt,cr,ue,Jt,bi,$e),j(bi,cs,cr),cr.shift();var da={FileIndex:bi,FullPaths:cs};return fe&&fe.raw&&(da.raw={header:Je,sectors:jt}),da}function x(Q){if(Q[Q.l]==80&&Q[Q.l+1]==75)return[0,0];Q.chk(F,"Header Signature: "),Q.l+=16;var fe=Q.read_shift(2,"u");return[Q.read_shift(2,"u"),fe]}function g(Q,fe){var ie=9;switch(Q.l+=2,ie=Q.read_shift(2)){case 9:if(fe!=3)throw new Error("Sector Shift: Expected 9 saw "+ie);break;case 12:if(fe!=4)throw new Error("Sector Shift: Expected 12 saw "+ie);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ie)}Q.chk("0600","Mini Sector Shift: "),Q.chk("000000000000","Reserved: ")}function v(Q,fe){for(var ie=Math.ceil(Q.length/fe)-1,oe=[],ue=1;ue<ie;++ue)oe[ue-1]=Q.slice(ue*fe,(ue+1)*fe);return oe[ie-1]=Q.slice(ie*fe),oe}function j(Q,fe,ie){for(var oe=0,ue=0,he=0,Re=0,$e=0,ke=ie.length,De=[],Fe=[];oe<ke;++oe)De[oe]=Fe[oe]=oe,fe[oe]=ie[oe];for(;$e<Fe.length;++$e)oe=Fe[$e],ue=Q[oe].L,he=Q[oe].R,Re=Q[oe].C,De[oe]===oe&&(ue!==-1&&De[ue]!==ue&&(De[oe]=De[ue]),he!==-1&&De[he]!==he&&(De[oe]=De[he])),Re!==-1&&(De[Re]=oe),ue!==-1&&oe!=De[oe]&&(De[ue]=De[oe],Fe.lastIndexOf(ue)<$e&&Fe.push(ue)),he!==-1&&oe!=De[oe]&&(De[he]=De[oe],Fe.lastIndexOf(he)<$e&&Fe.push(he));for(oe=1;oe<ke;++oe)De[oe]===oe&&(he!==-1&&De[he]!==he?De[oe]=De[he]:ue!==-1&&De[ue]!==ue&&(De[oe]=De[ue]));for(oe=1;oe<ke;++oe)if(Q[oe].type!==0){if($e=oe,$e!=De[$e])do $e=De[$e],fe[oe]=fe[$e]+"/"+fe[oe];while($e!==0&&De[$e]!==-1&&$e!=De[$e]);De[oe]=-1}for(fe[0]+="/",oe=1;oe<ke;++oe)Q[oe].type!==2&&(fe[oe]+="/")}function b(Q,fe,ie){for(var oe=Q.start,ue=Q.size,he=[],Re=oe;ie&&ue>0&&Re>=0;)he.push(fe.slice(Re*k,Re*k+k)),ue-=k,Re=No(ie,Re*4);return he.length===0?Ue(0):ln(he).slice(0,Q.size)}function y(Q,fe,ie,oe,ue){var he=W;if(Q===W){if(fe!==0)throw new Error("DIFAT chain shorter than expected")}else if(Q!==-1){var Re=ie[Q],$e=(oe>>>2)-1;if(!Re)return;for(var ke=0;ke<$e&&(he=No(Re,ke*4))!==W;++ke)ue.push(he);y(No(Re,oe-4),fe-1,ie,oe,ue)}}function C(Q,fe,ie,oe,ue){var he=[],Re=[];ue||(ue=[]);var $e=oe-1,ke=0,De=0;for(ke=fe;ke>=0;){ue[ke]=!0,he[he.length]=ke,Re.push(Q[ke]);var Fe=ie[Math.floor(ke*4/oe)];if(De=ke*4&$e,oe<4+De)throw new Error("FAT boundary crossed: "+ke+" 4 "+oe);if(!Q[Fe])break;ke=No(Q[Fe],De)}return{nodes:he,data:Zk([Re])}}function A(Q,fe,ie,oe){var ue=Q.length,he=[],Re=[],$e=[],ke=[],De=oe-1,Fe=0,Ke=0,Je=0,st=0;for(Fe=0;Fe<ue;++Fe)if($e=[],Je=Fe+fe,Je>=ue&&(Je-=ue),!Re[Je]){ke=[];var Ze=[];for(Ke=Je;Ke>=0;){Ze[Ke]=!0,Re[Ke]=!0,$e[$e.length]=Ke,ke.push(Q[Ke]);var at=ie[Math.floor(Ke*4/oe)];if(st=Ke*4&De,oe<4+st)throw new Error("FAT boundary crossed: "+Ke+" 4 "+oe);if(!Q[at]||(Ke=No(Q[at],st),Ze[Ke]))break}he[Je]={nodes:$e,data:Zk([ke])}}return he}function E(Q,fe,ie,oe,ue,he,Re,$e){for(var ke=0,De=oe.length?2:0,Fe=fe[Q].data,Ke=0,Je=0,st;Ke<Fe.length;Ke+=128){var Ze=Fe.slice(Ke,Ke+128);aa(Ze,64),Je=Ze.read_shift(2),st=yS(Ze,0,Je-De),oe.push(st);var at={name:st,type:Ze.read_shift(1),color:Ze.read_shift(1),L:Ze.read_shift(4,"i"),R:Ze.read_shift(4,"i"),C:Ze.read_shift(4,"i"),clsid:Ze.read_shift(16),state:Ze.read_shift(4,"i"),start:0,size:0},jt=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);jt!==0&&(at.ct=S(Ze,Ze.l-8));var Zt=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);Zt!==0&&(at.mt=S(Ze,Ze.l-8)),at.start=Ze.read_shift(4,"i"),at.size=Ze.read_shift(4,"i"),at.size<0&&at.start<0&&(at.size=at.type=0,at.start=W,at.name=""),at.type===5?(ke=at.start,ue>0&&ke!==W&&(fe[ke].name="!StreamData")):at.size>=4096?(at.storage="fat",fe[at.start]===void 0&&(fe[at.start]=C(ie,at.start,fe.fat_addrs,fe.ssz)),fe[at.start].name=at.name,at.content=fe[at.start].data.slice(0,at.size)):(at.storage="minifat",at.size<0?at.size=0:ke!==W&&at.start!==W&&fe[ke]&&(at.content=b(at,fe[ke].data,(fe[$e]||{}).data))),at.content&&aa(at.content,0),he[st]=at,Re.push(at)}}function S(Q,fe){return new Date((sa(Q,fe+4)/1e7*Math.pow(2,32)+sa(Q,fe)/1e7-11644473600)*1e3)}function T(Q,fe){return f(),p(u.readFileSync(Q),fe)}function _(Q,fe){var ie=fe&&fe.type;switch(ie||Ut&&Buffer.isBuffer(Q)&&(ie="buffer"),ie||"base64"){case"file":return T(Q,fe);case"base64":return p(Ga(rs(Q)),fe);case"binary":return p(Ga(Q),fe)}return p(Q,fe)}function P(Q,fe){var ie=fe||{},oe=ie.root||"Root Entry";if(Q.FullPaths||(Q.FullPaths=[]),Q.FileIndex||(Q.FileIndex=[]),Q.FullPaths.length!==Q.FileIndex.length)throw new Error("inconsistent CFB structure");Q.FullPaths.length===0&&(Q.FullPaths[0]=oe+"/",Q.FileIndex[0]={name:oe,type:5}),ie.CLSID&&(Q.FileIndex[0].clsid=ie.CLSID),L(Q)}function L(Q){var fe="Sh33tJ5";if(!ar.find(Q,"/"+fe)){var ie=Ue(4);ie[0]=55,ie[1]=ie[3]=50,ie[2]=54,Q.FileIndex.push({name:fe,type:2,content:ie,size:4,L:69,R:69,C:69}),Q.FullPaths.push(Q.FullPaths[0]+fe),D(Q)}}function D(Q,fe){P(Q);for(var ie=!1,oe=!1,ue=Q.FullPaths.length-1;ue>=0;--ue){var he=Q.FileIndex[ue];switch(he.type){case 0:oe?ie=!0:(Q.FileIndex.pop(),Q.FullPaths.pop());break;case 1:case 2:case 5:oe=!0,isNaN(he.R*he.L*he.C)&&(ie=!0),he.R>-1&&he.L>-1&&he.R==he.L&&(ie=!0);break;default:ie=!0;break}}if(!(!ie&&!fe)){var Re=new Date(1987,1,19),$e=0,ke=Object.create?Object.create(null):{},De=[];for(ue=0;ue<Q.FullPaths.length;++ue)ke[Q.FullPaths[ue]]=!0,Q.FileIndex[ue].type!==0&&De.push([Q.FullPaths[ue],Q.FileIndex[ue]]);for(ue=0;ue<De.length;++ue){var Fe=a(De[ue][0]);oe=ke[Fe],oe||(De.push([Fe,{name:i(Fe).replace("/",""),type:1,clsid:R,ct:Re,mt:Re,content:null}]),ke[Fe]=!0)}for(De.sort(function(st,Ze){return r(st[0],Ze[0])}),Q.FullPaths=[],Q.FileIndex=[],ue=0;ue<De.length;++ue)Q.FullPaths[ue]=De[ue][0],Q.FileIndex[ue]=De[ue][1];for(ue=0;ue<De.length;++ue){var Ke=Q.FileIndex[ue],Je=Q.FullPaths[ue];if(Ke.name=i(Je).replace("/",""),Ke.L=Ke.R=Ke.C=-(Ke.color=1),Ke.size=Ke.content?Ke.content.length:0,Ke.start=0,Ke.clsid=Ke.clsid||R,ue===0)Ke.C=De.length>1?1:-1,Ke.size=0,Ke.type=5;else if(Je.slice(-1)=="/"){for($e=ue+1;$e<De.length&&a(Q.FullPaths[$e])!=Je;++$e);for(Ke.C=$e>=De.length?-1:$e,$e=ue+1;$e<De.length&&a(Q.FullPaths[$e])!=a(Je);++$e);Ke.R=$e>=De.length?-1:$e,Ke.type=1}else a(Q.FullPaths[ue+1]||"")==a(Je)&&(Ke.R=ue+1),Ke.type=2}}}function B(Q,fe){var ie=fe||{};if(ie.fileType=="mad")return ri(Q,ie);switch(D(Q),ie.fileType){case"zip":return pn(Q,ie)}var oe=function(st){for(var Ze=0,at=0,jt=0;jt<st.FileIndex.length;++jt){var Zt=st.FileIndex[jt];if(Zt.content){var Jt=Zt.content.length;Jt>0&&(Jt<4096?Ze+=Jt+63>>6:at+=Jt+511>>9)}}for(var cr=st.FullPaths.length+3>>2,bi=Ze+7>>3,cs=Ze+127>>7,da=bi+at+cr+cs,Pa=da+127>>7,eo=Pa<=109?0:Math.ceil((Pa-109)/127);da+Pa+eo+127>>7>Pa;)eo=++Pa<=109?0:Math.ceil((Pa-109)/127);var Ra=[1,eo,Pa,cs,cr,at,Ze,0];return st.FileIndex[0].size=Ze<<6,Ra[7]=(st.FileIndex[0].start=Ra[0]+Ra[1]+Ra[2]+Ra[3]+Ra[4]+Ra[5])+(Ra[6]+7>>3),Ra}(Q),ue=Ue(oe[7]<<9),he=0,Re=0;{for(he=0;he<8;++he)ue.write_shift(1,I[he]);for(he=0;he<8;++he)ue.write_shift(2,0);for(ue.write_shift(2,62),ue.write_shift(2,3),ue.write_shift(2,65534),ue.write_shift(2,9),ue.write_shift(2,6),he=0;he<3;++he)ue.write_shift(2,0);for(ue.write_shift(4,0),ue.write_shift(4,oe[2]),ue.write_shift(4,oe[0]+oe[1]+oe[2]+oe[3]-1),ue.write_shift(4,0),ue.write_shift(4,4096),ue.write_shift(4,oe[3]?oe[0]+oe[1]+oe[2]-1:W),ue.write_shift(4,oe[3]),ue.write_shift(-4,oe[1]?oe[0]-1:W),ue.write_shift(4,oe[1]),he=0;he<109;++he)ue.write_shift(-4,he<oe[2]?oe[1]+he:-1)}if(oe[1])for(Re=0;Re<oe[1];++Re){for(;he<236+Re*127;++he)ue.write_shift(-4,he<oe[2]?oe[1]+he:-1);ue.write_shift(-4,Re===oe[1]-1?W:Re+1)}var $e=function(st){for(Re+=st;he<Re-1;++he)ue.write_shift(-4,he+1);st&&(++he,ue.write_shift(-4,W))};for(Re=he=0,Re+=oe[1];he<Re;++he)ue.write_shift(-4,X.DIFSECT);for(Re+=oe[2];he<Re;++he)ue.write_shift(-4,X.FATSECT);$e(oe[3]),$e(oe[4]);for(var ke=0,De=0,Fe=Q.FileIndex[0];ke<Q.FileIndex.length;++ke)Fe=Q.FileIndex[ke],Fe.content&&(De=Fe.content.length,!(De<4096)&&(Fe.start=Re,$e(De+511>>9)));for($e(oe[6]+7>>3);ue.l&511;)ue.write_shift(-4,X.ENDOFCHAIN);for(Re=he=0,ke=0;ke<Q.FileIndex.length;++ke)Fe=Q.FileIndex[ke],Fe.content&&(De=Fe.content.length,!(!De||De>=4096)&&(Fe.start=Re,$e(De+63>>6)));for(;ue.l&511;)ue.write_shift(-4,X.ENDOFCHAIN);for(he=0;he<oe[4]<<2;++he){var Ke=Q.FullPaths[he];if(!Ke||Ke.length===0){for(ke=0;ke<17;++ke)ue.write_shift(4,0);for(ke=0;ke<3;++ke)ue.write_shift(4,-1);for(ke=0;ke<12;++ke)ue.write_shift(4,0);continue}Fe=Q.FileIndex[he],he===0&&(Fe.start=Fe.size?Fe.start-1:W);var Je=he===0&&ie.root||Fe.name;if(De=2*(Je.length+1),ue.write_shift(64,Je,"utf16le"),ue.write_shift(2,De),ue.write_shift(1,Fe.type),ue.write_shift(1,Fe.color),ue.write_shift(-4,Fe.L),ue.write_shift(-4,Fe.R),ue.write_shift(-4,Fe.C),Fe.clsid)ue.write_shift(16,Fe.clsid,"hex");else for(ke=0;ke<4;++ke)ue.write_shift(4,0);ue.write_shift(4,Fe.state||0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,Fe.start),ue.write_shift(4,Fe.size),ue.write_shift(4,0)}for(he=1;he<Q.FileIndex.length;++he)if(Fe=Q.FileIndex[he],Fe.size>=4096)if(ue.l=Fe.start+1<<9,Ut&&Buffer.isBuffer(Fe.content))Fe.content.copy(ue,ue.l,0,Fe.size),ue.l+=Fe.size+511&-512;else{for(ke=0;ke<Fe.size;++ke)ue.write_shift(1,Fe.content[ke]);for(;ke&511;++ke)ue.write_shift(1,0)}for(he=1;he<Q.FileIndex.length;++he)if(Fe=Q.FileIndex[he],Fe.size>0&&Fe.size<4096)if(Ut&&Buffer.isBuffer(Fe.content))Fe.content.copy(ue,ue.l,0,Fe.size),ue.l+=Fe.size+63&-64;else{for(ke=0;ke<Fe.size;++ke)ue.write_shift(1,Fe.content[ke]);for(;ke&63;++ke)ue.write_shift(1,0)}if(Ut)ue.l=ue.length;else for(;ue.l<ue.length;)ue.write_shift(1,0);return ue}function M(Q,fe){var ie=Q.FullPaths.map(function(ke){return ke.toUpperCase()}),oe=ie.map(function(ke){var De=ke.split("/");return De[De.length-(ke.slice(-1)=="/"?2:1)]}),ue=!1;fe.charCodeAt(0)===47?(ue=!0,fe=ie[0].slice(0,-1)+fe):ue=fe.indexOf("/")!==-1;var he=fe.toUpperCase(),Re=ue===!0?ie.indexOf(he):oe.indexOf(he);if(Re!==-1)return Q.FileIndex[Re];var $e=!he.match(mp);for(he=he.replace(bu,""),$e&&(he=he.replace(mp,"!")),Re=0;Re<ie.length;++Re)if(($e?ie[Re].replace(mp,"!"):ie[Re]).replace(bu,"")==he||($e?oe[Re].replace(mp,"!"):oe[Re]).replace(bu,"")==he)return Q.FileIndex[Re];return null}var k=64,W=-2,F="d0cf11e0a1b11ae1",I=[208,207,17,224,161,177,26,225],R="00000000000000000000000000000000",X={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:F,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:R,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ne(Q,fe,ie){f();var oe=B(Q,ie);u.writeFileSync(fe,oe)}function ge(Q){for(var fe=new Array(Q.length),ie=0;ie<Q.length;++ie)fe[ie]=String.fromCharCode(Q[ie]);return fe.join("")}function q(Q,fe){var ie=B(Q,fe);switch(fe&&fe.type||"buffer"){case"file":return f(),u.writeFileSync(fe.filename,ie),ie;case"binary":return typeof ie=="string"?ie:ge(ie);case"base64":return pf(typeof ie=="string"?ie:ge(ie));case"buffer":if(Ut)return Buffer.isBuffer(ie)?ie:os(ie);case"array":return typeof ie=="string"?Ga(ie):ie}return ie}var ee;function z(Q){try{var fe=Q.InflateRaw,ie=new fe;if(ie._processChunk(new Uint8Array([3,0]),ie._finishFlushFlag),ie.bytesRead)ee=Q;else throw new Error("zlib does not expose bytesRead")}catch(oe){console.error("cannot use native zlib: "+(oe.message||oe))}}function U(Q,fe){if(!ee)return vt(Q,fe);var ie=ee.InflateRaw,oe=new ie,ue=oe._processChunk(Q.slice(Q.l),oe._finishFlushFlag);return Q.l+=oe.bytesRead,ue}function V(Q){return ee?ee.deflateRawSync(Q):ht(Q)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function K(Q){var fe=(Q<<1|Q<<11)&139536|(Q<<5|Q<<15)&558144;return(fe>>16|fe>>8|fe)&255}for(var Y=typeof Uint8Array<"u",ce=Y?new Uint8Array(256):[],xe=0;xe<256;++xe)ce[xe]=K(xe);function pe(Q,fe){var ie=ce[Q&255];return fe<=8?ie>>>8-fe:(ie=ie<<8|ce[Q>>8&255],fe<=16?ie>>>16-fe:(ie=ie<<8|ce[Q>>16&255],ie>>>24-fe))}function Ce(Q,fe){var ie=fe&7,oe=fe>>>3;return(Q[oe]|(ie<=6?0:Q[oe+1]<<8))>>>ie&3}function ve(Q,fe){var ie=fe&7,oe=fe>>>3;return(Q[oe]|(ie<=5?0:Q[oe+1]<<8))>>>ie&7}function Le(Q,fe){var ie=fe&7,oe=fe>>>3;return(Q[oe]|(ie<=4?0:Q[oe+1]<<8))>>>ie&15}function le(Q,fe){var ie=fe&7,oe=fe>>>3;return(Q[oe]|(ie<=3?0:Q[oe+1]<<8))>>>ie&31}function Ae(Q,fe){var ie=fe&7,oe=fe>>>3;return(Q[oe]|(ie<=1?0:Q[oe+1]<<8))>>>ie&127}function qe(Q,fe,ie){var oe=fe&7,ue=fe>>>3,he=(1<<ie)-1,Re=Q[ue]>>>oe;return ie<8-oe||(Re|=Q[ue+1]<<8-oe,ie<16-oe)||(Re|=Q[ue+2]<<16-oe,ie<24-oe)||(Re|=Q[ue+3]<<24-oe),Re&he}function me(Q,fe,ie){var oe=fe&7,ue=fe>>>3;return oe<=5?Q[ue]|=(ie&7)<<oe:(Q[ue]|=ie<<oe&255,Q[ue+1]=(ie&7)>>8-oe),fe+3}function ae(Q,fe,ie){var oe=fe&7,ue=fe>>>3;return ie=(ie&1)<<oe,Q[ue]|=ie,fe+1}function re(Q,fe,ie){var oe=fe&7,ue=fe>>>3;return ie<<=oe,Q[ue]|=ie&255,ie>>>=8,Q[ue+1]=ie,fe+8}function be(Q,fe,ie){var oe=fe&7,ue=fe>>>3;return ie<<=oe,Q[ue]|=ie&255,ie>>>=8,Q[ue+1]=ie&255,Q[ue+2]=ie>>>8,fe+16}function H(Q,fe){var ie=Q.length,oe=2*ie>fe?2*ie:fe+5,ue=0;if(ie>=fe)return Q;if(Ut){var he=Fk(oe);if(Q.copy)Q.copy(he);else for(;ue<Q.length;++ue)he[ue]=Q[ue];return he}else if(Y){var Re=new Uint8Array(oe);if(Re.set)Re.set(Q);else for(;ue<ie;++ue)Re[ue]=Q[ue];return Re}return Q.length=oe,Q}function de(Q){for(var fe=new Array(Q),ie=0;ie<Q;++ie)fe[ie]=0;return fe}function Se(Q,fe,ie){var oe=1,ue=0,he=0,Re=0,$e=0,ke=Q.length,De=Y?new Uint16Array(32):de(32);for(he=0;he<32;++he)De[he]=0;for(he=ke;he<ie;++he)Q[he]=0;ke=Q.length;var Fe=Y?new Uint16Array(ke):de(ke);for(he=0;he<ke;++he)De[ue=Q[he]]++,oe<ue&&(oe=ue),Fe[he]=0;for(De[0]=0,he=1;he<=oe;++he)De[he+16]=$e=$e+De[he-1]<<1;for(he=0;he<ke;++he)$e=Q[he],$e!=0&&(Fe[he]=De[$e+16]++);var Ke=0;for(he=0;he<ke;++he)if(Ke=Q[he],Ke!=0)for($e=pe(Fe[he],oe)>>oe-Ke,Re=(1<<oe+4-Ke)-1;Re>=0;--Re)fe[$e|Re<<Ke]=Ke&15|he<<4;return oe}var Ne=Y?new Uint16Array(512):de(512),je=Y?new Uint16Array(32):de(32);if(!Y){for(var Qe=0;Qe<512;++Qe)Ne[Qe]=0;for(Qe=0;Qe<32;++Qe)je[Qe]=0}(function(){for(var Q=[],fe=0;fe<32;fe++)Q.push(5);Se(Q,je,32);var ie=[];for(fe=0;fe<=143;fe++)ie.push(8);for(;fe<=255;fe++)ie.push(9);for(;fe<=279;fe++)ie.push(7);for(;fe<=287;fe++)ie.push(8);Se(ie,Ne,288)})();var rt=function(){for(var fe=Y?new Uint8Array(32768):[],ie=0,oe=0;ie<Z.length-1;++ie)for(;oe<Z[ie+1];++oe)fe[oe]=ie;for(;oe<32768;++oe)fe[oe]=29;var ue=Y?new Uint8Array(259):[];for(ie=0,oe=0;ie<se.length-1;++ie)for(;oe<se[ie+1];++oe)ue[oe]=ie;function he($e,ke){for(var De=0;De<$e.length;){var Fe=Math.min(65535,$e.length-De),Ke=De+Fe==$e.length;for(ke.write_shift(1,+Ke),ke.write_shift(2,Fe),ke.write_shift(2,~Fe&65535);Fe-- >0;)ke[ke.l++]=$e[De++]}return ke.l}function Re($e,ke){for(var De=0,Fe=0,Ke=Y?new Uint16Array(32768):[];Fe<$e.length;){var Je=Math.min(65535,$e.length-Fe);if(Je<10){for(De=me(ke,De,+(Fe+Je==$e.length)),De&7&&(De+=8-(De&7)),ke.l=De/8|0,ke.write_shift(2,Je),ke.write_shift(2,~Je&65535);Je-- >0;)ke[ke.l++]=$e[Fe++];De=ke.l*8;continue}De=me(ke,De,+(Fe+Je==$e.length)+2);for(var st=0;Je-- >0;){var Ze=$e[Fe];st=(st<<5^Ze)&32767;var at=-1,jt=0;if((at=Ke[st])&&(at|=Fe&-32768,at>Fe&&(at-=32768),at<Fe))for(;$e[at+jt]==$e[Fe+jt]&&jt<250;)++jt;if(jt>2){Ze=ue[jt],Ze<=22?De=re(ke,De,ce[Ze+1]>>1)-1:(re(ke,De,3),De+=5,re(ke,De,ce[Ze-23]>>5),De+=3);var Zt=Ze<8?0:Ze-4>>2;Zt>0&&(be(ke,De,jt-se[Ze]),De+=Zt),Ze=fe[Fe-at],De=re(ke,De,ce[Ze]>>3),De-=3;var Jt=Ze<4?0:Ze-2>>1;Jt>0&&(be(ke,De,Fe-at-Z[Ze]),De+=Jt);for(var cr=0;cr<jt;++cr)Ke[st]=Fe&32767,st=(st<<5^$e[Fe])&32767,++Fe;Je-=jt-1}else Ze<=143?Ze=Ze+48:De=ae(ke,De,1),De=re(ke,De,ce[Ze]),Ke[st]=Fe&32767,++Fe}De=re(ke,De,0)-1}return ke.l=(De+7)/8|0,ke.l}return function(ke,De){return ke.length<8?he(ke,De):Re(ke,De)}}();function ht(Q){var fe=Ue(50+Math.floor(Q.length*1.1)),ie=rt(Q,fe);return fe.slice(0,ie)}var lr=Y?new Uint16Array(32768):de(32768),yr=Y?new Uint16Array(32768):de(32768),_e=Y?new Uint16Array(128):de(128),it=1,Ee=1;function lt(Q,fe){var ie=le(Q,fe)+257;fe+=5;var oe=le(Q,fe)+1;fe+=5;var ue=Le(Q,fe)+4;fe+=4;for(var he=0,Re=Y?new Uint8Array(19):de(19),$e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ke=1,De=Y?new Uint8Array(8):de(8),Fe=Y?new Uint8Array(8):de(8),Ke=Re.length,Je=0;Je<ue;++Je)Re[te[Je]]=he=ve(Q,fe),ke<he&&(ke=he),De[he]++,fe+=3;var st=0;for(De[0]=0,Je=1;Je<=ke;++Je)Fe[Je]=st=st+De[Je-1]<<1;for(Je=0;Je<Ke;++Je)(st=Re[Je])!=0&&($e[Je]=Fe[st]++);var Ze=0;for(Je=0;Je<Ke;++Je)if(Ze=Re[Je],Ze!=0){st=ce[$e[Je]]>>8-Ze;for(var at=(1<<7-Ze)-1;at>=0;--at)_e[st|at<<Ze]=Ze&7|Je<<3}var jt=[];for(ke=1;jt.length<ie+oe;)switch(st=_e[Ae(Q,fe)],fe+=st&7,st>>>=3){case 16:for(he=3+Ce(Q,fe),fe+=2,st=jt[jt.length-1];he-- >0;)jt.push(st);break;case 17:for(he=3+ve(Q,fe),fe+=3;he-- >0;)jt.push(0);break;case 18:for(he=11+Ae(Q,fe),fe+=7;he-- >0;)jt.push(0);break;default:jt.push(st),ke<st&&(ke=st);break}var Zt=jt.slice(0,ie),Jt=jt.slice(ie);for(Je=ie;Je<286;++Je)Zt[Je]=0;for(Je=oe;Je<30;++Je)Jt[Je]=0;return it=Se(Zt,lr,286),Ee=Se(Jt,yr,30),fe}function Xe(Q,fe){if(Q[0]==3&&!(Q[1]&3))return[qo(fe),2];for(var ie=0,oe=0,ue=Fk(fe||1<<18),he=0,Re=ue.length>>>0,$e=0,ke=0;(oe&1)==0;){if(oe=ve(Q,ie),ie+=3,oe>>>1)oe>>1==1?($e=9,ke=5):(ie=lt(Q,ie),$e=it,ke=Ee);else{ie&7&&(ie+=8-(ie&7));var De=Q[ie>>>3]|Q[(ie>>>3)+1]<<8;if(ie+=32,De>0)for(!fe&&Re<he+De&&(ue=H(ue,he+De),Re=ue.length);De-- >0;)ue[he++]=Q[ie>>>3],ie+=8;continue}for(;;){!fe&&Re<he+32767&&(ue=H(ue,he+32767),Re=ue.length);var Fe=qe(Q,ie,$e),Ke=oe>>>1==1?Ne[Fe]:lr[Fe];if(ie+=Ke&15,Ke>>>=4,(Ke>>>8&255)===0)ue[he++]=Ke;else{if(Ke==256)break;Ke-=257;var Je=Ke<8?0:Ke-4>>2;Je>5&&(Je=0);var st=he+se[Ke];Je>0&&(st+=qe(Q,ie,Je),ie+=Je),Fe=qe(Q,ie,ke),Ke=oe>>>1==1?je[Fe]:yr[Fe],ie+=Ke&15,Ke>>>=4;var Ze=Ke<4?0:Ke-2>>1,at=Z[Ke];for(Ze>0&&(at+=qe(Q,ie,Ze),ie+=Ze),!fe&&Re<st&&(ue=H(ue,st+100),Re=ue.length);he<st;)ue[he]=ue[he-at],++he}}}return fe?[ue,ie+7>>>3]:[ue.slice(0,he),ie+7>>>3]}function vt(Q,fe){var ie=Q.slice(Q.l||0),oe=Xe(ie,fe);return Q.l+=oe[1],oe[0]}function Qt(Q,fe){if(Q)typeof console<"u"&&console.error(fe);else throw new Error(fe)}function vr(Q,fe){var ie=Q;aa(ie,0);var oe=[],ue=[],he={FileIndex:oe,FullPaths:ue};P(he,{root:fe.root});for(var Re=ie.length-4;(ie[Re]!=80||ie[Re+1]!=75||ie[Re+2]!=5||ie[Re+3]!=6)&&Re>=0;)--Re;ie.l=Re+4,ie.l+=4;var $e=ie.read_shift(2);ie.l+=6;var ke=ie.read_shift(4);for(ie.l=ke,Re=0;Re<$e;++Re){ie.l+=20;var De=ie.read_shift(4),Fe=ie.read_shift(4),Ke=ie.read_shift(2),Je=ie.read_shift(2),st=ie.read_shift(2);ie.l+=8;var Ze=ie.read_shift(4),at=d(ie.slice(ie.l+Ke,ie.l+Ke+Je));ie.l+=Ke+Je+st;var jt=ie.l;ie.l=Ze+4,en(ie,De,Fe,he,at),ie.l=jt}return he}function en(Q,fe,ie,oe,ue){Q.l+=2;var he=Q.read_shift(2),Re=Q.read_shift(2),$e=l(Q);if(he&8257)throw new Error("Unsupported ZIP encryption");for(var ke=Q.read_shift(4),De=Q.read_shift(4),Fe=Q.read_shift(4),Ke=Q.read_shift(2),Je=Q.read_shift(2),st="",Ze=0;Ze<Ke;++Ze)st+=String.fromCharCode(Q[Q.l++]);if(Je){var at=d(Q.slice(Q.l,Q.l+Je));(at[21589]||{}).mt&&($e=at[21589].mt),((ue||{})[21589]||{}).mt&&($e=ue[21589].mt)}Q.l+=Je;var jt=Q.slice(Q.l,Q.l+De);switch(Re){case 8:jt=U(Q,Fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Re)}var Zt=!1;he&8&&(ke=Q.read_shift(4),ke==134695760&&(ke=Q.read_shift(4),Zt=!0),De=Q.read_shift(4),Fe=Q.read_shift(4)),De!=fe&&Qt(Zt,"Bad compressed size: "+fe+" != "+De),Fe!=ie&&Qt(Zt,"Bad uncompressed size: "+ie+" != "+Fe),qr(oe,st,jt,{unsafe:!0,mt:$e})}function pn(Q,fe){var ie=fe||{},oe=[],ue=[],he=Ue(1),Re=ie.compression?8:0,$e=0,ke=0,De=0,Fe=0,Ke=0,Je=Q.FullPaths[0],st=Je,Ze=Q.FileIndex[0],at=[],jt=0;for(ke=1;ke<Q.FullPaths.length;++ke)if(st=Q.FullPaths[ke].slice(Je.length),Ze=Q.FileIndex[ke],!(!Ze.size||!Ze.content||st=="Sh33tJ5")){var Zt=Fe,Jt=Ue(st.length);for(De=0;De<st.length;++De)Jt.write_shift(1,st.charCodeAt(De)&127);Jt=Jt.slice(0,Jt.l),at[Ke]=yie.buf(Ze.content,0);var cr=Ze.content;Re==8&&(cr=V(cr)),he=Ue(30),he.write_shift(4,67324752),he.write_shift(2,20),he.write_shift(2,$e),he.write_shift(2,Re),Ze.mt?s(he,Ze.mt):he.write_shift(4,0),he.write_shift(-4,at[Ke]),he.write_shift(4,cr.length),he.write_shift(4,Ze.content.length),he.write_shift(2,Jt.length),he.write_shift(2,0),Fe+=he.length,oe.push(he),Fe+=Jt.length,oe.push(Jt),Fe+=cr.length,oe.push(cr),he=Ue(46),he.write_shift(4,33639248),he.write_shift(2,0),he.write_shift(2,20),he.write_shift(2,$e),he.write_shift(2,Re),he.write_shift(4,0),he.write_shift(-4,at[Ke]),he.write_shift(4,cr.length),he.write_shift(4,Ze.content.length),he.write_shift(2,Jt.length),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(4,0),he.write_shift(4,Zt),jt+=he.l,ue.push(he),jt+=Jt.length,ue.push(Jt),++Ke}return he=Ue(22),he.write_shift(4,101010256),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,Ke),he.write_shift(2,Ke),he.write_shift(4,jt),he.write_shift(4,Fe),he.write_shift(2,0),ln([ln(oe),ln(ue),he])}var Sn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ti(Q,fe){if(Q.ctype)return Q.ctype;var ie=Q.name||"",oe=ie.match(/\.([^\.]+)$/);return oe&&Sn[oe[1]]||fe&&(oe=(ie=fe).match(/[\.\\]([^\.\\])+$/),oe&&Sn[oe[1]])?Sn[oe[1]]:"application/octet-stream"}function qf(Q){for(var fe=pf(Q),ie=[],oe=0;oe<fe.length;oe+=76)ie.push(fe.slice(oe,oe+76));return ie.join(`\r
`)+`\r
`}function Jc(Q){var fe=Q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(De){var Fe=De.charCodeAt(0).toString(16).toUpperCase();return"="+(Fe.length==1?"0"+Fe:Fe)});fe=fe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),fe.charAt(0)==`
`&&(fe="=0D"+fe.slice(1)),fe=fe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ie=[],oe=fe.split(`\r
`),ue=0;ue<oe.length;++ue){var he=oe[ue];if(he.length==0){ie.push("");continue}for(var Re=0;Re<he.length;){var $e=76,ke=he.slice(Re,Re+$e);ke.charAt($e-1)=="="?$e--:ke.charAt($e-2)=="="?$e-=2:ke.charAt($e-3)=="="&&($e-=3),ke=he.slice(Re,Re+$e),Re+=$e,Re<he.length&&(ke+="="),ie.push(ke)}}return ie.join(`\r
`)}function ed(Q){for(var fe=[],ie=0;ie<Q.length;++ie){for(var oe=Q[ie];ie<=Q.length&&oe.charAt(oe.length-1)=="=";)oe=oe.slice(0,oe.length-1)+Q[++ie];fe.push(oe)}for(var ue=0;ue<fe.length;++ue)fe[ue]=fe[ue].replace(/[=][0-9A-Fa-f]{2}/g,function(he){return String.fromCharCode(parseInt(he.slice(1),16))});return Ga(fe.join(`\r
`))}function Hf(Q,fe,ie){for(var oe="",ue="",he="",Re,$e=0;$e<10;++$e){var ke=fe[$e];if(!ke||ke.match(/^\s*$/))break;var De=ke.match(/^(.*?):\s*([^\s].*)$/);if(De)switch(De[1].toLowerCase()){case"content-location":oe=De[2].trim();break;case"content-type":he=De[2].trim();break;case"content-transfer-encoding":ue=De[2].trim();break}}switch(++$e,ue.toLowerCase()){case"base64":Re=Ga(rs(fe.slice($e).join("")));break;case"quoted-printable":Re=ed(fe.slice($e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ue)}var Fe=qr(Q,oe.slice(ie.length),Re,{unsafe:!0});he&&(Fe.ctype=he)}function L0(Q,fe){if(ge(Q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ie=fe&&fe.root||"",oe=(Ut&&Buffer.isBuffer(Q)?Q.toString("binary"):ge(Q)).split(`\r
`),ue=0,he="";for(ue=0;ue<oe.length;++ue)if(he=oe[ue],!!/^Content-Location:/i.test(he)&&(he=he.slice(he.indexOf("file")),ie||(ie=he.slice(0,he.lastIndexOf("/")+1)),he.slice(0,ie.length)!=ie))for(;ie.length>0&&(ie=ie.slice(0,ie.length-1),ie=ie.slice(0,ie.lastIndexOf("/")+1),he.slice(0,ie.length)!=ie););var Re=(oe[1]||"").match(/boundary="(.*?)"/);if(!Re)throw new Error("MAD cannot find boundary");var $e="--"+(Re[1]||""),ke=[],De=[],Fe={FileIndex:ke,FullPaths:De};P(Fe);var Ke,Je=0;for(ue=0;ue<oe.length;++ue){var st=oe[ue];st!==$e&&st!==$e+"--"||(Je++&&Hf(Fe,oe.slice(Ke,ue),ie),Ke=ue)}return Fe}function ri(Q,fe){var ie=fe||{},oe=ie.boundary||"SheetJS";oe="------="+oe;for(var ue=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+oe.slice(2)+'"',"","",""],he=Q.FullPaths[0],Re=he,$e=Q.FileIndex[0],ke=1;ke<Q.FullPaths.length;++ke)if(Re=Q.FullPaths[ke].slice(he.length),$e=Q.FileIndex[ke],!(!$e.size||!$e.content||Re=="Sh33tJ5")){Re=Re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(jt){return"_x"+jt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(jt){return"_u"+jt.charCodeAt(0).toString(16)+"_"});for(var De=$e.content,Fe=Ut&&Buffer.isBuffer(De)?De.toString("binary"):ge(De),Ke=0,Je=Math.min(1024,Fe.length),st=0,Ze=0;Ze<=Je;++Ze)(st=Fe.charCodeAt(Ze))>=32&&st<128&&++Ke;var at=Ke>=Je*4/5;ue.push(oe),ue.push("Content-Location: "+(ie.root||"file:///C:/SheetJS/")+Re),ue.push("Content-Transfer-Encoding: "+(at?"quoted-printable":"base64")),ue.push("Content-Type: "+ti($e,Re)),ue.push(""),ue.push(at?Jc(Fe):qf(Fe))}return ue.push(oe+`--\r
`),ue.join(`\r
`)}function Ur(Q){var fe={};return P(fe,Q),fe}function qr(Q,fe,ie,oe){var ue=oe&&oe.unsafe;ue||P(Q);var he=!ue&&ar.find(Q,fe);if(!he){var Re=Q.FullPaths[0];fe.slice(0,Re.length)==Re?Re=fe:(Re.slice(-1)!="/"&&(Re+="/"),Re=(Re+fe).replace("//","/")),he={name:i(fe),type:2},Q.FileIndex.push(he),Q.FullPaths.push(Re),ue||ar.utils.cfb_gc(Q)}return he.content=ie,he.size=ie?ie.length:0,oe&&(oe.CLSID&&(he.clsid=oe.CLSID),oe.mt&&(he.mt=oe.mt),oe.ct&&(he.ct=oe.ct)),he}function ls(Q,fe){P(Q);var ie=ar.find(Q,fe);if(ie){for(var oe=0;oe<Q.FileIndex.length;++oe)if(Q.FileIndex[oe]==ie)return Q.FileIndex.splice(oe,1),Q.FullPaths.splice(oe,1),!0}return!1}function td(Q,fe,ie){P(Q);var oe=ar.find(Q,fe);if(oe){for(var ue=0;ue<Q.FileIndex.length;++ue)if(Q.FileIndex[ue]==oe)return Q.FileIndex[ue].name=i(ie),Q.FullPaths[ue]=ie,!0}return!1}function z0(Q){D(Q,!0)}return t.find=M,t.read=_,t.parse=p,t.write=q,t.writeFile=ne,t.utils={cfb_new:Ur,cfb_add:qr,cfb_del:ls,cfb_mov:td,cfb_gc:z0,ReadShift:wu,CheckField:Z8,prep_blob:aa,bconcat:ln,use_zlib:z,_deflateRaw:ht,_inflateRaw:vt,consts:X},t}();function vie(e){return typeof e=="string"?k0(e):Array.isArray(e)?Wae(e):e}function Bf(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=k0(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?xf(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var i=new Blob([vie(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var d=File(e);return d.open("w"),d.encoding="binary",Array.isArray(t)&&(t=Ff(t)),d.write(t),d.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function hn(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function Wk(e,t){for(var r=[],a=hn(e),i=0;i!==a.length;++i)r[e[a[i]][t]]==null&&(r[e[a[i]][t]]=a[i]);return r}function pS(e){for(var t=[],r=hn(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function R0(e){for(var t=[],r=hn(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function bie(e){for(var t=[],r=hn(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var Dm=new Date(1899,11,30,0,0,0);function qn(e,t){var r=e.getTime(),a=Dm.getTime()+(e.getTimezoneOffset()-Dm.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var D8=new Date,jie=Dm.getTime()+(D8.getTimezoneOffset()-Dm.getTimezoneOffset())*6e4,Gk=D8.getTimezoneOffset();function M8(e){var t=new Date;return t.setTime(e*24*60*60*1e3+jie),t.getTimezoneOffset()!==Gk&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Gk)*6e4),t}var Vk=new Date("2017-02-19T19:06:09.000Z"),F8=isNaN(Vk.getFullYear())?new Date("2/19/17"):Vk,wie=F8.getFullYear()==2017;function En(e,t){var r=new Date(e);if(wie)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(F8.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function D0(e,t){if(Ut&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var a=[],i=0;i!=e.length;++i)a.push(String.fromCharCode(e[i]));return a.join("")}function Hn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Hn(e[r]));return t}function Sr(e,t){for(var r="";r.length<t;)r+=e;return r}function Yi(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(t=Number(a)))?t/r:t}var Sie=["january","february","march","april","may","june","july","august","september","october","november","december"];function mf(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&Sie.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return a<0||a>8099?r:(i>0||s>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Tt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return Ut?a=os(r):a=Gae(r),ar.utils.cfb_add(e,t,a)}ar.utils.cfb_add(e,t,r)}else e.file(t,r)}function mS(){return ar.utils.cfb_new()}var Rr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Nie={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},xS=pS(Nie),gS=/[&<>'"]/g,Tie=/[\u0000-\u0008\u000b-\u001f]/g;function Xt(e){var t=e+"";return t.replace(gS,function(r){return xS[r]}).replace(Tie,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Yk(e){return Xt(e).replace(/ /g,"_x0020_")}var B8=/[\u0000-\u001f]/g;function Cie(e){var t=e+"";return t.replace(gS,function(r){return xS[r]}).replace(/\n/g,"<br/>").replace(B8,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Aie(e){var t=e+"";return t.replace(gS,function(r){return xS[r]}).replace(B8,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function _ie(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Eie(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function rj(e){for(var t="",r=0,a=0,i=0,s=0,l=0,d=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(i=e.charCodeAt(r++),a>191&&a<224){l=(a&31)<<6,l|=i&63,t+=String.fromCharCode(l);continue}if(s=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63);continue}l=e.charCodeAt(r++),d=((a&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(d>>>10&1023)),t+=String.fromCharCode(56320+(d&1023))}return t}function Xk(e){var t=qo(2*e.length),r,a,i=1,s=0,l=0,d;for(a=0;a<e.length;a+=i)i=1,(d=e.charCodeAt(a))<128?r=d:d<224?(r=(d&31)*64+(e.charCodeAt(a+1)&63),i=2):d<240?(r=(d&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),i=3):(i=4,r=(d&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[s++]=l&255,t[s++]=l>>>8,l=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function Kk(e){return os(e,"binary").toString("utf8")}var gp="foo bar baz",ju=Ut&&(Kk(gp)==rj(gp)&&Kk||Xk(gp)==rj(gp)&&Xk)||rj,xf=Ut?function(e){return os(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,i=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,i=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},Oie=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)a=a.replace(e[i][0],e[i][1]);return a}}(),L8=/(^\s|\s$|\n)/;function cn(e,t){return"<"+e+(t.match(L8)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function gf(e){return hn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function et(e,t,r){return"<"+e+(r!=null?gf(r):"")+(t!=null?(t.match(L8)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function q2(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function kie(e,t){switch(typeof e){case"string":var r=et("vt:lpwstr",Xt(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return et((e|0)==e?"vt:i4":"vt:r8",Xt(String(e)));case"boolean":return et("vt:bool",e?"true":"false")}if(e instanceof Date)return et("vt:filetime",q2(e));throw new Error("Unable to serialize "+e)}var Yr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Xc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ia={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Iie(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return a==2047?i==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,i+=Math.pow(2,52)),r*Math.pow(2,a-52)*i)}function Pie(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,l=a?-t:t;isFinite(l)?l==0?i=s=0:(i=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var d=0;d<=5;++d,s/=256)e[r+d]=s&255;e[r+6]=(i&15)<<4|s&15,e[r+7]=i>>4|a}var Qk=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var i=0,s=e[0][a].length;i<s;i+=r)t.push.apply(t,e[0][a].slice(i,i+r));return t},Zk=Ut?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:os(t)})):Qk(e)}:Qk,Jk=function(e,t,r){for(var a=[],i=t;i<r;i+=2)a.push(String.fromCharCode(hu(e,i)));return a.join("").replace(bu,"")},yS=Ut?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(bu,""):Jk(e,t,r)}:Jk,eI=function(e,t,r){for(var a=[],i=t;i<t+r;++i)a.push(("0"+e[i].toString(16)).slice(-2));return a.join("")},z8=Ut?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):eI(e,t,r)}:eI,tI=function(e,t,r){for(var a=[],i=t;i<r;i++)a.push(String.fromCharCode(Gl(e,i)));return a.join("")},Lf=Ut?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):tI(t,r,a)}:tI,$8=function(e,t){var r=sa(e,t);return r>0?Lf(e,t+4,t+4+r-1):""},U8=$8,q8=function(e,t){var r=sa(e,t);return r>0?Lf(e,t+4,t+4+r-1):""},H8=q8,W8=function(e,t){var r=2*sa(e,t);return r>0?Lf(e,t+4,t+4+r-1):""},G8=W8,V8=function(t,r){var a=sa(t,r);return a>0?yS(t,r+4,r+4+a):""},Y8=V8,X8=function(e,t){var r=sa(e,t);return r>0?Lf(e,t+4,t+4+r):""},K8=X8,Q8=function(e,t){return Iie(e,t)},Mm=Q8,vS=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ut&&(U8=function(t,r){if(!Buffer.isBuffer(t))return $8(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},H8=function(t,r){if(!Buffer.isBuffer(t))return q8(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},G8=function(t,r){if(!Buffer.isBuffer(t))return W8(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},Y8=function(t,r){if(!Buffer.isBuffer(t))return V8(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},K8=function(t,r){if(!Buffer.isBuffer(t))return X8(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},Mm=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Q8(t,r)},vS=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Gl=function(e,t){return e[t]},hu=function(e,t){return e[t+1]*256+e[t]},Rie=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},sa=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},No=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Die=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function wu(e,t){var r="",a,i,s=[],l,d,u,f;switch(t){case"dbcs":if(f=this.l,Ut&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(hu(this,f)),f+=2;e*=2;break;case"utf8":r=Lf(this,this.l,this.l+e);break;case"utf16le":e*=2,r=yS(this,this.l,this.l+e);break;case"wstr":return wu.call(this,e,"dbcs");case"lpstr-ansi":r=U8(this,this.l),e=4+sa(this,this.l);break;case"lpstr-cp":r=H8(this,this.l),e=4+sa(this,this.l);break;case"lpwstr":r=G8(this,this.l),e=4+2*sa(this,this.l);break;case"lpp4":e=4+sa(this,this.l),r=Y8(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+sa(this,this.l),r=K8(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=Gl(this,this.l+e++))!==0;)s.push(pp(l));r=s.join("");break;case"_wstr":for(e=0,r="";(l=hu(this,this.l+e))!==0;)s.push(pp(l)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=Gl(this,f),this.l=f+1,d=wu.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),s.join("")+d;s.push(pp(hu(this,f))),f+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=Gl(this,f),this.l=f+1,d=wu.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),s.join("")+d;s.push(pp(Gl(this,f))),f+=1}r=s.join("");break;default:switch(e){case 1:return a=Gl(this,this.l),this.l++,a;case 2:return a=(t==="i"?Rie:hu)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(a=(e>0?No:Die)(this,this.l),this.l+=4,a):(i=sa(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Mm(this,this.l):i=Mm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=z8(this,this.l,e);break}}return this.l+=e,r}var Mie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Fie=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Bie=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Lie(e,t,r){var a=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)Bie(this,t.charCodeAt(i),this.l+2*i);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;a=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var l=t.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,Mie(this,t,this.l);break;case 8:if(a=8,r==="f"){Pie(this,t,this.l);break}case 16:break;case-4:a=4,Fie(this,t,this.l);break}return this.l+=a,this}function Z8(e,t){var r=z8(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function aa(e,t){e.l=t,e.read_shift=wu,e.chk=Z8,e.write_shift=Lie}function gi(e,t){e.l+=t}function Ue(e){var t=qo(e);return aa(t,0),t}function zn(){var e=[],t=Ut?256:2048,r=function(f){var p=Ue(f);return aa(p,0),p},a=r(t),i=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},s=function(f){return a&&f<a.length-a.l?a:(i(),a=r(Math.max(f+1,t)))},l=function(){return i(),ln(e)},d=function(f){i(),a=f,a.l==null&&(a.l=a.length),s(t)};return{next:s,push:d,end:l,_bufs:e}}function Ye(e,t,r,a){var i=+t,s;if(!isNaN(i)){a||(a=Iue[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,a>=128&&++s,a>=16384&&++s,a>=2097152&&++s;var l=e.next(s);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var d=0;d!=4;++d)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&vS(r)&&e.push(r)}}function Su(e,t,r){var a=Hn(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function rI(e,t,r){var a=Hn(e);return a.s=Su(a.s,t.s,r),a.e=Su(a.e,t.s,r),a}function Nu(e,t){if(e.cRel&&e.c<0)for(e=Hn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Hn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Kt(e);return!e.cRel&&e.cRel!=null&&(r=Uie(r)),!e.rRel&&e.rRel!=null&&(r=zie(r)),r}function nj(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+jn(e.s.c)+":"+(e.e.cRel?"":"$")+jn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+un(e.s.r)+":"+(e.e.rRel?"":"$")+un(e.e.r):Nu(e.s,t.biff)+":"+Nu(e.e,t.biff)}function bS(e){return parseInt($ie(e),10)-1}function un(e){return""+(e+1)}function zie(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function $ie(e){return e.replace(/\$(\d+)$/,"$1")}function jS(e){for(var t=qie(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function jn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Uie(e){return e.replace(/^([A-Z])/,"$$$1")}function qie(e){return e.replace(/^\$([A-Z])/,"$1")}function Hie(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Kr(e){for(var t=0,r=0,a=0;a<e.length;++a){var i=e.charCodeAt(a);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function Kt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ca(e){var t=e.indexOf(":");return t==-1?{s:Kr(e),e:Kr(e)}:{s:Kr(e.slice(0,t)),e:Kr(e.slice(t+1))}}function Pr(e,t){return typeof t>"u"||typeof t=="number"?Pr(e.s,e.e):(typeof e!="string"&&(e=Kt(e)),typeof t!="string"&&(t=Kt(t)),e==t?e:e+":"+t)}function hr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,i=0,s=e.length;for(r=0;a<s&&!((i=e.charCodeAt(a)-64)<1||i>26);++a)r=26*r+i;for(t.s.c=--r,r=0;a<s&&!((i=e.charCodeAt(a)-48)<0||i>9);++a)r=10*r+i;if(t.s.r=--r,a===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=s&&!((i=e.charCodeAt(a)-64)<1||i>26);++a)r=26*r+i;for(t.e.c=--r,r=0;a!=s&&!((i=e.charCodeAt(a)-48)<0||i>9);++a)r=10*r+i;return t.e.r=--r,t}function nI(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ws(e.z,r?qn(t):t)}catch{}try{return e.w=Ws((e.XF||{}).numFmtId||(r?14:0),r?qn(t):t)}catch{return""+t}}function ns(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?zf[e.v]||e.v:t==null?nI(e,e.v):nI(e,t))}function Zo(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function J8(e,t,r){var a=r||{},i=e?Array.isArray(e):a.dense,s=e||(i?[]:{}),l=0,d=0;if(s&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var u=typeof a.origin=="string"?Kr(a.origin):a.origin;l=u.r,d=u.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var p=hr(s["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),l==-1&&(f.e.r=l=p.e.r+1)}for(var x=0;x!=t.length;++x)if(t[x]){if(!Array.isArray(t[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[x].length;++g)if(!(typeof t[x][g]>"u")){var v={v:t[x][g]},j=l+x,b=d+g;if(f.s.r>j&&(f.s.r=j),f.s.c>b&&(f.s.c=b),f.e.r<j&&(f.e.r=j),f.e.c<b&&(f.e.c=b),t[x][g]&&typeof t[x][g]=="object"&&!Array.isArray(t[x][g])&&!(t[x][g]instanceof Date))v=t[x][g];else if(Array.isArray(v.v)&&(v.f=t[x][g][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(a.nullError)v.t="e",v.v=0;else if(a.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=a.dateNF||Nr[14],a.cellDates?(v.t="d",v.w=Ws(v.z,qn(v.v))):(v.t="n",v.v=qn(v.v),v.w=Ws(v.z,v.v))):v.t="s";if(i)s[j]||(s[j]=[]),s[j][b]&&s[j][b].z&&(v.z=s[j][b].z),s[j][b]=v;else{var y=Kt({c:b,r:j});s[y]&&s[y].z&&(v.z=s[y].z),s[y]=v}}}return f.s.c<1e7&&(s["!ref"]=Pr(f)),s}function Kc(e,t){return J8(null,e,t)}function Wie(e){return e.read_shift(4,"i")}function Xa(e,t){return t||(t=Ue(4)),t.write_shift(4,e),t}function wn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Qr(e,t){var r=!1;return t==null&&(r=!0,t=Ue(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Gie(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Vie(e,t){return t||(t=Ue(4)),t.write_shift(2,0),t.write_shift(2,0),t}function wS(e,t){var r=e.l,a=e.read_shift(1),i=wn(e),s=[],l={t:i,h:i};if((a&1)!==0){for(var d=e.read_shift(4),u=0;u!=d;++u)s.push(Gie(e));l.r=s}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function Yie(e,t){var r=!1;return t==null&&(r=!0,t=Ue(15+4*e.t.length)),t.write_shift(1,0),Qr(e.t,t),r?t.slice(0,t.l):t}var Xie=wS;function Kie(e,t){var r=!1;return t==null&&(r=!0,t=Ue(23+4*e.t.length)),t.write_shift(1,1),Qr(e.t,t),t.write_shift(4,1),Vie({},t),r?t.slice(0,t.l):t}function Ia(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Jo(e,t){return t==null&&(t=Ue(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function el(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function tl(e,t){return t==null&&(t=Ue(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Qie=wn,e5=Qr;function SS(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Fm(e,t){var r=!1;return t==null&&(r=!0,t=Ue(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Zie=wn,H2=SS,NS=Fm;function t5(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var i=a===0?Mm([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):No(t,0)>>2;return r?i/100:i}function r5(e,t){t==null&&(t=Ue(4));var r=0,a=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function n5(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Jie(e,t){return t||(t=Ue(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var rl=n5,Qc=Jie;function Zc(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ho(e,t){return(t||Ue(8)).write_shift(8,e,"f")}function ese(e){var t={},r=e.read_shift(1),a=r>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),l=e.read_shift(1),d=e.read_shift(1),u=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=i;var f=cse[i];f&&(t.rgb=pI(f));break;case 2:t.rgb=pI([l,d,u]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Bm(e,t){if(t||(t=Ue(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function tse(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function rse(e,t){t||(t=Ue(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var a5=2,ra=3,yp=11,Lm=19,vp=64,nse=65,ase=71,ise=4108,sse=4126,on=80,aI={1:{n:"CodePage",t:a5},2:{n:"Category",t:on},3:{n:"PresentationFormat",t:on},4:{n:"ByteCount",t:ra},5:{n:"LineCount",t:ra},6:{n:"ParagraphCount",t:ra},7:{n:"SlideCount",t:ra},8:{n:"NoteCount",t:ra},9:{n:"HiddenCount",t:ra},10:{n:"MultimediaClipCount",t:ra},11:{n:"ScaleCrop",t:yp},12:{n:"HeadingPairs",t:ise},13:{n:"TitlesOfParts",t:sse},14:{n:"Manager",t:on},15:{n:"Company",t:on},16:{n:"LinksUpToDate",t:yp},17:{n:"CharacterCount",t:ra},19:{n:"SharedDoc",t:yp},22:{n:"HyperlinksChanged",t:yp},23:{n:"AppVersion",t:ra,p:"version"},24:{n:"DigSig",t:nse},26:{n:"ContentType",t:on},27:{n:"ContentStatus",t:on},28:{n:"Language",t:on},29:{n:"Version",t:on},255:{},2147483648:{n:"Locale",t:Lm},2147483651:{n:"Behavior",t:Lm},1919054434:{}},iI={1:{n:"CodePage",t:a5},2:{n:"Title",t:on},3:{n:"Subject",t:on},4:{n:"Author",t:on},5:{n:"Keywords",t:on},6:{n:"Comments",t:on},7:{n:"Template",t:on},8:{n:"LastAuthor",t:on},9:{n:"RevNumber",t:on},10:{n:"EditTime",t:vp},11:{n:"LastPrinted",t:vp},12:{n:"CreatedDate",t:vp},13:{n:"ModifiedDate",t:vp},14:{n:"PageCount",t:ra},15:{n:"WordCount",t:ra},16:{n:"CharCount",t:ra},17:{n:"Thumbnail",t:ase},18:{n:"Application",t:on},19:{n:"DocSecurity",t:ra},255:{},2147483648:{n:"Locale",t:Lm},2147483651:{n:"Behavior",t:Lm},1919054434:{}};function ose(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var lse=ose([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),cse=Hn(lse),zf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},dse={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},bp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function i5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function s5(e,t){var r=bie(dse),a=[],i;a[a.length]=Rr,a[a.length]=et("Types",null,{xmlns:Yr.CT,"xmlns:xsd":Yr.xsd,"xmlns:xsi":Yr.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return et("Default",null,{Extension:u[0],ContentType:u[1]})}));var s=function(u){e[u]&&e[u].length>0&&(i=e[u][0],a[a.length]=et("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:bp[u][t.bookType]||bp[u].xlsx}))},l=function(u){(e[u]||[]).forEach(function(f){a[a.length]=et("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:bp[u][t.bookType]||bp[u].xlsx})})},d=function(u){(e[u]||[]).forEach(function(f){a[a.length]=et("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[u][0]})})};return s("workbooks"),l("sheets"),l("charts"),d("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(d),d("vba"),d("comments"),d("threadedcomments"),d("drawings"),l("metadata"),d("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Bt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function o5(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ac(e){var t=[Rr,et("Relationships",null,{xmlns:Yr.RELS})];return hn(e["!id"]).forEach(function(r){t[t.length]=et("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Yt(e,t,r,a,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=a,i.Target=r,[Bt.HLINK,Bt.XPATH,Bt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function use(e){var t=[Rr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function sI(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function fse(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function hse(e){var t=[Rr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(sI(e[r][0],e[r][1])),t.push(fse("",e[r][0]));return t.push(sI("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function l5(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Om.version+"</meta:generator></office:meta></office:document-meta>"}var Do=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function aj(e,t,r,a,i){i[e]!=null||t==null||t===""||(i[e]=t,t=Xt(t),a[a.length]=r?et(e,t,r):cn(e,t))}function c5(e,t){var r=t||{},a=[Rr,et("cp:coreProperties",null,{"xmlns:cp":Yr.CORE_PROPS,"xmlns:dc":Yr.dc,"xmlns:dcterms":Yr.dcterms,"xmlns:dcmitype":Yr.dcmitype,"xmlns:xsi":Yr.xsi})],i={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&aj("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:q2(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,i),e.ModifiedDate!=null&&aj("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:q2(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,i));for(var s=0;s!=Do.length;++s){var l=Do[s],d=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;d===!0?d="1":d===!1?d="0":typeof d=="number"&&(d=String(d)),d!=null&&aj(l[0],d,null,a,i)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var ic=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],d5=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function u5(e){var t=[],r=et;return e||(e={}),e.Application="SheetJS",t[t.length]=Rr,t[t.length]=et("Properties",null,{xmlns:Yr.EXT_PROPS,"xmlns:vt":Yr.vt}),ic.forEach(function(a){if(e[a[1]]!==void 0){var i;switch(a[2]){case"string":i=Xt(String(e[a[1]]));break;case"bool":i=e[a[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(a[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+Xt(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function f5(e){var t=[Rr,et("Properties",null,{xmlns:Yr.CUST_PROPS,"xmlns:vt":Yr.vt})];if(!e)return t.join("");var r=1;return hn(e).forEach(function(i){++r,t[t.length]=et("property",kie(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Xt(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var oI={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function pse(e,t){var r=[];return hn(oI).map(function(a){for(var i=0;i<Do.length;++i)if(Do[i][1]==a)return Do[i];for(i=0;i<ic.length;++i)if(ic[i][1]==a)return ic[i];throw a}).forEach(function(a){if(e[a[1]]!=null){var i=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(cn(oI[a[1]]||a[1],i))}}),et("DocumentProperties",r.join(""),{xmlns:ia.o})}function mse(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",i=[];return e&&hn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var l=0;l<Do.length;++l)if(s==Do[l][1])return;for(l=0;l<ic.length;++l)if(s==ic[l][1])return;for(l=0;l<r.length;++l)if(s==r[l])return;var d=e[s],u="string";typeof d=="number"?(u="float",d=String(d)):d===!0||d===!1?(u="boolean",d=d?"1":"0"):d=String(d),i.push(et(Yk(s),d,{"dt:dt":u}))}}),t&&hn(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var l=t[s],d="string";typeof l=="number"?(d="float",l=String(l)):l===!0||l===!1?(d="boolean",l=l?"1":"0"):l instanceof Date?(d="dateTime.tz",l=l.toISOString()):l=String(l),i.push(et(Yk(s),l,{"dt:dt":d}))}}),"<"+a+' xmlns="'+ia.o+'">'+i.join("")+"</"+a+">"}function xse(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),i=(r-a)/Math.pow(2,32);a*=1e7,i*=1e7;var s=a/Math.pow(2,32)|0;s>0&&(a=a%Math.pow(2,32),i+=s);var l=Ue(8);return l.write_shift(4,a),l.write_shift(4,i),l}function lI(e,t){var r=Ue(4),a=Ue(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=Ue(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=xse(t);break;case 31:case 80:for(a=Ue(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ln([r,a])}var h5=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function gse(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function cI(e,t,r){var a=Ue(8),i=[],s=[],l=8,d=0,u=Ue(8),f=Ue(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),s.push(u),i.push(f),l+=8+u.length,!t){f=Ue(8),f.write_shift(4,0),i.unshift(f);var p=[Ue(4)];for(p[0].write_shift(4,e.length),d=0;d<e.length;++d){var x=e[d][0];for(u=Ue(8+2*(x.length+1)+(x.length%2?0:2)),u.write_shift(4,d+2),u.write_shift(4,x.length+1),u.write_shift(0,x,"dbcs");u.l!=u.length;)u.write_shift(1,0);p.push(u)}u=ln(p),s.unshift(u),l+=8+u.length}for(d=0;d<e.length;++d)if(!(t&&!t[e[d][0]])&&!(h5.indexOf(e[d][0])>-1||d5.indexOf(e[d][0])>-1)&&e[d][1]!=null){var g=e[d][1],v=0;if(t){v=+t[e[d][0]];var j=r[v];if(j.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}u=lI(j.t,g)}else{var y=gse(g);y==-1&&(y=31,g=String(g)),u=lI(y,g)}s.push(u),f=Ue(8),f.write_shift(4,t?v:2+d),i.push(f),l+=8+u.length}var C=8*(s.length+1);for(d=0;d<s.length;++d)i[d].write_shift(4,C),C+=s[d].length;return a.write_shift(4,l),a.write_shift(4,s.length),ln([a].concat(i).concat(s))}function dI(e,t,r,a,i,s){var l=Ue(i?68:48),d=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,ar.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,i?68:48);var u=cI(e,r,a);if(d.push(u),i){var f=cI(i,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+u.length),d.push(f)}return ln(d)}function yse(e,t){t||(t=Ue(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function vse(e,t){return e.read_shift(t)===1}function An(e,t){return t||(t=Ue(2)),t.write_shift(2,+!!e),t}function p5(e){return e.read_shift(2,"u")}function Na(e,t){return t||(t=Ue(2)),t.write_shift(2,e),t}function m5(e,t,r){return r||(r=Ue(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function x5(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var l=a?e.read_shift(a,i):"";return l}function bse(e){var t=e.t||"",r=Ue(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=Ue(2*t.length);a.write_shift(2*t.length,t,"utf16le");var i=[r,a];return ln(i)}function jse(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function wse(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):jse(e,a,r)}function Sse(e,t,r){if(r.biff>5)return wse(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function g5(e,t,r){return r||(r=Ue(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function uI(e,t){t||(t=Ue(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Nse(e){var t=Ue(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var i=a.indexOf("#"),s=i>-1?31:23;switch(a.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(s==28)a=a.slice(1),uI(a,t);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var d=i>-1?a.slice(0,i):a;for(t.write_shift(4,2*(d.length+1)),r=0;r<d.length;++r)t.write_shift(2,d.charCodeAt(r));t.write_shift(2,0),s&8&&uI(i>-1?a.slice(i+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var u=0;a.slice(u*3,u*3+3)=="../"||a.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,a.length-3*u+1),r=0;r<a.length-3*u;++r)t.write_shift(1,a.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Wo(e,t,r,a){return a||(a=Ue(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function Tse(e,t,r){var a=r.biff>8?4:2,i=e.read_shift(a),s=e.read_shift(a,"i"),l=e.read_shift(a,"i");return[i,s,l]}function Cse(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);return{s:{c:a,r:t},e:{c:i,r}}}function y5(e,t){return t||(t=Ue(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function TS(e,t,r){var a=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,i=8;break;case"biff4":a=4,i=6;break;case"biff3":a=3,i=6;break;case"biff2":a=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ue(i);return s.write_shift(2,a),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Ase(e,t){var r=!t||t.biff==8,a=Ue(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function _se(e,t){var r=!t||t.biff>=8?2:1,a=Ue(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=a.slice(0,a.l);return i.l=a.l,i}function Ese(e,t){var r=Ue(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],i=0;i<e.length;++i)a[i]=bse(e[i]);var s=ln([r].concat(a));return s.parts=[r.length].concat(a.map(function(l){return l.length})),s}function Ose(){var e=Ue(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function kse(e){var t=Ue(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Ise(e,t){var r=e.name||"Arial",a=t&&t.biff==5,i=a?15+r.length:16+2*r.length,s=Ue(i);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),s}function Pse(e,t,r,a){var i=Ue(10);return Wo(e,t,a,i),i.write_shift(4,r),i}function Rse(e,t,r,a,i){var s=!i||i.biff==8,l=Ue(8+ +s+(1+s)*r.length);return Wo(e,t,a,l),l.write_shift(2,r.length),s&&l.write_shift(1,1),l.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),l}function Dse(e,t,r,a){var i=r&&r.biff==5;a||(a=Ue(i?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(i?1:2,t.length),i||a.write_shift(1,1),a.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=a.length>a.l?a.slice(0,a.l):a;return s.l==null&&(s.l=s.length),s}function Mse(e,t){var r=t.biff==8||!t.biff?4:2,a=Ue(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function fI(e,t,r,a){var i=r&&r.biff==5;a||(a=Ue(i?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&i&&(s|=1024),a.write_shift(4,s),a.write_shift(4,0),i||a.write_shift(4,0),a.write_shift(2,0),a}function Fse(e){var t=Ue(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Bse(e,t,r,a,i,s){var l=Ue(8);return Wo(e,t,a,l),m5(r,s,l),l}function Lse(e,t,r,a){var i=Ue(14);return Wo(e,t,a,i),Ho(r,i),i}function zse(e,t,r){if(r.biff<8)return $se(e,t,r);for(var a=[],i=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)a.push(Tse(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return a}function $se(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=x5(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function Use(e){var t=Ue(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)y5(e[r],t);return t}function qse(e){var t=Ue(24),r=Kr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(a[i],16));return ln([t,Nse(e[1])])}function Hse(e){var t=e[1].Tooltip,r=Ue(10+2*(t.length+1));r.write_shift(2,2048);var a=Kr(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function Wse(e){return e||(e=Ue(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Gse(e,t,r){if(!r.cellStyles)return gi(e,t);var a=r&&r.biff>=12?4:2,i=e.read_shift(a),s=e.read_shift(a),l=e.read_shift(a),d=e.read_shift(a),u=e.read_shift(2);a==2&&(e.l+=2);var f={s:i,e:s,w:l,ixfe:d,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function Vse(e,t){var r=Ue(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function Yse(e){for(var t=Ue(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Xse(e,t,r){var a=Ue(15);return Uf(a,e,t),a.write_shift(8,r,"f"),a}function Kse(e,t,r){var a=Ue(9);return Uf(a,e,t),a.write_shift(2,r),a}var Qse=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=pS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(d,u){var f=[],p=qo(1);switch(u.type){case"base64":p=Ga(rs(d));break;case"binary":p=Ga(d);break;case"buffer":case"array":p=d;break}aa(p,0);var x=p.read_shift(1),g=!!(x&136),v=!1,j=!1;switch(x){case 2:break;case 3:break;case 48:v=!0,g=!0;break;case 49:v=!0,g=!0;break;case 131:break;case 139:break;case 140:j=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var b=0,y=521;x==2&&(b=p.read_shift(2)),p.l+=3,x!=2&&(b=p.read_shift(4)),b>1048576&&(b=1e6),x!=2&&(y=p.read_shift(2));var C=p.read_shift(2),A=u.codepage||1252;x!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(A=e[p[p.l]]),p.l+=1,p.l+=2),j&&(p.l+=36);for(var E=[],S={},T=Math.min(p.length,x==2?521:y-10-(v?264:0)),_=j?32:11;p.l<T&&p[p.l]!=13;)switch(S={},S.name=km.utils.decode(A,p.slice(p.l,p.l+_)).replace(/[\u0000\r\n].*$/g,""),p.l+=_,S.type=String.fromCharCode(p.read_shift(1)),x!=2&&!j&&(S.offset=p.read_shift(4)),S.len=p.read_shift(1),x==2&&(S.offset=p.read_shift(2)),S.dec=p.read_shift(1),S.name.length&&E.push(S),x!=2&&(p.l+=j?13:14),S.type){case"B":(!v||S.len!=8)&&u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(p[p.l]!==13&&(p.l=y-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=y;var P=0,L=0;for(f[0]=[],L=0;L!=E.length;++L)f[0][L]=E[L].name;for(;b-- >0;){if(p[p.l]===42){p.l+=C;continue}for(++p.l,f[++P]=[],L=0,L=0;L!=E.length;++L){var D=p.slice(p.l,p.l+E[L].len);p.l+=E[L].len,aa(D,0);var B=km.utils.decode(A,D);switch(E[L].type){case"C":B.trim().length&&(f[P][L]=B.replace(/\s+$/,""));break;case"D":B.length===8?f[P][L]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):f[P][L]=B;break;case"F":f[P][L]=parseFloat(B.trim());break;case"+":case"I":f[P][L]=j?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":f[P][L]=!0;break;case"N":case"F":f[P][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));f[P][L]="##MEMO##"+(j?parseInt(B.trim(),10):D.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(f[P][L]=+B||0);break;case"@":f[P][L]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":f[P][L]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":f[P][L]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[P][L]=-D.read_shift(-8,"f");break;case"B":if(v&&E[L].len==8){f[P][L]=D.read_shift(8,"f");break}case"G":case"P":D.l+=E[L].len;break;case"0":if(E[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[L].type)}}}if(x!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=E,f}function a(d,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var p=Kc(r(d,f),f);return p["!cols"]=f.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete f.DBF,p}function i(d,u){try{return Zo(a(d,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(d,u){var f=u||{};if(+f.codepage>=0&&hf(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=zn(),x=Hm(d,{header:1,raw:!0,cellDates:!0}),g=x[0],v=x.slice(1),j=d["!cols"]||[],b=0,y=0,C=0,A=1;for(b=0;b<g.length;++b){if(((j[b]||{}).DBF||{}).name){g[b]=j[b].DBF.name,++C;continue}if(g[b]!=null){if(++C,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(y=0;y<1024;++y)if(g.indexOf(g[b]+"_"+y)==-1){g[b]+="_"+y;break}}}}var E=hr(d["!ref"]),S=[],T=[],_=[];for(b=0;b<=E.e.c-E.s.c;++b){var P="",L="",D=0,B=[];for(y=0;y<v.length;++y)v[y][b]!=null&&B.push(v[y][b]);if(B.length==0||g[b]==null){S[b]="?";continue}for(y=0;y<B.length;++y){switch(typeof B[y]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=B[y]instanceof Date?"D":"C";break;default:L="C"}D=Math.max(D,String(B[y]).length),P=P&&P!=L?"C":L}D>250&&(D=250),L=((j[b]||{}).DBF||{}).type,L=="C"&&j[b].DBF.len>D&&(D=j[b].DBF.len),P=="B"&&L=="N"&&(P="N",_[b]=j[b].DBF.dec,D=j[b].DBF.len),T[b]=P=="C"||L=="N"?D:s[P]||0,A+=T[b],S[b]=P}var M=p.next(32);for(M.write_shift(4,318902576),M.write_shift(4,v.length),M.write_shift(2,296+32*C),M.write_shift(2,A),b=0;b<4;++b)M.write_shift(4,0);for(M.write_shift(4,0|(+t[b8]||3)<<8),b=0,y=0;b<g.length;++b)if(g[b]!=null){var k=p.next(32),W=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,W,"sbcs"),k.write_shift(1,S[b]=="?"?"C":S[b],"sbcs"),k.write_shift(4,y),k.write_shift(1,T[b]||s[S[b]]||0),k.write_shift(1,_[b]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),y+=T[b]||s[S[b]]||0}var F=p.next(264);for(F.write_shift(4,13),b=0;b<65;++b)F.write_shift(4,0);for(b=0;b<v.length;++b){var I=p.next(A);for(I.write_shift(1,0),y=0;y<g.length;++y)if(g[y]!=null)switch(S[y]){case"L":I.write_shift(1,v[b][y]==null?63:v[b][y]?84:70);break;case"B":I.write_shift(8,v[b][y]||0,"f");break;case"N":var R="0";for(typeof v[b][y]=="number"&&(R=v[b][y].toFixed(_[y]||0)),C=0;C<T[y]-R.length;++C)I.write_shift(1,32);I.write_shift(1,R,"sbcs");break;case"D":v[b][y]?(I.write_shift(4,("0000"+v[b][y].getFullYear()).slice(-4),"sbcs"),I.write_shift(2,("00"+(v[b][y].getMonth()+1)).slice(-2),"sbcs"),I.write_shift(2,("00"+v[b][y].getDate()).slice(-2),"sbcs")):I.write_shift(8,"00000000","sbcs");break;case"C":var X=String(v[b][y]!=null?v[b][y]:"").slice(0,T[y]);for(I.write_shift(1,X,"sbcs"),C=0;C<T[y]-X.length;++C)I.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:a,from_sheet:l}}(),Zse=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+hn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,v){var j=e[v];return typeof j=="number"?Mk(j):j},a=function(g,v,j){var b=v.charCodeAt(0)-32<<4|j.charCodeAt(0)-48;return b==59?g:Mk(b)};e["|"]=254;function i(g,v){switch(v.type){case"base64":return s(rs(g),v);case"binary":return s(g,v);case"buffer":return s(Ut&&Buffer.isBuffer(g)?g.toString("binary"):Ff(g),v);case"array":return s(D0(g),v)}throw new Error("Unrecognized type "+v.type)}function s(g,v){var j=g.split(/[\n\r]+/),b=-1,y=-1,C=0,A=0,E=[],S=[],T=null,_={},P=[],L=[],D=[],B=0,M;for(+v.codepage>=0&&hf(+v.codepage);C!==j.length;++C){B=0;var k=j[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),W=k.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),F=W[0],I;if(k.length>0)switch(F){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&S.push(k.slice(3).replace(/;;/g,";"));break;case"C":var R=!1,X=!1,ne=!1,ge=!1,q=-1,ee=-1;for(A=1;A<W.length;++A)switch(W[A].charAt(0)){case"A":break;case"X":y=parseInt(W[A].slice(1))-1,X=!0;break;case"Y":for(b=parseInt(W[A].slice(1))-1,X||(y=0),M=E.length;M<=b;++M)E[M]=[];break;case"K":I=W[A].slice(1),I.charAt(0)==='"'?I=I.slice(1,I.length-1):I==="TRUE"?I=!0:I==="FALSE"?I=!1:isNaN(Yi(I))?isNaN(mf(I).getDate())||(I=En(I)):(I=Yi(I),T!==null&&I8(T)&&(I=M8(I))),R=!0;break;case"E":ge=!0;var z=Koe(W[A].slice(1),{r:b,c:y});E[b][y]=[E[b][y],z];break;case"S":ne=!0,E[b][y]=[E[b][y],"S5S"];break;case"G":break;case"R":q=parseInt(W[A].slice(1))-1;break;case"C":ee=parseInt(W[A].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+k)}if(R&&(E[b][y]&&E[b][y].length==2?E[b][y][0]=I:E[b][y]=I,T=null),ne){if(ge)throw new Error("SYLK shared formula cannot have own formula");var U=q>-1&&E[q][ee];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");E[b][y][1]=Qoe(U[1],{r:b-q,c:y-ee})}break;case"F":var V=0;for(A=1;A<W.length;++A)switch(W[A].charAt(0)){case"X":y=parseInt(W[A].slice(1))-1,++V;break;case"Y":for(b=parseInt(W[A].slice(1))-1,M=E.length;M<=b;++M)E[M]=[];break;case"M":B=parseInt(W[A].slice(1))/20;break;case"F":break;case"G":break;case"P":T=S[parseInt(W[A].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=W[A].slice(1).split(" "),M=parseInt(D[0],10);M<=parseInt(D[1],10);++M)B=parseInt(D[2],10),L[M-1]=B===0?{hidden:!0}:{wch:B},CS(L[M-1]);break;case"C":y=parseInt(W[A].slice(1))-1,L[y]||(L[y]={});break;case"R":b=parseInt(W[A].slice(1))-1,P[b]||(P[b]={}),B>0?(P[b].hpt=B,P[b].hpx=S5(B)):B===0&&(P[b].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+k)}V<1&&(T=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+k)}}return P.length>0&&(_["!rows"]=P),L.length>0&&(_["!cols"]=L),v&&v.sheetRows&&(E=E.slice(0,v.sheetRows)),[E,_]}function l(g,v){var j=i(g,v),b=j[0],y=j[1],C=Kc(b,v);return hn(y).forEach(function(A){C[A]=y[A]}),C}function d(g,v){return Zo(l(g,v),v)}function u(g,v,j,b){var y="C;Y"+(j+1)+";X"+(b+1)+";K";switch(g.t){case"n":y+=g.v||0,g.f&&!g.F&&(y+=";E"+_S(g.f,{r:j,c:b}));break;case"b":y+=g.v?"TRUE":"FALSE";break;case"e":y+=g.w||g.v;break;case"d":y+='"'+(g.w||g.v)+'"';break;case"s":y+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function f(g,v){v.forEach(function(j,b){var y="F;W"+(b+1)+" "+(b+1)+" ";j.hidden?y+="0":(typeof j.width=="number"&&!j.wpx&&(j.wpx=zm(j.width)),typeof j.wpx=="number"&&!j.wch&&(j.wch=$m(j.wpx)),typeof j.wch=="number"&&(y+=Math.round(j.wch))),y.charAt(y.length-1)!=" "&&g.push(y)})}function p(g,v){v.forEach(function(j,b){var y="F;";j.hidden?y+="M0;":j.hpt?y+="M"+20*j.hpt+";":j.hpx&&(y+="M"+20*Um(j.hpx)+";"),y.length>2&&g.push(y+"R"+(b+1))})}function x(g,v){var j=["ID;PWXL;N;E"],b=[],y=hr(g["!ref"]),C,A=Array.isArray(g),E=`\r
`;j.push("P;PGeneral"),j.push("F;P0;DG0G8;M255"),g["!cols"]&&f(j,g["!cols"]),g["!rows"]&&p(j,g["!rows"]),j.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var S=y.s.r;S<=y.e.r;++S)for(var T=y.s.c;T<=y.e.c;++T){var _=Kt({r:S,c:T});C=A?(g[S]||[])[T]:g[_],!(!C||C.v==null&&(!C.f||C.F))&&b.push(u(C,g,S,T))}return j.join(E)+E+b.join(E)+E+"E"+E}return{to_workbook:d,to_sheet:l,from_sheet:x}}(),Jse=function(){function e(s,l){switch(l.type){case"base64":return t(rs(s),l);case"binary":return t(s,l);case"buffer":return t(Ut&&Buffer.isBuffer(s)?s.toString("binary"):Ff(s),l);case"array":return t(D0(s),l)}throw new Error("Unrecognized type "+l.type)}function t(s,l){for(var d=s.split(`
`),u=-1,f=-1,p=0,x=[];p!==d.length;++p){if(d[p].trim()==="BOT"){x[++u]=[],f=0;continue}if(!(u<0)){var g=d[p].trim().split(","),v=g[0],j=g[1];++p;for(var b=d[p]||"";(b.match(/["]/g)||[]).length&1&&p<d.length-1;)b+=`
`+d[++p];switch(b=b.trim(),+v){case-1:if(b==="BOT"){x[++u]=[],f=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?x[u][f]=!0:b==="FALSE"?x[u][f]=!1:isNaN(Yi(j))?isNaN(mf(j).getDate())?x[u][f]=j:x[u][f]=En(j):x[u][f]=Yi(j),++f;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),x[u][f++]=b!==""?b:null;break}if(b==="EOD")break}}return l&&l.sheetRows&&(x=x.slice(0,l.sheetRows)),x}function r(s,l){return Kc(e(s,l),l)}function a(s,l){return Zo(r(s,l),l)}var i=function(){var s=function(u,f,p,x,g){u.push(f),u.push(p+","+x),u.push('"'+g.replace(/"/g,'""')+'"')},l=function(u,f,p,x){u.push(f+","+p),u.push(f==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(u){var f=[],p=hr(u["!ref"]),x,g=Array.isArray(u);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,p.e.r-p.s.r+1,""),s(f,"TUPLES",0,p.e.c-p.s.c+1,""),s(f,"DATA",0,0,"");for(var v=p.s.r;v<=p.e.r;++v){l(f,-1,0,"BOT");for(var j=p.s.c;j<=p.e.c;++j){var b=Kt({r:v,c:j});if(x=g?(u[v]||[])[j]:u[b],!x){l(f,1,0,"");continue}switch(x.t){case"n":var y=x.w;!y&&x.v!=null&&(y=x.v),y==null?x.f&&!x.F?l(f,1,0,"="+x.f):l(f,1,0,""):l(f,0,y,"V");break;case"b":l(f,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=Ws(x.z||Nr[14],qn(En(x.v)))),l(f,0,x.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var C=`\r
`,A=f.join(C);return A}}();return{to_workbook:a,to_sheet:r,from_sheet:i}}(),v5=function(){function e(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(x,g){for(var v=x.split(`
`),j=-1,b=-1,y=0,C=[];y!==v.length;++y){var A=v[y].trim().split(":");if(A[0]==="cell"){var E=Kr(A[1]);if(C.length<=E.r)for(j=C.length;j<=E.r;++j)C[j]||(C[j]=[]);switch(j=E.r,b=E.c,A[2]){case"t":C[j][b]=e(A[3]);break;case"v":C[j][b]=+A[3];break;case"vtf":var S=A[A.length-1];case"vtc":switch(A[3]){case"nl":C[j][b]=!!+A[4];break;default:C[j][b]=+A[4];break}A[2]=="vtf"&&(C[j][b]=[C[j][b],S])}}}return g&&g.sheetRows&&(C=C.slice(0,g.sheetRows)),C}function a(x,g){return Kc(r(x,g),g)}function i(x,g){return Zo(a(x,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,d=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(x){if(!x||!x["!ref"])return"";for(var g=[],v=[],j,b="",y=ca(x["!ref"]),C=Array.isArray(x),A=y.s.r;A<=y.e.r;++A)for(var E=y.s.c;E<=y.e.c;++E)if(b=Kt({r:A,c:E}),j=C?(x[A]||[])[E]:x[b],!(!j||j.v==null||j.t==="z")){switch(v=["cell",b,"t"],j.t){case"s":case"str":v.push(t(j.v));break;case"n":j.f?(v[2]="vtf",v[3]="n",v[4]=j.v,v[5]=t(j.f)):(v[2]="v",v[3]=j.v);break;case"b":v[2]="vt"+(j.f?"f":"c"),v[3]="nl",v[4]=j.v?"1":"0",v[5]=t(j.f||(j.v?"TRUE":"FALSE"));break;case"d":var S=qn(En(j.v));v[2]="vtc",v[3]="nd",v[4]=""+S,v[5]=j.w||Ws(j.z||Nr[14],S);break;case"e":continue}g.push(v.join(":"))}return g.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function p(x){return[s,l,d,l,f(x),u].join(`
`)}return{to_workbook:i,to_sheet:a,from_sheet:p}}(),eoe=function(){function e(p,x,g,v,j){j.raw?x[g][v]=p:p===""||(p==="TRUE"?x[g][v]=!0:p==="FALSE"?x[g][v]=!1:isNaN(Yi(p))?isNaN(mf(p).getDate())?x[g][v]=p:x[g][v]=En(p):x[g][v]=Yi(p))}function t(p,x){var g=x||{},v=[];if(!p||p.length===0)return v;for(var j=p.split(/[\r\n]/),b=j.length-1;b>=0&&j[b].length===0;)--b;for(var y=10,C=0,A=0;A<=b;++A)C=j[A].indexOf(" "),C==-1?C=j[A].length:C++,y=Math.max(y,C);for(A=0;A<=b;++A){v[A]=[];var E=0;for(e(j[A].slice(0,y).trim(),v,A,E,g),E=1;E<=(j[A].length-y)/10+1;++E)e(j[A].slice(y+(E-1)*10,y+E*10).trim(),v,A,E,g)}return g.sheetRows&&(v=v.slice(0,g.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function i(p){for(var x={},g=!1,v=0,j=0;v<p.length;++v)(j=p.charCodeAt(v))==34?g=!g:!g&&j in r&&(x[j]=(x[j]||0)+1);j=[];for(v in x)Object.prototype.hasOwnProperty.call(x,v)&&j.push([x[v],v]);if(!j.length){x=a;for(v in x)Object.prototype.hasOwnProperty.call(x,v)&&j.push([x[v],v])}return j.sort(function(b,y){return b[0]-y[0]||a[b[1]]-a[y[1]]}),r[j.pop()[1]]||44}function s(p,x){var g=x||{},v="",j=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(v=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(v=p.charAt(4),p=p.slice(6)):v=i(p.slice(0,1024)):g&&g.FS?v=g.FS:v=i(p.slice(0,1024));var y=0,C=0,A=0,E=0,S=0,T=v.charCodeAt(0),_=!1,P=0,L=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var D=g.dateNF!=null?xie(g.dateNF):null;function B(){var M=p.slice(E,S),k={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)k.t="z";else if(g.raw)k.t="s",k.v=M;else if(M.trim().length===0)k.t="s",k.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(k.t="s",k.v=M.slice(2,-1).replace(/""/g,'"')):Zoe(M)?(k.t="n",k.f=M.slice(1)):(k.t="s",k.v=M);else if(M=="TRUE")k.t="b",k.v=!0;else if(M=="FALSE")k.t="b",k.v=!1;else if(!isNaN(A=Yi(M)))k.t="n",g.cellText!==!1&&(k.w=M),k.v=A;else if(!isNaN(mf(M).getDate())||D&&M.match(D)){k.z=g.dateNF||Nr[14];var W=0;D&&M.match(D)&&(M=gie(M,g.dateNF,M.match(D)||[]),W=1),g.cellDates?(k.t="d",k.v=En(M,W)):(k.t="n",k.v=qn(En(M,W))),g.cellText!==!1&&(k.w=Ws(k.z,k.v instanceof Date?qn(k.v):k.v)),g.cellNF||delete k.z}else k.t="s",k.v=M;if(k.t=="z"||(g.dense?(j[y]||(j[y]=[]),j[y][C]=k):j[Kt({c:C,r:y})]=k),E=S+1,L=p.charCodeAt(E),b.e.c<C&&(b.e.c=C),b.e.r<y&&(b.e.r=y),P==T)++C;else if(C=0,++y,g.sheetRows&&g.sheetRows<=y)return!0}e:for(;S<p.length;++S)switch(P=p.charCodeAt(S)){case 34:L===34&&(_=!_);break;case T:case 10:case 13:if(!_&&B())break e;break}return S-E>0&&B(),j["!ref"]=Pr(b),j}function l(p,x){return!(x&&x.PRN)||x.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?s(p,x):Kc(t(p,x),x)}function d(p,x){var g="",v=x.type=="string"?[0,0,0,0]:ffe(p,x);switch(x.type){case"base64":g=rs(p);break;case"binary":g=p;break;case"buffer":x.codepage==65001?g=p.toString("utf8"):x.codepage&&typeof km<"u"||(g=Ut&&Buffer.isBuffer(p)?p.toString("binary"):Ff(p));break;case"array":g=D0(p);break;case"string":g=p;break;default:throw new Error("Unrecognized type "+x.type)}return v[0]==239&&v[1]==187&&v[2]==191?g=ju(g.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?g=ju(g):x.type=="binary"&&typeof km<"u",g.slice(0,19)=="socialcalc:version:"?v5.to_sheet(x.type=="string"?g:ju(g),x):l(g,x)}function u(p,x){return Zo(d(p,x),x)}function f(p){for(var x=[],g=hr(p["!ref"]),v,j=Array.isArray(p),b=g.s.r;b<=g.e.r;++b){for(var y=[],C=g.s.c;C<=g.e.c;++C){var A=Kt({r:b,c:C});if(v=j?(p[b]||[])[C]:p[A],!v||v.v==null){y.push("          ");continue}for(var E=(v.w||(ns(v),v.w)||"").slice(0,10);E.length<10;)E+=" ";y.push(E+(C===0?" ":""))}x.push(y.join(""))}return x.join(`
`)}return{to_workbook:u,to_sheet:d,from_sheet:f}}(),hI=function(){function e(z,U,V){if(z){aa(z,z.l||0);for(var te=V.Enum||q;z.l<z.length;){var se=z.read_shift(2),Z=te[se]||te[65535],K=z.read_shift(2),Y=z.l+K,ce=Z.f&&Z.f(z,K,V);if(z.l=Y,U(ce,Z,se))return}}}function t(z,U){switch(U.type){case"base64":return r(Ga(rs(z)),U);case"binary":return r(Ga(z),U);case"buffer":case"array":return r(z,U)}throw"Unsupported type "+U.type}function r(z,U){if(!z)return z;var V=U||{},te=V.dense?[]:{},se="Sheet1",Z="",K=0,Y={},ce=[],xe=[],pe={s:{r:0,c:0},e:{r:0,c:0}},Ce=V.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)V.Enum=q,e(z,function(Ae,qe,me){switch(me){case 0:V.vers=Ae,Ae>=4096&&(V.qpro=!0);break;case 6:pe=Ae;break;case 204:Ae&&(Z=Ae);break;case 222:Z=Ae;break;case 15:case 51:V.qpro||(Ae[1].v=Ae[1].v.slice(1));case 13:case 14:case 16:me==14&&(Ae[2]&112)==112&&(Ae[2]&15)>1&&(Ae[2]&15)<15&&(Ae[1].z=V.dateNF||Nr[14],V.cellDates&&(Ae[1].t="d",Ae[1].v=M8(Ae[1].v))),V.qpro&&Ae[3]>K&&(te["!ref"]=Pr(pe),Y[se]=te,ce.push(se),te=V.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},K=Ae[3],se=Z||"Sheet"+(K+1),Z="");var ae=V.dense?(te[Ae[0].r]||[])[Ae[0].c]:te[Kt(Ae[0])];if(ae){ae.t=Ae[1].t,ae.v=Ae[1].v,Ae[1].z!=null&&(ae.z=Ae[1].z),Ae[1].f!=null&&(ae.f=Ae[1].f);break}V.dense?(te[Ae[0].r]||(te[Ae[0].r]=[]),te[Ae[0].r][Ae[0].c]=Ae[1]):te[Kt(Ae[0])]=Ae[1];break}},V);else if(z[2]==26||z[2]==14)V.Enum=ee,z[2]==14&&(V.qpro=!0,z.l=0),e(z,function(Ae,qe,me){switch(me){case 204:se=Ae;break;case 22:Ae[1].v=Ae[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ae[3]>K&&(te["!ref"]=Pr(pe),Y[se]=te,ce.push(se),te=V.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},K=Ae[3],se="Sheet"+(K+1)),Ce>0&&Ae[0].r>=Ce)break;V.dense?(te[Ae[0].r]||(te[Ae[0].r]=[]),te[Ae[0].r][Ae[0].c]=Ae[1]):te[Kt(Ae[0])]=Ae[1],pe.e.c<Ae[0].c&&(pe.e.c=Ae[0].c),pe.e.r<Ae[0].r&&(pe.e.r=Ae[0].r);break;case 27:Ae[14e3]&&(xe[Ae[14e3][0]]=Ae[14e3][1]);break;case 1537:xe[Ae[0]]=Ae[1],Ae[0]==K&&(se=Ae[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(te["!ref"]=Pr(pe),Y[Z||se]=te,ce.push(Z||se),!xe.length)return{SheetNames:ce,Sheets:Y};for(var ve={},Le=[],le=0;le<xe.length;++le)Y[ce[le]]?(Le.push(xe[le]||ce[le]),ve[xe[le]]=Y[xe[le]]||Y[ce[le]]):(Le.push(xe[le]),ve[xe[le]]={"!ref":"A1"});return{SheetNames:Le,Sheets:ve}}function a(z,U){var V=U||{};if(+V.codepage>=0&&hf(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var te=zn(),se=hr(z["!ref"]),Z=Array.isArray(z),K=[];tt(te,0,s(1030)),tt(te,6,u(se));for(var Y=Math.min(se.e.r,8191),ce=se.s.r;ce<=Y;++ce)for(var xe=un(ce),pe=se.s.c;pe<=se.e.c;++pe){ce===se.s.r&&(K[pe]=jn(pe));var Ce=K[pe]+xe,ve=Z?(z[ce]||[])[pe]:z[Ce];if(!(!ve||ve.t=="z"))if(ve.t=="n")(ve.v|0)==ve.v&&ve.v>=-32768&&ve.v<=32767?tt(te,13,v(ce,pe,ve.v)):tt(te,14,b(ce,pe,ve.v));else{var Le=ns(ve);tt(te,15,x(ce,pe,Le.slice(0,239)))}}return tt(te,1),te.end()}function i(z,U){var V=U||{};if(+V.codepage>=0&&hf(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var te=zn();tt(te,0,l(z));for(var se=0,Z=0;se<z.SheetNames.length;++se)(z.Sheets[z.SheetNames[se]]||{})["!ref"]&&tt(te,27,ge(z.SheetNames[se],Z++));var K=0;for(se=0;se<z.SheetNames.length;++se){var Y=z.Sheets[z.SheetNames[se]];if(!(!Y||!Y["!ref"])){for(var ce=hr(Y["!ref"]),xe=Array.isArray(Y),pe=[],Ce=Math.min(ce.e.r,8191),ve=ce.s.r;ve<=Ce;++ve)for(var Le=un(ve),le=ce.s.c;le<=ce.e.c;++le){ve===ce.s.r&&(pe[le]=jn(le));var Ae=pe[le]+Le,qe=xe?(Y[ve]||[])[le]:Y[Ae];if(!(!qe||qe.t=="z"))if(qe.t=="n")tt(te,23,B(ve,le,K,qe.v));else{var me=ns(qe);tt(te,22,P(ve,le,K,me.slice(0,239)))}}++K}}return tt(te,1),te.end()}function s(z){var U=Ue(2);return U.write_shift(2,z),U}function l(z){var U=Ue(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var V=0,te=0,se=0,Z=0;Z<z.SheetNames.length;++Z){var K=z.SheetNames[Z],Y=z.Sheets[K];if(!(!Y||!Y["!ref"])){++se;var ce=ca(Y["!ref"]);V<ce.e.r&&(V=ce.e.r),te<ce.e.c&&(te=ce.e.c)}}return V>8191&&(V=8191),U.write_shift(2,V),U.write_shift(1,se),U.write_shift(1,te),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function d(z,U,V){var te={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&V.qpro?(te.s.c=z.read_shift(1),z.l++,te.s.r=z.read_shift(2),te.e.c=z.read_shift(1),z.l++,te.e.r=z.read_shift(2),te):(te.s.c=z.read_shift(2),te.s.r=z.read_shift(2),U==12&&V.qpro&&(z.l+=2),te.e.c=z.read_shift(2),te.e.r=z.read_shift(2),U==12&&V.qpro&&(z.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function u(z){var U=Ue(8);return U.write_shift(2,z.s.c),U.write_shift(2,z.s.r),U.write_shift(2,z.e.c),U.write_shift(2,z.e.r),U}function f(z,U,V){var te=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(te[0].c=z.read_shift(1),te[3]=z.read_shift(1),te[0].r=z.read_shift(2),z.l+=2):(te[2]=z.read_shift(1),te[0].c=z.read_shift(2),te[0].r=z.read_shift(2)),te}function p(z,U,V){var te=z.l+U,se=f(z,U,V);if(se[1].t="s",V.vers==20768){z.l++;var Z=z.read_shift(1);return se[1].v=z.read_shift(Z,"utf8"),se}return V.qpro&&z.l++,se[1].v=z.read_shift(te-z.l,"cstr"),se}function x(z,U,V){var te=Ue(7+V.length);te.write_shift(1,255),te.write_shift(2,U),te.write_shift(2,z),te.write_shift(1,39);for(var se=0;se<te.length;++se){var Z=V.charCodeAt(se);te.write_shift(1,Z>=128?95:Z)}return te.write_shift(1,0),te}function g(z,U,V){var te=f(z,U,V);return te[1].v=z.read_shift(2,"i"),te}function v(z,U,V){var te=Ue(7);return te.write_shift(1,255),te.write_shift(2,U),te.write_shift(2,z),te.write_shift(2,V,"i"),te}function j(z,U,V){var te=f(z,U,V);return te[1].v=z.read_shift(8,"f"),te}function b(z,U,V){var te=Ue(13);return te.write_shift(1,255),te.write_shift(2,U),te.write_shift(2,z),te.write_shift(8,V,"f"),te}function y(z,U,V){var te=z.l+U,se=f(z,U,V);if(se[1].v=z.read_shift(8,"f"),V.qpro)z.l=te;else{var Z=z.read_shift(2);S(z.slice(z.l,z.l+Z),se),z.l+=Z}return se}function C(z,U,V){var te=U&32768;return U&=-32769,U=(te?z:0)+(U>=8192?U-16384:U),(te?"":"$")+(V?jn(U):un(U))}var A={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(z,U){aa(z,0);for(var V=[],te=0,se="",Z="",K="",Y="";z.l<z.length;){var ce=z[z.l++];switch(ce){case 0:V.push(z.read_shift(8,"f"));break;case 1:Z=C(U[0].c,z.read_shift(2),!0),se=C(U[0].r,z.read_shift(2),!1),V.push(Z+se);break;case 2:{var xe=C(U[0].c,z.read_shift(2),!0),pe=C(U[0].r,z.read_shift(2),!1);Z=C(U[0].c,z.read_shift(2),!0),se=C(U[0].r,z.read_shift(2),!1),V.push(xe+pe+":"+Z+se)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(z.read_shift(2));break;case 6:{for(var Ce="";ce=z[z.l++];)Ce+=String.fromCharCode(ce);V.push('"'+Ce.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:Y=V.pop(),K=V.pop(),V.push(["AND","OR"][ce-20]+"("+K+","+Y+")");break;default:if(ce<32&&E[ce])Y=V.pop(),K=V.pop(),V.push(K+E[ce]+Y);else if(A[ce]){if(te=A[ce][1],te==69&&(te=z[z.l++]),te>V.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+V.join("|")+"|");return}var ve=V.slice(-te);V.length-=te,V.push(A[ce][0]+"("+ve.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}V.length==1?U[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function T(z){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=z.read_shift(2),U[3]=z[z.l++],U[0].c=z[z.l++],U}function _(z,U){var V=T(z);return V[1].t="s",V[1].v=z.read_shift(U-4,"cstr"),V}function P(z,U,V,te){var se=Ue(6+te.length);se.write_shift(2,z),se.write_shift(1,V),se.write_shift(1,U),se.write_shift(1,39);for(var Z=0;Z<te.length;++Z){var K=te.charCodeAt(Z);se.write_shift(1,K>=128?95:K)}return se.write_shift(1,0),se}function L(z,U){var V=T(z);V[1].v=z.read_shift(2);var te=V[1].v>>1;if(V[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return V[1].v=te,V}function D(z,U){var V=T(z),te=z.read_shift(4),se=z.read_shift(4),Z=z.read_shift(2);if(Z==65535)return te===0&&se===3221225472?(V[1].t="e",V[1].v=15):te===0&&se===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var K=Z&32768;return Z=(Z&32767)-16446,V[1].v=(1-K*2)*(se*Math.pow(2,Z+32)+te*Math.pow(2,Z)),V}function B(z,U,V,te){var se=Ue(14);if(se.write_shift(2,z),se.write_shift(1,V),se.write_shift(1,U),te==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var Z=0,K=0,Y=0,ce=0;return te<0&&(Z=1,te=-te),K=Math.log2(te)|0,te/=Math.pow(2,K-31),ce=te>>>0,(ce&2147483648)==0&&(te/=2,++K,ce=te>>>0),te-=ce,ce|=2147483648,ce>>>=0,te*=Math.pow(2,32),Y=te>>>0,se.write_shift(4,Y),se.write_shift(4,ce),K+=16383+(Z?32768:0),se.write_shift(2,K),se}function M(z,U){var V=D(z);return z.l+=U-14,V}function k(z,U){var V=T(z),te=z.read_shift(4);return V[1].v=te>>6,V}function W(z,U){var V=T(z),te=z.read_shift(8,"f");return V[1].v=te,V}function F(z,U){var V=W(z);return z.l+=U-10,V}function I(z,U){return z[z.l+U-1]==0?z.read_shift(U,"cstr"):""}function R(z,U){var V=z[z.l++];V>U-1&&(V=U-1);for(var te="";te.length<V;)te+=String.fromCharCode(z[z.l++]);return te}function X(z,U,V){if(!(!V.qpro||U<21)){var te=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var se=z.read_shift(U-21,"cstr");return[te,se]}}function ne(z,U){for(var V={},te=z.l+U;z.l<te;){var se=z.read_shift(2);if(se==14e3){for(V[se]=[0,""],V[se][0]=z.read_shift(2);z[z.l];)V[se][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return V}function ge(z,U){var V=Ue(5+z.length);V.write_shift(2,14e3),V.write_shift(2,U);for(var te=0;te<z.length;++te){var se=z.charCodeAt(te);V[V.l++]=se>127?95:se}return V[V.l++]=0,V}var q={0:{n:"BOF",f:p5},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:d},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:j},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:I},222:{n:"SHEETNAMELP",f:R},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:F},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:I},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:X},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:i,to_workbook:t}}(),toe=/^\s|\s$|[\t\n\r]/;function b5(e,t){if(!t.bookSST)return"";var r=[Rr];r[r.length]=et("sst",null,{xmlns:Xc[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var i=e[a],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(toe)&&(s+=' xml:space="preserve"'),s+=">"+Xt(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function roe(e){return[e.read_shift(4),e.read_shift(4)]}function noe(e,t){return t||(t=Ue(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var aoe=Yie;function ioe(e){var t=zn();Ye(t,159,noe(e));for(var r=0;r<e.length;++r)Ye(t,19,aoe(e[r]));return Ye(t,160),t.end()}function soe(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function j5(e){var t=0,r,a=soe(e),i=a.length+1,s,l,d,u,f;for(r=qo(i),r[0]=a.length,s=1;s!=i;++s)r[s]=a[s-1];for(s=i-1;s>=0;--s)l=r[s],d=(t&16384)===0?0:1,u=t<<1&32767,f=d|u,t=f^l;return t^52811}var ooe=function(){function e(i,s){switch(s.type){case"base64":return t(rs(i),s);case"binary":return t(i,s);case"buffer":return t(Ut&&Buffer.isBuffer(i)?i.toString("binary"):Ff(i),s);case"array":return t(D0(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var l=s||{},d=l.dense?[]:{},u=i.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(p,x){Array.isArray(d)&&(d[x]=[]);for(var g=/\\\w+\b/g,v=0,j,b=-1;j=g.exec(p);){switch(j[0]){case"\\cell":var y=p.slice(v,g.lastIndex-j[0].length);if(y[0]==" "&&(y=y.slice(1)),++b,y.length){var C={v:y,t:"s"};Array.isArray(d)?d[x][b]=C:d[Kt({r:x,c:b})]=C}break}v=g.lastIndex}b>f.e.c&&(f.e.c=b)}),d["!ref"]=Pr(f),d}function r(i,s){return Zo(e(i,s),s)}function a(i){for(var s=["{\\rtf1\\ansi"],l=hr(i["!ref"]),d,u=Array.isArray(i),f=l.s.r;f<=l.e.r;++f){s.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)s.push("\\cellx"+(p+1));for(s.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var x=Kt({r:f,c:p});d=u?(i[f]||[])[p]:i[x],!(!d||d.v==null&&(!d.f||d.F))&&(s.push(" "+(d.w||(ns(d),d.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}}();function pI(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var loe=6,Xi=loe;function zm(e){return Math.floor((e+Math.round(128/Xi)/256)*Xi)}function $m(e){return Math.floor((e-5)/Xi*100+.5)/100}function W2(e){return Math.round((e*Xi+5)/Xi*256)/256}function CS(e){e.width?(e.wpx=zm(e.width),e.wch=$m(e.wpx),e.MDW=Xi):e.wpx?(e.wch=$m(e.wpx),e.width=W2(e.wch),e.MDW=Xi):typeof e.wch=="number"&&(e.width=W2(e.wch),e.wpx=zm(e.width),e.MDW=Xi),e.customWidth&&delete e.customWidth}var coe=96,w5=coe;function Um(e){return e*96/w5}function S5(e){return e*w5/96}function doe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=et("numFmt",null,{numFmtId:a,formatCode:Xt(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=et("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function uoe(e){var t=[];return t[t.length]=et("cellXfs",null),e.forEach(function(r){t[t.length]=et("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=et("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function N5(e,t){var r=[Rr,et("styleSheet",null,{xmlns:Xc[0],"xmlns:vt":Yr.vt})],a;return e.SSF&&(a=doe(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=uoe(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function foe(e,t){var r=e.read_shift(2),a=wn(e);return[r,a]}function hoe(e,t,r){r||(r=Ue(6+4*t.length)),r.write_shift(2,e),Qr(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function poe(e,t,r){var a={};a.sz=e.read_shift(2)/20;var i=tse(e);i.fItalic&&(a.italic=1),i.fCondense&&(a.condense=1),i.fExtend&&(a.extend=1),i.fShadow&&(a.shadow=1),i.fOutline&&(a.outline=1),i.fStrikeout&&(a.strike=1);var s=e.read_shift(2);switch(s===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(a.underline=l);var d=e.read_shift(1);d>0&&(a.family=d);var u=e.read_shift(1);switch(u>0&&(a.charset=u),e.l++,a.color=ese(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=wn(e),a}function moe(e,t){t||(t=Ue(25+4*32)),t.write_shift(2,e.sz*20),rse(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Bm(e.color,t);var a=0;return a=2,t.write_shift(1,a),Qr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var xoe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ij,goe=gi;function mI(e,t){t||(t=Ue(4*3+8*7+16*1)),ij||(ij=pS(xoe));var r=ij[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(Bm({auto:1},t),Bm({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function yoe(e,t){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:i}}function T5(e,t,r){r||(r=Ue(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function lu(e,t){return t||(t=Ue(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var voe=gi;function boe(e,t){return t||(t=Ue(51)),t.write_shift(1,0),lu(null,t),lu(null,t),lu(null,t),lu(null,t),lu(null,t),t.length>t.l?t.slice(0,t.l):t}function joe(e,t){return t||(t=Ue(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Fm(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function woe(e,t,r){var a=Ue(2052);return a.write_shift(4,e),Fm(t,a),Fm(r,a),a.length>a.l?a.slice(0,a.l):a}function Soe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)t[i]!=null&&++r}),r!=0&&(Ye(e,615,Xa(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)t[i]!=null&&Ye(e,44,hoe(i,t[i]))}),Ye(e,616))}}function Noe(e){var t=1;Ye(e,611,Xa(t)),Ye(e,43,moe({sz:12,color:{theme:1},name:"Calibri",family:2})),Ye(e,612)}function Toe(e){var t=2;Ye(e,603,Xa(t)),Ye(e,45,mI({patternType:"none"})),Ye(e,45,mI({patternType:"gray125"})),Ye(e,604)}function Coe(e){var t=1;Ye(e,613,Xa(t)),Ye(e,46,boe()),Ye(e,614)}function Aoe(e){var t=1;Ye(e,626,Xa(t)),Ye(e,47,T5({numFmtId:0},65535)),Ye(e,627)}function _oe(e,t){Ye(e,617,Xa(t.length)),t.forEach(function(r){Ye(e,47,T5(r,0))}),Ye(e,618)}function Eoe(e){var t=1;Ye(e,619,Xa(t)),Ye(e,48,joe({xfId:0,name:"Normal"})),Ye(e,620)}function Ooe(e){var t=0;Ye(e,505,Xa(t)),Ye(e,506)}function koe(e){var t=0;Ye(e,508,woe(t,"TableStyleMedium9","PivotStyleMedium4")),Ye(e,509)}function Ioe(e,t){var r=zn();return Ye(r,278),Soe(r,e.SSF),Noe(r),Toe(r),Coe(r),Aoe(r),_oe(r,t.cellXfs),Eoe(r),Ooe(r),koe(r),Ye(r,279),r.end()}function C5(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Rr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Poe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:wn(e)}}function Roe(e){var t=Ue(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Qr(e.name,t),t.slice(0,t.l)}function Doe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Moe(e){var t=Ue(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Foe(e,t){var r=Ue(8+2*t.length);return r.write_shift(4,e),Qr(t,r),r.slice(0,r.l)}function Boe(e){return e.l+=4,e.read_shift(4)!=0}function Loe(e,t){var r=Ue(8);return r.write_shift(4,e),r.write_shift(4,1),r}function zoe(){var e=zn();return Ye(e,332),Ye(e,334,Xa(1)),Ye(e,335,Roe({name:"XLDAPR",version:12e4,flags:3496657072})),Ye(e,336),Ye(e,339,Foe(1,"XLDAPR")),Ye(e,52),Ye(e,35,Xa(514)),Ye(e,4096,Xa(0)),Ye(e,4097,Na(1)),Ye(e,36),Ye(e,53),Ye(e,340),Ye(e,337,Loe(1)),Ye(e,51,Moe([[1,0]])),Ye(e,338),Ye(e,333),e.end()}function A5(){var e=[Rr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function $oe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Kt(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}var Ql=1024;function _5(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[et("xml",null,{"xmlns:v":ia.v,"xmlns:o":ia.o,"xmlns:x":ia.x,"xmlns:mv":ia.mv}).replace(/\/>/,">"),et("o:shapelayout",et("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),et("v:shapetype",[et("v:stroke",null,{joinstyle:"miter"}),et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];Ql<e*1e3;)Ql+=1e3;return t.forEach(function(s){var l=Kr(s[0]),d={color2:"#BEFF82",type:"gradient"};d.type=="gradient"&&(d.angle="-180");var u=d.type=="gradient"?et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=et("v:fill",u,d),p={on:"t",obscured:"t"};++Ql,i=i.concat(["<v:shape"+gf({id:"_x0000_s"+Ql,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,et("v:shadow",null,p),et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",cn("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),cn("x:AutoFill","False"),cn("x:Row",String(l.r)),cn("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function E5(e){var t=[Rr,et("comments",null,{xmlns:Xc[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(i){var s=Xt(i.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var i=0,s=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?i=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(u){u.a&&(i=r.indexOf(Xt(u.a))),s.push(u.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+i+'"><text>'),s.length<=1)t.push(cn("t",Xt(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,d=1;d<s.length;++d)l+=`Reply:
    `+s[d]+`
`;t.push(cn("t",Xt(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Uoe(e,t,r){var a=[Rr,et("ThreadedComments",null,{xmlns:Yr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var s="";(i[1]||[]).forEach(function(l,d){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var u={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};d==0?s=u.id:u.parentId=s,l.ID=u.id,l.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),a.push(et("threadedComment",cn("text",l.t||""),u))})}),a.push("</ThreadedComments>"),a.join("")}function qoe(e){var t=[Rr,et("personList",null,{xmlns:Yr.TCMNT,"xmlns:x":Xc[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(et("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Hoe(e){var t={};t.iauthor=e.read_shift(4);var r=rl(e);return t.rfx=r.s,t.ref=Kt(r.s),e.l+=16,t}function Woe(e,t){return t==null&&(t=Ue(36)),t.write_shift(4,e[1].iauthor),Qc(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Goe=wn;function Voe(e){return Qr(e.slice(0,54))}function Yoe(e){var t=zn(),r=[];return Ye(t,628),Ye(t,630),e.forEach(function(a){a[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Ye(t,632,Voe(i.a)))})}),Ye(t,631),Ye(t,633),e.forEach(function(a){a[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:Kr(a[0]),e:Kr(a[0])};Ye(t,635,Woe([s,i])),i.t&&i.t.length>0&&Ye(t,637,Kie(i)),Ye(t,636),delete i.iauthor})}),Ye(t,634),Ye(t,629),t.end()}function Xoe(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&ar.utils.cfb_add(e,i,t.FileIndex[a].content)}})}var O5=["xlsb","xlsm","xlam","biff8","xla"],Koe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,i,s,l){var d=!1,u=!1;s.length==0?u=!0:s.charAt(0)=="["&&(u=!0,s=s.slice(1,-1)),l.length==0?d=!0:l.charAt(0)=="["&&(d=!0,l=l.slice(1,-1));var f=s.length>0?parseInt(s,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return d?p+=t.c:--p,u?f+=t.r:--f,i+(d?"":"$")+jn(p)+(u?"":"$")+un(f)}return function(i,s){return t=s,i.replace(e,r)}}(),AS=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,_S=function(){return function(t,r){return t.replace(AS,function(a,i,s,l,d,u){var f=jS(l)-(s?0:r.c),p=bS(u)-(d?0:r.r),x=p==0?"":d?p+1:"["+p+"]",g=f==0?"":s?f+1:"["+f+"]";return i+"R"+x+"C"+g})}}();function Qoe(e,t){return e.replace(AS,function(r,a,i,s,l,d){return a+(i=="$"?i+s:jn(jS(s)+t.c))+(l=="$"?l+d:un(bS(d)+t.r))})}function Zoe(e){return e.length!=1}function Or(e){e.l+=1}function Gs(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function k5(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return I5(e);r.biff==12&&(a=4)}var i=e.read_shift(a),s=e.read_shift(a),l=Gs(e),d=Gs(e);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:d[0],cRel:d[1],rRel:d[2]}}}function I5(e){var t=Gs(e),r=Gs(e),a=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Joe(e,t,r){if(r.biff<8)return I5(e);var a=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),s=Gs(e),l=Gs(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function P5(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return ele(e);var a=e.read_shift(r&&r.biff==12?4:2),i=Gs(e);return{r:a,c:i[0],cRel:i[1],rRel:i[2]}}function ele(e){var t=Gs(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function tle(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function rle(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return nle(e);var i=e.read_shift(a>=12?4:2),s=e.read_shift(2),l=(s&16384)>>14,d=(s&32768)>>15;if(s&=16383,d==1)for(;i>524287;)i-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:l,rRel:d}}function nle(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:a}}function ale(e,t,r){var a=(e[e.l++]&96)>>5,i=k5(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,i]}function ile(e,t,r){var a=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var l=k5(e,s,r);return[a,i,l]}function sle(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function ole(e,t,r){var a=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[a,i]}function lle(e,t,r){var a=(e[e.l++]&96)>>5,i=Joe(e,t-1,r);return[a,i]}function cle(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function xI(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function dle(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=a;++s)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function ule(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function fle(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function hle(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function ple(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function R5(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function mle(e){return e.read_shift(2),R5(e)}function xle(e){return e.read_shift(2),R5(e)}function gle(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var i=P5(e,0,r);return[a,i]}function yle(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var i=rle(e,0,r);return[a,i]}function vle(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=P5(e,0,r);return[a,i,s]}function ble(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[bce[i],F5[i],a]}function jle(e,t,r){var a=e[e.l++],i=e.read_shift(1),s=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:wle(e);return[i,(s[0]===0?F5:vce)[s[1]]]}function wle(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Sle(e,t,r){e.l+=r&&r.biff==2?3:4}function Nle(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[a,i]}function Tle(e){return e.l++,zf[e.read_shift(1)]}function Cle(e){return e.l++,e.read_shift(2)}function Ale(e){return e.l++,e.read_shift(1)!==0}function _le(e){return e.l++,Zc(e)}function Ele(e,t,r){return e.l++,x5(e,t-1,r)}function Ole(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=vse(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=zf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Zc(e);break;case 2:r[1]=Sse(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function kle(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),i=[],s=0;s!=a;++s)i.push((r.biff==12?rl:Cse)(e));return i}function Ile(e,t,r){var a=0,i=0;r.biff==12?(a=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--i==0&&(i=256));for(var s=0,l=[];s!=a&&(l[s]=[]);++s)for(var d=0;d!=i;++d)l[s][d]=Ole(e,r.biff);return l}function Ple(e,t,r){var a=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,s]}function Rle(e,t,r){if(r.biff==5)return Dle(e);var a=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[a,i,s]}function Dle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function Mle(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[a,i]}function Fle(e,t,r){var a=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[a,i]}function Ble(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function Lle(e,t,r){var a=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[a,i]}var zle=gi,$le=gi,Ule=gi;function $f(e,t,r){return e.l+=2,[tle(e)]}function ES(e){return e.l+=6,[]}var qle=$f,Hle=ES,Wle=ES,Gle=$f;function D5(e){return e.l+=2,[p5(e),e.read_shift(2)&1]}var Vle=$f,Yle=D5,Xle=ES,Kle=$f,Qle=$f,Zle=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Jle(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),l=Zle[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:a,c:i,C:s}}function ece(e){return e.l+=2,[e.read_shift(4)]}function tce(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function rce(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function nce(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ace(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ice(e){return e.l+=4,[0,0]}var gI={1:{n:"PtgExp",f:Nle},2:{n:"PtgTbl",f:Ule},3:{n:"PtgAdd",f:Or},4:{n:"PtgSub",f:Or},5:{n:"PtgMul",f:Or},6:{n:"PtgDiv",f:Or},7:{n:"PtgPower",f:Or},8:{n:"PtgConcat",f:Or},9:{n:"PtgLt",f:Or},10:{n:"PtgLe",f:Or},11:{n:"PtgEq",f:Or},12:{n:"PtgGe",f:Or},13:{n:"PtgGt",f:Or},14:{n:"PtgNe",f:Or},15:{n:"PtgIsect",f:Or},16:{n:"PtgUnion",f:Or},17:{n:"PtgRange",f:Or},18:{n:"PtgUplus",f:Or},19:{n:"PtgUminus",f:Or},20:{n:"PtgPercent",f:Or},21:{n:"PtgParen",f:Or},22:{n:"PtgMissArg",f:Or},23:{n:"PtgStr",f:Ele},26:{n:"PtgSheet",f:tce},27:{n:"PtgEndSheet",f:rce},28:{n:"PtgErr",f:Tle},29:{n:"PtgBool",f:Ale},30:{n:"PtgInt",f:Cle},31:{n:"PtgNum",f:_le},32:{n:"PtgArray",f:cle},33:{n:"PtgFunc",f:ble},34:{n:"PtgFuncVar",f:jle},35:{n:"PtgName",f:Ple},36:{n:"PtgRef",f:gle},37:{n:"PtgArea",f:ale},38:{n:"PtgMemArea",f:Mle},39:{n:"PtgMemErr",f:zle},40:{n:"PtgMemNoMem",f:$le},41:{n:"PtgMemFunc",f:Fle},42:{n:"PtgRefErr",f:Ble},43:{n:"PtgAreaErr",f:sle},44:{n:"PtgRefN",f:yle},45:{n:"PtgAreaN",f:lle},46:{n:"PtgMemAreaN",f:nce},47:{n:"PtgMemNoMemN",f:ace},57:{n:"PtgNameX",f:Rle},58:{n:"PtgRef3d",f:vle},59:{n:"PtgArea3d",f:ile},60:{n:"PtgRefErr3d",f:Lle},61:{n:"PtgAreaErr3d",f:ole},255:{}},sce={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},oce={1:{n:"PtgElfLel",f:D5},2:{n:"PtgElfRw",f:Kle},3:{n:"PtgElfCol",f:qle},6:{n:"PtgElfRwV",f:Qle},7:{n:"PtgElfColV",f:Gle},10:{n:"PtgElfRadical",f:Vle},11:{n:"PtgElfRadicalS",f:Xle},13:{n:"PtgElfColS",f:Hle},15:{n:"PtgElfColSV",f:Wle},16:{n:"PtgElfRadicalLel",f:Yle},25:{n:"PtgList",f:Jle},29:{n:"PtgSxName",f:ece},255:{}},lce={0:{n:"PtgAttrNoop",f:ice},1:{n:"PtgAttrSemi",f:ple},2:{n:"PtgAttrIf",f:fle},4:{n:"PtgAttrChoose",f:dle},8:{n:"PtgAttrGoto",f:ule},16:{n:"PtgAttrSum",f:Sle},32:{n:"PtgAttrBaxcel",f:xI},33:{n:"PtgAttrBaxcel",f:xI},64:{n:"PtgAttrSpace",f:mle},65:{n:"PtgAttrSpaceSemi",f:xle},128:{n:"PtgAttrIfError",f:hle},255:{}};function cce(e,t,r,a){if(a.biff<8)return gi(e,t);for(var i=e.l+t,s=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=Ile(e,0,a),s.push(r[l][1]);break;case"PtgMemArea":r[l][2]=kle(e,r[l][1],a),s.push(r[l][2]);break;case"PtgExp":a&&a.biff==12&&(r[l][1][1]=e.read_shift(4),s.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=i-e.l,t!==0&&s.push(gi(e,t)),s}function dce(e,t,r){for(var a=e.l+t,i,s,l=[];a!=e.l;)t=a-e.l,s=e[e.l],i=gI[s]||gI[sce[s]],(s===24||s===25)&&(i=(s===24?oce:lce)[e[e.l+1]]),!i||!i.f?gi(e,t):l.push([i.n,i.f(e,t,r)]);return l}function uce(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],i=[],s=0;s<a.length;++s){var l=a[s];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var fce={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function hce(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function M5(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[a[0]][0]){case 357:return i=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?i:i+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return i=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?i:i+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[a[0]][0][3]?(i=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?i:i+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function yI(e,t,r){var a=M5(e,t,r);return a=="#REF"?a:hce(a,r)}function Pc(e,t,r,a,i){var s=i&&i.biff||8,l={s:{c:0,r:0}},d=[],u,f,p,x=0,g=0,v,j="";if(!e[0]||!e[0][0])return"";for(var b=-1,y="",C=0,A=e[0].length;C<A;++C){var E=e[0][C];switch(E[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=d.pop(),f=d.pop(),b>=0){switch(e[0][b][1][0]){case 0:y=Sr(" ",e[0][b][1][1]);break;case 1:y=Sr("\r",e[0][b][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}f=f+y,b=-1}d.push(f+fce[E[0]]+u);break;case"PtgIsect":u=d.pop(),f=d.pop(),d.push(f+" "+u);break;case"PtgUnion":u=d.pop(),f=d.pop(),d.push(f+","+u);break;case"PtgRange":u=d.pop(),f=d.pop(),d.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Su(E[1][1],l,i),d.push(Nu(p,s));break;case"PtgRefN":p=r?Su(E[1][1],r,i):E[1][1],d.push(Nu(p,s));break;case"PtgRef3d":x=E[1][1],p=Su(E[1][2],l,i),j=yI(a,x,i),d.push(j+"!"+Nu(p,s));break;case"PtgFunc":case"PtgFuncVar":var S=E[1][0],T=E[1][1];S||(S=0),S&=127;var _=S==0?[]:d.slice(-S);d.length-=S,T==="User"&&(T=_.shift()),d.push(T+"("+_.join(",")+")");break;case"PtgBool":d.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(E[1]);break;case"PtgNum":d.push(String(E[1]));break;case"PtgStr":d.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(E[1]);break;case"PtgAreaN":v=rI(E[1][1],r?{s:r}:l,i),d.push(nj(v,i));break;case"PtgArea":v=rI(E[1][1],l,i),d.push(nj(v,i));break;case"PtgArea3d":x=E[1][1],v=E[1][2],j=yI(a,x,i),d.push(j+"!"+nj(v,i));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=E[1][2];var P=(a.names||[])[g-1]||(a[0]||[])[g],L=P?P.Name:"SH33TJSNAME"+String(g);L&&L.slice(0,6)=="_xlfn."&&!i.xlfn&&(L=L.slice(6)),d.push(L);break;case"PtgNameX":var D=E[1][1];g=E[1][2];var B;if(i.biff<=5)D<0&&(D=-D),a[D]&&(B=a[D][g]);else{var M="";if(((a[D]||[])[0]||[])[0]==14849||(((a[D]||[])[0]||[])[0]==1025?a[D][g]&&a[D][g].itab>0&&(M=a.SheetNames[a[D][g].itab-1]+"!"):M=a.SheetNames[g-1]+"!"),a[D]&&a[D][g])M+=a[D][g].Name;else if(a[0]&&a[0][g])M+=a[0][g].Name;else{var k=(M5(a,D,i)||"").split(";;");k[g-1]?M=k[g-1]:M+="SH33TJSERRX"}d.push(M);break}B||(B={Name:"SH33TJSERRY"}),d.push(B.Name);break;case"PtgParen":var W="(",F=")";if(b>=0){switch(y="",e[0][b][1][0]){case 2:W=Sr(" ",e[0][b][1][1])+W;break;case 3:W=Sr("\r",e[0][b][1][1])+W;break;case 4:F=Sr(" ",e[0][b][1][1])+F;break;case 5:F=Sr("\r",e[0][b][1][1])+F;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}d.push(W+d.pop()+F);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":p={c:E[1][1],r:E[1][0]};var I={c:r.c,r:r.r};if(a.sharedf[Kt(p)]){var R=a.sharedf[Kt(p)];d.push(Pc(R,l,I,a,i))}else{var X=!1;for(u=0;u!=a.arrayf.length;++u)if(f=a.arrayf[u],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){d.push(Pc(f[1],l,I,a,i)),X=!0;break}X||d.push(E[1])}break;case"PtgArray":d.push("{"+uce(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&ne.indexOf(e[0][C][0])==-1){E=e[0][b];var ge=!0;switch(E[1][0]){case 4:ge=!1;case 0:y=Sr(" ",E[1][1]);break;case 5:ge=!1;case 1:y=Sr("\r",E[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}d.push((ge?y:"")+d.pop()+(ge?"":y)),b=-1}}if(d.length>1&&i.WTF)throw new Error("bad formula stack");return d[0]}function pce(e){if(e==null){var t=Ue(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Ho(e);return Ho(0)}function mce(e,t,r,a,i){var s=Wo(t,r,i),l=pce(e.v),d=Ue(6),u=33;d.write_shift(2,u),d.write_shift(4,0);for(var f=Ue(e.bf.length),p=0;p<e.bf.length;++p)f[p]=e.bf[p];var x=ln([s,l,d,f]);return x}function M0(e,t,r){var a=e.read_shift(4),i=dce(e,a,r),s=e.read_shift(4),l=s>0?cce(e,s,i,r):null;return[i,l]}var xce=M0,F0=M0,gce=M0,yce=M0,vce={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},F5={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},bce={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function jce(e){var t="of:="+e.replace(AS,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function wce(e){return e.replace(/\./,"!")}var Tu=typeof Map<"u";function OS(e,t,r){var a=0,i=e.length;if(r){if(Tu?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Tu?r.get(t):r[t];a<s.length;++a)if(e[s[a]].t===t)return e.Count++,s[a]}}else for(;a<i;++a)if(e[a].t===t)return e.Count++,a;return e[i]={t},e.Count++,e.Unique++,r&&(Tu?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function B0(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(Xi=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=$m(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=W2(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function B5(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Js(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],i=60,s=e.length;if(a==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){P8(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=a=i;break}}for(i=0;i!=s;++i)if(e[i].numFmtId===a)return i;return e[s]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Sce(e,t,r){if(e&&e["!ref"]){var a=hr(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Nce(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Pr(e[r])+'"/>';return t+"</mergeCells>"}function Tce(e,t,r,a,i){var s=!1,l={},d=null;if(a.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}s=!0,l.codeName=xf(Xt(u))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),d=(d||"")+et("outlinePr",null,f)}!s&&!d||(i[i.length]=et("sheetPr",d,l))}var Cce=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Ace=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function _ce(e){var t={sheet:1};return Cce.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Ace.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=j5(e.password).toString(16).toUpperCase()),et("sheetProtection",null,t)}function Ece(e){return B5(e),et("pageMargins",null,e)}function Oce(e,t){for(var r=["<cols>"],a,i=0;i!=t.length;++i)(a=t[i])&&(r[r.length]=et("col",null,B0(i,a)));return r[r.length]="</cols>",r.join("")}function kce(e,t,r,a){var i=typeof e.ref=="string"?e.ref:Pr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=ca(i);l.s.r==l.e.r&&(l.e.r=ca(t["!ref"]).e.r,i=Pr(l));for(var d=0;d<s.length;++d){var u=s[d];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+r.SheetNames[a]+"'!"+i;break}}return d==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),et("autoFilter",null,{ref:i})}function Ice(e,t,r,a){var i={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),et("sheetViews",et("sheetView",null,i),{})}function Pce(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",s=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=zf[e.v];break;case"d":a&&a.cellDates?i=En(e.v,-1).toISOString():(e=Hn(e),e.t="n",i=""+(e.v=qn(En(e.v)))),typeof e.z>"u"&&(e.z=Nr[14]);break;default:i=e.v;break}var d=cn("v",Xt(i)),u={r:t},f=Js(a.cellXfs,e,a);switch(f!==0&&(u.s=f),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){d=cn("v",""+OS(a.Strings,e.v,a.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=s&&(e.t=s,e.v=l),typeof e.f=="string"&&e.f){var p=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;d=et("f",Xt(e.f),p)+(e.v!=null?d:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),et("c",d,u)}function Rce(e,t,r,a){var i=[],s=[],l=hr(e["!ref"]),d="",u,f="",p=[],x=0,g=0,v=e["!rows"],j=Array.isArray(e),b={r:f},y,C=-1;for(g=l.s.c;g<=l.e.c;++g)p[g]=jn(g);for(x=l.s.r;x<=l.e.r;++x){for(s=[],f=un(x),g=l.s.c;g<=l.e.c;++g){u=p[g]+f;var A=j?(e[x]||[])[g]:e[u];A!==void 0&&(d=Pce(A,u,e,t))!=null&&s.push(d)}(s.length>0||v&&v[x])&&(b={r:f},v&&v[x]&&(y=v[x],y.hidden&&(b.hidden=1),C=-1,y.hpx?C=Um(y.hpx):y.hpt&&(C=y.hpt),C>-1&&(b.ht=C,b.customHeight=1),y.level&&(b.outlineLevel=y.level)),i[i.length]=et("row",s.join(""),b))}if(v)for(;x<v.length;++x)v&&v[x]&&(b={r:x+1},y=v[x],y.hidden&&(b.hidden=1),C=-1,y.hpx?C=Um(y.hpx):y.hpt&&(C=y.hpt),C>-1&&(b.ht=C,b.customHeight=1),y.level&&(b.outlineLevel=y.level),i[i.length]=et("row","",b));return i.join("")}function L5(e,t,r,a){var i=[Rr,et("worksheet",null,{xmlns:Xc[0],"xmlns:r":Yr.r})],s=r.SheetNames[e],l=0,d="",u=r.Sheets[s];u==null&&(u={});var f=u["!ref"]||"A1",p=hr(f);if(p.e.c>16383||p.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),f=Pr(p)}a||(a={}),u["!comments"]=[];var x=[];Tce(u,r,e,t,i),i[i.length]=et("dimension",null,{ref:f}),i[i.length]=Ice(u,t,e,r),t.sheetFormat&&(i[i.length]=et("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(i[i.length]=Oce(u,u["!cols"])),i[l=i.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(d=Rce(u,t),d.length>0&&(i[i.length]=d)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),u["!protect"]&&(i[i.length]=_ce(u["!protect"])),u["!autofilter"]!=null&&(i[i.length]=kce(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(i[i.length]=Nce(u["!merges"]));var g=-1,v,j=-1;return u["!links"].length>0&&(i[i.length]="<hyperlinks>",u["!links"].forEach(function(b){b[1].Target&&(v={ref:b[0]},b[1].Target.charAt(0)!="#"&&(j=Yt(a,-1,Xt(b[1].Target).replace(/#.*$/,""),Bt.HLINK),v["r:id"]="rId"+j),(g=b[1].Target.indexOf("#"))>-1&&(v.location=Xt(b[1].Target.slice(g+1))),b[1].Tooltip&&(v.tooltip=Xt(b[1].Tooltip)),i[i.length]=et("hyperlink",null,v))}),i[i.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(i[i.length]=Ece(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=cn("ignoredErrors",et("ignoredError",null,{numberStoredAsText:1,sqref:f}))),x.length>0&&(j=Yt(a,-1,"../drawings/drawing"+(e+1)+".xml",Bt.DRAW),i[i.length]=et("drawing",null,{"r:id":"rId"+j}),u["!drawing"]=x),u["!comments"].length>0&&(j=Yt(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Bt.VML),i[i.length]=et("legacyDrawing",null,{"r:id":"rId"+j}),u["!legacy"]=j),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Dce(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=a,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function Mce(e,t,r){var a=Ue(145),i=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var s=320;i.hpx?s=Um(i.hpx)*20:i.hpt&&(s=i.hpt*20),a.write_shift(2,s),a.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var d=0,u=a.l;a.l+=4;for(var f={r:e,c:0},p=0;p<16;++p)if(!(t.s.c>p+1<<10||t.e.c<p<<10)){for(var x=-1,g=-1,v=p<<10;v<p+1<<10;++v){f.c=v;var j=Array.isArray(r)?(r[f.r]||[])[f.c]:r[Kt(f)];j&&(x<0&&(x=v),g=v)}x<0||(++d,a.write_shift(4,x),a.write_shift(4,g))}var b=a.l;return a.l=u,a.write_shift(4,d),a.l=b,a.length>a.l?a.slice(0,a.l):a}function Fce(e,t,r,a){var i=Mce(a,r,t);(i.length>17||(t["!rows"]||[])[a])&&Ye(e,0,i)}var Bce=rl,Lce=Qc;function zce(){}function $ce(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=Qie(e),r}function Uce(e,t,r){r==null&&(r=Ue(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var i=1;i<3;++i)r.write_shift(1,0);return Bm({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),e5(e,r),r.slice(0,r.l)}function qce(e){var t=Ia(e);return[t]}function Hce(e,t,r){return r==null&&(r=Ue(8)),Jo(t,r)}function Wce(e){var t=el(e);return[t]}function Gce(e,t,r){return r==null&&(r=Ue(4)),tl(t,r)}function Vce(e){var t=Ia(e),r=e.read_shift(1);return[t,r,"b"]}function Yce(e,t,r){return r==null&&(r=Ue(9)),Jo(t,r),r.write_shift(1,e.v?1:0),r}function Xce(e){var t=el(e),r=e.read_shift(1);return[t,r,"b"]}function Kce(e,t,r){return r==null&&(r=Ue(5)),tl(t,r),r.write_shift(1,e.v?1:0),r}function Qce(e){var t=Ia(e),r=e.read_shift(1);return[t,r,"e"]}function Zce(e,t,r){return r==null&&(r=Ue(9)),Jo(t,r),r.write_shift(1,e.v),r}function Jce(e){var t=el(e),r=e.read_shift(1);return[t,r,"e"]}function ede(e,t,r){return r==null&&(r=Ue(8)),tl(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function tde(e){var t=Ia(e),r=e.read_shift(4);return[t,r,"s"]}function rde(e,t,r){return r==null&&(r=Ue(12)),Jo(t,r),r.write_shift(4,t.v),r}function nde(e){var t=el(e),r=e.read_shift(4);return[t,r,"s"]}function ade(e,t,r){return r==null&&(r=Ue(8)),tl(t,r),r.write_shift(4,t.v),r}function ide(e){var t=Ia(e),r=Zc(e);return[t,r,"n"]}function sde(e,t,r){return r==null&&(r=Ue(16)),Jo(t,r),Ho(e.v,r),r}function ode(e){var t=el(e),r=Zc(e);return[t,r,"n"]}function lde(e,t,r){return r==null&&(r=Ue(12)),tl(t,r),Ho(e.v,r),r}function cde(e){var t=Ia(e),r=t5(e);return[t,r,"n"]}function dde(e,t,r){return r==null&&(r=Ue(12)),Jo(t,r),r5(e.v,r),r}function ude(e){var t=el(e),r=t5(e);return[t,r,"n"]}function fde(e,t,r){return r==null&&(r=Ue(8)),tl(t,r),r5(e.v,r),r}function hde(e){var t=Ia(e),r=wS(e);return[t,r,"is"]}function pde(e){var t=Ia(e),r=wn(e);return[t,r,"str"]}function mde(e,t,r){return r==null&&(r=Ue(12+4*e.v.length)),Jo(t,r),Qr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function xde(e){var t=el(e),r=wn(e);return[t,r,"str"]}function gde(e,t,r){return r==null&&(r=Ue(8+4*e.v.length)),tl(t,r),Qr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function yde(e,t,r){var a=e.l+t,i=Ia(e);i.r=r["!row"];var s=e.read_shift(1),l=[i,s,"b"];if(r.cellFormula){e.l+=2;var d=F0(e,a-e.l,r);l[3]=Pc(d,null,i,r.supbooks,r)}else e.l=a;return l}function vde(e,t,r){var a=e.l+t,i=Ia(e);i.r=r["!row"];var s=e.read_shift(1),l=[i,s,"e"];if(r.cellFormula){e.l+=2;var d=F0(e,a-e.l,r);l[3]=Pc(d,null,i,r.supbooks,r)}else e.l=a;return l}function bde(e,t,r){var a=e.l+t,i=Ia(e);i.r=r["!row"];var s=Zc(e),l=[i,s,"n"];if(r.cellFormula){e.l+=2;var d=F0(e,a-e.l,r);l[3]=Pc(d,null,i,r.supbooks,r)}else e.l=a;return l}function jde(e,t,r){var a=e.l+t,i=Ia(e);i.r=r["!row"];var s=wn(e),l=[i,s,"str"];if(r.cellFormula){e.l+=2;var d=F0(e,a-e.l,r);l[3]=Pc(d,null,i,r.supbooks,r)}else e.l=a;return l}var wde=rl,Sde=Qc;function Nde(e,t){return t==null&&(t=Ue(4)),t.write_shift(4,e),t}function Tde(e,t){var r=e.l+t,a=rl(e),i=SS(e),s=wn(e),l=wn(e),d=wn(e);e.l=r;var u={rfx:a,relId:i,loc:s,display:d};return l&&(u.Tooltip=l),u}function Cde(e,t){var r=Ue(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Qc({s:Kr(e[0]),e:Kr(e[0])},r),NS("rId"+t,r);var a=e[1].Target.indexOf("#"),i=a==-1?"":e[1].Target.slice(a+1);return Qr(i||"",r),Qr(e[1].Tooltip||"",r),Qr("",r),r.slice(0,r.l)}function Ade(){}function _de(e,t,r){var a=e.l+t,i=n5(e),s=e.read_shift(1),l=[i];if(l[2]=s,r.cellFormula){var d=xce(e,a-e.l,r);l[1]=d}else e.l=a;return l}function Ede(e,t,r){var a=e.l+t,i=rl(e),s=[i];if(r.cellFormula){var l=yce(e,a-e.l,r);s[1]=l,e.l=a}else e.l=a;return s}function Ode(e,t,r){r==null&&(r=Ue(18));var a=B0(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof a.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var z5=["left","right","top","bottom","header","footer"];function kde(e){var t={};return z5.forEach(function(r){t[r]=Zc(e)}),t}function Ide(e,t){return t==null&&(t=Ue(6*8)),B5(e),z5.forEach(function(r){Ho(e[r],t)}),t}function Pde(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Rde(e,t,r){r==null&&(r=Ue(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Dde(e){var t=Ue(24);return t.write_shift(4,4),t.write_shift(4,1),Qc(e,t),t}function Mde(e,t){return t==null&&(t=Ue(16*4+2)),t.write_shift(2,e.password?j5(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Fde(){}function Bde(){}function Lde(e,t,r,a,i,s,l){if(t.v===void 0)return!1;var d="";switch(t.t){case"b":d=t.v?"1":"0";break;case"d":t=Hn(t),t.z=t.z||Nr[14],t.v=qn(En(t.v)),t.t="n";break;case"n":case"e":d=""+t.v;break;default:d=t.v;break}var u={r,c:a};switch(u.s=Js(i.cellXfs,t,i),t.l&&s["!links"].push([Kt(u),t.l]),t.c&&s["!comments"].push([Kt(u),t.c]),t.t){case"s":case"str":return i.bookSST?(d=OS(i.Strings,t.v,i.revStrings),u.t="s",u.v=d,l?Ye(e,18,ade(t,u)):Ye(e,7,rde(t,u))):(u.t="str",l?Ye(e,17,gde(t,u)):Ye(e,6,mde(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?Ye(e,13,fde(t,u)):Ye(e,2,dde(t,u)):l?Ye(e,16,lde(t,u)):Ye(e,5,sde(t,u)),!0;case"b":return u.t="b",l?Ye(e,15,Kce(t,u)):Ye(e,4,Yce(t,u)),!0;case"e":return u.t="e",l?Ye(e,14,ede(t,u)):Ye(e,3,Zce(t,u)),!0}return l?Ye(e,12,Gce(t,u)):Ye(e,1,Hce(t,u)),!0}function zde(e,t,r,a){var i=hr(t["!ref"]||"A1"),s,l="",d=[];Ye(e,145);var u=Array.isArray(t),f=i.e.r;t["!rows"]&&(f=Math.max(i.e.r,t["!rows"].length-1));for(var p=i.s.r;p<=f;++p){l=un(p),Fce(e,t,i,p);var x=!1;if(p<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){p===i.s.r&&(d[g]=jn(g)),s=d[g]+l;var v=u?(t[p]||[])[g]:t[s];if(!v){x=!1;continue}x=Lde(e,v,p,g,a,t,x)}}Ye(e,146)}function $de(e,t){!t||!t["!merges"]||(Ye(e,177,Nde(t["!merges"].length)),t["!merges"].forEach(function(r){Ye(e,176,Sde(r))}),Ye(e,178))}function Ude(e,t){!t||!t["!cols"]||(Ye(e,390),t["!cols"].forEach(function(r,a){r&&Ye(e,60,Ode(a,r))}),Ye(e,391))}function qde(e,t){!t||!t["!ref"]||(Ye(e,648),Ye(e,649,Dde(hr(t["!ref"]))),Ye(e,650))}function Hde(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var i=Yt(r,-1,a[1].Target.replace(/#.*$/,""),Bt.HLINK);Ye(e,494,Cde(a,i))}}),delete t["!links"]}function Wde(e,t,r,a){if(t["!comments"].length>0){var i=Yt(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Bt.VML);Ye(e,551,NS("rId"+i)),t["!legacy"]=i}}function Gde(e,t,r,a){if(t["!autofilter"]){var i=t["!autofilter"],s=typeof i.ref=="string"?i.ref:Pr(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,d=ca(s);d.s.r==d.e.r&&(d.e.r=ca(t["!ref"]).e.r,s=Pr(d));for(var u=0;u<l.length;++u){var f=l[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==a){f.Ref="'"+r.SheetNames[a]+"'!"+s;break}}u==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),Ye(e,161,Qc(hr(s))),Ye(e,162)}}function Vde(e,t,r){Ye(e,133),Ye(e,137,Rde(t,r)),Ye(e,138),Ye(e,134)}function Yde(e,t){t["!protect"]&&Ye(e,535,Mde(t["!protect"]))}function Xde(e,t,r,a){var i=zn(),s=r.SheetNames[e],l=r.Sheets[s]||{},d=s;try{r&&r.Workbook&&(d=r.Workbook.Sheets[e].CodeName||d)}catch{}var u=hr(l["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ye(i,129),(r.vbaraw||l["!outline"])&&Ye(i,147,Uce(d,l["!outline"])),Ye(i,148,Lce(u)),Vde(i,l,r.Workbook),Ude(i,l),zde(i,l,e,t),Yde(i,l),Gde(i,l,r,e),$de(i,l),Hde(i,l,a),l["!margins"]&&Ye(i,476,Ide(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&qde(i,l),Wde(i,l,e,a),Ye(i,130),i.end()}function Kde(e,t){e.l+=10;var r=wn(e);return{name:r}}var Qde=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Zde(e){return!e.Workbook||!e.Workbook.WBProps?"false":Eie(e.Workbook.WBProps.date1904)?"true":"false"}var Jde="][*?/\\".split("");function $5(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Jde.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function eue(e,t,r){e.forEach(function(a,i){$5(a);for(var s=0;s<i;++s)if(a==e[s])throw new Error("Duplicate Sheet Name: "+a);if(r){var l=t&&t[i]&&t[i].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function tue(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];eue(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Sce(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function U5(e){var t=[Rr];t[t.length]=et("workbook",null,{xmlns:Xc[0],"xmlns:r":Yr.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Qde.forEach(function(d){e.Workbook.WBProps[d[0]]!=null&&e.Workbook.WBProps[d[0]]!=d[1]&&(a[d[0]]=e.Workbook.WBProps[d[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=et("workbookPr",null,a);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var l={name:Xt(e.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=et("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(d){var u={name:d.Name};d.Comment&&(u.comment=d.Comment),d.Sheet!=null&&(u.localSheetId=""+d.Sheet),d.Hidden&&(u.hidden="1"),d.Ref&&(t[t.length]=et("definedName",Xt(d.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function rue(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=H2(e),r.name=wn(e),r}function nue(e,t){return t||(t=Ue(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),NS(e.strRelID,t),Qr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function aue(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?wn(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function iue(e,t){t||(t=Ue(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),e5(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function sue(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=Zie(e),l=gce(e,0,r),d=SS(e);e.l=a;var u={Name:s,Ptg:l};return i<268435455&&(u.Sheet=i),d&&(u.Comment=d),u}function oue(e,t){Ye(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ye(e,156,nue(i))}Ye(e,144)}function lue(e,t){t||(t=Ue(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Qr("SheetJS",t),Qr(Om.version,t),Qr(Om.version,t),Qr("7262",t),t.length>t.l?t.slice(0,t.l):t}function cue(e,t){t||(t=Ue(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function due(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,i=-1,s=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&i==-1?i=a:r[a].Hidden==1&&s==-1&&(s=a);s>i||(Ye(e,135),Ye(e,158,cue(i)),Ye(e,136))}}function uue(e,t){var r=zn();return Ye(r,131),Ye(r,128,lue()),Ye(r,153,iue(e.Workbook&&e.Workbook.WBProps||null)),due(r,e),oue(r,e),Ye(r,132),r.end()}function fue(e,t,r){return(t.slice(-4)===".bin"?uue:U5)(e)}function hue(e,t,r,a,i){return(t.slice(-4)===".bin"?Xde:L5)(e,r,a,i)}function pue(e,t,r){return(t.slice(-4)===".bin"?Ioe:N5)(e,r)}function mue(e,t,r){return(t.slice(-4)===".bin"?ioe:b5)(e,r)}function xue(e,t,r){return(t.slice(-4)===".bin"?Yoe:E5)(e)}function gue(e){return(e.slice(-4)===".bin"?zoe:A5)()}function yue(e,t){var r=[];return e.Props&&r.push(pse(e.Props,t)),e.Custprops&&r.push(mse(e.Props,e.Custprops)),r.join("")}function vue(){return""}function bue(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,i){var s=[];s.push(et("NumberFormat",null,{"ss:Format":Xt(Nr[a.numFmtId])}));var l={"ss:ID":"s"+(21+i)};r.push(et("Style",s.join(""),l))}),et("Styles",r.join(""))}function q5(e){return et("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+_S(e.Ref,{r:0,c:0})})}function jue(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var i=t[a];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(q5(i)))}return et("Names",r.join(""))}function wue(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var i=a.Workbook.Names,s=[],l=0;l<i.length;++l){var d=i[l];d.Sheet==r&&(d.Name.match(/^_xlfn\./)||s.push(q5(d)))}return s.join("")}function Sue(e,t,r,a){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(et("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(et("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(et("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)i.push(et("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(a.Workbook.Sheets[s]&&!a.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(cn("ProtectContents","True")),e["!protect"].objects&&i.push(cn("ProtectObjects","True")),e["!protect"].scenarios&&i.push(cn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(cn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(cn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":et("WorksheetOptions",i.join(""),{xmlns:ia.x})}function Nue(e){return e.map(function(t){var r=_ie(t.t||""),a=et("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return et("Comment",a,{"ss:Author":t.a})}).join("")}function Tue(e,t,r,a,i,s,l){if(!e||e.v==null&&e.f==null)return"";var d={};if(e.f&&(d["ss:Formula"]="="+Xt(_S(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var u=Kr(e.F.slice(t.length+1));d["ss:ArrayRange"]="RC:R"+(u.r==l.r?"":"["+(u.r-l.r)+"]")+"C"+(u.c==l.c?"":"["+(u.c-l.c)+"]")}if(e.l&&e.l.Target&&(d["ss:HRef"]=Xt(e.l.Target),e.l.Tooltip&&(d["x:HRefScreenTip"]=Xt(e.l.Tooltip))),r["!merges"])for(var f=r["!merges"],p=0;p!=f.length;++p)f[p].s.c!=l.c||f[p].s.r!=l.r||(f[p].e.c>f[p].s.c&&(d["ss:MergeAcross"]=f[p].e.c-f[p].s.c),f[p].e.r>f[p].s.r&&(d["ss:MergeDown"]=f[p].e.r-f[p].s.r));var x="",g="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":x="Number",g=String(e.v);break;case"b":x="Boolean",g=e.v?"1":"0";break;case"e":x="Error",g=zf[e.v];break;case"d":x="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Nr[14]);break;case"s":x="String",g=Aie(e.v||"");break}var v=Js(a.cellXfs,e,a);d["ss:StyleID"]="s"+(21+v),d["ss:Index"]=l.c+1;var j=e.v!=null?g:"",b=e.t=="z"?"":'<Data ss:Type="'+x+'">'+j+"</Data>";return(e.c||[]).length>0&&(b+=Nue(e.c)),et("Cell",b,d)}function Cue(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=S5(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Aue(e,t,r,a){if(!e["!ref"])return"";var i=hr(e["!ref"]),s=e["!merges"]||[],l=0,d=[];e["!cols"]&&e["!cols"].forEach(function(y,C){CS(y);var A=!!y.width,E=B0(C,y),S={"ss:Index":C+1};A&&(S["ss:Width"]=zm(E.width)),y.hidden&&(S["ss:Hidden"]="1"),d.push(et("Column",null,S))});for(var u=Array.isArray(e),f=i.s.r;f<=i.e.r;++f){for(var p=[Cue(f,(e["!rows"]||[])[f])],x=i.s.c;x<=i.e.c;++x){var g=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>x)&&!(s[l].s.r>f)&&!(s[l].e.c<x)&&!(s[l].e.r<f)){(s[l].s.c!=x||s[l].s.r!=f)&&(g=!0);break}if(!g){var v={r:f,c:x},j=Kt(v),b=u?(e[f]||[])[x]:e[j];p.push(Tue(b,j,e,t,r,a,v))}}p.push("</Row>"),p.length>2&&d.push(p.join(""))}return d.join("")}function _ue(e,t,r){var a=[],i=r.SheetNames[e],s=r.Sheets[i],l=s?wue(s,t,e,r):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=s?Aue(s,t,e,r):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(Sue(s,t,e,r)),a.join("")}function Eue(e,t){t||(t={}),e.SSF||(e.SSF=Hn(Nr)),e.SSF&&(P0(),I0(e.SSF),t.revssf=R0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Js(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(yue(e,t)),r.push(vue()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(et("Worksheet",_ue(a,t,e),{"ss:Name":Xt(e.SheetNames[a])}));return r[2]=bue(e,t),r[3]=jue(e),Rr+et("Workbook",r.join(""),{xmlns:ia.ss,"xmlns:o":ia.o,"xmlns:x":ia.x,"xmlns:ss":ia.ss,"xmlns:dt":ia.dt,"xmlns:html":ia.html})}var sj={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Oue(e,t){var r=[],a=[],i=[],s=0,l,d=Wk(aI,"n"),u=Wk(iI,"n");if(e.Props)for(l=hn(e.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(d,l[s])?r:Object.prototype.hasOwnProperty.call(u,l[s])?a:i).push([l[s],e.Props[l[s]]]);if(e.Custprops)for(l=hn(e.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(d,l[s])?r:Object.prototype.hasOwnProperty.call(u,l[s])?a:i).push([l[s],e.Custprops[l[s]]]);var f=[];for(s=0;s<i.length;++s)h5.indexOf(i[s][0])>-1||d5.indexOf(i[s][0])>-1||i[s][1]!=null&&f.push(i[s]);a.length&&ar.utils.cfb_add(t,"/SummaryInformation",dI(a,sj.SI,u,iI)),(r.length||f.length)&&ar.utils.cfb_add(t,"/DocumentSummaryInformation",dI(r,sj.DSI,d,aI,f.length?f:null,sj.UDI))}function kue(e,t){var r=t||{},a=ar.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return ar.utils.cfb_add(a,i,H5(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Oue(e,a),r.biff==8&&e.vbaraw&&Xoe(a,ar.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var Iue={0:{f:Dce},1:{f:qce},2:{f:cde},3:{f:Qce},4:{f:Vce},5:{f:ide},6:{f:pde},7:{f:tde},8:{f:jde},9:{f:bde},10:{f:yde},11:{f:vde},12:{f:Wce},13:{f:ude},14:{f:Jce},15:{f:Xce},16:{f:ode},17:{f:xde},18:{f:nde},19:{f:wS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:sue},40:{},42:{},43:{f:poe},44:{f:foe},45:{f:goe},46:{f:voe},47:{f:yoe},48:{},49:{f:Wie},50:{},51:{f:Doe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Gse},62:{f:hde},63:{f:$oe},64:{f:Fde},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:gi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Pde},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:$ce},148:{f:Bce,p:16},151:{f:Ade},152:{},153:{f:aue},154:{},155:{},156:{f:rue},157:{},158:{},159:{T:1,f:roe},160:{T:-1},161:{T:1,f:rl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:wde},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Poe},336:{T:-1},337:{f:Boe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:H2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:zse},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:_de},427:{f:Ede},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:kde},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:zce},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Tde},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:H2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Goe},633:{T:1},634:{T:-1},635:{T:1,f:Hoe},636:{T:-1},637:{f:Xie},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Kde},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Bde},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function tt(e,t,r,a){var i=t;if(!isNaN(i)){var s=a||(r||[]).length||0,l=e.next(4);l.write_shift(2,i),l.write_shift(2,s),s>0&&vS(r)&&e.push(r)}}function Pue(e,t,r,a){var i=(r||[]).length||0;if(i<=8224)return tt(e,t,r,i);var s=t;if(!isNaN(s)){for(var l=r.parts||[],d=0,u=0,f=0;f+(l[d]||8224)<=8224;)f+=l[d]||8224,d++;var p=e.next(4);for(p.write_shift(2,s),p.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f;u<i;){for(p=e.next(4),p.write_shift(2,60),f=0;f+(l[d]||8224)<=8224;)f+=l[d]||8224,d++;p.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f}}}function Uf(e,t,r){return e||(e=Ue(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Rue(e,t,r,a){var i=Ue(9);return Uf(i,e,t),m5(r,a||"b",i),i}function Due(e,t,r){var a=Ue(8+2*r.length);return Uf(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function Mue(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?qn(En(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?tt(e,2,Kse(r,a,i)):tt(e,3,Xse(r,a,i));return;case"b":case"e":tt(e,5,Rue(r,a,t.v,t.t));return;case"s":case"str":tt(e,4,Due(r,a,(t.v||"").slice(0,255)));return}tt(e,1,Uf(null,r,a))}function Fue(e,t,r,a){var i=Array.isArray(t),s=hr(t["!ref"]||"A1"),l,d="",u=[];if(s.e.c>255||s.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=Pr(s)}for(var f=s.s.r;f<=s.e.r;++f){d=un(f);for(var p=s.s.c;p<=s.e.c;++p){f===s.s.r&&(u[p]=jn(p)),l=u[p]+d;var x=i?(t[f]||[])[p]:t[l];x&&Mue(e,x,f,p)}}}function Bue(e,t){for(var r=t||{},a=zn(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return tt(a,r.biff==4?1033:r.biff==3?521:9,TS(e,16,r)),Fue(a,e.Sheets[e.SheetNames[i]],i,r),tt(a,10),a.end()}function Lue(e,t,r){tt(e,49,Ise({sz:12,name:"Arial"},r))}function zue(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)t[i]!=null&&tt(e,1054,Dse(i,t[i],r))})}function $ue(e,t){var r=Ue(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),tt(e,2151,r),r=Ue(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),y5(hr(t["!ref"]||"A1"),r),r.write_shift(4,4),tt(e,2152,r)}function Uue(e,t){for(var r=0;r<16;++r)tt(e,224,fI({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){tt(e,224,fI(a,0,t))})}function que(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];tt(e,440,qse(a)),a[1].Tooltip&&tt(e,2048,Hse(a))}delete t["!links"]}function Hue(e,t){if(t){var r=0;t.forEach(function(a,i){++r<=256&&a&&tt(e,125,Vse(B0(i,a),i))})}}function Wue(e,t,r,a,i){var s=16+Js(i.cellXfs,t,i);if(t.v==null&&!t.bf){tt(e,513,Wo(r,a,s));return}if(t.bf)tt(e,6,mce(t,r,a,i,s));else switch(t.t){case"d":case"n":var l=t.t=="d"?qn(En(t.v)):t.v;tt(e,515,Lse(r,a,l,s));break;case"b":case"e":tt(e,517,Bse(r,a,t.v,s,i,t.t));break;case"s":case"str":if(i.bookSST){var d=OS(i.Strings,t.v,i.revStrings);tt(e,253,Pse(r,a,d,s))}else tt(e,516,Rse(r,a,(t.v||"").slice(0,255),s,i));break;default:tt(e,513,Wo(r,a,s))}}function Gue(e,t,r){var a=zn(),i=r.SheetNames[e],s=r.Sheets[i]||{},l=(r||{}).Workbook||{},d=(l.Sheets||[])[e]||{},u=Array.isArray(s),f=t.biff==8,p,x="",g=[],v=hr(s["!ref"]||"A1"),j=f?65536:16384;if(v.e.c>255||v.e.r>=j){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,j-1)}tt(a,2057,TS(r,16,t)),tt(a,13,Na(1)),tt(a,12,Na(100)),tt(a,15,An(!0)),tt(a,17,An(!1)),tt(a,16,Ho(.001)),tt(a,95,An(!0)),tt(a,42,An(!1)),tt(a,43,An(!1)),tt(a,130,Na(1)),tt(a,128,Fse()),tt(a,131,An(!1)),tt(a,132,An(!1)),f&&Hue(a,s["!cols"]),tt(a,512,Mse(v,t)),f&&(s["!links"]=[]);for(var b=v.s.r;b<=v.e.r;++b){x=un(b);for(var y=v.s.c;y<=v.e.c;++y){b===v.s.r&&(g[y]=jn(y)),p=g[y]+x;var C=u?(s[b]||[])[y]:s[p];C&&(Wue(a,C,b,y,t),f&&C.l&&s["!links"].push([p,C.l]))}}var A=d.CodeName||d.name||i;return f&&tt(a,574,kse((l.Views||[])[0])),f&&(s["!merges"]||[]).length&&tt(a,229,Use(s["!merges"])),f&&que(a,s),tt(a,442,g5(A)),f&&$ue(a,s),tt(a,10),a.end()}function Vue(e,t,r){var a=zn(),i=(e||{}).Workbook||{},s=i.Sheets||[],l=i.WBProps||{},d=r.biff==8,u=r.biff==5;if(tt(a,2057,TS(e,5,r)),r.bookType=="xla"&&tt(a,135),tt(a,225,d?Na(1200):null),tt(a,193,yse(2)),u&&tt(a,191),u&&tt(a,192),tt(a,226),tt(a,92,Ase("SheetJS",r)),tt(a,66,Na(d?1200:1252)),d&&tt(a,353,Na(0)),d&&tt(a,448),tt(a,317,Yse(e.SheetNames.length)),d&&e.vbaraw&&tt(a,211),d&&e.vbaraw){var f=l.CodeName||"ThisWorkbook";tt(a,442,g5(f))}tt(a,156,Na(17)),tt(a,25,An(!1)),tt(a,18,An(!1)),tt(a,19,Na(0)),d&&tt(a,431,An(!1)),d&&tt(a,444,Na(0)),tt(a,61,Ose()),tt(a,64,An(!1)),tt(a,141,Na(0)),tt(a,34,An(Zde(e)=="true")),tt(a,14,An(!0)),d&&tt(a,439,An(!1)),tt(a,218,Na(0)),Lue(a,e,r),zue(a,e.SSF,r),Uue(a,r),d&&tt(a,352,An(!1));var p=a.end(),x=zn();d&&tt(x,140,Wse()),d&&r.Strings&&Pue(x,252,Ese(r.Strings)),tt(x,10);var g=x.end(),v=zn(),j=0,b=0;for(b=0;b<e.SheetNames.length;++b)j+=(d?12:11)+(d?2:1)*e.SheetNames[b].length;var y=p.length+j+g.length;for(b=0;b<e.SheetNames.length;++b){var C=s[b]||{};tt(v,133,_se({pos:y,hs:C.Hidden||0,dt:0,name:e.SheetNames[b]},r)),y+=t[b].length}var A=v.end();if(j!=A.length)throw new Error("BS8 "+j+" != "+A.length);var E=[];return p.length&&E.push(p),A.length&&E.push(A),g.length&&E.push(g),ln(E)}function Yue(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=Hn(Nr)),e&&e.SSF&&(P0(),I0(e.SSF),r.revssf=R0(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,kS(r),r.cellXfs=[],Js(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)a[a.length]=Gue(i,r,e);return a.unshift(Vue(e,a,r)),ln(a)}function H5(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var i=ca(a["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return Yue(e,t);case 4:case 3:case 2:return Bue(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Xue(e,t,r,a){for(var i=e["!merges"]||[],s=[],l=t.s.c;l<=t.e.c;++l){for(var d=0,u=0,f=0;f<i.length;++f)if(!(i[f].s.r>r||i[f].s.c>l)&&!(i[f].e.r<r||i[f].e.c<l)){if(i[f].s.r<r||i[f].s.c<l){d=-1;break}d=i[f].e.r-i[f].s.r+1,u=i[f].e.c-i[f].s.c+1;break}if(!(d<0)){var p=Kt({r,c:l}),x=a.dense?(e[r]||[])[l]:e[p],g=x&&x.v!=null&&(x.h||Cie(x.w||(ns(x),x.w)||""))||"",v={};d>1&&(v.rowspan=d),u>1&&(v.colspan=u),a.editable?g='<span contenteditable="true">'+g+"</span>":x&&(v["data-t"]=x&&x.t||"z",x.v!=null&&(v["data-v"]=x.v),x.z!=null&&(v["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+x.l.Target+'">'+g+"</a>")),v.id=(a.id||"sjs")+"-"+p,s.push(et("td",g,v))}}var j="<tr>";return j+s.join("")+"</tr>"}var Kue='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Que="</body></html>";function Zue(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function W5(e,t){var r=t||{},a=r.header!=null?r.header:Kue,i=r.footer!=null?r.footer:Que,s=[a],l=ca(e["!ref"]);r.dense=Array.isArray(e),s.push(Zue(e,l,r));for(var d=l.s.r;d<=l.e.r;++d)s.push(Xue(e,l,d,r));return s.push("</table>"+i),s.join("")}function G5(e,t,r){var a=r||{},i=0,s=0;if(a.origin!=null)if(typeof a.origin=="number")i=a.origin;else{var l=typeof a.origin=="string"?Kr(a.origin):a.origin;i=l.r,s=l.c}var d=t.getElementsByTagName("tr"),u=Math.min(a.sheetRows||1e7,d.length),f={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var p=ca(e["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),i==-1&&(f.e.r=i=p.e.r+1)}var x=[],g=0,v=e["!rows"]||(e["!rows"]=[]),j=0,b=0,y=0,C=0,A=0,E=0;for(e["!cols"]||(e["!cols"]=[]);j<d.length&&b<u;++j){var S=d[j];if(vI(S)){if(a.display)continue;v[b]={hidden:!0}}var T=S.children;for(y=C=0;y<T.length;++y){var _=T[y];if(!(a.display&&vI(_))){var P=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):Oie(_.innerHTML),L=_.getAttribute("data-z")||_.getAttribute("z");for(g=0;g<x.length;++g){var D=x[g];D.s.c==C+s&&D.s.r<b+i&&b+i<=D.e.r&&(C=D.e.c+1-s,g=-1)}E=+_.getAttribute("colspan")||1,((A=+_.getAttribute("rowspan")||1)>1||E>1)&&x.push({s:{r:b+i,c:C+s},e:{r:b+i+(A||1)-1,c:C+s+(E||1)-1}});var B={t:"s",v:P},M=_.getAttribute("data-t")||_.getAttribute("t")||"";P!=null&&(P.length==0?B.t=M||"z":a.raw||P.trim().length==0||M=="s"||(P==="TRUE"?B={t:"b",v:!0}:P==="FALSE"?B={t:"b",v:!1}:isNaN(Yi(P))?isNaN(mf(P).getDate())||(B={t:"d",v:En(P)},a.cellDates||(B={t:"n",v:qn(B.v)}),B.z=a.dateNF||Nr[14]):B={t:"n",v:Yi(P)})),B.z===void 0&&L!=null&&(B.z=L);var k="",W=_.getElementsByTagName("A");if(W&&W.length)for(var F=0;F<W.length&&!(W[F].hasAttribute("href")&&(k=W[F].getAttribute("href"),k.charAt(0)!="#"));++F);k&&k.charAt(0)!="#"&&(B.l={Target:k}),a.dense?(e[b+i]||(e[b+i]=[]),e[b+i][C+s]=B):e[Kt({c:C+s,r:b+i})]=B,f.e.c<C+s&&(f.e.c=C+s),C+=E}}++b}return x.length&&(e["!merges"]=(e["!merges"]||[]).concat(x)),f.e.r=Math.max(f.e.r,b-1+i),e["!ref"]=Pr(f),b>=u&&(e["!fullref"]=Pr((f.e.r=d.length-j+b-1+i,f))),e}function V5(e,t){var r=t||{},a=r.dense?[]:{};return G5(a,e,t)}function Jue(e,t){return Zo(V5(e,t),t)}function vI(e){var t="",r=efe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function efe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var tfe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+gf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Rr+t}}(),bI=function(){var e=function(s){return Xt(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(s,l,d){var u=[];u.push('      <table:table table:name="'+Xt(l.SheetNames[d])+`" table:style-name="ta1">
`);var f=0,p=0,x=ca(s["!ref"]||"A1"),g=s["!merges"]||[],v=0,j=Array.isArray(s);if(s["!cols"])for(p=0;p<=x.e.c;++p)u.push("        <table:table-column"+(s["!cols"][p]?' table:style-name="co'+s["!cols"][p].ods+'"':"")+`></table:table-column>
`);var b="",y=s["!rows"]||[];for(f=0;f<x.s.r;++f)b=y[f]?' table:style-name="ro'+y[f].ods+'"':"",u.push("        <table:table-row"+b+`></table:table-row>
`);for(;f<=x.e.r;++f){for(b=y[f]?' table:style-name="ro'+y[f].ods+'"':"",u.push("        <table:table-row"+b+`>
`),p=0;p<x.s.c;++p)u.push(t);for(;p<=x.e.c;++p){var C=!1,A={},E="";for(v=0;v!=g.length;++v)if(!(g[v].s.c>p)&&!(g[v].s.r>f)&&!(g[v].e.c<p)&&!(g[v].e.r<f)){(g[v].s.c!=p||g[v].s.r!=f)&&(C=!0),A["table:number-columns-spanned"]=g[v].e.c-g[v].s.c+1,A["table:number-rows-spanned"]=g[v].e.r-g[v].s.r+1;break}if(C){u.push(r);continue}var S=Kt({r:f,c:p}),T=j?(s[f]||[])[p]:s[S];if(T&&T.f&&(A["table:formula"]=Xt(jce(T.f)),T.F&&T.F.slice(0,S.length)==S)){var _=ca(T.F);A["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,A["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(!T){u.push(t);continue}switch(T.t){case"b":E=T.v?"TRUE":"FALSE",A["office:value-type"]="boolean",A["office:boolean-value"]=T.v?"true":"false";break;case"n":E=T.w||String(T.v||0),A["office:value-type"]="float",A["office:value"]=T.v||0;break;case"s":case"str":E=T.v==null?"":T.v,A["office:value-type"]="string";break;case"d":E=T.w||En(T.v).toISOString(),A["office:value-type"]="date",A["office:date-value"]=En(T.v).toISOString(),A["table:style-name"]="ce1";break;default:u.push(t);continue}var P=e(E);if(T.l&&T.l.Target){var L=T.l.Target;L=L.charAt(0)=="#"?"#"+wce(L.slice(1)):L,L.charAt(0)!="#"&&!L.match(/^\w+:/)&&(L="../"+L),P=et("text:a",P,{"xlink:href":L.replace(/&/g,"&amp;")})}u.push("          "+et("table:table-cell",et("text:p",P,{}),A)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},i=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var d=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var p=0;p<f["!cols"].length;++p)if(f["!cols"][p]){var x=f["!cols"][p];if(x.width==null&&x.wpx==null&&x.wch==null)continue;CS(x),x.ods=d;var g=f["!cols"][p].wpx+"px";s.push('  <style:style style:name="co'+d+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++d}}});var u=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var p=0;p<f["!rows"].length;++p)if(f["!rows"][p]){f["!rows"][p].ods=u;var x=f["!rows"][p].hpx+"px";s.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),s.push(`  </style:style>
`),++u}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,d){var u=[Rr],f=gf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=gf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});d.bookType=="fods"?(u.push("<office:document"+f+p+`>
`),u.push(l5().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),i(u,l),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var x=0;x!=l.SheetNames.length;++x)u.push(a(l.Sheets[l.SheetNames[x]],l,x));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),d.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function Y5(e,t){if(t.bookType=="fods")return bI(e,t);var r=mS(),a="",i=[],s=[];return a="mimetype",Tt(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Tt(r,a,bI(e,t)),i.push([a,"text/xml"]),s.push([a,"ContentFile"]),a="styles.xml",Tt(r,a,tfe(e,t)),i.push([a,"text/xml"]),s.push([a,"StylesFile"]),a="meta.xml",Tt(r,a,Rr+l5()),i.push([a,"text/xml"]),s.push([a,"MetadataFile"]),a="manifest.rdf",Tt(r,a,hse(s)),i.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Tt(r,a,use(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function qm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function rfe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ga(xf(e))}function nfe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function Vs(e){var t=e.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(i){r.set(i,a),a+=i.length}),r}function afe(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var s=0;i>=1;++s,i/=256)e[t+s]=i&255;e[t+15]|=r>=0?0:128}function yf(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Vt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function sc(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Br(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],i=yf(e,r),s=i&7;i=Math.floor(i/8);var l=0,d;if(i==0)break;switch(s){case 0:{for(var u=r[0];e[r[0]++]>=128;);d=e.slice(u,r[0])}break;case 5:l=4,d=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,d=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=yf(e,r),d=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(a))}var f={data:d,type:s};t[i]==null?t[i]=[f]:t[i].push(f)}return t}function an(e){var t=[];return e.forEach(function(r,a){r.forEach(function(i){i.data&&(t.push(Vt(a*8+i.type)),i.type==2&&t.push(Vt(i.data.length)),t.push(i.data))})}),Vs(t)}function La(e){for(var t,r=[],a=[0];a[0]<e.length;){var i=yf(e,a),s=Br(e.slice(a[0],a[0]+i));a[0]+=i;var l={id:sc(s[1][0].data),messages:[]};s[2].forEach(function(d){var u=Br(d.data),f=sc(u[3][0].data);l.messages.push({meta:u,data:e.slice(a[0],a[0]+f)}),a[0]+=f}),(t=s[3])!=null&&t[0]&&(l.merge=sc(s[3][0].data)>>>0>0),r.push(l)}return r}function Hl(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Vt(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Vt(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:Vt(l.data.length)}],a[2].push({data:an(l.meta),type:2})});var s=an(a);t.push(Vt(s.length)),t.push(s),i.forEach(function(l){return t.push(l)})}),Vs(t)}function ife(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=yf(t,r),i=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var d=l-59;l=t[r[0]],d>1&&(l|=t[r[0]+1]<<8),d>2&&(l|=t[r[0]+2]<<16),d>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=d}i.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var u=0,f=0;if(s==1?(f=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,s==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Vs(i)],u==0)throw new Error("Invalid offset 0");if(u>i[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(i.push(i[0].slice(-u)),f-=u;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-u,-u+f))}}var p=Vs(i);if(p.length!=a)throw new Error("Unexpected length: ".concat(p.length," != ").concat(a));return p}function za(e){for(var t=[],r=0;r<e.length;){var a=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(ife(a,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Vs(t)}function Wl(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var s=Vt(a),l=s.length;t.push(s),a<=60?(l++,t.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),l+=a,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,r+=a}return Vs(t)}function oj(e,t){var r=new Uint8Array(32),a=qm(r),i=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,afe(r,i,e.v),s|=1,i+=16;break;case"b":r[1]=6,a.setFloat64(i,e.v?1:0,!0),s|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(i,t.indexOf(e.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,s,!0),r.slice(0,i)}function lj(e,t){var r=new Uint8Array(32),a=qm(r),i=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(i,e.v,!0),s|=32,i+=8;break;case"b":r[2]=6,a.setFloat64(i,e.v?1:0,!0),s|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(i,t.indexOf(e.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,s,!0),r.slice(0,i)}function Is(e){var t=Br(e);return yf(t[1][0].data)}function sfe(e,t,r){var a,i,s,l;if(!((a=e[6])!=null&&a[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var d=((l=(s=e[8])==null?void 0:s[0])==null?void 0:l.data)&&sc(e[8][0].data)>0||!1;if(d)throw"Math only works with normal offsets";for(var u=0,f=qm(e[7][0].data),p=0,x=[],g=qm(e[4][0].data),v=0,j=[],b=0;b<t.length;++b){if(t[b]==null){f.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}f.setUint16(b*2,p,!0),g.setUint16(b*2,v,!0);var y,C;switch(typeof t[b]){case"string":y=oj({t:"s",v:t[b]},r),C=lj({t:"s",v:t[b]},r);break;case"number":y=oj({t:"n",v:t[b]},r),C=lj({t:"n",v:t[b]},r);break;case"boolean":y=oj({t:"b",v:t[b]},r),C=lj({t:"b",v:t[b]},r);break;default:throw new Error("Unsupported value "+t[b])}x.push(y),p+=y.length,j.push(C),v+=C.length,++u}for(e[2][0].data=Vt(u);b<e[7][0].data.length/2;++b)f.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return e[6][0].data=Vs(x),e[3][0].data=Vs(j),u}function ofe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=ca(r["!ref"]);a.s.r=a.s.c=0;var i=!1;a.e.c>9&&(i=!0,a.e.c=9),a.e.r>49&&(i=!0,a.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Pr(a)));var s=Hm(r,{range:a,header:1}),l=["~Sh33tJ5~"];s.forEach(function(U){return U.forEach(function(V){typeof V=="string"&&l.push(V)})});var d={},u=[],f=ar.read(t.numbers,{type:"base64"});f.FileIndex.map(function(U,V){return[U,f.FullPaths[V]]}).forEach(function(U){var V=U[0],te=U[1];if(V.type==2&&V.name.match(/\.iwa/)){var se=V.content,Z=za(se),K=La(Z);K.forEach(function(Y){u.push(Y.id),d[Y.id]={deps:[],location:te,type:sc(Y.messages[0].meta[1][0].data)}})}}),u.sort(function(U,V){return U-V});var p=u.filter(function(U){return U>1}).map(function(U){return[U,Vt(U)]});f.FileIndex.map(function(U,V){return[U,f.FullPaths[V]]}).forEach(function(U){var V=U[0];if(U[1],!!V.name.match(/\.iwa/)){var te=La(za(V.content));te.forEach(function(se){se.messages.forEach(function(Z){p.forEach(function(K){se.messages.some(function(Y){return sc(Y.meta[1][0].data)!=11006&&nfe(Y.data,K[1])})&&d[K[0]].deps.push(se.id)})})})}});for(var x=ar.find(f,d[1].location),g=La(za(x.content)),v,j=0;j<g.length;++j){var b=g[j];b.id==1&&(v=b)}var y=Is(Br(v.messages[0].data)[1][0].data);for(x=ar.find(f,d[y].location),g=La(za(x.content)),j=0;j<g.length;++j)b=g[j],b.id==y&&(v=b);for(y=Is(Br(v.messages[0].data)[2][0].data),x=ar.find(f,d[y].location),g=La(za(x.content)),j=0;j<g.length;++j)b=g[j],b.id==y&&(v=b);for(y=Is(Br(v.messages[0].data)[2][0].data),x=ar.find(f,d[y].location),g=La(za(x.content)),j=0;j<g.length;++j)b=g[j],b.id==y&&(v=b);var C=Br(v.messages[0].data);{C[6][0].data=Vt(a.e.r+1),C[7][0].data=Vt(a.e.c+1);var A=Is(C[46][0].data),E=ar.find(f,d[A].location),S=La(za(E.content));{for(var T=0;T<S.length&&S[T].id!=A;++T);if(S[T].id!=A)throw"Bad ColumnRowUIDMapArchive";var _=Br(S[T].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var P=0;P<=a.e.c;++P){var L=[];L[1]=L[2]=[{type:0,data:Vt(P+420690)}],_[1].push({type:2,data:an(L)}),_[2].push({type:0,data:Vt(P)}),_[3].push({type:0,data:Vt(P)})}_[4]=[],_[5]=[],_[6]=[];for(var D=0;D<=a.e.r;++D)L=[],L[1]=L[2]=[{type:0,data:Vt(D+726270)}],_[4].push({type:2,data:an(L)}),_[5].push({type:0,data:Vt(D)}),_[6].push({type:0,data:Vt(D)});S[T].messages[0].data=an(_)}E.content=Wl(Hl(S)),E.size=E.content.length,delete C[46];var B=Br(C[4][0].data);{B[7][0].data=Vt(a.e.r+1);var M=Br(B[1][0].data),k=Is(M[2][0].data);E=ar.find(f,d[k].location),S=La(za(E.content));{if(S[0].id!=k)throw"Bad HeaderStorageBucket";var W=Br(S[0].messages[0].data);for(D=0;D<s.length;++D){var F=Br(W[2][0].data);F[1][0].data=Vt(D),F[4][0].data=Vt(s[D].length),W[2][D]={type:W[2][0].type,data:an(F)}}S[0].messages[0].data=an(W)}E.content=Wl(Hl(S)),E.size=E.content.length;var I=Is(B[2][0].data);E=ar.find(f,d[I].location),S=La(za(E.content));{if(S[0].id!=I)throw"Bad HeaderStorageBucket";for(W=Br(S[0].messages[0].data),P=0;P<=a.e.c;++P)F=Br(W[2][0].data),F[1][0].data=Vt(P),F[4][0].data=Vt(a.e.r+1),W[2][P]={type:W[2][0].type,data:an(F)};S[0].messages[0].data=an(W)}E.content=Wl(Hl(S)),E.size=E.content.length;var R=Is(B[4][0].data);(function(){for(var U=ar.find(f,d[R].location),V=La(za(U.content)),te,se=0;se<V.length;++se){var Z=V[se];Z.id==R&&(te=Z)}var K=Br(te.messages[0].data);{K[3]=[];var Y=[];l.forEach(function(pe,Ce){Y[1]=[{type:0,data:Vt(Ce)}],Y[2]=[{type:0,data:Vt(1)}],Y[3]=[{type:2,data:rfe(pe)}],K[3].push({type:2,data:an(Y)})})}te.messages[0].data=an(K);var ce=Hl(V),xe=Wl(ce);U.content=xe,U.size=U.content.length})();var X=Br(B[3][0].data);{var ne=X[1][0];delete X[2];var ge=Br(ne.data);{var q=Is(ge[2][0].data);(function(){for(var U=ar.find(f,d[q].location),V=La(za(U.content)),te,se=0;se<V.length;++se){var Z=V[se];Z.id==q&&(te=Z)}var K=Br(te.messages[0].data);{delete K[6],delete X[7];var Y=new Uint8Array(K[5][0].data);K[5]=[];for(var ce=0,xe=0;xe<=a.e.r;++xe){var pe=Br(Y);ce+=sfe(pe,s[xe],l),pe[1][0].data=Vt(xe),K[5].push({data:an(pe),type:2})}K[1]=[{type:0,data:Vt(a.e.c+1)}],K[2]=[{type:0,data:Vt(a.e.r+1)}],K[3]=[{type:0,data:Vt(ce)}],K[4]=[{type:0,data:Vt(a.e.r+1)}]}te.messages[0].data=an(K);var Ce=Hl(V),ve=Wl(Ce);U.content=ve,U.size=U.content.length})()}ne.data=an(ge)}B[3][0].data=an(X)}C[4][0].data=an(B)}v.messages[0].data=an(C);var ee=Hl(g),z=Wl(ee);return x.content=z,x.size=x.content.length,f}function lfe(e){return function(r){for(var a=0;a!=e.length;++a){var i=e[a];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function kS(e){lfe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function cfe(e,t){return t.bookType=="ods"?Y5(e,t):t.bookType=="numbers"?ofe(e,t):t.bookType=="xlsb"?dfe(e,t):ufe(e,t)}function dfe(e,t){Ql=1024,e&&!e.SSF&&(e.SSF=Hn(Nr)),e&&e.SSF&&(P0(),I0(e.SSF),t.revssf=R0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Tu?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=O5.indexOf(t.bookType)>-1,i=i5();kS(t=t||{});var s=mS(),l="",d=0;if(t.cellXfs=[],Js(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Tt(s,l,c5(e.Props,t)),i.coreprops.push(l),Yt(t.rels,2,l,Bt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,Tt(s,l,u5(e.Props)),i.extprops.push(l),Yt(t.rels,3,l,Bt.EXT_PROPS),e.Custprops!==e.Props&&hn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Tt(s,l,f5(e.Custprops)),i.custprops.push(l),Yt(t.rels,4,l,Bt.CUST_PROPS)),d=1;d<=e.SheetNames.length;++d){var p={"!id":{}},x=e.Sheets[e.SheetNames[d-1]],g=(x||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+d+"."+r,Tt(s,l,hue(d-1,l,t,e,p)),i.sheets.push(l),Yt(t.wbrels,-1,"worksheets/sheet"+d+"."+r,Bt.WS[0])}if(x){var v=x["!comments"],j=!1,b="";v&&v.length>0&&(b="xl/comments"+d+"."+r,Tt(s,b,xue(v,b)),i.comments.push(b),Yt(p,-1,"../comments"+d+"."+r,Bt.CMNT),j=!0),x["!legacy"]&&j&&Tt(s,"xl/drawings/vmlDrawing"+d+".vml",_5(d,x["!comments"])),delete x["!comments"],delete x["!legacy"]}p["!id"].rId1&&Tt(s,o5(l),ac(p))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Tt(s,l,mue(t.Strings,l,t)),i.strs.push(l),Yt(t.wbrels,-1,"sharedStrings."+r,Bt.SST)),l="xl/workbook."+r,Tt(s,l,fue(e,l)),i.workbooks.push(l),Yt(t.rels,1,l,Bt.WB),l="xl/theme/theme1.xml",Tt(s,l,C5(e.Themes,t)),i.themes.push(l),Yt(t.wbrels,-1,"theme/theme1.xml",Bt.THEME),l="xl/styles."+r,Tt(s,l,pue(e,l,t)),i.styles.push(l),Yt(t.wbrels,-1,"styles."+r,Bt.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Tt(s,l,e.vbaraw),i.vba.push(l),Yt(t.wbrels,-1,"vbaProject.bin",Bt.VBA)),l="xl/metadata."+r,Tt(s,l,gue(l)),i.metadata.push(l),Yt(t.wbrels,-1,"metadata."+r,Bt.XLMETA),Tt(s,"[Content_Types].xml",s5(i,t)),Tt(s,"_rels/.rels",ac(t.rels)),Tt(s,"xl/_rels/workbook."+r+".rels",ac(t.wbrels)),delete t.revssf,delete t.ssf,s}function ufe(e,t){Ql=1024,e&&!e.SSF&&(e.SSF=Hn(Nr)),e&&e.SSF&&(P0(),I0(e.SSF),t.revssf=R0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Tu?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=O5.indexOf(t.bookType)>-1,i=i5();kS(t=t||{});var s=mS(),l="",d=0;if(t.cellXfs=[],Js(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Tt(s,l,c5(e.Props,t)),i.coreprops.push(l),Yt(t.rels,2,l,Bt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,Tt(s,l,u5(e.Props)),i.extprops.push(l),Yt(t.rels,3,l,Bt.EXT_PROPS),e.Custprops!==e.Props&&hn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Tt(s,l,f5(e.Custprops)),i.custprops.push(l),Yt(t.rels,4,l,Bt.CUST_PROPS));var p=["SheetJ5"];for(t.tcid=0,d=1;d<=e.SheetNames.length;++d){var x={"!id":{}},g=e.Sheets[e.SheetNames[d-1]],v=(g||{})["!type"]||"sheet";switch(v){case"chart":default:l="xl/worksheets/sheet"+d+"."+r,Tt(s,l,L5(d-1,t,e,x)),i.sheets.push(l),Yt(t.wbrels,-1,"worksheets/sheet"+d+"."+r,Bt.WS[0])}if(g){var j=g["!comments"],b=!1,y="";if(j&&j.length>0){var C=!1;j.forEach(function(A){A[1].forEach(function(E){E.T==!0&&(C=!0)})}),C&&(y="xl/threadedComments/threadedComment"+d+"."+r,Tt(s,y,Uoe(j,p,t)),i.threadedcomments.push(y),Yt(x,-1,"../threadedComments/threadedComment"+d+"."+r,Bt.TCMNT)),y="xl/comments"+d+"."+r,Tt(s,y,E5(j)),i.comments.push(y),Yt(x,-1,"../comments"+d+"."+r,Bt.CMNT),b=!0}g["!legacy"]&&b&&Tt(s,"xl/drawings/vmlDrawing"+d+".vml",_5(d,g["!comments"])),delete g["!comments"],delete g["!legacy"]}x["!id"].rId1&&Tt(s,o5(l),ac(x))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Tt(s,l,b5(t.Strings,t)),i.strs.push(l),Yt(t.wbrels,-1,"sharedStrings."+r,Bt.SST)),l="xl/workbook."+r,Tt(s,l,U5(e)),i.workbooks.push(l),Yt(t.rels,1,l,Bt.WB),l="xl/theme/theme1.xml",Tt(s,l,C5(e.Themes,t)),i.themes.push(l),Yt(t.wbrels,-1,"theme/theme1.xml",Bt.THEME),l="xl/styles."+r,Tt(s,l,N5(e,t)),i.styles.push(l),Yt(t.wbrels,-1,"styles."+r,Bt.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Tt(s,l,e.vbaraw),i.vba.push(l),Yt(t.wbrels,-1,"vbaProject.bin",Bt.VBA)),l="xl/metadata."+r,Tt(s,l,A5()),i.metadata.push(l),Yt(t.wbrels,-1,"metadata."+r,Bt.XLMETA),p.length>1&&(l="xl/persons/person.xml",Tt(s,l,qoe(p)),i.people.push(l),Yt(t.wbrels,-1,"persons/person.xml",Bt.PEOPLE)),Tt(s,"[Content_Types].xml",s5(i,t)),Tt(s,"_rels/.rels",ac(t.rels)),Tt(s,"xl/_rels/workbook."+r+".rels",ac(t.wbrels)),delete t.revssf,delete t.ssf,s}function ffe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=rs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function X5(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Bf(t.file,ar.write(e,{type:Ut?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ar.write(e,t)}function hfe(e,t){var r=Hn(t||{}),a=cfe(e,r);return pfe(a,r)}function pfe(e,t){var r={},a=Ut?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?ar.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(k0(i))}return t.password&&typeof encrypt_agile<"u"?X5(encrypt_agile(i,t.password),t):t.type==="file"?Bf(t.file,i):t.type=="string"?ju(i):i}function mfe(e,t){var r=t||{},a=kue(e,r);return X5(a,r)}function di(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return pf(xf(a));case"binary":return xf(a);case"string":return e;case"file":return Bf(t.file,a,"utf8");case"buffer":return Ut?os(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):di(a,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function xfe(e,t){switch(t.type){case"base64":return pf(e);case"binary":return e;case"string":return e;case"file":return Bf(t.file,e,"binary");case"buffer":return Ut?os(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function jp(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?pf(r):t.type=="string"?ju(r):r;case"file":return Bf(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function K5(e,t){Hae(),tue(e);var r=Hn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=K5(e,r);return r.type="array",k0(a)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return di(Eue(e,r),r);case"slk":case"sylk":return di(Zse.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return di(W5(e.Sheets[e.SheetNames[i]],r),r);case"txt":return xfe(Z5(e.Sheets[e.SheetNames[i]],r),r);case"csv":return di(IS(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return di(Jse.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return jp(Qse.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return di(eoe.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return di(ooe.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return di(v5.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return di(Y5(e,r),r);case"wk1":return jp(hI.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return jp(hI.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),jp(H5(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),mfe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return hfe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function gfe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Q5(e,t,r){var a={};return a.type="file",a.file=t,gfe(a),K5(e,a)}function yfe(e,t,r,a,i,s,l,d){var u=un(r),f=d.defval,p=d.raw||!Object.prototype.hasOwnProperty.call(d,"raw"),x=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!l||e[r])for(var v=t.s.c;v<=t.e.c;++v){var j=l?e[r][v]:e[a[v]+u];if(j===void 0||j.t===void 0){if(f===void 0)continue;s[v]!=null&&(g[s[v]]=f);continue}var b=j.v;switch(j.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+j.t)}if(s[v]!=null){if(b==null)if(j.t=="e"&&b===null)g[s[v]]=null;else if(f!==void 0)g[s[v]]=f;else if(p&&b===null)g[s[v]]=null;else continue;else g[s[v]]=p&&(j.t!=="n"||j.t==="n"&&d.rawNumbers!==!1)?b:ns(j,b,d);b!=null&&(x=!1)}}return{row:g,isempty:x}}function Hm(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,i=1,s=[],l=0,d="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},p=f.range!=null?f.range:e["!ref"];switch(f.header===1?a=1:f.header==="A"?a=2:Array.isArray(f.header)?a=3:f.header==null&&(a=0),typeof p){case"string":u=hr(p);break;case"number":u=hr(e["!ref"]),u.s.r=p;break;default:u=p}a>0&&(i=0);var x=un(u.s.r),g=[],v=[],j=0,b=0,y=Array.isArray(e),C=u.s.r,A=0,E={};y&&!e[C]&&(e[C]=[]);var S=f.skipHidden&&e["!cols"]||[],T=f.skipHidden&&e["!rows"]||[];for(A=u.s.c;A<=u.e.c;++A)if(!(S[A]||{}).hidden)switch(g[A]=jn(A),r=y?e[C][A]:e[g[A]+x],a){case 1:s[A]=A-u.s.c;break;case 2:s[A]=g[A];break;case 3:s[A]=f.header[A-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),d=l=ns(r,null,f),b=E[l]||0,!b)E[l]=1;else{do d=l+"_"+b++;while(E[d]);E[l]=b,E[d]=1}s[A]=d}for(C=u.s.r+i;C<=u.e.r;++C)if(!(T[C]||{}).hidden){var _=yfe(e,u,C,g,a,s,y,f);(_.isempty===!1||(a===1?f.blankrows!==!1:f.blankrows))&&(v[j++]=_.row)}return v.length=j,v}var jI=/"/g;function vfe(e,t,r,a,i,s,l,d){for(var u=!0,f=[],p="",x=un(r),g=t.s.c;g<=t.e.c;++g)if(a[g]){var v=d.dense?(e[r]||[])[g]:e[a[g]+x];if(v==null)p="";else if(v.v!=null){u=!1,p=""+(d.rawNumbers&&v.t=="n"?v.v:ns(v,null,d));for(var j=0,b=0;j!==p.length;++j)if((b=p.charCodeAt(j))===i||b===s||b===34||d.forceQuotes){p='"'+p.replace(jI,'""')+'"';break}p=="ID"&&(p='"ID"')}else v.f!=null&&!v.F?(u=!1,p="="+v.f,p.indexOf(",")>=0&&(p='"'+p.replace(jI,'""')+'"')):p="";f.push(p)}return d.blankrows===!1&&u?null:f.join(l)}function IS(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var i=hr(e["!ref"]),s=a.FS!==void 0?a.FS:",",l=s.charCodeAt(0),d=a.RS!==void 0?a.RS:`
`,u=d.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),p="",x=[];a.dense=Array.isArray(e);for(var g=a.skipHidden&&e["!cols"]||[],v=a.skipHidden&&e["!rows"]||[],j=i.s.c;j<=i.e.c;++j)(g[j]||{}).hidden||(x[j]=jn(j));for(var b=0,y=i.s.r;y<=i.e.r;++y)(v[y]||{}).hidden||(p=vfe(e,i,y,x,l,u,s,a),p!=null&&(a.strip&&(p=p.replace(f,"")),(p||a.blankrows!==!1)&&r.push((b++?d:"")+p)));return delete a.dense,r.join("")}function Z5(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=IS(e,t);return r}function bfe(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var i=hr(e["!ref"]),s="",l=[],d,u=[],f=Array.isArray(e);for(d=i.s.c;d<=i.e.c;++d)l[d]=jn(d);for(var p=i.s.r;p<=i.e.r;++p)for(s=un(p),d=i.s.c;d<=i.e.c;++d)if(t=l[d]+s,r=f?(e[p]||[])[d]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}u[u.length]=t+"="+a}return u}function J5(e,t,r){var a=r||{},i=+!a.skipHeader,s=e||{},l=0,d=0;if(s&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var u=typeof a.origin=="string"?Kr(a.origin):a.origin;l=u.r,d=u.c}var f,p={s:{c:0,r:0},e:{c:d,r:l+t.length-1+i}};if(s["!ref"]){var x=hr(s["!ref"]);p.e.c=Math.max(p.e.c,x.e.c),p.e.r=Math.max(p.e.r,x.e.r),l==-1&&(l=x.e.r+1,p.e.r=l+t.length-1+i)}else l==-1&&(l=0,p.e.r=t.length-1+i);var g=a.header||[],v=0;t.forEach(function(b,y){hn(b).forEach(function(C){(v=g.indexOf(C))==-1&&(g[v=g.length]=C);var A=b[C],E="z",S="",T=Kt({c:d+v,r:l+y+i});f=vf(s,T),A&&typeof A=="object"&&!(A instanceof Date)?s[T]=A:(typeof A=="number"?E="n":typeof A=="boolean"?E="b":typeof A=="string"?E="s":A instanceof Date?(E="d",a.cellDates||(E="n",A=qn(A)),S=a.dateNF||Nr[14]):A===null&&a.nullError&&(E="e",A=0),f?(f.t=E,f.v=A,delete f.w,delete f.R,S&&(f.z=S)):s[T]=f={t:E,v:A},S&&(f.z=S))})}),p.e.c=Math.max(p.e.c,d+g.length-1);var j=un(l);if(i)for(v=0;v<g.length;++v)s[jn(v+d)+j]={t:"s",v:g[v]};return s["!ref"]=Pr(p),s}function jfe(e,t){return J5(null,e,t)}function vf(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=Kr(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?vf(e,Kt(t)):vf(e,Kt({r:t,c:r||0}))}function wfe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Sfe(){return{SheetNames:[],Sheets:{}}}function Nfe(e,t,r,a){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var l=s&&s[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=l+i)!=-1;++i);}if($5(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Tfe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=wfe(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function Cfe(e,t){return e.z=t,e}function eM(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Afe(e,t,r){return eM(e,"#"+t,r)}function _fe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Efe(e,t,r,a){for(var i=typeof t!="string"?t:hr(t),s=typeof t=="string"?t:Pr(t),l=i.s.r;l<=i.e.r;++l)for(var d=i.s.c;d<=i.e.c;++d){var u=vf(e,l,d);u.t="n",u.F=s,delete u.v,l==i.s.r&&d==i.s.c&&(u.f=r,a&&(u.D=!0))}return e}var oc={encode_col:jn,encode_row:un,encode_cell:Kt,encode_range:Pr,decode_col:jS,decode_row:bS,split_cell:Hie,decode_cell:Kr,decode_range:ca,format_cell:ns,sheet_add_aoa:J8,sheet_add_json:J5,sheet_add_dom:G5,aoa_to_sheet:Kc,json_to_sheet:jfe,table_to_sheet:V5,table_to_book:Jue,sheet_to_csv:IS,sheet_to_txt:Z5,sheet_to_json:Hm,sheet_to_html:W5,sheet_to_formulae:bfe,sheet_to_row_object_array:Hm,sheet_get_cell:vf,book_new:Sfe,book_append_sheet:Nfe,book_set_sheet_visibility:Tfe,cell_set_number_format:Cfe,cell_set_hyperlink:eM,cell_set_internal_link:Afe,cell_add_comment:_fe,sheet_set_array_formula:Efe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const bo="https://hotelvirat.com/api/v1/hotel",tM=e=>{if(!e)return null;if(e.startsWith("http"))return e;const t="https://hotelvirat.com";let r=e.replace(/\\/g,"/");r.startsWith("/")&&(r=r.substring(1));const a=`${t}/${r}`;return console.log("Image URL:",e,"->",a),a},rM=[{key:"tv",label:"TV"},{key:"ac",label:"AC"},{key:"wifi",label:"WiFi"},{key:"minibar",label:"Mini Bar"},{key:"roomService",label:"Room Service"},{key:"balcony",label:"Balcony"},{key:"bathtub",label:"Bathtub"},{key:"shower",label:"Shower"},{key:"hairDryer",label:"Hair Dryer"},{key:"safe",label:"Safe"},{key:"telephone",label:"Telephone"},{key:"coffeeMaker",label:"Coffee Maker"},{key:"iron",label:"Iron"},{key:"workspace",label:"Workspace"},{key:"parking",label:"Parking"}],Ofe=["Single","Double","Suite","Deluxe","Family","Presidential"],kfe=["First Floor","Second Floor"],Ife=({room:e,branches:t,onClose:r,onSave:a})=>{var E;const[i,s]=N.useState({branchId:((E=e==null?void 0:e.branchId)==null?void 0:E._id)||(e==null?void 0:e.branchId)||"",floor:(e==null?void 0:e.floor)||"First Floor",roomType:(e==null?void 0:e.roomType)||"Single",price:(e==null?void 0:e.price)||"",description:(e==null?void 0:e.description)||"",roomNumber:(e==null?void 0:e.roomNumber)||"",amenities:(e==null?void 0:e.amenities)||{},capacity:(e==null?void 0:e.capacity)||{adults:2,children:0},isAvailable:(e==null?void 0:e.isAvailable)!==!1}),[l,d]=N.useState([]),[u,f]=N.useState((e==null?void 0:e.images)||[]),[p,x]=N.useState(!1),[g,v]=N.useState(""),j=S=>{const{name:T,value:_,type:P,checked:L}=S.target;if(T.startsWith("amenities.")){const D=T.split(".")[1];s(B=>({...B,amenities:{...B.amenities,[D]:L}}))}else if(T.startsWith("capacity.")){const D=T.split(".")[1];s(B=>({...B,capacity:{...B.capacity,[D]:Number(_)}}))}else s(D=>({...D,[T]:P==="checkbox"?L:_}))},b=S=>{const T=Array.from(S.target.files);if(u.length+l.length+T.length>5){v("Maximum 5 images allowed");return}v(""),d(P=>[...P,...T])},y=S=>{d(T=>T.filter((_,P)=>P!==S))},C=S=>{f(T=>T.filter((_,P)=>P!==S))},A=async S=>{S.preventDefault(),x(!0),v("");try{const T=new FormData;T.append("branchId",i.branchId),T.append("floor",i.floor),T.append("roomType",i.roomType),T.append("price",i.price),T.append("description",i.description),T.append("roomNumber",i.roomNumber),T.append("amenities",JSON.stringify(i.amenities)),T.append("capacity",JSON.stringify(i.capacity)),T.append("isAvailable",i.isAvailable),T.append("existingImages",JSON.stringify(u)),l.forEach(_=>T.append("images",_)),await a(T),r()}catch(T){v(T.message||"Failed to save room")}finally{x(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"700px",maxHeight:"90vh",overflow:"auto"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:e?"Edit Room":"Add New Room"}),n.jsx("button",{className:"modal-close",onClick:r,children:""})]}),n.jsxs("form",{onSubmit:A,children:[n.jsxs("div",{className:"modal-body",children:[g&&n.jsxs("div",{className:"error-message",style:{marginBottom:"15px",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:16}),n.jsx("span",{children:g})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Room Images (Max 5)"}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"10px"},children:[u.map((S,T)=>n.jsxs("div",{style:{position:"relative",width:"100px",height:"100px"},children:[n.jsx("img",{src:tM(S),alt:"",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"}}),n.jsx("button",{type:"button",onClick:()=>C(T),style:{position:"absolute",top:"-5px",right:"-5px",background:"#dc2626",border:"none",borderRadius:"50%",width:"24px",height:"24px",color:"white",cursor:"pointer"},children:n.jsx(Un,{size:14})})]},`existing-${T}`)),l.map((S,T)=>n.jsxs("div",{style:{position:"relative",width:"100px",height:"100px"},children:[n.jsx("img",{src:URL.createObjectURL(S),alt:"",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"}}),n.jsx("button",{type:"button",onClick:()=>y(T),style:{position:"absolute",top:"-5px",right:"-5px",background:"#dc2626",border:"none",borderRadius:"50%",width:"24px",height:"24px",color:"white",cursor:"pointer"},children:n.jsx(Un,{size:14})})]},`new-${T}`)),u.length+l.length<5&&n.jsxs("label",{style:{width:"100px",height:"100px",border:"2px dashed #ccc",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:[n.jsx(Ms,{size:20}),n.jsx("span",{style:{fontSize:"12px"},children:"Add"}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:b,style:{display:"none"}})]})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",children:["Branch ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsxs("select",{name:"branchId",className:"form-input",value:i.branchId,onChange:j,required:!0,children:[n.jsx("option",{value:"",children:"Select Branch"}),t.map(S=>n.jsx("option",{value:S._id,children:S.name},S._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",children:["Floor ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsx("select",{name:"floor",className:"form-input",value:i.floor,onChange:j,required:!0,children:kfe.map(S=>n.jsx("option",{value:S,children:S},S))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Room Type"}),n.jsx("select",{name:"roomType",className:"form-input",value:i.roomType,onChange:j,children:Ofe.map(S=>n.jsx("option",{value:S,children:S},S))})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",children:["Basic Price (without GST) ",n.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),n.jsx("input",{type:"number",name:"price",className:"form-input",value:i.price,onChange:j,required:!0,placeholder:"Enter price without GST"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Room Number"}),n.jsx("input",{type:"text",name:"roomNumber",className:"form-input",value:i.roomNumber,onChange:j})]}),n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"checkbox",name:"isAvailable",checked:i.isAvailable,onChange:j}),"Available"]})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Description"}),n.jsx("textarea",{name:"description",className:"form-textarea",value:i.description,onChange:j,rows:"2"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Adults Capacity"}),n.jsx("input",{type:"number",name:"capacity.adults",className:"form-input",value:i.capacity.adults,onChange:j,min:"1"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Children Capacity"}),n.jsx("input",{type:"number",name:"capacity.children",className:"form-input",value:i.capacity.children,onChange:j,min:"0"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Amenities"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px"},children:rM.map(S=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",name:`amenities.${S.key}`,checked:i.amenities[S.key]||!1,onChange:j}),S.label]},S.key))})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,disabled:p,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":e?"Update Room":"Add Room"})]})]})]})})},Pfe=({room:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error(l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Room"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsxs("strong",{children:[e.floor," - Room #",e.roomNumber||"N/A"]}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{className:"btn",style:{backgroundColor:"#dc2626",color:"white"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Rfe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(""),[u,f]=N.useState(!1),[p,x]=N.useState(null),[g,v]=N.useState(!1),[j,b]=N.useState(null),[y,C]=N.useState(!0),[A,E]=N.useState(""),[S,T]=N.useState(""),[_,P]=N.useState({}),[L,D]=N.useState([]),[B,M]=N.useState(!1);N.useEffect(()=>{X(),ne(),I()},[]);const k=async U=>{try{const V=await bt.get(`${bo}/room-booking`),te=Array.isArray(V.data)?V.data:[],se={};te.forEach(Z=>{var K;if(Z.status!=="cancelled"&&Z.status!=="checked-out"){const Y=((K=Z.roomId)==null?void 0:K._id)||Z.roomId;Y&&(se[Y]=Z)}}),P(se)}catch(V){console.error("Error fetching room bookings:",V)}},W=U=>U?new Date(U).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",F=U=>U?new Date(U).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"",I=async()=>{try{const U=await bt.get(`${bo}/room-booking`);D(U.data||[])}catch(U){console.error("Error fetching all bookings:",U)}},R=()=>{M(!0);try{const U=L.map((K,Y)=>{var ve,Le,le,Ae,qe,me;const ce=(K.cgst||0)+(K.sgst||0)+(K.igst||0),xe=K.totalPrice||0,pe=K.amountPaid||0,Ce=xe-pe;return{"S.No":Y+1,"Booking Date":F(K.createdAt),"Room Number":((ve=K.roomId)==null?void 0:ve.roomNumber)||"N/A","Room Type":((Le=K.roomId)==null?void 0:Le.roomType)||"N/A",Floor:((le=K.roomId)==null?void 0:le.floor)||"N/A",Branch:((Ae=K.branchId)==null?void 0:Ae.name)||"N/A","Guest Name":K.userName||"","Guest Phone":K.userPhone||"","Guest Email":K.userEmail||"","Guest GSTIN":K.guestGstNumber||"","Check-in Date":F(K.checkInDate),"Check-in Time":K.checkInTime||"","Check-out Date":F(K.checkOutDate),"Check-out Time":K.checkOutTime||"",Nights:K.nights||1,"Base Amount ()":(K.baseAmount||0).toFixed(2),"GST Type":K.gstType==="gst"?"CGST+SGST (5%)":K.gstType==="igst"?"IGST (5%)":"No GST","CGST ()":(K.cgst||0).toFixed(2),"SGST ()":(K.sgst||0).toFixed(2),"IGST ()":(K.igst||0).toFixed(2),"Total GST ()":ce.toFixed(2),"Total Amount ()":xe.toFixed(2),"Amount Paid ()":pe.toFixed(2),"Balance Due ()":Ce.toFixed(2),Status:((qe=K.status)==null?void 0:qe.toUpperCase())||"","Payment Status":((me=K.paymentStatus)==null?void 0:me.toUpperCase())||""}}),V=oc.json_to_sheet(U),te=oc.book_new();oc.book_append_sheet(te,V,"Room Bookings");const se=[{wch:5},{wch:12},{wch:12},{wch:12},{wch:12},{wch:15},{wch:20},{wch:15},{wch:25},{wch:18},{wch:12},{wch:12},{wch:12},{wch:12},{wch:8},{wch:15},{wch:15},{wch:12},{wch:12},{wch:12},{wch:12},{wch:15},{wch:15},{wch:15},{wch:12},{wch:15}];V["!cols"]=se;const Z=new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-");Q5(te,`Room_Bookings_${Z}.xlsx`),T("Excel exported successfully!"),setTimeout(()=>T(""),3e3)}catch(U){console.error("Error exporting to Excel:",U),E("Failed to export Excel"),setTimeout(()=>E(""),3e3)}finally{M(!1)}},X=async()=>{try{const U=await bt.get(`${bo}/branch`);a(U.data)}catch(U){console.error("Error fetching branches:",U)}},ne=async()=>{C(!0);try{const U=await bt.get(`${bo}/room`),V=Array.isArray(U.data)?U.data:[];t(V),V.length>0&&k(V)}catch{E("Failed to load rooms"),t([])}finally{C(!1)}},ge=Array.isArray(e)?e.filter(U=>{var se,Z,K,Y;const V=((se=U.floor)==null?void 0:se.toLowerCase().includes(i.toLowerCase()))||((Z=U.roomNumber)==null?void 0:Z.toLowerCase().includes(i.toLowerCase()))||((K=U.roomType)==null?void 0:K.toLowerCase().includes(i.toLowerCase())),te=!l||((Y=U.branchId)==null?void 0:Y._id)===l||U.branchId===l;return V&&te}):[],q=async U=>{var V,te;try{const se={headers:{"Content-Type":"multipart/form-data"}};let Z;p?(Z=await bt.put(`${bo}/room/${p._id}`,U,se),t(Array.isArray(e)?e.map(K=>K._id===p._id?Z.data:K):[Z.data]),T("Room updated successfully")):(Z=await bt.post(`${bo}/room`,U,se),t(Array.isArray(e)?[...e,Z.data]:[Z.data]),T("Room created successfully")),setTimeout(()=>T(""),3e3)}catch(se){throw new Error(((te=(V=se.response)==null?void 0:V.data)==null?void 0:te.message)||"Failed to save room")}},ee=async U=>{try{await bt.delete(`${bo}/room/${U}`),t(Array.isArray(e)?e.filter(V=>V._id!==U):[]),T("Room deleted successfully"),setTimeout(()=>T(""),3e3)}catch{throw new Error("Failed to delete room")}},z=U=>U?rM.filter(V=>U[V.key]).map(V=>V.label):[];return n.jsxs("div",{className:"rooms-page",children:[S&&n.jsxs("div",{className:"success-message",children:[n.jsx(fn,{size:16}),n.jsx("span",{children:S}),n.jsx("button",{onClick:()=>T(""),children:n.jsx("span",{children:""})})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Rooms"}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("button",{className:"btn",onClick:R,disabled:B||L.length===0,style:{backgroundColor:"#059669",color:"white",display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",border:"none",borderRadius:"6px",cursor:B||L.length===0?"not-allowed":"pointer",opacity:B||L.length===0?.6:1},children:[n.jsx(On,{size:16}),n.jsx("span",{children:B?"Exporting...":`Export Excel (${L.length})`})]}),n.jsxs("button",{className:"btn btn-primary",onClick:()=>{x(null),f(!0)},children:[n.jsx(Ca,{size:16}),n.jsx("span",{children:"Add Room"})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search rooms...",className:"search-input",value:i,onChange:U=>s(U.target.value)})]}),n.jsxs("select",{className:"form-input",style:{width:"200px"},value:l,onChange:U=>d(U.target.value),children:[n.jsx("option",{value:"",children:"All Branches"}),r.map(U=>n.jsx("option",{value:U._id,children:U.name},U._id))]})]}),A&&n.jsxs("div",{style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:18}),n.jsx("span",{children:A})]}),y?n.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading rooms..."})}):n.jsx("div",{className:"grid-container",children:ge.length>0?ge.map(U=>{var V,te,se,Z,K,Y,ce;return n.jsxs("div",{className:"grid-item",children:[n.jsx("div",{className:"grid-item-image-container",style:{position:"relative"},children:((V=U.images)==null?void 0:V.length)>0?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:tM(U.images[0]),alt:U.floor,className:"grid-item-image",onError:xe=>{console.log("Image failed to load:",xe.target.src),xe.target.style.display="none",xe.target.nextSibling.style.display="flex"}}),n.jsxs("div",{style:{display:"none",width:"100%",height:"200px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#9ca3af"},children:[n.jsx(Oo,{size:24}),n.jsx("span",{style:{marginTop:"8px",fontSize:"14px"},children:"Image Not Found"})]})]}):n.jsxs("div",{style:{display:"flex",width:"100%",height:"200px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",color:"#9ca3af"},children:[n.jsx(Oo,{size:24}),n.jsx("span",{style:{marginTop:"8px",fontSize:"14px"},children:"No Image"})]})}),n.jsxs("div",{className:"grid-item-content",children:[n.jsxs("h3",{className:"grid-item-title",children:[U.floor," - Room #",U.roomNumber||"N/A"]}),n.jsx("p",{style:{fontSize:"14px",color:"#6b7280"},children:((te=U.branchId)==null?void 0:te.name)||"No Branch"}),n.jsxs("p",{style:{fontSize:"14px",color:"#6b7280"},children:["Type: ",U.roomType]}),n.jsxs("p",{style:{fontSize:"16px",fontWeight:"600",color:"#059669"},children:["",U.price," ",n.jsx("span",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"normal"},children:"(Basic)"})]}),_[U._id]?n.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#fef3c7",borderRadius:"6px",borderLeft:"3px solid #f59e0b"},children:[n.jsx("p",{style:{fontSize:"12px",fontWeight:"600",color:"#92400e",marginBottom:"4px"},children:" BOOKED"}),n.jsxs("p",{style:{fontSize:"12px",color:"#78350f"},children:[n.jsx("strong",{children:"Guest:"})," ",_[U._id].userName]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Phone:"})," ",_[U._id].userPhone||"N/A"]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Check-in:"})," ",W(_[U._id].checkInDate)," at ",_[U._id].checkInTime]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Check-out:"})," ",W(_[U._id].checkOutDate)," at ",_[U._id].checkOutTime]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Base:"})," ",(se=_[U._id].baseAmount)==null?void 0:se.toFixed(2)," (",_[U._id].nights," nights)"]}),_[U._id].gstType&&_[U._id].gstType!=="none"&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"GST:"})," ",_[U._id].gstType==="gst"?`CGST ${(Z=_[U._id].cgst)==null?void 0:Z.toFixed(2)} + SGST ${(K=_[U._id].sgst)==null?void 0:K.toFixed(2)}`:`IGST ${(Y=_[U._id].igst)==null?void 0:Y.toFixed(2)}`]}),_[U._id].guestGstNumber&&n.jsxs("p",{style:{fontSize:"11px",color:"#78350f"},children:[n.jsx("strong",{children:"Guest GSTIN:"})," ",_[U._id].guestGstNumber]})]}),n.jsxs("p",{style:{fontSize:"11px",color:"#78350f",fontWeight:"600"},children:[n.jsx("strong",{children:"Total:"})," ",(ce=_[U._id].totalPrice)==null?void 0:ce.toFixed(2)]}),n.jsxs("p",{style:{fontSize:"10px",color:"#92400e",marginTop:"4px"},children:["Status: ",n.jsx("span",{style:{textTransform:"uppercase",fontWeight:"600"},children:_[U._id].status})]})]}):n.jsx("p",{style:{fontSize:"12px",color:U.isAvailable?"#059669":"#dc2626",marginTop:"8px"},children:U.isAvailable?" Available":"Not Available"}),n.jsxs("div",{style:{marginTop:"8px",display:"flex",flexWrap:"wrap",gap:"4px"},children:[z(U.amenities).slice(0,4).map(xe=>n.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"4px"},children:xe},xe)),z(U.amenities).length>4&&n.jsxs("span",{style:{fontSize:"10px",padding:"2px 6px",backgroundColor:"#e5e7eb",borderRadius:"4px"},children:["+",z(U.amenities).length-4]})]})]}),n.jsxs("div",{className:"grid-item-actions",style:{display:"flex",gap:"8px",padding:"12px",borderTop:"1px solid #e5e7eb"},children:[n.jsxs("button",{className:"btn-icon",onClick:()=>{x(U),f(!0)},style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:xe=>xe.target.style.backgroundColor="#2563eb",onMouseLeave:xe=>xe.target.style.backgroundColor="#3b82f6",children:[n.jsx(kn,{size:16}),n.jsx("span",{children:"Edit"})]}),n.jsxs("button",{className:"btn-icon-danger",onClick:()=>{b(U),v(!0)},style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:xe=>xe.target.style.backgroundColor="#dc2626",onMouseLeave:xe=>xe.target.style.backgroundColor="#ef4444",children:[n.jsx($n,{size:16}),n.jsx("span",{children:"Delete"})]})]})]},U._id)}):n.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px"},children:[n.jsx(Oo,{size:48,style:{color:"#9ca3af",marginBottom:"16px"}}),n.jsx("p",{style:{color:"#6b7280"},children:"No rooms found"})]})}),u&&n.jsx(Ife,{room:p,branches:r,onClose:()=>f(!1),onSave:q}),g&&j&&n.jsx(Pfe,{room:j,onClose:()=>v(!1),onConfirm:ee})]})},Dfe="https://hotelvirat.com/api/v1/hotel",cu=bt.create({baseURL:Dfe,headers:{"Content-Type":"application/json"}}),Mfe=()=>{var V,te,se,Z,K,Y,ce,xe,pe,Ce,ve,Le;const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState(!0),[u,f]=N.useState(""),[p,x]=N.useState(""),[g,v]=N.useState(""),[j,b]=N.useState(""),[y,C]=N.useState(""),[A,E]=N.useState(""),[S,T]=N.useState(!1),[_,P]=N.useState(null),[L,D]=N.useState(!1),[B,M]=N.useState(null);N.useEffect(()=>{k(),W(),F()},[]);const k=async()=>{d(!0),f("");try{const le=await cu.get("/room-booking");let Ae=le.data;le.data.bookings?Ae=le.data.bookings:le.data.data&&(Ae=le.data.data);const qe=Array.isArray(Ae)?Ae:[];t(qe)}catch(le){console.error("Error fetching bookings:",le),f("Failed to load bookings"),t([])}finally{d(!1)}},W=async()=>{try{const le=await cu.get("/room");let Ae=le.data;le.data.rooms?Ae=le.data.rooms:le.data.data&&(Ae=le.data.data);const qe=Array.isArray(Ae)?Ae:[];a(qe)}catch(le){console.error("Error fetching rooms:",le),a([])}},F=async()=>{try{const le=await cu.get("/branch");let Ae=le.data;le.data.branches?Ae=le.data.branches:le.data.data&&(Ae=le.data.data);const qe=Array.isArray(Ae)?Ae:[];s(qe)}catch(le){console.error("Error fetching branches:",le),s([])}},I=async(le,Ae)=>{try{const qe=await cu.get(`/room-booking/slots/${le}?date=${Ae}`);P(qe.data),T(!0)}catch(qe){console.error("Error fetching time slots:",qe),alert("Failed to load time slots")}},R=async(le,Ae)=>{try{await cu.put(`/room-booking/${le}/status`,{status:Ae}),k(),alert(`Booking ${Ae} successfully`)}catch(qe){console.error("Error updating booking status:",qe),alert("Failed to update booking status")}},X=le=>{M(le),D(!0)},ne=le=>le?new Date(le).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",ge=le=>{if(!le)return"N/A";const[Ae,qe]=le.split(":"),me=parseInt(Ae),ae=me>=12?"PM":"AM";return`${me===0?12:me>12?me-12:me}:${qe} ${ae}`},q=le=>{switch(le){case"confirmed":return{color:"#2563eb",backgroundColor:"#dbeafe"};case"checked-in":return{color:"#059669",backgroundColor:"#d1fae5"};case"checked-out":return{color:"#6b7280",backgroundColor:"#f3f4f6"};case"cancelled":return{color:"#dc2626",backgroundColor:"#fee2e2"};case"cancel-requested":return{color:"#d97706",backgroundColor:"#fef3c7"};default:return{color:"#6b7280",backgroundColor:"#f3f4f6"}}},ee=le=>le.gstOption==="withoutGST"?"Without GST":le.gstOption==="withGST"?`With GST (CGST: ${le.cgst||0}, SGST: ${le.sgst||0})`:le.gstOption==="withIGST"?`With IGST (${le.igst||0})`:"N/A",z=Array.isArray(e)?e.filter(le=>{var re,be,H,de,Se,Ne,je,Qe;const Ae=((re=le.userName)==null?void 0:re.toLowerCase().includes(p.toLowerCase()))||((be=le.userPhone)==null?void 0:be.includes(p))||((de=(H=le.roomId)==null?void 0:H.roomNumber)==null?void 0:de.toString().includes(p))||((Ne=(Se=le.roomId)==null?void 0:Se.floor)==null?void 0:Ne.toLowerCase().includes(p.toLowerCase())),qe=!g||((je=le.branchId)==null?void 0:je._id)===g,me=!j||le.status===j,ae=!y||((Qe=le.roomId)==null?void 0:Qe._id)===y;return Ae&&qe&&me&&ae}):[],U=()=>{const le=[];for(let Ae=0;Ae<24;Ae++){const qe=`${Ae.toString().padStart(2,"0")}:00`,me=Ae===0?"12:00 AM":Ae<12?`${Ae}:00 AM`:Ae===12?"12:00 PM":`${Ae-12}:00 PM`;le.push({value:qe,display:me})}return le};return n.jsxs("div",{style:{padding:"24px",backgroundColor:"#f9fafb",minHeight:"100vh"},children:[n.jsxs("div",{style:{maxWidth:"1280px",margin:"0 auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[n.jsx("h1",{style:{fontSize:"30px",fontWeight:"bold",color:"#111827",margin:0},children:"Room Bookings"}),n.jsxs("button",{onClick:k,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:le=>le.target.style.backgroundColor="#1d4ed8",onMouseOut:le=>le.target.style.backgroundColor="#2563eb",children:[n.jsx(Qi,{size:20}),"Refresh"]})]}),n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",padding:"24px",marginBottom:"24px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{position:"relative"},children:[n.jsx(Mt,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"},size:20}),n.jsx("input",{type:"text",placeholder:"Search by name, phone, room...",value:p,onChange:le=>x(le.target.value),style:{width:"100%",paddingLeft:"40px",paddingRight:"16px",paddingTop:"8px",paddingBottom:"8px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:le=>{le.target.style.borderColor="#3b82f6",le.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:le=>{le.target.style.borderColor="#d1d5db",le.target.style.boxShadow="none"}})]}),n.jsxs("select",{value:g,onChange:le=>v(le.target.value),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"All Branches"}),Array.isArray(i)?i.map(le=>n.jsx("option",{value:le._id,children:le.name},le._id)):[]]}),n.jsxs("select",{value:j,onChange:le=>b(le.target.value),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"checked-in",children:"Checked In"}),n.jsx("option",{value:"checked-out",children:"Checked Out"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"cancel-requested",children:"Cancel Requested"})]}),n.jsxs("select",{value:y,onChange:le=>C(le.target.value),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[n.jsx("option",{value:"",children:"All Rooms"}),Array.isArray(r)?r.map(le=>n.jsxs("option",{value:le._id,children:[le.floor," - Room ",le.roomNumber||"N/A"]},le._id)):[]]}),n.jsx("input",{type:"date",value:A,onChange:le=>E(le.target.value),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),y&&A&&n.jsx("div",{style:{marginTop:"16px"},children:n.jsxs("button",{onClick:()=>I(y,A),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:le=>le.target.style.backgroundColor="#047857",onMouseOut:le=>le.target.style.backgroundColor="#059669",children:[n.jsx(ui,{size:20}),"View Time Slots for Selected Room & Date"]})})]}),u&&n.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fca5a5",color:"#dc2626",padding:"12px 16px",borderRadius:"8px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:20}),u]}),l?n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"48px 0"},children:n.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #e5e7eb",borderTop:"3px solid #2563eb",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):n.jsx(n.Fragment,{children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden"},children:[n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{style:{backgroundColor:"#f9fafb"},children:n.jsxs("tr",{children:[n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Guest"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Room"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Check-in"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Check-out"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"GST Details"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Amount"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Status"}),n.jsx("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),n.jsx("tbody",{style:{backgroundColor:"white"},children:z.map((le,Ae)=>{var qe,me,ae,re;return n.jsxs("tr",{style:{borderTop:Ae>0?"1px solid #e5e7eb":"none"},children:[n.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{style:{flexShrink:0,width:"40px",height:"40px"},children:n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#dbeafe",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(_u,{style:{width:"20px",height:"20px",color:"#2563eb"}})})}),n.jsxs("div",{style:{marginLeft:"16px"},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#111827"},children:le.userName}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(mi,{size:12}),le.userPhone]}),le.userEmail&&n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Mo,{size:12}),le.userEmail]}),(()=>{let be=le.guestGstNumber;if(le.guestGstNumber&&le.guestGstNumber.startsWith("DOCS:"))try{const H=le.guestGstNumber.substring(5);be=JSON.parse(H).gst||""}catch{be=""}return be?n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("span",{style:{fontSize:"12px"},children:"GST:"}),be]}):null})()]})]})}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsxs("div",{style:{fontSize:"14px",fontWeight:"500",color:"#111827"},children:[(qe=le.roomId)==null?void 0:qe.floor," - Room ",((me=le.roomId)==null?void 0:me.roomNumber)||"N/A"]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Au,{size:12}),(ae=le.branchId)==null?void 0:ae.name]}),n.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:(re=le.roomId)==null?void 0:re.roomType})]}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsxs("div",{style:{fontSize:"14px",color:"#111827",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Lr,{size:12}),ne(le.checkInDate)]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(ui,{size:12}),ge(le.checkInTime)]})]}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsxs("div",{style:{fontSize:"14px",color:"#111827",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Lr,{size:12}),ne(le.checkOutDate)]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(ui,{size:12}),ge(le.checkOutTime)]})]}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsx("div",{style:{fontSize:"14px",color:"#111827"},children:ee(le)}),le.gstAmount>0&&n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:["GST: ",le.gstAmount]})]}),n.jsxs("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:[n.jsxs("div",{style:{fontSize:"14px",fontWeight:"500",color:"#111827",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(fj,{size:12}),"",le.totalPrice]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:["Base: ",le.baseAmount]}),n.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[le.nights," night(s)"]})]}),n.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap"},children:n.jsx("span",{style:{display:"inline-flex",padding:"4px 8px",fontSize:"12px",fontWeight:"600",borderRadius:"9999px",...q(le.status)},children:le.status})}),n.jsx("td",{style:{padding:"16px 24px",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"500"},children:n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>X(le),style:{color:"#3b82f6",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"View Details",onMouseOver:be=>be.target.style.backgroundColor="#eff6ff",onMouseOut:be=>be.target.style.backgroundColor="transparent",children:n.jsx(Za,{size:16})}),le.status==="confirmed"&&n.jsx("button",{onClick:()=>R(le._id,"checked-in"),style:{color:"#059669",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"Check In",onMouseOver:be=>be.target.style.backgroundColor="#f0fdf4",onMouseOut:be=>be.target.style.backgroundColor="transparent",children:n.jsx(ko,{size:16})}),le.status==="checked-in"&&n.jsx("button",{onClick:()=>R(le._id,"checked-out"),style:{color:"#2563eb",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"Check Out",onMouseOver:be=>be.target.style.backgroundColor="#eff6ff",onMouseOut:be=>be.target.style.backgroundColor="transparent",children:n.jsx(ko,{size:16})}),(le.status==="confirmed"||le.status==="checked-in")&&n.jsx("button",{onClick:()=>R(le._id,"cancelled"),style:{color:"#dc2626",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"Cancel",onMouseOver:be=>be.target.style.backgroundColor="#fef2f2",onMouseOut:be=>be.target.style.backgroundColor="transparent",children:n.jsx(Np,{size:16})}),le.status==="cancel-requested"&&n.jsx("button",{onClick:()=>R(le._id,"cancelled"),style:{color:"#d97706",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px",borderRadius:"4px"},title:"Approve Cancellation",onMouseOver:be=>be.target.style.backgroundColor="#fffbeb",onMouseOut:be=>be.target.style.backgroundColor="transparent",children:n.jsx(ko,{size:16})})]})})]},le._id)})})]})}),z.length===0&&n.jsx("div",{style:{textAlign:"center",padding:"48px 0"},children:n.jsx("div",{style:{color:"#6b7280"},children:"No bookings found"})})]})}),L&&B&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"0",maxWidth:"800px",width:"90%",margin:"16px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px",borderBottom:"1px solid #e5e7eb",backgroundColor:"#f8fafc",borderRadius:"12px 12px 0 0"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",margin:0,color:"#1f2937"},children:"Booking Details"}),n.jsxs("p",{style:{fontSize:"14px",color:"#6b7280",margin:"4px 0 0"},children:["Booking ID: ",B._id]})]}),n.jsx("button",{onClick:()=>D(!1),style:{color:"#6b7280",backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"all 0.2s"},onMouseOver:le=>{le.target.style.backgroundColor="#f3f4f6",le.target.style.color="#374151"},onMouseOut:le=>{le.target.style.backgroundColor="transparent",le.target.style.color="#6b7280"},children:n.jsx(Np,{size:24})})]}),n.jsxs("div",{style:{padding:"24px"},children:[n.jsx("div",{style:{marginBottom:"24px",textAlign:"center"},children:n.jsx("span",{style:{display:"inline-flex",padding:"8px 16px",fontSize:"14px",fontWeight:"600",borderRadius:"20px",textTransform:"capitalize",...q(B.status)},children:B.status})}),n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(_u,{size:20,color:"#3b82f6"}),"Guest Information"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Name"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:B.userName||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Phone"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(mi,{size:16,color:"#10b981"}),B.userPhone||"N/A"]})]}),B.userEmail&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Email"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Mo,{size:16,color:"#3b82f6"}),B.userEmail]})]}),(()=>{let le=B.guestGstNumber;if(B.guestGstNumber&&B.guestGstNumber.startsWith("DOCS:"))try{const Ae=B.guestGstNumber.substring(5);le=JSON.parse(Ae).gst||""}catch{le=""}return le?n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"GST Number"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:le})]}):null})()]})]}),n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Au,{size:20,color:"#10b981"}),"Room Information"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#166534",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Room Number"}),n.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#166534"},children:((V=B.roomId)==null?void 0:V.roomNumber)||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Floor"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:((te=B.roomId)==null?void 0:te.floor)||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Room Type"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:((se=B.roomId)==null?void 0:se.roomType)||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Branch"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:((Z=B.branchId)==null?void 0:Z.name)||"N/A"})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Room Price"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:["",((K=B.roomId)==null?void 0:K.price)||0,"/night"]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Capacity"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:[((ce=(Y=B.roomId)==null?void 0:Y.capacity)==null?void 0:ce.adults)||2," Adults",((pe=(xe=B.roomId)==null?void 0:xe.capacity)==null?void 0:pe.children)>0&&`, ${B.roomId.capacity.children} Children`]})]})]})]}),((Ce=B.roomId)==null?void 0:Ce.amenities)&&n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:" Room Amenities"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"8px"},children:Object.entries(B.roomId.amenities).map(([le,Ae])=>Ae&&n.jsxs("div",{style:{padding:"8px 12px",backgroundColor:"#f0fdf4",borderRadius:"6px",border:"1px solid #bbf7d0",fontSize:"14px",color:"#166534",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("span",{style:{fontSize:"12px"},children:""}),le.charAt(0).toUpperCase()+le.slice(1).replace(/([A-Z])/g," $1")]},le))})]}),n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Lr,{size:20,color:"#f59e0b"}),"Stay Information"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{padding:"16px",backgroundColor:"#fefbf3",borderRadius:"8px",border:"1px solid #fed7aa"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#92400e",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Check-in"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#92400e",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Lr,{size:16}),ne(B.checkInDate)]}),n.jsxs("div",{style:{fontSize:"14px",color:"#92400e",marginTop:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(ui,{size:14}),ge(B.checkInTime)]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#fefbf3",borderRadius:"8px",border:"1px solid #fed7aa"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#92400e",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Check-out"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#92400e",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Lr,{size:16}),ne(B.checkOutDate)]}),n.jsxs("div",{style:{fontSize:"14px",color:"#92400e",marginTop:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(ui,{size:14}),ge(B.checkOutTime)]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Duration"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:[B.nights||1," night(s)"]})]})]})]}),n.jsxs("div",{style:{marginBottom:"32px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(fj,{size:20,color:"#059669"}),"Payment Information"]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#166534",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Total Amount"}),n.jsxs("div",{style:{fontSize:"20px",fontWeight:"600",color:"#166534"},children:["",B.totalPrice||0]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Base Amount"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:["",B.baseAmount||0]})]}),B.gstAmount>0&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"GST Amount"}),n.jsxs("div",{style:{fontSize:"16px",fontWeight:"500",color:"#1f2937"},children:["",B.gstAmount]})]}),n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"GST Details"}),n.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:ee(B)})]})]})]}),(B.specialRequests||B.notes||B.createdAt||B.documents)&&n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#1f2937"},children:"Additional Information"}),n.jsxs("div",{style:{display:"grid",gap:"16px"},children:[B.guestGstNumber&&B.guestGstNumber.startsWith("DOCS:")?(()=>{try{const le=B.guestGstNumber.substring(5),qe=JSON.parse(le).documents;return n.jsxs("div",{style:{padding:"20px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[n.jsx("div",{style:{fontSize:"16px",color:"#334155",marginBottom:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:" Identity Documents"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:[qe.panCard&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#dbeafe",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"4px"},children:"PAN Card"}),n.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:qe.panCard.name})]})]}),qe.panCard.data&&qe.panCard.type.startsWith("image/")&&n.jsx("div",{style:{marginBottom:"12px"},children:n.jsx("img",{src:qe.panCard.data,alt:"PAN Card",style:{width:"100%",maxHeight:"200px",objectFit:"contain",borderRadius:"6px",border:"1px solid #e2e8f0"}})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",fontSize:"12px",color:"#6b7280"},children:[n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Size: "}),(qe.panCard.size/1024/1024).toFixed(2)," MB"]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Type: "}),qe.panCard.type]})]}),n.jsx("div",{style:{marginTop:"12px",padding:"8px 12px",borderRadius:"6px",backgroundColor:"#f0fdf4",color:"#059669",fontSize:"12px",fontWeight:"500",textAlign:"center"},children:" Document Available"})]}),qe.aadhaarCard&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#dbeafe",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"4px"},children:"Aadhaar Card"}),n.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:qe.aadhaarCard.name})]})]}),qe.aadhaarCard.data&&qe.aadhaarCard.type.startsWith("image/")&&n.jsx("div",{style:{marginBottom:"12px"},children:n.jsx("img",{src:qe.aadhaarCard.data,alt:"Aadhaar Card",style:{width:"100%",maxHeight:"200px",objectFit:"contain",borderRadius:"6px",border:"1px solid #e2e8f0"}})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",fontSize:"12px",color:"#6b7280"},children:[n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Size: "}),(qe.aadhaarCard.size/1024/1024).toFixed(2)," MB"]}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Type: "}),qe.aadhaarCard.type]})]}),n.jsx("div",{style:{marginTop:"12px",padding:"8px 12px",borderRadius:"6px",backgroundColor:"#f0fdf4",color:"#059669",fontSize:"12px",fontWeight:"500",textAlign:"center"},children:" Document Available"})]})]})]})}catch(le){return n.jsxs("div",{style:{padding:"16px",backgroundColor:"#fee2e2",borderRadius:"8px",color:"#dc2626"},children:["Error parsing document data: ",le.message]})}})():n.jsx("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:n.jsx("div",{style:{fontSize:"14px",color:"#6b7280",textAlign:"center",fontStyle:"italic"},children:" No identity documents were uploaded for this booking"})}),B.specialRequests&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Special Requests"}),n.jsx("div",{style:{fontSize:"14px",color:"#1f2937"},children:B.specialRequests})]}),B.notes&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Notes"}),n.jsx("div",{style:{fontSize:"14px",color:"#1f2937"},children:B.notes})]}),B.createdAt&&n.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:"Booking Created"}),n.jsx("div",{style:{fontSize:"14px",color:"#1f2937"},children:new Date(B.createdAt).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]}),n.jsx("div",{style:{padding:"24px",borderTop:"1px solid #e5e7eb",backgroundColor:"#f8fafc",borderRadius:"0 0 12px 12px",display:"flex",justifyContent:"flex-end",gap:"12px"},children:n.jsx("button",{onClick:()=>D(!1),style:{padding:"10px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:le=>le.target.style.backgroundColor="#4b5563",onMouseOut:le=>le.target.style.backgroundColor="#6b7280",children:"Close"})})]})}),S&&_&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"24px",maxWidth:"672px",width:"100%",margin:"16px",maxHeight:"80vh",overflowY:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",margin:0},children:["Time Slots for ",A]}),n.jsx("button",{onClick:()=>T(!1),style:{color:"#6b7280",backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"4px",borderRadius:"4px"},onMouseOver:le=>le.target.style.color="#374151",onMouseOut:le=>le.target.style.color="#6b7280",children:n.jsx(Np,{size:24})})]}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("p",{style:{fontSize:"14px",color:"#4b5563",margin:"4px 0"},children:["Room: ",Array.isArray(r)?(ve=r.find(le=>le._id===y))==null?void 0:ve.floor:"N/A"," - Room ",Array.isArray(r)?(Le=r.find(le=>le._id===y))==null?void 0:Le.roomNumber:"N/A"]}),n.jsxs("p",{style:{fontSize:"14px",color:"#4b5563",margin:"4px 0"},children:["Available Slots: ",_.availableSlots," / 24"]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:U().map(le=>{const Ae=_.bookedSlots.includes(le.value);return n.jsxs("div",{style:{padding:"8px",textAlign:"center",borderRadius:"4px",fontSize:"14px",backgroundColor:Ae?"#fef2f2":"#f0fdf4",color:Ae?"#991b1b":"#166534",border:`1px solid ${Ae?"#fca5a5":"#bbf7d0"}`},children:[n.jsx("div",{style:{fontWeight:"500"},children:le.display}),n.jsx("div",{style:{fontSize:"12px"},children:Ae?"Booked":"Available"})]},le.value)})})]})})]}),n.jsx("style",{jsx:!0,children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},Ffe="https://hotelvirat.com/api/v1/hotel",Bfe=bt.create({baseURL:Ffe,headers:{"Content-Type":"application/json"}}),Lfe=()=>{const[e,t]=N.useState({totalCash:0,totalOnline:0,totalCollected:0,totalPending:0,bookingCount:0}),[r,a]=N.useState([]),[i,s]=N.useState(!0),[l,d]=N.useState(""),[u,f]=N.useState(""),[p,x]=N.useState(new Date().toISOString().split("T")[0]),[g,v]=N.useState(new Date().toISOString().split("T")[0]);N.useEffect(()=>{j()},[p,g]);const j=async()=>{s(!0),d("");try{const _=await Bfe.get(`/room-booking/payment-summary?startDate=${p}&endDate=${g}`);t(_.data.summary),a(_.data.bookings)}catch(_){console.error("Error fetching payment summary:",_),d("Failed to load payment data")}finally{s(!1)}},b=_=>_?new Date(_).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",y=_=>_?new Date(_).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",C=Array.isArray(r)?r.filter(_=>{var L,D,B;const P=u.toLowerCase();return((L=_.guestName)==null?void 0:L.toLowerCase().includes(P))||((D=_.roomNumber)==null?void 0:D.toLowerCase().includes(P))||((B=_.branchName)==null?void 0:B.toLowerCase().includes(P))}):[],A=()=>{const _=C.map(D=>({Room:D.roomNumber,"Guest Name":D.guestName,Branch:D.branchName,"Check-in":b(D.checkInDate),"Check-out":b(D.checkOutDate),"Total Amount":D.totalPrice,"Cash Paid":D.cashAmount,"Online Paid":D.onlineAmount,"Total Paid":D.amountPaid,Balance:D.totalPrice-D.amountPaid,Status:D.paymentStatus,"Booking Date":y(D.createdAt)})),P=oc.json_to_sheet(_),L=oc.book_new();oc.book_append_sheet(L,P,"Room Payments"),Q5(L,`room-payments-${p}-to-${g}.xlsx`)},E=()=>{const _=new Date().toISOString().split("T")[0];x(_),v(_)},S=()=>{const _=new Date,P=new Date(_);P.setDate(_.getDate()-_.getDay()),x(P.toISOString().split("T")[0]),v(_.toISOString().split("T")[0])},T=()=>{const _=new Date,P=new Date(_.getFullYear(),_.getMonth(),1);x(P.toISOString().split("T")[0]),v(_.toISOString().split("T")[0])};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Room Payment Collections"}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-outline",onClick:j,children:[n.jsx(Qi,{size:16}),n.jsx("span",{children:"Refresh"})]}),n.jsxs("button",{className:"btn btn-primary",onClick:A,children:[n.jsx(On,{size:16}),n.jsx("span",{children:"Export"})]})]})]}),n.jsx("div",{className:"filters-bar",style:{marginBottom:"20px"},children:n.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Lr,{size:18}),n.jsx("input",{type:"date",value:p,onChange:_=>x(_.target.value),className:"filter-select"}),n.jsx("span",{children:"to"}),n.jsx("input",{type:"date",value:g,onChange:_=>v(_.target.value),className:"filter-select"})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{className:"btn btn-outline btn-sm",onClick:E,children:"Today"}),n.jsx("button",{className:"btn btn-outline btn-sm",onClick:S,children:"This Week"}),n.jsx("button",{className:"btn btn-outline btn-sm",onClick:T,children:"This Month"})]})]})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[n.jsxs("div",{style:{backgroundColor:"#f0fdf4",padding:"20px",borderRadius:"12px",border:"1px solid #bbf7d0"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx(ZL,{size:24,color:"#16a34a"}),n.jsx("span",{style:{color:"#166534",fontWeight:"500"},children:"Cash Collection"})]}),n.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#16a34a"},children:["",e.totalCash.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),n.jsxs("div",{style:{backgroundColor:"#eff6ff",padding:"20px",borderRadius:"12px",border:"1px solid #bfdbfe"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx(Xr,{size:24,color:"#2563eb"}),n.jsx("span",{style:{color:"#1e40af",fontWeight:"500"},children:"Online Collection"})]}),n.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#2563eb"},children:["",e.totalOnline.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),n.jsxs("div",{style:{backgroundColor:"#faf5ff",padding:"20px",borderRadius:"12px",border:"1px solid #e9d5ff"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx(fj,{size:24,color:"#9333ea"}),n.jsx("span",{style:{color:"#6b21a8",fontWeight:"500"},children:"Total Collected"})]}),n.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#9333ea"},children:["",e.totalCollected.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),n.jsxs("div",{style:{backgroundColor:"#fef2f2",padding:"20px",borderRadius:"12px",border:"1px solid #fecaca"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[n.jsx(Dt,{size:24,color:"#dc2626"}),n.jsx("span",{style:{color:"#991b1b",fontWeight:"500"},children:"Pending Amount"})]}),n.jsxs("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#dc2626"},children:["",e.totalPending.toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by guest name, room number...",className:"search-input",value:u,onChange:_=>f(_.target.value)})]}),n.jsxs("div",{style:{color:"#6b7280",fontSize:"14px"},children:[C.length," booking(s) found"]})]}),l&&n.jsxs("div",{style:{padding:"15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx(Dt,{size:18}),l]}),n.jsx("div",{className:"data-card",children:i?n.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[n.jsx(Qi,{size:24,className:"animate-spin"}),n.jsx("p",{children:"Loading payment data..."})]}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Room"}),n.jsx("th",{children:"Guest"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Check-in"}),n.jsx("th",{children:"Total"}),n.jsx("th",{children:" Cash"}),n.jsx("th",{children:" Online"}),n.jsx("th",{children:"Balance"}),n.jsx("th",{children:"Status"})]})}),n.jsx("tbody",{children:C.length>0?C.map(_=>{var L,D,B;const P=_.totalPrice-_.amountPaid;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsx("strong",{children:_.roomNumber})}),n.jsx("td",{children:_.guestName}),n.jsx("td",{children:_.branchName}),n.jsx("td",{children:b(_.checkInDate)}),n.jsxs("td",{children:["",(L=_.totalPrice)==null?void 0:L.toFixed(2)]}),n.jsxs("td",{style:{color:"#16a34a",fontWeight:"500"},children:["",(D=_.cashAmount)==null?void 0:D.toFixed(2)]}),n.jsxs("td",{style:{color:"#2563eb",fontWeight:"500"},children:["",(B=_.onlineAmount)==null?void 0:B.toFixed(2)]}),n.jsx("td",{style:{color:P>0?"#dc2626":"#16a34a",fontWeight:"500"},children:P>0?`${P.toFixed(2)}`:" Paid"}),n.jsx("td",{children:n.jsx("span",{className:`status-badge ${_.paymentStatus}`,children:_.paymentStatus})})]},_._id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"9",style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:"No bookings found for the selected date range"})})})]})})]})},zfe=({user:e,onClose:t,onSave:r,categories:a,isEditMode:i})=>{var b,y;const[s,l]=N.useState({name:(e==null?void 0:e.name)||"",username:(e==null?void 0:e.username)||"",password:"",categoryId:((b=e==null?void 0:e.categoryId)==null?void 0:b._id)||(e==null?void 0:e.categoryId)||"",categoryName:(e==null?void 0:e.categoryName)||"",branchId:((y=e==null?void 0:e.branchId)==null?void 0:y._id)||(e==null?void 0:e.branchId)||"",branchName:(e==null?void 0:e.branchName)||"",isActive:(e==null?void 0:e.isActive)!==!1}),[d,u]=N.useState(!1),[f,p]=N.useState(null),[x,g]=N.useState(!1),v=C=>{var _,P;const{name:A,value:E,type:S,checked:T}=C.target;if(A==="categoryId"){const L=a.find(D=>D._id===E);l({...s,categoryId:E,categoryName:(L==null?void 0:L.name)||"",branchId:(L==null?void 0:L.branchId)||((_=L==null?void 0:L.branch)==null?void 0:_._id)||"",branchName:((P=L==null?void 0:L.branch)==null?void 0:P.name)||""})}else l({...s,[A]:S==="checkbox"?T:E});p(null)},j=async C=>{C.preventDefault(),p(null),g(!0);try{if(!s.categoryId)throw new Error("Please select a category");if(!i&&!s.password)throw new Error("Password is required");await r(s,e==null?void 0:e._id),t()}catch(A){p(A.message||"Failed to save category access user")}finally{g(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:i?"Edit Category Access":"Add Category Access"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{className:"modal-body",children:[f&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626",padding:"10px",borderRadius:"4px",marginBottom:"15px"},children:f}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"categoryId",children:["Category ",n.jsx("span",{className:"required",children:"*"})]}),n.jsxs("select",{id:"categoryId",name:"categoryId",className:"form-select",value:s.categoryId,onChange:v,required:!0,disabled:x,children:[n.jsx("option",{value:"",children:"Select Category"}),a.map(C=>{var A;return n.jsxs("option",{value:C._id,children:[C.name," ",(A=C.branch)!=null&&A.name?`(${C.branch.name})`:""]},C._id)})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Staff Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:s.name,onChange:v,required:!0,disabled:x,placeholder:"Enter staff name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"username",children:["Username ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"username",name:"username",className:"form-input",value:s.username,onChange:v,required:!0,disabled:x,placeholder:"Enter username for login"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"password",children:["Password ",!i&&n.jsx("span",{className:"required",children:"*"})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("input",{type:d?"text":"password",id:"password",name:"password",className:"form-input",value:s.password,onChange:v,required:!i,disabled:x,placeholder:i?"Leave blank to keep current":"Enter password",style:{paddingRight:"40px"}}),n.jsx("button",{type:"button",onClick:()=>u(!d),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#6b7280"},children:d?n.jsx(rw,{size:18}):n.jsx(Za,{size:18})})]})]}),i&&n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"checkbox",name:"isActive",checked:s.isActive,onChange:v,disabled:x}),"Active"]})})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:x,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x,children:x?"Saving...":i?"Update":"Add Access"})]})]})]})})},$fe=({user:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error("Error deleting:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Category Access"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete access for ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Ufe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(!1),[u,f]=N.useState(null),[p,x]=N.useState(!1),[g,v]=N.useState(null),[j,b]=N.useState(""),[y,C]=N.useState(""),[A,E]=N.useState(!1),S="https://hotelvirat.com/api/v1/hotel/category-access",T="https://hotelvirat.com/api/v1/hotel/category",_=async()=>{try{const I=await fetch(T);if(!I.ok)throw new Error("Failed to fetch categories");const R=await I.json();a(Array.isArray(R)?R:[])}catch(I){console.error("Error fetching categories:",I)}},P=async()=>{E(!0),C("");try{const I=await fetch(S);if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const R=await I.json();t(Array.isArray(R)?R:[])}catch(I){console.error("Fetch error:",I),C(`Failed to fetch category access users: ${I.message}`),t([])}finally{E(!1)}};N.useEffect(()=>{_(),P()},[]);const L=()=>{f(null),d(!0)},D=I=>{f(I),d(!0)},B=I=>{v(I),x(!0)},M=async(I,R)=>{try{const X=R?`${S}/${R}`:S,ne=R?"PUT":"POST",ge={...I};R&&!ge.password&&delete ge.password;const q=await fetch(X,{method:ne,headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)}),ee=await q.json();if(!q.ok)throw new Error(ee.message||"Failed to save");b(`Category access ${R?"updated":"added"} successfully`),setTimeout(()=>b(""),3e3),await P()}catch(X){throw new Error(X.message)}},k=async I=>{try{const R=await fetch(`${S}/${I}`,{method:"DELETE"}),X=await R.json();if(!R.ok)throw new Error(X.message||"Failed to delete");b("Category access deleted successfully"),setTimeout(()=>b(""),3e3),await P()}catch(R){C(R.message),setTimeout(()=>C(""),3e3)}},W=I=>I?new Date(I).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"N/A",F=e.filter(I=>{var R,X,ne;return((R=I.name)==null?void 0:R.toLowerCase().includes(i.toLowerCase()))||((X=I.username)==null?void 0:X.toLowerCase().includes(i.toLowerCase()))||((ne=I.categoryName)==null?void 0:ne.toLowerCase().includes(i.toLowerCase()))});return n.jsxs("div",{className:"category-access-page",children:[j&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),children:""})]}),y&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:y}),n.jsx("button",{onClick:()=>C(""),style:{color:"#dc2626"},children:""})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Category Access"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:L,disabled:A,children:[n.jsx(Fc,{size:16}),n.jsx("span",{children:"Add Category Access"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by name, username or category...",className:"search-input",value:i,onChange:I=>s(I.target.value)})]})}),n.jsx("div",{className:"data-card",children:A?n.jsx("div",{className:"empty-state",children:"Loading..."}):F.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No category access users found. ",i?"Try a different search.":"Add a new user to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Username"}),n.jsx("th",{children:"Category"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Created"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:F.map(I=>{var R,X;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:(R=I.name)==null?void 0:R.charAt(0).toUpperCase()}),I.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(BI,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),I.username]})}),n.jsx("td",{children:I.categoryName||((X=I.categoryId)==null?void 0:X.name)||"N/A"}),n.jsx("td",{children:n.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:I.isActive?"#dcfce7":"#fee2e2",color:I.isActive?"#166534":"#dc2626"},children:I.isActive?"Active":"Inactive"})}),n.jsx("td",{children:W(I.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>D(I),disabled:A,children:n.jsx(kn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>B(I),disabled:A,children:n.jsx($n,{size:14})})]})})]},I._id)})})]})}),l&&n.jsx(zfe,{user:u,onClose:()=>d(!1),onSave:M,categories:r,isEditMode:!!u}),p&&n.jsx($fe,{user:g,onClose:()=>x(!1),onConfirm:k})]})},qfe=()=>{const e=Zr(),[t,r]=N.useState(null),[a,i]=N.useState([]),[s,l]=N.useState([]),[d,u]=N.useState(!0),[f,p]=N.useState(""),[x,g]=N.useState(""),[v,j]=N.useState(""),[b,y]=N.useState("all"),[C,A]=N.useState(!1),[E,S]=N.useState(null);N.useEffect(()=>{const I=localStorage.getItem("userType"),R=localStorage.getItem("categoryStaffData");if(I!=="category-staff"||!R){e("/login");return}r(JSON.parse(R))},[e]),N.useEffect(()=>{t&&_()},[t,b]);const T=I=>{var z,U,V,te,se;const R=((z=I.categoryName)==null?void 0:z.toLowerCase())||"",X=((U=I.branchName)==null?void 0:U.toLowerCase())||"",ne=((V=I.customerName)==null?void 0:V.toLowerCase())||"",ge=((te=I.deliveryOption)==null?void 0:te.toLowerCase())||"",q=((se=I.tableNumber)==null?void 0:se.toString().toLowerCase())||"",ee=(I.orderId||I.orderNumber||I._id||"").toLowerCase();return ee.includes("-tm-")||ee.includes("temple")?"Temple Meals":ee.includes("-ss-")||ee.includes("counter")?"Self Service":ee.includes("-res-")?"Restaurant":R.includes("temple")||R.includes("prasad")||R.includes("pooja")||X.includes("temple")||ne.includes("temple")?"Temple Meals":R.includes("self")||R.includes("counter")||q.includes("counter")||q.includes("self")||q.includes("mobile order")||ge==="pickup"?"Self Service":"Restaurant"},_=async()=>{if(t!=null&&t.categoryId){u(!0),p("");try{const I=t.categoryId._id||t.categoryId,R=Date.now();console.log(" CategoryOrders - Fetching orders for category:",t.categoryName),console.log(" CategoryOrders - Category ID:",I);const[X,ne]=await Promise.all([Rt(`/staff-order?_t=${R}`,{},!0).catch(()=>[]),Rt(`/order?limit=1000&_t=${R}`,{},!0).catch(()=>[])]);let ge=[];try{const K=await Rt(`/orders?_t=${R}`,{},!0).catch(()=>[]);ge=Array.isArray(K)?K:K.data||[]}catch(K){console.log("Additional orders fetch failed:",K)}const q=Array.isArray(X)?X:X.orders||[],ee=Array.isArray(ne)?ne:ne.data||[];console.log(" CategoryOrders - Raw API responses:",{staffOrdersCount:q.length,onlineOrdersCount:ee.length,sampleOnlineOrder:ee[0]||"No online orders",additionalOrdersCount:ge.length}),ee.length>0&&(console.log(" CategoryOrders - First 3 online orders structure:"),ee.slice(0,3).forEach((K,Y)=>{var ce;console.log(`  Order ${Y+1}:`,{id:K._id,orderId:K.orderId||K.orderNumber,categoryName:K.categoryName,name:K.name,deliveryOption:K.deliveryOption,createdAt:K.createdAt,items:((ce=K.items)==null?void 0:ce.length)||0})}));const z=ee.map(K=>{var pe,Ce;let Y="Restaurant";const ce=(K.orderId||K.orderNumber||K._id||"").toLowerCase();if(ce.includes("-tm-")||ce.includes("temple")?Y="Temple Meals":ce.includes("-ss-")||ce.includes("counter")?Y="Self Service":ce.includes("-res-")&&(Y="Restaurant"),K.items&&K.items.length>0){const ve=K.items.map(Le=>Le.categoryId).filter(Boolean);if(ve.length>0){const Le={};ve.forEach(qe=>{Le[qe]=(Le[qe]||0)+1});const le=Object.keys(Le).reduce((qe,me)=>Le[qe]>Le[me]?qe:me),Ae={"692fe2788b36a58df247e06f":"Restaurant","692fe2978b36a58df247e072":"Self Service","692fe2ae8b36a58df247e075":"Temple Meals"};Ae[le]&&(Y=Ae[le])}}const xe={...K,customerName:K.name||K.customerName||"Mobile User",customerMobile:K.phone||K.customerMobile||K.customerPhone,tableNumber:K.tableNumber||"Mobile Order",branchName:((pe=K.branchId)==null?void 0:pe.name)||K.branchName||"Hotel Virat",grandTotal:K.total||K.grandTotal||K.totalAmount,status:K.status||"pending",items:K.items||[],categoryName:Y};return console.log("DEBUG - Transformed online order:",{orderId:xe.orderId||xe.orderNumber||xe._id,originalCategoryName:K.categoryName,assignedCategoryName:xe.categoryName,hasDeliveryAddress:!!K.deliveryAddress,deliveryOption:K.deliveryOption,tableNumber:xe.tableNumber,orderSource:K.orderSource,itemCategoryIds:((Ce=K.items)==null?void 0:Ce.map(ve=>ve.categoryId))||[]}),xe}),V=[...q,...z,...ge].filter((K,Y,ce)=>{const xe=K.orderId||K.orderNumber||K._id;return Y===ce.findIndex(pe=>(pe.orderId||pe.orderNumber||pe._id)===xe)}),te=V.filter(K=>{var ve,Le;const Y=K.orderId||K.orderNumber||K._id||"UNKNOWN";if(!Y||Y==="UNKNOWN")return!1;const ce=((ve=K.categoryName)==null?void 0:ve.toLowerCase().trim())||"",xe=t.categoryName.toLowerCase().trim(),pe=Y.toLowerCase();if(console.log(` CategoryOrders - Filtering order ${Y}:`,{orderCategoryName:ce,staffCategoryName:xe,orderIdLower:pe,orderSource:K.orderSource,hasItems:!!((Le=K.items)!=null&&Le.length)}),ce&&ce!==""&&(ce===xe||ce.replace(/\s+/g,"")===xe.replace(/\s+/g,"")))return console.log(` CategoryOrders - Order ${Y} matched by category name`),!0;if((xe.includes("self")||xe.includes("service"))&&(pe.includes("-ss-")||pe.includes("counter")))return console.log(` CategoryOrders - Order ${Y} matched Self Service by ID pattern`),!0;if((xe.includes("temple")||xe.includes("meal"))&&(pe.includes("-tm-")||pe.includes("temple")))return console.log(` CategoryOrders - Order ${Y} matched Temple Meals by ID pattern`),!0;if(xe.includes("restaurant")&&pe.includes("-res-"))return console.log(` CategoryOrders - Order ${Y} matched Restaurant by ID pattern`),!0;if(K.items&&Array.isArray(K.items)&&K.items.some(Ae=>{var ae,re;const qe=((ae=Ae.categoryId)==null?void 0:ae._id)||Ae.categoryId,me=((re=Ae.categoryId)==null?void 0:re.name)||Ae.categoryName;if(qe===I)return console.log(` CategoryOrders - Order ${Y} matched by item categoryId: ${qe}`),!0;if(me){const be=me.toLowerCase().trim();if(be===xe||be.replace(/\s+/g,"")===xe.replace(/\s+/g,""))return console.log(` CategoryOrders - Order ${Y} matched by item categoryName: ${me}`),!0}return!1}))return!0;const Ce=T(K);return Ce&&Ce.toLowerCase().trim()===xe?(console.log(` CategoryOrders - Order ${Y} matched by determined category: ${Ce}`),!0):(console.log(` CategoryOrders - Order ${Y} did not match any criteria`),!1)});console.log(" CategoryOrders - Filtering summary:",{totalUniqueOrders:V.length,categoryOrdersFound:te.length,staffCategoryName:t.categoryName,categoryOrderIds:te.map(K=>K.orderId||K.orderNumber||K._id).slice(0,5)});let se=te;b!=="all"&&(se=se.filter(K=>K.status===b));const Z=se.filter(K=>K.orderId||K.orderNumber||K._id).sort((K,Y)=>{const ce=new Date(K.orderTime||K.createdAt||0);return new Date(Y.orderTime||Y.createdAt||0)-ce}).map((K,Y)=>{var ce,xe;return{id:K._id||`temp-id-${Y}`,orderId:K.orderId||K.orderNumber||`UNKNOWN-${Y}`,customer:K.isGuestOrder?K.customerName:((ce=K.userId)==null?void 0:ce.name)||"Unknown",customerType:K.isGuestOrder?"Guest":"Staff",customerMobile:K.isGuestOrder?K.customerMobile:((xe=K.userId)==null?void 0:xe.mobile)||"N/A",date:new Date(K.orderTime||K.createdAt||Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),branch:K.branchName||"Unknown Branch",tableNumber:K.tableNumber||"N/A",peopleCount:K.peopleCount||0,items:!K.items||!Array.isArray(K.items)?[]:K.items.filter(Ce=>{var le,Ae;const ve=((le=Ce.categoryId)==null?void 0:le._id)||Ce.categoryId,Le=((Ae=Ce.categoryId)==null?void 0:Ae.name)||Ce.categoryName;if(ve===I)return!0;if(Le){const qe=Le.toLowerCase().trim(),me=t.categoryName.toLowerCase().trim();return qe===me||qe.replace(/\s+/g,"")===me.replace(/\s+/g,"")}return!1}),allItems:K.items||[],status:K.status||"pending",paymentStatus:K.paymentStatus||"pending",grandTotal:K.grandTotal||0,originalOrder:K,sortDate:new Date(K.orderTime||K.createdAt||0)}});i(Z)}catch(I){console.error("Error fetching orders:",I),p("Failed to load orders. Please try again.")}finally{u(!1)}}};N.useEffect(()=>{const I=a.filter(R=>{var ne,ge,q;if(!v.trim())return!0;const X=v.trim().toLowerCase();return((ne=R.orderId)==null?void 0:ne.toLowerCase().includes(X))||((ge=R.tableNumber)==null?void 0:ge.toLowerCase().includes(X))||((q=R.customer)==null?void 0:q.toLowerCase().includes(X))});l(I)},[a,v]);const P=I=>{S(I),A(!0)},L=async(I,R)=>{var X,ne;try{const ge=I.tableNumber==="Mobile Order"||((X=I.originalOrder)==null?void 0:X.tableNumber)==="Mobile Order",ee=((ne=I.originalOrder)==null?void 0:ne.isGuestOrder)!==void 0&&!ge?`/staff-order/${I.id}/payment-status`:`/order/${I.id}/payment-status`;console.log(" Payment Status Update:",{orderId:I.orderId,endpoint:ee,newPaymentStatus:R}),await Rt(ee,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentStatus:R})}),g(`Order ${I.orderId} payment status updated to ${R}`),setTimeout(()=>g(""),3e3),_()}catch(ge){console.error("Error updating payment status:",ge),p("Failed to update payment status"),setTimeout(()=>p(""),3e3)}},D=async(I,R)=>{var X,ne;try{const ge=I.tableNumber==="Mobile Order"||((X=I.originalOrder)==null?void 0:X.tableNumber)==="Mobile Order",q=((ne=I.originalOrder)==null?void 0:ne.isGuestOrder)!==void 0&&!ge;console.log(" Status Update Debug:",{orderId:I.orderId,tableNumber:I.tableNumber,isMobileOrder:ge,isActualStaffOrder:q,originalOrder:!!I.originalOrder});const ee=q?`/staff-order/${I.id}/status`:`/order/${I.id}/status`;let z=R;q||R==="served"&&(z="delivered"),console.log(" Status Update:",{endpoint:ee,statusToSend:z,originalStatus:R}),await Rt(ee,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:z})}),g(`Order ${I.orderId} status updated to ${R}`),setTimeout(()=>g(""),3e3),_()}catch(ge){console.error("Error updating status:",ge),p("Failed to update order status"),setTimeout(()=>p(""),3e3)}},B=I=>{const R=I.items.reduce((ee,z)=>ee+z.price*z.quantity,0),X=R*.025,ne=R*.025,ge=R+X+ne,q=window.open("","_blank","width=302,height=600");q.document.write(`
      <html>
        <head>
          <title>Bill</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            @page { 
              size: 80mm auto; 
              margin: 0; 
            }
            @media print {
              html, body { 
                width: 80mm; 
                margin: 0; 
                padding: 0;
              }
            }
            body {
              font-family: 'Courier New', Courier, monospace;
              font-size: 11px;
              width: 72mm;
              padding: 3mm;
              line-height: 1.3;
            }
            .center { text-align: center; }
            .right { text-align: right; }
            .bold { font-weight: bold; }
            .line { border-top: 1px dashed #000; margin: 4px 0; }
            .double-line { border-top: 1px solid #000; border-bottom: 1px solid #000; height: 3px; margin: 4px 0; }
            table { width: 100%; border-collapse: collapse; }
            td { padding: 1px 0; vertical-align: top; }
            .item-name { width: 45%; }
            .item-qty { width: 15%; text-align: center; }
            .item-price { width: 40%; text-align: right; }
            h2 { margin: 3px 0; font-size: 14px; }
            p { margin: 2px 0; }
            .footer { margin-top: 8px; font-size: 10px; }
            .total-row { font-size: 13px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="center">
            <h2>HOTEL VIRAT</h2>
            <p>${t.categoryName}</p>
          </div>
          <div class="line"></div>
          
          <p><strong>Bill No:</strong> ${I.orderId}</p>
          <p><strong>Date:</strong> ${I.date}</p>
          <p><strong>Customer:</strong> ${I.customer}</p>
          ${I.tableNumber!=="N/A"?`<p><strong>Table:</strong> ${I.tableNumber}</p>`:""}
          
          <div class="double-line"></div>
          
          <table>
            <tr class="bold">
              <td class="item-name">Item</td>
              <td class="item-qty">Qty</td>
              <td class="item-price">Amount</td>
            </tr>
          </table>
          
          <div class="line"></div>
          
          <table>
            ${I.items.map(ee=>`
              <tr>
                <td class="item-name">${ee.name}</td>
                <td class="item-qty">${ee.quantity}</td>
                <td class="item-price">${(ee.price*ee.quantity).toFixed(2)}</td>
              </tr>
            `).join("")}
          </table>
          
          <div class="line"></div>
          
          <table>
            <tr>
              <td>Subtotal</td>
              <td class="right">${R.toFixed(2)}</td>
            </tr>
            <tr>
              <td>CGST (2.5%)</td>
              <td class="right">${X.toFixed(2)}</td>
            </tr>
            <tr>
              <td>SGST (2.5%)</td>
              <td class="right">${ne.toFixed(2)}</td>
            </tr>
          </table>
          
          <div class="double-line"></div>
          
          <table>
            <tr class="bold">
              <td>TOTAL</td>
              <td class="right">${ge.toFixed(2)}</td>
            </tr>
          </table>
          
          <div class="double-line"></div>
          
          <div class="center footer">
            <p class="bold">Thank you for your visit!</p>
            <p>Please visit again</p>
            <p>---</p>
          </div>
        </body>
      </html>
    `),q.document.close(),q.focus(),setTimeout(()=>{q.print(),q.close()},250)},M=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userType"),localStorage.removeItem("categoryStaffData"),e("/login")},k=I=>{var X;const R=(X=I.status)==null?void 0:X.toLowerCase();return R==="pending"||R==="confirmed"},W=I=>{var R;return((R=I.status)==null?void 0:R.toLowerCase())==="preparing"},F=I=>{var X;const R=(X=I.status)==null?void 0:X.toLowerCase();return["served","completed","delivered","out for delivery"].includes(R)};return t?n.jsxs("div",{style:{padding:"20px",maxWidth:"1400px",margin:"0 auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",padding:"15px 20px",backgroundColor:"#4f46e5",borderRadius:"8px",color:"white"},children:[n.jsxs("div",{children:[n.jsx("h1",{style:{margin:0,fontSize:"24px"},children:"Category Orders"}),n.jsxs("p",{style:{margin:"5px 0 0",opacity:.9},children:[t.name," - ",t.categoryName]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("button",{onClick:_,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},children:[n.jsx(Qi,{size:16})," Refresh"]}),n.jsxs("button",{onClick:M,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#dc2626",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},children:[n.jsx(nw,{size:16})," Logout"]})]})]}),x&&n.jsxs("div",{className:"success-message",children:[n.jsx(fn,{size:16}),n.jsx("span",{children:x}),n.jsx("button",{onClick:()=>g(""),children:n.jsx(Un,{size:16})})]}),!d&&n.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#f0f9ff",color:"#0369a1",borderRadius:"6px",marginBottom:"20px",fontSize:"14px",fontWeight:"500",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("span",{children:["Found ",s.length," order",s.length!==1?"s":""," for ",t.categoryName]}),s.length>10&&n.jsx("span",{style:{fontSize:"12px",opacity:.8},children:" Scroll down to see more orders"})]}),n.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap",alignItems:"center"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:"250px"},children:[n.jsx(Mt,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),n.jsx("input",{type:"text",placeholder:"Search by order ID, table, or customer...",value:v,onChange:I=>j(I.target.value),style:{width:"100%",padding:"10px 10px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"}})]}),n.jsxs("select",{value:b,onChange:I=>y(I.target.value),style:{padding:"10px 15px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",minWidth:"150px"},children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"preparing",children:"Preparing"}),n.jsx("option",{value:"served",children:"Served"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),f&&n.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:18}),n.jsx("span",{children:f})]}),n.jsx("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"auto",maxHeight:"60vh"},children:d?n.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[n.jsx(Mn,{size:24,className:"animate-spin",style:{margin:"0 auto 10px"}}),n.jsx("p",{children:"Loading orders..."})]}):n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"#f9fafb",zIndex:10},children:n.jsxs("tr",{children:[n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Order ID"}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Customer"}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Table"}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Date"}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Payment"}),n.jsxs("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:["Items (",t.categoryName,")"]}),n.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",borderBottom:"1px solid #e5e7eb"},children:"Actions"})]})}),n.jsx("tbody",{children:s.length>0?s.map(I=>n.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[n.jsx("td",{style:{padding:"12px 16px"},children:I.orderId}),n.jsx("td",{style:{padding:"12px 16px"},children:I.customer}),n.jsx("td",{style:{padding:"12px 16px"},children:I.tableNumber}),n.jsx("td",{style:{padding:"12px 16px"},children:I.date}),n.jsx("td",{style:{padding:"8px 12px"},children:n.jsxs("select",{value:I.paymentStatus||"pending",onChange:R=>L(I,R.target.value),style:{padding:"4px 8px",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"12px",backgroundColor:I.paymentStatus==="completed"?"#d1fae5":I.paymentStatus==="failed"?"#fee2e2":I.paymentStatus==="refunded"?"#e0e7ff":"#fef3c7",color:I.paymentStatus==="completed"?"#065f46":I.paymentStatus==="failed"?"#991b1b":I.paymentStatus==="refunded"?"#5b21b6":"#92400e",cursor:"pointer"},children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})}),n.jsx("td",{style:{padding:"12px 16px"},children:I.items.map((R,X)=>n.jsxs("div",{style:{fontSize:"13px"},children:[R.name," x ",R.quantity]},X))}),n.jsx("td",{style:{padding:"12px 16px"},children:n.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>P(I),style:{padding:"5px 10px",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"View"}),k(I)&&n.jsx("button",{onClick:()=>D(I,"preparing"),style:{padding:"5px 10px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Preparing"}),W(I)&&n.jsx("button",{onClick:()=>D(I,"served"),style:{padding:"5px 10px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Served"}),F(I)&&n.jsxs("button",{onClick:()=>B(I),style:{padding:"5px 10px",backgroundColor:"#6366f1",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Hs,{size:12})," Print"]})]})})]},I.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"7",style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:"No orders found for your category"})})})]})}),C&&E&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("h3",{style:{margin:0},children:["Order Details - ",E.orderId]}),n.jsx("button",{onClick:()=>A(!1),style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px"},children:""})]}),n.jsxs("div",{style:{padding:"20px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px"},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Customer:"})," ",E.customer]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Type:"})," ",E.customerType]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Mobile:"})," ",E.customerMobile]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Table:"})," ",E.tableNumber]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Date:"})," ",E.date]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Branch:"})," ",E.branch]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textAlign:"center",minWidth:"60px",backgroundColor:E.status==="completed"?"#d1fae5":E.status==="preparing"?"#dbeafe":E.status==="served"?"#e0e7ff":E.status==="cancelled"?"#fee2e2":"#fef3c7",color:E.status==="completed"?"#065f46":E.status==="preparing"?"#1e40af":E.status==="served"?"#5b21b6":E.status==="cancelled"?"#991b1b":"#92400e",border:"1px solid "+(E.status==="completed"?"#10b981":E.status==="preparing"?"#3b82f6":E.status==="served"?"#8b5cf6":E.status==="cancelled"?"#ef4444":"#f59e0b")},children:E.status?E.status.charAt(0).toUpperCase()+E.status.slice(1):"Pending"})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Payment:"})," ",n.jsx("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textAlign:"center",minWidth:"60px",backgroundColor:E.paymentStatus==="completed"?"#d1fae5":E.paymentStatus==="failed"?"#fee2e2":E.paymentStatus==="refunded"?"#e0e7ff":"#fef3c7",color:E.paymentStatus==="completed"?"#065f46":E.paymentStatus==="failed"?"#991b1b":E.paymentStatus==="refunded"?"#5b21b6":"#92400e",border:"1px solid "+(E.paymentStatus==="completed"?"#10b981":E.paymentStatus==="failed"?"#ef4444":E.paymentStatus==="refunded"?"#8b5cf6":"#f59e0b")},children:E.paymentStatus?E.paymentStatus.charAt(0).toUpperCase()+E.paymentStatus.slice(1):"Pending"})]})]}),n.jsxs("h4",{style:{marginBottom:"10px"},children:["Items from ",t.categoryName,":"]}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"15px"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{backgroundColor:"#f9fafb"},children:[n.jsx("th",{style:{padding:"10px",textAlign:"left",border:"1px solid #e5e7eb"},children:"Item"}),n.jsx("th",{style:{padding:"10px",textAlign:"center",border:"1px solid #e5e7eb"},children:"Qty"}),n.jsx("th",{style:{padding:"10px",textAlign:"right",border:"1px solid #e5e7eb"},children:"Price"})]})}),n.jsx("tbody",{children:E.items.map((I,R)=>n.jsxs("tr",{children:[n.jsx("td",{style:{padding:"10px",border:"1px solid #e5e7eb"},children:I.name}),n.jsx("td",{style:{padding:"10px",textAlign:"center",border:"1px solid #e5e7eb"},children:I.quantity}),n.jsxs("td",{style:{padding:"10px",textAlign:"right",border:"1px solid #e5e7eb"},children:["",(I.price*I.quantity).toFixed(2)]})]},R))})]})]}),n.jsxs("div",{style:{padding:"16px 20px",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[k(E)&&n.jsx("button",{onClick:()=>{D(E,"preparing"),A(!1)},style:{padding:"8px 16px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Mark Preparing"}),W(E)&&n.jsx("button",{onClick:()=>{D(E,"served"),A(!1)},style:{padding:"8px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Mark Served"}),F(E)&&n.jsxs("button",{onClick:()=>B(E),style:{padding:"8px 16px",backgroundColor:"#6366f1",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Hs,{size:16})," Print Bill"]})]}),n.jsx("button",{onClick:()=>A(!1),style:{padding:"8px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Close"})]})]})})]}):n.jsx("div",{className:"loading-container",children:n.jsx(Mn,{size:24,className:"animate-spin"})})},Hfe=`
  .status-badge {
    display: inline-block;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
    text-transform: capitalize;
    min-width: 60px;
    text-align: center;
  }
  
  .status-badge.pending {
    background: #fef3c7;
    color: #92400e;
    border: 1px solid #f59e0b;
  }
  
  .status-badge.preparing {
    background: #dbeafe;
    color: #1e40af;
    border: 1px solid #3b82f6;
  }
  
  .status-badge.served {
    background: #e0e7ff;
    color: #5b21b6;
    border: 1px solid #8b5cf6;
  }
  
  .status-badge.completed {
    background: #d1fae5;
    color: #065f46;
    border: 1px solid #10b981;
  }
  
  .status-badge.cancelled {
    background: #fee2e2;
    color: #991b1b;
    border: 1px solid #ef4444;
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.type="text/css",e.innerText=Hfe,document.head.appendChild(e)}const Wfe=({user:e,onClose:t,onSave:r,branches:a,isEditMode:i})=>{const[s,l]=N.useState({name:(e==null?void 0:e.name)||"",username:(e==null?void 0:e.username)||"",password:"",branchId:(e==null?void 0:e.branchId)||"",branchName:(e==null?void 0:e.branchName)||"",isActive:(e==null?void 0:e.isActive)!==!1}),[d,u]=N.useState(!1),[f,p]=N.useState(null),[x,g]=N.useState(!1),v=b=>{const{name:y,value:C,type:A,checked:E}=b.target;if(y==="branchId"){const S=a.find(T=>T._id===C);l({...s,branchId:C,branchName:(S==null?void 0:S.name)||""})}else l({...s,[y]:A==="checkbox"?E:C});p(null)},j=async b=>{b.preventDefault(),p(null),g(!0);try{if(!i&&!s.password)throw new Error("Password is required");await r(s,e==null?void 0:e._id),t()}catch(y){p(y.message||"Failed to save receptionist")}finally{g(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:i?"Edit Receptionist":"Add Receptionist"}),n.jsx("button",{className:"modal-close",onClick:t,children:""})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{className:"modal-body",children:[f&&n.jsx("div",{className:"alert-message",style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#dc2626",padding:"10px",borderRadius:"4px",marginBottom:"15px"},children:f}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"branchId",children:"Branch"}),n.jsxs("select",{id:"branchId",name:"branchId",className:"form-select",value:s.branchId,onChange:v,disabled:x,children:[n.jsx("option",{value:"",children:"All Branches"}),a.map(b=>n.jsx("option",{value:b._id,children:b.name},b._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"name",children:["Receptionist Name ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",value:s.name,onChange:v,required:!0,disabled:x,placeholder:"Enter receptionist name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"username",children:["Username ",n.jsx("span",{className:"required",children:"*"})]}),n.jsx("input",{type:"text",id:"username",name:"username",className:"form-input",value:s.username,onChange:v,required:!0,disabled:x,placeholder:"Enter username for login"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"password",children:["Password ",!i&&n.jsx("span",{className:"required",children:"*"})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("input",{type:d?"text":"password",id:"password",name:"password",className:"form-input",value:s.password,onChange:v,required:!i,disabled:x,placeholder:i?"Leave blank to keep current":"Enter password",style:{paddingRight:"40px"}}),n.jsx("button",{type:"button",onClick:()=>u(!d),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#6b7280"},children:d?n.jsx(rw,{size:18}):n.jsx(Za,{size:18})})]})]}),i&&n.jsx("div",{className:"form-group",children:n.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("input",{type:"checkbox",name:"isActive",checked:s.isActive,onChange:v,disabled:x}),"Active"]})})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:x,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x,children:x?"Saving...":i?"Update":"Add Receptionist"})]})]})]})})},Gfe=({user:e,onClose:t,onConfirm:r})=>{const[a,i]=N.useState(!1),s=async()=>{i(!0);try{await r(e._id),t()}catch(l){console.error("Error deleting:",l)}finally{i(!1)}};return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",style:{maxWidth:"400px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Delete Receptionist"}),n.jsx("button",{className:"modal-close",onClick:t,disabled:a,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("p",{children:["Are you sure you want to delete ",n.jsx("strong",{children:e.name}),"?"]}),n.jsx("p",{style:{color:"#dc2626",marginTop:"10px"},children:"This action cannot be undone."})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-outline",onClick:t,disabled:a,children:"Cancel"}),n.jsx("button",{type:"button",className:"btn",style:{backgroundColor:"#dc2626",color:"white",borderColor:"#dc2626"},onClick:s,disabled:a,children:a?"Deleting...":"Delete"})]})]})})},Vfe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState(""),[l,d]=N.useState(!1),[u,f]=N.useState(null),[p,x]=N.useState(!1),[g,v]=N.useState(null),[j,b]=N.useState(""),[y,C]=N.useState(""),[A,E]=N.useState(!1),S="https://hotelvirat.com/api/v1/hotel/receptionist-access",T="https://hotelvirat.com/api/v1/hotel/branch",_=async()=>{try{const I=await fetch(T);if(!I.ok)throw new Error("Failed to fetch branches");const R=await I.json();a(Array.isArray(R)?R:[])}catch(I){console.error("Error fetching branches:",I)}},P=async()=>{E(!0),C("");try{const I=await fetch(S);if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const R=await I.json();t(Array.isArray(R)?R:[])}catch(I){console.error("Fetch error:",I),C(`Failed to fetch receptionists: ${I.message}`),t([])}finally{E(!1)}};N.useEffect(()=>{_(),P()},[]);const L=()=>{f(null),d(!0)},D=I=>{f(I),d(!0)},B=I=>{v(I),x(!0)},M=async(I,R)=>{try{const X=R?`${S}/${R}`:S,ne=R?"PUT":"POST",ge={...I};R&&!ge.password&&delete ge.password;const q=await fetch(X,{method:ne,headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)}),ee=await q.json();if(!q.ok)throw new Error(ee.message||"Failed to save");b(`Receptionist ${R?"updated":"added"} successfully`),setTimeout(()=>b(""),3e3),await P()}catch(X){throw new Error(X.message)}},k=async I=>{try{const R=await fetch(`${S}/${I}`,{method:"DELETE"}),X=await R.json();if(!R.ok)throw new Error(X.message||"Failed to delete");b("Receptionist deleted successfully"),setTimeout(()=>b(""),3e3),await P()}catch(R){C(R.message),setTimeout(()=>C(""),3e3)}},W=I=>I?new Date(I).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"N/A",F=e.filter(I=>{var R,X,ne;return((R=I.name)==null?void 0:R.toLowerCase().includes(i.toLowerCase()))||((X=I.username)==null?void 0:X.toLowerCase().includes(i.toLowerCase()))||((ne=I.branchName)==null?void 0:ne.toLowerCase().includes(i.toLowerCase()))});return n.jsxs("div",{className:"receptionist-access-page",children:[j&&n.jsxs("div",{className:"success-message",children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>b(""),children:""})]}),y&&n.jsxs("div",{className:"success-message",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:[n.jsx("span",{children:y}),n.jsx("button",{onClick:()=>C(""),style:{color:"#dc2626"},children:""})]}),n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Receptionist Access"}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-primary",onClick:L,disabled:A,children:[n.jsx(Fc,{size:16}),n.jsx("span",{children:"Add Receptionist"})]})})]}),n.jsx("div",{className:"filters-bar",children:n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by name, username or branch...",className:"search-input",value:i,onChange:I=>s(I.target.value)})]})}),n.jsx("div",{className:"data-card",children:A?n.jsx("div",{className:"empty-state",children:"Loading..."}):F.length===0?n.jsx("div",{className:"empty-state",children:n.jsxs("p",{children:["No receptionists found. ",i?"Try a different search.":"Add a new receptionist to get started."]})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Username"}),n.jsx("th",{children:"Branch"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Created"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:F.map(I=>{var R;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx("div",{className:"user-avatar-placeholder",children:(R=I.name)==null?void 0:R.charAt(0).toUpperCase()}),I.name]})}),n.jsx("td",{children:n.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[n.jsx(BI,{size:14,style:{marginRight:"6px",color:"#6b7280"}}),I.username]})}),n.jsx("td",{children:I.branchName||"All Branches"}),n.jsx("td",{children:n.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:I.isActive?"#dcfce7":"#fee2e2",color:I.isActive?"#166534":"#dc2626"},children:I.isActive?"Active":"Inactive"})}),n.jsx("td",{children:W(I.createdAt)}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn edit",onClick:()=>D(I),disabled:A,children:n.jsx(kn,{size:14})}),n.jsx("button",{className:"action-btn delete",onClick:()=>B(I),disabled:A,children:n.jsx($n,{size:14})})]})})]},I._id)})})]})}),l&&n.jsx(Wfe,{user:u,onClose:()=>d(!1),onSave:M,branches:r,isEditMode:!!u}),p&&n.jsx(Gfe,{user:g,onClose:()=>x(!1),onConfirm:k})]})},Yfe="https://hotelvirat.com/api/v1/hotel",Vl=bt.create({baseURL:Yfe,headers:{"Content-Type":"application/json"}}),Xfe=({room:e,onClose:t,onBook:r})=>{const[a,i]=N.useState({guestName:"",guestPhone:"",guestEmail:"",guestGstNumber:"",panCard:null,aadhaarCard:null,checkInDate:new Date().toISOString().split("T")[0],checkOutDate:new Date(Date.now()+864e5).toISOString().split("T")[0],checkInTime:"12:00",checkOutTime:"11:00",gstType:"none",amountPaid:"",paymentMethod:"cash"}),[s,l]=N.useState(!1),[d,u]=N.useState(""),[f,p]=N.useState(!1),[x,g]=N.useState("checkIn"),[v,j]=N.useState(new Date),[b,y]=N.useState({}),[C,A]=N.useState(!1),S=(()=>{const U=new Date(a.checkInDate),V=new Date(a.checkOutDate),te=Math.ceil((V-U)/(1e3*60*60*24));return te>0?te:1})(),T=e.price*S,_=a.gstType==="gst"?T*.025:0,P=a.gstType==="gst"?T*.025:0,L=a.gstType==="igst"?T*.05:0,D=_+P+L,B=T+D,M=U=>{const{name:V,value:te}=U.target;i({...a,[V]:te}),u("")},k=(U,V)=>{const te=U.target.files[0];if(te){if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(te.type)){u(`Please upload only JPG, PNG, or PDF files for ${V}`);return}if(te.size>5*1024*1024){u(`File size should be less than 5MB for ${V}`);return}const Z=new FileReader;Z.onload=K=>{const Y={name:te.name,size:te.size,type:te.type,data:K.target.result,uploaded:!1};i({...a,[V]:Y})},Z.readAsDataURL(te),u("")}},W=U=>{i({...a,[U]:null})},F=async(U,V,te)=>{try{const se=await Vl.get("/room-booking"),K=(se.data.bookings||se.data||[]).filter(ce=>{var pe;return(((pe=ce.roomId)==null?void 0:pe._id)||ce.roomId)===U&&ce.status!=="cancelled"}),Y={};return K.forEach(ce=>{const xe=new Date(ce.checkInDate),pe=new Date(ce.checkOutDate),Ce=new Date(xe);for(;Ce<pe;){const ve=Ce.toISOString().split("T")[0],Le=Ce.getFullYear(),le=Ce.getMonth();Le===V&&le===te&&(Y[ve]||(Y[ve]=[]),Y[ve].push({bookingId:ce._id,guestName:ce.userName,checkIn:ce.checkInDate,checkOut:ce.checkOutDate,status:ce.status})),Ce.setDate(Ce.getDate()+1)}}),Y}catch(se){return console.error("Error fetching room bookings:",se),{}}},I=async(U,V,te)=>{if(U){A(!0);try{const se=await F(U,V,te),Z={},K=new Date(V,te+1,0).getDate();for(let Y=1;Y<=K;Y++){const ce=`${V}-${String(te+1).padStart(2,"0")}-${String(Y).padStart(2,"0")}`,xe=se[ce]||[];Z[ce]={date:ce,bookings:xe,hasBookings:xe.length>0,isFullyBooked:!1}}y(Z)}catch(se){console.error("Error fetching monthly bookings:",se)}finally{A(!1)}}},R=U=>{g(U);const V=new Date;j(V),p(!0),y({}),e&&e._id&&I(e._id,V.getFullYear(),V.getMonth())},X=U=>{const V=new Date(v);V.setMonth(V.getMonth()+U),j(V),e&&e._id&&I(e._id,V.getFullYear(),V.getMonth())},ne=U=>{const V=v.getFullYear(),te=String(v.getMonth()+1).padStart(2,"0"),se=String(U).padStart(2,"0"),Z=`${V}-${te}-${se}`;i(x==="checkIn"?{...a,checkInDate:Z}:{...a,checkOutDate:Z}),p(!1)},ge=U=>{const V=new Date;return V.setHours(0,0,0,0),new Date(v.getFullYear(),v.getMonth(),U)<V},q=U=>{const V=v.getFullYear(),te=String(v.getMonth()+1).padStart(2,"0"),se=String(U).padStart(2,"0"),Z=`${V}-${te}-${se}`,K=b[Z];return(K==null?void 0:K.hasBookings)||!1},ee=U=>{const V=U.getFullYear(),te=U.getMonth(),se=new Date(V,te+1,0).getDate(),Z=new Date(V,te,1).getDay();return{daysInMonth:se,firstDay:Z}},z=async U=>{var V,te;U.preventDefault(),l(!0),u("");try{if(!((V=a.guestName)!=null&&V.trim()))throw new Error("Guest name is required");if(!((te=a.guestPhone)!=null&&te.trim()))throw new Error("Guest phone number is required");if(!a.checkInDate)throw new Error("Check-in date is required");if(!a.checkOutDate)throw new Error("Check-out date is required");if(!/^[0-9]{10}$/.test(a.guestPhone.replace(/\D/g,"")))throw new Error("Please enter a valid 10-digit phone number");const Z=new Date(a.checkInDate),K=new Date(a.checkOutDate),Y=new Date;if(Y.setHours(0,0,0,0),Z<Y)throw new Error("Check-in date cannot be in the past");if(K<=Z)throw new Error("Check-out date must be after check-in date");const ce=parseFloat(a.amountPaid)||0,xe=a.paymentMethod||"cash",pe={roomId:e._id,branchId:e.branchId,userName:a.guestName,userPhone:a.guestPhone,userEmail:a.guestEmail,guestGstNumber:a.guestGstNumber||(a.panCard||a.aadhaarCard?`DOCS:${JSON.stringify({gst:a.guestGstNumber||"",documents:{panCard:a.panCard?{name:a.panCard.name,size:a.panCard.size,type:a.panCard.type,data:a.panCard.data,uploaded:!1}:null,aadhaarCard:a.aadhaarCard?{name:a.aadhaarCard.name,size:a.aadhaarCard.size,type:a.aadhaarCard.type,data:a.aadhaarCard.data,uploaded:!1}:null}})}`:""),checkInDate:a.checkInDate,checkOutDate:a.checkOutDate,checkInTime:a.checkInTime,checkOutTime:a.checkOutTime,nights:S,baseAmount:T,gstType:a.gstType,cgst:_,sgst:P,igst:L,totalPrice:B,amountPaid:ce,cashAmount:xe==="cash"?ce:0,onlineAmount:xe==="online"?ce:0,status:"checked-in",paymentStatus:ce>=B?"paid":"pending",payments:ce>0?[{amount:ce,method:xe,date:new Date}]:[]};await r(pe),t()}catch(se){console.error("Booking error:",se);let Z="Failed to book room";if(se.response){const{status:K,data:Y}=se.response;K===400?Y.message?Z=Y.message:Y.error?Z=Y.error:typeof Y=="string"?Z=Y:Z="Invalid booking data. Please check all required fields.":K===404?Z="Room not found. Please refresh and try again.":K===409?Z="Room is already booked for the selected dates.":K>=500&&(Z="Server error. Please try again later.")}else se.request?Z="Network error. Please check your connection and try again.":Z=se.message||"An unexpected error occurred";u(Z)}finally{l(!1)}};return n.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:[n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"white",position:"relative",zIndex:10},children:[n.jsxs("h3",{style:{margin:0},children:["Book Room ",e.roomNumber]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px"},children:""})]}),d&&n.jsxs("div",{style:{padding:"12px 20px",backgroundColor:"#fee2e2",color:"#dc2626",display:"flex",alignItems:"center",gap:"8px",borderBottom:"1px solid #fecaca",position:"relative",zIndex:10},children:[n.jsx(Dt,{size:16}),n.jsx("span",{style:{fontSize:"14px",fontWeight:"500"},children:d}),n.jsx("button",{onClick:()=>u(""),style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer",color:"#dc2626",fontSize:"18px",padding:"0 4px"},children:""})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px"},children:n.jsxs("form",{onSubmit:z,children:[n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0fdf4",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Room Details"}),n.jsxs("p",{style:{margin:"5px 0"},children:[n.jsx("strong",{children:"Type:"})," ",e.roomType]}),n.jsxs("p",{style:{margin:"5px 0"},children:[n.jsx("strong",{children:"Floor:"})," ",e.floor]}),n.jsxs("p",{style:{margin:"5px 0"},children:[n.jsx("strong",{children:"Basic Price:"})," ",e.price,"/night ",n.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"(excl. GST)"})]})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(_u,{size:14,style:{marginRight:"6px"}}),"Guest Name *"]}),n.jsx("input",{type:"text",name:"guestName",value:a.guestName,onChange:M,required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter guest name"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(mi,{size:14,style:{marginRight:"6px"}}),"Phone *"]}),n.jsx("input",{type:"tel",name:"guestPhone",value:a.guestPhone,onChange:M,required:!0,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter phone number"})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(Mo,{size:14,style:{marginRight:"6px"}}),"Email"]}),n.jsx("input",{type:"email",name:"guestEmail",value:a.guestEmail,onChange:M,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter email (optional)"})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"20px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[n.jsx("h4",{style:{margin:"0 0 8px",fontSize:"16px",color:"#334155",fontWeight:"600"},children:"Identity Documents (Optional)"}),n.jsx("p",{style:{margin:"0 0 20px",fontSize:"14px",color:"#64748b",lineHeight:"1.5"},children:"Upload PAN card and/or Aadhaar card for guest verification. Both documents are optional but recommended for corporate bookings."}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:"PAN Card"}),n.jsx("div",{style:{border:"2px dashed #d1d5db",borderRadius:"8px",padding:"20px",textAlign:"center",backgroundColor:a.panCard?"#f0fdf4":"#ffffff",borderColor:a.panCard?"#10b981":"#d1d5db",transition:"all 0.2s ease"},children:a.panCard?n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#059669",marginBottom:"4px"},children:a.panCard.name}),n.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"12px"},children:[(a.panCard.size/1024/1024).toFixed(2)," MB"]}),n.jsx("button",{type:"button",onClick:()=>W("panCard"),style:{padding:"6px 12px",backgroundColor:"#f87171",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:"Remove"})]}):n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"32px",marginBottom:"12px",opacity:"0.6"},children:""}),n.jsx("input",{type:"file",id:"panCard",accept:".jpg,.jpeg,.png,.pdf",onChange:U=>k(U,"panCard"),style:{display:"none"}}),n.jsx("label",{htmlFor:"panCard",style:{display:"inline-block",padding:"10px 16px",backgroundColor:"#3b82f6",color:"white",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"background-color 0.2s ease"},onMouseOver:U=>U.target.style.backgroundColor="#2563eb",onMouseOut:U=>U.target.style.backgroundColor="#3b82f6",children:"Choose File"}),n.jsx("div",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"8px"},children:"JPG, PNG, or PDF (Max 5MB)"})]})})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Aadhaar Card"}),n.jsx("div",{style:{border:"2px dashed #d1d5db",borderRadius:"8px",padding:"20px",textAlign:"center",backgroundColor:a.aadhaarCard?"#f0fdf4":"#ffffff",borderColor:a.aadhaarCard?"#10b981":"#d1d5db",transition:"all 0.2s ease"},children:a.aadhaarCard?n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontSize:"13px",fontWeight:"500",color:"#059669",marginBottom:"4px"},children:a.aadhaarCard.name}),n.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"12px"},children:[(a.aadhaarCard.size/1024/1024).toFixed(2)," MB"]}),n.jsx("button",{type:"button",onClick:()=>W("aadhaarCard"),style:{padding:"6px 12px",backgroundColor:"#f87171",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:"Remove"})]}):n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"32px",marginBottom:"12px",opacity:"0.6"},children:""}),n.jsx("input",{type:"file",id:"aadhaarCard",accept:".jpg,.jpeg,.png,.pdf",onChange:U=>k(U,"aadhaarCard"),style:{display:"none"}}),n.jsx("label",{htmlFor:"aadhaarCard",style:{display:"inline-block",padding:"10px 16px",backgroundColor:"#3b82f6",color:"white",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"background-color 0.2s ease"},onMouseOver:U=>U.target.style.backgroundColor="#2563eb",onMouseOut:U=>U.target.style.backgroundColor="#3b82f6",children:"Choose File"}),n.jsx("div",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"8px"},children:"JPG, PNG, or PDF (Max 5MB)"})]})})]})]}),n.jsx("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#fef3c7",borderRadius:"8px",fontSize:"12px",color:"#92400e",textAlign:"center"},children:" Document information will be saved with the booking. File upload to server will be implemented in a future update."})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:[n.jsx(Lr,{size:14,style:{marginRight:"6px"}}),"Check-in Date"]}),n.jsxs("button",{type:"button",onClick:()=>R("checkIn"),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Lr,{size:16}),a.checkInDate?new Date(a.checkInDate).toLocaleDateString():"Select Date"]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Check-out Date"}),n.jsxs("button",{type:"button",onClick:()=>R("checkOut"),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Lr,{size:16}),a.checkOutDate?new Date(a.checkOutDate).toLocaleDateString():"Select Date"]})]})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"GST Option"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:a.gstType==="none"?"2px solid #4f46e5":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.gstType==="none"?"#eef2ff":"white"},children:[n.jsx("input",{type:"radio",name:"gstType",value:"none",checked:a.gstType==="none",onChange:M}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"Without GST"}),n.jsx("span",{style:{display:"block",fontSize:"12px",color:"#6b7280"},children:"Basic price only"})]})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:a.gstType==="gst"?"2px solid #4f46e5":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.gstType==="gst"?"#eef2ff":"white"},children:[n.jsx("input",{type:"radio",name:"gstType",value:"gst",checked:a.gstType==="gst",onChange:M}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"With GST (Within State)"}),n.jsx("span",{style:{display:"block",fontSize:"12px",color:"#6b7280"},children:"CGST 2.5% + SGST 2.5% = 5%"})]})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"10px",border:a.gstType==="igst"?"2px solid #4f46e5":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.gstType==="igst"?"#eef2ff":"white"},children:[n.jsx("input",{type:"radio",name:"gstType",value:"igst",checked:a.gstType==="igst",onChange:M}),n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500"},children:"With IGST (Out of State)"}),n.jsx("span",{style:{display:"block",fontSize:"12px",color:"#6b7280"},children:"IGST 5%"})]})]})]})]}),(a.gstType==="gst"||a.gstType==="igst")&&n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Guest GST Number"}),n.jsx("input",{type:"text",name:"guestGstNumber",value:a.guestGstNumber,onChange:M,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:"Enter guest's GST number (e.g., 22AAAAA0000A1Z5)",maxLength:15}),n.jsx("span",{style:{fontSize:"11px",color:"#6b7280"},children:"15-digit GST Identification Number"})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Price Summary"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[n.jsxs("span",{children:["Basic Price (",e.price," x ",S," night",S>1?"s":"",")"]}),n.jsxs("span",{children:["",T.toFixed(2)]})]}),a.gstType==="gst"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("span",{children:"CGST (2.5%)"}),n.jsxs("span",{children:["",_.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("span",{children:"SGST (2.5%)"}),n.jsxs("span",{children:["",P.toFixed(2)]})]})]}),a.gstType==="igst"&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#6b7280",fontSize:"14px"},children:[n.jsx("span",{children:"IGST (5%)"}),n.jsxs("span",{children:["",L.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",borderTop:"1px solid #e5e7eb",paddingTop:"10px",marginTop:"10px"},children:[n.jsx("span",{children:"Total Amount"}),n.jsxs("span",{children:["",B.toFixed(2)]})]})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Amount Paid ()"}),n.jsx("input",{type:"number",name:"amountPaid",value:a.amountPaid,onChange:M,style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:`Enter amount paid (Total: ${B.toFixed(2)})`,min:"0",max:B}),a.amountPaid&&parseFloat(a.amountPaid)<B&&n.jsxs("span",{style:{fontSize:"12px",color:"#f59e0b"},children:["Balance Due: ",(B-parseFloat(a.amountPaid||0)).toFixed(2)]}),a.amountPaid&&parseFloat(a.amountPaid)>=B&&n.jsx("span",{style:{fontSize:"12px",color:"#059669"},children:" Fully Paid"})]}),a.amountPaid&&parseFloat(a.amountPaid)>0&&n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Payment Method"}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",padding:"12px",border:a.paymentMethod==="cash"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.paymentMethod==="cash"?"#f0fdf4":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:a.paymentMethod==="cash",onChange:M,style:{display:"none"}}),n.jsx("span",{style:{fontSize:"20px"},children:""}),n.jsx("span",{style:{fontWeight:"500",color:a.paymentMethod==="cash"?"#059669":"#374151"},children:"Cash"})]}),n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",padding:"12px",border:a.paymentMethod==="online"?"2px solid #3b82f6":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:a.paymentMethod==="online"?"#eff6ff":"white"},children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:a.paymentMethod==="online",onChange:M,style:{display:"none"}}),n.jsx("span",{style:{fontSize:"20px"},children:""}),n.jsx("span",{style:{fontWeight:"500",color:a.paymentMethod==="online"?"#3b82f6":"#374151"},children:"Online"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #e5e7eb"},children:[n.jsx("button",{type:"button",onClick:t,style:{flex:1,padding:"12px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",cursor:"pointer",fontWeight:"500"},children:"Cancel"}),n.jsx("button",{type:"submit",disabled:s,style:{flex:1,padding:"12px",border:"none",borderRadius:"6px",backgroundColor:s?"#9ca3af":"#4f46e5",color:"white",cursor:s?"not-allowed":"pointer",fontWeight:"500"},children:s?"Booking...":"Confirm Booking"})]})]})})]}),f&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"20px",width:"90%",maxWidth:"400px",maxHeight:"80vh",overflow:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("button",{onClick:()=>X(-1),disabled:C,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",padding:"5px"},children:""}),n.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:v.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),n.jsx("button",{onClick:()=>X(1),disabled:C,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px",padding:"5px"},children:""})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:"15px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"6px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#22c55e"}}),n.jsx("span",{style:{fontSize:"12px"},children:"Available"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#dc2626"}}),n.jsx("span",{style:{fontSize:"12px"},children:"Booked"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#9ca3af"}}),n.jsx("span",{style:{fontSize:"12px"},children:"Past"})]})]}),C&&n.jsx("div",{style:{textAlign:"center",padding:"10px",color:"#6b7280"},children:"Loading availability..."}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",marginBottom:"10px"},children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(U=>n.jsx("div",{style:{textAlign:"center",padding:"8px",fontSize:"12px",fontWeight:"600",color:"#6b7280"},children:U},U))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",marginBottom:"20px"},children:(()=>{const{daysInMonth:U,firstDay:V}=ee(v),te=[];for(let se=0;se<V;se++)te.push(n.jsx("div",{style:{aspectRatio:"1",padding:"8px"}},`empty-${se}`));for(let se=1;se<=U;se++){const Z=ge(se),K=q(se),Y=!Z;te.push(n.jsxs("button",{onClick:()=>Y&&ne(se),disabled:!Y,style:{aspectRatio:"1",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:Z?"#f3f4f6":"white",color:Z?"#9ca3af":"#000",cursor:Y?"pointer":"not-allowed",fontSize:"14px",fontWeight:"500",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseOver:ce=>{Y&&(ce.target.style.backgroundColor="#f0f9ff",ce.target.style.borderColor="#3b82f6")},onMouseOut:ce=>{Y&&(ce.target.style.backgroundColor="white",ce.target.style.borderColor="#e5e7eb")},children:[se,K&&!Z&&n.jsx("div",{style:{position:"absolute",top:"3px",right:"3px",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#dc2626",border:"1px solid white",boxShadow:"0 1px 2px rgba(0,0,0,0.1)"}}),!K&&!Z&&n.jsx("div",{style:{position:"absolute",top:"3px",right:"3px",width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#22c55e",opacity:.7}})]},se))}return te})()}),n.jsx("div",{style:{textAlign:"center",fontSize:"11px",color:"#6b7280",marginBottom:"15px",padding:"8px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:" Available for booking   Has existing bookings  Multiple bookings allowed per room"}),n.jsx("button",{onClick:()=>p(!1),style:{width:"100%",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",cursor:"pointer",fontWeight:"500"},children:"Cancel"})]})})]})},Kfe=({booking:e,onClose:t,onCheckout:r,onUpdatePayment:a})=>{var T;const[i,s]=N.useState(""),[l,d]=N.useState("cash"),[u,f]=N.useState(!1),[p,x]=N.useState(""),g=e.totalPrice||0,v=e.amountPaid||0,j=e.cashAmount||0,b=e.onlineAmount||0,y=g-v,C=async()=>{const _=parseFloat(i)||0;if(_<=0){x("Please enter a valid amount");return}f(!0),x("");try{await a(e._id,v+_,l,_),s("")}catch(P){x(P.message||"Failed to update payment")}finally{f(!1)}},A=async()=>{f(!0),x("");try{await r(e._id),t()}catch(_){x(_.message||"Failed to checkout")}finally{f(!1)}},E=_=>_?new Date(_).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",S=()=>{var L,D,B;const _=window.open("","_blank"),P=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Hotel Virat - Bill</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 15px; }
          .header img { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin-bottom: 10px; }
          .header h1 { font-size: 24px; margin-bottom: 5px; }
          .header p { font-size: 12px; color: #666; }
          .header .gst { font-size: 11px; margin #333; font-weight: bold; margin-top: 5px; }
          .bill-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .bill-info p { font-size: 13px; margin: 4px 0; }
          .guest-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .guest-info h3 { font-size: 14px; margin-bottom: 8px; }
          .guest-info p { font-size: 13px; margin: 4px 0; }
          .stay-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .stay-info h3 { font-size: 14px; margin-bottom: 8px; }
          .stay-info p { font-size: 13px; margin: 4px 0; }
          .charges { margin-bottom: 15px; }
          .charges h3 { font-size: 14px; margin-bottom: 8px; }
          .charge-row { display: flex; justify-content: space-between; font-size: 13px; margin: 5px 0; }
          .charge-row.total { font-weight: bold; font-size: 16px; border-top: 2px solid #000; padding-top: 10px; margin-top: 10px; }
          .charge-row.paid { color: green; }
          .charge-row.due { color: red; font-weight: bold; }
          .footer { text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px dashed #ccc; }
          .footer p { font-size: 12px; color: #666; margin: 3px 0; }
          @media print { body { padding: 10px; } }
        </style>
      </head>
      <body>
        <div class="header">
          <img src="${Yc}" alt="Hotel Virat Logo" />
          <h1>HOTEL VIRAT</h1>
          <p>Your Comfort, Our Priority</p>
          <p class="gst">GSTIN: 29AGZPV1558K2Z6</p>
        </div>
        
        <div class="bill-info">
          <p><strong>Bill No:</strong> ${((L=e._id)==null?void 0:L.slice(-8).toUpperCase())||"N/A"}</p>
          <p><strong>Date:</strong> ${new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
          <p><strong>Room No:</strong> ${((D=e.roomId)==null?void 0:D.roomNumber)||"N/A"}</p>
          <p><strong>Room Type:</strong> ${((B=e.roomId)==null?void 0:B.roomType)||"N/A"}</p>
        </div>
        
        <div class="guest-info">
          <h3>Guest Details</h3>
          <p><strong>Name:</strong> ${e.userName||"N/A"}</p>
          <p><strong>Phone:</strong> ${e.userPhone||"N/A"}</p>
          ${e.userEmail?`<p><strong>Email:</strong> ${e.userEmail}</p>`:""}
          ${e.guestGstNumber?`<p><strong>GSTIN:</strong> ${e.guestGstNumber}</p>`:""}
        </div>
        
        <div class="stay-info">
          <h3>Stay Details</h3>
          <p><strong>Check-in:</strong> ${E(e.checkInDate)} at ${e.checkInTime||"12:00"}</p>
          <p><strong>Check-out:</strong> ${E(e.checkOutDate)} at ${e.checkOutTime||"11:00"}</p>
          <p><strong>No. of Nights:</strong> ${e.nights||1}</p>
        </div>
        
        <div class="charges">
          <h3>Charges</h3>
          <div class="charge-row">
            <span>Room Charges (${e.nights||1} night${(e.nights||1)>1?"s":""})</span>
            <span>${(e.baseAmount||0).toFixed(2)}</span>
          </div>
          ${e.gstType==="gst"?`
            <div class="charge-row">
              <span>CGST (2.5%)</span>
              <span>${(e.cgst||0).toFixed(2)}</span>
            </div>
            <div class="charge-row">
              <span>SGST (2.5%)</span>
              <span>${(e.sgst||0).toFixed(2)}</span>
            </div>
          `:""}
          ${e.gstType==="igst"?`
            <div class="charge-row">
              <span>IGST (5%)</span>
              <span>${(e.igst||0).toFixed(2)}</span>
            </div>
          `:""}
          <div class="charge-row total">
            <span>Total Amount</span>
            <span>${g.toFixed(2)}</span>
          </div>
          <div class="charge-row paid">
            <span>Amount Paid</span>
            <span>${v.toFixed(2)}</span>
          </div>
          ${y>0?`
            <div class="charge-row due">
              <span>Balance Due</span>
              <span>${y.toFixed(2)}</span>
            </div>
          `:`
            <div class="charge-row paid">
              <span>Status</span>
              <span> PAID</span>
            </div>
          `}
        </div>
        
        <div class="footer">
          <p>Thank you for staying with us!</p>
          <p>We hope to see you again soon.</p>
          <p style="margin-top: 10px; font-size: 10px;">This is a computer generated bill.</p>
        </div>
      </body>
      </html>
    `;_.document.write(P),_.document.close(),_.focus(),setTimeout(()=>{_.print()},250)};return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[n.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#fef2f2"},children:[n.jsxs("h3",{style:{margin:0},children:["Room ",(T=e.roomId)==null?void 0:T.roomNumber," - Checkout"]}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",fontSize:"24px"},children:""})]}),n.jsxs("div",{style:{padding:"20px"},children:[p&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",marginBottom:"15px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:16}),p]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Guest Details"}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Name:"})," ",e.userName]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Phone:"})," ",e.userPhone]}),e.userEmail&&n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Email:"})," ",e.userEmail]}),e.guestGstNumber&&n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"GSTIN:"})," ",e.guestGstNumber]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0fdf4",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Stay Details"}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Check-in:"})," ",E(e.checkInDate)," at ",e.checkInTime]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Check-out:"})," ",E(e.checkOutDate)," at ",e.checkOutTime]}),n.jsxs("p",{style:{margin:"5px 0",fontSize:"14px"},children:[n.jsx("strong",{children:"Nights:"})," ",e.nights]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#fef3c7",borderRadius:"8px"},children:[n.jsx("h4",{style:{margin:"0 0 10px"},children:"Payment Summary"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"14px"},children:[n.jsx("span",{children:"Base Amount:"}),n.jsxs("span",{children:["",(e.baseAmount||0).toFixed(2)]})]}),e.gstType&&e.gstType!=="none"&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"14px",color:"#6b7280"},children:[n.jsxs("span",{children:["GST (",e.gstType==="gst"?"CGST+SGST":"IGST","):"]}),n.jsxs("span",{children:["",((e.cgst||0)+(e.sgst||0)+(e.igst||0)).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontWeight:"bold",borderTop:"1px solid #e5e7eb",paddingTop:"8px"},children:[n.jsx("span",{children:"Total Amount:"}),n.jsxs("span",{children:["",g.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",fontSize:"14px",color:"#059669"},children:[n.jsx("span",{children:"Amount Paid:"}),n.jsxs("span",{children:["",v.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",fontSize:"16px",color:y>0?"#dc2626":"#059669"},children:[n.jsx("span",{children:y>0?"Balance Due:":"Status:"}),n.jsx("span",{children:y>0?`${y.toFixed(2)}`:" Fully Paid"})]})]}),(j>0||b>0)&&n.jsxs("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#f0fdf4",borderRadius:"6px",fontSize:"13px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[n.jsx("span",{children:" Cash Received:"}),n.jsxs("span",{style:{color:"#059669",fontWeight:"500"},children:["",j.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:" Online Received:"}),n.jsxs("span",{style:{color:"#3b82f6",fontWeight:"500"},children:["",b.toFixed(2)]})]})]}),y>0&&n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Add Payment ()"}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[n.jsx("input",{type:"number",value:i,onChange:_=>s(_.target.value),style:{flex:1,padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px"},placeholder:`Max: ${y.toFixed(2)}`,min:"0",max:y}),n.jsx("button",{onClick:C,disabled:u,style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:u?"not-allowed":"pointer"},children:u?"...":"Add"})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",padding:"10px",border:l==="cash"?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:l==="cash"?"#f0fdf4":"white"},children:[n.jsx("input",{type:"radio",name:"checkoutPaymentMethod",value:"cash",checked:l==="cash",onChange:_=>d(_.target.value),style:{display:"none"}}),n.jsx("span",{children:""}),n.jsx("span",{style:{fontWeight:"500",fontSize:"14px",color:l==="cash"?"#059669":"#374151"},children:"Cash"})]}),n.jsxs("label",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",padding:"10px",border:l==="online"?"2px solid #3b82f6":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:l==="online"?"#eff6ff":"white"},children:[n.jsx("input",{type:"radio",name:"checkoutPaymentMethod",value:"online",checked:l==="online",onChange:_=>d(_.target.value),style:{display:"none"}}),n.jsx("span",{children:""}),n.jsx("span",{style:{fontWeight:"500",fontSize:"14px",color:l==="online"?"#3b82f6":"#374151"},children:"Online"})]})]}),n.jsxs("button",{onClick:()=>s(y.toString()),style:{padding:"6px 12px",backgroundColor:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:["Pay Full Balance (",y.toFixed(2),")"]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:t,style:{flex:1,minWidth:"100px",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:"white",cursor:"pointer"},children:"Close"}),n.jsxs("button",{onClick:S,style:{flex:1,minWidth:"100px",padding:"12px",border:"none",borderRadius:"6px",backgroundColor:"#3b82f6",color:"white",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[n.jsx(Hs,{size:16})," Print Bill"]}),n.jsx("button",{onClick:A,disabled:u,style:{flex:1,minWidth:"100px",padding:"12px",border:"none",borderRadius:"6px",backgroundColor:y>0?"#f59e0b":"#059669",color:"white",cursor:u?"not-allowed":"pointer",fontWeight:"500"},children:u?"Processing...":y>0?`Checkout (${y.toFixed(2)} due)`:" Checkout (Paid)"})]})]})]})})},Qfe=()=>{const e=Zr(),[t,r]=N.useState(null),[a,i]=N.useState([]),[s,l]=N.useState([]),[d,u]=N.useState([]),[f,p]=N.useState(!0),[x,g]=N.useState(""),[v,j]=N.useState(""),[b,y]=N.useState(""),[C,A]=N.useState("all"),[E,S]=N.useState(null),[T,_]=N.useState(!1),[P,L]=N.useState(null),[D,B]=N.useState(!1),[M,k]=N.useState("rooms"),[W,F]=N.useState(new Date().toISOString().split("T")[0]);N.useEffect(()=>{const Y=localStorage.getItem("userType"),ce=localStorage.getItem("receptionistData");if(Y!=="receptionist"||!ce){e("/login");return}r(JSON.parse(ce))},[e]),N.useEffect(()=>{t&&I()},[t]);const I=async()=>{p(!0),g("");try{const Y=await Vl.get("/room"),ce=Y.data.rooms||Y.data||[],xe=await Vl.get("/room-booking"),pe=xe.data.bookings||xe.data||[],Ce=pe.filter(ve=>ve.status==="checked-in");i(ce),l(Ce),u(pe)}catch(Y){console.error("Error fetching data:",Y),g("Failed to load rooms. Please try again.")}finally{p(!1)}},R=Y=>({status:Y.isAvailable?"available":"unavailable",booking:null}),X=Y=>d.filter(ce=>{var xe;return(ce.roomId===Y._id||((xe=ce.roomId)==null?void 0:xe._id)===Y._id)&&ce.status==="confirmed"}),ne=Y=>{S(Y),_(!0)},ge=async Y=>{var ce,xe;try{await Vl.post("/room-booking/walk-in",Y),j("Room booked successfully!"),setTimeout(()=>j(""),3e3),await I()}catch(pe){throw new Error(((xe=(ce=pe.response)==null?void 0:ce.data)==null?void 0:xe.message)||"Failed to book room")}},q=async(Y,ce,xe="cash",pe=0)=>{var Ce,ve;try{await Vl.put(`/room-booking/${Y}/payment`,{amountPaid:ce,paymentMethod:xe,paymentAmount:pe}),j("Payment updated successfully!"),setTimeout(()=>j(""),3e3),await I();const Le=s.find(le=>le._id===Y);Le&&L({...Le,amountPaid:ce})}catch(Le){throw new Error(((ve=(Ce=Le.response)==null?void 0:Ce.data)==null?void 0:ve.message)||"Failed to update payment")}},ee=async Y=>{var ce,xe;try{await Vl.put(`/room-booking/${Y}/status`,{status:"checked-out"}),j("Guest checked out successfully! Room is now available."),setTimeout(()=>j(""),3e3),await I()}catch(pe){throw new Error(((xe=(ce=pe.response)==null?void 0:ce.data)==null?void 0:xe.message)||"Failed to checkout")}},z=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userType"),localStorage.removeItem("receptionistData"),e("/login")},U=Array.isArray(a)?a.filter(Y=>{var pe,Ce;const ce=((pe=Y.roomNumber)==null?void 0:pe.toLowerCase().includes(b.toLowerCase()))||((Ce=Y.roomType)==null?void 0:Ce.toLowerCase().includes(b.toLowerCase()));if(C==="all")return ce;const{status:xe}=R(Y);return ce&&xe===C}):[],te=(Y=>d.filter(ce=>new Date(ce.createdAt).toISOString().split("T")[0]===Y))(W),se=Y=>Y?new Date(Y).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",Z=()=>{const Y=new Date,ce=new Date(Y);ce.setDate(ce.getDate()-1);const xe=new Date(Y);return xe.setDate(xe.getDate()-2),[{label:"Today",date:Y.toISOString().split("T")[0]},{label:"Yesterday",date:ce.toISOString().split("T")[0]},{label:"2 Days Ago",date:xe.toISOString().split("T")[0]}]},K=Y=>{var Le,le,Ae;const ce=Y.totalPrice||0,xe=Y.amountPaid||0,pe=ce-xe,Ce=window.open("","_blank"),ve=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Hotel Virat - Bill</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 15px; }
          .header img { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin-bottom: 10px; }
          .header h1 { font-size: 24px; margin-bottom: 5px; }
          .header p { font-size: 12px; color: #666; }
          .header .gst { font-size: 11px; color: #333; font-weight: bold; margin-top: 5px; }
          .bill-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .bill-info p { font-size: 13px; margin: 4px 0; }
          .guest-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .guest-info h3 { font-size: 14px; margin-bottom: 8px; }
          .guest-info p { font-size: 13px; margin: 4px 0; }
          .stay-info { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
          .stay-info h3 { font-size: 14px; margin-bottom: 8px; }
          .stay-info p { font-size: 13px; margin: 4px 0; }
          .charges { margin-bottom: 15px; }
          .charges h3 { font-size: 14px; margin-bottom: 8px; }
          .charge-row { display: flex; justify-content: space-between; font-size: 13px; margin: 5px 0; }
          .charge-row.total { font-weight: bold; font-size: 16px; border-top: 2px solid #000; padding-top: 10px; margin-top: 10px; }
          .charge-row.paid { color: green; }
          .charge-row.due { color: red; font-weight: bold; }
          .footer { text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px dashed #ccc; }
          .footer p { font-size: 12px; color: #666; margin: 3px 0; }
          @media print { body { padding: 10px; } }
        </style>
      </head>
      <body>
        <div class="header">
          <img src="${Yc}" alt="Hotel Virat Logo" />
          <h1>HOTEL VIRAT</h1>
          <p>Your Comfort, Our Priority</p>
          <p class="gst">GSTIN: 29AGZPV1558K2Z6</p>
        </div>
        
        <div class="bill-info">
          <p><strong>Bill No:</strong> ${((Le=Y._id)==null?void 0:Le.slice(-8).toUpperCase())||"N/A"}</p>
          <p><strong>Date:</strong> ${new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
          <p><strong>Room No:</strong> ${((le=Y.roomId)==null?void 0:le.roomNumber)||"N/A"}</p>
          <p><strong>Room Type:</strong> ${((Ae=Y.roomId)==null?void 0:Ae.roomType)||"N/A"}</p>
        </div>
        
        <div class="guest-info">
          <h3>Guest Details</h3>
          <p><strong>Name:</strong> ${Y.userName||"N/A"}</p>
          <p><strong>Phone:</strong> ${Y.userPhone||"N/A"}</p>
          ${Y.userEmail?`<p><strong>Email:</strong> ${Y.userEmail}</p>`:""}
          ${Y.guestGstNumber?`<p><strong>GSTIN:</strong> ${Y.guestGstNumber}</p>`:""}
        </div>
        
        <div class="stay-info">
          <h3>Stay Details</h3>
          <p><strong>Check-in:</strong> ${se(Y.checkInDate)} at ${Y.checkInTime||"12:00"}</p>
          <p><strong>Check-out:</strong> ${se(Y.checkOutDate)} at ${Y.checkOutTime||"11:00"}</p>
          <p><strong>No. of Nights:</strong> ${Y.nights||1}</p>
        </div>
        
        <div class="charges">
          <h3>Charges</h3>
          <div class="charge-row">
            <span>Room Charges (${Y.nights||1} night${(Y.nights||1)>1?"s":""})</span>
            <span>${(Y.baseAmount||0).toFixed(2)}</span>
          </div>
          ${Y.gstType==="gst"?`
            <div class="charge-row">
              <span>CGST (2.5%)</span>
              <span>${(Y.cgst||0).toFixed(2)}</span>
            </div>
            <div class="charge-row">
              <span>SGST (2.5%)</span>
              <span>${(Y.sgst||0).toFixed(2)}</span>
            </div>
          `:""}
          ${Y.gstType==="igst"?`
            <div class="charge-row">
              <span>IGST (5%)</span>
              <span>${(Y.igst||0).toFixed(2)}</span>
            </div>
          `:""}
          <div class="charge-row total">
            <span>Total Amount</span>
            <span>${ce.toFixed(2)}</span>
          </div>
          <div class="charge-row paid">
            <span>Amount Paid</span>
            <span>${xe.toFixed(2)}</span>
          </div>
          ${pe>0?`
            <div class="charge-row due">
              <span>Balance Due</span>
              <span>${pe.toFixed(2)}</span>
            </div>
          `:`
            <div class="charge-row paid">
              <span>Status</span>
              <span> PAID</span>
            </div>
          `}
        </div>
        
        <div class="footer">
          <p>Thank you for staying with us!</p>
          <p>We hope to see you again soon.</p>
          <p style="margin-top: 10px; font-size: 10px;">This is a computer generated bill.</p>
        </div>
      </body>
      </html>
    `;Ce.document.write(ve),Ce.document.close(),Ce.focus(),setTimeout(()=>{Ce.print()},250)};return t?n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,overflowY:"auto",backgroundColor:"#f3f4f6"},children:n.jsxs("div",{style:{padding:"20px",paddingBottom:"100px",maxWidth:"1400px",margin:"0 auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",padding:"15px 20px",backgroundColor:"#059669",borderRadius:"8px",color:"white"},children:[n.jsxs("div",{children:[n.jsx("h1",{style:{margin:0,fontSize:"24px"},children:"Reception Dashboard"}),n.jsxs("p",{style:{margin:"5px 0 0",opacity:.9},children:[t.name," ",t.branchName?`- ${t.branchName}`:""]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("button",{onClick:I,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"rgba(255,255,255,0.2)",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},children:[n.jsx(Qi,{size:16})," Refresh"]}),n.jsxs("button",{onClick:z,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#dc2626",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},children:[n.jsx(nw,{size:16})," Logout"]})]})]}),v&&n.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#dcfce7",color:"#166534",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(fn,{size:18}),n.jsx("span",{children:v})]}),x&&n.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"6px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:18}),n.jsx("span",{children:x})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[n.jsxs("div",{style:{padding:"20px",backgroundColor:"#dcfce7",borderRadius:"8px"},children:[n.jsx("h3",{style:{margin:0,color:"#166534"},children:"Available"}),n.jsx("p",{style:{margin:"10px 0 0",fontSize:"32px",fontWeight:"bold",color:"#166534"},children:a.filter(Y=>R(Y).status==="available").length})]}),n.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee2e2",borderRadius:"8px"},children:[n.jsx("h3",{style:{margin:0,color:"#dc2626"},children:"Unavailable"}),n.jsx("p",{style:{margin:"10px 0 0",fontSize:"32px",fontWeight:"bold",color:"#dc2626"},children:a.filter(Y=>R(Y).status==="unavailable").length})]}),n.jsxs("div",{style:{padding:"20px",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:[n.jsx("h3",{style:{margin:0,color:"#374151"},children:"Total Rooms"}),n.jsx("p",{style:{margin:"10px 0 0",fontSize:"32px",fontWeight:"bold",color:"#374151"},children:a.length})]})]}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",borderBottom:"2px solid #e5e7eb",paddingBottom:"10px"},children:[n.jsxs("button",{onClick:()=>k("rooms"),style:{padding:"10px 20px",border:"none",borderRadius:"6px",backgroundColor:M==="rooms"?"#059669":"#f3f4f6",color:M==="rooms"?"white":"#374151",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Oo,{size:18})," Rooms"]}),n.jsxs("button",{onClick:()=>k("history"),style:{padding:"10px 20px",border:"none",borderRadius:"6px",backgroundColor:M==="history"?"#059669":"#f3f4f6",color:M==="history"?"white":"#374151",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(Lr,{size:18})," Booking History"]})]}),M==="history"&&n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap",alignItems:"center"},children:[n.jsx("div",{style:{display:"flex",gap:"8px"},children:Z().map(({label:Y,date:ce})=>n.jsx("button",{onClick:()=>F(ce),style:{padding:"8px 16px",border:W===ce?"2px solid #059669":"1px solid #e5e7eb",borderRadius:"6px",backgroundColor:W===ce?"#dcfce7":"white",cursor:"pointer",fontSize:"13px",fontWeight:W===ce?"600":"400"},children:Y},ce))}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontSize:"14px",color:"#6b7280"},children:"Or select date:"}),n.jsx("input",{type:"date",value:W,onChange:Y=>F(Y.target.value),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px"}})]})]}),n.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0f9ff",borderRadius:"8px",borderLeft:"4px solid #0ea5e9"},children:[n.jsxs("h3",{style:{margin:"0 0 5px",fontSize:"16px"},children:["Bookings for ",se(W)]}),n.jsxs("p",{style:{margin:0,color:"#6b7280"},children:[te.length," booking(s) found | Total Revenue: ",te.reduce((Y,ce)=>Y+(ce.totalPrice||0),0).toFixed(2)," | Collected: ",te.reduce((Y,ce)=>Y+(ce.amountPaid||0),0).toFixed(2)]})]}),te.length>0?n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:te.map(Y=>{var ce,xe;return n.jsx("div",{style:{padding:"15px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderLeft:`4px solid ${Y.status==="checked-out"?"#22c55e":Y.status==="cancelled"?"#ef4444":"#f59e0b"}`},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"10px"},children:[n.jsxs("div",{children:[n.jsxs("h4",{style:{margin:"0 0 5px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Oo,{size:16})," Room ",((ce=Y.roomId)==null?void 0:ce.roomNumber)||"N/A",n.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"500",backgroundColor:Y.status==="checked-out"?"#dcfce7":Y.status==="cancelled"?"#fee2e2":"#fef3c7",color:Y.status==="checked-out"?"#166534":Y.status==="cancelled"?"#dc2626":"#92400e"},children:(xe=Y.status)==null?void 0:xe.toUpperCase()})]}),n.jsxs("p",{style:{margin:"3px 0",fontSize:"14px",color:"#374151"},children:[n.jsx("strong",{children:"Guest:"})," ",Y.userName," | ",n.jsx("strong",{children:"Phone:"})," ",Y.userPhone]}),n.jsxs("p",{style:{margin:"3px 0",fontSize:"13px",color:"#6b7280"},children:["Check-in: ",se(Y.checkInDate),"  Check-out: ",se(Y.checkOutDate)," (",Y.nights," nights)"]})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsxs("p",{style:{margin:"0 0 3px",fontSize:"14px"},children:[n.jsx("strong",{children:"Total:"})," ",(Y.totalPrice||0).toFixed(2)]}),n.jsxs("p",{style:{margin:"0 0 3px",fontSize:"13px",color:"#059669"},children:[n.jsx("strong",{children:"Paid:"})," ",(Y.amountPaid||0).toFixed(2)]}),Y.totalPrice-(Y.amountPaid||0)>0&&n.jsxs("p",{style:{margin:"0",fontSize:"13px",color:"#dc2626",fontWeight:"600"},children:["Due: ",(Y.totalPrice-(Y.amountPaid||0)).toFixed(2)]}),Y.gstType&&Y.gstType!=="none"&&n.jsxs("p",{style:{margin:"3px 0 0",fontSize:"11px",color:"#6b7280"},children:["GST: ",Y.gstType==="gst"?"CGST+SGST":"IGST"]}),n.jsxs("button",{onClick:()=>K(Y),style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px",marginLeft:"auto"},children:[n.jsx(Hs,{size:14})," Print Bill"]})]})]})},Y._id)})}):n.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280",backgroundColor:"white",borderRadius:"8px"},children:[n.jsx(Lr,{size:48,style:{marginBottom:"10px",opacity:.5}}),n.jsxs("p",{children:["No bookings found for ",se(W)]})]})]}),M==="rooms"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap"},children:[n.jsxs("div",{style:{position:"relative",flex:1,minWidth:"250px"},children:[n.jsx(Mt,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),n.jsx("input",{type:"text",placeholder:"Search by room number or type...",value:b,onChange:Y=>y(Y.target.value),style:{width:"100%",padding:"10px 10px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"6px"}})]}),n.jsxs("select",{value:C,onChange:Y=>A(Y.target.value),style:{padding:"10px 15px",border:"1px solid #e5e7eb",borderRadius:"6px",minWidth:"150px"},children:[n.jsx("option",{value:"all",children:"All Rooms"}),n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"unavailable",children:"Unavailable"})]})]}),f?n.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Loading rooms..."}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:U.map(Y=>{var pe;const{status:ce}=R(Y),xe=ce==="available";return n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:`2px solid ${xe?"#22c55e":"#ef4444"}`},children:[n.jsx("div",{style:{padding:"15px",backgroundColor:xe?"#f0fdf4":"#fef2f2",borderBottom:"1px solid #e5e7eb"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Oo,{size:20})," Room ",Y.roomNumber]}),n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[xe&&X(Y).length>0&&n.jsxs("span",{style:{padding:"2px 6px",borderRadius:"12px",fontSize:"10px",fontWeight:"500",backgroundColor:"#f59e0b",color:"white"},children:[X(Y).length," Future"]}),n.jsx("span",{style:{padding:"4px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:"500",backgroundColor:xe?"#22c55e":"#ef4444",color:"white"},children:xe?"Available":"Unavailable"})]})]})}),n.jsxs("div",{style:{padding:"15px"},children:[n.jsxs("p",{style:{margin:"0 0 8px",color:"#6b7280"},children:[n.jsx("strong",{children:"Type:"})," ",Y.roomType]}),n.jsxs("p",{style:{margin:"0 0 8px",color:"#6b7280"},children:[n.jsx("strong",{children:"Floor:"})," ",Y.floor]}),n.jsxs("p",{style:{margin:"0 0 8px",color:"#6b7280"},children:[n.jsx("strong",{children:"Basic Price:"})," ",Y.price,"/night ",n.jsx("span",{style:{fontSize:"11px"},children:"(excl. GST)"})]}),n.jsxs("p",{style:{margin:"0 0 15px",color:"#6b7280"},children:[n.jsx("strong",{children:"Capacity:"})," ",((pe=Y.capacity)==null?void 0:pe.adults)||2," Adults"]}),xe&&(()=>{const Ce=X(Y);return Ce.length>0&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#fef3c7",borderRadius:"6px",marginBottom:"15px"},children:[n.jsxs("p",{style:{margin:"0 0 8px",fontSize:"13px",fontWeight:"600",color:"#92400e"},children:["Future Bookings (",Ce.length,")"]}),Ce.slice(0,2).map((ve,Le)=>n.jsxs("div",{style:{marginBottom:"5px",fontSize:"12px",color:"#92400e"},children:[n.jsxs("div",{children:[ve.userName," - ",ve.userPhone]}),n.jsxs("div",{children:[new Date(ve.checkInDate).toLocaleDateString()," ",ve.checkInTime," -",new Date(ve.checkOutDate).toLocaleDateString()," ",ve.checkOutTime]})]},Le)),Ce.length>2&&n.jsxs("div",{style:{fontSize:"11px",color:"#92400e",fontStyle:"italic"},children:["+",Ce.length-2," more booking(s)"]})]})})(),xe&&n.jsx("button",{onClick:()=>ne(Y),style:{width:"100%",padding:"10px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Book Now"}),!xe&&n.jsx("div",{style:{width:"100%",padding:"10px",backgroundColor:"#f3f4f6",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:"6px",textAlign:"center",fontWeight:"500"},children:"Room Unavailable"})]})]},Y._id)})}),U.length===0&&!f&&n.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:"No rooms found matching your criteria"})]}),T&&E&&n.jsx(Xfe,{room:E,onClose:()=>{_(!1),S(null)},onBook:ge}),D&&P&&n.jsx(Kfe,{booking:P,onClose:()=>{B(!1),L(null)},onCheckout:ee,onUpdatePayment:q})]})}):n.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Loading..."})},jo=bt.create({baseURL:"https://hotelvirat.com/api/v1/hotel",headers:{"Content-Type":"application/json"}}),Zfe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[u,f]=N.useState([]),[p,x]=N.useState(!0),[g,v]=N.useState(""),j=`
    .search-container {
      position: relative;
      flex: 1;
      max-width: 400px;
    }
    
    .search-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: #666;
      z-index: 1;
    }
    
    .search-input {
      width: 100%;
      padding: 10px 12px 10px 40px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      height: 38px;
    }
    
    .filter-buttons {
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    }
    
    .filter-select.compact {
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      height: 38px;
      min-width: 140px;
      background: white;
    }
    
    .legacy-filter-label {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      white-space: nowrap;
      cursor: pointer;
    }
    
    .legacy-filter-label input[type="checkbox"] {
      margin: 0;
    }
    
    .filters-bar {
      display: flex;
      gap: 16px;
      align-items: center;
      padding: 16px 20px;
      background: #f8f9fa;
      border-bottom: 1px solid #e5e7eb;
      flex-wrap: wrap;
    }
  `;N.useEffect(()=>{const Z=document.createElement("style");return Z.textContent=j,document.head.appendChild(Z),()=>{document.head.removeChild(Z)}},[]);const[b,y]=N.useState(!1),[C,A]=N.useState(null),[E,S]=N.useState(""),[T,_]=N.useState(""),[P,L]=N.useState("all"),[D,B]=N.useState("all"),[M,k]=N.useState(""),[W,F]=N.useState(!0),[I,R]=N.useState(1),[X,ne]=N.useState(1),ge=10;N.useEffect(()=>{(async()=>{try{const[K,Y]=await Promise.all([jo.get("/branch"),jo.get("/table")]),ce=K.data||[],xe=Y.data||[];console.log(" Branches API response:",ce),console.log(" Tables API response:",xe),console.log(" Available branch IDs:",ce.map(pe=>pe._id)),console.log(" Available branch names:",ce.map(pe=>`${pe._id}: ${pe.name}`)),d(ce),f(xe),await q(ce,xe)}catch(K){console.error(" Error in fetchAllData:",K),d([]),f([]),v("Failed to load data. Please refresh the page.")}finally{x(!1)}})()},[]),N.useEffect(()=>{l.length>=0&&u.length>=0&&ee()},[P,D,M]);const q=async(Z=l,K=u)=>{try{if(!Z||Z.length===0){console.log(" Branches data is empty, fetching again...");try{Z=(await jo.get("/branch")).data||[],console.log(" Refetched branches:",Z),d(Z)}catch(Ce){console.error(" Error refetching branches:",Ce),Z=[]}}if(!K||K.length===0){console.log(" Tables data is empty, fetching again...");try{K=(await jo.get("/table")).data||[],console.log(" Refetched tables:",K),f(K)}catch(Ce){console.error(" Error refetching tables:",Ce),K=[]}}const Y={};P!=="all"&&(Y.status=P),M&&(Y.date=M),console.log("Fetching reservations with params:",Y);const ce=await jo.get("/reservation",{params:Y});if(!Array.isArray(ce.data))throw new Error("Invalid response format");console.log("Raw reservations data:",ce.data),console.log("Available branches for processing:",Z),console.log("Available tables for processing:",K),console.log("Branches count:",Z.length),console.log("Tables count:",K.length);const xe=ce.data.map(Ce=>{if(console.log("Processing reservation:",Ce),!Ce.tableId)return console.log("Legacy reservation without table:",Ce._id),{id:Ce._id,customerName:Ce.customerName,customerPhone:Ce.customerPhone,customerEmail:Ce.customerEmail||"",guestCount:Ce.guestCount,tableNumber:"N/A",tableName:"No Table Assigned",branchName:"Legacy Data",branchId:null,reservationDate:new Date(Ce.reservationDate).toLocaleDateString(),timeSlot:Ce.timeSlot,status:Ce.status,notes:Ce.notes||"",createdAt:new Date(Ce.createdAt).toLocaleString(),originalReservation:Ce,isLegacyReservation:!0};let ve="N/A";if(Ce.tableId)if(typeof Ce.tableId=="object")ve=Ce.tableId.number||"N/A";else{const qe=K.find(me=>me._id===Ce.tableId);ve=(qe==null?void 0:qe.number)||"N/A"}let Le="Unknown Branch",le=null;if(Ce.branchId)if(console.log(" Direct branchId found:",Ce.branchId),typeof Ce.branchId=="object")Le=Ce.branchId.name||"Unknown Branch",le=Ce.branchId._id;else{console.log(` Looking for direct branch ID: ${Ce.branchId}`);const qe=Z.find(me=>me._id===Ce.branchId);if(qe)Le=qe.name,le=qe._id,console.log(` Found direct branch: ${Le}`);else{console.log(" Direct branch not found, trying string comparison...");const me=Z.find(ae=>ae._id.toString()===Ce.branchId.toString());me&&(Le=me.name,le=me._id,console.log(` Found direct branch by string comparison: ${Le}`))}}if(Le==="Unknown Branch"&&Ce.tableId&&typeof Ce.tableId=="object"&&Ce.tableId.branchId){const qe=Ce.tableId.branchId;if(console.log(` Looking for branch ID: ${qe}`),console.log(" Available branches:",Z.map(me=>`${me._id}:${me.name}`)),console.log(" Exact match check:",Z.find(me=>me._id===qe)),typeof qe=="object")Le=qe.name||"Unknown Branch",le=qe._id;else{const me=Z.find(ae=>ae._id===qe);if(me)Le=me.name,le=me._id,console.log(` Found branch: ${Le}`);else{console.log(` Branch not found for ID: ${qe}`),console.log(" Trying string comparison...");const ae=Z.find(re=>re._id.toString()===qe.toString());ae&&(Le=ae.name,le=ae._id,console.log(` Found branch by string comparison: ${Le}`))}}}if(Le==="Unknown Branch"&&Ce.tableId){const qe=typeof Ce.tableId=="object"?Ce.tableId._id:Ce.tableId,me=K.find(ae=>ae._id===qe);if(me&&me.branchId){const ae=Z.find(re=>re._id===(me.branchId._id||me.branchId));ae&&(Le=ae.name,le=ae._id)}}console.log("Extracted info:",{tableNumber:ve,branchName:Le,branchId:le});const Ae=new Date-new Date(Ce.createdAt)<24*60*60*1e3;return{id:Ce._id,customerName:Ce.customerName,customerPhone:Ce.customerPhone,customerEmail:Ce.customerEmail||"",guestCount:Ce.guestCount,tableNumber:ve,tableName:`Table ${ve}`,branchName:Le,branchId:le,reservationDate:new Date(Ce.reservationDate).toLocaleDateString(),timeSlot:Ce.timeSlot,status:Ce.status,notes:Ce.notes||"",createdAt:new Date(Ce.createdAt).toLocaleString(),originalReservation:Ce,isNewReservation:Ae}});console.log("Formatted reservations:",xe);const pe=Array.isArray(xe)?xe.sort((Ce,ve)=>{const Le=new Date(Ce.originalReservation.createdAt);return new Date(ve.originalReservation.createdAt)-Le}):[];t(pe)}catch(Y){console.error("Error fetching reservations:",Y),v("Failed to load reservations. Please refresh the page and try again.")}},ee=async()=>{x(!0),v(""),await q(),x(!1)};N.useEffect(()=>{let Z=e;if(W||(Z=Z.filter(K=>!K.isLegacyReservation)),T.trim()){const K=T.trim().toLowerCase();Z=Z.filter(Y=>Y.customerName.toLowerCase().includes(K)||Y.customerPhone.includes(K)||Y.tableName.toLowerCase().includes(K)||Y.branchName.toLowerCase().includes(K)||Y.status.toLowerCase().includes(K))}D!=="all"&&(Z=Z.filter(K=>K.branchId===D)),s(Z),ne(Math.ceil(Z.length/ge)),R(1)},[e,T,D,W]),N.useEffect(()=>{const Z=(I-1)*ge,K=Z+ge,Y=i.slice(Z,K);a(Y)},[i,I]);const z=Z=>{A(Z),y(!0)},U=async(Z,K)=>{try{await jo.put(`/reservation/${Z}`,{status:K}),S(`Reservation ${K} successfully`),ee(),setTimeout(()=>S(""),3e3)}catch(Y){console.error("Error updating reservation:",Y),alert("Failed to update reservation status")}},V=async Z=>{if(window.confirm("Are you sure you want to cancel this reservation?"))try{await jo.put(`/reservation/${Z}/cancel`),S("Reservation cancelled successfully"),ee(),setTimeout(()=>S(""),3e3)}catch(K){console.error("Error cancelling reservation:",K),alert("Failed to cancel reservation")}},te=()=>{let Z=`Customer Name,Phone,Email,Table,Branch,Date,Time Slot,Guests,Status,Notes,Created At
`;i.forEach(xe=>{Z+=`"${xe.customerName}","${xe.customerPhone}","${xe.customerEmail}","${xe.tableName}","${xe.branchName}","${xe.reservationDate}","${xe.timeSlot}",${xe.guestCount},"${xe.status}","${xe.notes}","${xe.createdAt}"
`});const K=new Blob([Z],{type:"text/csv"}),Y=window.URL.createObjectURL(K),ce=document.createElement("a");ce.setAttribute("hidden",""),ce.setAttribute("href",Y),ce.setAttribute("download",`reservations-export-${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)},se=Z=>{switch(Z){case"confirmed":return"#28a745";case"reserved":return"#ffc107";case"cancelled":return"#dc3545";case"completed":return"#17a2b8";default:return"#6c757d"}};return n.jsxs("div",{className:"reservations-page",children:[E&&n.jsxs("div",{className:"success-message",children:[n.jsx(fn,{size:16}),n.jsx("span",{children:E}),n.jsx("button",{onClick:()=>S(""),children:n.jsx(Un,{size:16})})]}),n.jsxs("div",{className:"page-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Table Reservations"}),e.length>0&&n.jsxs("div",{style:{fontSize:"14px",color:"#666",marginTop:"4px"},children:[e.filter(Z=>Z.isNewReservation).length," new reservations in the last 24 hours"]})]}),n.jsx("div",{className:"header-actions",children:n.jsxs("button",{className:"btn btn-outline",onClick:te,children:[n.jsx(On,{size:16}),n.jsx("span",{children:"Export CSV"})]})})]}),n.jsxs("div",{className:"filters-bar",children:[n.jsxs("div",{className:"search-container",children:[n.jsx(Mt,{size:18,className:"search-icon"}),n.jsx("input",{type:"text",placeholder:"Search by customer name, phone, table, or branch...",className:"search-input",value:T,onChange:Z=>_(Z.target.value)})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("select",{className:"filter-select compact",value:P,onChange:Z=>L(Z.target.value),children:[n.jsx("option",{value:"all",children:"All Reservations"}),n.jsx("option",{value:"reserved",children:"New Reservations"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{className:"filter-select compact",value:D,onChange:Z=>B(Z.target.value),children:[n.jsx("option",{value:"all",children:"All Branches"}),l.map(Z=>n.jsx("option",{value:Z._id,children:Z.name},Z._id))]}),n.jsx("input",{type:"date",className:"filter-select compact",value:M,onChange:Z=>k(Z.target.value),placeholder:"Filter by date"}),n.jsxs("label",{className:"legacy-filter-label",children:[n.jsx("input",{type:"checkbox",checked:W,onChange:Z=>F(Z.target.checked)}),n.jsx("span",{children:"Show Legacy Data"})]})]})]}),g&&n.jsxs("div",{className:"error-container",style:{margin:"20px 0",padding:"10px 15px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(Dt,{size:18}),n.jsx("span",{children:g})]}),n.jsx("div",{className:"data-card",children:p?n.jsx("div",{className:"loading-container",style:{textAlign:"center",padding:"40px 0"},children:n.jsx("p",{children:"Loading reservations..."})}):n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer Details"}),n.jsx("th",{children:"Table & Branch"}),n.jsx("th",{children:"Reservation Details"}),n.jsx("th",{children:"Guests"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.length>0?r.map(Z=>n.jsxs("tr",{style:{backgroundColor:Z.isNewReservation?"#f0f9ff":"transparent",borderLeft:Z.isNewReservation?"4px solid #0ea5e9":"none"},children:[n.jsx("td",{children:n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[n.jsx("strong",{style:{fontSize:"16px"},children:Z.customerName}),Z.isNewReservation&&n.jsx("span",{style:{backgroundColor:"#0ea5e9",color:"white",fontSize:"10px",fontWeight:"bold",padding:"2px 6px",borderRadius:"4px"},children:"NEW"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginTop:"4px"},children:[n.jsx(mi,{size:14}),n.jsx("span",{style:{fontSize:"14px"},children:Z.customerPhone})]}),Z.customerEmail&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginTop:"2px"},children:[n.jsx(Mo,{size:14}),n.jsx("span",{style:{fontSize:"12px",color:"#666"},children:Z.customerEmail})]})]})}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px"},children:Z.tableName}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(Au,{size:14}),n.jsx("span",{style:{fontSize:"14px",color:Z.isLegacyReservation?"#999":"inherit",fontStyle:Z.isLegacyReservation?"italic":"normal"},children:Z.branchName})]})]})}),n.jsx("td",{children:n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginBottom:"4px"},children:[n.jsx(Lr,{size:14}),n.jsx("span",{style:{fontSize:"14px",fontWeight:"bold"},children:Z.reservationDate})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx(ui,{size:14}),n.jsx("span",{style:{fontSize:"14px"},children:Z.timeSlot})]}),Z.notes&&n.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px",fontStyle:"italic"},children:["Note: ",Z.notes]})]})}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",justifyContent:"center"},children:[n.jsx(Bi,{size:16}),n.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:Z.guestCount})]})}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"action-btn view",onClick:()=>z(Z),title:"View full details",children:"View Details"}),Z.status==="reserved"&&n.jsx("button",{className:"action-btn edit",onClick:()=>U(Z.id,"confirmed"),title:"Confirm this reservation",children:" Confirm"}),Z.status==="confirmed"&&n.jsx("button",{className:"action-btn",style:{backgroundColor:"#17a2b8",color:"white"},onClick:()=>U(Z.id,"completed"),title:"Mark as completed",children:" Complete"}),(Z.status==="reserved"||Z.status==="confirmed")&&n.jsx("button",{className:"action-btn delete",onClick:()=>V(Z.id),title:"Cancel this reservation",children:" Cancel"}),Z.status==="completed"&&n.jsx("span",{style:{color:"#28a745",fontWeight:"bold",fontSize:"14px"},children:" Completed"})]})})]},Z.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"no-tables",children:"No reservations found matching your criteria"})})})]})}),X>0&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{className:"pagination-btn",onClick:()=>R(Z=>Math.max(Z-1,1)),disabled:I===1||p,children:"Previous"}),n.jsx("div",{className:"pagination-pages",children:Array.from({length:Math.min(5,X)},(Z,K)=>{let Y;return X<=5||I<=3?Y=K+1:I>=X-2?Y=X-4+K:Y=I-2+K,n.jsx("button",{className:`pagination-page ${I===Y?"active":""}`,onClick:()=>R(Y),disabled:p,children:Y},Y)})}),n.jsx("button",{className:"pagination-btn",onClick:()=>R(Z=>Math.min(Z+1,X)),disabled:I===X||p,children:"Next"})]}),b&&C&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{className:"modal-title",children:"Reservation Details"}),n.jsx("button",{className:"modal-close",onClick:()=>y(!1),children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"order-details",children:[n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Customer Name"}),n.jsx("div",{className:"order-detail-value",children:C.customerName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Phone Number"}),n.jsx("div",{className:"order-detail-value",children:C.customerPhone})]}),C.customerEmail&&n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Email"}),n.jsx("div",{className:"order-detail-value",children:C.customerEmail})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Table"}),n.jsx("div",{className:"order-detail-value",children:C.tableName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Branch"}),n.jsx("div",{className:"order-detail-value",children:C.branchName})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Reservation Date"}),n.jsx("div",{className:"order-detail-value",children:C.reservationDate})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Time Slot"}),n.jsx("div",{className:"order-detail-value",children:C.timeSlot})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Number of Guests"}),n.jsx("div",{className:"order-detail-value",children:C.guestCount})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Status"}),n.jsx("div",{className:"order-detail-value",children:n.jsx("span",{className:"status-badge",style:{backgroundColor:se(C.status),color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold"},children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})})]}),C.notes&&n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Special Notes"}),n.jsx("div",{className:"order-detail-value",children:C.notes})]}),n.jsxs("div",{className:"order-detail-row",children:[n.jsx("div",{className:"order-detail-label",children:"Created At"}),n.jsx("div",{className:"order-detail-value",children:C.createdAt})]})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-outline",onClick:()=>y(!1),children:"Close"}),C.status==="reserved"&&n.jsx("button",{className:"btn btn-primary",onClick:()=>{U(C.id,"confirmed"),y(!1)},children:"Confirm Reservation"})]})]})})]})},Jfe="https://hotelvirat.com/api/v1/hotel";class ehe{async request(t,r={}){const a=`${Jfe}${t}`,i={headers:{"Content-Type":"application/json",...r.headers},...r},s=new AbortController,l=setTimeout(()=>s.abort(),15e3);i.signal=s.signal;try{const d=await fetch(a,i);if(clearTimeout(l),d.status===429)throw console.warn(" Rate limit hit, waiting 2 seconds before retry..."),await new Promise(p=>setTimeout(p,2e3)),new Error("Rate limit exceeded. Please wait a moment and try again.");const u=d.headers.get("content-type");if(!u||!u.includes("application/json")){const p=await d.text();throw console.error(" Non-JSON response:",p.substring(0,200)),new Error(`Server returned ${d.status}: Expected JSON but got ${u}`)}const f=await d.json();if(!d.ok)throw new Error(f.message||`HTTP error! status: ${d.status}`);return f}catch(d){throw clearTimeout(l),d.name==="AbortError"?new Error("Request timed out. Please check your connection and try again."):(console.error("API request failed:",d),d)}}async sendOtp(t){return this.request("/counter-auth/login/send-otp",{method:"POST",body:JSON.stringify({mobile:t})})}async resendOtp(t){return this.request("/counter-auth/login/resend-otp",{method:"POST",body:JSON.stringify({mobile:t})})}async verifyOtp(t,r){return this.request("/counter-auth/verify-otp",{method:"POST",body:JSON.stringify({mobile:t,otp:r,isRegistration:!1})})}async getBranches(){return this.request("/branch")}async getCategories(t){return this.request(`/category?branchId=${t}`)}async getMenuItems(t,r=null){let a=`/menu?branchId=${t}`;return r&&(a+=`&categoryId=${r}`),this.request(a)}async createOrder(t){return this.request("/counter-order",{method:"POST",body:JSON.stringify(t)})}async getOrders(t){return this.request(`/counter-order?branchId=${t}`)}async updateOrderStatus(t,r){return this.request(`/counter-order/${t}`,{method:"PUT",body:JSON.stringify({status:r})})}async createBill(t){return this.request("/counter-bill",{method:"POST",body:JSON.stringify(t)})}async getBills(t){return this.request(`/counter-bill?branchId=${t}`)}async processPayment(t){return this.request("/counter-payment",{method:"POST",body:JSON.stringify(t)})}async generateInvoice(){const t=Date.now(),r=Math.floor(Math.random()*1e3);return{invoiceNumber:`INV-${t}-${r}`,invoiceId:`${t}${r}`,date:new Date().toLocaleDateString("en-IN"),time:new Date().toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"})}}}const Ea=new ehe,the=({message:e,type:t,onClose:r})=>(N.useEffect(()=>{const a=setTimeout(r,3e3);return()=>clearTimeout(a)},[r]),n.jsx("div",{className:`counter-toast ${t}`,children:e})),rhe=()=>{const e=Zr(),[t,r]=N.useState(""),[a,i]=N.useState(""),[s,l]=N.useState(!1),[d,u]=N.useState(null),[f,p]=N.useState(!1),[x,g]=N.useState(30),[v,j]=N.useState(!1),[b,y]=N.useState(!1);N.useEffect(()=>{let T;return f&&x>0?T=setTimeout(()=>{g(x-1)},1e3):x===0&&p(!1),()=>clearTimeout(T)},[f,x]);const C=(T,_="success")=>{u({message:T,type:_})},A=async T=>{if(T.preventDefault(),t.length!==10||!/^\d{10}$/.test(t)){C("Please enter a valid 10-digit mobile number","error");return}j(!0);try{const _=await Ea.sendOtp(t);l(!0),p(!0),g(30),C(_.message),_.otp&&setTimeout(()=>{C(`Your OTP is ${_.otp}`,"success")},3e3)}catch(_){console.error("Error sending OTP:",_),C(_.message||"Error sending OTP","error")}finally{j(!1)}},E=async()=>{if(t.length!==10||!/^\d{10}$/.test(t)){C("Please enter a valid 10-digit mobile number","error");return}j(!0);try{const T=await Ea.resendOtp(t);p(!0),g(30),C(T.message),T.otp&&setTimeout(()=>{C(`Your new OTP is ${T.otp}`,"success")},3e3)}catch(T){console.error("Error resending OTP:",T),C(T.message||"Error resending OTP","error")}finally{j(!1)}},S=async T=>{if(T.preventDefault(),!a||a.length!==6){C("Please enter a valid 6-digit OTP","error");return}y(!0);try{const _=await Ea.verifyOtp(t,a),P=_.counter._id;console.log("Counter User ID:",P),localStorage.setItem("counterAuthenticated","true"),localStorage.setItem("counterUserId",P),localStorage.setItem("counterUserData",JSON.stringify(_.counter)),C(_.message),setTimeout(()=>{e("/counter/branch-selection")},1e3)}catch(_){console.error("Error verifying OTP:",_),C(_.message||"Error during login","error")}finally{y(!1)}};return n.jsxs("div",{className:"counter-container",children:[d&&n.jsx(the,{message:d.message,type:d.type,onClose:()=>u(null)}),n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("img",{src:"/logo.png",alt:"Virat Restaurant",style:{width:"120px",height:"120px",marginBottom:"20px"},onError:T=>{T.target.style.display="none"}}),n.jsx("h1",{className:"counter-title",children:"Counter Login"}),n.jsx("p",{className:"counter-subtitle",children:"Welcome back! Please login to continue"})]}),n.jsxs("form",{className:"counter-form",onSubmit:s?S:A,children:[n.jsxs("div",{className:"counter-form-group",children:[n.jsx("label",{className:"counter-label",children:"Mobile Number"}),n.jsx("input",{type:"tel",className:"counter-input",placeholder:"Enter 10 digit number",maxLength:10,value:t,onChange:T=>r(T.target.value),disabled:s||v,required:!0})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"counter-form-group",children:[n.jsx("label",{className:"counter-label",children:"OTP"}),n.jsx("input",{type:"text",className:"counter-input",placeholder:"Enter 6 digit OTP",maxLength:6,value:a,onChange:T=>i(T.target.value),required:!0})]}),n.jsx("div",{style:{textAlign:"right",marginBottom:"20px"},children:n.jsxs("button",{type:"button",className:"counter-button-secondary",onClick:E,disabled:f||v,style:{width:"auto",padding:"8px 16px",fontSize:"0.875rem",opacity:f?.5:1},children:[f?`Resend OTP in ${x}s`:"Resend OTP",v&&n.jsx("div",{className:"counter-spinner",style:{width:"16px",height:"16px",marginLeft:"8px"}})]})})]}),n.jsx("button",{type:"submit",className:"counter-button",disabled:v||b,children:v||b?n.jsx("div",{className:"counter-spinner",style:{width:"20px",height:"20px"}}):s?"Login":"Send OTP"})]})]})]})},nhe=()=>{const e=Zr(),[t,r]=N.useState([]),[a,i]=N.useState(null),[s,l]=N.useState(!0),[d,u]=N.useState(null);N.useEffect(()=>{f()},[]);const f=async()=>{try{l(!0);const v=await Ea.getBranches(),j=v.branches||v.data||v||[];r(j)}catch(v){console.error("Error loading branches:",v),u("Failed to load branches. Please try again.")}finally{l(!1)}},p=v=>{i(v)},x=()=>{if(!a){alert("Please select a branch to continue");return}localStorage.setItem("selectedBranch",JSON.stringify(a)),e("/counter/customer-details")},g=()=>{localStorage.removeItem("counterAuthenticated"),localStorage.removeItem("counterUserId"),localStorage.removeItem("counterUserData"),localStorage.removeItem("selectedBranch"),e("/counter/login")};return s?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading branches..."})]})})}):d?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("h3",{children:"Error"}),n.jsx("p",{children:d}),n.jsx("button",{className:"counter-button",onClick:f,children:"Retry"})]})})}):n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Select Branch"}),n.jsx("p",{className:"counter-subtitle",children:"Choose your branch to continue"}),n.jsx("button",{className:"counter-button-secondary",onClick:g,style:{position:"absolute",top:"20px",right:"20px",width:"auto",padding:"8px 16px"},children:"Logout"})]}),t.length===0?n.jsx("div",{className:"counter-error",children:n.jsx("p",{children:"No branches available. Please contact administrator."})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"counter-grid",children:t.map(v=>n.jsxs("div",{className:`counter-item ${(a==null?void 0:a._id)===v._id?"selected":""}`,onClick:()=>p(v),children:[n.jsx("h3",{style:{margin:"0 0 8px 0",color:"#1a202c"},children:v.name}),n.jsx("p",{style:{margin:"0 0 8px 0",color:"#718096",fontSize:"0.875rem"},children:v.address}),n.jsxs("p",{style:{margin:"0",color:"#4a5568",fontSize:"0.875rem"},children:[" ",v.phone]}),v.email&&n.jsxs("p",{style:{margin:"4px 0 0 0",color:"#4a5568",fontSize:"0.875rem"},children:[" ",v.email]})]},v._id))}),n.jsx("div",{style:{textAlign:"center",marginTop:"32px"},children:n.jsx("button",{className:"counter-button",onClick:x,disabled:!a,style:{maxWidth:"300px"},children:"Continue to Customer Details"})})]})]})})},ahe=()=>{const e=Zr(),[t,r]=N.useState(""),[a,i]=N.useState(""),[s,l]=N.useState(null),[d,u]=N.useState(null),[f,p]=N.useState(!1);N.useEffect(()=>{const b=localStorage.getItem("selectedBranch");b?l(JSON.parse(b)):e("/counter/branch-selection"),x()},[e]);const x=async()=>{try{const b=await Ea.generateInvoice();u(b)}catch(b){console.error("Error generating invoice:",b)}},g=b=>{if(b.preventDefault(),a.trim()&&(a.length!==10||!/^\d{10}$/.test(a))){alert("Please enter a valid 10-digit phone number or leave it blank");return}const y=t.trim()||"Walk-in Customer",C=a.trim()||"0000000000";if(!s||!d){alert("Missing required data. Please try again.");return}e("/counter/menu",{state:{customerName:y,phoneNumber:C,selectedBranch:s,...d}})},v=()=>{if(!s||!d){alert("Missing required data. Please try again.");return}e("/counter/menu",{state:{customerName:"Walk-in Customer",phoneNumber:"0000000000",selectedBranch:s,...d}})},j=()=>{e("/counter/branch-selection")};return!s||!d?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading..."})]})})}):n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Customer Details"}),n.jsx("p",{className:"counter-subtitle",children:"Enter customer information (optional for walk-in customers)"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px",textAlign:"center"},children:[n.jsx("h3",{style:{margin:"0 0 8px 0",color:"#1a202c"},children:s.name}),n.jsxs("p",{style:{margin:"0 0 8px 0",color:"#718096",fontSize:"0.875rem"},children:["Invoice: ",d.invoiceNumber]}),n.jsxs("p",{style:{margin:"0",color:"#718096",fontSize:"0.875rem"},children:[d.date,"  ",d.time]})]}),n.jsxs("form",{className:"counter-form",onSubmit:g,children:[n.jsx("div",{style:{background:"#e6fffa",padding:"12px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #81e6d9"},children:n.jsxs("div",{style:{fontSize:"0.875rem",color:"#2d3748"},children:[" ",n.jsx("strong",{children:"Quick Tip:"})," You can skip customer details for walk-in customers or fill them for regular customers who want receipts."]})}),n.jsxs("div",{className:"counter-form-group",children:[n.jsx("label",{className:"counter-label",children:"Customer Name (Optional)"}),n.jsx("input",{type:"text",className:"counter-input",placeholder:"Enter customer name or leave blank for walk-in",value:t,onChange:b=>r(b.target.value)})]}),n.jsxs("div",{className:"counter-form-group",children:[n.jsx("label",{className:"counter-label",children:"Phone Number (Optional)"}),n.jsx("input",{type:"tel",className:"counter-input",placeholder:"Enter 10 digit phone number (optional)",maxLength:10,value:a,onChange:b=>i(b.target.value)}),a&&a.length>0&&a.length!==10&&n.jsx("div",{style:{fontSize:"0.75rem",color:"#e53e3e",marginTop:"4px"},children:"Please enter a valid 10-digit phone number"})]}),n.jsxs("div",{className:"counter-button-grid",children:[n.jsx("button",{type:"button",className:"counter-button-secondary",onClick:j,children:" Back"}),n.jsx("button",{type:"button",className:"counter-button-secondary",onClick:v,style:{background:"#f7fafc",color:"#4a5568",border:"2px solid #e2e8f0"},children:"Skip "}),n.jsx("button",{type:"submit",className:"counter-button",disabled:f,children:f?n.jsx("div",{className:"counter-spinner",style:{width:"20px",height:"20px"}}):"Continue to Menu"})]})]})]})})},wI=e=>{if(!e)return null;if(e.startsWith("http://")||e.startsWith("https://"))return e;const t="http://localhost:9000";let r=e.toString().trim().replace(/\\/g,"/"),a;if(r.startsWith("/"))a=`${t}${r}`;else if(r.startsWith("uploads/"))a=`${t}/${r}`;else{const i=r.split("/").pop();a=`${t}/uploads/menu/${i}`}return a},ihe=e=>{if(!e)return null;if(e.startsWith("http://localhost:9000"))return e.replace("http://localhost:9000","https://hotelvirat.com");if(e.startsWith("https://hotelvirat.com")||e.startsWith("http://")||e.startsWith("https://"))return e;const t="https://hotelvirat.com";let r=e.toString().trim().replace(/\\/g,"/"),a;if(r.startsWith("/"))a=`${t}${r}`;else if(r.startsWith("uploads/"))a=`${t}/${r}`;else{const i=r.split("/").pop();a=`${t}/uploads/menu/${i}`}return a},she=()=>{const e=Zr(),r=Wn().state,[a,i]=N.useState(""),[s,l]=N.useState("All"),[d,u]=N.useState([]),[f,p]=N.useState(["All"]),[x,g]=N.useState([]),[v,j]=N.useState([]),[b,y]=N.useState(!0),[C,A]=N.useState(null),[E,S]=N.useState(null),[T,_]=N.useState({}),[P,L]=N.useState(""),[D,B]=N.useState(!1),[M,k]=N.useState(null),[W,F]=N.useState(null);N.useEffect(()=>{if(!r){e("/counter/customer-details");return}I()},[r,e]);const I=async()=>{try{y(!0),A(null);const[Z,K]=await Promise.all([Ea.getCategories(r.selectedBranch._id),Ea.request("/menu")]),Y=["All"];if(Z){const xe=Z.categories||Z;Array.isArray(xe)&&xe.length>0&&xe.forEach(pe=>{const Ce=pe.name||pe.categoryName||pe.title;Ce&&!Y.includes(Ce)&&Y.push(Ce)})}let ce=[];if(K){const xe=K.menu||K.menuItems||K.data||K;Array.isArray(xe)&&(ce=xe.map(pe=>{let Ce=0;if(pe.price!==void 0&&pe.price!==null)Ce=pe.price;else if(pe.prices&&typeof pe.prices=="object"){const Le=Object.values(pe.prices);Le.length>0&&(Ce=Le[0])}Ce=Number(Ce)||0;let ve=wI(pe.image);return{...pe,_id:pe._id||pe.id,name:pe.name||pe.itemName||pe.title,price:Ce,description:pe.description||pe.desc||"",image:ve,categoryId:pe.categoryId||pe.category||null}}))}p(Y),j(ce),g(ce)}catch(Z){console.error("Error loading menu data:",Z),Z.message.includes("Rate limit")?A("Too many requests. Please wait a moment and refresh the page."):A("Failed to load menu data. Please try again.")}finally{y(!1)}};N.useEffect(()=>{R()},[a,s,v]);const R=()=>{let Z=[...v];if(s!=="All"&&(Z=Z.filter(K=>{var ce,xe,pe,Ce;return(((ce=K.categoryId)==null?void 0:ce.name)||((xe=K.categoryId)==null?void 0:xe.categoryName)||((pe=K.category)==null?void 0:pe.name)||((Ce=K.category)==null?void 0:Ce.categoryName)||"").toLowerCase()===s.toLowerCase()})),a.trim()){const K=a.toLowerCase();Z=Z.filter(Y=>{const ce=(Y.name||"").toLowerCase(),xe=(Y.description||"").toLowerCase();return ce.includes(K)||xe.includes(K)})}g(Z)},X=Z=>{q(Z._id,1)},ne=(Z,K)=>{_(Y=>({...Y,[Z]:K}))},ge=(Z,K)=>{q(Z,K),_(Y=>{const ce={...Y};return delete ce[Z],ce})},q=(Z,K)=>{let Y=parseInt(K);(isNaN(Y)||Y<0)&&(Y=0);const ce=Math.max(0,Math.min(10,Y));if(u(xe=>{const pe=xe.findIndex(Ce=>Ce._id===Z);if(ce===0){if(pe>=0){const Ce=[...xe];return Ce.splice(pe,1),Ce}return xe}else if(pe>=0){const Ce=[...xe];return Ce[pe]={...Ce[pe],quantity:ce},Ce}else{const Ce=v.find(ve=>ve._id===Z);return Ce?[...xe,{...Ce,quantity:ce}]:xe}}),Y>10){const xe=v.find(pe=>pe._id===Z);S(`Maximum quantity (10) reached for ${(xe==null?void 0:xe.name)||"this item"}`),setTimeout(()=>S(null),3e3)}},ee=Z=>{const K=d.find(Y=>Y._id===Z);return K?K.quantity:0},z=()=>d.reduce((Z,K)=>Z+(K.price||0)*K.quantity,0),U=()=>{if(d.length===0){alert("Please add items to the cart first");return}e("/counter/bill-generation",{state:{...r,cartItems:d,totalAmount:z()}})},V=()=>{e("/counter/customer-details")},te=async()=>{P&&await se(parseInt(P))},se=async Z=>{B(!0),k(null),F(null);try{const K=await Ea.request(`/menu/number/${Z}`);K?(k({success:!0,item:K,message:`Menu item #${Z} found successfully`}),F(K._id),i(""),l("All"),setTimeout(()=>{const Y=document.getElementById(`counter-item-${K._id}`);Y&&Y.scrollIntoView({behavior:"smooth",block:"center"})},100),setTimeout(()=>{F(null)},5e3)):k({success:!1,message:`No menu item found with number ${Z}`})}catch(K){console.error("Error fetching menu item by number:",K),k({success:!1,message:`Error: ${K.message||"Failed to fetch menu item"}`})}finally{B(!1)}};return r?b?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading menu..."})]})})}):C?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("h3",{children:"Error"}),n.jsx("p",{children:C}),n.jsx("button",{className:"counter-button",onClick:I,children:"Retry"})]})})}):n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",style:{marginBottom:"24px"},children:[n.jsxs("h1",{className:"counter-title",style:{fontSize:"1.5rem"},children:[r.customerName,"'s Order"]}),n.jsxs("p",{className:"counter-subtitle",children:[r.selectedBranch.name,"  ",r.invoiceNumber,"  ",r.date,"  ",r.time]})]}),E&&n.jsxs("div",{style:{marginBottom:"16px",padding:"12px 16px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626",fontSize:"0.875rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{children:""}),E]}),n.jsx("div",{style:{marginBottom:"20px"},children:n.jsx("input",{type:"text",className:"counter-input",placeholder:"Search for dishes...",value:a,onChange:Z=>i(Z.target.value)})}),n.jsx("div",{style:{marginBottom:"20px"},children:n.jsx("div",{className:"counter-category-scroll",children:f.map(Z=>n.jsx("button",{className:`counter-button ${s===Z?"":"counter-button-secondary"}`,onClick:()=>l(Z),style:{minWidth:"auto",padding:"8px 16px",fontSize:"0.875rem",whiteSpace:"nowrap"},children:Z},Z))})}),n.jsxs("div",{style:{marginBottom:"20px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[n.jsx("span",{style:{fontSize:"1rem",fontWeight:"600"},children:""}),n.jsx("h3",{style:{margin:0,fontSize:"0.9rem",fontWeight:"600",color:"#374151"},children:"Quick Menu Item Lookup"})]}),n.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"0.75rem",color:"#6b7280"},children:"Enter a menu item number to quickly find and highlight that item. Perfect for POS operations."}),n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},children:[n.jsx("input",{type:"number",min:"1",value:P,onChange:Z=>L(Z.target.value),placeholder:"Enter item number",style:{padding:"8px 12px",border:"2px solid #e2e8f0",borderRadius:"6px",fontSize:"0.875rem",width:"150px",minWidth:"120px"},onKeyPress:Z=>{Z.key==="Enter"&&te()}}),n.jsx("button",{onClick:te,disabled:!P||D,style:{padding:"8px 16px",backgroundColor:"#667eea",color:"white",border:"none",borderRadius:"6px",fontSize:"0.875rem",cursor:P&&!D?"pointer":"not-allowed",opacity:P&&!D?1:.6,minWidth:"80px"},children:D?"Finding...":"Find Item"}),n.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:[1,2,3,4,5,6,7,8,9,10].map(Z=>n.jsx("button",{onClick:()=>se(Z),disabled:D,style:{width:"28px",height:"28px",padding:"0",backgroundColor:"white",color:"#667eea",border:"1px solid #667eea",borderRadius:"4px",fontSize:"0.75rem",cursor:D?"not-allowed":"pointer",opacity:D?.6:1},children:Z},Z))})]}),M&&n.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",borderRadius:"6px",fontSize:"0.75rem",backgroundColor:M.success?"#d1fae5":"#fee2e2",color:M.success?"#065f46":"#991b1b",border:`1px solid ${M.success?"#10b981":"#ef4444"}`},children:[M.success?"":""," ",M.message,M.success&&n.jsx("button",{onClick:()=>k(null),style:{marginLeft:"8px",background:"none",border:"none",color:"#065f46",cursor:"pointer",fontSize:"0.75rem"},children:"Clear"})]})]}),x.length===0?n.jsx("div",{className:"counter-error",children:n.jsx("p",{children:a?"No items found for your search":"No menu items available"})}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"12px",margin:"16px 0",maxHeight:"50vh",overflowY:"auto",paddingRight:"8px",width:"100%"},children:x.map(Z=>{const K=ee(Z._id);return n.jsxs("div",{id:`counter-item-${Z._id}`,style:{background:W===Z._id?"#fef3c7":"white",border:W===Z._id?"2px solid #f59e0b":"2px solid #e2e8f0",borderRadius:"12px",padding:"14px",cursor:"pointer",transition:"all 0.3s ease",minHeight:"110px",maxHeight:"130px",display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%",boxShadow:W===Z._id?"0 4px 12px rgba(245, 158, 11, 0.3)":"none"},children:[n.jsxs("div",{style:{display:"flex",gap:"12px",height:"65px"},children:[n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[n.jsx("h3",{style:{margin:"0 0 3px 0",fontSize:"0.9rem",lineHeight:"1.2",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Z.name}),n.jsxs("p",{style:{margin:"0 0 3px 0",color:"#718096",fontSize:"0.8rem",fontWeight:"600"},children:["",Z.price.toFixed(2)]}),Z.description&&n.jsx("p",{style:{margin:"0",color:"#4a5568",fontSize:"0.7rem",lineHeight:"1.2",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Z.description})]}),n.jsx("div",{style:{width:"55px",height:"55px",flexShrink:0},children:n.jsx("img",{src:wI(Z.image)||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='55' height='55'%3E%3Crect fill='%23f3f4f6' width='55' height='55'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='9' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ENo Image%3C/text%3E%3C/svg%3E",alt:Z.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px",backgroundColor:"#f3f4f6"},onError:Y=>{const ce=ihe(Z.image);ce&&Y.target.src!==ce?Y.target.src=ce:(Y.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='55' height='55'%3E%3Crect fill='%23f3f4f6' width='55' height='55'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='9' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ENo Image%3C/text%3E%3C/svg%3E",Y.target.onerror=null)}})})]}),n.jsx("div",{style:{marginTop:"8px"},children:K>0?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"center"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:()=>q(Z._id,K-1),style:{width:"26px",height:"26px",padding:"0",fontSize:"0.95rem",minHeight:"auto",border:"1px solid #667eea",borderRadius:"6px"},children:"-"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[n.jsx("input",{type:"number",min:"0",max:"10",value:T[Z._id]!==void 0?T[Z._id]:K,onChange:Y=>ne(Z._id,Y.target.value),onKeyDown:Y=>{Y.key==="Enter"&&Y.target.blur()},style:{width:"40px",height:"26px",textAlign:"center",border:"1px solid #e2e8f0",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"600",padding:"0 4px",outline:"none",transition:"border-color 0.2s ease"},onFocus:Y=>{Y.target.select(),Y.target.style.borderColor="#667eea"},onBlur:Y=>{Y.target.style.borderColor="#e2e8f0",ge(Z._id,Y.target.value)}}),K>=10&&n.jsx("span",{style:{fontSize:"0.6rem",color:"#e53e3e",fontWeight:"500",marginTop:"1px"},children:"MAX"})]}),n.jsx("button",{className:"counter-button",onClick:()=>q(Z._id,K+1),disabled:K>=10,style:{width:"26px",height:"26px",padding:"0",fontSize:"0.95rem",minHeight:"auto",borderRadius:"6px",opacity:K>=10?.5:1,cursor:K>=10?"not-allowed":"pointer"},title:K>=10?"Maximum quantity reached (10)":"Add one more",children:"+"})]}):n.jsx("button",{className:"counter-button",onClick:()=>X(Z),style:{width:"100%",padding:"6px 12px",fontSize:"0.75rem",minHeight:"auto",borderRadius:"6px"},children:"ADD"})})]},Z._id)})}),d.length>0&&n.jsxs("div",{className:"counter-cart-summary",children:[n.jsxs("div",{children:[n.jsxs("div",{style:{fontSize:"0.875rem",opacity:.9},children:[d.reduce((Z,K)=>Z+K.quantity,0)," Items"]}),n.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"700"},children:["",z().toFixed(2)]})]}),n.jsx("button",{className:"counter-button",onClick:U,style:{background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",width:"auto",padding:"12px 24px"},children:"Generate Bill "})]}),n.jsx("div",{style:{marginTop:"20px",textAlign:"center"},children:n.jsx("button",{className:"counter-button-secondary",onClick:V,style:{width:"auto",padding:"8px 16px"},children:" Back to Customer Details"})})]})}):n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Customer data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/customer-details"),children:"Go Back"})]})})})};class ohe{constructor(){this.printerWidth=48,this.isElectron=typeof window<"u"&&window.electronAPI}formatLine(t,r="left"){const a=this.printerWidth;if(t.length>a)return t.substring(0,a);switch(r){case"center":const i=Math.floor((a-t.length)/2);return" ".repeat(i)+t+" ".repeat(a-t.length-i);case"right":return" ".repeat(a-t.length)+t;default:return t+" ".repeat(a-t.length)}}formatTwoColumn(t,r){const a=this.printerWidth,i=t.length+r.length;if(i>=a)return t.substring(0,a-r.length-1)+" "+r;const s=a-i;return t+" ".repeat(s)+r}createSeparator(t="-"){return t.repeat(this.printerWidth)}generateThermalReceipt(t){const r=[];r.push(this.formatLine("","center")),r.push(this.formatLine(t.selectedBranch.name,"center")),r.push(this.formatLine(t.selectedBranch.address,"center")),r.push(this.formatLine(`Phone: ${t.selectedBranch.phone||"N/A"}`,"center")),r.push(this.createSeparator("=")),r.push(this.formatTwoColumn("Invoice:",t.invoiceNumber)),r.push(this.formatTwoColumn("Date:",t.date)),r.push(this.formatTwoColumn("Time:",t.time)),r.push(this.formatTwoColumn("Customer:",t.customerName)),r.push(this.formatTwoColumn("Phone:",t.phoneNumber)),r.push(this.createSeparator("-")),r.push(this.formatLine("ITEMS","center")),r.push(this.createSeparator("-")),t.cartItems.forEach(s=>{r.push(this.formatLine(s.name));const l=`${s.quantity} x Rs.${s.price.toFixed(2)}`,d=`Rs.${(s.price*s.quantity).toFixed(2)}`;r.push(this.formatTwoColumn(l,d))}),r.push(this.createSeparator("-"));const a=t.total-t.total*.05,i=t.total*.05;return r.push(this.formatTwoColumn("Subtotal:",`Rs.${a.toFixed(2)}`)),r.push(this.formatTwoColumn("Tax (5%):",`Rs.${i.toFixed(2)}`)),r.push(this.createSeparator("-")),r.push(this.formatTwoColumn("TOTAL:",`Rs.${t.total.toFixed(2)}`)),r.push(this.createSeparator("=")),t.paymentMethod!=="Pending"?(r.push(this.formatTwoColumn("Payment:",t.paymentMethod.toUpperCase())),t.paymentMethod==="cash"&&(r.push(this.formatTwoColumn("Received:",`Rs.${t.amountReceived.toFixed(2)}`)),r.push(this.formatTwoColumn("Change:",`Rs.${t.change.toFixed(2)}`))),r.push(this.createSeparator("=")),r.push(this.formatLine("THANK YOU!","center")),r.push(this.formatLine("Visit Again","center"))):(r.push(this.formatLine("PAYMENT PENDING","center")),r.push(this.formatLine("Please proceed to payment","center"))),r.push(this.formatLine("","center")),r.push(this.formatLine(`Printed: ${new Date().toLocaleString()}`,"center")),r.push(""),r.push(""),r.push(""),r.join(`
`)}generateThermalBill(t){const r=[];r.push(this.formatLine("","center")),r.push(this.formatLine(t.selectedBranch.name,"center")),r.push(this.formatLine(t.selectedBranch.address,"center")),r.push(this.formatLine(`Phone: ${t.selectedBranch.phone||"N/A"}`,"center")),r.push(this.createSeparator("=")),r.push(this.formatLine("BILL SUMMARY","center")),r.push(this.createSeparator("-")),r.push(this.formatTwoColumn("Invoice:",t.invoiceNumber)),r.push(this.formatTwoColumn("Date:",t.date)),r.push(this.formatTwoColumn("Time:",t.time)),r.push(this.formatTwoColumn("Customer:",t.customerName)),r.push(this.formatTwoColumn("Phone:",t.phoneNumber)),r.push(this.createSeparator("-")),r.push(this.formatLine("ORDER ITEMS","center")),r.push(this.createSeparator("-")),t.cartItems.forEach(s=>{r.push(this.formatLine(s.name));const l=`${s.quantity} x Rs.${s.price.toFixed(2)}`,d=`Rs.${(s.price*s.quantity).toFixed(2)}`;r.push(this.formatTwoColumn(l,d))}),r.push(this.createSeparator("-"));const a=t.total-t.total*.05,i=t.total*.05;return r.push(this.formatTwoColumn("Subtotal:",`Rs.${a.toFixed(2)}`)),r.push(this.formatTwoColumn("Tax (5%):",`Rs.${i.toFixed(2)}`)),r.push(this.createSeparator("=")),r.push(this.formatTwoColumn("TOTAL AMOUNT:",`Rs.${t.total.toFixed(2)}`)),r.push(this.createSeparator("=")),r.push(this.formatLine("PAYMENT: PENDING","center")),r.push(this.formatLine("Please proceed to payment counter","center")),r.push(this.createSeparator("-")),r.push(this.formatLine("Thank you for your order!","center")),r.push(this.formatLine("","center")),r.push(this.formatLine(`Printed: ${new Date().toLocaleString()}`,"center")),r.push(""),r.push(""),r.push(""),r.join(`
`)}async printViaElectron(t){if(!this.isElectron)throw new Error("Electron API not available");try{return await window.electronAPI.printThermal({text:t,options:{preview:!1,margin:{top:0,bottom:0,left:0,right:0},pageSize:{width:80,height:200}}})}catch(r){throw console.error("Electron thermal printing failed:",r),r}}async printViaWebSerial(t){if(!("serial"in navigator))throw new Error("Web Serial API not supported in this browser");try{const r=await navigator.serial.requestPort({filters:[{usbVendorId:1208},{usbVendorId:1305},{usbVendorId:4070}]});await r.open({baudRate:9600});const a=new TextEncoder,i=r.writable.getWriter();return await i.write(a.encode("\x1B@")),await i.write(a.encode("\x1B!\0")),await i.write(a.encode("\x1Ba\0")),await i.write(a.encode(t)),await i.write(a.encode("VB\0")),await i.write(a.encode(`


`)),i.releaseLock(),await r.close(),{success:!0,message:"Receipt printed successfully via USB"}}catch(r){throw r.name==="NotFoundError"?new Error("No thermal printer selected. Please connect a USB thermal printer and try again."):(console.error("Web Serial printing failed:",r),new Error(`USB printing failed: ${r.message}`))}}async printViaNetwork(t,r="192.168.1.100",a=9100){try{const i="https://hotelvirat.com/api/v1/hotel",s=new AbortController,l=setTimeout(()=>s.abort(),3e3),d=await fetch(`${i}/print-thermal/network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,printerIP:r,port:a}),signal:s.signal});clearTimeout(l);const u=await d.json();if(!d.ok)throw u.error&&(u.error.includes("timeout")||u.error.includes("Connection timeout")||u.error.includes("ECONNREFUSED")||u.error.includes("EHOSTUNREACH"))?new Error(`Thermal printer not found at ${r}:${a}. Please check printer connection and IP address.`):new Error(`Network printing failed: ${u.message||d.statusText}`);return u}catch(i){throw i.name==="AbortError"?new Error(`Network printing timed out. Printer at ${r}:${a} is not responding.`):(console.error("Network thermal printing failed:",i),i)}}printViaBrowser(t){return new Promise(r=>{try{const a=window.open("","_blank","width=400,height=600");if(!a){this.printInCurrentWindowSafe(t),r({success:!0,method:"current-window"});return}const i=`
          <!DOCTYPE html>
          <html>
          <head>
            <title>Receipt</title>
            <style>
              @media print {
                @page {
                  size: 80mm auto;
                  margin: 0;
                }
                body {
                  margin: 0;
                  padding: 5mm;
                  font-family: 'Courier New', monospace;
                  font-size: 12px;
                  line-height: 1.2;
                  width: 70mm;
                }
              }
              body {
                font-family: 'Courier New', monospace;
                font-size: 12px;
                line-height: 1.2;
                margin: 0;
                padding: 10px;
                width: 300px;
                background: white;
              }
              pre {
                margin: 0;
                white-space: pre-wrap;
                word-wrap: break-word;
              }
            </style>
          </head>
          <body>
            <pre>${t}</pre>
            <script>
              window.onload = function() {
                try {
                  window.print();
                  setTimeout(function() {
                    try {
                      window.close();
                    } catch(e) {
                      console.log('Could not close print window:', e);
                    }
                  }, 1000);
                } catch(e) {
                  console.log('Print failed:', e);
                  setTimeout(function() {
                    try {
                      window.close();
                    } catch(e2) {
                      console.log('Could not close window after print failure:', e2);
                    }
                  }, 500);
                }
              }
            <\/script>
          </body>
          </html>
        `;a.document.write(i),a.document.close(),r({success:!0,method:"popup-window"})}catch(a){console.error("Browser print failed:",a),this.printInCurrentWindowSafe(t),r({success:!0,method:"current-window-fallback"})}})}printInCurrentWindowSafe(t){try{const r=document.createElement("div");r.id="thermal-print-temp-"+Date.now(),r.innerHTML=`
        <div style="display: none;">
          <style>
            @media print {
              body * { visibility: hidden; }
              #${r.id}, #${r.id} * { visibility: visible; }
              #${r.id} {
                position: absolute;
                left: 0;
                top: 0;
                width: 80mm;
                font-family: 'Courier New', monospace;
                font-size: 12px;
                line-height: 1.2;
              }
            }
          </style>
          <pre>${t}</pre>
        </div>
      `,document.body.appendChild(r),setTimeout(()=>{try{window.print()}catch(a){console.error("Print dialog failed:",a)}setTimeout(()=>{try{document.body.contains(r)&&document.body.removeChild(r)}catch(a){console.error("Cleanup failed:",a)}},2e3)},100)}catch(r){console.error("Safe print method failed:",r),console.log("Receipt content:",t)}}async printReceipt(t,r={}){const a=this.generateThermalReceipt(t);return this.executePrintWithTimeout(a,r)}async printBill(t,r={}){const a=this.generateThermalBill(t);return this.executePrintWithTimeout(a,r)}async executePrintWithTimeout(t,r={},a=5e3){return Promise.race([this.executePrint(t,r),new Promise((i,s)=>setTimeout(()=>s(new Error("Print operation timed out")),a))]).catch(i=>{console.error("Print operation failed or timed out:",i);try{return this.printViaBrowser(t)}catch(s){return console.error("Even browser fallback failed:",s),{success:!1,method:"failed",error:i.message}}})}async executePrint(t,r={}){const{method:a="auto",printerIP:i,port:s}=r;console.log("Generated thermal print text:",t);try{switch(a){case"electron":return await this.printViaElectron(t);case"serial":return await this.printViaWebSerial(t);case"network":return await this.printViaNetwork(t,i,s);case"browser":return this.printViaBrowser(t);case"auto":default:let l=null;if(this.isElectron)try{return await this.printViaElectron(t)}catch(d){l=d,console.log("Electron printing failed, trying next method:",d.message)}if(i&&i!=="192.168.1.100")try{return await this.printViaNetwork(t,i,s)}catch(d){l=d,console.log("Network printing failed, trying next method:",d.message)}return console.log("Using browser print fallback"),this.printViaBrowser(t)}}catch(l){return console.error("Print method failed:",l),console.log("All methods failed, using browser fallback"),this.printViaBrowser(t)}}}const bf=new ohe,lhe=()=>{const e=Zr(),r=Wn().state,[a,i]=N.useState(!1),[s,l]=N.useState(!1),[d,u]=N.useState(null);if(!r)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Order data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/menu"),children:"Go Back"})]})})});const f=()=>{e("/counter/payment",{state:r})},p=()=>{e("/counter/menu",{state:r})},x=async()=>{if(!s){l(!0),u(null);try{const y=JSON.parse(localStorage.getItem("thermalPrinterSettings")||"{}"),C={method:y.method||"auto",printerIP:y.ip||"192.168.1.100",port:y.port||9100},A=r.totalAmount||0,E=A*.05,S=A+E,T={selectedBranch:r.selectedBranch,invoiceNumber:r.invoiceNumber,date:r.date,time:r.time,customerName:r.customerName,phoneNumber:r.phoneNumber,cartItems:r.cartItems,total:S,paymentMethod:"Pending",amountReceived:0,change:0},_=await Promise.race([bf.printBill(T,C),new Promise((P,L)=>setTimeout(()=>L(new Error("Print operation timed out after 5 seconds")),5e3))]);if(_&&_.method){const L={"popup-window":"Bill printed using browser (thermal printer not found)","current-window":"Bill printed using browser (thermal printer not found)","current-window-fallback":"Bill printed using browser (thermal printer not found)",network:"Bill printed to thermal printer successfully!",usb:"Bill printed to USB thermal printer successfully!"}[_.method]||"Bill printed successfully!";u({type:"success",message:L})}else u({type:"success",message:"Bill printed successfully!"});setTimeout(()=>u(null),3e3)}catch(y){console.error("Print error:",y),u({type:"error",message:y.message||"Failed to print bill. Please try again."}),setTimeout(()=>u(null),5e3)}finally{l(!1)}}},g=()=>{e("/counter/print-settings",{state:{returnTo:"/counter/bill-generation",orderData:r}})},v=r.totalAmount||0,j=v*.05,b=v+j;return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Bill Summary"}),n.jsx("p",{className:"counter-subtitle",children:"Review your order details"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"20px",borderRadius:"12px",marginBottom:"24px",border:"2px dashed #e2e8f0"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"1.5rem",color:"#1a202c"},children:r.selectedBranch.name}),n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:r.selectedBranch.address}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#718096"},children:[" ",r.selectedBranch.phone]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Invoice No:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.invoiceNumber})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Date & Time:"}),n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:[r.date," ",r.time]})]})]}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Customer:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.customerName}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#4a5568"},children:[" ",r.phoneNumber]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#1a202c"},children:"Order Items"}),r.cartItems.map((y,C)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:C<r.cartItems.length-1?"1px solid #e2e8f0":"none"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:"0",fontWeight:"500",color:"#1a202c"},children:y.name}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#718096"},children:["",y.price.toFixed(2),"  ",y.quantity]})]}),n.jsxs("div",{style:{fontWeight:"600",color:"#1a202c"},children:["",(y.price*y.quantity).toFixed(2)]})]},C))]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Subtotal:"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",v.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Tax (5%):"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",j.toFixed(2)]})]}),n.jsx("hr",{style:{border:"none",borderTop:"2px solid #1a202c",margin:"12px 0"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.25rem",fontWeight:"700",color:"#1a202c"},children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",b.toFixed(2)]})]})]})]}),d&&n.jsx("div",{style:{background:d.type==="success"?"#f0fff4":"#fed7d7",padding:"12px",borderRadius:"8px",border:`1px solid ${d.type==="success"?"#68d391":"#fc8181"}`,marginBottom:"16px",textAlign:"center"},children:n.jsxs("div",{style:{color:d.type==="success"?"#22543d":"#742a2a",fontWeight:"600"},children:[d.type==="success"?"":""," ",d.message]})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 2fr",gap:"12px",marginTop:"24px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:p,children:" Back"}),n.jsx("button",{className:"counter-button-secondary",onClick:x,disabled:s,style:{opacity:s?.6:1,cursor:s?"not-allowed":"pointer"},title:"Print bill to thermal printer",children:s?" Printing...":" Print Bill"}),n.jsx("button",{className:"counter-button-secondary",onClick:g,title:"Configure thermal printer settings",children:" Settings"}),n.jsx("button",{className:"counter-button",onClick:f,disabled:a,children:a?n.jsx("div",{className:"counter-spinner",style:{width:"20px",height:"20px"}}):"Proceed to Payment "})]})]})})},che=()=>{const e=Zr(),r=Wn().state,[a,i]=N.useState("cash"),[s,l]=N.useState(""),[d,u]=N.useState(!1),[f,p]=N.useState("");if(N.useEffect(()=>{if(r){const S=r.totalAmount||0,T=S*.05,_=S+T;l(_.toFixed(2))}},[r]),!r)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Order data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/bill-generation"),children:"Go Back"})]})})});const x=r.totalAmount||0,g=x*.05,v=x+g,j=a==="cash"&&s?Math.max(0,parseFloat(s)-v):0,b=S=>{i(S),l(v.toFixed(2)),p("")},y=S=>{l(S),p("")},C=()=>{if(a==="cash"){const S=parseFloat(s);if(!s||isNaN(S))return p("Amount received is required for cash payments"),!1;if(S<v)return p("Amount received is less than total amount"),!1}if(a==="card"||a==="upi"){const S=parseFloat(s);(!S||S!==v)&&l(v.toFixed(2))}return!0},A=async()=>{var S,T,_;if(C()){u(!0),p("");try{const P={customerName:r.customerName,phoneNumber:r.phoneNumber,branchId:r.selectedBranch._id,invoiceNumber:r.invoiceNumber,invoiceId:r.invoiceId,items:r.cartItems.map(R=>({menuItemId:R._id,name:R.name,price:R.price,quantity:R.quantity,total:R.price*R.quantity})),subtotal:x,tax:g,total:v,paymentMethod:a,amountReceived:a==="cash"?parseFloat(s):v,change:j,status:"completed",orderDate:new Date().toISOString(),counterUserId:localStorage.getItem("counterUserId")},L=R=>Promise.race([Ea.createOrder(R),new Promise((X,ne)=>setTimeout(()=>ne(new Error("Order creation timed out")),1e4))]),D=R=>Promise.race([Ea.createBill(R),new Promise((X,ne)=>setTimeout(()=>ne(new Error("Bill creation timed out")),1e4))]),B=R=>Promise.race([Ea.processPayment(R),new Promise((X,ne)=>setTimeout(()=>ne(new Error("Payment processing timed out")),1e4))]),M=await L(P);console.log("Order created:",M);const k={orderId:((S=M.order)==null?void 0:S._id)||M._id,...P},W=await D(k);console.log("Bill created:",W);const F={orderId:((T=M.order)==null?void 0:T._id)||M._id,billId:((_=W.bill)==null?void 0:_._id)||W._id,amount:v,paymentMethod:a,amountReceived:a==="cash"?parseFloat(s):v,change:j,status:"completed",paymentDate:new Date().toISOString()},I=await B(F);console.log("Payment processed:",I),setTimeout(()=>{var R,X,ne;e("/counter/payment-success",{state:{...r,orderId:((R=M.order)==null?void 0:R._id)||M._id,billId:((X=W.bill)==null?void 0:X._id)||W._id,paymentId:((ne=I.payment)==null?void 0:ne._id)||I._id,paymentMethod:a,amountReceived:a==="cash"?parseFloat(s):v,change:j,total:v}})},100)}catch(P){console.error("Error processing payment:",P),p(P.message||"Failed to process payment. Please try again.")}finally{u(!1)}}},E=()=>{e("/counter/bill-generation",{state:r})};return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Payment"}),n.jsx("p",{className:"counter-subtitle",children:"Process customer payment"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem"},children:"Order Summary"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",x.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{children:"Tax (5%):"}),n.jsxs("span",{children:["",g.toFixed(2)]})]}),n.jsx("hr",{style:{margin:"12px 0",border:"none",borderTop:"2px solid #1a202c"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.25rem",fontWeight:"700"},children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",v.toFixed(2)]})]})]}),n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem"},children:"Payment Method"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px"},children:[n.jsxs("button",{className:`counter-item ${a==="cash"?"selected":""}`,onClick:()=>b("cash"),style:{padding:"16px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontWeight:"600"},children:"Cash"})]}),n.jsxs("button",{className:`counter-item ${a==="card"?"selected":""}`,onClick:()=>b("card"),style:{padding:"16px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontWeight:"600"},children:"Card"})]}),n.jsxs("button",{className:`counter-item ${a==="upi"?"selected":""}`,onClick:()=>b("upi"),style:{padding:"16px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontWeight:"600"},children:"UPI"})]})]})]}),a==="cash"&&n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsxs("div",{className:"counter-form-group",children:[n.jsx("label",{className:"counter-label",children:"Amount Received * (Auto-filled)"}),n.jsx("input",{type:"number",className:"counter-input",placeholder:"Amount auto-filled with total",value:s,onChange:S=>y(S.target.value),min:v,step:"0.01"}),n.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px",fontStyle:"italic"},children:[" Amount is automatically filled with the total (",v.toFixed(2),"). You can adjust if needed."]})]}),s&&!isNaN(parseFloat(s))&&n.jsxs("div",{style:{background:j>0?"#f0fff4":"#fff5f5",padding:"12px",borderRadius:"8px",border:`1px solid ${j>0?"#68d391":"#fc8181"}`},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"4px"},children:["Change to Return: ",j.toFixed(2)]}),j<0&&n.jsx("div",{style:{color:"#e53e3e",fontSize:"0.875rem"},children:"Insufficient amount received"})]})]}),(a==="card"||a==="upi")&&n.jsxs("div",{style:{background:"#e6fffa",padding:"16px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #81e6d9"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:a==="card"?"Card Payment":"UPI Payment"}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#2d3748"},children:["Amount: ",v.toFixed(2)]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#2d3748",marginTop:"4px"},children:["Please complete the payment on the ",a==="card"?"card terminal":"UPI app"]})]}),f&&n.jsx("div",{className:"counter-error",style:{marginBottom:"24px"},children:f}),n.jsxs("div",{style:{display:"flex",gap:"16px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:E,disabled:d,style:{flex:1},children:" Back"}),n.jsx("button",{className:"counter-button",onClick:A,disabled:d,style:{flex:2},children:d?n.jsx("div",{className:"counter-spinner",style:{width:"20px",height:"20px"}}):"Complete Payment"})]})]})})},dhe=()=>{const e=Zr(),r=Wn().state,[a,i]=N.useState(!1),[s,l]=N.useState(null);if(N.useEffect(()=>{const x=setTimeout(()=>{e("/counter/customer-details")},1e4);return()=>clearTimeout(x)},[e]),!r)return n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("p",{children:"Payment data not found. Please start over."}),n.jsx("button",{className:"counter-button",onClick:()=>e("/counter/customer-details"),children:"New Order"})]})})});const d=()=>{e("/counter/customer-details")},u=async()=>{if(!a){i(!0),l(null);try{const x=JSON.parse(localStorage.getItem("thermalPrinterSettings")||"{}"),g={method:x.method||"auto",printerIP:x.ip||"192.168.1.100",port:x.port||9100},v=await Promise.race([bf.printReceipt(r,g),new Promise((j,b)=>setTimeout(()=>b(new Error("Print operation timed out after 5 seconds")),5e3))]);if(v&&v.method){const b={"popup-window":"Receipt printed using browser (thermal printer not found)","current-window":"Receipt printed using browser (thermal printer not found)","current-window-fallback":"Receipt printed using browser (thermal printer not found)",network:"Receipt printed to thermal printer successfully!",usb:"Receipt printed to USB thermal printer successfully!"}[v.method]||"Receipt printed successfully!";l({type:"success",message:b})}else l({type:"success",message:"Receipt printed successfully!"});setTimeout(()=>l(null),3e3)}catch(x){console.error("Print error:",x),l({type:"error",message:x.message||"Failed to print receipt. Please try again."}),setTimeout(()=>l(null),5e3)}finally{i(!1)}}},f=()=>{e("/counter/print-settings",{state:{returnTo:"/counter/payment-success",paymentData:r}})},p=()=>{e("/counter/orders")};return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("div",{style:{fontSize:"4rem",color:"#48bb78",marginBottom:"16px",textAlign:"center"},children:""}),n.jsx("h1",{className:"counter-title",style:{color:"#48bb78"},children:"Payment Successful!"}),n.jsx("p",{className:"counter-subtitle",children:"Order has been processed successfully"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"24px",borderRadius:"12px",marginBottom:"24px",border:"2px solid #48bb78"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"1.5rem",color:"#1a202c"},children:r.selectedBranch.name}),n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:r.selectedBranch.address}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#718096"},children:[" ",r.selectedBranch.phone]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Invoice No:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.invoiceNumber})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Date & Time:"}),n.jsxs("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:[r.date," ",r.time]})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Customer:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.customerName})]}),n.jsxs("div",{children:[n.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:"Phone:"}),n.jsx("p",{style:{margin:"0",fontWeight:"600",color:"#1a202c"},children:r.phoneNumber})]})]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#1a202c"},children:"Items Ordered"}),r.cartItems.map((x,g)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:g<r.cartItems.length-1?"1px solid #e2e8f0":"none"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:{margin:"0",fontWeight:"500",color:"#1a202c"},children:x.name}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem",color:"#718096"},children:["",x.price.toFixed(2),"  ",x.quantity]})]}),n.jsxs("div",{style:{fontWeight:"600",color:"#1a202c"},children:["",(x.price*x.quantity).toFixed(2)]})]},g))]}),n.jsx("hr",{style:{border:"none",borderTop:"1px solid #e2e8f0",margin:"16px 0"}}),n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Subtotal:"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",(r.total-r.total*.05).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Tax (5%):"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",(r.total*.05).toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Payment Method:"}),n.jsx("span",{style:{fontWeight:"500",textTransform:"capitalize"},children:r.paymentMethod})]}),r.paymentMethod==="cash"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Amount Received:"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",r.amountReceived.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("span",{style:{color:"#718096"},children:"Change:"}),n.jsxs("span",{style:{fontWeight:"500"},children:["",r.change.toFixed(2)]})]})]}),n.jsx("hr",{style:{border:"none",borderTop:"2px solid #1a202c",margin:"12px 0"}}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.25rem",fontWeight:"700",color:"#1a202c"},children:[n.jsx("span",{children:"Total Paid:"}),n.jsxs("span",{children:["",r.total.toFixed(2)]})]})]}),n.jsxs("div",{style:{background:"#f0fff4",padding:"12px",borderRadius:"8px",border:"1px solid #68d391",textAlign:"center"},children:[n.jsx("div",{style:{color:"#22543d",fontWeight:"600"},children:" Payment Completed Successfully"}),n.jsx("div",{style:{color:"#2f855a",fontSize:"0.875rem",marginTop:"4px"},children:"Thank you for your business!"})]})]}),s&&n.jsx("div",{style:{background:s.type==="success"?"#f0fff4":"#fed7d7",padding:"12px",borderRadius:"8px",border:`1px solid ${s.type==="success"?"#68d391":"#fc8181"}`,marginBottom:"16px",textAlign:"center"},children:n.jsxs("div",{style:{color:s.type==="success"?"#22543d":"#742a2a",fontWeight:"600"},children:[s.type==="success"?"":""," ",s.message]})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"12px",marginBottom:"20px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:u,disabled:a,style:{opacity:a?.6:1,cursor:a?"not-allowed":"pointer"},title:"Print receipt to thermal printer",children:a?" Printing...":" Print Receipt"}),n.jsx("button",{className:"counter-button-secondary",onClick:f,title:"Configure thermal printer settings",children:" Print Settings"}),n.jsx("button",{className:"counter-button-secondary",onClick:p,children:" View Orders"}),n.jsx("button",{className:"counter-button",onClick:d,children:" New Order"})]}),n.jsx("div",{style:{textAlign:"center",fontSize:"0.875rem",color:"#718096",fontStyle:"italic"},children:"Automatically redirecting to new order in 10 seconds..."})]})})},uhe=()=>{const e=Zr(),[t,r]=N.useState([]),[a,i]=N.useState(!0),[s,l]=N.useState(null),[d,u]=N.useState(null);N.useEffect(()=>{const j=localStorage.getItem("selectedBranch");if(j){const b=JSON.parse(j);u(b),f(b._id)}else e("/counter/branch-selection")},[e]);const f=async j=>{try{i(!0),l(null);const b=await Ea.getOrders(j),C=(b.orders||b.data||b||[]).sort((A,E)=>new Date(E.orderDate||E.createdAt)-new Date(A.orderDate||A.createdAt));r(C)}catch(b){console.error("Error loading orders:",b),l("Failed to load orders. Please try again.")}finally{i(!1)}},p=()=>{e("/counter/customer-details")},x=()=>{e("/counter/customer-details")},g=j=>{try{const b=new Date(j);return b.toLocaleDateString("en-IN")+" "+b.toLocaleTimeString("en-IN",{hour12:!0,hour:"2-digit",minute:"2-digit"})}catch{return j}},v=j=>{switch(j==null?void 0:j.toLowerCase()){case"completed":return"#48bb78";case"pending":return"#ed8936";case"cancelled":return"#f56565";default:return"#718096"}};return a?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-loading",children:[n.jsx("div",{className:"counter-spinner"}),n.jsx("p",{children:"Loading orders..."})]})})}):s?n.jsx("div",{className:"counter-container",children:n.jsx("div",{className:"counter-card",children:n.jsxs("div",{className:"counter-error",children:[n.jsx("h3",{children:"Error"}),n.jsx("p",{children:s}),n.jsx("button",{className:"counter-button",onClick:()=>d&&f(d._id),children:"Retry"})]})})}):n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Order History"}),n.jsxs("p",{className:"counter-subtitle",children:[d==null?void 0:d.name," - Recent Orders"]})]}),n.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"24px",justifyContent:"center"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:x,style:{flex:1,maxWidth:"200px"},children:" Back"}),n.jsx("button",{className:"counter-button",onClick:p,style:{flex:1,maxWidth:"200px"},children:" New Order"})]}),t.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#718096"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),n.jsx("h3",{style:{margin:"0 0 8px 0"},children:"No Orders Found"}),n.jsx("p",{style:{margin:"0"},children:"No orders have been placed yet."})]}):n.jsx("div",{style:{display:"grid",gap:"16px",maxHeight:"60vh",overflowY:"auto"},children:t.map((j,b)=>n.jsxs("div",{style:{background:"white",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"20px",transition:"all 0.2s"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"0 0 4px 0",fontSize:"1.1rem",color:"#1a202c"},children:j.invoiceNumber||`Order #${b+1}`}),n.jsxs("p",{style:{margin:"0 0 4px 0",fontSize:"0.875rem",color:"#718096"},children:[j.customerName,"  ",j.phoneNumber]}),n.jsx("p",{style:{margin:"0",fontSize:"0.875rem",color:"#4a5568"},children:g(j.orderDate||j.createdAt)})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{background:v(j.status),color:"white",padding:"4px 12px",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",marginBottom:"8px"},children:j.status||"Completed"}),n.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#1a202c"},children:["",(j.total||0).toFixed(2)]})]})]}),j.items&&j.items.length>0&&n.jsxs("div",{style:{background:"#f7fafc",padding:"12px",borderRadius:"8px",marginBottom:"12px"},children:[n.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"0.875rem",color:"#4a5568",fontWeight:"600"},children:["Items (",j.items.length,")"]}),n.jsxs("div",{style:{display:"grid",gap:"4px"},children:[j.items.slice(0,3).map((y,C)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem"},children:[n.jsxs("span",{style:{color:"#2d3748"},children:[y.name,"  ",y.quantity]}),n.jsxs("span",{style:{color:"#1a202c",fontWeight:"500"},children:["",(y.total||y.price*y.quantity).toFixed(2)]})]},C)),j.items.length>3&&n.jsxs("div",{style:{fontSize:"0.75rem",color:"#718096",fontStyle:"italic"},children:["+",j.items.length-3," more items"]})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.875rem",color:"#4a5568"},children:[n.jsxs("span",{children:["Payment: ",j.paymentMethod?n.jsx("span",{style:{textTransform:"capitalize",fontWeight:"500"},children:j.paymentMethod}):"Cash"]}),j.paymentMethod==="cash"&&j.change>0&&n.jsxs("span",{children:["Change: ",j.change.toFixed(2)]})]})]},j._id||b))})]})})},fhe=()=>{const e=Zr(),t=Wn(),{returnTo:r,paymentData:a,orderData:i}=t.state||{},[s,l]=N.useState({method:"auto",ip:"192.168.1.100",port:"9100",devicePath:"/dev/usb/lp0"}),[d,u]=N.useState(!1),[f,p]=N.useState([]),[x,g]=N.useState(!1),[v,j]=N.useState(null);N.useEffect(()=>{const E=localStorage.getItem("thermalPrinterSettings");E&&l({...s,...JSON.parse(E)})},[]);const b=()=>{localStorage.setItem("thermalPrinterSettings",JSON.stringify(s)),alert("Printer settings saved successfully!"),r?r==="/counter/bill-generation"&&i?e(r,{state:i}):e(r,{state:{paymentData:a}}):e("/counter/customer-details")},y=async()=>{u(!0),p([]);try{const T=await(await fetch("https://hotelvirat.com/api/v1/hotel/print-thermal/discover")).json();T.success?(p(T.printers),T.printers.length===0&&alert("No thermal printers found on the network. Make sure your thermal printer is connected to the same network and powered on.")):alert("Failed to discover printers: "+T.message)}catch(E){console.error("Discovery error:",E),alert("Failed to discover printers. Make sure the backend server is running on port 9000.")}finally{u(!1)}},C=async()=>{g(!0),j(null);try{const E={selectedBranch:{name:"Test Restaurant",address:"123 Test Street, Test City",phone:"123-456-7890"},invoiceNumber:"TEST-"+Date.now(),date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),customerName:"Test Customer",phoneNumber:"1234567890",cartItems:[{name:"Test Item 1",price:10,quantity:2},{name:"Test Item 2",price:15.5,quantity:1}],total:35.5,paymentMethod:"cash",amountReceived:40,change:4.5};await bf.printReceipt(E,{method:s.method,printerIP:s.ip,port:parseInt(s.port)}),j({type:"success",message:"Test receipt printed successfully!"})}catch(E){console.error("Test print error:",E),j({type:"error",message:E.message})}finally{g(!1)}},A=E=>{l({...s,ip:E.ip,port:E.port.toString(),method:"network"})};return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Thermal Printer Settings"}),n.jsx("p",{className:"counter-subtitle",children:"Configure your thermal printer for receipt printing"})]}),n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("label",{className:"counter-label",children:"Print Method"}),n.jsxs("select",{className:"counter-input",value:s.method,onChange:E=>l({...s,method:E.target.value}),children:[n.jsx("option",{value:"auto",children:"Auto (Try all methods)"}),n.jsx("option",{value:"network",children:"Network Printer"}),n.jsx("option",{value:"serial",children:"USB/Serial Printer"}),n.jsx("option",{value:"browser",children:"Browser Print (Fallback)"})]})]}),(s.method==="network"||s.method==="auto")&&n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem"},children:"Network Printer Settings"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{className:"counter-label",children:"Printer IP Address"}),n.jsx("input",{type:"text",className:"counter-input",value:s.ip,onChange:E=>l({...s,ip:E.target.value}),placeholder:"192.168.1.100"}),n.jsx("p",{style:{fontSize:"0.75rem",color:"#718096",margin:"4px 0 0 0"},children:"Enter your thermal printer's IP address. Leave as default (192.168.1.100) to skip network printing and use browser fallback."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"counter-label",children:"Port"}),n.jsx("input",{type:"number",className:"counter-input",value:s.port,onChange:E=>l({...s,port:E.target.value}),placeholder:"9100"})]})]}),n.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:y,disabled:d,style:{flex:1},children:d?" Discovering...":" Discover Printers"}),n.jsx("button",{className:"counter-button-secondary",onClick:C,disabled:x,style:{flex:1},children:x?" Testing...":" Test Print"})]}),f.length>0&&n.jsxs("div",{children:[n.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"0.875rem",color:"#4a5568"},children:"Found Printers:"}),n.jsx("div",{style:{display:"grid",gap:"8px"},children:f.map((E,S)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"white",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer"},onClick:()=>A(E),children:[n.jsxs("span",{style:{fontWeight:"500"},children:[E.ip,":",E.port]}),n.jsxs("span",{style:{fontSize:"0.75rem",color:"#718096"},children:[E.responseTime,"ms"]})]},S))})]})]}),(s.method==="serial"||s.method==="auto")&&n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"1rem"},children:"USB/Serial Printer Settings"}),n.jsxs("div",{children:[n.jsx("label",{className:"counter-label",children:"Device Path"}),n.jsx("input",{type:"text",className:"counter-input",value:s.devicePath,onChange:E=>l({...s,devicePath:E.target.value}),placeholder:"/dev/usb/lp0"}),n.jsx("p",{style:{fontSize:"0.75rem",color:"#718096",margin:"4px 0 0 0"},children:"Common paths: /dev/usb/lp0, /dev/ttyUSB0, COM1 (Windows)"})]})]}),v&&n.jsx("div",{style:{background:v.type==="success"?"#f0fff4":"#fed7d7",padding:"12px",borderRadius:"8px",border:`1px solid ${v.type==="success"?"#68d391":"#fc8181"}`,marginBottom:"24px",textAlign:"center"},children:n.jsxs("div",{style:{color:v.type==="success"?"#22543d":"#742a2a",fontWeight:"600"},children:[v.type==="success"?"":""," ",v.message]})}),n.jsxs("div",{style:{background:"#e6fffa",padding:"16px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #81e6d9"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#234e52"},children:" Setup Instructions"}),n.jsxs("ul",{style:{margin:"0",paddingLeft:"20px",color:"#2d3748",fontSize:"0.875rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Network Printer:"})," Connect your thermal printer to the same network and note its IP address"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"USB Printer:"})," Connect via USB and check device path in system settings"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Auto Mode:"})," Tries all methods automatically, recommended for most users"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Browser Fallback:"})," Uses regular browser printing with thermal-optimized formatting"]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"16px"},children:[n.jsx("button",{className:"counter-button-secondary",onClick:()=>e(r||"/counter/customer-details",{state:r==="/counter/bill-generation"?i:{paymentData:a}}),style:{flex:1},children:" Cancel"}),n.jsx("button",{className:"counter-button",onClick:b,style:{flex:2},children:" Save Settings"})]})]})})},hhe=()=>{const[e,t]=N.useState(!1),[r,a]=N.useState(null),i=async()=>{t(!0),a(null);try{const d={selectedBranch:{name:"Hotel Virat Test",address:"123 Test Street, Test City",phone:"123-456-7890"},invoiceNumber:"TEST-"+Date.now(),date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),customerName:"Test Customer",phoneNumber:"1234567890",cartItems:[{name:"Test Item 1",price:10,quantity:2},{name:"Test Item 2",price:15.5,quantity:1}],total:35.5,paymentMethod:"cash",amountReceived:40,change:4.5};console.log(" Testing thermal printer with data:",d);const u=await bf.printReceipt(d,{method:"auto",printerIP:"192.168.1.100",port:9100});a({type:"success",message:"Test print successful!",details:u})}catch(d){console.error("Test print error:",d),a({type:"error",message:d.message,details:d})}finally{t(!1)}},s=async()=>{t(!0),a(null);try{const d={selectedBranch:{name:"Hotel Virat Test",address:"123 Test Street, Test City",phone:"123-456-7890"},invoiceNumber:"BILL-"+Date.now(),date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),customerName:"Test Customer",phoneNumber:"1234567890",cartItems:[{name:"Test Item 1",price:10,quantity:2},{name:"Test Item 2",price:15.5,quantity:1}],total:35.5};console.log(" Testing thermal bill with data:",d);const u=await bf.printBill(d,{method:"auto",printerIP:"192.168.1.100",port:9100});a({type:"success",message:"Test bill print successful!",details:u})}catch(d){console.error("Test bill error:",d),a({type:"error",message:d.message,details:d})}finally{t(!1)}},l=async()=>{t(!0),a(null);try{const d="https://hotelvirat.com/api/v1/hotel";console.log(" Testing endpoint:",`${d}/print-thermal/network`);const u=await fetch(`${d}/print-thermal/network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:"Test endpoint connection",printerIP:"192.168.1.100",port:9100})}),f=await u.json();u.ok?a({type:"success",message:"Endpoint accessible!",details:f}):a({type:"info",message:"Endpoint accessible (printer not found is expected)",details:f})}catch(d){console.error("Endpoint test error:",d),a({type:"error",message:"Endpoint not accessible: "+d.message,details:d})}finally{t(!1)}};return n.jsx("div",{className:"counter-container",children:n.jsxs("div",{className:"counter-card",children:[n.jsxs("div",{className:"counter-header",children:[n.jsx("h1",{className:"counter-title",children:"Thermal Printer Test"}),n.jsx("p",{className:"counter-subtitle",children:"Test thermal printing functionality"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",marginBottom:"24px"},children:[n.jsx("button",{className:"counter-button",onClick:l,disabled:e,children:e?" Testing...":" Test Endpoint"}),n.jsx("button",{className:"counter-button",onClick:s,disabled:e,children:e?" Testing...":" Test Bill"}),n.jsx("button",{className:"counter-button",onClick:i,disabled:e,children:e?" Testing...":" Test Receipt"})]}),n.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem"},children:"Environment Info"}),n.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"0.875rem"},children:[n.jsx("strong",{children:"Backend URL:"})," ","https://hotelvirat.com/api/v1/hotel"]}),n.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"0.875rem"},children:[n.jsx("strong",{children:"Print Endpoint:"})," ","https://hotelvirat.com/api/v1/hotel/print-thermal/network"]}),n.jsxs("p",{style:{margin:"0",fontSize:"0.875rem"},children:[n.jsx("strong",{children:"Web Serial Support:"})," ","serial"in navigator?" Supported":" Not Supported"]})]}),r&&n.jsxs("div",{style:{background:r.type==="success"?"#f0fff4":r.type==="info"?"#e6fffa":"#fed7d7",padding:"16px",borderRadius:"8px",border:`1px solid ${r.type==="success"?"#68d391":r.type==="info"?"#81e6d9":"#fc8181"}`,marginBottom:"24px"},children:[n.jsxs("div",{style:{color:r.type==="success"?"#22543d":r.type==="info"?"#234e52":"#742a2a",fontWeight:"600",marginBottom:"8px"},children:[r.type==="success"?"":r.type==="info"?"":""," ",r.message]}),r.details&&n.jsxs("details",{style:{fontSize:"0.875rem",color:"#4a5568"},children:[n.jsx("summary",{style:{cursor:"pointer",marginBottom:"8px"},children:"View Details"}),n.jsx("pre",{style:{background:"rgba(0,0,0,0.1)",padding:"8px",borderRadius:"4px",overflow:"auto",fontSize:"0.75rem"},children:JSON.stringify(r.details,null,2)})]})]}),n.jsxs("div",{style:{background:"#e6fffa",padding:"16px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #81e6d9"},children:[n.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1rem",color:"#234e52"},children:" Test Instructions"}),n.jsxs("ol",{style:{margin:"0",paddingLeft:"20px",color:"#2d3748",fontSize:"0.875rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Test Endpoint:"})," Checks if backend API is accessible"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Test Bill:"})," Tests bill printing (before payment)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Test Receipt:"})," Tests receipt printing (after payment)"]})]})]}),n.jsx("div",{style:{textAlign:"center"},children:n.jsx("button",{className:"counter-button-secondary",onClick:()=>window.history.back(),children:" Back"})})]})})},Mi=({children:e})=>localStorage.getItem("counterAuthenticated")==="true"?e:n.jsx(Z2,{to:"/counter/login",replace:!0});function phe(){const[e,t]=N.useState(!1);return N.useEffect(()=>{console.log(" CounterApp loaded!");const r=localStorage.getItem("counterAuthenticated")==="true";t(r);const a=()=>{t(localStorage.getItem("counterAuthenticated")==="true")};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),n.jsx("div",{className:"counter-app",children:n.jsxs(dj,{children:[n.jsx(ft,{path:"login",element:n.jsx(rhe,{})}),n.jsx(ft,{path:"branch-selection",element:n.jsx(Mi,{children:n.jsx(nhe,{})})}),n.jsx(ft,{path:"customer-details",element:n.jsx(Mi,{children:n.jsx(ahe,{})})}),n.jsx(ft,{path:"menu",element:n.jsx(Mi,{children:n.jsx(she,{})})}),n.jsx(ft,{path:"bill-generation",element:n.jsx(Mi,{children:n.jsx(lhe,{})})}),n.jsx(ft,{path:"payment",element:n.jsx(Mi,{children:n.jsx(che,{})})}),n.jsx(ft,{path:"payment-success",element:n.jsx(Mi,{children:n.jsx(dhe,{})})}),n.jsx(ft,{path:"orders",element:n.jsx(Mi,{children:n.jsx(uhe,{})})}),n.jsx(ft,{path:"print-settings",element:n.jsx(Mi,{children:n.jsx(fhe,{})})}),n.jsx(ft,{path:"print-test",element:n.jsx(Mi,{children:n.jsx(hhe,{})})}),n.jsx(ft,{path:"",element:n.jsx(Z2,{to:"login",replace:!0})})]})})}const mhe=({children:e})=>localStorage.getItem("isAuthenticated")==="true"?e:n.jsx(Z2,{to:"/login",replace:!0});function xhe(){const[e,t]=N.useState(!1),[r,a]=N.useState(!1);return N.useEffect(()=>{const i=localStorage.getItem("isAuthenticated")==="true";a(i);const s=()=>{a(localStorage.getItem("isAuthenticated")==="true")};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]),n.jsx(IL,{children:n.jsxs(dj,{children:[n.jsx(ft,{path:"/login",element:n.jsx(fae,{})}),n.jsx(ft,{path:"/menu",element:n.jsx(Dk,{})}),n.jsx(ft,{path:"/public-menu",element:n.jsx(Dk,{})}),n.jsx(ft,{path:"/privacy-policy",element:n.jsx(Fae,{})}),n.jsx(ft,{path:"/terms-conditions",element:n.jsx(Bae,{})}),n.jsx(ft,{path:"/category-orders",element:n.jsx(qfe,{})}),n.jsx(ft,{path:"/receptionist-dashboard",element:n.jsx(Qfe,{})}),n.jsx(ft,{path:"/counter/*",element:n.jsx(phe,{})}),n.jsx(ft,{path:"/*",element:n.jsx(mhe,{children:n.jsxs("div",{className:"app",children:[n.jsx(pz,{collapsed:e,setCollapsed:t}),n.jsx("main",{className:`content ${e?"content-expanded":""}`,children:n.jsxs(dj,{children:[n.jsx(ft,{path:"/",element:n.jsx(Fne,{})}),n.jsx(ft,{path:"/orders",element:n.jsx($ne,{})}),n.jsx(ft,{path:"/products",element:n.jsx(Wne,{})}),n.jsx(ft,{path:"/categories",element:n.jsx(Yne,{})}),n.jsx(ft,{path:"/branches",element:n.jsx(Qne,{})}),n.jsx(ft,{path:"/users",element:n.jsx(eae,{})}),n.jsx(ft,{path:"/coupons",element:n.jsx(aae,{})}),n.jsx(ft,{path:"/payments",element:n.jsx(sae,{})}),n.jsx(ft,{path:"/help-support",element:n.jsx(oae,{})}),n.jsx(ft,{path:"/about-us",element:n.jsx(lae,{})}),n.jsx(ft,{path:"/terms-policies",element:n.jsx(uae,{})}),n.jsx(ft,{path:"/staff-users",element:n.jsx(mae,{})}),n.jsx(ft,{path:"/counter-users",element:n.jsx(yae,{})}),n.jsx(ft,{path:"/staff-orders",element:n.jsx(vae,{})}),n.jsx(ft,{path:"/counter-orders",element:n.jsx(bae,{})}),n.jsx(ft,{path:"/tables",element:n.jsx(jae,{})}),n.jsx(ft,{path:"/staff-invoices",element:n.jsx(wae,{})}),n.jsx(ft,{path:"/counter-bills",element:n.jsx(Sae,{})}),n.jsx(ft,{path:"/staff-payment",element:n.jsx(Tae,{})}),n.jsx(ft,{path:"/counter-payment",element:n.jsx(Aae,{})}),n.jsx(ft,{path:"/product-submissions",element:n.jsx(_ae,{})}),n.jsx(ft,{path:"/qr-uploads",element:n.jsx(Eae,{})}),n.jsx(ft,{path:"/purchase-users",element:n.jsx(Iae,{})}),n.jsx(ft,{path:"/qr-generator",element:n.jsx(Mae,{})}),n.jsx(ft,{path:"/subscription",element:n.jsx(Lae,{})}),n.jsx(ft,{path:"/subscription-management",element:n.jsx(zae,{})}),n.jsx(ft,{path:"/meal-of-the-day",element:n.jsx($ae,{})}),n.jsx(ft,{path:"/rooms",element:n.jsx(Rfe,{})}),n.jsx(ft,{path:"/room-bookings",element:n.jsx(Mfe,{})}),n.jsx(ft,{path:"/room-payments",element:n.jsx(Lfe,{})}),n.jsx(ft,{path:"/category-access",element:n.jsx(Ufe,{})}),n.jsx(ft,{path:"/receptionist-access",element:n.jsx(Vfe,{})}),n.jsx(ft,{path:"/reservations",element:n.jsx(Zfe,{})})]})})]})})})]})})}const ghe=N.createContext(),yhe=[{id:1,name:"Central Branch",address:"123 Main St, City Center",phone:"123-456-7890",isActive:!0},{id:2,name:"North Branch",address:"456 North Ave, Northside",phone:"234-567-8901",isActive:!0},{id:3,name:"South Branch",address:"789 South Blvd, Southside",phone:"345-678-9012",isActive:!0},{id:4,name:"East Branch",address:"101 East Rd, Eastville",phone:"456-789-0123",isActive:!0},{id:5,name:"West Branch",address:"202 West St, Westtown",phone:"567-890-1234",isActive:!0}],vhe=[{id:1,name:"Appetizers",branchId:1,description:"Starters and small plates",isActive:!0},{id:2,name:"Main Course",branchId:1,description:"Primary dishes",isActive:!0},{id:3,name:"Desserts",branchId:1,description:"Sweet treats",isActive:!0},{id:4,name:"Beverages",branchId:1,description:"Drinks and refreshments",isActive:!0},{id:5,name:"Breakfast",branchId:2,description:"Morning meals",isActive:!0},{id:6,name:"Lunch",branchId:2,description:"Midday meals",isActive:!0},{id:7,name:"Dinner",branchId:2,description:"Evening meals",isActive:!0},{id:8,name:"Snacks",branchId:3,description:"Light bites",isActive:!0},{id:9,name:"Soups",branchId:3,description:"Warm and comforting",isActive:!0},{id:10,name:"Salads",branchId:3,description:"Fresh and healthy",isActive:!0},{id:11,name:"Specials",branchId:4,description:"Chef's recommendations",isActive:!0},{id:12,name:"Combos",branchId:4,description:"Value meals",isActive:!0},{id:13,name:"Vegetarian",branchId:5,description:"Plant-based options",isActive:!0},{id:14,name:"Non-Vegetarian",branchId:5,description:"Meat-based dishes",isActive:!0}],bhe=[{id:1,name:"Spring Rolls",categoryId:1,branchId:1,price:120,description:"Crispy vegetable spring rolls served with sweet chili sauce",image:"https://images.unsplash.com/photo-1606505662538-0a89eb33e0d9?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8c3ByaW5nJTIwcm9sbHN8ZW58MHx8MHx8fDA%3D",isAvailable:!0},{id:2,name:"Paneer Tikka",categoryId:1,branchId:1,price:180,description:"Marinated cottage cheese grilled to perfection",image:"https://images.unsplash.com/photo-1567188040759-fb8a883dc6d8?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGFuZWVyJTIwdGlra2F8ZW58MHx8MHx8fDA%3D",isAvailable:!0},{id:3,name:"Butter Paneer",categoryId:2,branchId:1,price:250,description:"Tender PAneer in a rich buttery tomato sauce",image:"https://images.unsplash.com/photo-1603894584373-5ac82b2ae398?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YnV0dGVyJTIwY2hpY2tlbnxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:4,name:"Vegetable Biryani",categoryId:2,branchId:1,price:220,description:"Fragrant rice cooked with mixed vegetables and spices",image:"https://images.unsplash.com/photo-1589302168068-964664d93dc0?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YmlyeWFuaXxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:5,name:"Gulab Jamun",categoryId:3,branchId:1,price:100,description:"Sweet milk solids balls soaked in sugar syrup",image:"https://images.unsplash.com/photo-1605197161470-5d2a9af0ac7e?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Z3VsYWIlMjBqYW11bnxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:6,name:"Mango Lassi",categoryId:4,branchId:1,price:80,description:"Refreshing yogurt drink with mango pulp",image:"https://images.unsplash.com/photo-1626078436898-7c7f4f6dccf4?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bWFuZ28lMjBsYXNzaXxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:7,name:"Masala Dosa",categoryId:5,branchId:2,price:150,description:"Crispy rice crepe filled with spiced potatoes",image:"https://images.unsplash.com/photo-1589301760014-d929f3979dbc?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8ZG9zYXxlbnwwfHwwfHx8MA%3D%3D",isAvailable:!0},{id:8,name:"Sandwich",categoryId:6,branchId:2,price:160,description:"Grilled Potato with lettuce and mayo in toasted bread",image:"https://images.unsplash.com/photo-1521390188846-e2a3a97453a0?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Y2hpY2tlbiUyMHNhbmR3aWNofGVufDB8fDB8fHww",isAvailable:!0},{id:9,name:"Tandoori Paneer",categoryId:7,branchId:2,price:280,description:"Paneer marinated in yogurt and spices, cooked in a tandoor",image:"https://images.unsplash.com/photo-1610057099431-d73a1c9d2f2f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dGFuZG9vcmklMjBjaGlja2VufGVufDB8fDB8fHww",isAvailable:!0},{id:10,name:"Samosa",categoryId:8,branchId:3,price:40,description:"Crispy pastry filled with spiced potatoes and peas",image:"https://images.unsplash.com/photo-1601050690597-df0568f70950?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8c2Ftb3NhfGVufDB8fDB8fHww",isAvailable:!0}],jhe=({children:e})=>{const[t,r]=N.useState(yhe),[a,i]=N.useState(vhe),[s,l]=N.useState(bhe),[d,u]=N.useState(1),f=T=>{const _={...T,id:t.length>0?Math.max(...t.map(P=>P.id))+1:1,isActive:!0};return r([...t,_]),_},p=T=>{r(t.map(_=>_.id===T.id?T:_))},x=T=>{r(t.filter(_=>_.id!==T)),i(a.filter(_=>_.branchId!==T)),l(s.filter(_=>_.branchId!==T))},g=T=>{const _={...T,id:a.length>0?Math.max(...a.map(P=>P.id))+1:1,isActive:!0};return i([...a,_]),_},v=T=>{i(a.map(_=>_.id===T.id?T:_))},j=T=>{i(a.filter(_=>_.id!==T)),l(s.filter(_=>_.categoryId!==T))},b=T=>{const _={...T,id:s.length>0?Math.max(...s.map(P=>P.id))+1:1,isAvailable:!0};return l([...s,_]),_},y=T=>{l(s.map(_=>_.id===T.id?T:_))},C=T=>{l(s.filter(_=>_.id!==T))},A=T=>a.filter(_=>_.branchId===T),E=T=>s.filter(_=>_.categoryId===T),S=T=>s.filter(_=>_.branchId===T);return n.jsx(ghe.Provider,{value:{branches:t,categories:a,products:s,selectedBranch:d,setSelectedBranch:u,addBranch:f,updateBranch:p,deleteBranch:x,addCategory:g,updateCategory:v,deleteCategory:j,addProduct:b,updateProduct:y,deleteProduct:C,getCategoriesByBranch:A,getProductsByCategory:E,getProductsByBranch:S},children:e})},whe=console.error;console.error=(...e)=>{typeof e[0]=="string"&&e[0].includes("Received `true` for a non-boolean attribute `jsx`")||whe.apply(console,e)};yB.createRoot(document.getElementById("root")).render(n.jsx(Te.StrictMode,{children:n.jsx(jhe,{children:n.jsx(xhe,{})})}));
